{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Home\\NewArrivals\\index.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport Link from 'next/link'\nimport ProductItem from '@/components/Common/ProductItem'\nimport { useFilteredProducts } from '@/hooks/useFilteredProducts'\nimport { useProductFilters } from '@/hooks/useProductFilters'\nimport { adaptApiProductsToComponents } from '@/lib/adapters/product-adapter'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Sparkles, ArrowRight, Loader2 } from '@/lib/optimized-imports'\n\nconst NewArrival: React.FC = () => {\n  // Hook para obtener filtros actuales\n  const { filters } = useProductFilters({ syncWithUrl: true })\n\n  // Hook para obtener productos más recientes filtrados\n  const { data, isLoading, error } = useFilteredProducts({\n    categories: filters.categories.length > 0 ? filters.categories : undefined,\n    limit: 8,\n    sortBy: 'created_at',\n    sortOrder: 'desc',\n  })\n\n  // Obtener productos de la respuesta y adaptarlos al formato de componente\n  const apiProducts = data?.data || []\n  const products = adaptApiProductsToComponents(apiProducts)\n\n  // Título dinámico según filtros\n  const sectionTitle =\n    filters.categories.length > 0\n      ? `Novedades en ${filters.categories.length === 1 ? 'esta categoría' : 'estas categorías'}`\n      : 'Nuevos Productos'\n\n  return (\n    <section className='overflow-hidden pt-6 sm:pt-10 pb-4 sm:pb-6'>\n      <div className='max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0'>\n        {/* Section Header - Migrado al Design System */}\n        <div className='mb-8 sm:mb-10 flex items-center justify-between'>\n          <div>\n            <div className='flex items-center gap-2.5 font-medium text-gray-700 mb-1.5'>\n              <div className='w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center'>\n                <Sparkles className='w-3 h-3 text-primary' />\n              </div>\n              <span>Esta Semana</span>\n              <Badge variant='info' size='sm'>\n                Nuevos\n              </Badge>\n            </div>\n            <h2 className='font-semibold text-xl xl:text-heading-5 text-gray-900'>\n              {sectionTitle}\n            </h2>\n          </div>\n\n          {/* Botón migrado al Design System */}\n          <Button variant='outline' asChild>\n            <Link href='/shop-with-sidebar'>\n              Ver Todos\n              <ArrowRight className='ml-2 h-4 w-4' />\n            </Link>\n          </Button>\n        </div>\n\n        {/* Loading State - Mobile-First 2 columnas */}\n        {isLoading ? (\n          <div className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9'>\n            {[...Array(8)].map((_, index) => (\n              <Card key={index} className='overflow-hidden'>\n                <div className='animate-pulse'>\n                  <div className='bg-gray-200 h-32 md:h-48 rounded-t-lg'></div>\n                  <CardContent className='p-2 md:p-4'>\n                    <div className='space-y-2 md:space-y-3'>\n                      <div className='bg-gray-200 h-3 md:h-4 rounded w-3/4'></div>\n                      <div className='bg-gray-200 h-3 md:h-4 rounded w-1/2'></div>\n                      <div className='bg-gray-200 h-4 md:h-6 rounded w-1/3'></div>\n                    </div>\n                  </CardContent>\n                </div>\n              </Card>\n            ))}\n          </div>\n        ) : error ? (\n          /* Error State - Mejorado con Design System */\n          <Card variant='outlined' className='border-red-200 bg-red-50'>\n            <CardContent className='p-8 text-center'>\n              <div className='flex flex-col items-center gap-3'>\n                <div className='w-12 h-12 rounded-full bg-red-100 flex items-center justify-center'>\n                  <span className='text-red-600 text-xl'>⚠️</span>\n                </div>\n                <div>\n                  <h3 className='font-semibold text-red-900 mb-1'>Error al cargar productos</h3>\n                  <p className='text-red-700 text-sm'>\n                    {error instanceof Error\n                      ? error.message\n                      : typeof error === 'string'\n                        ? error\n                        : 'Error desconocido'}\n                  </p>\n                </div>\n                <Button\n                  variant='outline'\n                  size='sm'\n                  onClick={() => window.location.reload()}\n                  className='border-red-300 text-red-700 hover:bg-red-100'\n                >\n                  Reintentar\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        ) : (\n          /* Products Grid - Mobile-First 2 columnas */\n          <div className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9'>\n            {products.map((item, key) => (\n              <ProductItem item={item} key={key} />\n            ))}\n          </div>\n        )}\n\n        {/* Empty State - Nuevo con Design System */}\n        {!isLoading && !error && products.length === 0 && (\n          <Card variant='outlined' className='border-gray-200'>\n            <CardContent className='p-12 text-center'>\n              <div className='flex flex-col items-center gap-4'>\n                <div className='w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center'>\n                  <Sparkles className='w-8 h-8 text-gray-400' />\n                </div>\n                <div>\n                  <h3 className='font-semibold text-gray-900 mb-2'>No hay productos nuevos</h3>\n                  <p className='text-gray-600 text-sm mb-4'>\n                    Pronto agregaremos nuevos productos de pinturería\n                  </p>\n                  <Button variant='outline' asChild>\n                    <Link href='/shop-with-sidebar'>Ver Catálogo Completo</Link>\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </section>\n  )\n}\n\nexport default NewArrival\n"],"names":["NewArrival","filters","useProductFilters","syncWithUrl","data","isLoading","error","useFilteredProducts","categories","length","undefined","limit","sortBy","sortOrder","apiProducts","products","adaptApiProductsToComponents","sectionTitle","section","className","div","Sparkles","span","Badge","variant","size","h2","Button","asChild","Link","href","ArrowRight","Array","map","_","index","Card","CardContent","h3","p","Error","message","onClick","window","location","reload","item","key","ProductItem"],"mappings":"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"}