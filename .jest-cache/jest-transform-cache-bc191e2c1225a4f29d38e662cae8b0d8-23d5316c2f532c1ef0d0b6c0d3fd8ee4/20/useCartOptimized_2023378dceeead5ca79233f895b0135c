717dc7ba29b7c1c96dac64c2134cd15c
// ===================================
// HOOK OPTIMIZADO: useCartOptimized
// ===================================
// Versión optimizada del hook de carrito con mejor performance,
// type safety mejorado y gestión de estado más eficiente
"use strict";

/* istanbul ignore next */
function cov_kmmg4zt8k() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\optimized\\useCartOptimized.ts";
  var hash = "a60c211f1d6c31bff3850dae00cad44457690b81";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\optimized\\useCartOptimized.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 9,
          column: 3
        }
      },
      "1": {
        start: {
          line: 10,
          column: 0
        },
        end: {
          line: 15,
          column: 3
        }
      },
      "2": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 32
        }
      },
      "3": {
        start: {
          line: 16,
          column: 15
        },
        end: {
          line: 16,
          column: 31
        }
      },
      "4": {
        start: {
          line: 17,
          column: 17
        },
        end: {
          line: 17,
          column: 38
        }
      },
      "5": {
        start: {
          line: 18,
          column: 15
        },
        end: {
          line: 18,
          column: 43
        }
      },
      "6": {
        start: {
          line: 19,
          column: 19
        },
        end: {
          line: 19,
          column: 61
        }
      },
      "7": {
        start: {
          line: 23,
          column: 20
        },
        end: {
          line: 23,
          column: 34
        }
      },
      "8": {
        start: {
          line: 24,
          column: 30
        },
        end: {
          line: 24,
          column: 32
        }
      },
      "9": {
        start: {
          line: 25,
          column: 30
        },
        end: {
          line: 25,
          column: 34
        }
      },
      "10": {
        start: {
          line: 27,
          column: 146
        },
        end: {
          line: 27,
          column: 153
        }
      },
      "11": {
        start: {
          line: 31,
          column: 21
        },
        end: {
          line: 31,
          column: 49
        }
      },
      "12": {
        start: {
          line: 32,
          column: 31
        },
        end: {
          line: 32,
          column: 54
        }
      },
      "13": {
        start: {
          line: 34,
          column: 18
        },
        end: {
          line: 34,
          column: 72
        }
      },
      "14": {
        start: {
          line: 35,
          column: 23
        },
        end: {
          line: 35,
          column: 78
        }
      },
      "15": {
        start: {
          line: 36,
          column: 26
        },
        end: {
          line: 36,
          column: 84
        }
      },
      "16": {
        start: {
          line: 38,
          column: 27
        },
        end: {
          line: 38,
          column: 51
        }
      },
      "17": {
        start: {
          line: 39,
          column: 24
        },
        end: {
          line: 39,
          column: 46
        }
      },
      "18": {
        start: {
          line: 43,
          column: 20
        },
        end: {
          line: 60,
          column: 6
        }
      },
      "19": {
        start: {
          line: 44,
          column: 27
        },
        end: {
          line: 44,
          column: 39
        }
      },
      "20": {
        start: {
          line: 45,
          column: 25
        },
        end: {
          line: 45,
          column: 39
        }
      },
      "21": {
        start: {
          line: 46,
          column: 24
        },
        end: {
          line: 46,
          column: 33
        }
      },
      "22": {
        start: {
          line: 47,
          column: 33
        },
        end: {
          line: 47,
          column: 74
        }
      },
      "23": {
        start: {
          line: 48,
          column: 8
        },
        end: {
          line: 55,
          column: 10
        }
      },
      "24": {
        start: {
          line: 64,
          column: 20
        },
        end: {
          line: 82,
          column: 6
        }
      },
      "25": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 69,
          column: 9
        }
      },
      "26": {
        start: {
          line: 67,
          column: 12
        },
        end: {
          line: 67,
          column: 106
        }
      },
      "27": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 68,
          column: 19
        }
      },
      "28": {
        start: {
          line: 70,
          column: 25
        },
        end: {
          line: 73,
          column: 9
        }
      },
      "29": {
        start: {
          line: 74,
          column: 8
        },
        end: {
          line: 74,
          column: 58
        }
      },
      "30": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 78,
          column: 9
        }
      },
      "31": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 77,
          column: 34
        }
      },
      "32": {
        start: {
          line: 83,
          column: 23
        },
        end: {
          line: 92,
          column: 6
        }
      },
      "33": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 84,
          column: 61
        }
      },
      "34": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "35": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 34
        }
      },
      "36": {
        start: {
          line: 93,
          column: 27
        },
        end: {
          line: 109,
          column: 6
        }
      },
      "37": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 98,
          column: 9
        }
      },
      "38": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 31
        }
      },
      "39": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 19
        }
      },
      "40": {
        start: {
          line: 99,
          column: 8
        },
        end: {
          line: 101,
          column: 9
        }
      },
      "41": {
        start: {
          line: 100,
          column: 12
        },
        end: {
          line: 100,
          column: 45
        }
      },
      "42": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 105,
          column: 12
        }
      },
      "43": {
        start: {
          line: 110,
          column: 26
        },
        end: {
          line: 114,
          column: 6
        }
      },
      "44": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 111,
          column: 46
        }
      },
      "45": {
        start: {
          line: 118,
          column: 20
        },
        end: {
          line: 122,
          column: 6
        }
      },
      "46": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 119,
          column: 54
        }
      },
      "47": {
        start: {
          line: 119,
          column: 34
        },
        end: {
          line: 119,
          column: 52
        }
      },
      "48": {
        start: {
          line: 123,
          column: 20
        },
        end: {
          line: 127,
          column: 6
        }
      },
      "49": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 54
        }
      },
      "50": {
        start: {
          line: 124,
          column: 34
        },
        end: {
          line: 124,
          column: 52
        }
      },
      "51": {
        start: {
          line: 128,
          column: 28
        },
        end: {
          line: 133,
          column: 6
        }
      },
      "52": {
        start: {
          line: 129,
          column: 21
        },
        end: {
          line: 129,
          column: 36
        }
      },
      "53": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 130,
          column: 35
        }
      },
      "54": {
        start: {
          line: 137,
          column: 31
        },
        end: {
          line: 153,
          column: 6
        }
      },
      "55": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "56": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 139,
          column: 19
        }
      },
      "57": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 150,
          column: 9
        }
      },
      "58": {
        start: {
          line: 142,
          column: 29
        },
        end: {
          line: 146,
          column: 13
        }
      },
      "59": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 147,
          column: 72
        }
      },
      "60": {
        start: {
          line: 149,
          column: 12
        },
        end: {
          line: 149,
          column: 77
        }
      },
      "61": {
        start: {
          line: 154,
          column: 33
        },
        end: {
          line: 175,
          column: 6
        }
      },
      "62": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 157,
          column: 9
        }
      },
      "63": {
        start: {
          line: 156,
          column: 12
        },
        end: {
          line: 156,
          column: 22
        }
      },
      "64": {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 172,
          column: 9
        }
      },
      "65": {
        start: {
          line: 159,
          column: 27
        },
        end: {
          line: 159,
          column: 60
        }
      },
      "66": {
        start: {
          line: 160,
          column: 12
        },
        end: {
          line: 162,
          column: 13
        }
      },
      "67": {
        start: {
          line: 161,
          column: 16
        },
        end: {
          line: 161,
          column: 26
        }
      },
      "68": {
        start: {
          line: 163,
          column: 29
        },
        end: {
          line: 163,
          column: 47
        }
      },
      "69": {
        start: {
          line: 165,
          column: 12
        },
        end: {
          line: 167,
          column: 13
        }
      },
      "70": {
        start: {
          line: 166,
          column: 16
        },
        end: {
          line: 166,
          column: 38
        }
      },
      "71": {
        start: {
          line: 168,
          column: 12
        },
        end: {
          line: 168,
          column: 22
        }
      },
      "72": {
        start: {
          line: 170,
          column: 12
        },
        end: {
          line: 170,
          column: 79
        }
      },
      "73": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 171,
          column: 22
        }
      },
      "74": {
        start: {
          line: 176,
          column: 21
        },
        end: {
          line: 197,
          column: 6
        }
      },
      "75": {
        start: {
          line: 177,
          column: 8
        },
        end: {
          line: 179,
          column: 9
        }
      },
      "76": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 178,
          column: 19
        }
      },
      "77": {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 181,
          column: 34
        }
      },
      "78": {
        start: {
          line: 183,
          column: 8
        },
        end: {
          line: 190,
          column: 9
        }
      },
      "79": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 189,
          column: 13
        }
      },
      "80": {
        start: {
          line: 188,
          column: 16
        },
        end: {
          line: 188,
          column: 77
        }
      },
      "81": {
        start: {
          line: 198,
          column: 21
        },
        end: {
          line: 229,
          column: 6
        }
      },
      "82": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 201,
          column: 9
        }
      },
      "83": {
        start: {
          line: 200,
          column: 12
        },
        end: {
          line: 200,
          column: 19
        }
      },
      "84": {
        start: {
          line: 202,
          column: 8
        },
        end: {
          line: 222,
          column: 9
        }
      },
      "85": {
        start: {
          line: 203,
          column: 28
        },
        end: {
          line: 203,
          column: 30
        }
      },
      "86": {
        start: {
          line: 205,
          column: 12
        },
        end: {
          line: 212,
          column: 13
        }
      },
      "87": {
        start: {
          line: 206,
          column: 16
        },
        end: {
          line: 211,
          column: 17
        }
      },
      "88": {
        start: {
          line: 210,
          column: 20
        },
        end: {
          line: 210,
          column: 80
        }
      },
      "89": {
        start: {
          line: 214,
          column: 12
        },
        end: {
          line: 216,
          column: 13
        }
      },
      "90": {
        start: {
          line: 215,
          column: 16
        },
        end: {
          line: 215,
          column: 51
        }
      },
      "91": {
        start: {
          line: 217,
          column: 12
        },
        end: {
          line: 219,
          column: 13
        }
      },
      "92": {
        start: {
          line: 218,
          column: 16
        },
        end: {
          line: 218,
          column: 65
        }
      },
      "93": {
        start: {
          line: 221,
          column: 12
        },
        end: {
          line: 221,
          column: 60
        }
      },
      "94": {
        start: {
          line: 230,
          column: 25
        },
        end: {
          line: 255,
          column: 6
        }
      },
      "95": {
        start: {
          line: 231,
          column: 8
        },
        end: {
          line: 233,
          column: 9
        }
      },
      "96": {
        start: {
          line: 232,
          column: 12
        },
        end: {
          line: 232,
          column: 19
        }
      },
      "97": {
        start: {
          line: 234,
          column: 8
        },
        end: {
          line: 248,
          column: 9
        }
      },
      "98": {
        start: {
          line: 236,
          column: 35
        },
        end: {
          line: 236,
          column: 57
        }
      },
      "99": {
        start: {
          line: 237,
          column: 12
        },
        end: {
          line: 243,
          column: 13
        }
      },
      "100": {
        start: {
          line: 240,
          column: 16
        },
        end: {
          line: 240,
          column: 70
        }
      },
      "101": {
        start: {
          line: 242,
          column: 16
        },
        end: {
          line: 242,
          column: 53
        }
      },
      "102": {
        start: {
          line: 245,
          column: 12
        },
        end: {
          line: 245,
          column: 29
        }
      },
      "103": {
        start: {
          line: 247,
          column: 12
        },
        end: {
          line: 247,
          column: 77
        }
      },
      "104": {
        start: {
          line: 259,
          column: 25
        },
        end: {
          line: 263,
          column: 6
        }
      },
      "105": {
        start: {
          line: 260,
          column: 8
        },
        end: {
          line: 260,
          column: 138
        }
      },
      "106": {
        start: {
          line: 260,
          column: 35
        },
        end: {
          line: 260,
          column: 136
        }
      },
      "107": {
        start: {
          line: 264,
          column: 28
        },
        end: {
          line: 268,
          column: 6
        }
      },
      "108": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 265,
          column: 142
        }
      },
      "109": {
        start: {
          line: 265,
          column: 36
        },
        end: {
          line: 265,
          column: 140
        }
      },
      "110": {
        start: {
          line: 273,
          column: 4
        },
        end: {
          line: 301,
          column: 7
        }
      },
      "111": {
        start: {
          line: 274,
          column: 8
        },
        end: {
          line: 276,
          column: 9
        }
      },
      "112": {
        start: {
          line: 275,
          column: 12
        },
        end: {
          line: 275,
          column: 19
        }
      },
      "113": {
        start: {
          line: 277,
          column: 34
        },
        end: {
          line: 277,
          column: 55
        }
      },
      "114": {
        start: {
          line: 279,
          column: 8
        },
        end: {
          line: 281,
          column: 9
        }
      },
      "115": {
        start: {
          line: 280,
          column: 12
        },
        end: {
          line: 280,
          column: 19
        }
      },
      "116": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 282,
          column: 48
        }
      },
      "117": {
        start: {
          line: 284,
          column: 8
        },
        end: {
          line: 286,
          column: 9
        }
      },
      "118": {
        start: {
          line: 285,
          column: 12
        },
        end: {
          line: 285,
          column: 49
        }
      },
      "119": {
        start: {
          line: 288,
          column: 8
        },
        end: {
          line: 290,
          column: 27
        }
      },
      "120": {
        start: {
          line: 289,
          column: 12
        },
        end: {
          line: 289,
          column: 23
        }
      },
      "121": {
        start: {
          line: 291,
          column: 8
        },
        end: {
          line: 295,
          column: 10
        }
      },
      "122": {
        start: {
          line: 292,
          column: 12
        },
        end: {
          line: 294,
          column: 13
        }
      },
      "123": {
        start: {
          line: 293,
          column: 16
        },
        end: {
          line: 293,
          column: 53
        }
      },
      "124": {
        start: {
          line: 303,
          column: 4
        },
        end: {
          line: 311,
          column: 7
        }
      },
      "125": {
        start: {
          line: 304,
          column: 8
        },
        end: {
          line: 306,
          column: 9
        }
      },
      "126": {
        start: {
          line: 305,
          column: 12
        },
        end: {
          line: 305,
          column: 41
        }
      },
      "127": {
        start: {
          line: 313,
          column: 4
        },
        end: {
          line: 322,
          column: 7
        }
      },
      "128": {
        start: {
          line: 314,
          column: 8
        },
        end: {
          line: 317,
          column: 9
        }
      },
      "129": {
        start: {
          line: 316,
          column: 12
        },
        end: {
          line: 316,
          column: 23
        }
      },
      "130": {
        start: {
          line: 324,
          column: 4
        },
        end: {
          line: 335,
          column: 7
        }
      },
      "131": {
        start: {
          line: 325,
          column: 8
        },
        end: {
          line: 325,
          column: 110
        }
      },
      "132": {
        start: {
          line: 339,
          column: 4
        },
        end: {
          line: 364,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 12,
            column: 9
          },
          end: {
            line: 12,
            column: 10
          }
        },
        loc: {
          start: {
            line: 12,
            column: 20
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "1": {
        name: "useCartOptimized",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 25
          }
        },
        loc: {
          start: {
            line: 26,
            column: 40
          },
          end: {
            line: 365,
            column: 1
          }
        },
        line: 26
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 43,
            column: 40
          },
          end: {
            line: 43,
            column: 41
          }
        },
        loc: {
          start: {
            line: 43,
            column: 44
          },
          end: {
            line: 56,
            column: 5
          }
        },
        line: 43
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 64,
            column: 44
          },
          end: {
            line: 64,
            column: 45
          }
        },
        loc: {
          start: {
            line: 64,
            column: 66
          },
          end: {
            line: 79,
            column: 5
          }
        },
        line: 64
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 83,
            column: 47
          },
          end: {
            line: 83,
            column: 48
          }
        },
        loc: {
          start: {
            line: 83,
            column: 57
          },
          end: {
            line: 89,
            column: 5
          }
        },
        line: 83
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 93,
            column: 51
          },
          end: {
            line: 93,
            column: 52
          }
        },
        loc: {
          start: {
            line: 93,
            column: 71
          },
          end: {
            line: 106,
            column: 5
          }
        },
        line: 93
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 110,
            column: 50
          },
          end: {
            line: 110,
            column: 51
          }
        },
        loc: {
          start: {
            line: 110,
            column: 54
          },
          end: {
            line: 112,
            column: 5
          }
        },
        line: 110
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 118,
            column: 44
          },
          end: {
            line: 118,
            column: 45
          }
        },
        loc: {
          start: {
            line: 118,
            column: 54
          },
          end: {
            line: 120,
            column: 5
          }
        },
        line: 118
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 119,
            column: 26
          },
          end: {
            line: 119,
            column: 27
          }
        },
        loc: {
          start: {
            line: 119,
            column: 34
          },
          end: {
            line: 119,
            column: 52
          }
        },
        line: 119
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 123,
            column: 44
          },
          end: {
            line: 123,
            column: 45
          }
        },
        loc: {
          start: {
            line: 123,
            column: 54
          },
          end: {
            line: 125,
            column: 5
          }
        },
        line: 123
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 124,
            column: 26
          },
          end: {
            line: 124,
            column: 27
          }
        },
        loc: {
          start: {
            line: 124,
            column: 34
          },
          end: {
            line: 124,
            column: 52
          }
        },
        line: 124
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 128,
            column: 52
          },
          end: {
            line: 128,
            column: 53
          }
        },
        loc: {
          start: {
            line: 128,
            column: 62
          },
          end: {
            line: 131,
            column: 5
          }
        },
        line: 128
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 137,
            column: 55
          },
          end: {
            line: 137,
            column: 56
          }
        },
        loc: {
          start: {
            line: 137,
            column: 68
          },
          end: {
            line: 151,
            column: 5
          }
        },
        line: 137
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 154,
            column: 57
          },
          end: {
            line: 154,
            column: 58
          }
        },
        loc: {
          start: {
            line: 154,
            column: 61
          },
          end: {
            line: 173,
            column: 5
          }
        },
        line: 154
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 176,
            column: 45
          },
          end: {
            line: 176,
            column: 46
          }
        },
        loc: {
          start: {
            line: 176,
            column: 55
          },
          end: {
            line: 191,
            column: 5
          }
        },
        line: 176
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 198,
            column: 45
          },
          end: {
            line: 198,
            column: 46
          }
        },
        loc: {
          start: {
            line: 198,
            column: 55
          },
          end: {
            line: 223,
            column: 5
          }
        },
        line: 198
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 230,
            column: 49
          },
          end: {
            line: 230,
            column: 50
          }
        },
        loc: {
          start: {
            line: 230,
            column: 59
          },
          end: {
            line: 249,
            column: 5
          }
        },
        line: 230
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 259,
            column: 49
          },
          end: {
            line: 259,
            column: 50
          }
        },
        loc: {
          start: {
            line: 259,
            column: 53
          },
          end: {
            line: 261,
            column: 5
          }
        },
        line: 259
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 260,
            column: 27
          },
          end: {
            line: 260,
            column: 28
          }
        },
        loc: {
          start: {
            line: 260,
            column: 35
          },
          end: {
            line: 260,
            column: 136
          }
        },
        line: 260
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 264,
            column: 52
          },
          end: {
            line: 264,
            column: 53
          }
        },
        loc: {
          start: {
            line: 264,
            column: 56
          },
          end: {
            line: 266,
            column: 5
          }
        },
        line: 264
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 265,
            column: 28
          },
          end: {
            line: 265,
            column: 29
          }
        },
        loc: {
          start: {
            line: 265,
            column: 36
          },
          end: {
            line: 265,
            column: 140
          }
        },
        line: 265
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 273,
            column: 26
          },
          end: {
            line: 273,
            column: 27
          }
        },
        loc: {
          start: {
            line: 273,
            column: 30
          },
          end: {
            line: 296,
            column: 5
          }
        },
        line: 273
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 288,
            column: 44
          },
          end: {
            line: 288,
            column: 45
          }
        },
        loc: {
          start: {
            line: 288,
            column: 48
          },
          end: {
            line: 290,
            column: 9
          }
        },
        line: 288
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 291,
            column: 15
          },
          end: {
            line: 291,
            column: 16
          }
        },
        loc: {
          start: {
            line: 291,
            column: 19
          },
          end: {
            line: 295,
            column: 9
          }
        },
        line: 291
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 303,
            column: 26
          },
          end: {
            line: 303,
            column: 27
          }
        },
        loc: {
          start: {
            line: 303,
            column: 30
          },
          end: {
            line: 307,
            column: 5
          }
        },
        line: 303
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 313,
            column: 26
          },
          end: {
            line: 313,
            column: 27
          }
        },
        loc: {
          start: {
            line: 313,
            column: 30
          },
          end: {
            line: 318,
            column: 5
          }
        },
        line: 313
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 324,
            column: 26
          },
          end: {
            line: 324,
            column: 27
          }
        },
        loc: {
          start: {
            line: 324,
            column: 30
          },
          end: {
            line: 330,
            column: 5
          }
        },
        line: 324
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 26,
            column: 26
          },
          end: {
            line: 26,
            column: 38
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 26,
            column: 36
          },
          end: {
            line: 26,
            column: 38
          }
        }],
        line: 26
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 12
          },
          end: {
            line: 27,
            column: 36
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 27,
            column: 32
          },
          end: {
            line: 27,
            column: 36
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 27,
            column: 38
          },
          end: {
            line: 27,
            column: 76
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 27,
            column: 55
          },
          end: {
            line: 27,
            column: 76
          }
        }],
        line: 27
      },
      "3": {
        loc: {
          start: {
            line: 27,
            column: 78
          },
          end: {
            line: 27,
            column: 99
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 27,
            column: 95
          },
          end: {
            line: 27,
            column: 99
          }
        }],
        line: 27
      },
      "4": {
        loc: {
          start: {
            line: 47,
            column: 33
          },
          end: {
            line: 47,
            column: 74
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 47,
            column: 44
          },
          end: {
            line: 47,
            column: 70
          }
        }, {
          start: {
            line: 47,
            column: 73
          },
          end: {
            line: 47,
            column: 74
          }
        }],
        line: 47
      },
      "5": {
        loc: {
          start: {
            line: 64,
            column: 51
          },
          end: {
            line: 64,
            column: 63
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 64,
            column: 62
          },
          end: {
            line: 64,
            column: 63
          }
        }],
        line: 64
      },
      "6": {
        loc: {
          start: {
            line: 66,
            column: 8
          },
          end: {
            line: 69,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 8
          },
          end: {
            line: 69,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "7": {
        loc: {
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 66,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 66,
            column: 25
          }
        }, {
          start: {
            line: 66,
            column: 29
          },
          end: {
            line: 66,
            column: 61
          }
        }],
        line: 66
      },
      "8": {
        loc: {
          start: {
            line: 76,
            column: 8
          },
          end: {
            line: 78,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 76,
            column: 8
          },
          end: {
            line: 78,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 76
      },
      "9": {
        loc: {
          start: {
            line: 86,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 86,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 86
      },
      "10": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 98,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 98,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "11": {
        loc: {
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 101,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 101,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "12": {
        loc: {
          start: {
            line: 130,
            column: 15
          },
          end: {
            line: 130,
            column: 34
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 130,
            column: 15
          },
          end: {
            line: 130,
            column: 29
          }
        }, {
          start: {
            line: 130,
            column: 33
          },
          end: {
            line: 130,
            column: 34
          }
        }],
        line: 130
      },
      "13": {
        loc: {
          start: {
            line: 138,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 138,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 138
      },
      "14": {
        loc: {
          start: {
            line: 138,
            column: 12
          },
          end: {
            line: 138,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 138,
            column: 12
          },
          end: {
            line: 138,
            column: 30
          }
        }, {
          start: {
            line: 138,
            column: 34
          },
          end: {
            line: 138,
            column: 63
          }
        }],
        line: 138
      },
      "15": {
        loc: {
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 155
      },
      "16": {
        loc: {
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 30
          }
        }, {
          start: {
            line: 155,
            column: 34
          },
          end: {
            line: 155,
            column: 63
          }
        }],
        line: 155
      },
      "17": {
        loc: {
          start: {
            line: 160,
            column: 12
          },
          end: {
            line: 162,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 160,
            column: 12
          },
          end: {
            line: 162,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 160
      },
      "18": {
        loc: {
          start: {
            line: 165,
            column: 12
          },
          end: {
            line: 167,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 165,
            column: 12
          },
          end: {
            line: 167,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 165
      },
      "19": {
        loc: {
          start: {
            line: 165,
            column: 16
          },
          end: {
            line: 165,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 165,
            column: 16
          },
          end: {
            line: 165,
            column: 30
          }
        }, {
          start: {
            line: 165,
            column: 34
          },
          end: {
            line: 165,
            column: 63
          }
        }],
        line: 165
      },
      "20": {
        loc: {
          start: {
            line: 177,
            column: 8
          },
          end: {
            line: 179,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 177,
            column: 8
          },
          end: {
            line: 179,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 177
      },
      "21": {
        loc: {
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 190,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 190,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 183
      },
      "22": {
        loc: {
          start: {
            line: 183,
            column: 12
          },
          end: {
            line: 183,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 183,
            column: 12
          },
          end: {
            line: 183,
            column: 26
          }
        }, {
          start: {
            line: 183,
            column: 30
          },
          end: {
            line: 183,
            column: 38
          }
        }],
        line: 183
      },
      "23": {
        loc: {
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 201,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 201,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 199
      },
      "24": {
        loc: {
          start: {
            line: 205,
            column: 12
          },
          end: {
            line: 212,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 205,
            column: 12
          },
          end: {
            line: 212,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 205
      },
      "25": {
        loc: {
          start: {
            line: 205,
            column: 16
          },
          end: {
            line: 205,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 205,
            column: 16
          },
          end: {
            line: 205,
            column: 30
          }
        }, {
          start: {
            line: 205,
            column: 34
          },
          end: {
            line: 205,
            column: 42
          }
        }],
        line: 205
      },
      "26": {
        loc: {
          start: {
            line: 214,
            column: 12
          },
          end: {
            line: 216,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 214,
            column: 12
          },
          end: {
            line: 216,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 214
      },
      "27": {
        loc: {
          start: {
            line: 217,
            column: 12
          },
          end: {
            line: 219,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 217,
            column: 12
          },
          end: {
            line: 219,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 217
      },
      "28": {
        loc: {
          start: {
            line: 231,
            column: 8
          },
          end: {
            line: 233,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 231,
            column: 8
          },
          end: {
            line: 233,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 231
      },
      "29": {
        loc: {
          start: {
            line: 231,
            column: 12
          },
          end: {
            line: 231,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 231,
            column: 12
          },
          end: {
            line: 231,
            column: 27
          }
        }, {
          start: {
            line: 231,
            column: 31
          },
          end: {
            line: 231,
            column: 40
          }
        }],
        line: 231
      },
      "30": {
        loc: {
          start: {
            line: 237,
            column: 12
          },
          end: {
            line: 243,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 237,
            column: 12
          },
          end: {
            line: 243,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 237
      },
      "31": {
        loc: {
          start: {
            line: 260,
            column: 35
          },
          end: {
            line: 260,
            column: 136
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 260,
            column: 35
          },
          end: {
            line: 260,
            column: 42
          }
        }, {
          start: {
            line: 260,
            column: 46
          },
          end: {
            line: 260,
            column: 55
          }
        }, {
          start: {
            line: 260,
            column: 59
          },
          end: {
            line: 260,
            column: 73
          }
        }, {
          start: {
            line: 260,
            column: 77
          },
          end: {
            line: 260,
            column: 94
          }
        }, {
          start: {
            line: 260,
            column: 98
          },
          end: {
            line: 260,
            column: 136
          }
        }],
        line: 260
      },
      "32": {
        loc: {
          start: {
            line: 265,
            column: 36
          },
          end: {
            line: 265,
            column: 140
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 265,
            column: 36
          },
          end: {
            line: 265,
            column: 44
          }
        }, {
          start: {
            line: 265,
            column: 48
          },
          end: {
            line: 265,
            column: 58
          }
        }, {
          start: {
            line: 265,
            column: 62
          },
          end: {
            line: 265,
            column: 77
          }
        }, {
          start: {
            line: 265,
            column: 81
          },
          end: {
            line: 265,
            column: 99
          }
        }, {
          start: {
            line: 265,
            column: 103
          },
          end: {
            line: 265,
            column: 140
          }
        }],
        line: 265
      },
      "33": {
        loc: {
          start: {
            line: 274,
            column: 8
          },
          end: {
            line: 276,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 274,
            column: 8
          },
          end: {
            line: 276,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 274
      },
      "34": {
        loc: {
          start: {
            line: 279,
            column: 8
          },
          end: {
            line: 281,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 279,
            column: 8
          },
          end: {
            line: 281,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 279
      },
      "35": {
        loc: {
          start: {
            line: 284,
            column: 8
          },
          end: {
            line: 286,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 284,
            column: 8
          },
          end: {
            line: 286,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 284
      },
      "36": {
        loc: {
          start: {
            line: 292,
            column: 12
          },
          end: {
            line: 294,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 292,
            column: 12
          },
          end: {
            line: 294,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 292
      },
      "37": {
        loc: {
          start: {
            line: 304,
            column: 8
          },
          end: {
            line: 306,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 304,
            column: 8
          },
          end: {
            line: 306,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 304
      },
      "38": {
        loc: {
          start: {
            line: 314,
            column: 8
          },
          end: {
            line: 317,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 314,
            column: 8
          },
          end: {
            line: 317,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 314
      },
      "39": {
        loc: {
          start: {
            line: 314,
            column: 12
          },
          end: {
            line: 314,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 314,
            column: 12
          },
          end: {
            line: 314,
            column: 20
          }
        }, {
          start: {
            line: 314,
            column: 24
          },
          end: {
            line: 314,
            column: 29
          }
        }],
        line: 314
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0],
      "3": [0],
      "4": [0, 0],
      "5": [0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0, 0, 0, 0],
      "32": [0, 0, 0, 0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\optimized\\useCartOptimized.ts"],
      sourcesContent: ["// ===================================\r\n// HOOK OPTIMIZADO: useCartOptimized\r\n// ===================================\r\n// Versi\xF3n optimizada del hook de carrito con mejor performance,\r\n// type safety mejorado y gesti\xF3n de estado m\xE1s eficiente\r\n\r\nimport { useCallback, useMemo, useEffect, useRef } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { useAppDispatch, useAppSelector } from '@/redux/store';\r\nimport { \r\n  selectCartItems, \r\n  selectTotalPrice,\r\n  selectTotalQuantity,\r\n  addItemToCart,\r\n  removeItemFromCart,\r\n  updateItemQuantity,\r\n  clearCart,\r\n  hydrateCart,\r\n  replaceCart,\r\n  CartItem\r\n} from '@/redux/features/cart-slice';\r\n\r\n// ===================================\r\n// TIPOS Y INTERFACES\r\n// ===================================\r\n\r\nexport interface CartItemWithMetadata extends CartItem {\r\n  addedAt: number;\r\n  lastModified: number;\r\n  isTemporary?: boolean;\r\n}\r\n\r\nexport interface CartSummary {\r\n  totalItems: number;\r\n  totalPrice: number;\r\n  totalQuantity: number;\r\n  hasItems: boolean;\r\n  isEmpty: boolean;\r\n  averageItemPrice: number;\r\n}\r\n\r\nexport interface UseCartOptimizedOptions {\r\n  /** Habilitar persistencia autom\xE1tica */\r\n  enablePersistence?: boolean;\r\n  /** Tiempo de debounce para guardado autom\xE1tico (ms) */\r\n  saveDebounceMs?: number;\r\n  /** Habilitar sincronizaci\xF3n con usuario autenticado */\r\n  enableUserSync?: boolean;\r\n  /** Callback cuando el carrito cambia */\r\n  onCartChange?: (items: CartItem[], summary: CartSummary) => void;\r\n  /** Callback cuando se agrega un item */\r\n  onItemAdded?: (item: CartItem) => void;\r\n  /** Callback cuando se remueve un item */\r\n  onItemRemoved?: (itemId: string) => void;\r\n}\r\n\r\nexport interface UseCartOptimizedReturn {\r\n  // Estado del carrito\r\n  items: CartItem[];\r\n  summary: CartSummary;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  \r\n  // Estado de usuario\r\n  isAuthenticated: boolean;\r\n  userId: string | undefined;\r\n  \r\n  // Funciones de manipulaci\xF3n\r\n  addItem: (item: Omit<CartItem, 'quantity'>, quantity?: number) => void;\r\n  removeItem: (itemId: string) => void;\r\n  updateQuantity: (itemId: string, quantity: number) => void;\r\n  clearAllItems: () => void;\r\n  \r\n  // Funciones de utilidad\r\n  getItem: (itemId: string) => CartItem | undefined;\r\n  hasItem: (itemId: string) => boolean;\r\n  getItemQuantity: (itemId: string) => number;\r\n  \r\n  // Funciones de persistencia\r\n  saveCart: () => Promise<void>;\r\n  loadCart: () => Promise<void>;\r\n  syncWithUser: () => Promise<void>;\r\n  \r\n  // Funciones de validaci\xF3n\r\n  validateCart: () => boolean;\r\n  getInvalidItems: () => CartItem[];\r\n}\r\n\r\n// ===================================\r\n// CONSTANTES\r\n// ===================================\r\n\r\nconst STORAGE_KEY = 'pinteya_cart';\r\nconst MAX_QUANTITY_PER_ITEM = 99;\r\nconst SAVE_DEBOUNCE_DEFAULT = 1000;\r\n\r\n// ===================================\r\n// HOOK PRINCIPAL OPTIMIZADO\r\n// ===================================\r\n\r\nexport function useCartOptimized(\r\n  options: UseCartOptimizedOptions = {}\r\n): UseCartOptimizedReturn {\r\n  \r\n  const {\r\n    enablePersistence = true,\r\n    saveDebounceMs = SAVE_DEBOUNCE_DEFAULT,\r\n    enableUserSync = true,\r\n    onCartChange,\r\n    onItemAdded,\r\n    onItemRemoved,\r\n  } = options;\r\n\r\n  // ===================================\r\n  // ESTADO Y SELECTORES OPTIMIZADOS\r\n  // ===================================\r\n\r\n  const dispatch = useAppDispatch();\r\n  const { user, isLoaded } = useAuth();\r\n  \r\n  // Selectores memoizados para mejor performance\r\n  const items = useAppSelector(selectCartItems);\r\n  const totalPrice = useAppSelector(selectTotalPrice);\r\n  const totalQuantity = useAppSelector(selectTotalQuantity);\r\n\r\n  // Referencias para optimizaci\xF3n\r\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n  const lastSaveRef = useRef<string>('');\r\n\r\n  // ===================================\r\n  // RESUMEN DEL CARRITO MEMOIZADO\r\n  // ===================================\r\n\r\n  const summary = useMemo<CartSummary>(() => {\r\n    const totalItems = items.length;\r\n    const hasItems = totalItems > 0;\r\n    const isEmpty = !hasItems;\r\n    const averageItemPrice = hasItems ? totalPrice / totalQuantity : 0;\r\n\r\n    return {\r\n      totalItems,\r\n      totalPrice,\r\n      totalQuantity,\r\n      hasItems,\r\n      isEmpty,\r\n      averageItemPrice,\r\n    };\r\n  }, [items.length, totalPrice, totalQuantity]);\r\n\r\n  // ===================================\r\n  // FUNCIONES DE MANIPULACI\xD3N OPTIMIZADAS\r\n  // ===================================\r\n\r\n  const addItem = useCallback((\r\n    item: Omit<CartItem, 'quantity'>, \r\n    quantity: number = 1\r\n  ) => {\r\n    // Validaciones\r\n    if (quantity <= 0 || quantity > MAX_QUANTITY_PER_ITEM) {\r\n      console.warn(`Cantidad inv\xE1lida: ${quantity}. Debe estar entre 1 y ${MAX_QUANTITY_PER_ITEM}`);\r\n      return;\r\n    }\r\n\r\n    const cartItem: CartItem = {\r\n      ...item,\r\n      quantity: Math.min(quantity, MAX_QUANTITY_PER_ITEM),\r\n    };\r\n\r\n    dispatch(addItemToCart(cartItem));\r\n    \r\n    // Callback optimizado\r\n    if (onItemAdded) {\r\n      onItemAdded(cartItem);\r\n    }\r\n  }, [dispatch, onItemAdded]);\r\n\r\n  const removeItem = useCallback((itemId: string) => {\r\n    dispatch(removeItemFromCart(itemId));\r\n    \r\n    // Callback optimizado\r\n    if (onItemRemoved) {\r\n      onItemRemoved(itemId);\r\n    }\r\n  }, [dispatch, onItemRemoved]);\r\n\r\n  const updateQuantity = useCallback((itemId: string, quantity: number) => {\r\n    // Validaciones\r\n    if (quantity <= 0) {\r\n      removeItem(itemId);\r\n      return;\r\n    }\r\n\r\n    if (quantity > MAX_QUANTITY_PER_ITEM) {\r\n      quantity = MAX_QUANTITY_PER_ITEM;\r\n    }\r\n\r\n    dispatch(updateItemQuantity({ id: itemId, quantity }));\r\n  }, [dispatch, removeItem]);\r\n\r\n  const clearAllItems = useCallback(() => {\r\n    dispatch(clearCart());\r\n  }, [dispatch]);\r\n\r\n  // ===================================\r\n  // FUNCIONES DE UTILIDAD OPTIMIZADAS\r\n  // ===================================\r\n\r\n  const getItem = useCallback((itemId: string): CartItem | undefined => {\r\n    return items.find(item => item.id === itemId);\r\n  }, [items]);\r\n\r\n  const hasItem = useCallback((itemId: string): boolean => {\r\n    return items.some(item => item.id === itemId);\r\n  }, [items]);\r\n\r\n  const getItemQuantity = useCallback((itemId: string): number => {\r\n    const item = getItem(itemId);\r\n    return item?.quantity || 0;\r\n  }, [getItem]);\r\n\r\n  // ===================================\r\n  // FUNCIONES DE PERSISTENCIA OPTIMIZADAS\r\n  // ===================================\r\n\r\n  const saveToLocalStorage = useCallback((cartItems: CartItem[]) => {\r\n    if (!enablePersistence || typeof window === 'undefined') {return;}\r\n    \r\n    try {\r\n      const cartData = {\r\n        items: cartItems,\r\n        timestamp: Date.now(),\r\n        version: '1.0',\r\n      };\r\n      \r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(cartData));\r\n    } catch (error) {\r\n      console.error('Error guardando carrito en localStorage:', error);\r\n    }\r\n  }, [enablePersistence]);\r\n\r\n  const loadFromLocalStorage = useCallback((): CartItem[] => {\r\n    if (!enablePersistence || typeof window === 'undefined') {return [];}\r\n    \r\n    try {\r\n      const stored = localStorage.getItem(STORAGE_KEY);\r\n      if (!stored) {return [];}\r\n      \r\n      const cartData = JSON.parse(stored);\r\n      \r\n      // Validar estructura de datos\r\n      if (cartData.items && Array.isArray(cartData.items)) {\r\n        return cartData.items;\r\n      }\r\n      \r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error cargando carrito desde localStorage:', error);\r\n      return [];\r\n    }\r\n  }, [enablePersistence]);\r\n\r\n  const saveCart = useCallback(async () => {\r\n    if (!enablePersistence) {return;}\r\n    \r\n    // Guardar en localStorage\r\n    saveToLocalStorage(items);\r\n    \r\n    // Si hay usuario autenticado, guardar en backend (implementaci\xF3n futura)\r\n    if (enableUserSync && user?.id) {\r\n      try {\r\n        // Aqu\xED se implementar\xEDa la llamada al backend\r\n        // await saveUserCart(user.id, items);\r\n      } catch (error) {\r\n        console.error('Error guardando carrito del usuario:', error);\r\n      }\r\n    }\r\n  }, [items, enablePersistence, enableUserSync, user?.id, saveToLocalStorage]);\r\n\r\n  const loadCart = useCallback(async () => {\r\n    if (!enablePersistence) {return;}\r\n    \r\n    try {\r\n      let cartItems: CartItem[] = [];\r\n      \r\n      // Si hay usuario autenticado, cargar desde backend\r\n      if (enableUserSync && user?.id) {\r\n        try {\r\n          // Aqu\xED se implementar\xEDa la llamada al backend\r\n          // cartItems = await loadUserCart(user.id);\r\n        } catch (error) {\r\n          console.error('Error cargando carrito del usuario:', error);\r\n        }\r\n      }\r\n      \r\n      // Si no hay items del usuario, cargar desde localStorage\r\n      if (cartItems.length === 0) {\r\n        cartItems = loadFromLocalStorage();\r\n      }\r\n      \r\n      if (cartItems.length > 0) {\r\n        dispatch(hydrateCart(cartItems));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando carrito:', error);\r\n    }\r\n  }, [enablePersistence, enableUserSync, user?.id, loadFromLocalStorage, dispatch]);\r\n\r\n  const syncWithUser = useCallback(async () => {\r\n    if (!enableUserSync || !user?.id) {return;}\r\n    \r\n    try {\r\n      // Migrar carrito temporal a usuario autenticado\r\n      const temporaryItems = loadFromLocalStorage();\r\n      \r\n      if (temporaryItems.length > 0) {\r\n        // Combinar con items existentes del usuario\r\n        // Aqu\xED se implementar\xEDa la l\xF3gica de merge\r\n        dispatch(replaceCart(temporaryItems));\r\n        \r\n        // Limpiar localStorage despu\xE9s de migraci\xF3n\r\n        localStorage.removeItem(STORAGE_KEY);\r\n      }\r\n      \r\n      // Cargar carrito del usuario\r\n      await loadCart();\r\n    } catch (error) {\r\n      console.error('Error sincronizando carrito con usuario:', error);\r\n    }\r\n  }, [enableUserSync, user?.id, loadFromLocalStorage, dispatch, loadCart]);\r\n\r\n  // ===================================\r\n  // FUNCIONES DE VALIDACI\xD3N\r\n  // ===================================\r\n\r\n  const validateCart = useCallback((): boolean => {\r\n    return items.every(item => \r\n      item.id && \r\n      item.name && \r\n      item.price > 0 && \r\n      item.quantity > 0 && \r\n      item.quantity <= MAX_QUANTITY_PER_ITEM\r\n    );\r\n  }, [items]);\r\n\r\n  const getInvalidItems = useCallback((): CartItem[] => {\r\n    return items.filter(item => \r\n      !item.id || \r\n      !item.name || \r\n      item.price <= 0 || \r\n      item.quantity <= 0 || \r\n      item.quantity > MAX_QUANTITY_PER_ITEM\r\n    );\r\n  }, [items]);\r\n\r\n  // ===================================\r\n  // EFECTOS OPTIMIZADOS\r\n  // ===================================\r\n\r\n  // Efecto para guardado autom\xE1tico con debounce\r\n  useEffect(() => {\r\n    if (!enablePersistence) {return;}\r\n    \r\n    const currentCartString = JSON.stringify(items);\r\n    \r\n    // Evitar guardados innecesarios\r\n    if (currentCartString === lastSaveRef.current) {return;}\r\n    \r\n    lastSaveRef.current = currentCartString;\r\n    \r\n    // Limpiar timeout anterior\r\n    if (saveTimeoutRef.current) {\r\n      clearTimeout(saveTimeoutRef.current);\r\n    }\r\n    \r\n    // Programar guardado con debounce\r\n    saveTimeoutRef.current = setTimeout(() => {\r\n      saveCart();\r\n    }, saveDebounceMs);\r\n    \r\n    return () => {\r\n      if (saveTimeoutRef.current) {\r\n        clearTimeout(saveTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [items, enablePersistence, saveDebounceMs, saveCart]);\r\n\r\n  // Efecto para callback de cambios\r\n  useEffect(() => {\r\n    if (onCartChange) {\r\n      onCartChange(items, summary);\r\n    }\r\n  }, [items, summary, onCartChange]);\r\n\r\n  // Efecto para carga inicial\r\n  useEffect(() => {\r\n    if (isLoaded && !user) {\r\n      // Usuario no autenticado - cargar desde localStorage\r\n      loadCart();\r\n    }\r\n  }, [isLoaded, user, loadCart]);\r\n\r\n  // Efecto para sincronizaci\xF3n con usuario\r\n  useEffect(() => {\r\n    console.log('[useCartOptimized] \uD83D\uDEAB SYNC WITH USER TEMPORALMENTE DESHABILITADO PARA EVITAR RECURSI\xD3N');\r\n    \r\n\r\n    // C\xD3DIGO COMENTADO TEMPORALMENTE\r\n    // if (isLoaded && user && enableUserSync) {\r\n    //   syncWithUser();\r\n    // }\r\n  }, [isLoaded, user, enableUserSync, syncWithUser]);\r\n\r\n  // ===================================\r\n  // RETURN OPTIMIZADO\r\n  // ===================================\r\n\r\n  return {\r\n    // Estado del carrito\r\n    items,\r\n    summary,\r\n    isLoading: !isLoaded,\r\n    error: null,\r\n    \r\n    // Estado de usuario\r\n    isAuthenticated: !!user,\r\n    userId: user?.id,\r\n    \r\n    // Funciones de manipulaci\xF3n\r\n    addItem,\r\n    removeItem,\r\n    updateQuantity,\r\n    clearAllItems,\r\n    \r\n    // Funciones de utilidad\r\n    getItem,\r\n    hasItem,\r\n    getItemQuantity,\r\n    \r\n    // Funciones de persistencia\r\n    saveCart,\r\n    loadCart,\r\n    syncWithUser,\r\n    \r\n    // Funciones de validaci\xF3n\r\n    validateCart,\r\n    getInvalidItems,\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["useCartOptimized", "STORAGE_KEY", "MAX_QUANTITY_PER_ITEM", "SAVE_DEBOUNCE_DEFAULT", "options", "enablePersistence", "saveDebounceMs", "enableUserSync", "onCartChange", "onItemAdded", "onItemRemoved", "dispatch", "useAppDispatch", "user", "isLoaded", "useAuth", "items", "useAppSelector", "selectCartItems", "totalPrice", "selectTotalPrice", "totalQuantity", "selectTotalQuantity", "saveTimeoutRef", "useRef", "lastSaveRef", "summary", "useMemo", "totalItems", "length", "hasItems", "isEmpty", "averageItemPrice", "addItem", "useCallback", "item", "quantity", "console", "warn", "cartItem", "Math", "min", "addItemToCart", "removeItem", "itemId", "removeItemFromCart", "updateQuantity", "updateItemQuantity", "id", "clearAllItems", "clearCart", "getItem", "find", "hasItem", "some", "getItemQuantity", "saveToLocalStorage", "cartItems", "window", "cartData", "timestamp", "Date", "now", "version", "localStorage", "setItem", "JSON", "stringify", "error", "loadFromLocalStorage", "stored", "parse", "Array", "isArray", "saveCart", "loadCart", "hydrateCart", "syncWithUser", "temporaryItems", "replaceCart", "validateCart", "every", "name", "price", "getInvalidItems", "filter", "useEffect", "currentCartString", "current", "clearTimeout", "setTimeout", "log", "isLoading", "isAuthenticated", "userId"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a60c211f1d6c31bff3850dae00cad44457690b81"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_kmmg4zt8k = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_kmmg4zt8k();
cov_kmmg4zt8k().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_kmmg4zt8k().s[1]++;
Object.defineProperty(exports, "useCartOptimized", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[0]++;
    cov_kmmg4zt8k().s[2]++;
    return useCartOptimized;
  }
});
const _react =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[3]++, require("react"));
const _useAuth =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[4]++, require("../useAuth"));
const _store =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[5]++, require("../../redux/store"));
const _cartslice =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[6]++, require("../../redux/features/cart-slice"));
// ===================================
// CONSTANTES
// ===================================
const STORAGE_KEY =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[7]++, 'pinteya_cart');
const MAX_QUANTITY_PER_ITEM =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[8]++, 99);
const SAVE_DEBOUNCE_DEFAULT =
/* istanbul ignore next */
(cov_kmmg4zt8k().s[9]++, 1000);
function useCartOptimized(options =
/* istanbul ignore next */
(cov_kmmg4zt8k().b[0][0]++, {})) {
  /* istanbul ignore next */
  cov_kmmg4zt8k().f[1]++;
  const {
    enablePersistence =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[1][0]++, true),
    saveDebounceMs =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[2][0]++, SAVE_DEBOUNCE_DEFAULT),
    enableUserSync =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[3][0]++, true),
    onCartChange,
    onItemAdded,
    onItemRemoved
  } =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[10]++, options);
  // ===================================
  // ESTADO Y SELECTORES OPTIMIZADOS
  // ===================================
  const dispatch =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[11]++, (0, _store.useAppDispatch)());
  const {
    user,
    isLoaded
  } =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[12]++, (0, _useAuth.useAuth)());
  // Selectores memoizados para mejor performance
  const items =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[13]++, (0, _store.useAppSelector)(_cartslice.selectCartItems));
  const totalPrice =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[14]++, (0, _store.useAppSelector)(_cartslice.selectTotalPrice));
  const totalQuantity =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[15]++, (0, _store.useAppSelector)(_cartslice.selectTotalQuantity));
  // Referencias para optimización
  const saveTimeoutRef =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[16]++, (0, _react.useRef)(null));
  const lastSaveRef =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[17]++, (0, _react.useRef)(''));
  // ===================================
  // RESUMEN DEL CARRITO MEMOIZADO
  // ===================================
  const summary =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[18]++, (0, _react.useMemo)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[2]++;
    const totalItems =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[19]++, items.length);
    const hasItems =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[20]++, totalItems > 0);
    const isEmpty =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[21]++, !hasItems);
    const averageItemPrice =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[22]++, hasItems ?
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[4][0]++, totalPrice / totalQuantity) :
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[4][1]++, 0));
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[23]++;
    return {
      totalItems,
      totalPrice,
      totalQuantity,
      hasItems,
      isEmpty,
      averageItemPrice
    };
  }, [items.length, totalPrice, totalQuantity]));
  // ===================================
  // FUNCIONES DE MANIPULACIÓN OPTIMIZADAS
  // ===================================
  const addItem =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[24]++, (0, _react.useCallback)((item, quantity =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().b[5][0]++, 1)) => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[3]++;
    cov_kmmg4zt8k().s[25]++;
    // Validaciones
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[7][0]++, quantity <= 0) ||
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[7][1]++, quantity > MAX_QUANTITY_PER_ITEM)) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[6][0]++;
      cov_kmmg4zt8k().s[26]++;
      console.warn(`Cantidad inválida: ${quantity}. Debe estar entre 1 y ${MAX_QUANTITY_PER_ITEM}`);
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[27]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[6][1]++;
    }
    const cartItem =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[28]++, {
      ...item,
      quantity: Math.min(quantity, MAX_QUANTITY_PER_ITEM)
    });
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[29]++;
    dispatch((0, _cartslice.addItemToCart)(cartItem));
    // Callback optimizado
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[30]++;
    if (onItemAdded) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[8][0]++;
      cov_kmmg4zt8k().s[31]++;
      onItemAdded(cartItem);
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[8][1]++;
    }
  }, [dispatch, onItemAdded]));
  const removeItem =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[32]++, (0, _react.useCallback)(itemId => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[4]++;
    cov_kmmg4zt8k().s[33]++;
    dispatch((0, _cartslice.removeItemFromCart)(itemId));
    // Callback optimizado
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[34]++;
    if (onItemRemoved) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[9][0]++;
      cov_kmmg4zt8k().s[35]++;
      onItemRemoved(itemId);
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[9][1]++;
    }
  }, [dispatch, onItemRemoved]));
  const updateQuantity =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[36]++, (0, _react.useCallback)((itemId, quantity) => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[5]++;
    cov_kmmg4zt8k().s[37]++;
    // Validaciones
    if (quantity <= 0) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[10][0]++;
      cov_kmmg4zt8k().s[38]++;
      removeItem(itemId);
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[39]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[10][1]++;
    }
    cov_kmmg4zt8k().s[40]++;
    if (quantity > MAX_QUANTITY_PER_ITEM) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[11][0]++;
      cov_kmmg4zt8k().s[41]++;
      quantity = MAX_QUANTITY_PER_ITEM;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[11][1]++;
    }
    cov_kmmg4zt8k().s[42]++;
    dispatch((0, _cartslice.updateItemQuantity)({
      id: itemId,
      quantity
    }));
  }, [dispatch, removeItem]));
  const clearAllItems =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[43]++, (0, _react.useCallback)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[6]++;
    cov_kmmg4zt8k().s[44]++;
    dispatch((0, _cartslice.clearCart)());
  }, [dispatch]));
  // ===================================
  // FUNCIONES DE UTILIDAD OPTIMIZADAS
  // ===================================
  const getItem =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[45]++, (0, _react.useCallback)(itemId => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[7]++;
    cov_kmmg4zt8k().s[46]++;
    return items.find(item => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[8]++;
      cov_kmmg4zt8k().s[47]++;
      return item.id === itemId;
    });
  }, [items]));
  const hasItem =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[48]++, (0, _react.useCallback)(itemId => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[9]++;
    cov_kmmg4zt8k().s[49]++;
    return items.some(item => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[10]++;
      cov_kmmg4zt8k().s[50]++;
      return item.id === itemId;
    });
  }, [items]));
  const getItemQuantity =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[51]++, (0, _react.useCallback)(itemId => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[11]++;
    const item =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[52]++, getItem(itemId));
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[53]++;
    return /* istanbul ignore next */(cov_kmmg4zt8k().b[12][0]++, item?.quantity) ||
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[12][1]++, 0);
  }, [getItem]));
  // ===================================
  // FUNCIONES DE PERSISTENCIA OPTIMIZADAS
  // ===================================
  const saveToLocalStorage =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[54]++, (0, _react.useCallback)(cartItems => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[12]++;
    cov_kmmg4zt8k().s[55]++;
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[14][0]++, !enablePersistence) ||
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[14][1]++, typeof window === 'undefined')) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[13][0]++;
      cov_kmmg4zt8k().s[56]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[13][1]++;
    }
    cov_kmmg4zt8k().s[57]++;
    try {
      const cartData =
      /* istanbul ignore next */
      (cov_kmmg4zt8k().s[58]++, {
        items: cartItems,
        timestamp: Date.now(),
        version: '1.0'
      });
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[59]++;
      localStorage.setItem(STORAGE_KEY, JSON.stringify(cartData));
    } catch (error) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[60]++;
      console.error('Error guardando carrito en localStorage:', error);
    }
  }, [enablePersistence]));
  const loadFromLocalStorage =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[61]++, (0, _react.useCallback)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[13]++;
    cov_kmmg4zt8k().s[62]++;
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[16][0]++, !enablePersistence) ||
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[16][1]++, typeof window === 'undefined')) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[15][0]++;
      cov_kmmg4zt8k().s[63]++;
      return [];
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[15][1]++;
    }
    cov_kmmg4zt8k().s[64]++;
    try {
      const stored =
      /* istanbul ignore next */
      (cov_kmmg4zt8k().s[65]++, localStorage.getItem(STORAGE_KEY));
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[66]++;
      if (!stored) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[17][0]++;
        cov_kmmg4zt8k().s[67]++;
        return [];
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[17][1]++;
      }
      const cartData =
      /* istanbul ignore next */
      (cov_kmmg4zt8k().s[68]++, JSON.parse(stored));
      // Validar estructura de datos
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[69]++;
      if (
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[19][0]++, cartData.items) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[19][1]++, Array.isArray(cartData.items))) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[18][0]++;
        cov_kmmg4zt8k().s[70]++;
        return cartData.items;
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[18][1]++;
      }
      cov_kmmg4zt8k().s[71]++;
      return [];
    } catch (error) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[72]++;
      console.error('Error cargando carrito desde localStorage:', error);
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[73]++;
      return [];
    }
  }, [enablePersistence]));
  const saveCart =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[74]++, (0, _react.useCallback)(async () => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[14]++;
    cov_kmmg4zt8k().s[75]++;
    if (!enablePersistence) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[20][0]++;
      cov_kmmg4zt8k().s[76]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[20][1]++;
    }
    // Guardar en localStorage
    cov_kmmg4zt8k().s[77]++;
    saveToLocalStorage(items);
    // Si hay usuario autenticado, guardar en backend (implementación futura)
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[78]++;
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[22][0]++, enableUserSync) &&
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[22][1]++, user?.id)) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[21][0]++;
      cov_kmmg4zt8k().s[79]++;
      try {
        // Aquí se implementaría la llamada al backend
        // await saveUserCart(user.id, items);
      } catch (error) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().s[80]++;
        console.error('Error guardando carrito del usuario:', error);
      }
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[21][1]++;
    }
  }, [items, enablePersistence, enableUserSync, user?.id, saveToLocalStorage]));
  const loadCart =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[81]++, (0, _react.useCallback)(async () => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[15]++;
    cov_kmmg4zt8k().s[82]++;
    if (!enablePersistence) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[23][0]++;
      cov_kmmg4zt8k().s[83]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[23][1]++;
    }
    cov_kmmg4zt8k().s[84]++;
    try {
      let cartItems =
      /* istanbul ignore next */
      (cov_kmmg4zt8k().s[85]++, []);
      // Si hay usuario autenticado, cargar desde backend
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[86]++;
      if (
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[25][0]++, enableUserSync) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[25][1]++, user?.id)) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[24][0]++;
        cov_kmmg4zt8k().s[87]++;
        try {
          // Aquí se implementaría la llamada al backend
          // cartItems = await loadUserCart(user.id);
        } catch (error) {
          /* istanbul ignore next */
          cov_kmmg4zt8k().s[88]++;
          console.error('Error cargando carrito del usuario:', error);
        }
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[24][1]++;
      }
      // Si no hay items del usuario, cargar desde localStorage
      cov_kmmg4zt8k().s[89]++;
      if (cartItems.length === 0) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[26][0]++;
        cov_kmmg4zt8k().s[90]++;
        cartItems = loadFromLocalStorage();
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[26][1]++;
      }
      cov_kmmg4zt8k().s[91]++;
      if (cartItems.length > 0) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[27][0]++;
        cov_kmmg4zt8k().s[92]++;
        dispatch((0, _cartslice.hydrateCart)(cartItems));
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[27][1]++;
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[93]++;
      console.error('Error cargando carrito:', error);
    }
  }, [enablePersistence, enableUserSync, user?.id, loadFromLocalStorage, dispatch]));
  const syncWithUser =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[94]++, (0, _react.useCallback)(async () => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[16]++;
    cov_kmmg4zt8k().s[95]++;
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[29][0]++, !enableUserSync) ||
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[29][1]++, !user?.id)) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[28][0]++;
      cov_kmmg4zt8k().s[96]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[28][1]++;
    }
    cov_kmmg4zt8k().s[97]++;
    try {
      // Migrar carrito temporal a usuario autenticado
      const temporaryItems =
      /* istanbul ignore next */
      (cov_kmmg4zt8k().s[98]++, loadFromLocalStorage());
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[99]++;
      if (temporaryItems.length > 0) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[30][0]++;
        cov_kmmg4zt8k().s[100]++;
        // Combinar con items existentes del usuario
        // Aquí se implementaría la lógica de merge
        dispatch((0, _cartslice.replaceCart)(temporaryItems));
        // Limpiar localStorage después de migración
        /* istanbul ignore next */
        cov_kmmg4zt8k().s[101]++;
        localStorage.removeItem(STORAGE_KEY);
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[30][1]++;
      }
      // Cargar carrito del usuario
      cov_kmmg4zt8k().s[102]++;
      await loadCart();
    } catch (error) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().s[103]++;
      console.error('Error sincronizando carrito con usuario:', error);
    }
  }, [enableUserSync, user?.id, loadFromLocalStorage, dispatch, loadCart]));
  // ===================================
  // FUNCIONES DE VALIDACIÓN
  // ===================================
  const validateCart =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[104]++, (0, _react.useCallback)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[17]++;
    cov_kmmg4zt8k().s[105]++;
    return items.every(item => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[18]++;
      cov_kmmg4zt8k().s[106]++;
      return /* istanbul ignore next */(cov_kmmg4zt8k().b[31][0]++, item.id) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[31][1]++, item.name) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[31][2]++, item.price > 0) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[31][3]++, item.quantity > 0) &&
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[31][4]++, item.quantity <= MAX_QUANTITY_PER_ITEM);
    });
  }, [items]));
  const getInvalidItems =
  /* istanbul ignore next */
  (cov_kmmg4zt8k().s[107]++, (0, _react.useCallback)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[19]++;
    cov_kmmg4zt8k().s[108]++;
    return items.filter(item => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[20]++;
      cov_kmmg4zt8k().s[109]++;
      return /* istanbul ignore next */(cov_kmmg4zt8k().b[32][0]++, !item.id) ||
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[32][1]++, !item.name) ||
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[32][2]++, item.price <= 0) ||
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[32][3]++, item.quantity <= 0) ||
      /* istanbul ignore next */
      (cov_kmmg4zt8k().b[32][4]++, item.quantity > MAX_QUANTITY_PER_ITEM);
    });
  }, [items]));
  // ===================================
  // EFECTOS OPTIMIZADOS
  // ===================================
  // Efecto para guardado automático con debounce
  /* istanbul ignore next */
  cov_kmmg4zt8k().s[110]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[21]++;
    cov_kmmg4zt8k().s[111]++;
    if (!enablePersistence) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[33][0]++;
      cov_kmmg4zt8k().s[112]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[33][1]++;
    }
    const currentCartString =
    /* istanbul ignore next */
    (cov_kmmg4zt8k().s[113]++, JSON.stringify(items));
    // Evitar guardados innecesarios
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[114]++;
    if (currentCartString === lastSaveRef.current) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[34][0]++;
      cov_kmmg4zt8k().s[115]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[34][1]++;
    }
    cov_kmmg4zt8k().s[116]++;
    lastSaveRef.current = currentCartString;
    // Limpiar timeout anterior
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[117]++;
    if (saveTimeoutRef.current) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[35][0]++;
      cov_kmmg4zt8k().s[118]++;
      clearTimeout(saveTimeoutRef.current);
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[35][1]++;
    }
    // Programar guardado con debounce
    cov_kmmg4zt8k().s[119]++;
    saveTimeoutRef.current = setTimeout(() => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[22]++;
      cov_kmmg4zt8k().s[120]++;
      saveCart();
    }, saveDebounceMs);
    /* istanbul ignore next */
    cov_kmmg4zt8k().s[121]++;
    return () => {
      /* istanbul ignore next */
      cov_kmmg4zt8k().f[23]++;
      cov_kmmg4zt8k().s[122]++;
      if (saveTimeoutRef.current) {
        /* istanbul ignore next */
        cov_kmmg4zt8k().b[36][0]++;
        cov_kmmg4zt8k().s[123]++;
        clearTimeout(saveTimeoutRef.current);
      } else
      /* istanbul ignore next */
      {
        cov_kmmg4zt8k().b[36][1]++;
      }
    };
  }, [items, enablePersistence, saveDebounceMs, saveCart]);
  // Efecto para callback de cambios
  /* istanbul ignore next */
  cov_kmmg4zt8k().s[124]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[24]++;
    cov_kmmg4zt8k().s[125]++;
    if (onCartChange) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[37][0]++;
      cov_kmmg4zt8k().s[126]++;
      onCartChange(items, summary);
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[37][1]++;
    }
  }, [items, summary, onCartChange]);
  // Efecto para carga inicial
  /* istanbul ignore next */
  cov_kmmg4zt8k().s[127]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[25]++;
    cov_kmmg4zt8k().s[128]++;
    if (
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[39][0]++, isLoaded) &&
    /* istanbul ignore next */
    (cov_kmmg4zt8k().b[39][1]++, !user)) {
      /* istanbul ignore next */
      cov_kmmg4zt8k().b[38][0]++;
      cov_kmmg4zt8k().s[129]++;
      // Usuario no autenticado - cargar desde localStorage
      loadCart();
    } else
    /* istanbul ignore next */
    {
      cov_kmmg4zt8k().b[38][1]++;
    }
  }, [isLoaded, user, loadCart]);
  // Efecto para sincronización con usuario
  /* istanbul ignore next */
  cov_kmmg4zt8k().s[130]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_kmmg4zt8k().f[26]++;
    cov_kmmg4zt8k().s[131]++;
    console.log('[useCartOptimized] 🚫 SYNC WITH USER TEMPORALMENTE DESHABILITADO PARA EVITAR RECURSIÓN');
    // CÓDIGO COMENTADO TEMPORALMENTE
    // if (isLoaded && user && enableUserSync) {
    //   syncWithUser();
    // }
  }, [isLoaded, user, enableUserSync, syncWithUser]);
  // ===================================
  // RETURN OPTIMIZADO
  // ===================================
  /* istanbul ignore next */
  cov_kmmg4zt8k().s[132]++;
  return {
    // Estado del carrito
    items,
    summary,
    isLoading: !isLoaded,
    error: null,
    // Estado de usuario
    isAuthenticated: !!user,
    userId: user?.id,
    // Funciones de manipulación
    addItem,
    removeItem,
    updateQuantity,
    clearAllItems,
    // Funciones de utilidad
    getItem,
    hasItem,
    getItemQuantity,
    // Funciones de persistencia
    saveCart,
    loadCart,
    syncWithUser,
    // Funciones de validación
    validateCart,
    getInvalidItems
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VDYXJ0T3B0aW1pemVkIiwiU1RPUkFHRV9LRVkiLCJjb3Zfa21tZzR6dDhrIiwicyIsIk1BWF9RVUFOVElUWV9QRVJfSVRFTSIsIlNBVkVfREVCT1VOQ0VfREVGQVVMVCIsIm9wdGlvbnMiLCJiIiwiZiIsImVuYWJsZVBlcnNpc3RlbmNlIiwic2F2ZURlYm91bmNlTXMiLCJlbmFibGVVc2VyU3luYyIsIm9uQ2FydENoYW5nZSIsIm9uSXRlbUFkZGVkIiwib25JdGVtUmVtb3ZlZCIsImRpc3BhdGNoIiwiX3N0b3JlIiwidXNlQXBwRGlzcGF0Y2giLCJ1c2VyIiwiaXNMb2FkZWQiLCJfdXNlQXV0aCIsInVzZUF1dGgiLCJpdGVtcyIsInVzZUFwcFNlbGVjdG9yIiwiX2NhcnRzbGljZSIsInNlbGVjdENhcnRJdGVtcyIsInRvdGFsUHJpY2UiLCJzZWxlY3RUb3RhbFByaWNlIiwidG90YWxRdWFudGl0eSIsInNlbGVjdFRvdGFsUXVhbnRpdHkiLCJzYXZlVGltZW91dFJlZiIsIl9yZWFjdCIsInVzZVJlZiIsImxhc3RTYXZlUmVmIiwic3VtbWFyeSIsInVzZU1lbW8iLCJ0b3RhbEl0ZW1zIiwibGVuZ3RoIiwiaGFzSXRlbXMiLCJpc0VtcHR5IiwiYXZlcmFnZUl0ZW1QcmljZSIsImFkZEl0ZW0iLCJ1c2VDYWxsYmFjayIsIml0ZW0iLCJxdWFudGl0eSIsImNvbnNvbGUiLCJ3YXJuIiwiY2FydEl0ZW0iLCJNYXRoIiwibWluIiwiYWRkSXRlbVRvQ2FydCIsInJlbW92ZUl0ZW0iLCJpdGVtSWQiLCJyZW1vdmVJdGVtRnJvbUNhcnQiLCJ1cGRhdGVRdWFudGl0eSIsInVwZGF0ZUl0ZW1RdWFudGl0eSIsImlkIiwiY2xlYXJBbGxJdGVtcyIsImNsZWFyQ2FydCIsImdldEl0ZW0iLCJmaW5kIiwiaGFzSXRlbSIsInNvbWUiLCJnZXRJdGVtUXVhbnRpdHkiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJjYXJ0SXRlbXMiLCJ3aW5kb3ciLCJjYXJ0RGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ2ZXJzaW9uIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsImxvYWRGcm9tTG9jYWxTdG9yYWdlIiwic3RvcmVkIiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJzYXZlQ2FydCIsImxvYWRDYXJ0IiwiaHlkcmF0ZUNhcnQiLCJzeW5jV2l0aFVzZXIiLCJ0ZW1wb3JhcnlJdGVtcyIsInJlcGxhY2VDYXJ0IiwidmFsaWRhdGVDYXJ0IiwiZXZlcnkiLCJuYW1lIiwicHJpY2UiLCJnZXRJbnZhbGlkSXRlbXMiLCJmaWx0ZXIiLCJ1c2VFZmZlY3QiLCJjdXJyZW50Q2FydFN0cmluZyIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibG9nIiwiaXNMb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwidXNlcklkIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxob29rc1xcb3B0aW1pemVkXFx1c2VDYXJ0T3B0aW1pemVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhPT0sgT1BUSU1JWkFETzogdXNlQ2FydE9wdGltaXplZFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWZXJzacOzbiBvcHRpbWl6YWRhIGRlbCBob29rIGRlIGNhcnJpdG8gY29uIG1lam9yIHBlcmZvcm1hbmNlLFxyXG4vLyB0eXBlIHNhZmV0eSBtZWpvcmFkbyB5IGdlc3Rpw7NuIGRlIGVzdGFkbyBtw6FzIGVmaWNpZW50ZVxyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9ob29rcy91c2VBdXRoJztcclxuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2gsIHVzZUFwcFNlbGVjdG9yIH0gZnJvbSAnQC9yZWR1eC9zdG9yZSc7XHJcbmltcG9ydCB7IFxyXG4gIHNlbGVjdENhcnRJdGVtcywgXHJcbiAgc2VsZWN0VG90YWxQcmljZSxcclxuICBzZWxlY3RUb3RhbFF1YW50aXR5LFxyXG4gIGFkZEl0ZW1Ub0NhcnQsXHJcbiAgcmVtb3ZlSXRlbUZyb21DYXJ0LFxyXG4gIHVwZGF0ZUl0ZW1RdWFudGl0eSxcclxuICBjbGVhckNhcnQsXHJcbiAgaHlkcmF0ZUNhcnQsXHJcbiAgcmVwbGFjZUNhcnQsXHJcbiAgQ2FydEl0ZW1cclxufSBmcm9tICdAL3JlZHV4L2ZlYXR1cmVzL2NhcnQtc2xpY2UnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVElQT1MgWSBJTlRFUkZBQ0VTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhcnRJdGVtV2l0aE1ldGFkYXRhIGV4dGVuZHMgQ2FydEl0ZW0ge1xyXG4gIGFkZGVkQXQ6IG51bWJlcjtcclxuICBsYXN0TW9kaWZpZWQ6IG51bWJlcjtcclxuICBpc1RlbXBvcmFyeT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FydFN1bW1hcnkge1xyXG4gIHRvdGFsSXRlbXM6IG51bWJlcjtcclxuICB0b3RhbFByaWNlOiBudW1iZXI7XHJcbiAgdG90YWxRdWFudGl0eTogbnVtYmVyO1xyXG4gIGhhc0l0ZW1zOiBib29sZWFuO1xyXG4gIGlzRW1wdHk6IGJvb2xlYW47XHJcbiAgYXZlcmFnZUl0ZW1QcmljZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNhcnRPcHRpbWl6ZWRPcHRpb25zIHtcclxuICAvKiogSGFiaWxpdGFyIHBlcnNpc3RlbmNpYSBhdXRvbcOhdGljYSAqL1xyXG4gIGVuYWJsZVBlcnNpc3RlbmNlPzogYm9vbGVhbjtcclxuICAvKiogVGllbXBvIGRlIGRlYm91bmNlIHBhcmEgZ3VhcmRhZG8gYXV0b23DoXRpY28gKG1zKSAqL1xyXG4gIHNhdmVEZWJvdW5jZU1zPzogbnVtYmVyO1xyXG4gIC8qKiBIYWJpbGl0YXIgc2luY3Jvbml6YWNpw7NuIGNvbiB1c3VhcmlvIGF1dGVudGljYWRvICovXHJcbiAgZW5hYmxlVXNlclN5bmM/OiBib29sZWFuO1xyXG4gIC8qKiBDYWxsYmFjayBjdWFuZG8gZWwgY2Fycml0byBjYW1iaWEgKi9cclxuICBvbkNhcnRDaGFuZ2U/OiAoaXRlbXM6IENhcnRJdGVtW10sIHN1bW1hcnk6IENhcnRTdW1tYXJ5KSA9PiB2b2lkO1xyXG4gIC8qKiBDYWxsYmFjayBjdWFuZG8gc2UgYWdyZWdhIHVuIGl0ZW0gKi9cclxuICBvbkl0ZW1BZGRlZD86IChpdGVtOiBDYXJ0SXRlbSkgPT4gdm9pZDtcclxuICAvKiogQ2FsbGJhY2sgY3VhbmRvIHNlIHJlbXVldmUgdW4gaXRlbSAqL1xyXG4gIG9uSXRlbVJlbW92ZWQ/OiAoaXRlbUlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2FydE9wdGltaXplZFJldHVybiB7XHJcbiAgLy8gRXN0YWRvIGRlbCBjYXJyaXRvXHJcbiAgaXRlbXM6IENhcnRJdGVtW107XHJcbiAgc3VtbWFyeTogQ2FydFN1bW1hcnk7XHJcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIFxyXG4gIC8vIEVzdGFkbyBkZSB1c3VhcmlvXHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG4gIHVzZXJJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gIFxyXG4gIC8vIEZ1bmNpb25lcyBkZSBtYW5pcHVsYWNpw7NuXHJcbiAgYWRkSXRlbTogKGl0ZW06IE9taXQ8Q2FydEl0ZW0sICdxdWFudGl0eSc+LCBxdWFudGl0eT86IG51bWJlcikgPT4gdm9pZDtcclxuICByZW1vdmVJdGVtOiAoaXRlbUlkOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgdXBkYXRlUXVhbnRpdHk6IChpdGVtSWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcikgPT4gdm9pZDtcclxuICBjbGVhckFsbEl0ZW1zOiAoKSA9PiB2b2lkO1xyXG4gIFxyXG4gIC8vIEZ1bmNpb25lcyBkZSB1dGlsaWRhZFxyXG4gIGdldEl0ZW06IChpdGVtSWQ6IHN0cmluZykgPT4gQ2FydEl0ZW0gfCB1bmRlZmluZWQ7XHJcbiAgaGFzSXRlbTogKGl0ZW1JZDogc3RyaW5nKSA9PiBib29sZWFuO1xyXG4gIGdldEl0ZW1RdWFudGl0eTogKGl0ZW1JZDogc3RyaW5nKSA9PiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gRnVuY2lvbmVzIGRlIHBlcnNpc3RlbmNpYVxyXG4gIHNhdmVDYXJ0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGxvYWRDYXJ0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHN5bmNXaXRoVXNlcjogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBcclxuICAvLyBGdW5jaW9uZXMgZGUgdmFsaWRhY2nDs25cclxuICB2YWxpZGF0ZUNhcnQ6ICgpID0+IGJvb2xlYW47XHJcbiAgZ2V0SW52YWxpZEl0ZW1zOiAoKSA9PiBDYXJ0SXRlbVtdO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDT05TVEFOVEVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBTVE9SQUdFX0tFWSA9ICdwaW50ZXlhX2NhcnQnO1xyXG5jb25zdCBNQVhfUVVBTlRJVFlfUEVSX0lURU0gPSA5OTtcclxuY29uc3QgU0FWRV9ERUJPVU5DRV9ERUZBVUxUID0gMTAwMDtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhPT0sgUFJJTkNJUEFMIE9QVElNSVpBRE9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VDYXJ0T3B0aW1pemVkKFxyXG4gIG9wdGlvbnM6IFVzZUNhcnRPcHRpbWl6ZWRPcHRpb25zID0ge31cclxuKTogVXNlQ2FydE9wdGltaXplZFJldHVybiB7XHJcbiAgXHJcbiAgY29uc3Qge1xyXG4gICAgZW5hYmxlUGVyc2lzdGVuY2UgPSB0cnVlLFxyXG4gICAgc2F2ZURlYm91bmNlTXMgPSBTQVZFX0RFQk9VTkNFX0RFRkFVTFQsXHJcbiAgICBlbmFibGVVc2VyU3luYyA9IHRydWUsXHJcbiAgICBvbkNhcnRDaGFuZ2UsXHJcbiAgICBvbkl0ZW1BZGRlZCxcclxuICAgIG9uSXRlbVJlbW92ZWQsXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRVNUQURPIFkgU0VMRUNUT1JFUyBPUFRJTUlaQURPU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcclxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VBdXRoKCk7XHJcbiAgXHJcbiAgLy8gU2VsZWN0b3JlcyBtZW1vaXphZG9zIHBhcmEgbWVqb3IgcGVyZm9ybWFuY2VcclxuICBjb25zdCBpdGVtcyA9IHVzZUFwcFNlbGVjdG9yKHNlbGVjdENhcnRJdGVtcyk7XHJcbiAgY29uc3QgdG90YWxQcmljZSA9IHVzZUFwcFNlbGVjdG9yKHNlbGVjdFRvdGFsUHJpY2UpO1xyXG4gIGNvbnN0IHRvdGFsUXVhbnRpdHkgPSB1c2VBcHBTZWxlY3RvcihzZWxlY3RUb3RhbFF1YW50aXR5KTtcclxuXHJcbiAgLy8gUmVmZXJlbmNpYXMgcGFyYSBvcHRpbWl6YWNpw7NuXHJcbiAgY29uc3Qgc2F2ZVRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBsYXN0U2F2ZVJlZiA9IHVzZVJlZjxzdHJpbmc+KCcnKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBSRVNVTUVOIERFTCBDQVJSSVRPIE1FTU9JWkFET1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGNvbnN0IHN1bW1hcnkgPSB1c2VNZW1vPENhcnRTdW1tYXJ5PigoKSA9PiB7XHJcbiAgICBjb25zdCB0b3RhbEl0ZW1zID0gaXRlbXMubGVuZ3RoO1xyXG4gICAgY29uc3QgaGFzSXRlbXMgPSB0b3RhbEl0ZW1zID4gMDtcclxuICAgIGNvbnN0IGlzRW1wdHkgPSAhaGFzSXRlbXM7XHJcbiAgICBjb25zdCBhdmVyYWdlSXRlbVByaWNlID0gaGFzSXRlbXMgPyB0b3RhbFByaWNlIC8gdG90YWxRdWFudGl0eSA6IDA7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxJdGVtcyxcclxuICAgICAgdG90YWxQcmljZSxcclxuICAgICAgdG90YWxRdWFudGl0eSxcclxuICAgICAgaGFzSXRlbXMsXHJcbiAgICAgIGlzRW1wdHksXHJcbiAgICAgIGF2ZXJhZ2VJdGVtUHJpY2UsXHJcbiAgICB9O1xyXG4gIH0sIFtpdGVtcy5sZW5ndGgsIHRvdGFsUHJpY2UsIHRvdGFsUXVhbnRpdHldKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBGVU5DSU9ORVMgREUgTUFOSVBVTEFDScOTTiBPUFRJTUlaQURBU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGNvbnN0IGFkZEl0ZW0gPSB1c2VDYWxsYmFjaygoXHJcbiAgICBpdGVtOiBPbWl0PENhcnRJdGVtLCAncXVhbnRpdHknPiwgXHJcbiAgICBxdWFudGl0eTogbnVtYmVyID0gMVxyXG4gICkgPT4ge1xyXG4gICAgLy8gVmFsaWRhY2lvbmVzXHJcbiAgICBpZiAocXVhbnRpdHkgPD0gMCB8fCBxdWFudGl0eSA+IE1BWF9RVUFOVElUWV9QRVJfSVRFTSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYENhbnRpZGFkIGludsOhbGlkYTogJHtxdWFudGl0eX0uIERlYmUgZXN0YXIgZW50cmUgMSB5ICR7TUFYX1FVQU5USVRZX1BFUl9JVEVNfWApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2FydEl0ZW06IENhcnRJdGVtID0ge1xyXG4gICAgICAuLi5pdGVtLFxyXG4gICAgICBxdWFudGl0eTogTWF0aC5taW4ocXVhbnRpdHksIE1BWF9RVUFOVElUWV9QRVJfSVRFTSksXHJcbiAgICB9O1xyXG5cclxuICAgIGRpc3BhdGNoKGFkZEl0ZW1Ub0NhcnQoY2FydEl0ZW0pKTtcclxuICAgIFxyXG4gICAgLy8gQ2FsbGJhY2sgb3B0aW1pemFkb1xyXG4gICAgaWYgKG9uSXRlbUFkZGVkKSB7XHJcbiAgICAgIG9uSXRlbUFkZGVkKGNhcnRJdGVtKTtcclxuICAgIH1cclxuICB9LCBbZGlzcGF0Y2gsIG9uSXRlbUFkZGVkXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZUl0ZW0gPSB1c2VDYWxsYmFjaygoaXRlbUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGRpc3BhdGNoKHJlbW92ZUl0ZW1Gcm9tQ2FydChpdGVtSWQpKTtcclxuICAgIFxyXG4gICAgLy8gQ2FsbGJhY2sgb3B0aW1pemFkb1xyXG4gICAgaWYgKG9uSXRlbVJlbW92ZWQpIHtcclxuICAgICAgb25JdGVtUmVtb3ZlZChpdGVtSWQpO1xyXG4gICAgfVxyXG4gIH0sIFtkaXNwYXRjaCwgb25JdGVtUmVtb3ZlZF0pO1xyXG5cclxuICBjb25zdCB1cGRhdGVRdWFudGl0eSA9IHVzZUNhbGxiYWNrKChpdGVtSWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlcikgPT4ge1xyXG4gICAgLy8gVmFsaWRhY2lvbmVzXHJcbiAgICBpZiAocXVhbnRpdHkgPD0gMCkge1xyXG4gICAgICByZW1vdmVJdGVtKGl0ZW1JZCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXVhbnRpdHkgPiBNQVhfUVVBTlRJVFlfUEVSX0lURU0pIHtcclxuICAgICAgcXVhbnRpdHkgPSBNQVhfUVVBTlRJVFlfUEVSX0lURU07XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGF0Y2godXBkYXRlSXRlbVF1YW50aXR5KHsgaWQ6IGl0ZW1JZCwgcXVhbnRpdHkgfSkpO1xyXG4gIH0sIFtkaXNwYXRjaCwgcmVtb3ZlSXRlbV0pO1xyXG5cclxuICBjb25zdCBjbGVhckFsbEl0ZW1zID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgZGlzcGF0Y2goY2xlYXJDYXJ0KCkpO1xyXG4gIH0sIFtkaXNwYXRjaF0pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEZVTkNJT05FUyBERSBVVElMSURBRCBPUFRJTUlaQURBU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGNvbnN0IGdldEl0ZW0gPSB1c2VDYWxsYmFjaygoaXRlbUlkOiBzdHJpbmcpOiBDYXJ0SXRlbSB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgICByZXR1cm4gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XHJcbiAgfSwgW2l0ZW1zXSk7XHJcblxyXG4gIGNvbnN0IGhhc0l0ZW0gPSB1c2VDYWxsYmFjaygoaXRlbUlkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBpdGVtcy5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcclxuICB9LCBbaXRlbXNdKTtcclxuXHJcbiAgY29uc3QgZ2V0SXRlbVF1YW50aXR5ID0gdXNlQ2FsbGJhY2soKGl0ZW1JZDogc3RyaW5nKTogbnVtYmVyID0+IHtcclxuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGl0ZW1JZCk7XHJcbiAgICByZXR1cm4gaXRlbT8ucXVhbnRpdHkgfHwgMDtcclxuICB9LCBbZ2V0SXRlbV0pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEZVTkNJT05FUyBERSBQRVJTSVNURU5DSUEgT1BUSU1JWkFEQVNcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBjb25zdCBzYXZlVG9Mb2NhbFN0b3JhZ2UgPSB1c2VDYWxsYmFjaygoY2FydEl0ZW1zOiBDYXJ0SXRlbVtdKSA9PiB7XHJcbiAgICBpZiAoIWVuYWJsZVBlcnNpc3RlbmNlIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7cmV0dXJuO31cclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2FydERhdGEgPSB7XHJcbiAgICAgICAgaXRlbXM6IGNhcnRJdGVtcyxcclxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgdmVyc2lvbjogJzEuMCcsXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoY2FydERhdGEpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGd1YXJkYW5kbyBjYXJyaXRvIGVuIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSwgW2VuYWJsZVBlcnNpc3RlbmNlXSk7XHJcblxyXG4gIGNvbnN0IGxvYWRGcm9tTG9jYWxTdG9yYWdlID0gdXNlQ2FsbGJhY2soKCk6IENhcnRJdGVtW10gPT4ge1xyXG4gICAgaWYgKCFlbmFibGVQZXJzaXN0ZW5jZSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge3JldHVybiBbXTt9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgICAgaWYgKCFzdG9yZWQpIHtyZXR1cm4gW107fVxyXG4gICAgICBcclxuICAgICAgY29uc3QgY2FydERhdGEgPSBKU09OLnBhcnNlKHN0b3JlZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWYWxpZGFyIGVzdHJ1Y3R1cmEgZGUgZGF0b3NcclxuICAgICAgaWYgKGNhcnREYXRhLml0ZW1zICYmIEFycmF5LmlzQXJyYXkoY2FydERhdGEuaXRlbXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhcnREYXRhLml0ZW1zO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYXJnYW5kbyBjYXJyaXRvIGRlc2RlIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9LCBbZW5hYmxlUGVyc2lzdGVuY2VdKTtcclxuXHJcbiAgY29uc3Qgc2F2ZUNhcnQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWVuYWJsZVBlcnNpc3RlbmNlKSB7cmV0dXJuO31cclxuICAgIFxyXG4gICAgLy8gR3VhcmRhciBlbiBsb2NhbFN0b3JhZ2VcclxuICAgIHNhdmVUb0xvY2FsU3RvcmFnZShpdGVtcyk7XHJcbiAgICBcclxuICAgIC8vIFNpIGhheSB1c3VhcmlvIGF1dGVudGljYWRvLCBndWFyZGFyIGVuIGJhY2tlbmQgKGltcGxlbWVudGFjacOzbiBmdXR1cmEpXHJcbiAgICBpZiAoZW5hYmxlVXNlclN5bmMgJiYgdXNlcj8uaWQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBBcXXDrSBzZSBpbXBsZW1lbnRhcsOtYSBsYSBsbGFtYWRhIGFsIGJhY2tlbmRcclxuICAgICAgICAvLyBhd2FpdCBzYXZlVXNlckNhcnQodXNlci5pZCwgaXRlbXMpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGd1YXJkYW5kbyBjYXJyaXRvIGRlbCB1c3VhcmlvOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIFtpdGVtcywgZW5hYmxlUGVyc2lzdGVuY2UsIGVuYWJsZVVzZXJTeW5jLCB1c2VyPy5pZCwgc2F2ZVRvTG9jYWxTdG9yYWdlXSk7XHJcblxyXG4gIGNvbnN0IGxvYWRDYXJ0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFlbmFibGVQZXJzaXN0ZW5jZSkge3JldHVybjt9XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBjYXJ0SXRlbXM6IENhcnRJdGVtW10gPSBbXTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNpIGhheSB1c3VhcmlvIGF1dGVudGljYWRvLCBjYXJnYXIgZGVzZGUgYmFja2VuZFxyXG4gICAgICBpZiAoZW5hYmxlVXNlclN5bmMgJiYgdXNlcj8uaWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gQXF1w60gc2UgaW1wbGVtZW50YXLDrWEgbGEgbGxhbWFkYSBhbCBiYWNrZW5kXHJcbiAgICAgICAgICAvLyBjYXJ0SXRlbXMgPSBhd2FpdCBsb2FkVXNlckNhcnQodXNlci5pZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhcmdhbmRvIGNhcnJpdG8gZGVsIHVzdWFyaW86JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU2kgbm8gaGF5IGl0ZW1zIGRlbCB1c3VhcmlvLCBjYXJnYXIgZGVzZGUgbG9jYWxTdG9yYWdlXHJcbiAgICAgIGlmIChjYXJ0SXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY2FydEl0ZW1zID0gbG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGNhcnRJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goaHlkcmF0ZUNhcnQoY2FydEl0ZW1zKSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhcmdhbmRvIGNhcnJpdG86JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sIFtlbmFibGVQZXJzaXN0ZW5jZSwgZW5hYmxlVXNlclN5bmMsIHVzZXI/LmlkLCBsb2FkRnJvbUxvY2FsU3RvcmFnZSwgZGlzcGF0Y2hdKTtcclxuXHJcbiAgY29uc3Qgc3luY1dpdGhVc2VyID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFlbmFibGVVc2VyU3luYyB8fCAhdXNlcj8uaWQpIHtyZXR1cm47fVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBNaWdyYXIgY2Fycml0byB0ZW1wb3JhbCBhIHVzdWFyaW8gYXV0ZW50aWNhZG9cclxuICAgICAgY29uc3QgdGVtcG9yYXJ5SXRlbXMgPSBsb2FkRnJvbUxvY2FsU3RvcmFnZSgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHRlbXBvcmFyeUl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyBDb21iaW5hciBjb24gaXRlbXMgZXhpc3RlbnRlcyBkZWwgdXN1YXJpb1xyXG4gICAgICAgIC8vIEFxdcOtIHNlIGltcGxlbWVudGFyw61hIGxhIGzDs2dpY2EgZGUgbWVyZ2VcclxuICAgICAgICBkaXNwYXRjaChyZXBsYWNlQ2FydCh0ZW1wb3JhcnlJdGVtcykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExpbXBpYXIgbG9jYWxTdG9yYWdlIGRlc3B1w6lzIGRlIG1pZ3JhY2nDs25cclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0tFWSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIENhcmdhciBjYXJyaXRvIGRlbCB1c3VhcmlvXHJcbiAgICAgIGF3YWl0IGxvYWRDYXJ0KCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaW5jcm9uaXphbmRvIGNhcnJpdG8gY29uIHVzdWFyaW86JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0sIFtlbmFibGVVc2VyU3luYywgdXNlcj8uaWQsIGxvYWRGcm9tTG9jYWxTdG9yYWdlLCBkaXNwYXRjaCwgbG9hZENhcnRdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBGVU5DSU9ORVMgREUgVkFMSURBQ0nDk05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBjb25zdCB2YWxpZGF0ZUNhcnQgPSB1c2VDYWxsYmFjaygoKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gaXRlbXMuZXZlcnkoaXRlbSA9PiBcclxuICAgICAgaXRlbS5pZCAmJiBcclxuICAgICAgaXRlbS5uYW1lICYmIFxyXG4gICAgICBpdGVtLnByaWNlID4gMCAmJiBcclxuICAgICAgaXRlbS5xdWFudGl0eSA+IDAgJiYgXHJcbiAgICAgIGl0ZW0ucXVhbnRpdHkgPD0gTUFYX1FVQU5USVRZX1BFUl9JVEVNXHJcbiAgICApO1xyXG4gIH0sIFtpdGVtc10pO1xyXG5cclxuICBjb25zdCBnZXRJbnZhbGlkSXRlbXMgPSB1c2VDYWxsYmFjaygoKTogQ2FydEl0ZW1bXSA9PiB7XHJcbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gXHJcbiAgICAgICFpdGVtLmlkIHx8IFxyXG4gICAgICAhaXRlbS5uYW1lIHx8IFxyXG4gICAgICBpdGVtLnByaWNlIDw9IDAgfHwgXHJcbiAgICAgIGl0ZW0ucXVhbnRpdHkgPD0gMCB8fCBcclxuICAgICAgaXRlbS5xdWFudGl0eSA+IE1BWF9RVUFOVElUWV9QRVJfSVRFTVxyXG4gICAgKTtcclxuICB9LCBbaXRlbXNdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBFRkVDVE9TIE9QVElNSVpBRE9TXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLy8gRWZlY3RvIHBhcmEgZ3VhcmRhZG8gYXV0b23DoXRpY28gY29uIGRlYm91bmNlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghZW5hYmxlUGVyc2lzdGVuY2UpIHtyZXR1cm47fVxyXG4gICAgXHJcbiAgICBjb25zdCBjdXJyZW50Q2FydFN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGl0ZW1zKTtcclxuICAgIFxyXG4gICAgLy8gRXZpdGFyIGd1YXJkYWRvcyBpbm5lY2VzYXJpb3NcclxuICAgIGlmIChjdXJyZW50Q2FydFN0cmluZyA9PT0gbGFzdFNhdmVSZWYuY3VycmVudCkge3JldHVybjt9XHJcbiAgICBcclxuICAgIGxhc3RTYXZlUmVmLmN1cnJlbnQgPSBjdXJyZW50Q2FydFN0cmluZztcclxuICAgIFxyXG4gICAgLy8gTGltcGlhciB0aW1lb3V0IGFudGVyaW9yXHJcbiAgICBpZiAoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFByb2dyYW1hciBndWFyZGFkbyBjb24gZGVib3VuY2VcclxuICAgIHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2F2ZUNhcnQoKTtcclxuICAgIH0sIHNhdmVEZWJvdW5jZU1zKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHNhdmVUaW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW2l0ZW1zLCBlbmFibGVQZXJzaXN0ZW5jZSwgc2F2ZURlYm91bmNlTXMsIHNhdmVDYXJ0XSk7XHJcblxyXG4gIC8vIEVmZWN0byBwYXJhIGNhbGxiYWNrIGRlIGNhbWJpb3NcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG9uQ2FydENoYW5nZSkge1xyXG4gICAgICBvbkNhcnRDaGFuZ2UoaXRlbXMsIHN1bW1hcnkpO1xyXG4gICAgfVxyXG4gIH0sIFtpdGVtcywgc3VtbWFyeSwgb25DYXJ0Q2hhbmdlXSk7XHJcblxyXG4gIC8vIEVmZWN0byBwYXJhIGNhcmdhIGluaWNpYWxcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzTG9hZGVkICYmICF1c2VyKSB7XHJcbiAgICAgIC8vIFVzdWFyaW8gbm8gYXV0ZW50aWNhZG8gLSBjYXJnYXIgZGVzZGUgbG9jYWxTdG9yYWdlXHJcbiAgICAgIGxvYWRDYXJ0KCk7XHJcbiAgICB9XHJcbiAgfSwgW2lzTG9hZGVkLCB1c2VyLCBsb2FkQ2FydF0pO1xyXG5cclxuICAvLyBFZmVjdG8gcGFyYSBzaW5jcm9uaXphY2nDs24gY29uIHVzdWFyaW9cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1t1c2VDYXJ0T3B0aW1pemVkXSDwn5qrIFNZTkMgV0lUSCBVU0VSIFRFTVBPUkFMTUVOVEUgREVTSEFCSUxJVEFETyBQQVJBIEVWSVRBUiBSRUNVUlNJw5NOJyk7XHJcbiAgICBcclxuXHJcbiAgICAvLyBDw5NESUdPIENPTUVOVEFETyBURU1QT1JBTE1FTlRFXHJcbiAgICAvLyBpZiAoaXNMb2FkZWQgJiYgdXNlciAmJiBlbmFibGVVc2VyU3luYykge1xyXG4gICAgLy8gICBzeW5jV2l0aFVzZXIoKTtcclxuICAgIC8vIH1cclxuICB9LCBbaXNMb2FkZWQsIHVzZXIsIGVuYWJsZVVzZXJTeW5jLCBzeW5jV2l0aFVzZXJdKTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBSRVRVUk4gT1BUSU1JWkFET1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAvLyBFc3RhZG8gZGVsIGNhcnJpdG9cclxuICAgIGl0ZW1zLFxyXG4gICAgc3VtbWFyeSxcclxuICAgIGlzTG9hZGluZzogIWlzTG9hZGVkLFxyXG4gICAgZXJyb3I6IG51bGwsXHJcbiAgICBcclxuICAgIC8vIEVzdGFkbyBkZSB1c3VhcmlvXHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcclxuICAgIHVzZXJJZDogdXNlcj8uaWQsXHJcbiAgICBcclxuICAgIC8vIEZ1bmNpb25lcyBkZSBtYW5pcHVsYWNpw7NuXHJcbiAgICBhZGRJdGVtLFxyXG4gICAgcmVtb3ZlSXRlbSxcclxuICAgIHVwZGF0ZVF1YW50aXR5LFxyXG4gICAgY2xlYXJBbGxJdGVtcyxcclxuICAgIFxyXG4gICAgLy8gRnVuY2lvbmVzIGRlIHV0aWxpZGFkXHJcbiAgICBnZXRJdGVtLFxyXG4gICAgaGFzSXRlbSxcclxuICAgIGdldEl0ZW1RdWFudGl0eSxcclxuICAgIFxyXG4gICAgLy8gRnVuY2lvbmVzIGRlIHBlcnNpc3RlbmNpYVxyXG4gICAgc2F2ZUNhcnQsXHJcbiAgICBsb2FkQ2FydCxcclxuICAgIHN5bmNXaXRoVXNlcixcclxuICAgIFxyXG4gICAgLy8gRnVuY2lvbmVzIGRlIHZhbGlkYWNpw7NuXHJcbiAgICB2YWxpZGF0ZUNhcnQsXHJcbiAgICBnZXRJbnZhbGlkSXRlbXMsXHJcbiAgfTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OytCQWdHZ0I7Ozs7OztXQUFBQSxnQkFBQTs7Ozs7aUNBOUZ3Qzs7O2lDQUNoQzs7O2lDQUN1Qjs7O2lDQVl4QztBQW9F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