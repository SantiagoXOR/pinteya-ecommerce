7c340e399f5fa2e5a0db578164e01bc5
// ===================================
// PINTEYA E-COMMERCE - RETRY LOGIC WITH EXPONENTIAL BACKOFF
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get RETRY_CONFIGS () {
        return RETRY_CONFIGS;
    },
    get createRetryFunction () {
        return createRetryFunction;
    },
    get retryMercadoPagoOperation () {
        return retryMercadoPagoOperation;
    },
    get retryWebhookOperation () {
        return retryWebhookOperation;
    },
    get retryWithBackoff () {
        return retryWithBackoff;
    }
});
const _logger = require("./enterprise/logger");
const _metrics = require("./enterprise/metrics");
const RETRY_CONFIGS = {
    // Para llamadas críticas a MercadoPago
    MERCADOPAGO_CRITICAL: {
        maxRetries: 3,
        baseDelayMs: 1000,
        maxDelayMs: 30000,
        backoffMultiplier: 2,
        jitterMs: 500,
        retryableErrors: [
            'ECONNRESET',
            'ENOTFOUND',
            'ECONNREFUSED',
            'ETIMEDOUT',
            'NETWORK_ERROR',
            'TIMEOUT',
            '500',
            '502',
            '503',
            '504',
            '429'
        ],
        nonRetryableErrors: [
            '400',
            '401',
            '403',
            '404',
            '422',
            'INVALID_CREDENTIALS',
            'INVALID_REQUEST',
            'PAYMENT_REJECTED'
        ]
    },
    // Para operaciones de consulta menos críticas
    MERCADOPAGO_QUERY: {
        maxRetries: 2,
        baseDelayMs: 500,
        maxDelayMs: 10000,
        backoffMultiplier: 2,
        jitterMs: 250,
        retryableErrors: [
            'ECONNRESET',
            'ENOTFOUND',
            'ETIMEDOUT',
            '500',
            '502',
            '503',
            '504'
        ],
        nonRetryableErrors: [
            '400',
            '401',
            '403',
            '404',
            '422'
        ]
    },
    // Para webhooks (menos agresivo)
    WEBHOOK_PROCESSING: {
        maxRetries: 1,
        baseDelayMs: 2000,
        maxDelayMs: 5000,
        backoffMultiplier: 1.5,
        jitterMs: 1000,
        retryableErrors: [
            'ECONNRESET',
            'ETIMEDOUT',
            '500',
            '503'
        ],
        nonRetryableErrors: [
            '400',
            '401',
            '403',
            '404',
            '422',
            'DUPLICATE_WEBHOOK'
        ]
    }
};
/**
 * Calcula el delay para el siguiente intento usando backoff exponencial con jitter
 */ function calculateDelay(attempt, config) {
    // Backoff exponencial: baseDelay * (multiplier ^ attempt)
    const exponentialDelay = config.baseDelayMs * Math.pow(config.backoffMultiplier, attempt);
    // Aplicar límite máximo
    const cappedDelay = Math.min(exponentialDelay, config.maxDelayMs);
    // Agregar jitter aleatorio para evitar thundering herd
    const jitter = Math.random() * config.jitterMs;
    return Math.floor(cappedDelay + jitter);
}
/**
 * Determina si un error es reintentable
 */ function isRetryableError(error, config) {
    const errorMessage = (error.message || '').toLowerCase();
    const errorName = (error.name || '').toLowerCase();
    // Verificar errores no reintenables primero (tienen prioridad)
    for (const nonRetryableError of config.nonRetryableErrors){
        if (errorMessage.includes(nonRetryableError.toLowerCase()) || errorName.includes(nonRetryableError.toLowerCase())) {
            return false;
        }
    }
    // Verificar errores reintenables
    for (const retryableError of config.retryableErrors){
        if (errorMessage.includes(retryableError.toLowerCase()) || errorName.includes(retryableError.toLowerCase())) {
            return true;
        }
    }
    // Por defecto, no reintentar errores desconocidos
    return false;
}
/**
 * Extrae información del error para logging
 */ function extractErrorInfo(error) {
    const message = (error.message || '').toLowerCase();
    const name = (error.name || '').toLowerCase();
    // Detectar errores de red
    const networkErrors = [
        'econnreset',
        'enotfound',
        'econnrefused',
        'etimedout'
    ];
    const isNetwork = networkErrors.some((netError)=>message.includes(netError) || name.includes(netError));
    // Extraer código de estado HTTP si existe
    const statusMatch = message.match(/(\d{3})/);
    const statusCode = statusMatch ? parseInt(statusMatch[1]) : undefined;
    return {
        type: name || 'unknown',
        code: statusCode?.toString(),
        statusCode,
        isNetwork
    };
}
async function retryWithBackoff(operation, config, operationName = 'unknown') {
    const startTime = Date.now();
    let lastError;
    let attempts = 0;
    _logger.logger.info(_logger.LogCategory.API, `Starting retry operation: ${operationName}`);
    for(let attempt = 0; attempt <= config.maxRetries; attempt++){
        attempts = attempt + 1;
        const attemptStart = Date.now();
        try {
            _logger.logger.info(_logger.LogCategory.API, `Retry attempt ${attempts}/${config.maxRetries + 1} for ${operationName}`);
            const result = await operation();
            const attemptDuration = Date.now() - attemptStart;
            const totalDuration = Date.now() - startTime;
            _logger.logger.info(_logger.LogCategory.API, `Retry operation succeeded: ${operationName}`);
            // ✅ NUEVO: Registrar métricas de retry exitoso
            await _metrics.metricsCollector.recordRetry(operationName, attempts, true, totalDuration);
            return {
                success: true,
                data: result,
                attempts,
                totalDuration,
                lastAttemptDuration: attemptDuration
            };
        } catch (error) {
            lastError = error;
            const attemptDuration = Date.now() - attemptStart;
            const errorInfo = extractErrorInfo(lastError);
            const attemptInfo = {
                attempt: attempts,
                maxRetries: config.maxRetries + 1,
                delay: 0,
                error: lastError,
                duration: attemptDuration
            };
            // Log del intento fallido
            _logger.logger.warn(_logger.LogCategory.API, `Retry attempt ${attempts} failed for ${operationName}`);
            // Si es el último intento, no calcular delay
            if (attempt === config.maxRetries) {
                break;
            }
            // Verificar si el error es reintentable
            if (!isRetryableError(lastError, config)) {
                _logger.logger.error(_logger.LogCategory.API, `Non-retryable error for ${operationName}`, lastError);
                break;
            }
            // Calcular delay para el siguiente intento
            const delay = calculateDelay(attempt, config);
            attemptInfo.delay = delay;
            _logger.logger.info(_logger.LogCategory.API, `Retrying ${operationName} in ${delay}ms`);
            // Esperar antes del siguiente intento
            await new Promise((resolve)=>setTimeout(resolve, delay));
        }
    }
    // Todos los intentos fallaron
    const totalDuration = Date.now() - startTime;
    _logger.logger.error(_logger.LogCategory.API, `All retry attempts failed for ${operationName}`, lastError);
    // ✅ NUEVO: Registrar métricas de retry fallido
    await _metrics.metricsCollector.recordRetry(operationName, attempts, false, totalDuration);
    return {
        success: false,
        error: lastError,
        attempts,
        totalDuration,
        lastAttemptDuration: 0
    };
}
async function retryMercadoPagoOperation(operation, operationName, isCritical = true) {
    const config = isCritical ? RETRY_CONFIGS.MERCADOPAGO_CRITICAL : RETRY_CONFIGS.MERCADOPAGO_QUERY;
    return retryWithBackoff(operation, config, `MercadoPago:${operationName}`);
}
async function retryWebhookOperation(operation, operationName) {
    return retryWithBackoff(operation, RETRY_CONFIGS.WEBHOOK_PROCESSING, `Webhook:${operationName}`);
}
function createRetryFunction(config, operationName) {
    return (operation)=>{
        return retryWithBackoff(operation, config, operationName);
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxyZXRyeS1sb2dpYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gUkVUUlkgTE9HSUMgV0lUSCBFWFBPTkVOVElBTCBCQUNLT0ZGXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyBsb2dnZXIsIExvZ0xldmVsLCBMb2dDYXRlZ29yeSB9IGZyb20gJy4vZW50ZXJwcmlzZS9sb2dnZXInXG5pbXBvcnQgeyBtZXRyaWNzQ29sbGVjdG9yIH0gZnJvbSAnLi9lbnRlcnByaXNlL21ldHJpY3MnXG5cbi8vIENvbmZpZ3VyYWNpw7NuIGRlIHJldHJ5XG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5Q29uZmlnIHtcbiAgbWF4UmV0cmllczogbnVtYmVyIC8vIE3DoXhpbW8gbsO6bWVybyBkZSByZWludGVudG9zXG4gIGJhc2VEZWxheU1zOiBudW1iZXIgLy8gRGVsYXkgYmFzZSBlbiBtaWxpc2VndW5kb3NcbiAgbWF4RGVsYXlNczogbnVtYmVyIC8vIERlbGF5IG3DoXhpbW8gZW4gbWlsaXNlZ3VuZG9zXG4gIGJhY2tvZmZNdWx0aXBsaWVyOiBudW1iZXIgLy8gTXVsdGlwbGljYWRvciBwYXJhIGJhY2tvZmYgZXhwb25lbmNpYWxcbiAgaml0dGVyTXM6IG51bWJlciAvLyBKaXR0ZXIgbcOheGltbyBlbiBtaWxpc2VndW5kb3NcbiAgcmV0cnlhYmxlRXJyb3JzOiBzdHJpbmdbXSAvLyBDw7NkaWdvcyBkZSBlcnJvciBxdWUgcGVybWl0ZW4gcmV0cnlcbiAgbm9uUmV0cnlhYmxlRXJyb3JzOiBzdHJpbmdbXSAvLyBDw7NkaWdvcyBkZSBlcnJvciBxdWUgTk8gcGVybWl0ZW4gcmV0cnlcbn1cblxuLy8gQ29uZmlndXJhY2lvbmVzIHByZWRlZmluaWRhc1xuZXhwb3J0IGNvbnN0IFJFVFJZX0NPTkZJR1M6IFJlY29yZDxzdHJpbmcsIFJldHJ5Q29uZmlnPiA9IHtcbiAgLy8gUGFyYSBsbGFtYWRhcyBjcsOtdGljYXMgYSBNZXJjYWRvUGFnb1xuICBNRVJDQURPUEFHT19DUklUSUNBTDoge1xuICAgIG1heFJldHJpZXM6IDMsXG4gICAgYmFzZURlbGF5TXM6IDEwMDAsIC8vIDEgc2VndW5kb1xuICAgIG1heERlbGF5TXM6IDMwMDAwLCAvLyAzMCBzZWd1bmRvc1xuICAgIGJhY2tvZmZNdWx0aXBsaWVyOiAyLFxuICAgIGppdHRlck1zOiA1MDAsXG4gICAgcmV0cnlhYmxlRXJyb3JzOiBbXG4gICAgICAnRUNPTk5SRVNFVCcsXG4gICAgICAnRU5PVEZPVU5EJyxcbiAgICAgICdFQ09OTlJFRlVTRUQnLFxuICAgICAgJ0VUSU1FRE9VVCcsXG4gICAgICAnTkVUV09SS19FUlJPUicsXG4gICAgICAnVElNRU9VVCcsXG4gICAgICAnNTAwJyxcbiAgICAgICc1MDInLFxuICAgICAgJzUwMycsXG4gICAgICAnNTA0JyxcbiAgICAgICc0MjknLCAvLyBSYXRlIGxpbWl0IC0gcmV0cnkgZGVzcHXDqXMgZGUgZGVsYXlcbiAgICBdLFxuICAgIG5vblJldHJ5YWJsZUVycm9yczogW1xuICAgICAgJzQwMCcsIC8vIEJhZCBSZXF1ZXN0XG4gICAgICAnNDAxJywgLy8gVW5hdXRob3JpemVkXG4gICAgICAnNDAzJywgLy8gRm9yYmlkZGVuXG4gICAgICAnNDA0JywgLy8gTm90IEZvdW5kXG4gICAgICAnNDIyJywgLy8gVW5wcm9jZXNzYWJsZSBFbnRpdHlcbiAgICAgICdJTlZBTElEX0NSRURFTlRJQUxTJyxcbiAgICAgICdJTlZBTElEX1JFUVVFU1QnLFxuICAgICAgJ1BBWU1FTlRfUkVKRUNURUQnLFxuICAgIF0sXG4gIH0sXG5cbiAgLy8gUGFyYSBvcGVyYWNpb25lcyBkZSBjb25zdWx0YSBtZW5vcyBjcsOtdGljYXNcbiAgTUVSQ0FET1BBR09fUVVFUlk6IHtcbiAgICBtYXhSZXRyaWVzOiAyLFxuICAgIGJhc2VEZWxheU1zOiA1MDAsIC8vIDAuNSBzZWd1bmRvc1xuICAgIG1heERlbGF5TXM6IDEwMDAwLCAvLyAxMCBzZWd1bmRvc1xuICAgIGJhY2tvZmZNdWx0aXBsaWVyOiAyLFxuICAgIGppdHRlck1zOiAyNTAsXG4gICAgcmV0cnlhYmxlRXJyb3JzOiBbJ0VDT05OUkVTRVQnLCAnRU5PVEZPVU5EJywgJ0VUSU1FRE9VVCcsICc1MDAnLCAnNTAyJywgJzUwMycsICc1MDQnXSxcbiAgICBub25SZXRyeWFibGVFcnJvcnM6IFsnNDAwJywgJzQwMScsICc0MDMnLCAnNDA0JywgJzQyMiddLFxuICB9LFxuXG4gIC8vIFBhcmEgd2ViaG9va3MgKG1lbm9zIGFncmVzaXZvKVxuICBXRUJIT09LX1BST0NFU1NJTkc6IHtcbiAgICBtYXhSZXRyaWVzOiAxLFxuICAgIGJhc2VEZWxheU1zOiAyMDAwLCAvLyAyIHNlZ3VuZG9zXG4gICAgbWF4RGVsYXlNczogNTAwMCwgLy8gNSBzZWd1bmRvc1xuICAgIGJhY2tvZmZNdWx0aXBsaWVyOiAxLjUsXG4gICAgaml0dGVyTXM6IDEwMDAsXG4gICAgcmV0cnlhYmxlRXJyb3JzOiBbJ0VDT05OUkVTRVQnLCAnRVRJTUVET1VUJywgJzUwMCcsICc1MDMnXSxcbiAgICBub25SZXRyeWFibGVFcnJvcnM6IFsnNDAwJywgJzQwMScsICc0MDMnLCAnNDA0JywgJzQyMicsICdEVVBMSUNBVEVfV0VCSE9PSyddLFxuICB9LFxufSBhcyBjb25zdFxuXG4vLyBSZXN1bHRhZG8gZGVsIHJldHJ5XG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5UmVzdWx0PFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhblxuICBkYXRhPzogVFxuICBlcnJvcj86IEVycm9yXG4gIGF0dGVtcHRzOiBudW1iZXJcbiAgdG90YWxEdXJhdGlvbjogbnVtYmVyXG4gIGxhc3RBdHRlbXB0RHVyYXRpb246IG51bWJlclxufVxuXG4vLyBJbmZvcm1hY2nDs24gZGVsIGludGVudG9cbmV4cG9ydCBpbnRlcmZhY2UgQXR0ZW1wdEluZm8ge1xuICBhdHRlbXB0OiBudW1iZXJcbiAgbWF4UmV0cmllczogbnVtYmVyXG4gIGRlbGF5OiBudW1iZXJcbiAgZXJyb3I/OiBFcnJvclxuICBkdXJhdGlvbjogbnVtYmVyXG59XG5cbi8qKlxuICogQ2FsY3VsYSBlbCBkZWxheSBwYXJhIGVsIHNpZ3VpZW50ZSBpbnRlbnRvIHVzYW5kbyBiYWNrb2ZmIGV4cG9uZW5jaWFsIGNvbiBqaXR0ZXJcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRGVsYXkoYXR0ZW1wdDogbnVtYmVyLCBjb25maWc6IFJldHJ5Q29uZmlnKTogbnVtYmVyIHtcbiAgLy8gQmFja29mZiBleHBvbmVuY2lhbDogYmFzZURlbGF5ICogKG11bHRpcGxpZXIgXiBhdHRlbXB0KVxuICBjb25zdCBleHBvbmVudGlhbERlbGF5ID0gY29uZmlnLmJhc2VEZWxheU1zICogTWF0aC5wb3coY29uZmlnLmJhY2tvZmZNdWx0aXBsaWVyLCBhdHRlbXB0KVxuXG4gIC8vIEFwbGljYXIgbMOtbWl0ZSBtw6F4aW1vXG4gIGNvbnN0IGNhcHBlZERlbGF5ID0gTWF0aC5taW4oZXhwb25lbnRpYWxEZWxheSwgY29uZmlnLm1heERlbGF5TXMpXG5cbiAgLy8gQWdyZWdhciBqaXR0ZXIgYWxlYXRvcmlvIHBhcmEgZXZpdGFyIHRodW5kZXJpbmcgaGVyZFxuICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogY29uZmlnLmppdHRlck1zXG5cbiAgcmV0dXJuIE1hdGguZmxvb3IoY2FwcGVkRGVsYXkgKyBqaXR0ZXIpXG59XG5cbi8qKlxuICogRGV0ZXJtaW5hIHNpIHVuIGVycm9yIGVzIHJlaW50ZW50YWJsZVxuICovXG5mdW5jdGlvbiBpc1JldHJ5YWJsZUVycm9yKGVycm9yOiBFcnJvciwgY29uZmlnOiBSZXRyeUNvbmZpZyk6IGJvb2xlYW4ge1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoZXJyb3IubWVzc2FnZSB8fCAnJykudG9Mb3dlckNhc2UoKVxuICBjb25zdCBlcnJvck5hbWUgPSAoZXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKVxuXG4gIC8vIFZlcmlmaWNhciBlcnJvcmVzIG5vIHJlaW50ZW5hYmxlcyBwcmltZXJvICh0aWVuZW4gcHJpb3JpZGFkKVxuICBmb3IgKGNvbnN0IG5vblJldHJ5YWJsZUVycm9yIG9mIGNvbmZpZy5ub25SZXRyeWFibGVFcnJvcnMpIHtcbiAgICBpZiAoXG4gICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMobm9uUmV0cnlhYmxlRXJyb3IudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgIGVycm9yTmFtZS5pbmNsdWRlcyhub25SZXRyeWFibGVFcnJvci50b0xvd2VyQ2FzZSgpKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgLy8gVmVyaWZpY2FyIGVycm9yZXMgcmVpbnRlbmFibGVzXG4gIGZvciAoY29uc3QgcmV0cnlhYmxlRXJyb3Igb2YgY29uZmlnLnJldHJ5YWJsZUVycm9ycykge1xuICAgIGlmIChcbiAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcyhyZXRyeWFibGVFcnJvci50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgZXJyb3JOYW1lLmluY2x1ZGVzKHJldHJ5YWJsZUVycm9yLnRvTG93ZXJDYXNlKCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIFBvciBkZWZlY3RvLCBubyByZWludGVudGFyIGVycm9yZXMgZGVzY29ub2NpZG9zXG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIEV4dHJhZSBpbmZvcm1hY2nDs24gZGVsIGVycm9yIHBhcmEgbG9nZ2luZ1xuICovXG5mdW5jdGlvbiBleHRyYWN0RXJyb3JJbmZvKGVycm9yOiBFcnJvcik6IHtcbiAgdHlwZTogc3RyaW5nXG4gIGNvZGU/OiBzdHJpbmdcbiAgc3RhdHVzQ29kZT86IG51bWJlclxuICBpc05ldHdvcms6IGJvb2xlYW5cbn0ge1xuICBjb25zdCBtZXNzYWdlID0gKGVycm9yLm1lc3NhZ2UgfHwgJycpLnRvTG93ZXJDYXNlKClcbiAgY29uc3QgbmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpXG5cbiAgLy8gRGV0ZWN0YXIgZXJyb3JlcyBkZSByZWRcbiAgY29uc3QgbmV0d29ya0Vycm9ycyA9IFsnZWNvbm5yZXNldCcsICdlbm90Zm91bmQnLCAnZWNvbm5yZWZ1c2VkJywgJ2V0aW1lZG91dCddXG4gIGNvbnN0IGlzTmV0d29yayA9IG5ldHdvcmtFcnJvcnMuc29tZShcbiAgICBuZXRFcnJvciA9PiBtZXNzYWdlLmluY2x1ZGVzKG5ldEVycm9yKSB8fCBuYW1lLmluY2x1ZGVzKG5ldEVycm9yKVxuICApXG5cbiAgLy8gRXh0cmFlciBjw7NkaWdvIGRlIGVzdGFkbyBIVFRQIHNpIGV4aXN0ZVxuICBjb25zdCBzdGF0dXNNYXRjaCA9IG1lc3NhZ2UubWF0Y2goLyhcXGR7M30pLylcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IHN0YXR1c01hdGNoID8gcGFyc2VJbnQoc3RhdHVzTWF0Y2hbMV0pIDogdW5kZWZpbmVkXG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBuYW1lIHx8ICd1bmtub3duJyxcbiAgICBjb2RlOiBzdGF0dXNDb2RlPy50b1N0cmluZygpLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgaXNOZXR3b3JrLFxuICB9XG59XG5cbi8qKlxuICogRnVuY2nDs24gcHJpbmNpcGFsIGRlIHJldHJ5IGNvbiBiYWNrb2ZmIGV4cG9uZW5jaWFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyeVdpdGhCYWNrb2ZmPFQ+KFxuICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gIGNvbmZpZzogUmV0cnlDb25maWcsXG4gIG9wZXJhdGlvbk5hbWU6IHN0cmluZyA9ICd1bmtub3duJ1xuKTogUHJvbWlzZTxSZXRyeVJlc3VsdDxUPj4ge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gIGxldCBsYXN0RXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkXG4gIGxldCBhdHRlbXB0cyA9IDBcblxuICBsb2dnZXIuaW5mbyhMb2dDYXRlZ29yeS5BUEksIGBTdGFydGluZyByZXRyeSBvcGVyYXRpb246ICR7b3BlcmF0aW9uTmFtZX1gKVxuXG4gIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDw9IGNvbmZpZy5tYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICBhdHRlbXB0cyA9IGF0dGVtcHQgKyAxXG4gICAgY29uc3QgYXR0ZW1wdFN0YXJ0ID0gRGF0ZS5ub3coKVxuXG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5pbmZvKFxuICAgICAgICBMb2dDYXRlZ29yeS5BUEksXG4gICAgICAgIGBSZXRyeSBhdHRlbXB0ICR7YXR0ZW1wdHN9LyR7Y29uZmlnLm1heFJldHJpZXMgKyAxfSBmb3IgJHtvcGVyYXRpb25OYW1lfWBcbiAgICAgIClcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uKClcbiAgICAgIGNvbnN0IGF0dGVtcHREdXJhdGlvbiA9IERhdGUubm93KCkgLSBhdHRlbXB0U3RhcnRcbiAgICAgIGNvbnN0IHRvdGFsRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG5cbiAgICAgIGxvZ2dlci5pbmZvKExvZ0NhdGVnb3J5LkFQSSwgYFJldHJ5IG9wZXJhdGlvbiBzdWNjZWVkZWQ6ICR7b3BlcmF0aW9uTmFtZX1gKVxuXG4gICAgICAvLyDinIUgTlVFVk86IFJlZ2lzdHJhciBtw6l0cmljYXMgZGUgcmV0cnkgZXhpdG9zb1xuICAgICAgYXdhaXQgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRSZXRyeShvcGVyYXRpb25OYW1lLCBhdHRlbXB0cywgdHJ1ZSwgdG90YWxEdXJhdGlvbilcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICBhdHRlbXB0cyxcbiAgICAgICAgdG90YWxEdXJhdGlvbixcbiAgICAgICAgbGFzdEF0dGVtcHREdXJhdGlvbjogYXR0ZW1wdER1cmF0aW9uLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvciBhcyBFcnJvclxuICAgICAgY29uc3QgYXR0ZW1wdER1cmF0aW9uID0gRGF0ZS5ub3coKSAtIGF0dGVtcHRTdGFydFxuICAgICAgY29uc3QgZXJyb3JJbmZvID0gZXh0cmFjdEVycm9ySW5mbyhsYXN0RXJyb3IpXG5cbiAgICAgIGNvbnN0IGF0dGVtcHRJbmZvOiBBdHRlbXB0SW5mbyA9IHtcbiAgICAgICAgYXR0ZW1wdDogYXR0ZW1wdHMsXG4gICAgICAgIG1heFJldHJpZXM6IGNvbmZpZy5tYXhSZXRyaWVzICsgMSxcbiAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgIGVycm9yOiBsYXN0RXJyb3IsXG4gICAgICAgIGR1cmF0aW9uOiBhdHRlbXB0RHVyYXRpb24sXG4gICAgICB9XG5cbiAgICAgIC8vIExvZyBkZWwgaW50ZW50byBmYWxsaWRvXG4gICAgICBsb2dnZXIud2FybihMb2dDYXRlZ29yeS5BUEksIGBSZXRyeSBhdHRlbXB0ICR7YXR0ZW1wdHN9IGZhaWxlZCBmb3IgJHtvcGVyYXRpb25OYW1lfWApXG5cbiAgICAgIC8vIFNpIGVzIGVsIMO6bHRpbW8gaW50ZW50bywgbm8gY2FsY3VsYXIgZGVsYXlcbiAgICAgIGlmIChhdHRlbXB0ID09PSBjb25maWcubWF4UmV0cmllcykge1xuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2kgZWwgZXJyb3IgZXMgcmVpbnRlbnRhYmxlXG4gICAgICBpZiAoIWlzUmV0cnlhYmxlRXJyb3IobGFzdEVycm9yLCBjb25maWcpKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihMb2dDYXRlZ29yeS5BUEksIGBOb24tcmV0cnlhYmxlIGVycm9yIGZvciAke29wZXJhdGlvbk5hbWV9YCwgbGFzdEVycm9yKVxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhciBkZWxheSBwYXJhIGVsIHNpZ3VpZW50ZSBpbnRlbnRvXG4gICAgICBjb25zdCBkZWxheSA9IGNhbGN1bGF0ZURlbGF5KGF0dGVtcHQsIGNvbmZpZylcbiAgICAgIGF0dGVtcHRJbmZvLmRlbGF5ID0gZGVsYXlcblxuICAgICAgbG9nZ2VyLmluZm8oTG9nQ2F0ZWdvcnkuQVBJLCBgUmV0cnlpbmcgJHtvcGVyYXRpb25OYW1lfSBpbiAke2RlbGF5fW1zYClcblxuICAgICAgLy8gRXNwZXJhciBhbnRlcyBkZWwgc2lndWllbnRlIGludGVudG9cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpXG4gICAgfVxuICB9XG5cbiAgLy8gVG9kb3MgbG9zIGludGVudG9zIGZhbGxhcm9uXG4gIGNvbnN0IHRvdGFsRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG5cbiAgbG9nZ2VyLmVycm9yKExvZ0NhdGVnb3J5LkFQSSwgYEFsbCByZXRyeSBhdHRlbXB0cyBmYWlsZWQgZm9yICR7b3BlcmF0aW9uTmFtZX1gLCBsYXN0RXJyb3IhKVxuXG4gIC8vIOKchSBOVUVWTzogUmVnaXN0cmFyIG3DqXRyaWNhcyBkZSByZXRyeSBmYWxsaWRvXG4gIGF3YWl0IG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkUmV0cnkob3BlcmF0aW9uTmFtZSwgYXR0ZW1wdHMsIGZhbHNlLCB0b3RhbER1cmF0aW9uKVxuXG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3I6IGxhc3RFcnJvcixcbiAgICBhdHRlbXB0cyxcbiAgICB0b3RhbER1cmF0aW9uLFxuICAgIGxhc3RBdHRlbXB0RHVyYXRpb246IDAsXG4gIH1cbn1cblxuLyoqXG4gKiBXcmFwcGVyIGVzcGVjw61maWNvIHBhcmEgb3BlcmFjaW9uZXMgZGUgTWVyY2Fkb1BhZ29cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJ5TWVyY2Fkb1BhZ29PcGVyYXRpb248VD4oXG4gIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgb3BlcmF0aW9uTmFtZTogc3RyaW5nLFxuICBpc0NyaXRpY2FsOiBib29sZWFuID0gdHJ1ZVxuKTogUHJvbWlzZTxSZXRyeVJlc3VsdDxUPj4ge1xuICBjb25zdCBjb25maWcgPSBpc0NyaXRpY2FsID8gUkVUUllfQ09ORklHUy5NRVJDQURPUEFHT19DUklUSUNBTCA6IFJFVFJZX0NPTkZJR1MuTUVSQ0FET1BBR09fUVVFUllcblxuICByZXR1cm4gcmV0cnlXaXRoQmFja29mZihvcGVyYXRpb24sIGNvbmZpZywgYE1lcmNhZG9QYWdvOiR7b3BlcmF0aW9uTmFtZX1gKVxufVxuXG4vKipcbiAqIFdyYXBwZXIgcGFyYSBvcGVyYWNpb25lcyBkZSB3ZWJob29rXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyeVdlYmhvb2tPcGVyYXRpb248VD4oXG4gIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgb3BlcmF0aW9uTmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPFJldHJ5UmVzdWx0PFQ+PiB7XG4gIHJldHVybiByZXRyeVdpdGhCYWNrb2ZmKG9wZXJhdGlvbiwgUkVUUllfQ09ORklHUy5XRUJIT09LX1BST0NFU1NJTkcsIGBXZWJob29rOiR7b3BlcmF0aW9uTmFtZX1gKVxufVxuXG4vKipcbiAqIEZ1bmNpw7NuIGRlIHV0aWxpZGFkIHBhcmEgY3JlYXIgdW4gcmV0cnkgcGVyc29uYWxpemFkb1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmV0cnlGdW5jdGlvbjxUPihjb25maWc6IFJldHJ5Q29uZmlnLCBvcGVyYXRpb25OYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFJldHJ5UmVzdWx0PFQ+PiA9PiB7XG4gICAgcmV0dXJuIHJldHJ5V2l0aEJhY2tvZmYob3BlcmF0aW9uLCBjb25maWcsIG9wZXJhdGlvbk5hbWUpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJSRVRSWV9DT05GSUdTIiwiY3JlYXRlUmV0cnlGdW5jdGlvbiIsInJldHJ5TWVyY2Fkb1BhZ29PcGVyYXRpb24iLCJyZXRyeVdlYmhvb2tPcGVyYXRpb24iLCJyZXRyeVdpdGhCYWNrb2ZmIiwiTUVSQ0FET1BBR09fQ1JJVElDQUwiLCJtYXhSZXRyaWVzIiwiYmFzZURlbGF5TXMiLCJtYXhEZWxheU1zIiwiYmFja29mZk11bHRpcGxpZXIiLCJqaXR0ZXJNcyIsInJldHJ5YWJsZUVycm9ycyIsIm5vblJldHJ5YWJsZUVycm9ycyIsIk1FUkNBRE9QQUdPX1FVRVJZIiwiV0VCSE9PS19QUk9DRVNTSU5HIiwiY2FsY3VsYXRlRGVsYXkiLCJhdHRlbXB0IiwiY29uZmlnIiwiZXhwb25lbnRpYWxEZWxheSIsIk1hdGgiLCJwb3ciLCJjYXBwZWREZWxheSIsIm1pbiIsImppdHRlciIsInJhbmRvbSIsImZsb29yIiwiaXNSZXRyeWFibGVFcnJvciIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInRvTG93ZXJDYXNlIiwiZXJyb3JOYW1lIiwibmFtZSIsIm5vblJldHJ5YWJsZUVycm9yIiwiaW5jbHVkZXMiLCJyZXRyeWFibGVFcnJvciIsImV4dHJhY3RFcnJvckluZm8iLCJuZXR3b3JrRXJyb3JzIiwiaXNOZXR3b3JrIiwic29tZSIsIm5ldEVycm9yIiwic3RhdHVzTWF0Y2giLCJtYXRjaCIsInN0YXR1c0NvZGUiLCJwYXJzZUludCIsInVuZGVmaW5lZCIsInR5cGUiLCJjb2RlIiwidG9TdHJpbmciLCJvcGVyYXRpb24iLCJvcGVyYXRpb25OYW1lIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImxhc3RFcnJvciIsImF0dGVtcHRzIiwibG9nZ2VyIiwiaW5mbyIsIkxvZ0NhdGVnb3J5IiwiQVBJIiwiYXR0ZW1wdFN0YXJ0IiwicmVzdWx0IiwiYXR0ZW1wdER1cmF0aW9uIiwidG90YWxEdXJhdGlvbiIsIm1ldHJpY3NDb2xsZWN0b3IiLCJyZWNvcmRSZXRyeSIsInN1Y2Nlc3MiLCJkYXRhIiwibGFzdEF0dGVtcHREdXJhdGlvbiIsImVycm9ySW5mbyIsImF0dGVtcHRJbmZvIiwiZGVsYXkiLCJkdXJhdGlvbiIsIndhcm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpc0NyaXRpY2FsIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsNERBQTREO0FBQzVELHNDQUFzQzs7Ozs7Ozs7Ozs7O1FBaUJ6QkE7ZUFBQUE7O1FBaVJHQztlQUFBQTs7UUF2Qk1DO2VBQUFBOztRQWFBQztlQUFBQTs7UUE1R0FDO2VBQUFBOzs7d0JBMUt3Qjt5QkFDYjtBQWMxQixNQUFNSixnQkFBNkM7SUFDeEQsdUNBQXVDO0lBQ3ZDSyxzQkFBc0I7UUFDcEJDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxZQUFZO1FBQ1pDLG1CQUFtQjtRQUNuQkMsVUFBVTtRQUNWQyxpQkFBaUI7WUFDZjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsb0JBQW9CO1lBQ2xCO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtJQUNIO0lBRUEsOENBQThDO0lBQzlDQyxtQkFBbUI7UUFDakJQLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxZQUFZO1FBQ1pDLG1CQUFtQjtRQUNuQkMsVUFBVTtRQUNWQyxpQkFBaUI7WUFBQztZQUFjO1lBQWE7WUFBYTtZQUFPO1lBQU87WUFBTztTQUFNO1FBQ3JGQyxvQkFBb0I7WUFBQztZQUFPO1lBQU87WUFBTztZQUFPO1NBQU07SUFDekQ7SUFFQSxpQ0FBaUM7SUFDakNFLG9CQUFvQjtRQUNsQlIsWUFBWTtRQUNaQyxhQUFhO1FBQ2JDLFlBQVk7UUFDWkMsbUJBQW1CO1FBQ25CQyxVQUFVO1FBQ1ZDLGlCQUFpQjtZQUFDO1lBQWM7WUFBYTtZQUFPO1NBQU07UUFDMURDLG9CQUFvQjtZQUFDO1lBQU87WUFBTztZQUFPO1lBQU87WUFBTztTQUFvQjtJQUM5RTtBQUNGO0FBcUJBOztDQUVDLEdBQ0QsU0FBU0csZUFBZUMsT0FBZSxFQUFFQyxNQUFtQjtJQUMxRCwwREFBMEQ7SUFDMUQsTUFBTUMsbUJBQW1CRCxPQUFPVixXQUFXLEdBQUdZLEtBQUtDLEdBQUcsQ0FBQ0gsT0FBT1IsaUJBQWlCLEVBQUVPO0lBRWpGLHdCQUF3QjtJQUN4QixNQUFNSyxjQUFjRixLQUFLRyxHQUFHLENBQUNKLGtCQUFrQkQsT0FBT1QsVUFBVTtJQUVoRSx1REFBdUQ7SUFDdkQsTUFBTWUsU0FBU0osS0FBS0ssTUFBTSxLQUFLUCxPQUFPUCxRQUFRO0lBRTlDLE9BQU9TLEtBQUtNLEtBQUssQ0FBQ0osY0FBY0U7QUFDbEM7QUFFQTs7Q0FFQyxHQUNELFNBQVNHLGlCQUFpQkMsS0FBWSxFQUFFVixNQUFtQjtJQUN6RCxNQUFNVyxlQUFlLEFBQUNELENBQUFBLE1BQU1FLE9BQU8sSUFBSSxFQUFDLEVBQUdDLFdBQVc7SUFDdEQsTUFBTUMsWUFBWSxBQUFDSixDQUFBQSxNQUFNSyxJQUFJLElBQUksRUFBQyxFQUFHRixXQUFXO0lBRWhELCtEQUErRDtJQUMvRCxLQUFLLE1BQU1HLHFCQUFxQmhCLE9BQU9MLGtCQUFrQixDQUFFO1FBQ3pELElBQ0VnQixhQUFhTSxRQUFRLENBQUNELGtCQUFrQkgsV0FBVyxPQUNuREMsVUFBVUcsUUFBUSxDQUFDRCxrQkFBa0JILFdBQVcsS0FDaEQ7WUFDQSxPQUFPO1FBQ1Q7SUFDRjtJQUVBLGlDQUFpQztJQUNqQyxLQUFLLE1BQU1LLGtCQUFrQmxCLE9BQU9OLGVBQWUsQ0FBRTtRQUNuRCxJQUNFaUIsYUFBYU0sUUFBUSxDQUFDQyxlQUFlTCxXQUFXLE9BQ2hEQyxVQUFVRyxRQUFRLENBQUNDLGVBQWVMLFdBQVcsS0FDN0M7WUFDQSxPQUFPO1FBQ1Q7SUFDRjtJQUVBLGtEQUFrRDtJQUNsRCxPQUFPO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNELFNBQVNNLGlCQUFpQlQsS0FBWTtJQU1wQyxNQUFNRSxVQUFVLEFBQUNGLENBQUFBLE1BQU1FLE9BQU8sSUFBSSxFQUFDLEVBQUdDLFdBQVc7SUFDakQsTUFBTUUsT0FBTyxBQUFDTCxDQUFBQSxNQUFNSyxJQUFJLElBQUksRUFBQyxFQUFHRixXQUFXO0lBRTNDLDBCQUEwQjtJQUMxQixNQUFNTyxnQkFBZ0I7UUFBQztRQUFjO1FBQWE7UUFBZ0I7S0FBWTtJQUM5RSxNQUFNQyxZQUFZRCxjQUFjRSxJQUFJLENBQ2xDQyxDQUFBQSxXQUFZWCxRQUFRSyxRQUFRLENBQUNNLGFBQWFSLEtBQUtFLFFBQVEsQ0FBQ007SUFHMUQsMENBQTBDO0lBQzFDLE1BQU1DLGNBQWNaLFFBQVFhLEtBQUssQ0FBQztJQUNsQyxNQUFNQyxhQUFhRixjQUFjRyxTQUFTSCxXQUFXLENBQUMsRUFBRSxJQUFJSTtJQUU1RCxPQUFPO1FBQ0xDLE1BQU1kLFFBQVE7UUFDZGUsTUFBTUosWUFBWUs7UUFDbEJMO1FBQ0FMO0lBQ0Y7QUFDRjtBQUtPLGVBQWVsQyxpQkFDcEI2QyxTQUEyQixFQUMzQmhDLE1BQW1CLEVBQ25CaUMsZ0JBQXdCLFNBQVM7SUFFakMsTUFBTUMsWUFBWUMsS0FBS0MsR0FBRztJQUMxQixJQUFJQztJQUNKLElBQUlDLFdBQVc7SUFFZkMsY0FBTSxDQUFDQyxJQUFJLENBQUNDLG1CQUFXLENBQUNDLEdBQUcsRUFBRSxDQUFDLDBCQUEwQixFQUFFVCxlQUFlO0lBRXpFLElBQUssSUFBSWxDLFVBQVUsR0FBR0EsV0FBV0MsT0FBT1gsVUFBVSxFQUFFVSxVQUFXO1FBQzdEdUMsV0FBV3ZDLFVBQVU7UUFDckIsTUFBTTRDLGVBQWVSLEtBQUtDLEdBQUc7UUFFN0IsSUFBSTtZQUNGRyxjQUFNLENBQUNDLElBQUksQ0FDVEMsbUJBQVcsQ0FBQ0MsR0FBRyxFQUNmLENBQUMsY0FBYyxFQUFFSixTQUFTLENBQUMsRUFBRXRDLE9BQU9YLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTRDLGVBQWU7WUFHM0UsTUFBTVcsU0FBUyxNQUFNWjtZQUNyQixNQUFNYSxrQkFBa0JWLEtBQUtDLEdBQUcsS0FBS087WUFDckMsTUFBTUcsZ0JBQWdCWCxLQUFLQyxHQUFHLEtBQUtGO1lBRW5DSyxjQUFNLENBQUNDLElBQUksQ0FBQ0MsbUJBQVcsQ0FBQ0MsR0FBRyxFQUFFLENBQUMsMkJBQTJCLEVBQUVULGVBQWU7WUFFMUUsK0NBQStDO1lBQy9DLE1BQU1jLHlCQUFnQixDQUFDQyxXQUFXLENBQUNmLGVBQWVLLFVBQVUsTUFBTVE7WUFFbEUsT0FBTztnQkFDTEcsU0FBUztnQkFDVEMsTUFBTU47Z0JBQ05OO2dCQUNBUTtnQkFDQUsscUJBQXFCTjtZQUN2QjtRQUNGLEVBQUUsT0FBT25DLE9BQU87WUFDZDJCLFlBQVkzQjtZQUNaLE1BQU1tQyxrQkFBa0JWLEtBQUtDLEdBQUcsS0FBS087WUFDckMsTUFBTVMsWUFBWWpDLGlCQUFpQmtCO1lBRW5DLE1BQU1nQixjQUEyQjtnQkFDL0J0RCxTQUFTdUM7Z0JBQ1RqRCxZQUFZVyxPQUFPWCxVQUFVLEdBQUc7Z0JBQ2hDaUUsT0FBTztnQkFDUDVDLE9BQU8yQjtnQkFDUGtCLFVBQVVWO1lBQ1o7WUFFQSwwQkFBMEI7WUFDMUJOLGNBQU0sQ0FBQ2lCLElBQUksQ0FBQ2YsbUJBQVcsQ0FBQ0MsR0FBRyxFQUFFLENBQUMsY0FBYyxFQUFFSixTQUFTLFlBQVksRUFBRUwsZUFBZTtZQUVwRiw2Q0FBNkM7WUFDN0MsSUFBSWxDLFlBQVlDLE9BQU9YLFVBQVUsRUFBRTtnQkFDakM7WUFDRjtZQUVBLHdDQUF3QztZQUN4QyxJQUFJLENBQUNvQixpQkFBaUI0QixXQUFXckMsU0FBUztnQkFDeEN1QyxjQUFNLENBQUM3QixLQUFLLENBQUMrQixtQkFBVyxDQUFDQyxHQUFHLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRVQsZUFBZSxFQUFFSTtnQkFDMUU7WUFDRjtZQUVBLDJDQUEyQztZQUMzQyxNQUFNaUIsUUFBUXhELGVBQWVDLFNBQVNDO1lBQ3RDcUQsWUFBWUMsS0FBSyxHQUFHQTtZQUVwQmYsY0FBTSxDQUFDQyxJQUFJLENBQUNDLG1CQUFXLENBQUNDLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBRVQsY0FBYyxJQUFJLEVBQUVxQixNQUFNLEVBQUUsQ0FBQztZQUV0RSxzQ0FBc0M7WUFDdEMsTUFBTSxJQUFJRyxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTSjtRQUNuRDtJQUNGO0lBRUEsOEJBQThCO0lBQzlCLE1BQU1SLGdCQUFnQlgsS0FBS0MsR0FBRyxLQUFLRjtJQUVuQ0ssY0FBTSxDQUFDN0IsS0FBSyxDQUFDK0IsbUJBQVcsQ0FBQ0MsR0FBRyxFQUFFLENBQUMsOEJBQThCLEVBQUVULGVBQWUsRUFBRUk7SUFFaEYsK0NBQStDO0lBQy9DLE1BQU1VLHlCQUFnQixDQUFDQyxXQUFXLENBQUNmLGVBQWVLLFVBQVUsT0FBT1E7SUFFbkUsT0FBTztRQUNMRyxTQUFTO1FBQ1R2QyxPQUFPMkI7UUFDUEM7UUFDQVE7UUFDQUsscUJBQXFCO0lBQ3ZCO0FBQ0Y7QUFLTyxlQUFlbEUsMEJBQ3BCK0MsU0FBMkIsRUFDM0JDLGFBQXFCLEVBQ3JCMkIsYUFBc0IsSUFBSTtJQUUxQixNQUFNNUQsU0FBUzRELGFBQWE3RSxjQUFjSyxvQkFBb0IsR0FBR0wsY0FBY2EsaUJBQWlCO0lBRWhHLE9BQU9ULGlCQUFpQjZDLFdBQVdoQyxRQUFRLENBQUMsWUFBWSxFQUFFaUMsZUFBZTtBQUMzRTtBQUtPLGVBQWUvQyxzQkFDcEI4QyxTQUEyQixFQUMzQkMsYUFBcUI7SUFFckIsT0FBTzlDLGlCQUFpQjZDLFdBQVdqRCxjQUFjYyxrQkFBa0IsRUFBRSxDQUFDLFFBQVEsRUFBRW9DLGVBQWU7QUFDakc7QUFLTyxTQUFTakQsb0JBQXVCZ0IsTUFBbUIsRUFBRWlDLGFBQXFCO0lBQy9FLE9BQU8sQ0FBQ0Q7UUFDTixPQUFPN0MsaUJBQWlCNkMsV0FBV2hDLFFBQVFpQztJQUM3QztBQUNGIn0=