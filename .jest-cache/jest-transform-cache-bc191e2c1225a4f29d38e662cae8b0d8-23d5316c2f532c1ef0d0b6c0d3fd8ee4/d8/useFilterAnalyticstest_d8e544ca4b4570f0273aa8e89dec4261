c8d5c1ff060e4bddbca0001a8ac85f6a
// ===================================
// TESTS: useFilterAnalytics - Hook de Analytics para Filtros
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useFilterAnalytics = require("../useFilterAnalytics");
// ===================================
// MOCKS
// ===================================
// Mock fetch global
global.fetch = jest.fn();
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
// Mock sessionStorage
const mockSessionStorage = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'sessionStorage', {
    value: mockSessionStorage,
    writable: true
});
// Mock window.location
Object.defineProperty(window, 'location', {
    value: {
        href: 'http://localhost:3000/test',
        pathname: '/test',
        search: '?categories=Exterior'
    },
    writable: true
});
// Mock document.title
Object.defineProperty(document, 'title', {
    value: 'Test Page - Pinteya',
    writable: true
});
// ===================================
// SETUP Y HELPERS
// ===================================
const mockFetchResponse = (success = true, data = {})=>{
    ;
    global.fetch.mockResolvedValueOnce({
        ok: success,
        json: async ()=>data
    });
};
// ===================================
// TESTS PRINCIPALES
// ===================================
describe('useFilterAnalytics', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        mockSessionStorage.getItem.mockReturnValue(null);
        console.log = jest.fn();
        console.warn = jest.fn();
    });
    // ===================================
    // TESTS DE INICIALIZACIÓN
    // ===================================
    describe('Inicialización', ()=>{
        it('inicializa con configuración por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result.current.enabled).toBe(true);
            expect(result.current.sessionId).toMatch(/^session_\d+_[a-z0-9]+$/);
            expect(result.current.userId).toBeUndefined();
        });
        it('acepta configuración personalizada', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    enabled: false,
                    debug: true,
                    sessionId: 'custom-session-123',
                    userId: 'user-456'
                }));
            expect(result.current.enabled).toBe(false);
            expect(result.current.sessionId).toBe('custom-session-123');
            expect(result.current.userId).toBe('user-456');
        });
        it('genera sessionId único cuando no se proporciona', ()=>{
            const { result: result1 } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const { result: result2 } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result1.current.sessionId).not.toBe(result2.current.sessionId);
        });
        it('usa sessionId del sessionStorage si existe', ()=>{
            mockSessionStorage.getItem.mockReturnValue('existing-session-789');
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result.current.sessionId).toBe('existing-session-789');
        });
    });
    // ===================================
    // TESTS DE TRACKING DE FILTROS
    // ===================================
    describe('Tracking de Filtros', ()=>{
        it('trackea aplicación de filtro correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_applied"')
            });
            expect(window.gtag).toHaveBeenCalledWith('event', 'applied', expect.any(Object));
        });
        it('trackea remoción de filtro correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterRemoved('brand', 'Sherwin Williams', 2);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_removed"')
            });
        });
        it('trackea limpieza de filtros correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFiltersCleared(3, [
                    'category',
                    'brand',
                    'price_range'
                ]);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_cleared"')
            });
        });
        it('trackea búsqueda correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackSearchPerformed('pintura exterior', 15, true, 2);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_search"')
            });
        });
        it('trackea paginación correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackPaginationUsed(1, 2, 5, 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_pagination"')
            });
        });
        it('trackea cambio de ordenamiento correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackSortChanged('created_at', 'price_asc', 20);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_sort_changed"')
            });
        });
    });
    // ===================================
    // TESTS DE TRACKING AUTOMÁTICO
    // ===================================
    describe('Tracking Automático de Cambios', ()=>{
        it('detecta y trackea filtros añadidos', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [
                    'Exterior'
                ],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_applied"')
            });
        });
        it('detecta y trackea filtros removidos', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [
                    'Exterior',
                    'Interior'
                ],
                brands: [
                    'Sherwin Williams'
                ],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [
                    'Exterior'
                ],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 8);
            });
            // Debe trackear remoción de 'Interior' y 'Sherwin Williams'
            // Verificar que se llamó a fetch para cada remoción específica
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Interior"')
            }));
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Sherwin Williams"')
            }));
            // El hook hace 3 llamadas: 2 remociones + 1 adicional (posiblemente por otros cambios detectados)
            expect(global.fetch).toHaveBeenCalledTimes(3);
        });
        it('detecta cambios de precio', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [],
                brands: [],
                priceMin: 1000,
                priceMax: 5000,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 5);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"filter_value":"1000-5000"')
            });
        });
    });
    // ===================================
    // TESTS DE MANEJO DE ERRORES
    // ===================================
    describe('Manejo de Errores', ()=>{
        it('maneja errores de fetch gracefully', async ()=>{
            ;
            global.fetch.mockRejectedValueOnce(new Error('Network error'));
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(console.warn).toHaveBeenCalledWith('Failed to send analytics event to Supabase:', expect.any(Error));
        });
        it('continúa funcionando cuando gtag no está disponible', async ()=>{
            delete window.gtag;
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            // Debe seguir enviando a Supabase
            expect(global.fetch).toHaveBeenCalled();
        });
    });
    // ===================================
    // TESTS DE CONFIGURACIÓN
    // ===================================
    describe('Configuración', ()=>{
        it('no trackea cuando está deshabilitado', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    enabled: false
                }));
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(global.fetch).not.toHaveBeenCalled();
            expect(window.gtag).not.toHaveBeenCalled();
        });
        it('funciona correctamente en modo debug', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    debug: true
                }));
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            // Verificar que el tracking funciona normalmente en modo debug
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Exterior"')
            }));
        });
    });
    // ===================================
    // TESTS DE EVENTOS DE SESIÓN
    // ===================================
    describe('Eventos de Sesión', ()=>{
        it('trackea inicio de sesión al montar', ()=>{
            mockFetchResponse(true);
            (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_session_started"')
            });
        });
        it('trackea fin de sesión al desmontar', ()=>{
            mockFetchResponse(true);
            const { unmount } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            jest.clearAllMocks();
            unmount();
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_session_ended"')
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlRmlsdGVyQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRFU1RTOiB1c2VGaWx0ZXJBbmFseXRpY3MgLSBIb29rIGRlIEFuYWx5dGljcyBwYXJhIEZpbHRyb3Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgeyB1c2VGaWx0ZXJBbmFseXRpY3MgfSBmcm9tICcuLi91c2VGaWx0ZXJBbmFseXRpY3MnXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNT0NLU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gTW9jayBmZXRjaCBnbG9iYWxcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKVxuXG4vLyBNb2NrIHdpbmRvdy5ndGFnXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZ3RhZycsIHtcbiAgdmFsdWU6IGplc3QuZm4oKSxcbiAgd3JpdGFibGU6IHRydWUsXG59KVxuXG4vLyBNb2NrIHNlc3Npb25TdG9yYWdlXG5jb25zdCBtb2NrU2Vzc2lvblN0b3JhZ2UgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKCksXG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzZXNzaW9uU3RvcmFnZScsIHtcbiAgdmFsdWU6IG1vY2tTZXNzaW9uU3RvcmFnZSxcbiAgd3JpdGFibGU6IHRydWUsXG59KVxuXG4vLyBNb2NrIHdpbmRvdy5sb2NhdGlvblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2F0aW9uJywge1xuICB2YWx1ZToge1xuICAgIGhyZWY6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdGVzdCcsXG4gICAgcGF0aG5hbWU6ICcvdGVzdCcsXG4gICAgc2VhcmNoOiAnP2NhdGVnb3JpZXM9RXh0ZXJpb3InLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pXG5cbi8vIE1vY2sgZG9jdW1lbnQudGl0bGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwgJ3RpdGxlJywge1xuICB2YWx1ZTogJ1Rlc3QgUGFnZSAtIFBpbnRleWEnLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTRVRVUCBZIEhFTFBFUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IG1vY2tGZXRjaFJlc3BvbnNlID0gKHN1Y2Nlc3MgPSB0cnVlLCBkYXRhID0ge30pID0+IHtcbiAgOyhnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgIG9rOiBzdWNjZXNzLFxuICAgIGpzb246IGFzeW5jICgpID0+IGRhdGEsXG4gIH0pXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBQUklOQ0lQQUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZUZpbHRlckFuYWx5dGljcycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgICBtb2NrU2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUobnVsbClcbiAgICBjb25zb2xlLmxvZyA9IGplc3QuZm4oKVxuICAgIGNvbnNvbGUud2FybiA9IGplc3QuZm4oKVxuICB9KVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFRFU1RTIERFIElOSUNJQUxJWkFDScOTTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdJbmljaWFsaXphY2nDs24nLCAoKSA9PiB7XG4gICAgaXQoJ2luaWNpYWxpemEgY29uIGNvbmZpZ3VyYWNpw7NuIHBvciBkZWZlY3RvJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2Vzc2lvbklkKS50b01hdGNoKC9ec2Vzc2lvbl9cXGQrX1thLXowLTldKyQvKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJJZCkudG9CZVVuZGVmaW5lZCgpXG4gICAgfSlcblxuICAgIGl0KCdhY2VwdGEgY29uZmlndXJhY2nDs24gcGVyc29uYWxpemFkYScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUZpbHRlckFuYWx5dGljcyh7XG4gICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgICAgc2Vzc2lvbklkOiAnY3VzdG9tLXNlc3Npb24tMTIzJyxcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTQ1NicsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lbmFibGVkKS50b0JlKGZhbHNlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlc3Npb25JZCkudG9CZSgnY3VzdG9tLXNlc3Npb24tMTIzJylcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC51c2VySWQpLnRvQmUoJ3VzZXItNDU2JylcbiAgICB9KVxuXG4gICAgaXQoJ2dlbmVyYSBzZXNzaW9uSWQgw7puaWNvIGN1YW5kbyBubyBzZSBwcm9wb3JjaW9uYScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0OiByZXN1bHQxIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKVxuICAgICAgY29uc3QgeyByZXN1bHQ6IHJlc3VsdDIgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQxLmN1cnJlbnQuc2Vzc2lvbklkKS5ub3QudG9CZShyZXN1bHQyLmN1cnJlbnQuc2Vzc2lvbklkKVxuICAgIH0pXG5cbiAgICBpdCgndXNhIHNlc3Npb25JZCBkZWwgc2Vzc2lvblN0b3JhZ2Ugc2kgZXhpc3RlJywgKCkgPT4ge1xuICAgICAgbW9ja1Nlc3Npb25TdG9yYWdlLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlKCdleGlzdGluZy1zZXNzaW9uLTc4OScpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2Vzc2lvbklkKS50b0JlKCdleGlzdGluZy1zZXNzaW9uLTc4OScpXG4gICAgfSlcbiAgfSlcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBURVNUUyBERSBUUkFDS0lORyBERSBGSUxUUk9TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1RyYWNraW5nIGRlIEZpbHRyb3MnLCAoKSA9PiB7XG4gICAgaXQoJ3RyYWNrZWEgYXBsaWNhY2nDs24gZGUgZmlsdHJvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSlcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJBcHBsaWVkKCdjYXRlZ29yeScsICdFeHRlcmlvcicsIDEyKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX2FwcGxpZWRcIicpLFxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHdpbmRvdy5ndGFnKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZXZlbnQnLCAnYXBwbGllZCcsIGV4cGVjdC5hbnkoT2JqZWN0KSlcbiAgICB9KVxuXG4gICAgaXQoJ3RyYWNrZWEgcmVtb2Npw7NuIGRlIGZpbHRybyBjb3JyZWN0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyUmVtb3ZlZCgnYnJhbmQnLCAnU2hlcndpbiBXaWxsaWFtcycsIDIpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImV2ZW50XCI6XCJmaWx0ZXJfcmVtb3ZlZFwiJyksXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgndHJhY2tlYSBsaW1waWV6YSBkZSBmaWx0cm9zIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSlcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJzQ2xlYXJlZCgzLCBbJ2NhdGVnb3J5JywgJ2JyYW5kJywgJ3ByaWNlX3JhbmdlJ10pXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImV2ZW50XCI6XCJmaWx0ZXJfY2xlYXJlZFwiJyksXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgndHJhY2tlYSBiw7pzcXVlZGEgY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKVxuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1NlYXJjaFBlcmZvcm1lZCgncGludHVyYSBleHRlcmlvcicsIDE1LCB0cnVlLCAyKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX3NlYXJjaFwiJyksXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgndHJhY2tlYSBwYWdpbmFjacOzbiBjb3JyZWN0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrUGFnaW5hdGlvblVzZWQoMSwgMiwgNSwgMTIpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImV2ZW50XCI6XCJmaWx0ZXJfcGFnaW5hdGlvblwiJyksXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgndHJhY2tlYSBjYW1iaW8gZGUgb3JkZW5hbWllbnRvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSlcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tTb3J0Q2hhbmdlZCgnY3JlYXRlZF9hdCcsICdwcmljZV9hc2MnLCAyMClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9zb3J0X2NoYW5nZWRcIicpLFxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFRFU1RTIERFIFRSQUNLSU5HIEFVVE9Nw4FUSUNPXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1RyYWNraW5nIEF1dG9tw6F0aWNvIGRlIENhbWJpb3MnLCAoKSA9PiB7XG4gICAgaXQoJ2RldGVjdGEgeSB0cmFja2VhIGZpbHRyb3MgYcOxYWRpZG9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGNvbnN0IHByZXZpb3VzRmlsdGVycyA9IHtcbiAgICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICAgIGJyYW5kczogW10sXG4gICAgICAgIHByaWNlTWluOiB1bmRlZmluZWQsXG4gICAgICAgIHByaWNlTWF4OiB1bmRlZmluZWQsXG4gICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBsaW1pdDogMTIsXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRGaWx0ZXJzID0ge1xuICAgICAgICBjYXRlZ29yaWVzOiBbJ0V4dGVyaW9yJ10sXG4gICAgICAgIGJyYW5kczogW10sXG4gICAgICAgIHByaWNlTWluOiB1bmRlZmluZWQsXG4gICAgICAgIHByaWNlTWF4OiB1bmRlZmluZWQsXG4gICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBsaW1pdDogMTIsXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyQ2hhbmdlcyhwcmV2aW91c0ZpbHRlcnMsIGN1cnJlbnRGaWx0ZXJzLCAxMilcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9hcHBsaWVkXCInKSxcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkZXRlY3RhIHkgdHJhY2tlYSBmaWx0cm9zIHJlbW92aWRvcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKVxuXG4gICAgICBjb25zdCBwcmV2aW91c0ZpbHRlcnMgPSB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFsnRXh0ZXJpb3InLCAnSW50ZXJpb3InXSxcbiAgICAgICAgYnJhbmRzOiBbJ1NoZXJ3aW4gV2lsbGlhbXMnXSxcbiAgICAgICAgcHJpY2VNaW46IHVuZGVmaW5lZCxcbiAgICAgICAgcHJpY2VNYXg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VhcmNoOiAnJyxcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGxpbWl0OiAxMixcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudEZpbHRlcnMgPSB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFsnRXh0ZXJpb3InXSxcbiAgICAgICAgYnJhbmRzOiBbXSxcbiAgICAgICAgcHJpY2VNaW46IHVuZGVmaW5lZCxcbiAgICAgICAgcHJpY2VNYXg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VhcmNoOiAnJyxcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGxpbWl0OiAxMixcbiAgICAgIH1cblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJDaGFuZ2VzKHByZXZpb3VzRmlsdGVycywgY3VycmVudEZpbHRlcnMsIDgpXG4gICAgICB9KVxuXG4gICAgICAvLyBEZWJlIHRyYWNrZWFyIHJlbW9jacOzbiBkZSAnSW50ZXJpb3InIHkgJ1NoZXJ3aW4gV2lsbGlhbXMnXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIHNlIGxsYW3DsyBhIGZldGNoIHBhcmEgY2FkYSByZW1vY2nDs24gZXNwZWPDrWZpY2FcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9hbmFseXRpY3MvZXZlbnRzJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImZpbHRlcl92YWx1ZVwiOlwiSW50ZXJpb3JcIicpLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2FuYWx5dGljcy9ldmVudHMnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZmlsdGVyX3ZhbHVlXCI6XCJTaGVyd2luIFdpbGxpYW1zXCInKSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC8vIEVsIGhvb2sgaGFjZSAzIGxsYW1hZGFzOiAyIHJlbW9jaW9uZXMgKyAxIGFkaWNpb25hbCAocG9zaWJsZW1lbnRlIHBvciBvdHJvcyBjYW1iaW9zIGRldGVjdGFkb3MpXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMylcbiAgICB9KVxuXG4gICAgaXQoJ2RldGVjdGEgY2FtYmlvcyBkZSBwcmVjaW8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSlcblxuICAgICAgY29uc3QgcHJldmlvdXNGaWx0ZXJzID0ge1xuICAgICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgYnJhbmRzOiBbXSxcbiAgICAgICAgcHJpY2VNaW46IHVuZGVmaW5lZCxcbiAgICAgICAgcHJpY2VNYXg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VhcmNoOiAnJyxcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGxpbWl0OiAxMixcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudEZpbHRlcnMgPSB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgICAgICBicmFuZHM6IFtdLFxuICAgICAgICBwcmljZU1pbjogMTAwMCxcbiAgICAgICAgcHJpY2VNYXg6IDUwMDAsXG4gICAgICAgIHNlYXJjaDogJycsXG4gICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBsaW1pdDogMTIsXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyQ2hhbmdlcyhwcmV2aW91c0ZpbHRlcnMsIGN1cnJlbnRGaWx0ZXJzLCA1KVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJmaWx0ZXJfdmFsdWVcIjpcIjEwMDAtNTAwMFwiJyksXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEVTVFMgREUgTUFORUpPIERFIEVSUk9SRVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnTWFuZWpvIGRlIEVycm9yZXMnLCAoKSA9PiB7XG4gICAgaXQoJ21hbmVqYSBlcnJvcmVzIGRlIGZldGNoIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICA7KGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyQXBwbGllZCgnY2F0ZWdvcnknLCAnRXh0ZXJpb3InLCAxMilcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChjb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnRmFpbGVkIHRvIHNlbmQgYW5hbHl0aWNzIGV2ZW50IHRvIFN1cGFiYXNlOicsXG4gICAgICAgIGV4cGVjdC5hbnkoRXJyb3IpXG4gICAgICApXG4gICAgfSlcblxuICAgIGl0KCdjb250aW7DumEgZnVuY2lvbmFuZG8gY3VhbmRvIGd0YWcgbm8gZXN0w6EgZGlzcG9uaWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGRlbGV0ZSAod2luZG93IGFzIGFueSkuZ3RhZ1xuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyQXBwbGllZCgnY2F0ZWdvcnknLCAnRXh0ZXJpb3InLCAxMilcbiAgICAgIH0pXG5cbiAgICAgIC8vIERlYmUgc2VndWlyIGVudmlhbmRvIGEgU3VwYWJhc2VcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEVTVFMgREUgQ09ORklHVVJBQ0nDk05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnQ29uZmlndXJhY2nDs24nLCAoKSA9PiB7XG4gICAgaXQoJ25vIHRyYWNrZWEgY3VhbmRvIGVzdMOhIGRlc2hhYmlsaXRhZG8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoeyBlbmFibGVkOiBmYWxzZSB9KSlcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJBcHBsaWVkKCdjYXRlZ29yeScsICdFeHRlcmlvcicsIDEyKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgZXhwZWN0KHdpbmRvdy5ndGFnKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcblxuICAgIGl0KCdmdW5jaW9uYSBjb3JyZWN0YW1lbnRlIGVuIG1vZG8gZGVidWcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoeyBkZWJ1ZzogdHJ1ZSB9KSlcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJBcHBsaWVkKCdjYXRlZ29yeScsICdFeHRlcmlvcicsIDEyKVxuICAgICAgfSlcblxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCB0cmFja2luZyBmdW5jaW9uYSBub3JtYWxtZW50ZSBlbiBtb2RvIGRlYnVnXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJmaWx0ZXJfdmFsdWVcIjpcIkV4dGVyaW9yXCInKSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuICB9KVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFRFU1RTIERFIEVWRU5UT1MgREUgU0VTScOTTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdFdmVudG9zIGRlIFNlc2nDs24nLCAoKSA9PiB7XG4gICAgaXQoJ3RyYWNrZWEgaW5pY2lvIGRlIHNlc2nDs24gYWwgbW9udGFyJywgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSlcblxuICAgICAgcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSlcblxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX3Nlc3Npb25fc3RhcnRlZFwiJyksXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgndHJhY2tlYSBmaW4gZGUgc2VzacOzbiBhbCBkZXNtb250YXInLCAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKVxuXG4gICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpXG5cbiAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG5cbiAgICAgIHVubW91bnQoKVxuXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImV2ZW50XCI6XCJmaWx0ZXJfc2Vzc2lvbl9lbmRlZFwiJyksXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIndyaXRhYmxlIiwibW9ja1Nlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJocmVmIiwicGF0aG5hbWUiLCJzZWFyY2giLCJkb2N1bWVudCIsIm1vY2tGZXRjaFJlc3BvbnNlIiwic3VjY2VzcyIsImRhdGEiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJvayIsImpzb24iLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VGaWx0ZXJBbmFseXRpY3MiLCJleHBlY3QiLCJjdXJyZW50IiwiZW5hYmxlZCIsInRvQmUiLCJzZXNzaW9uSWQiLCJ0b01hdGNoIiwidXNlcklkIiwidG9CZVVuZGVmaW5lZCIsImRlYnVnIiwicmVzdWx0MSIsInJlc3VsdDIiLCJub3QiLCJhY3QiLCJ0cmFja0ZpbHRlckFwcGxpZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwic3RyaW5nQ29udGFpbmluZyIsImd0YWciLCJhbnkiLCJ0cmFja0ZpbHRlclJlbW92ZWQiLCJ0cmFja0ZpbHRlcnNDbGVhcmVkIiwidHJhY2tTZWFyY2hQZXJmb3JtZWQiLCJ0cmFja1BhZ2luYXRpb25Vc2VkIiwidHJhY2tTb3J0Q2hhbmdlZCIsInByZXZpb3VzRmlsdGVycyIsImNhdGVnb3JpZXMiLCJicmFuZHMiLCJwcmljZU1pbiIsInVuZGVmaW5lZCIsInByaWNlTWF4Iiwic29ydEJ5IiwicGFnZSIsImxpbWl0IiwiY3VycmVudEZpbHRlcnMiLCJ0cmFja0ZpbHRlckNoYW5nZXMiLCJvYmplY3RDb250YWluaW5nIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidW5tb3VudCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDZEQUE2RDtBQUM3RCxzQ0FBc0M7Ozs7O3VCQUVOO29DQUNHO0FBRW5DLHNDQUFzQztBQUN0QyxRQUFRO0FBQ1Isc0NBQXNDO0FBRXRDLG9CQUFvQjtBQUNwQkEsT0FBT0MsS0FBSyxHQUFHQyxLQUFLQyxFQUFFO0FBRXRCLG1CQUFtQjtBQUNuQkMsT0FBT0MsY0FBYyxDQUFDQyxRQUFRLFFBQVE7SUFDcENDLE9BQU9MLEtBQUtDLEVBQUU7SUFDZEssVUFBVTtBQUNaO0FBRUEsc0JBQXNCO0FBQ3RCLE1BQU1DLHFCQUFxQjtJQUN6QkMsU0FBU1IsS0FBS0MsRUFBRTtJQUNoQlEsU0FBU1QsS0FBS0MsRUFBRTtJQUNoQlMsWUFBWVYsS0FBS0MsRUFBRTtJQUNuQlUsT0FBT1gsS0FBS0MsRUFBRTtBQUNoQjtBQUVBQyxPQUFPQyxjQUFjLENBQUNDLFFBQVEsa0JBQWtCO0lBQzlDQyxPQUFP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