{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\utils\\consolidated-utils.ts"],"sourcesContent":["// =====================================================\n// UTILIDADES CONSOLIDADAS - PINTEYA E-COMMERCE\n// Descripción: Funciones unificadas de formateo, validación y utilidades\n// Basado en: Intl API + Zod + patrones enterprise\n// =====================================================\n\nimport { z } from 'zod'\n\n// =====================================================\n// FORMATEO DE FECHAS - VERSIÓN CONSOLIDADA\n// =====================================================\n\nexport function formatDate(\n  date: string | Date,\n  options?: Intl.DateTimeFormatOptions | string\n): string {\n  try {\n    const dateObj = typeof date === 'string' ? new Date(date) : date\n\n    if (isNaN(dateObj.getTime())) {\n      return 'Fecha inválida'\n    }\n\n    // Si options es un string (patrón legacy), convertir a formato nativo\n    if (typeof options === 'string') {\n      const day = dateObj.getDate().toString().padStart(2, '0')\n      const month = (dateObj.getMonth() + 1).toString().padStart(2, '0')\n      const year = dateObj.getFullYear()\n      const hours = dateObj.getHours().toString().padStart(2, '0')\n      const minutes = dateObj.getMinutes().toString().padStart(2, '0')\n\n      if (options === 'dd/MM/yyyy hh:mm') {\n        return `${day}/${month}/${year} ${hours}:${minutes}`\n      }\n      return `${day}/${month}/${year}`\n    }\n\n    // Usar Intl.DateTimeFormat para mejor internacionalización\n    const defaultOptions: Intl.DateTimeFormatOptions = {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      ...options,\n    }\n\n    return dateObj.toLocaleDateString('es-AR', defaultOptions)\n  } catch (error) {\n    console.error('Error formatting date:', error)\n    return 'Fecha inválida'\n  }\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return formatDate(date, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  })\n}\n\nexport function formatDateShort(date: string | Date): string {\n  return formatDate(date, {\n    month: 'short',\n    day: 'numeric',\n  })\n}\n\nexport function formatTimeAgo(date: string | Date): string {\n  try {\n    const dateObj = typeof date === 'string' ? new Date(date) : date\n\n    if (isNaN(dateObj.getTime())) {\n      return 'Fecha inválida'\n    }\n\n    const now = new Date()\n    const diffInSeconds = Math.floor((now.getTime() - dateObj.getTime()) / 1000)\n\n    if (diffInSeconds < 60) {\n      return 'hace menos de un minuto'\n    }\n\n    const diffInMinutes = Math.floor(diffInSeconds / 60)\n    if (diffInMinutes < 60) {\n      return `hace ${diffInMinutes} minuto${diffInMinutes > 1 ? 's' : ''}`\n    }\n\n    const diffInHours = Math.floor(diffInMinutes / 60)\n    if (diffInHours < 24) {\n      return `hace ${diffInHours} hora${diffInHours > 1 ? 's' : ''}`\n    }\n\n    const diffInDays = Math.floor(diffInHours / 24)\n    if (diffInDays < 7) {\n      return `hace ${diffInDays} día${diffInDays > 1 ? 's' : ''}`\n    }\n\n    const diffInWeeks = Math.floor(diffInDays / 7)\n    if (diffInWeeks < 4) {\n      return `hace ${diffInWeeks} semana${diffInWeeks > 1 ? 's' : ''}`\n    }\n\n    return formatDate(dateObj, { month: 'short', day: 'numeric', year: 'numeric' })\n  } catch (error) {\n    console.error('Error formatting time ago:', error)\n    return 'Fecha inválida'\n  }\n}\n\n// Alias para compatibilidad\nexport const formatDateRelative = formatTimeAgo\nexport const formatRelativeTime = formatTimeAgo\n\n// =====================================================\n// FORMATEO DE MONEDAS - VERSIÓN CONSOLIDADA\n// =====================================================\n\nexport function formatCurrency(\n  amount: number | string | null | undefined,\n  currency: string = 'ARS',\n  options?: Intl.NumberFormatOptions\n): string {\n  try {\n    // Normalizar el amount a número\n    let safeAmount: number\n\n    if (typeof amount === 'number' && !isNaN(amount) && isFinite(amount)) {\n      safeAmount = amount\n    } else if (typeof amount === 'string') {\n      const parsed = parseFloat(amount)\n      if (!isNaN(parsed) && isFinite(parsed)) {\n        safeAmount = parsed\n      } else {\n        safeAmount = 0\n      }\n    } else {\n      safeAmount = 0\n    }\n\n    const defaultOptions: Intl.NumberFormatOptions = {\n      style: 'currency',\n      currency: currency.toUpperCase(),\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2,\n      ...options,\n    }\n\n    return new Intl.NumberFormat('es-AR', defaultOptions).format(safeAmount)\n  } catch (error) {\n    console.error('Error formatting currency:', error)\n    return `$${amount || 0}`\n  }\n}\n\nexport function formatPrice(amount: number | string): string {\n  return formatCurrency(amount)\n}\n\nexport function formatNumber(value: number | string, options?: Intl.NumberFormatOptions): string {\n  try {\n    const numValue = typeof value === 'string' ? parseFloat(value) : value\n\n    if (isNaN(numValue)) {\n      return '0'\n    }\n\n    return new Intl.NumberFormat('es-AR', options).format(numValue)\n  } catch (error) {\n    console.error('Error formatting number:', error)\n    return String(value || 0)\n  }\n}\n\nexport function formatPercentage(value: number, decimals: number = 1): string {\n  try {\n    return new Intl.NumberFormat('es-AR', {\n      style: 'percent',\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals,\n    }).format(value / 100)\n  } catch (error) {\n    console.error('Error formatting percentage:', error)\n    return `${value}%`\n  }\n}\n\n// =====================================================\n// VALIDACIÓN - VERSIÓN CONSOLIDADA\n// =====================================================\n\nexport function validateEmail(email: string): boolean {\n  if (!email || typeof email !== 'string') {\n    return false\n  }\n\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return emailRegex.test(email.trim())\n}\n\nexport function isValidEmail(email: string): boolean {\n  return validateEmail(email)\n}\n\nexport function validatePhoneNumber(phone: string): boolean {\n  if (!phone || typeof phone !== 'string') {\n    return false\n  }\n\n  // Formato argentino: +54 9 351 123 4567, +54 351 123-4567, 351 123 4567, etc.\n  const cleanPhone = phone.replace(/[\\s\\-\\(\\)]/g, '')\n  const phoneRegex = /^(\\+54(9)?)?\\d{10}$|^\\d{10}$/\n\n  return phoneRegex.test(cleanPhone) && cleanPhone.length >= 10\n}\n\nexport function validateDNI(dni: string): boolean {\n  if (!dni || typeof dni !== 'string') {\n    return false\n  }\n\n  const cleanDNI = dni.replace(/[\\s\\-\\.]/g, '')\n  const dniRegex = /^\\d{8}$/\n  const cuitRegex = /^\\d{11}$/\n\n  return dniRegex.test(cleanDNI) || cuitRegex.test(cleanDNI)\n}\n\n// =====================================================\n// UTILIDADES DE TEXTO\n// =====================================================\n\nexport function sanitizeInput(input: string): string {\n  if (!input || typeof input !== 'string') {\n    return ''\n  }\n\n  return input\n    .trim()\n    .replace(/[<>]/g, '') // Remover caracteres peligrosos básicos\n    .substring(0, 1000) // Limitar longitud\n}\n\nexport function sanitizeName(name: string): string {\n  if (!name || typeof name !== 'string') {\n    return ''\n  }\n\n  return name\n    .trim()\n    .replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\\s]/g, '') // Solo letras y espacios\n    .replace(/\\s+/g, ' ') // Normalizar espacios\n    .substring(0, 100) // Limitar longitud\n}\n\nexport function slugify(text: string): string {\n  if (!text || typeof text !== 'string') {\n    return ''\n  }\n\n  return text\n    .toLowerCase()\n    .trim()\n    .replace(/[áàäâ]/g, 'a')\n    .replace(/[éèëê]/g, 'e')\n    .replace(/[íìïî]/g, 'i')\n    .replace(/[óòöô]/g, 'o')\n    .replace(/[úùüû]/g, 'u')\n    .replace(/ñ/g, 'n')\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-')\n    .replace(/^-|-$/g, '')\n}\n\n// =====================================================\n// UTILIDADES DE PERFORMANCE\n// =====================================================\n\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  delay: number\n): (...args: Parameters<T>) => void {\n  let timeoutId: NodeJS.Timeout\n\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => func(...args), delay)\n  }\n}\n\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean\n\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args)\n      inThrottle = true\n      setTimeout(() => (inThrottle = false), limit)\n    }\n  }\n}\n\n// =====================================================\n// SCHEMAS DE VALIDACIÓN ZOD\n// =====================================================\n\nexport const addressSchema = z.object({\n  street: z.string().min(1, 'La calle es requerida'),\n  number: z.string().min(1, 'El número es requerido'),\n  apartment: z.string().optional(),\n  neighborhood: z.string().min(1, 'El barrio es requerido'),\n  city: z.string().min(1, 'La ciudad es requerida'),\n  state: z.string().min(1, 'La provincia es requerida'),\n  postal_code: z.string().min(4, 'El código postal debe tener al menos 4 dígitos'),\n  country: z.string().default('AR'),\n  latitude: z.number().optional(),\n  longitude: z.number().optional(),\n  reference: z.string().optional(),\n})\n\nexport const emailSchema = z.string().email('Email inválido')\nexport const phoneSchema = z.string().refine(validatePhoneNumber, 'Teléfono inválido')\nexport const dniSchema = z.string().refine(validateDNI, 'DNI/CUIT inválido')\n\n// =====================================================\n// FORMATEO DE ESTADOS Y BADGES\n// =====================================================\n\nexport function formatShipmentStatus(status: string): {\n  label: string\n  color: 'default' | 'secondary' | 'destructive' | 'outline'\n} {\n  const statusMap: Record<string, { label: string; color: any }> = {\n    pending: { label: 'Pendiente', color: 'secondary' },\n    confirmed: { label: 'Confirmado', color: 'default' },\n    picked_up: { label: 'Retirado', color: 'default' },\n    in_transit: { label: 'En Tránsito', color: 'default' },\n    out_for_delivery: { label: 'En Reparto', color: 'default' },\n    delivered: { label: 'Entregado', color: 'default' },\n    exception: { label: 'Excepción', color: 'destructive' },\n    cancelled: { label: 'Cancelado', color: 'destructive' },\n    returned: { label: 'Devuelto', color: 'outline' },\n  }\n\n  return statusMap[status] || { label: status, color: 'outline' }\n}\n\nexport function formatOrderStatus(status: string): {\n  label: string\n  color: 'default' | 'secondary' | 'destructive' | 'outline'\n} {\n  const statusMap: Record<string, { label: string; color: any }> = {\n    pending: { label: 'Pendiente', color: 'secondary' },\n    confirmed: { label: 'Confirmado', color: 'default' },\n    processing: { label: 'Procesando', color: 'default' },\n    shipped: { label: 'Enviado', color: 'default' },\n    delivered: { label: 'Entregado', color: 'default' },\n    cancelled: { label: 'Cancelado', color: 'destructive' },\n    refunded: { label: 'Reembolsado', color: 'outline' },\n    returned: { label: 'Devuelto', color: 'outline' },\n  }\n\n  return statusMap[status] || { label: status, color: 'outline' }\n}\n\n// =====================================================\n// TIPOS TYPESCRIPT\n// =====================================================\n\nexport type Address = z.infer<typeof addressSchema>\nexport type FormatDateOptions = Intl.DateTimeFormatOptions | string\nexport type FormatCurrencyOptions = Intl.NumberFormatOptions\n"],"names":["addressSchema","debounce","dniSchema","emailSchema","formatCurrency","formatDate","formatDateRelative","formatDateShort","formatDateTime","formatNumber","formatOrderStatus","formatPercentage","formatPrice","formatRelativeTime","formatShipmentStatus","formatTimeAgo","isValidEmail","phoneSchema","sanitizeInput","sanitizeName","slugify","throttle","validateDNI","validateEmail","validatePhoneNumber","date","options","dateObj","Date","isNaN","getTime","day","getDate","toString","padStart","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","defaultOptions","toLocaleDateString","error","console","hour","minute","now","diffInSeconds","Math","floor","diffInMinutes","diffInHours","diffInDays","diffInWeeks","amount","currency","safeAmount","isFinite","parsed","parseFloat","style","toUpperCase","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","format","value","numValue","String","decimals","email","emailRegex","test","trim","phone","cleanPhone","replace","phoneRegex","length","dni","cleanDNI","dniRegex","cuitRegex","input","substring","name","text","toLowerCase","func","delay","timeoutId","args","clearTimeout","setTimeout","limit","inThrottle","z","object","street","string","min","number","apartment","optional","neighborhood","city","state","postal_code","country","default","latitude","longitude","reference","refine","status","statusMap","pending","label","color","confirmed","picked_up","in_transit","out_for_delivery","delivered","exception","cancelled","returned","processing","shipped","refunded"],"mappings":"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"}