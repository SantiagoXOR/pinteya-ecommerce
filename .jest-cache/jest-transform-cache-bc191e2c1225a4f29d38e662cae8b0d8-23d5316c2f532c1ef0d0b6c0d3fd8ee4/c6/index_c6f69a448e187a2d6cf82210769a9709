03575a560dab36535a235454c281a6e6
/**
 * Sistema de Analytics para Pinteya E-commerce
 * Tracking de eventos, métricas de conversión y análisis de comportamiento
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get analytics () {
        return analytics;
    },
    get initializeAnalytics () {
        return initializeAnalytics;
    },
    get trackConversion () {
        return trackConversion;
    },
    get trackEcommerceEvent () {
        return trackEcommerceEvent;
    },
    get trackEvent () {
        return trackEvent;
    },
    get trackPageView () {
        return trackPageView;
    }
});
class AnalyticsManager {
    constructor(){
        this.events = [];
        this.interactions = [];
        this.isEnabled = true;
        this.isInitialized = false;
        this.initializationPromise = null;
        this.eventQueue = [];
        this.isProcessingQueue = false;
        this.queueTimeout = null;
        this.sessionId = this.generateSessionId();
    // No inicializar automáticamente - usar lazy initialization
    }
    generateSessionId() {
        return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    async ensureInitialized() {
        // Si ya está inicializado, no hacer nada
        if (this.isInitialized) {
            return;
        }
        // Si ya hay una inicialización en progreso, esperar a que termine
        if (this.initializationPromise) {
            return this.initializationPromise;
        }
        // Crear la promesa de inicialización
        this.initializationPromise = this.initializeTracking();
        try {
            await this.initializationPromise;
        } catch (error) {
            // En caso de error, limpiar la promesa para permitir reintentos
            this.initializationPromise = null;
            throw error;
        }
    }
    async initializeTracking() {
        if (typeof window === 'undefined') {
            return;
        }
        if (this.isInitialized) {
            return;
        }
        try {
            // Esperar a que el DOM esté listo
            if (document.readyState === 'loading') {
                await new Promise((resolve)=>{
                    document.addEventListener('DOMContentLoaded', resolve, {
                        once: true
                    });
                });
            }
            // Marcar como inicializado ANTES de hacer cualquier tracking
            // para evitar recursión infinita
            this.isInitialized = true;
            // Track page views automáticamente (ahora que ya está inicializado)
            this.trackPageView();
            // Track clicks globalmente
            document.addEventListener('click', this.handleClick.bind(this));
            // Track scroll events
            let scrollTimeout;
            document.addEventListener('scroll', ()=>{
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(()=>{
                    this.trackInteraction('scroll', 'page', window.scrollX, window.scrollY);
                }, 100);
            });
            // Track form interactions
            document.addEventListener('input', this.handleInput.bind(this));
            document.addEventListener('focus', this.handleFocus.bind(this));
        } catch (error) {
            console.warn('Error initializing analytics tracking:', error);
            // En caso de error, resetear el estado de inicialización
            this.isInitialized = false;
        }
    }
    handleClick(event) {
        const target = event.target;
        const elementInfo = this.getElementInfo(target);
        this.trackInteraction('click', elementInfo, event.clientX, event.clientY);
        // Track specific e-commerce events
        if (target.closest('[data-analytics="add-to-cart"]')) {
            this.trackEcommerceEvent('add_to_cart', {
                productId: target.getAttribute('data-product-id'),
                productName: target.getAttribute('data-product-name'),
                price: target.getAttribute('data-product-price')
            });
        }
        if (target.closest('[data-analytics="remove-from-cart"]')) {
            this.trackEcommerceEvent('remove_from_cart', {
                productId: target.getAttribute('data-product-id')
            });
        }
        if (target.closest('[data-analytics="checkout-start"]')) {
            this.trackEcommerceEvent('begin_checkout', {
                cartValue: target.getAttribute('data-cart-value'),
                itemCount: target.getAttribute('data-item-count')
            });
        }
    }
    handleInput(event) {
        const target = event.target;
        const elementInfo = this.getElementInfo(target);
        this.trackInteraction('input', elementInfo, 0, 0);
    }
    handleFocus(event) {
        const target = event.target;
        const elementInfo = this.getElementInfo(target);
        this.trackInteraction('focus', elementInfo, 0, 0);
    }
    getElementInfo(element) {
        const id = element.id ? `#${element.id}` : '';
        // Manejar className que puede ser string o DOMTokenList
        let className = '';
        if (element.className) {
            // Si className es un DOMTokenList, convertir a string
            const classNameValue = element.className;
            const classNameStr = typeof classNameValue === 'string' ? classNameValue : classNameValue.toString();
            // Solo procesar si hay clases
            if (classNameStr.trim()) {
                className = `.${classNameStr.split(' ').filter((cls)=>cls.trim()).join('.')}`;
            }
        }
        const tagName = element.tagName.toLowerCase();
        const dataAnalytics = element.getAttribute('data-analytics') || '';
        return `${tagName}${id}${className}${dataAnalytics ? `[${dataAnalytics}]` : ''}`;
    }
    async trackEvent(event, category, action, label, value, metadata) {
        if (!this.isEnabled) {
            return;
        }
        // Solo inicializar si no está ya inicializado para evitar recursión
        if (!this.isInitialized) {
            await this.ensureInitialized();
        }
        const analyticsEvent = {
            event,
            category,
            action,
            label,
            value,
            sessionId: this.sessionId,
            timestamp: Date.now(),
            page: typeof window !== 'undefined' ? window.location.pathname : '',
            userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : '',
            metadata
        };
        this.events.push(analyticsEvent);
        this.sendToAnalytics(analyticsEvent);
    }
    async trackEcommerceEvent(action, data) {
        await this.trackEvent('ecommerce', 'shop', action, undefined, undefined, data);
    }
    async trackPageView(page) {
        const currentPage = page || (typeof window !== 'undefined' ? window.location.pathname : '');
        await this.trackEvent('page_view', 'navigation', 'view', currentPage);
    }
    async trackInteraction(type, element, x, y) {
        if (!this.isEnabled) {
            return;
        }
        // Solo inicializar si no está ya inicializado para evitar recursión
        if (!this.isInitialized) {
            await this.ensureInitialized();
        }
        const interaction = {
            type,
            element,
            x,
            y,
            timestamp: Date.now(),
            page: typeof window !== 'undefined' ? window.location.pathname : '',
            sessionId: this.sessionId
        };
        this.interactions.push(interaction);
    }
    async trackConversion(type, value, metadata) {
        await this.trackEvent('conversion', 'ecommerce', type, undefined, value, metadata);
    }
    sendToAnalytics(event) {
        // Solo ejecutar en el cliente
        if (typeof window === 'undefined') {
            return;
        }
        // Enviar a Google Analytics 4
        if (window.gtag) {
            try {
                ;
                window.gtag('event', event.action, {
                    event_category: event.category,
                    event_label: event.label,
                    value: event.value,
                    custom_parameter_session_id: event.sessionId,
                    ...event.metadata
                });
            } catch (error) {
                console.warn('Error sending event to GA:', error);
            }
        }
        // Enviar a nuestro endpoint interno con mejor manejo de errores
        this.sendToInternalAPI(event);
    }
    async sendToInternalAPI(event) {
        // Agregar evento a la cola en lugar de enviarlo inmediatamente
        this.eventQueue.push(event);
        // Procesar la cola con debounce
        this.debouncedProcessQueue();
    }
    debouncedProcessQueue() {
        if (this.queueTimeout) {
            clearTimeout(this.queueTimeout);
        }
        this.queueTimeout = setTimeout(()=>{
            this.processEventQueue();
        }, 100); // Debounce de 100ms
    }
    async processEventQueue() {
        if (this.isProcessingQueue || this.eventQueue.length === 0) {
            return;
        }
        if (typeof window === 'undefined') {
            return;
        }
        this.isProcessingQueue = true;
        try {
            // Verificar que el documento está listo
            if (document.readyState === 'loading') {
                await new Promise((resolve)=>{
                    document.addEventListener('DOMContentLoaded', resolve, {
                        once: true
                    });
                });
            }
            // Procesar eventos en lotes
            const eventsToProcess = [
                ...this.eventQueue
            ];
            this.eventQueue = [];
            // Enviar eventos en lotes de 5 para evitar rate limiting
            const batchSize = 5;
            for(let i = 0; i < eventsToProcess.length; i += batchSize){
                const batch = eventsToProcess.slice(i, i + batchSize);
                for (const event of batch){
                    try {
                        const response = await fetch('/api/analytics/events', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(event)
                        });
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                    } catch (error) {
                        // En caso de error, almacenar el evento para reintento
                        this.storeEventForRetry(event);
                    }
                }
                // Pausa entre lotes para evitar rate limiting
                if (i + batchSize < eventsToProcess.length) {
                    await new Promise((resolve)=>setTimeout(resolve, 50));
                }
            }
        } catch (error) {
            if (process.env.NODE_ENV === 'development') {
                console.warn('Analytics queue processing error (non-critical):', error);
            }
        } finally{
            this.isProcessingQueue = false;
        }
    }
    storeEventForRetry(event) {
        try {
            if (typeof window !== 'undefined' && window.localStorage) {
                // Usar parsing seguro para evitar errores JSON
                const stored = localStorage.getItem('analytics_failed_events') || '[]';
                let failedEvents = [];
                try {
                    failedEvents = JSON.parse(stored);
                    // Verificar que sea un array válido
                    if (!Array.isArray(failedEvents)) {
                        failedEvents = [];
                    }
                } catch (parseError) {
                    console.warn('Error parsing analytics failed events, resetting:', parseError);
                    failedEvents = [];
                }
                failedEvents.push(event);
                // Limitar a los últimos 50 eventos fallidos
                if (failedEvents.length > 50) {
                    failedEvents.splice(0, failedEvents.length - 50);
                }
                localStorage.setItem('analytics_failed_events', JSON.stringify(failedEvents));
            }
        } catch (error) {
            // Ignorar errores de localStorage
            console.warn('Error storing analytics event for retry:', error);
        }
    }
    getEvents() {
        return [
            ...this.events
        ];
    }
    getInteractions() {
        return [
            ...this.interactions
        ];
    }
    getSessionId() {
        return this.sessionId;
    }
    clearData() {
        this.events = [];
        this.interactions = [];
        this.eventQueue = [];
        // Limpiar timeouts
        if (this.queueTimeout) {
            clearTimeout(this.queueTimeout);
            this.queueTimeout = null;
        }
    }
    disable() {
        this.isEnabled = false;
    }
    enable() {
        this.isEnabled = true;
    }
    async initialize() {
        await this.ensureInitialized();
    }
    getConversionMetrics() {
        const ecommerceEvents = this.events.filter((e)=>e.category === 'shop');
        const cartAdditions = ecommerceEvents.filter((e)=>e.action === 'add_to_cart').length;
        const cartRemovals = ecommerceEvents.filter((e)=>e.action === 'remove_from_cart').length;
        const checkoutStarts = ecommerceEvents.filter((e)=>e.action === 'begin_checkout').length;
        const checkoutCompletions = ecommerceEvents.filter((e)=>e.action === 'purchase').length;
        const productViews = this.events.filter((e)=>e.category === 'navigation' && e.label?.includes('/product/')).length;
        const categoryViews = this.events.filter((e)=>e.category === 'navigation' && e.label?.includes('/category/')).length;
        const searchQueries = ecommerceEvents.filter((e)=>e.action === 'search').length;
        const conversionRate = checkoutStarts > 0 ? checkoutCompletions / checkoutStarts * 100 : 0;
        const cartAbandonmentRate = cartAdditions > 0 ? (cartAdditions - checkoutCompletions) / cartAdditions * 100 : 0;
        // Calcular AOV desde los eventos de compra
        const purchaseEvents = ecommerceEvents.filter((e)=>e.action === 'purchase');
        const totalValue = purchaseEvents.reduce((sum, event)=>sum + (event.value || 0), 0);
        const averageOrderValue = purchaseEvents.length > 0 ? totalValue / purchaseEvents.length : 0;
        return {
            cartAdditions,
            cartRemovals,
            checkoutStarts,
            checkoutCompletions,
            productViews,
            categoryViews,
            searchQueries,
            conversionRate,
            averageOrderValue,
            cartAbandonmentRate
        };
    }
}
const analytics = new AnalyticsManager();
const trackEvent = async (event, category, action, label, value, metadata)=>{
    try {
        await optimizedAnalytics.trackEvent(event, category, action, label, value, metadata);
    } catch (error) {
        if (process.env.NODE_ENV === 'development') {
            console.warn('Analytics trackEvent error:', error);
        }
    }
};
const trackEcommerceEvent = async (action, data)=>{
    try {
        await analytics.trackEcommerceEvent(action, data);
    } catch (error) {
        if (process.env.NODE_ENV === 'development') {
            console.warn('Analytics trackEcommerceEvent error:', error);
        }
    }
};
const trackPageView = async (page)=>{
    try {
        await analytics.trackPageView(page);
    } catch (error) {
        if (process.env.NODE_ENV === 'development') {
            console.warn('Analytics trackPageView error:', error);
        }
    }
};
const trackConversion = async (type, value, metadata)=>{
    try {
        await analytics.trackConversion(type, value, metadata);
    } catch (error) {
        if (process.env.NODE_ENV === 'development') {
            console.warn('Analytics trackConversion error:', error);
        }
    }
};
const initializeAnalytics = async ()=>{
    try {
        await analytics.initialize();
    } catch (error) {
        if (process.env.NODE_ENV === 'development') {
            console.warn('Analytics initialization error:', error);
        }
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxpbnRlZ3JhdGlvbnNcXGFuYWx5dGljc1xcaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaXN0ZW1hIGRlIEFuYWx5dGljcyBwYXJhIFBpbnRleWEgRS1jb21tZXJjZVxuICogVHJhY2tpbmcgZGUgZXZlbnRvcywgbcOpdHJpY2FzIGRlIGNvbnZlcnNpw7NuIHkgYW7DoWxpc2lzIGRlIGNvbXBvcnRhbWllbnRvXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBBbmFseXRpY3NFdmVudCB7XG4gIGV2ZW50OiBzdHJpbmdcbiAgY2F0ZWdvcnk6IHN0cmluZ1xuICBhY3Rpb246IHN0cmluZ1xuICBsYWJlbD86IHN0cmluZ1xuICB2YWx1ZT86IG51bWJlclxuICB1c2VySWQ/OiBzdHJpbmdcbiAgc2Vzc2lvbklkOiBzdHJpbmdcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgcGFnZTogc3RyaW5nXG4gIHVzZXJBZ2VudDogc3RyaW5nXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnZlcnNpb25NZXRyaWNzIHtcbiAgY2FydEFkZGl0aW9uczogbnVtYmVyXG4gIGNhcnRSZW1vdmFsczogbnVtYmVyXG4gIGNoZWNrb3V0U3RhcnRzOiBudW1iZXJcbiAgY2hlY2tvdXRDb21wbGV0aW9uczogbnVtYmVyXG4gIHByb2R1Y3RWaWV3czogbnVtYmVyXG4gIGNhdGVnb3J5Vmlld3M6IG51bWJlclxuICBzZWFyY2hRdWVyaWVzOiBudW1iZXJcbiAgY29udmVyc2lvblJhdGU6IG51bWJlclxuICBhdmVyYWdlT3JkZXJWYWx1ZTogbnVtYmVyXG4gIGNhcnRBYmFuZG9ubWVudFJhdGU6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJJbnRlcmFjdGlvbiB7XG4gIHR5cGU6ICdjbGljaycgfCAnaG92ZXInIHwgJ3Njcm9sbCcgfCAnZm9jdXMnIHwgJ2lucHV0J1xuICBlbGVtZW50OiBzdHJpbmdcbiAgeDogbnVtYmVyXG4gIHk6IG51bWJlclxuICB0aW1lc3RhbXA6IG51bWJlclxuICBwYWdlOiBzdHJpbmdcbiAgc2Vzc2lvbklkOiBzdHJpbmdcbn1cblxuY2xhc3MgQW5hbHl0aWNzTWFuYWdlciB7XG4gIHByaXZhdGUgZXZlbnRzOiBBbmFseXRpY3NFdmVudFtdID0gW11cbiAgcHJpdmF0ZSBpbnRlcmFjdGlvbnM6IFVzZXJJbnRlcmFjdGlvbltdID0gW11cbiAgcHJpdmF0ZSBzZXNzaW9uSWQ6IHN0cmluZ1xuICBwcml2YXRlIGlzRW5hYmxlZDogYm9vbGVhbiA9IHRydWVcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBpbml0aWFsaXphdGlvblByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpXG4gICAgLy8gTm8gaW5pY2lhbGl6YXIgYXV0b23DoXRpY2FtZW50ZSAtIHVzYXIgbGF6eSBpbml0aWFsaXphdGlvblxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZW5zdXJlSW5pdGlhbGl6ZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gU2kgeWEgZXN0w6EgaW5pY2lhbGl6YWRvLCBubyBoYWNlciBuYWRhXG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gU2kgeWEgaGF5IHVuYSBpbmljaWFsaXphY2nDs24gZW4gcHJvZ3Jlc28sIGVzcGVyYXIgYSBxdWUgdGVybWluZVxuICAgIGlmICh0aGlzLmluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6YXRpb25Qcm9taXNlXG4gICAgfVxuXG4gICAgLy8gQ3JlYXIgbGEgcHJvbWVzYSBkZSBpbmljaWFsaXphY2nDs25cbiAgICB0aGlzLmluaXRpYWxpemF0aW9uUHJvbWlzZSA9IHRoaXMuaW5pdGlhbGl6ZVRyYWNraW5nKClcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemF0aW9uUHJvbWlzZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBFbiBjYXNvIGRlIGVycm9yLCBsaW1waWFyIGxhIHByb21lc2EgcGFyYSBwZXJtaXRpciByZWludGVudG9zXG4gICAgICB0aGlzLmluaXRpYWxpemF0aW9uUHJvbWlzZSA9IG51bGxcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplVHJhY2tpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEVzcGVyYXIgYSBxdWUgZWwgRE9NIGVzdMOpIGxpc3RvXG4gICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCByZXNvbHZlLCB7IG9uY2U6IHRydWUgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gTWFyY2FyIGNvbW8gaW5pY2lhbGl6YWRvIEFOVEVTIGRlIGhhY2VyIGN1YWxxdWllciB0cmFja2luZ1xuICAgICAgLy8gcGFyYSBldml0YXIgcmVjdXJzacOzbiBpbmZpbml0YVxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuXG4gICAgICAvLyBUcmFjayBwYWdlIHZpZXdzIGF1dG9tw6F0aWNhbWVudGUgKGFob3JhIHF1ZSB5YSBlc3TDoSBpbmljaWFsaXphZG8pXG4gICAgICB0aGlzLnRyYWNrUGFnZVZpZXcoKVxuXG4gICAgICAvLyBUcmFjayBjbGlja3MgZ2xvYmFsbWVudGVcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKVxuXG4gICAgICAvLyBUcmFjayBzY3JvbGwgZXZlbnRzXG4gICAgICBsZXQgc2Nyb2xsVGltZW91dDogTm9kZUpTLlRpbWVvdXRcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVvdXQpXG4gICAgICAgIHNjcm9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRyYWNrSW50ZXJhY3Rpb24oJ3Njcm9sbCcsICdwYWdlJywgd2luZG93LnNjcm9sbFgsIHdpbmRvdy5zY3JvbGxZKVxuICAgICAgICB9LCAxMDApXG4gICAgICB9KVxuXG4gICAgICAvLyBUcmFjayBmb3JtIGludGVyYWN0aW9uc1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykpXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMuYmluZCh0aGlzKSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBpbml0aWFsaXppbmcgYW5hbHl0aWNzIHRyYWNraW5nOicsIGVycm9yKVxuICAgICAgLy8gRW4gY2FzbyBkZSBlcnJvciwgcmVzZXRlYXIgZWwgZXN0YWRvIGRlIGluaWNpYWxpemFjacOzblxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgY29uc3QgZWxlbWVudEluZm8gPSB0aGlzLmdldEVsZW1lbnRJbmZvKHRhcmdldClcblxuICAgIHRoaXMudHJhY2tJbnRlcmFjdGlvbignY2xpY2snLCBlbGVtZW50SW5mbywgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSlcblxuICAgIC8vIFRyYWNrIHNwZWNpZmljIGUtY29tbWVyY2UgZXZlbnRzXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdbZGF0YS1hbmFseXRpY3M9XCJhZGQtdG8tY2FydFwiXScpKSB7XG4gICAgICB0aGlzLnRyYWNrRWNvbW1lcmNlRXZlbnQoJ2FkZF90b19jYXJ0Jywge1xuICAgICAgICBwcm9kdWN0SWQ6IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjdC1pZCcpLFxuICAgICAgICBwcm9kdWN0TmFtZTogdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWN0LW5hbWUnKSxcbiAgICAgICAgcHJpY2U6IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjdC1wcmljZScpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFuYWx5dGljcz1cInJlbW92ZS1mcm9tLWNhcnRcIl0nKSkge1xuICAgICAgdGhpcy50cmFja0Vjb21tZXJjZUV2ZW50KCdyZW1vdmVfZnJvbV9jYXJ0Jywge1xuICAgICAgICBwcm9kdWN0SWQ6IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjdC1pZCcpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWFuYWx5dGljcz1cImNoZWNrb3V0LXN0YXJ0XCJdJykpIHtcbiAgICAgIHRoaXMudHJhY2tFY29tbWVyY2VFdmVudCgnYmVnaW5fY2hlY2tvdXQnLCB7XG4gICAgICAgIGNhcnRWYWx1ZTogdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jYXJ0LXZhbHVlJyksXG4gICAgICAgIGl0ZW1Db3VudDogdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWNvdW50JyksXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlSW5wdXQoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgY29uc3QgZWxlbWVudEluZm8gPSB0aGlzLmdldEVsZW1lbnRJbmZvKHRhcmdldClcbiAgICB0aGlzLnRyYWNrSW50ZXJhY3Rpb24oJ2lucHV0JywgZWxlbWVudEluZm8sIDAsIDApXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZvY3VzKGV2ZW50OiBGb2N1c0V2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgY29uc3QgZWxlbWVudEluZm8gPSB0aGlzLmdldEVsZW1lbnRJbmZvKHRhcmdldClcbiAgICB0aGlzLnRyYWNrSW50ZXJhY3Rpb24oJ2ZvY3VzJywgZWxlbWVudEluZm8sIDAsIDApXG4gIH1cblxuICBwcml2YXRlIGdldEVsZW1lbnRJbmZvKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IGVsZW1lbnQuaWQgPyBgIyR7ZWxlbWVudC5pZH1gIDogJydcblxuICAgIC8vIE1hbmVqYXIgY2xhc3NOYW1lIHF1ZSBwdWVkZSBzZXIgc3RyaW5nIG8gRE9NVG9rZW5MaXN0XG4gICAgbGV0IGNsYXNzTmFtZSA9ICcnXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTaSBjbGFzc05hbWUgZXMgdW4gRE9NVG9rZW5MaXN0LCBjb252ZXJ0aXIgYSBzdHJpbmdcbiAgICAgIGNvbnN0IGNsYXNzTmFtZVZhbHVlID0gZWxlbWVudC5jbGFzc05hbWUgYXMgc3RyaW5nIHwgRE9NVG9rZW5MaXN0XG4gICAgICBjb25zdCBjbGFzc05hbWVTdHIgPVxuICAgICAgICB0eXBlb2YgY2xhc3NOYW1lVmFsdWUgPT09ICdzdHJpbmcnID8gY2xhc3NOYW1lVmFsdWUgOiBjbGFzc05hbWVWYWx1ZS50b1N0cmluZygpXG5cbiAgICAgIC8vIFNvbG8gcHJvY2VzYXIgc2kgaGF5IGNsYXNlc1xuICAgICAgaWYgKGNsYXNzTmFtZVN0ci50cmltKCkpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gYC4ke2NsYXNzTmFtZVN0clxuICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgLmZpbHRlcihjbHMgPT4gY2xzLnRyaW0oKSlcbiAgICAgICAgICAuam9pbignLicpfWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICBjb25zdCBkYXRhQW5hbHl0aWNzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5hbHl0aWNzJykgfHwgJydcblxuICAgIHJldHVybiBgJHt0YWdOYW1lfSR7aWR9JHtjbGFzc05hbWV9JHtkYXRhQW5hbHl0aWNzID8gYFske2RhdGFBbmFseXRpY3N9XWAgOiAnJ31gXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdHJhY2tFdmVudChcbiAgICBldmVudDogc3RyaW5nLFxuICAgIGNhdGVnb3J5OiBzdHJpbmcsXG4gICAgYWN0aW9uOiBzdHJpbmcsXG4gICAgbGFiZWw/OiBzdHJpbmcsXG4gICAgdmFsdWU/OiBudW1iZXIsXG4gICAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5pc0VuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFNvbG8gaW5pY2lhbGl6YXIgc2kgbm8gZXN0w6EgeWEgaW5pY2lhbGl6YWRvIHBhcmEgZXZpdGFyIHJlY3Vyc2nDs25cbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpXG4gICAgfVxuXG4gICAgY29uc3QgYW5hbHl0aWNzRXZlbnQ6IEFuYWx5dGljc0V2ZW50ID0ge1xuICAgICAgZXZlbnQsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIGFjdGlvbixcbiAgICAgIGxhYmVsLFxuICAgICAgdmFsdWUsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgcGFnZTogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgOiAnJyxcbiAgICAgIHVzZXJBZ2VudDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCA6ICcnLFxuICAgICAgbWV0YWRhdGEsXG4gICAgfVxuXG4gICAgdGhpcy5ldmVudHMucHVzaChhbmFseXRpY3NFdmVudClcbiAgICB0aGlzLnNlbmRUb0FuYWx5dGljcyhhbmFseXRpY3NFdmVudClcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB0cmFja0Vjb21tZXJjZUV2ZW50KGFjdGlvbjogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy50cmFja0V2ZW50KCdlY29tbWVyY2UnLCAnc2hvcCcsIGFjdGlvbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGRhdGEpXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdHJhY2tQYWdlVmlldyhwYWdlPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBwYWdlIHx8ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA6ICcnKVxuICAgIGF3YWl0IHRoaXMudHJhY2tFdmVudCgncGFnZV92aWV3JywgJ25hdmlnYXRpb24nLCAndmlldycsIGN1cnJlbnRQYWdlKVxuICB9XG5cbiAgcHVibGljIGFzeW5jIHRyYWNrSW50ZXJhY3Rpb24oXG4gICAgdHlwZTogVXNlckludGVyYWN0aW9uWyd0eXBlJ10sXG4gICAgZWxlbWVudDogc3RyaW5nLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gU29sbyBpbmljaWFsaXphciBzaSBubyBlc3TDoSB5YSBpbmljaWFsaXphZG8gcGFyYSBldml0YXIgcmVjdXJzacOzblxuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKClcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcmFjdGlvbjogVXNlckludGVyYWN0aW9uID0ge1xuICAgICAgdHlwZSxcbiAgICAgIGVsZW1lbnQsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHBhZ2U6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIDogJycsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJhY3Rpb25zLnB1c2goaW50ZXJhY3Rpb24pXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdHJhY2tDb252ZXJzaW9uKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICB2YWx1ZT86IG51bWJlcixcbiAgICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy50cmFja0V2ZW50KCdjb252ZXJzaW9uJywgJ2Vjb21tZXJjZScsIHR5cGUsIHVuZGVmaW5lZCwgdmFsdWUsIG1ldGFkYXRhKVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kVG9BbmFseXRpY3MoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KTogdm9pZCB7XG4gICAgLy8gU29sbyBlamVjdXRhciBlbiBlbCBjbGllbnRlXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBFbnZpYXIgYSBHb29nbGUgQW5hbHl0aWNzIDRcbiAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLmd0YWcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIDsod2luZG93IGFzIGFueSkuZ3RhZygnZXZlbnQnLCBldmVudC5hY3Rpb24sIHtcbiAgICAgICAgICBldmVudF9jYXRlZ29yeTogZXZlbnQuY2F0ZWdvcnksXG4gICAgICAgICAgZXZlbnRfbGFiZWw6IGV2ZW50LmxhYmVsLFxuICAgICAgICAgIHZhbHVlOiBldmVudC52YWx1ZSxcbiAgICAgICAgICBjdXN0b21fcGFyYW1ldGVyX3Nlc3Npb25faWQ6IGV2ZW50LnNlc3Npb25JZCxcbiAgICAgICAgICAuLi5ldmVudC5tZXRhZGF0YSxcbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRXJyb3Igc2VuZGluZyBldmVudCB0byBHQTonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnZpYXIgYSBudWVzdHJvIGVuZHBvaW50IGludGVybm8gY29uIG1lam9yIG1hbmVqbyBkZSBlcnJvcmVzXG4gICAgdGhpcy5zZW5kVG9JbnRlcm5hbEFQSShldmVudClcbiAgfVxuXG4gIHByaXZhdGUgZXZlbnRRdWV1ZTogQW5hbHl0aWNzRXZlbnRbXSA9IFtdXG4gIHByaXZhdGUgaXNQcm9jZXNzaW5nUXVldWU6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIHF1ZXVlVGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbFxuXG4gIHByaXZhdGUgYXN5bmMgc2VuZFRvSW50ZXJuYWxBUEkoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gQWdyZWdhciBldmVudG8gYSBsYSBjb2xhIGVuIGx1Z2FyIGRlIGVudmlhcmxvIGlubWVkaWF0YW1lbnRlXG4gICAgdGhpcy5ldmVudFF1ZXVlLnB1c2goZXZlbnQpXG5cbiAgICAvLyBQcm9jZXNhciBsYSBjb2xhIGNvbiBkZWJvdW5jZVxuICAgIHRoaXMuZGVib3VuY2VkUHJvY2Vzc1F1ZXVlKClcbiAgfVxuXG4gIHByaXZhdGUgZGVib3VuY2VkUHJvY2Vzc1F1ZXVlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnF1ZXVlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucXVldWVUaW1lb3V0KVxuICAgIH1cblxuICAgIHRoaXMucXVldWVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NFdmVudFF1ZXVlKClcbiAgICB9LCAxMDApIC8vIERlYm91bmNlIGRlIDEwMG1zXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NFdmVudFF1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlIHx8IHRoaXMuZXZlbnRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgPSB0cnVlXG5cbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBkb2N1bWVudG8gZXN0w6EgbGlzdG9cbiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNhciBldmVudG9zIGVuIGxvdGVzXG4gICAgICBjb25zdCBldmVudHNUb1Byb2Nlc3MgPSBbLi4udGhpcy5ldmVudFF1ZXVlXVxuICAgICAgdGhpcy5ldmVudFF1ZXVlID0gW11cblxuICAgICAgLy8gRW52aWFyIGV2ZW50b3MgZW4gbG90ZXMgZGUgNSBwYXJhIGV2aXRhciByYXRlIGxpbWl0aW5nXG4gICAgICBjb25zdCBiYXRjaFNpemUgPSA1XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50c1RvUHJvY2Vzcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gZXZlbnRzVG9Qcm9jZXNzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpXG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBiYXRjaCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZXZlbnQpLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRW4gY2FzbyBkZSBlcnJvciwgYWxtYWNlbmFyIGVsIGV2ZW50byBwYXJhIHJlaW50ZW50b1xuICAgICAgICAgICAgdGhpcy5zdG9yZUV2ZW50Rm9yUmV0cnkoZXZlbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGF1c2EgZW50cmUgbG90ZXMgcGFyYSBldml0YXIgcmF0ZSBsaW1pdGluZ1xuICAgICAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IGV2ZW50c1RvUHJvY2Vzcy5sZW5ndGgpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTApKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0FuYWx5dGljcyBxdWV1ZSBwcm9jZXNzaW5nIGVycm9yIChub24tY3JpdGljYWwpOicsIGVycm9yKVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0b3JlRXZlbnRGb3JSZXRyeShldmVudDogQW5hbHl0aWNzRXZlbnQpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgLy8gVXNhciBwYXJzaW5nIHNlZ3VybyBwYXJhIGV2aXRhciBlcnJvcmVzIEpTT05cbiAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FuYWx5dGljc19mYWlsZWRfZXZlbnRzJykgfHwgJ1tdJ1xuICAgICAgICBsZXQgZmFpbGVkRXZlbnRzOiBBbmFseXRpY3NFdmVudFtdID0gW11cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZhaWxlZEV2ZW50cyA9IEpTT04ucGFyc2Uoc3RvcmVkKVxuICAgICAgICAgIC8vIFZlcmlmaWNhciBxdWUgc2VhIHVuIGFycmF5IHbDoWxpZG9cbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmFpbGVkRXZlbnRzKSkge1xuICAgICAgICAgICAgZmFpbGVkRXZlbnRzID0gW11cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHBhcnNpbmcgYW5hbHl0aWNzIGZhaWxlZCBldmVudHMsIHJlc2V0dGluZzonLCBwYXJzZUVycm9yKVxuICAgICAgICAgIGZhaWxlZEV2ZW50cyA9IFtdXG4gICAgICAgIH1cblxuICAgICAgICBmYWlsZWRFdmVudHMucHVzaChldmVudClcblxuICAgICAgICAvLyBMaW1pdGFyIGEgbG9zIMO6bHRpbW9zIDUwIGV2ZW50b3MgZmFsbGlkb3NcbiAgICAgICAgaWYgKGZhaWxlZEV2ZW50cy5sZW5ndGggPiA1MCkge1xuICAgICAgICAgIGZhaWxlZEV2ZW50cy5zcGxpY2UoMCwgZmFpbGVkRXZlbnRzLmxlbmd0aCAtIDUwKVxuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FuYWx5dGljc19mYWlsZWRfZXZlbnRzJywgSlNPTi5zdHJpbmdpZnkoZmFpbGVkRXZlbnRzKSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWdub3JhciBlcnJvcmVzIGRlIGxvY2FsU3RvcmFnZVxuICAgICAgY29uc29sZS53YXJuKCdFcnJvciBzdG9yaW5nIGFuYWx5dGljcyBldmVudCBmb3IgcmV0cnk6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEV2ZW50cygpOiBBbmFseXRpY3NFdmVudFtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuZXZlbnRzXVxuICB9XG5cbiAgcHVibGljIGdldEludGVyYWN0aW9ucygpOiBVc2VySW50ZXJhY3Rpb25bXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmludGVyYWN0aW9uc11cbiAgfVxuXG4gIHB1YmxpYyBnZXRTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uSWRcbiAgfVxuXG4gIHB1YmxpYyBjbGVhckRhdGEoKTogdm9pZCB7XG4gICAgdGhpcy5ldmVudHMgPSBbXVxuICAgIHRoaXMuaW50ZXJhY3Rpb25zID0gW11cbiAgICB0aGlzLmV2ZW50UXVldWUgPSBbXVxuXG4gICAgLy8gTGltcGlhciB0aW1lb3V0c1xuICAgIGlmICh0aGlzLnF1ZXVlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucXVldWVUaW1lb3V0KVxuICAgICAgdGhpcy5xdWV1ZVRpbWVvdXQgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRpc2FibGUoKTogdm9pZCB7XG4gICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgcHVibGljIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzRW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKVxuICB9XG5cbiAgcHVibGljIGdldENvbnZlcnNpb25NZXRyaWNzKCk6IENvbnZlcnNpb25NZXRyaWNzIHtcbiAgICBjb25zdCBlY29tbWVyY2VFdmVudHMgPSB0aGlzLmV2ZW50cy5maWx0ZXIoZSA9PiBlLmNhdGVnb3J5ID09PSAnc2hvcCcpXG5cbiAgICBjb25zdCBjYXJ0QWRkaXRpb25zID0gZWNvbW1lcmNlRXZlbnRzLmZpbHRlcihlID0+IGUuYWN0aW9uID09PSAnYWRkX3RvX2NhcnQnKS5sZW5ndGhcbiAgICBjb25zdCBjYXJ0UmVtb3ZhbHMgPSBlY29tbWVyY2VFdmVudHMuZmlsdGVyKGUgPT4gZS5hY3Rpb24gPT09ICdyZW1vdmVfZnJvbV9jYXJ0JykubGVuZ3RoXG4gICAgY29uc3QgY2hlY2tvdXRTdGFydHMgPSBlY29tbWVyY2VFdmVudHMuZmlsdGVyKGUgPT4gZS5hY3Rpb24gPT09ICdiZWdpbl9jaGVja291dCcpLmxlbmd0aFxuICAgIGNvbnN0IGNoZWNrb3V0Q29tcGxldGlvbnMgPSBlY29tbWVyY2VFdmVudHMuZmlsdGVyKGUgPT4gZS5hY3Rpb24gPT09ICdwdXJjaGFzZScpLmxlbmd0aFxuICAgIGNvbnN0IHByb2R1Y3RWaWV3cyA9IHRoaXMuZXZlbnRzLmZpbHRlcihcbiAgICAgIGUgPT4gZS5jYXRlZ29yeSA9PT0gJ25hdmlnYXRpb24nICYmIGUubGFiZWw/LmluY2x1ZGVzKCcvcHJvZHVjdC8nKVxuICAgICkubGVuZ3RoXG4gICAgY29uc3QgY2F0ZWdvcnlWaWV3cyA9IHRoaXMuZXZlbnRzLmZpbHRlcihcbiAgICAgIGUgPT4gZS5jYXRlZ29yeSA9PT0gJ25hdmlnYXRpb24nICYmIGUubGFiZWw/LmluY2x1ZGVzKCcvY2F0ZWdvcnkvJylcbiAgICApLmxlbmd0aFxuICAgIGNvbnN0IHNlYXJjaFF1ZXJpZXMgPSBlY29tbWVyY2VFdmVudHMuZmlsdGVyKGUgPT4gZS5hY3Rpb24gPT09ICdzZWFyY2gnKS5sZW5ndGhcblxuICAgIGNvbnN0IGNvbnZlcnNpb25SYXRlID0gY2hlY2tvdXRTdGFydHMgPiAwID8gKGNoZWNrb3V0Q29tcGxldGlvbnMgLyBjaGVja291dFN0YXJ0cykgKiAxMDAgOiAwXG4gICAgY29uc3QgY2FydEFiYW5kb25tZW50UmF0ZSA9XG4gICAgICBjYXJ0QWRkaXRpb25zID4gMCA/ICgoY2FydEFkZGl0aW9ucyAtIGNoZWNrb3V0Q29tcGxldGlvbnMpIC8gY2FydEFkZGl0aW9ucykgKiAxMDAgOiAwXG5cbiAgICAvLyBDYWxjdWxhciBBT1YgZGVzZGUgbG9zIGV2ZW50b3MgZGUgY29tcHJhXG4gICAgY29uc3QgcHVyY2hhc2VFdmVudHMgPSBlY29tbWVyY2VFdmVudHMuZmlsdGVyKGUgPT4gZS5hY3Rpb24gPT09ICdwdXJjaGFzZScpXG4gICAgY29uc3QgdG90YWxWYWx1ZSA9IHB1cmNoYXNlRXZlbnRzLnJlZHVjZSgoc3VtLCBldmVudCkgPT4gc3VtICsgKGV2ZW50LnZhbHVlIHx8IDApLCAwKVxuICAgIGNvbnN0IGF2ZXJhZ2VPcmRlclZhbHVlID0gcHVyY2hhc2VFdmVudHMubGVuZ3RoID4gMCA/IHRvdGFsVmFsdWUgLyBwdXJjaGFzZUV2ZW50cy5sZW5ndGggOiAwXG5cbiAgICByZXR1cm4ge1xuICAgICAgY2FydEFkZGl0aW9ucyxcbiAgICAgIGNhcnRSZW1vdmFscyxcbiAgICAgIGNoZWNrb3V0U3RhcnRzLFxuICAgICAgY2hlY2tvdXRDb21wbGV0aW9ucyxcbiAgICAgIHByb2R1Y3RWaWV3cyxcbiAgICAgIGNhdGVnb3J5Vmlld3MsXG4gICAgICBzZWFyY2hRdWVyaWVzLFxuICAgICAgY29udmVyc2lvblJhdGUsXG4gICAgICBhdmVyYWdlT3JkZXJWYWx1ZSxcbiAgICAgIGNhcnRBYmFuZG9ubWVudFJhdGUsXG4gICAgfVxuICB9XG59XG5cbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGFuYWx5dGljcyA9IG5ldyBBbmFseXRpY3NNYW5hZ2VyKClcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgY29uIG1hbmVqbyBkZSBlcnJvcmVzXG5leHBvcnQgY29uc3QgdHJhY2tFdmVudCA9IGFzeW5jIChcbiAgZXZlbnQ6IHN0cmluZyxcbiAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgYWN0aW9uOiBzdHJpbmcsXG4gIGxhYmVsPzogc3RyaW5nLFxuICB2YWx1ZT86IG51bWJlcixcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBvcHRpbWl6ZWRBbmFseXRpY3MudHJhY2tFdmVudChldmVudCwgY2F0ZWdvcnksIGFjdGlvbiwgbGFiZWwsIHZhbHVlLCBtZXRhZGF0YSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnNvbGUud2FybignQW5hbHl0aWNzIHRyYWNrRXZlbnQgZXJyb3I6JywgZXJyb3IpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja0Vjb21tZXJjZUV2ZW50ID0gYXN5bmMgKFxuICBhY3Rpb246IHN0cmluZyxcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PlxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgYW5hbHl0aWNzLnRyYWNrRWNvbW1lcmNlRXZlbnQoYWN0aW9uLCBkYXRhKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc29sZS53YXJuKCdBbmFseXRpY3MgdHJhY2tFY29tbWVyY2VFdmVudCBlcnJvcjonLCBlcnJvcilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRyYWNrUGFnZVZpZXcgPSBhc3luYyAocGFnZT86IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IGFuYWx5dGljcy50cmFja1BhZ2VWaWV3KHBhZ2UpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0FuYWx5dGljcyB0cmFja1BhZ2VWaWV3IGVycm9yOicsIGVycm9yKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdHJhY2tDb252ZXJzaW9uID0gYXN5bmMgKFxuICB0eXBlOiBzdHJpbmcsXG4gIHZhbHVlPzogbnVtYmVyLFxuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IGFuYWx5dGljcy50cmFja0NvbnZlcnNpb24odHlwZSwgdmFsdWUsIG1ldGFkYXRhKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc29sZS53YXJuKCdBbmFseXRpY3MgdHJhY2tDb252ZXJzaW9uIGVycm9yOicsIGVycm9yKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUFuYWx5dGljcyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBhbmFseXRpY3MuaW5pdGlhbGl6ZSgpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0FuYWx5dGljcyBpbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJhbmFseXRpY3MiLCJpbml0aWFsaXplQW5hbHl0aWNzIiwidHJhY2tDb252ZXJzaW9uIiwidHJhY2tFY29tbWVyY2VFdmVudCIsInRyYWNrRXZlbnQiLCJ0cmFja1BhZ2VWaWV3IiwiQW5hbHl0aWNzTWFuYWdlciIsImV2ZW50cyIsImludGVyYWN0aW9ucyIsImlzRW5hYmxlZCIsImlzSW5pdGlhbGl6ZWQiLCJpbml0aWFsaXphdGlvblByb21pc2UiLCJldmVudFF1ZXVlIiwiaXNQcm9jZXNzaW5nUXVldWUiLCJxdWV1ZVRpbWVvdXQiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJlbnN1cmVJbml0aWFsaXplZCIsImluaXRpYWxpemVUcmFja2luZyIsImVycm9yIiwid2luZG93IiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsImhhbmRsZUNsaWNrIiwiYmluZCIsInNjcm9sbFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidHJhY2tJbnRlcmFjdGlvbiIsInNjcm9sbFgiLCJzY3JvbGxZIiwiaGFuZGxlSW5wdXQiLCJoYW5kbGVGb2N1cyIsImNvbnNvbGUiLCJ3YXJuIiwiZXZlbnQiLCJ0YXJnZXQiLCJlbGVtZW50SW5mbyIsImdldEVsZW1lbnRJbmZvIiwiY2xpZW50WCIsImNsaWVudFkiLCJjbG9zZXN0IiwicHJvZHVjdElkIiwiZ2V0QXR0cmlidXRlIiwicHJvZHVjdE5hbWUiLCJwcmljZSIsImNhcnRWYWx1ZSIsIml0ZW1Db3VudCIsImVsZW1lbnQiLCJpZCIsImNsYXNzTmFtZSIsImNsYXNzTmFtZVZhbHVlIiwiY2xhc3NOYW1lU3RyIiwidHJpbSIsInNwbGl0IiwiZmlsdGVyIiwiY2xzIiwiam9pbiIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImRhdGFBbmFseXRpY3MiLCJjYXRlZ29yeSIsImFjdGlvbiIsImxhYmVsIiwidmFsdWUiLCJtZXRhZGF0YSIsImFuYWx5dGljc0V2ZW50IiwidGltZXN0YW1wIiwicGFnZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJwdXNoIiwic2VuZFRvQW5hbHl0aWNzIiwiZGF0YSIsInVuZGVmaW5lZCIsImN1cnJlbnRQYWdlIiwidHlwZSIsIngiLCJ5IiwiaW50ZXJhY3Rpb24iLCJndGFnIiwiZXZlbnRfY2F0ZWdvcnkiLCJldmVudF9sYWJlbCIsImN1c3RvbV9wYXJhbWV0ZXJfc2Vzc2lvbl9pZCIsInNlbmRUb0ludGVybmFsQVBJIiwiZGVib3VuY2VkUHJvY2Vzc1F1ZXVlIiwicHJvY2Vzc0V2ZW50UXVldWUiLCJsZW5ndGgiLCJldmVudHNUb1Byb2Nlc3MiLCJiYXRjaFNpemUiLCJpIiwiYmF0Y2giLCJzbGljZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RvcmVFdmVudEZvclJldHJ5IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwibG9jYWxTdG9yYWdlIiwic3RvcmVkIiwiZ2V0SXRlbSIsImZhaWxlZEV2ZW50cyIsInBhcnNlIiwiQXJyYXkiLCJpc0FycmF5IiwicGFyc2VFcnJvciIsInNwbGljZSIsInNldEl0ZW0iLCJnZXRFdmVudHMiLCJnZXRJbnRlcmFjdGlvbnMiLCJnZXRTZXNzaW9uSWQiLCJjbGVhckRhdGEiLCJkaXNhYmxlIiwiZW5hYmxlIiwiaW5pdGlhbGl6ZSIsImdldENvbnZlcnNpb25NZXRyaWNzIiwiZWNvbW1lcmNlRXZlbnRzIiwiZSIsImNhcnRBZGRpdGlvbnMiLCJjYXJ0UmVtb3ZhbHMiLCJjaGVja291dFN0YXJ0cyIsImNoZWNrb3V0Q29tcGxldGlvbnMiLCJwcm9kdWN0Vmlld3MiLCJpbmNsdWRlcyIsImNhdGVnb3J5Vmlld3MiLCJzZWFyY2hRdWVyaWVzIiwiY29udmVyc2lvblJhdGUiLCJjYXJ0QWJhbmRvbm1lbnRSYXRlIiwicHVyY2hhc2VFdmVudHMiLCJ0b3RhbFZhbHVlIiwicmVkdWNlIiwic3VtIiwiYXZlcmFnZU9yZGVyVmFsdWUiLCJvcHRpbWl6ZWRBbmFseXRpY3MiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7Ozs7Ozs7UUFzZVlBO2VBQUFBOztRQXlEQUM7ZUFBQUE7O1FBZEFDO2VBQUFBOztRQXZCQUM7ZUFBQUE7O1FBakJBQztlQUFBQTs7UUE4QkFDO2VBQUFBOzs7QUFoZWIsTUFBTUM7SUFRSixhQUFjO2FBUE5DLFNBQTJCLEVBQUU7YUFDN0JDLGVBQWtDLEVBQUU7YUFFcENDLFlBQXFCO2FBQ3JCQyxnQkFBeUI7YUFDekJDLHdCQUE4QzthQTBQOUNDLGFBQStCLEVBQUU7YUFDakNDLG9CQUE2QjthQUM3QkMsZUFBc0M7UUF6UDVDLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUksQ0FBQ0MsaUJBQWlCO0lBQ3ZDLDREQUE0RDtJQUM5RDtJQUVRQSxvQkFBNEI7UUFDbEMsT0FBTyxDQUFDLFFBQVEsRUFBRUMsS0FBS0MsR0FBRyxHQUFHLENBQUMsRUFBRUMsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUMzRTtJQUVBLE1BQWNDLG9CQUFtQztRQUMvQyx5Q0FBeUM7UUFDekMsSUFBSSxJQUFJLENBQUNiLGFBQWEsRUFBRTtZQUN0QjtRQUNGO1FBRUEsa0VBQWtFO1FBQ2xFLElBQUksSUFBSSxDQUFDQyxxQkFBcUIsRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQ0EscUJBQXFCO1FBQ25DO1FBRUEscUNBQXFDO1FBQ3JDLElBQUksQ0FBQ0EscUJBQXFCLEdBQUcsSUFBSSxDQUFDYSxrQkFBa0I7UUFFcEQsSUFBSTtZQUNGLE1BQU0sSUFBSSxDQUFDYixxQkFBcUI7UUFDbEMsRUFBRSxPQUFPYyxPQUFPO1lBQ2QsZ0VBQWdFO1lBQ2hFLElBQUksQ0FBQ2QscUJBQXFCLEdBQUc7WUFDN0IsTUFBTWM7UUFDUjtJQUNGO0lBRUEsTUFBY0QscUJBQW9DO1FBQ2hELElBQUksT0FBT0UsV0FBVyxhQUFhO1lBQ2pDO1FBQ0Y7UUFDQSxJQUFJLElBQUksQ0FBQ2hCLGFBQWEsRUFBRTtZQUN0QjtRQUNGO1FBRUEsSUFBSTtZQUNGLGtDQUFrQztZQUNsQyxJQUFJaUIsU0FBU0MsVUFBVSxLQUFLLFdBQVc7Z0JBQ3JDLE1BQU0sSUFBSUMsUUFBUUMsQ0FBQUE7b0JBQ2hCSCxTQUFTSSxnQkFBZ0IsQ0FBQyxvQkFBb0JELFNBQVM7d0JBQUVFLE1BQU07b0JBQUs7Z0JBQ3RFO1lBQ0Y7WUFFQSw2REFBNkQ7WUFDN0QsaUNBQWlDO1lBQ2pDLElBQUksQ0FBQ3RCLGFBQWEsR0FBRztZQUVyQixvRUFBb0U7WUFDcEUsSUFBSSxDQUFDTCxhQUFhO1lBRWxCLDJCQUEyQjtZQUMzQnNCLFNBQVNJLGdCQUFnQixDQUFDLFNBQVMsSUFBSSxDQUFDRSxXQUFXLENBQUNDLElBQUksQ0FBQyxJQUFJO1lBRTdELHNCQUFzQjtZQUN0QixJQUFJQztZQUNKUixTQUFTSSxnQkFBZ0IsQ0FBQyxVQUFVO2dCQUNsQ0ssYUFBYUQ7Z0JBQ2JBLGdCQUFnQkUsV0FBVztvQkFDekIsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQyxVQUFVLFFBQVFaLE9BQU9hLE9BQU8sRUFBRWIsT0FBT2MsT0FBTztnQkFDeEUsR0FBRztZQUNMO1lBRUEsMEJBQTBCO1lBQzFCYixTQUFTSSxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksQ0FBQ1UsV0FBVyxDQUFDUCxJQUFJLENBQUMsSUFBSTtZQUM3RFAsU0FBU0ksZ0JBQWdCLENBQUMsU0FBUyxJQUFJLENBQUNXLFdBQVcsQ0FBQ1IsSUFBSSxDQUFDLElBQUk7UUFDL0QsRUFBRSxPQUFPVCxPQUFPO1lBQ2RrQixRQUFRQyxJQUFJLENBQUMsMENBQTBDbkI7WUFDdkQseURBQXlEO1lBQ3pELElBQUksQ0FBQ2YsYUFBYSxHQUFHO1FBQ3ZCO0lBQ0Y7SUFFUXVCLFlBQVlZLEtBQWlCLEVBQVE7UUFDM0MsTUFBTUMsU0FBU0QsTUFBTUMsTUFBTTtRQUMzQixNQUFNQyxjQUFjLElBQUksQ0FBQ0MsY0FBYyxDQUFDRjtRQUV4QyxJQUFJLENBQUNSLGdCQUFnQixDQUFDLFNBQVNTLGFBQWFGLE1BQU1JLE9BQU8sRUFBRUosTUFBTUssT0FBTztRQUV4RSxtQ0FBbUM7UUFDbkMsSUFBSUosT0FBT0ssT0FBTyxDQUFDLG1DQUFtQztZQUNwRCxJQUFJLENBQUNoRCxtQkFBbUIsQ0FBQyxlQUFlO2dCQUN0Q2lELFdBQVdOLE9BQU9PLFlBQVksQ0FBQztnQkFDL0JDLGFBQWFSLE9BQU9PLFlBQVksQ0FBQztnQkFDakNFLE9BQU9ULE9BQU9PLFlBQVksQ0FBQztZQUM3QjtRQUNGO1FBRUEsSUFBSVAsT0FBT0ssT0FBTyxDQUFDLHdDQUF3QztZQUN6RCxJQUFJLENBQUNoRCxtQkFBbUIsQ0FBQyxvQkFBb0I7Z0JBQzNDaUQsV0FBV04sT0FBT08sWUFBWSxDQUFDO1lBQ2pDO1FBQ0Y7UUFFQSxJQUFJUCxPQUFPSyxPQUFPLENBQUMsc0NBQXNDO1lBQ3ZELElBQUksQ0FBQ2hELG1CQUFtQixDQUFDLGtCQUFrQjtnQkFDekNxRCxXQUFXVixPQUFPTyxZQUFZLENBQUM7Z0JBQy9CSSxXQUFXWCxPQUFPTyxZQUFZLENBQUM7WUFDakM7UUFDRjtJQUNGO0lBRVFaLFlBQVlJLEtBQVksRUFBUTtRQUN0QyxNQUFNQyxTQUFTRCxNQUFNQyxNQUFNO1FBQzNCLE1BQU1DLGNBQWMsSUFBSSxDQUFDQyxjQUFjLENBQUNGO1FBQ3hDLElBQUksQ0FBQ1IsZ0JBQWdCLENBQUMsU0FBU1MsYUFBYSxHQUFHO0lBQ2pEO0lBRVFMLFlBQVlHLEtBQWlCLEVBQVE7UUFDM0MsTUFBTUMsU0FBU0QsTUFBTUMsTUFBTTtRQUMzQixNQUFNQyxjQUFjLElBQUksQ0FBQ0MsY0FBYyxDQUFDRjtRQUN4QyxJQUFJLENBQUNSLGdCQUFnQixDQUFDLFNBQVNTLGFBQWEsR0FBRztJQUNqRDtJQUVRQyxlQUFlVSxPQUFvQixFQUFVO1FBQ25ELE1BQU1DLEtBQUtELFFBQVFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRUQsUUFBUUMsRUFBRSxFQUFFLEdBQUc7UUFFM0Msd0RBQXdEO1FBQ3hELElBQUlDLFlBQVk7UUFDaEIsSUFBSUYsUUFBUUUsU0FBUyxFQUFFO1lBQ3JCLHNEQUFzRDtZQUN0RCxNQUFNQyxpQkFBaUJILFFBQVFFLFNBQVM7WUFDeEMsTUFBTUUsZUFDSixPQUFPRCxtQkFBbUIsV0FBV0EsaUJBQWlCQSxlQUFleEMsUUFBUTtZQUUvRSw4QkFBOEI7WUFDOUIsSUFBSXlDLGFBQWFDLElBQUksSUFBSTtnQkFDdkJILFlBQVksQ0FBQyxDQUFDLEVBQUVFLGFBQ2JFLEtBQUssQ0FBQyxLQUNOQyxNQUFNLENBQUNDLENBQUFBLE1BQU9BLElBQUlILElBQUksSUFDdEJJLElBQUksQ0FBQyxNQUFNO1lBQ2hCO1FBQ0Y7UUFFQSxNQUFNQyxVQUFVVixRQUFRVSxPQUFPLENBQUNDLFdBQVc7UUFDM0MsTUFBTUMsZ0JBQWdCWixRQUFRTCxZQUFZLENBQUMscUJBQXFCO1FBRWhFLE9BQU8sR0FBR2UsVUFBVVQsS0FBS0MsWUFBWVUsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFQSxjQUFjLENBQUMsQ0FBQyxHQUFHLElBQUk7SUFDbEY7SUFFQSxNQUFhbEUsV0FDWHlDLEtBQWEsRUFDYjBCLFFBQWdCLEVBQ2hCQyxNQUFjLEVBQ2RDLEtBQWMsRUFDZEMsS0FBYyxFQUNkQyxRQUE4QixFQUNmO1FBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQ2xFLFNBQVMsRUFBRTtZQUNuQjtRQUNGO1FBRUEsb0VBQW9FO1FBQ3BFLElBQUksQ0FBQyxJQUFJLENBQUNDLGFBQWEsRUFBRTtZQUN2QixNQUFNLElBQUksQ0FBQ2EsaUJBQWlCO1FBQzlCO1FBRUEsTUFBTXFELGlCQUFpQztZQUNyQy9CO1lBQ0EwQjtZQUNBQztZQUNBQztZQUNBQztZQUNBM0QsV0FBVyxJQUFJLENBQUNBLFNBQVM7WUFDekI4RCxXQUFXNUQsS0FBS0MsR0FBRztZQUNuQjRELE1BQU0sT0FBT3BELFdBQVcsY0FBY0EsT0FBT3FELFFBQVEsQ0FBQ0MsUUFBUSxHQUFHO1lBQ2pFQyxXQUFXLE9BQU92RCxXQUFXLGNBQWNBLE9BQU93RCxTQUFTLENBQUNELFNBQVMsR0FBRztZQUN4RU47UUFDRjtRQUVBLElBQUksQ0FBQ3BFLE1BQU0sQ0FBQzRFLElBQUksQ0FBQ1A7UUFDakIsSUFBSSxDQUFDUSxlQUFlLENBQUNSO0lBQ3ZCO0lBRUEsTUFBYXpFLG9CQUFvQnFFLE1BQWMsRUFBRWEsSUFBeUIsRUFBaUI7UUFDekYsTUFBTSxJQUFJLENBQUNqRixVQUFVLENBQUMsYUFBYSxRQUFRb0UsUUFBUWMsV0FBV0EsV0FBV0Q7SUFDM0U7SUFFQSxNQUFhaEYsY0FBY3lFLElBQWEsRUFBaUI7UUFDdkQsTUFBTVMsY0FBY1QsUUFBUyxDQUFBLE9BQU9wRCxXQUFXLGNBQWNBLE9BQU9xRCxRQUFRLENBQUNDLFFBQVEsR0FBRyxFQUFDO1FBQ3pGLE1BQU0sSUFBSSxDQUFDNUUsVUFBVSxDQUFDLGFBQWEsY0FBYyxRQUFRbUY7SUFDM0Q7SUFFQSxNQUFhakQsaUJBQ1hrRCxJQUE2QixFQUM3QjlCLE9BQWUsRUFDZitCLENBQVMsRUFDVEMsQ0FBUyxFQUNNO1FBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQ2pGLFNBQVMsRUFBRTtZQUNuQjtRQUNGO1FBRUEsb0VBQW9FO1FBQ3BFLElBQUksQ0FBQyxJQUFJLENBQUNDLGFBQWEsRUFBRTtZQUN2QixNQUFNLElBQUksQ0FBQ2EsaUJBQWlCO1FBQzlCO1FBRUEsTUFBTW9FLGNBQStCO1lBQ25DSDtZQUNBOUI7WUFDQStCO1lBQ0FDO1lBQ0FiLFdBQVc1RCxLQUFLQyxHQUFHO1lBQ25CNEQsTUFBTSxPQUFPcEQsV0FBVyxjQUFjQSxPQUFPcUQsUUFBUSxDQUFDQyxRQUFRLEdBQUc7WUFDakVqRSxXQUFXLElBQUksQ0FBQ0EsU0FBUztRQUMzQjtRQUVBLElBQUksQ0FBQ1AsWUFBWSxDQUFDMkUsSUFBSSxDQUFDUTtJQUN6QjtJQUVBLE1BQWF6RixnQkFDWHNGLElBQVksRUFDWmQsS0FBYyxFQUNkQyxRQUE4QixFQUNmO1FBQ2YsTUFBTSxJQUFJLENBQUN2RSxVQUFVLENBQUMsY0FBYyxhQUFhb0YsTUFBTUYsV0FBV1osT0FBT0M7SUFDM0U7SUFFUVMsZ0JBQWdCdkMsS0FBcUIsRUFBUTtRQUNuRCw4QkFBOEI7UUFDOUIsSUFBSSxPQUFPbkIsV0FBVyxhQUFhO1lBQ2pDO1FBQ0Y7UUFFQSw4QkFBOEI7UUFDOUIsSUFBSSxBQUFDQSxPQUFla0UsSUFBSSxFQUFFO1lBQ3hCLElBQUk7O2dCQUNBbEUsT0FBZWtFLElBQUksQ0FBQyxTQUFTL0MsTUFBTTJCLE1BQU0sRUFBRTtvQkFDM0NxQixnQkFBZ0JoRCxNQUFNMEIsUUFBUTtvQkFDOUJ1QixhQUFhakQsTUFBTTRCLEtBQUs7b0JBQ3hCQyxPQUFPN0IsTUFBTTZCLEtBQUs7b0JBQ2xCcUIsNkJBQTZCbEQsTUFBTTlCLFNBQVM7b0JBQzVDLEdBQUc4QixNQUFNOEIsUUFBUTtnQkFDbkI7WUFDRixFQUFFLE9BQU9sRCxPQUFPO2dCQUNka0IsUUFBUUMsSUFBSSxDQUFDLDhCQUE4Qm5CO1lBQzdDO1FBQ0Y7UUFFQSxnRUFBZ0U7UUFDaEUsSUFBSSxDQUFDdUUsaUJBQWlCLENBQUNuRDtJQUN6QjtJQU1BLE1BQWNtRCxrQkFBa0JuRCxLQUFxQixFQUFpQjtRQUNwRSwrREFBK0Q7UUFDL0QsSUFBSSxDQUFDakMsVUFBVSxDQUFDdUUsSUFBSSxDQUFDdEM7UUFFckIsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQ29ELHFCQUFxQjtJQUM1QjtJQUVRQSx3QkFBOEI7UUFDcEMsSUFBSSxJQUFJLENBQUNuRixZQUFZLEVBQUU7WUFDckJzQixhQUFhLElBQUksQ0FBQ3RCLFlBQVk7UUFDaEM7UUFFQSxJQUFJLENBQUNBLFlBQVksR0FBR3VCLFdBQVc7WUFDN0IsSUFBSSxDQUFDNkQsaUJBQWlCO1FBQ3hCLEdBQUcsTUFBSyxvQkFBb0I7SUFDOUI7SUFFQSxNQUFjQSxvQkFBbUM7UUFDL0MsSUFBSSxJQUFJLENBQUNyRixpQkFBaUIsSUFBSSxJQUFJLENBQUNELFVBQVUsQ0FBQ3VGLE1BQU0sS0FBSyxHQUFHO1lBQzFEO1FBQ0Y7UUFDQSxJQUFJLE9BQU96RSxXQUFXLGFBQWE7WUFDakM7UUFDRjtRQUVBLElBQUksQ0FBQ2IsaUJBQWlCLEdBQUc7UUFFekIsSUFBSTtZQUNGLHdDQUF3QztZQUN4QyxJQUFJYyxTQUFTQyxVQUFVLEtBQUssV0FBVztnQkFDckMsTUFBTSxJQUFJQyxRQUFRQyxDQUFBQTtvQkFDaEJILFNBQVNJLGdCQUFnQixDQUFDLG9CQUFvQkQsU0FBUzt3QkFBRUUsTUFBTTtvQkFBSztnQkFDdEU7WUFDRjtZQUVBLDRCQUE0QjtZQUM1QixNQUFNb0Usa0JBQWtCO21CQUFJLElBQUksQ0FBQ3hGLFVBQVU7YUFBQztZQUM1QyxJQUFJLENBQUNBLFVBQVUsR0FBRyxFQUFFO1lBRXBCLHlEQUF5RDtZQUN6RCxNQUFNeUYsWUFBWTtZQUNsQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUYsZ0JBQWdCRCxNQUFNLEVBQUVHLEtBQUtELFVBQVc7Z0JBQzFELE1BQU1FLFFBQVFILGdCQUFnQkksS0FBSyxDQUFDRixHQUFHQSxJQUFJRDtnQkFFM0MsS0FBSyxNQUFNeEQsU0FBUzBELE1BQU87b0JBQ3pCLElBQUk7d0JBQ0YsTUFBTUUsV0FBVyxNQUFNQyxNQUFNLHlCQUF5Qjs0QkFDcERDLFFBQVE7NEJBQ1JDLFNBQVM7Z0NBQ1AsZ0JBQWdCOzRCQUNsQjs0QkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDbEU7d0JBQ3ZCO3dCQUVBLElBQUksQ0FBQzRELFNBQVNPLEVBQUUsRUFBRTs0QkFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsb0JBQW9CLEVBQUVSLFNBQVNTLE1BQU0sRUFBRTt3QkFDMUQ7b0JBQ0YsRUFBRSxPQUFPekYsT0FBTzt3QkFDZCx1REFBdUQ7d0JBQ3ZELElBQUksQ0FBQzBGLGtCQUFrQixDQUFDdEU7b0JBQzFCO2dCQUNGO2dCQUVBLDhDQUE4QztnQkFDOUMsSUFBSXlELElBQUlELFlBQVlELGdCQUFnQkQsTUFBTSxFQUFFO29CQUMxQyxNQUFNLElBQUl0RSxRQUFRQyxDQUFBQSxVQUFXTyxXQUFXUCxTQUFTO2dCQUNuRDtZQUNGO1FBQ0YsRUFBRSxPQUFPTCxPQUFPO1lBQ2QsSUFBSTJGLFFBQVFDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLLGVBQWU7Z0JBQzFDM0UsUUFBUUMsSUFBSSxDQUFDLG9EQUFvRG5CO1lBQ25FO1FBQ0YsU0FBVTtZQUNSLElBQUksQ0FBQ1osaUJBQWlCLEdBQUc7UUFDM0I7SUFDRjtJQUVRc0csbUJBQW1CdEUsS0FBcUIsRUFBUTtRQUN0RCxJQUFJO1lBQ0YsSUFBSSxPQUFPbkIsV0FBVyxlQUFlQSxPQUFPNkYsWUFBWSxFQUFFO2dCQUN4RCwrQ0FBK0M7Z0JBQy9DLE1BQU1DLFNBQVNELGFBQWFFLE9BQU8sQ0FBQyw4QkFBOEI7Z0JBQ2xFLElBQUlDLGVBQWlDLEVBQUU7Z0JBRXZDLElBQUk7b0JBQ0ZBLGVBQWVaLEtBQUthLEtBQUssQ0FBQ0g7b0JBQzFCLG9DQUFvQztvQkFDcEMsSUFBSSxDQUFDSSxNQUFNQyxPQUFPLENBQUNILGVBQWU7d0JBQ2hDQSxlQUFlLEVBQUU7b0JBQ25CO2dCQUNGLEVBQUUsT0FBT0ksWUFBWTtvQkFDbkJuRixRQUFRQyxJQUFJLENBQUMscURBQXFEa0Y7b0JBQ2xFSixlQUFlLEVBQUU7Z0JBQ25CO2dCQUVBQSxhQUFhdkMsSUFBSSxDQUFDdEM7Z0JBRWxCLDRDQUE0QztnQkFDNUMsSUFBSTZFLGFBQWF2QixNQUFNLEdBQUcsSUFBSTtvQkFDNUJ1QixhQUFhSyxNQUFNLENBQUMsR0FBR0wsYUFBYXZCLE1BQU0sR0FBRztnQkFDL0M7Z0JBRUFvQixhQUFhUyxPQUFPLENBQUMsMkJBQTJCbEIsS0FBS0MsU0FBUyxDQUFDVztZQUNqRTtRQUNGLEVBQUUsT0FBT2pHLE9BQU87WUFDZCxrQ0FBa0M7WUFDbENrQixRQUFRQyxJQUFJLENBQUMsNENBQTRDbkI7UUFDM0Q7SUFDRjtJQUVPd0csWUFBOEI7UUFDbkMsT0FBTztlQUFJLElBQUksQ0FBQzFILE1BQU07U0FBQztJQUN6QjtJQUVPMkgsa0JBQXFDO1FBQzFDLE9BQU87ZUFBSSxJQUFJLENBQUMxSCxZQUFZO1NBQUM7SUFDL0I7SUFFTzJILGVBQXVCO1FBQzVCLE9BQU8sSUFBSSxDQUFDcEgsU0FBUztJQUN2QjtJQUVPcUgsWUFBa0I7UUFDdkIsSUFBSSxDQUFDN0gsTUFBTSxHQUFHLEVBQUU7UUFDaEIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsRUFBRTtRQUN0QixJQUFJLENBQUNJLFVBQVUsR0FBRyxFQUFFO1FBRXBCLG1CQUFtQjtRQUNuQixJQUFJLElBQUksQ0FBQ0UsWUFBWSxFQUFFO1lBQ3JCc0IsYUFBYSxJQUFJLENBQUN0QixZQUFZO1lBQzlCLElBQUksQ0FBQ0EsWUFBWSxHQUFHO1FBQ3RCO0lBQ0Y7SUFFT3VILFVBQWdCO1FBQ3JCLElBQUksQ0FBQzVILFNBQVMsR0FBRztJQUNuQjtJQUVPNkgsU0FBZTtRQUNwQixJQUFJLENBQUM3SCxTQUFTLEdBQUc7SUFDbkI7SUFFQSxNQUFhOEgsYUFBNEI7UUFDdkMsTUFBTSxJQUFJLENBQUNoSCxpQkFBaUI7SUFDOUI7SUFFT2lILHVCQUEwQztRQUMvQyxNQUFNQyxrQkFBa0IsSUFBSSxDQUFDbEksTUFBTSxDQUFDMEQsTUFBTSxDQUFDeUUsQ0FBQUEsSUFBS0EsRUFBRW5FLFFBQVEsS0FBSztRQUUvRCxNQUFNb0UsZ0JBQWdCRixnQkFBZ0J4RSxNQUFNLENBQUN5RSxDQUFBQSxJQUFLQSxFQUFFbEUsTUFBTSxLQUFLLGVBQWUyQixNQUFNO1FBQ3BGLE1BQU15QyxlQUFlSCxnQkFBZ0J4RSxNQUFNLENBQUN5RSxDQUFBQSxJQUFLQSxFQUFFbEUsTUFBTSxLQUFLLG9CQUFvQjJCLE1BQU07UUFDeEYsTUFBTTBDLGlCQUFpQkosZ0JBQWdCeEUsTUFBTSxDQUFDeUUsQ0FBQUEsSUFBS0EsRUFBRWxFLE1BQU0sS0FBSyxrQkFBa0IyQixNQUFNO1FBQ3hGLE1BQU0yQyxzQkFBc0JMLGdCQUFnQnhFLE1BQU0sQ0FBQ3lFLENBQUFBLElBQUtBLEVBQUVsRSxNQUFNLEtBQUssWUFBWTJCLE1BQU07UUFDdkYsTUFBTTRDLGVBQWUsSUFBSSxDQUFDeEksTUFBTSxDQUFDMEQsTUFBTSxDQUNyQ3lFLENBQUFBLElBQUtBLEVBQUVuRSxRQUFRLEtBQUssZ0JBQWdCbUUsRUFBRWpFLEtBQUssRUFBRXVFLFNBQVMsY0FDdEQ3QyxNQUFNO1FBQ1IsTUFBTThDLGdCQUFnQixJQUFJLENBQUMxSSxNQUFNLENBQUMwRCxNQUFNLENBQ3RDeUUsQ0FBQUEsSUFBS0EsRUFBRW5FLFFBQVEsS0FBSyxnQkFBZ0JtRSxFQUFFakUsS0FBSyxFQUFFdUUsU0FBUyxlQUN0RDdDLE1BQU07UUFDUixNQUFNK0MsZ0JBQWdCVCxnQkFBZ0J4RSxNQUFNLENBQUN5RSxDQUFBQSxJQUFLQSxFQUFFbEUsTUFBTSxLQUFLLFVBQVUyQixNQUFNO1FBRS9FLE1BQU1nRCxpQkFBaUJOLGlCQUFpQixJQUFJLEFBQUNDLHNCQUFzQkQsaUJBQWtCLE1BQU07UUFDM0YsTUFBTU8sc0JBQ0pULGdCQUFnQixJQUFJLEFBQUVBLENBQUFBLGdCQUFnQkcsbUJBQWtCLElBQUtILGdCQUFpQixNQUFNO1FBRXRGLDJDQUEyQztRQUMzQyxNQUFNVSxpQkFBaUJaLGdCQUFnQnhFLE1BQU0sQ0FBQ3lFLENBQUFBLElBQUtBLEVBQUVsRSxNQUFNLEtBQUs7UUFDaEUsTUFBTThFLGFBQWFELGVBQWVFLE1BQU0sQ0FBQyxDQUFDQyxLQUFLM0csUUFBVTJHLE1BQU8zRyxDQUFBQSxNQUFNNkIsS0FBSyxJQUFJLENBQUEsR0FBSTtRQUNuRixNQUFNK0Usb0JBQW9CSixlQUFlbEQsTUFBTSxHQUFHLElBQUltRCxhQUFhRCxlQUFlbEQsTUFBTSxHQUFHO1FBRTNGLE9BQU87WUFDTHdDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FFO1lBQ0FDO1lBQ0FDO1lBQ0FNO1lBQ0FMO1FBQ0Y7SUFDRjtBQUNGO0FBR08sTUFBTXBKLFlBQVksSUFBSU07QUFHdEIsTUFBTUYsYUFBYSxPQUN4QnlDLE9BQ0EwQixVQUNBQyxRQUNBQyxPQUNBQyxPQUNBQztJQUVBLElBQUk7UUFDRixNQUFNK0UsbUJBQW1CdEosVUFBVSxDQUFDeUMsT0FBTzBCLFVBQVVDLFFBQVFDLE9BQU9DLE9BQU9DO0lBQzdFLEVBQUUsT0FBT2xELE9BQU87UUFDZCxJQUFJMkYsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssZUFBZTtZQUMxQzNFLFFBQVFDLElBQUksQ0FBQywrQkFBK0JuQjtRQUM5QztJQUNGO0FBQ0Y7QUFFTyxNQUFNdEIsc0JBQXNCLE9BQ2pDcUUsUUFDQWE7SUFFQSxJQUFJO1FBQ0YsTUFBTXJGLFVBQVVHLG1CQUFtQixDQUFDcUUsUUFBUWE7SUFDOUMsRUFBRSxPQUFPNUQsT0FBTztRQUNkLElBQUkyRixRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxlQUFlO1lBQzFDM0UsUUFBUUMsSUFBSSxDQUFDLHdDQUF3Q25CO1FBQ3ZEO0lBQ0Y7QUFDRjtBQUVPLE1BQU1wQixnQkFBZ0IsT0FBT3lFO0lBQ2xDLElBQUk7UUFDRixNQUFNOUUsVUFBVUssYUFBYSxDQUFDeUU7SUFDaEMsRUFBRSxPQUFPckQsT0FBTztRQUNkLElBQUkyRixRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxlQUFlO1lBQzFDM0UsUUFBUUMsSUFBSSxDQUFDLGtDQUFrQ25CO1FBQ2pEO0lBQ0Y7QUFDRjtBQUVPLE1BQU12QixrQkFBa0IsT0FDN0JzRixNQUNBZCxPQUNBQztJQUVBLElBQUk7UUFDRixNQUFNM0UsVUFBVUUsZUFBZSxDQUFDc0YsTUFBTWQsT0FBT0M7SUFDL0MsRUFBRSxPQUFPbEQsT0FBTztRQUNkLElBQUkyRixRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxlQUFlO1lBQzFDM0UsUUFBUUMsSUFBSSxDQUFDLG9DQUFvQ25CO1FBQ25EO0lBQ0Y7QUFDRjtBQUVPLE1BQU14QixzQkFBc0I7SUFDakMsSUFBSTtRQUNGLE1BQU1ELFVBQVV1SSxVQUFVO0lBQzVCLEVBQUUsT0FBTzlHLE9BQU87UUFDZCxJQUFJMkYsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssZUFBZTtZQUMxQzNFLFFBQVFDLElBQUksQ0FBQyxtQ0FBbUNuQjtRQUNsRDtJQUNGO0FBQ0YifQ==