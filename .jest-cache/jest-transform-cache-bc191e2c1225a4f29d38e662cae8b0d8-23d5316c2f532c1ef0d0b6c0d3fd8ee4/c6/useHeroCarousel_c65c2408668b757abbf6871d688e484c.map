{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\useHeroCarousel.ts"],"sourcesContent":["/**\r\n * Hook para manejar la lógica de un carousel de hero con autoplay\r\n * Incluye navegación automática, manual, pausa en hover y controles completos\r\n */\r\n\r\nimport { useState, useEffect, useCallback, useRef } from 'react';\r\n\r\ninterface UseHeroCarouselProps {\r\n  images: string[];\r\n  autoPlayInterval?: number;\r\n  pauseOnHover?: boolean;\r\n}\r\n\r\ninterface UseHeroCarouselReturn {\r\n  currentIndex: number;\r\n  isPlaying: boolean;\r\n  isPaused: boolean;\r\n  goToSlide: (index: number) => void;\r\n  goToNext: () => void;\r\n  goToPrevious: () => void;\r\n  pause: () => void;\r\n  resume: () => void;\r\n  setHover: (isHovering: boolean) => void;\r\n}\r\n\r\n/**\r\n * Hook que maneja la lógica completa de un carousel con autoplay\r\n * @param images - Array de URLs de imágenes\r\n * @param autoPlayInterval - Intervalo de autoplay en ms (default: 5000)\r\n * @param pauseOnHover - Si debe pausar en hover (default: true)\r\n * @returns objeto con estado y funciones de control del carousel\r\n */\r\nexport const useHeroCarousel = ({\r\n  images,\r\n  autoPlayInterval = 5000,\r\n  pauseOnHover = true,\r\n}: UseHeroCarouselProps): UseHeroCarouselReturn => {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [isHovering, setIsHovering] = useState(false);\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Función para ir al siguiente slide\r\n  const goToNext = useCallback(() => {\r\n    if (images.length <= 1) {return;} // No navegar si solo hay una imagen\r\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % images.length);\r\n  }, [images.length]);\r\n\r\n  // Función para ir al slide anterior\r\n  const goToPrevious = useCallback(() => {\r\n    if (images.length <= 1) {return;} // No navegar si solo hay una imagen\r\n    setCurrentIndex((prevIndex) => \r\n      prevIndex === 0 ? images.length - 1 : prevIndex - 1\r\n    );\r\n  }, [images.length]);\r\n\r\n  // Función para ir a un slide específico\r\n  const goToSlide = useCallback((index: number) => {\r\n    if (index >= 0 && index < images.length) {\r\n      setCurrentIndex(index);\r\n    }\r\n  }, [images.length]);\r\n\r\n  // Función para pausar el autoplay\r\n  const pause = useCallback(() => {\r\n    setIsPlaying(false);\r\n    setIsPaused(true);\r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n      intervalRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // Función para reanudar el autoplay\r\n  const resume = useCallback(() => {\r\n    setIsPlaying(true);\r\n    setIsPaused(false);\r\n  }, []);\r\n\r\n  // Función para manejar hover\r\n  const setHover = useCallback((hovering: boolean) => {\r\n    setIsHovering(hovering);\r\n    if (pauseOnHover) {\r\n      if (hovering) {\r\n        pause();\r\n      } else {\r\n        resume();\r\n      }\r\n    }\r\n  }, [pauseOnHover, pause, resume]);\r\n\r\n  // Efecto para manejar el autoplay\r\n  useEffect(() => {\r\n    // No iniciar autoplay si hay una sola imagen o menos\r\n    if (images.length <= 1) {\r\n      setIsPlaying(false);\r\n      return;\r\n    }\r\n\r\n    // Limpiar intervalo existente\r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n    }\r\n\r\n    // Iniciar nuevo intervalo si está reproduciendo y no está pausado\r\n    if (isPlaying && !isPaused && (!pauseOnHover || !isHovering)) {\r\n      intervalRef.current = setInterval(() => {\r\n        goToNext();\r\n      }, autoPlayInterval);\r\n    }\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [isPlaying, isPaused, isHovering, pauseOnHover, autoPlayInterval, goToNext, images.length]);\r\n\r\n  // Cleanup al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    currentIndex,\r\n    isPlaying,\r\n    isPaused,\r\n    goToSlide,\r\n    goToNext,\r\n    goToPrevious,\r\n    pause,\r\n    resume,\r\n    setHover,\r\n  };\r\n};\r\n\r\nexport default useHeroCarousel;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["useHeroCarousel","images","autoPlayInterval","pauseOnHover","currentIndex","setCurrentIndex","useState","isPlaying","setIsPlaying","isPaused","setIsPaused","isHovering","setIsHovering","intervalRef","useRef","goToNext","useCallback","length","prevIndex","goToPrevious","goToSlide","index","pause","current","clearInterval","resume","setHover","hovering","useEffect","setInterval"],"mappings":"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"}