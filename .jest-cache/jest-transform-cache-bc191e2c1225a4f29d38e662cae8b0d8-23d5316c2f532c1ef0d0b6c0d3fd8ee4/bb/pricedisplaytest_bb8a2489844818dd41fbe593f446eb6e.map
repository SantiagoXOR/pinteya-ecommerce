{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\__tests__\\price-display.test.tsx"],"sourcesContent":["import { render, screen } from '@testing-library/react'\r\nimport { PriceDisplay } from '../price-display'\r\n\r\ndescribe('PriceDisplay', () => {\r\n  it('renders basic price correctly', () => {\r\n    render(<PriceDisplay amount={1550} />)\r\n\r\n    // Verifica que el precio se muestre correctamente formateado (con espacio)\r\n    expect(screen.getByText('$ 15,50')).toBeInTheDocument()\r\n  })\r\n\r\n  it('shows discount percentage when original price is provided', () => {\r\n    render(\r\n      <PriceDisplay \r\n        amount={1550} \r\n        originalAmount={2000} \r\n        showDiscountPercentage \r\n      />\r\n    )\r\n    \r\n    // Verifica precio original tachado\r\n    expect(screen.getByText('$ 20,00')).toBeInTheDocument()\r\n\r\n    // Verifica precio actual\r\n    expect(screen.getByText('$ 15,50')).toBeInTheDocument()\r\n    \r\n    // Verifica porcentaje de descuento (23% = (2000-1550)/2000 * 100)\r\n    expect(screen.getByText(/-\\d+%/)).toBeInTheDocument()\r\n  })\r\n\r\n  it('displays installments information', () => {\r\n    render(\r\n      <PriceDisplay \r\n        amount={15000}\r\n        installments={{\r\n          quantity: 12,\r\n          amount: 1250,\r\n          interestFree: true\r\n        }}\r\n      />\r\n    )\r\n    \r\n    // Verifica información de cuotas\r\n    expect(screen.getByText(/12x de/)).toBeInTheDocument()\r\n    expect(screen.getByText(/\\$ 12,50/)).toBeInTheDocument()\r\n    expect(screen.getByText('sin interés')).toBeInTheDocument()\r\n  })\r\n\r\n  it('shows free shipping badge when enabled', () => {\r\n    render(<PriceDisplay amount={1550} showFreeShipping />)\r\n\r\n    expect(screen.getByAltText('Envío gratis')).toBeInTheDocument()\r\n  })\r\n\r\n  it('applies correct variant classes', () => {\r\n    const { container } = render(\r\n      <PriceDisplay amount={1550} variant=\"center\" />\r\n    )\r\n    \r\n    expect(container.firstChild).toHaveClass('text-center', 'items-center')\r\n  })\r\n\r\n  it('applies correct size classes', () => {\r\n    const { container } = render(\r\n      <PriceDisplay amount={1550} size=\"lg\" />\r\n    )\r\n    \r\n    // Verifica que se aplique la clase de tamaño\r\n    expect(container.querySelector('.text-2xl')).toBeInTheDocument()\r\n  })\r\n\r\n  it('handles different currencies', () => {\r\n    render(<PriceDisplay amount={1550} currency=\"USD\" />)\r\n    \r\n    // Para USD debería mostrar el símbolo de dólar\r\n    expect(screen.getByText(/US\\$/)).toBeInTheDocument()\r\n  })\r\n\r\n  it('uses custom currency symbol when provided', () => {\r\n    render(<PriceDisplay amount={1550} currencySymbol=\"$\" />)\r\n    \r\n    expect(screen.getByText('$15,50')).toBeInTheDocument()\r\n  })\r\n\r\n  it('calculates discount percentage correctly', () => {\r\n    render(\r\n      <PriceDisplay \r\n        amount={7500} \r\n        originalAmount={10000} \r\n        showDiscountPercentage \r\n      />\r\n    )\r\n    \r\n    // 25% de descuento: (10000-7500)/10000 * 100 = 25%\r\n    expect(screen.getByText('-25%')).toBeInTheDocument()\r\n  })\r\n\r\n  it('renders compact variant correctly', () => {\r\n    const { container } = render(\r\n      <PriceDisplay \r\n        amount={1550} \r\n        originalAmount={2000}\r\n        variant=\"compact\" \r\n      />\r\n    )\r\n    \r\n    expect(container.firstChild).toHaveClass('flex-col', 'gap-0.5')\r\n  })\r\n\r\n  it('handles installments without interest correctly', () => {\r\n    render(\r\n      <PriceDisplay \r\n        amount={15000}\r\n        installments={{\r\n          quantity: 6,\r\n          amount: 2500,\r\n          interestFree: false\r\n        }}\r\n        installmentsText=\"con interés\"\r\n      />\r\n    )\r\n    \r\n    expect(screen.getByText(/6x de/)).toBeInTheDocument()\r\n    expect(screen.getByText(/\\$ 25,00/)).toBeInTheDocument()\r\n    // No debería mostrar \"sin interés\" cuando interestFree es false\r\n    expect(screen.queryByText('sin interés')).not.toBeInTheDocument()\r\n  })\r\n\r\n  it('applies custom price color', () => {\r\n    const { container } = render(\r\n      <PriceDisplay amount={1550} priceColor=\"#FF0000\" />\r\n    )\r\n\r\n    // Verifica que se aplique la clase de color personalizado\r\n    expect(container.querySelector('.text-\\\\[\\\\#FF0000\\\\]')).toBeInTheDocument()\r\n  })\r\n\r\n  it('handles zero amount correctly', () => {\r\n    render(<PriceDisplay amount={0} />)\r\n\r\n    expect(screen.getByText('$ 0,00')).toBeInTheDocument()\r\n  })\r\n\r\n  it('handles large amounts correctly', () => {\r\n    render(<PriceDisplay amount={1234567} />)\r\n\r\n    // Debería formatear números grandes con separadores de miles\r\n    expect(screen.getByText('$ 12.345,67')).toBeInTheDocument()\r\n  })\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["describe","it","render","PriceDisplay","amount","expect","screen","getByText","toBeInTheDocument","originalAmount","showDiscountPercentage","installments","quantity","interestFree","showFreeShipping","getByAltText","container","variant","firstChild","toHaveClass","size","querySelector","currency","currencySymbol","installmentsText","queryByText","not","priceColor"],"mappings":"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"}