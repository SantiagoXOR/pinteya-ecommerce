10518569e1c908026201541d7f0258b0
// ===================================
// TESTS DE INTEGRACIÓN - FLUJO DE CHECKOUT
// Tests completos del proceso de compra
// ===================================
"use strict";
// Mocks
jest.mock('@/lib/supabase', ()=>({
        supabase: {
            auth: {
                getUser: jest.fn(),
                signInWithPassword: jest.fn()
            },
            from: jest.fn(()=>({
                    select: jest.fn(()=>({
                            eq: jest.fn(()=>({
                                    single: jest.fn(),
                                    order: jest.fn(()=>({
                                            limit: jest.fn()
                                        }))
                                })),
                            insert: jest.fn(),
                            update: jest.fn(()=>({
                                    eq: jest.fn()
                                }))
                        }))
                }))
        }
    }));
jest.mock('sonner', ()=>({
        toast: {
            success: jest.fn(),
            error: jest.fn(),
            loading: jest.fn()
        }
    }));
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
// Mock MercadoPago
jest.mock('@/lib/mercadopago', ()=>({
        createPreference: jest.fn(),
        processPayment: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _reactquery = require("@tanstack/react-query");
const _page = require("../../app/checkout/page");
const _CartContext = require("../../contexts/CartContext");
const _AuthContext = require("../../contexts/AuthContext");
const _supabase = require("../../lib/integrations/supabase");
const _sonner = require("sonner");
const _navigation = require("next/navigation");
const _react1 = /*#__PURE__*/ _interop_require_default(require("react"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockRouter = {
    push: jest.fn(),
    replace: jest.fn(),
    refresh: jest.fn()
};
// Mock localStorage
const localStorageMock = (()=>{
    let store = {};
    return {
        getItem: (key)=>store[key] || null,
        setItem: (key, value)=>{
            store[key] = value;
        },
        removeItem: (key)=>{
            delete store[key];
        },
        clear: ()=>{
            store = {};
        }
    };
})();
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
// Datos de prueba
const mockUser = {
    id: 'user-123',
    email: 'test@example.com',
    user_metadata: {
        full_name: 'Test User'
    }
};
const mockCartItems = [
    {
        id: 1,
        name: 'Producto Test 1',
        price: 100,
        quantity: 2,
        image: 'https://example.com/image1.jpg',
        stock: 10
    },
    {
        id: 2,
        name: 'Producto Test 2',
        price: 50,
        quantity: 1,
        image: 'https://example.com/image2.jpg',
        stock: 5
    }
];
const mockShippingAddress = {
    street: 'Av. Corrientes 1234',
    city: 'Buenos Aires',
    state: 'CABA',
    postal_code: '1043',
    country: 'Argentina'
};
// Wrapper de providers
const createWrapper = (initialCartItems = mockCartItems)=>{
    const queryClient = new _reactquery.QueryClient({
        defaultOptions: {
            queries: {
                retry: false
            },
            mutations: {
                retry: false
            }
        }
    });
    // Configurar localStorage con items del carrito
    localStorageMock.setItem('cart-items', JSON.stringify(initialCartItems));
    return ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
            client: queryClient,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AuthContext.AuthProvider, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CartContext.CartProvider, {
                    children: children
                })
            })
        });
};
describe('Flujo de Checkout - Integración', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        localStorageMock.clear();
        _navigation.useRouter.mockReturnValue(mockRouter);
    });
    describe('Inicialización del Checkout', ()=>{
        it('debe mostrar los productos del carrito correctamente', async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Verificar que se muestran los productos
            expect(_react.screen.getByText('Producto Test 1')).toBeInTheDocument();
            expect(_react.screen.getByText('Producto Test 2')).toBeInTheDocument();
            // Verificar cantidades
            expect(_react.screen.getByText('Cantidad: 2')).toBeInTheDocument();
            expect(_react.screen.getByText('Cantidad: 1')).toBeInTheDocument();
            // Verificar total
            expect(_react.screen.getByText('Total: $250')).toBeInTheDocument();
        });
        it('debe redirigir si el carrito está vacío', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper([])
            });
            await (0, _react.waitFor)(()=>{
                expect(mockRouter.push).toHaveBeenCalledWith('/cart');
            });
            expect(_sonner.toast.error).toHaveBeenCalledWith('Tu carrito está vacío. Agrega productos antes de continuar.');
        });
        it('debe mostrar formulario de login si no está autenticado', async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            expect(_react.screen.getByText('Iniciar Sesión')).toBeInTheDocument();
            expect(_react.screen.getByLabelText('Email')).toBeInTheDocument();
            expect(_react.screen.getByLabelText('Contraseña')).toBeInTheDocument();
        });
    });
    describe('Autenticación en Checkout', ()=>{
        it('debe permitir login durante el checkout', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            _supabase.supabase.auth.signInWithPassword.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Llenar formulario de login
            await user.type(_react.screen.getByLabelText('Email'), 'test@example.com');
            await user.type(_react.screen.getByLabelText('Contraseña'), 'password123');
            // Hacer click en login
            await user.click(_react.screen.getByRole('button', {
                name: /iniciar sesión/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.auth.signInWithPassword).toHaveBeenCalledWith({
                    email: 'test@example.com',
                    password: 'password123'
                });
            });
            // Debe mostrar el formulario de checkout después del login
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Información de Envío')).toBeInTheDocument();
            });
        });
        it('debe manejar errores de login', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            _supabase.supabase.auth.signInWithPassword.mockResolvedValue({
                data: null,
                error: {
                    message: 'Invalid credentials'
                }
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await user.type(_react.screen.getByLabelText('Email'), 'test@example.com');
            await user.type(_react.screen.getByLabelText('Contraseña'), 'wrongpassword');
            await user.click(_react.screen.getByRole('button', {
                name: /iniciar sesión/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Credenciales inválidas');
            });
        });
    });
    describe('Formulario de Información de Envío', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        it('debe validar campos requeridos', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Intentar continuar sin llenar campos
            const continueButton = _react.screen.getByRole('button', {
                name: /continuar/i
            });
            await user.click(continueButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('La dirección es requerida')).toBeInTheDocument();
                expect(_react.screen.getByText('La ciudad es requerida')).toBeInTheDocument();
                expect(_react.screen.getByText('El código postal es requerido')).toBeInTheDocument();
            });
        });
        it('debe llenar y validar el formulario correctamente', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Llenar formulario de envío
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            // Seleccionar país
            const countrySelect = _react.screen.getByLabelText('País');
            await user.selectOptions(countrySelect, mockShippingAddress.country);
            // Continuar al siguiente paso
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Método de Pago')).toBeInTheDocument();
            });
        });
        it('debe validar formato de código postal', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await user.type(_react.screen.getByLabelText('Código Postal'), 'invalid');
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Formato de código postal inválido')).toBeInTheDocument();
            });
        });
    });
    describe('Selección de Método de Pago', ()=>{
        beforeEach(async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        const fillShippingForm = async (user)=>{
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
        };
        it('debe mostrar opciones de pago disponibles', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('MercadoPago')).toBeInTheDocument();
                expect(_react.screen.getByText('Transferencia Bancaria')).toBeInTheDocument();
                expect(_react.screen.getByText('Efectivo')).toBeInTheDocument();
            });
        });
        it('debe seleccionar método de pago', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            // Seleccionar MercadoPago
            const mercadopagoOption = _react.screen.getByLabelText('MercadoPago');
            await user.click(mercadopagoOption);
            expect(mercadopagoOption).toBeChecked();
            // Debe mostrar información adicional de MercadoPago
            expect(_react.screen.getByText('Paga con tarjeta de crédito, débito o efectivo')).toBeInTheDocument();
        });
        it('debe validar selección de método de pago', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            // Intentar continuar sin seleccionar método de pago
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Selecciona un método de pago')).toBeInTheDocument();
            });
        });
    });
    describe('Finalización de Compra', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        const completeCheckoutForm = async (user)=>{
            // Llenar información de envío
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            // Seleccionar método de pago
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
        };
        it('debe crear la orden exitosamente', async ()=>{
            const user = _userevent.default.setup();
            // Mock de creación de orden
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            // Finalizar compra
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.from).toHaveBeenCalledWith('orders');
                expect(_sonner.toast.success).toHaveBeenCalledWith('¡Compra realizada exitosamente!');
                expect(mockRouter.push).toHaveBeenCalledWith('/orders/order-123');
            });
        });
        it('debe manejar errores al crear la orden', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: null,
                    error: {
                        message: 'Database error'
                    }
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Error al procesar la compra. Intenta nuevamente.');
            });
        });
        it('debe validar stock antes de crear la orden', async ()=>{
            const user = _userevent.default.setup();
            // Mock de productos con stock insuficiente
            const itemsWithLowStock = [
                {
                    ...mockCartItems[0],
                    quantity: 15,
                    stock: 10
                } // Más cantidad que stock
            ];
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper(itemsWithLowStock)
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Algunos productos no tienen stock suficiente');
            });
        });
        it('debe limpiar el carrito después de compra exitosa', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                // Verificar que el localStorage se limpió
                const cartItems = JSON.parse(localStorageMock.getItem('cart-items') || '[]');
                expect(cartItems).toEqual([]);
            });
        });
    });
    describe('Integración con MercadoPago', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        it('debe crear preferencia de MercadoPago', async ()=>{
            const user = _userevent.default.setup();
            const { createPreference } = require('@/lib/mercadopago');
            createPreference.mockResolvedValue({
                id: 'preference-123',
                init_point: 'https://mercadopago.com/checkout/preference-123'
            });
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(createPreference).toHaveBeenCalledWith({
                    items: expect.arrayContaining([
                        expect.objectContaining({
                            title: 'Producto Test 1',
                            unit_price: 100,
                            quantity: 2
                        })
                    ]),
                    payer: {
                        email: mockUser.email
                    },
                    external_reference: 'order-123'
                });
            });
        });
    });
    describe('Casos Edge y Errores', ()=>{
        it('debe manejar pérdida de conexión', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockRejectedValue(new Error('Network error'))
            });
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario rápidamente
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Error de conexión. Verifica tu internet e intenta nuevamente.');
            });
        });
        it('debe prevenir doble envío de formulario', async ()=>{
            const user = _userevent.default.setup();
            let resolveInsert;
            const insertPromise = new Promise((resolve)=>{
                resolveInsert = resolve;
            });
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue(insertPromise)
            });
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            const submitButton = _react.screen.getByRole('button', {
                name: /finalizar compra/i
            });
            // Hacer doble click rápido
            await user.click(submitButton);
            await user.click(submitButton);
            // El botón debe estar deshabilitado después del primer click
            expect(submitButton).toBeDisabled();
            // Resolver la promesa
            resolveInsert({
                data: [
                    {
                        id: 'order-123'
                    }
                ],
                error: null
            });
            // Solo debe haberse llamado una vez
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.from().insert).toHaveBeenCalledTimes(1);
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxpbnRlZ3JhdGlvblxcY2hlY2tvdXQtZmxvdy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBURVNUUyBERSBJTlRFR1JBQ0nDk04gLSBGTFVKTyBERSBDSEVDS09VVFxyXG4vLyBUZXN0cyBjb21wbGV0b3MgZGVsIHByb2Nlc28gZGUgY29tcHJhXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCB3aXRoaW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xyXG5pbXBvcnQgeyBRdWVyeUNsaWVudCwgUXVlcnlDbGllbnRQcm92aWRlciB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XHJcbmltcG9ydCB7IENoZWNrb3V0UGFnZSB9IGZyb20gJ0AvYXBwL2NoZWNrb3V0L3BhZ2UnO1xyXG5pbXBvcnQgeyBDYXJ0UHJvdmlkZXIgfSBmcm9tICdAL2NvbnRleHRzL0NhcnRDb250ZXh0JztcclxuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdzb25uZXInO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gTW9ja3NcclxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZScsICgpID0+ICh7XHJcbiAgc3VwYWJhc2U6IHtcclxuICAgIGF1dGg6IHtcclxuICAgICAgZ2V0VXNlcjogamVzdC5mbigpLFxyXG4gICAgICBzaWduSW5XaXRoUGFzc3dvcmQ6IGplc3QuZm4oKVxyXG4gICAgfSxcclxuICAgIGZyb206IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgc2VsZWN0OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgZXE6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLFxyXG4gICAgICAgICAgb3JkZXI6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgICAgbGltaXQ6IGplc3QuZm4oKVxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIGluc2VydDogamVzdC5mbigpLFxyXG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgZXE6IGplc3QuZm4oKVxyXG4gICAgICAgIH0pKVxyXG4gICAgICB9KSlcclxuICAgIH0pKVxyXG4gIH1cclxufSkpO1xyXG5cclxuamVzdC5tb2NrKCdzb25uZXInLCAoKSA9PiAoe1xyXG4gIHRvYXN0OiB7XHJcbiAgICBzdWNjZXNzOiBqZXN0LmZuKCksXHJcbiAgICBlcnJvcjogamVzdC5mbigpLFxyXG4gICAgbG9hZGluZzogamVzdC5mbigpXHJcbiAgfVxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XHJcbiAgdXNlUm91dGVyOiBqZXN0LmZuKClcclxufSkpO1xyXG5cclxuLy8gTW9jayBNZXJjYWRvUGFnb1xyXG5qZXN0Lm1vY2soJ0AvbGliL21lcmNhZG9wYWdvJywgKCkgPT4gKHtcclxuICBjcmVhdGVQcmVmZXJlbmNlOiBqZXN0LmZuKCksXHJcbiAgcHJvY2Vzc1BheW1lbnQ6IGplc3QuZm4oKVxyXG59KSk7XHJcblxyXG5jb25zdCBtb2NrUm91dGVyID0ge1xyXG4gIHB1c2g6IGplc3QuZm4oKSxcclxuICByZXBsYWNlOiBqZXN0LmZuKCksXHJcbiAgcmVmcmVzaDogamVzdC5mbigpXHJcbn07XHJcblxyXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxyXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0gKCgpID0+IHtcclxuICBsZXQgc3RvcmU6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcclxuICByZXR1cm4ge1xyXG4gICAgZ2V0SXRlbTogKGtleTogc3RyaW5nKSA9PiBzdG9yZVtrZXldIHx8IG51bGwsXHJcbiAgICBzZXRJdGVtOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHsgc3RvcmVba2V5XSA9IHZhbHVlOyB9LFxyXG4gICAgcmVtb3ZlSXRlbTogKGtleTogc3RyaW5nKSA9PiB7IGRlbGV0ZSBzdG9yZVtrZXldOyB9LFxyXG4gICAgY2xlYXI6ICgpID0+IHsgc3RvcmUgPSB7fTsgfVxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywgeyB2YWx1ZTogbG9jYWxTdG9yYWdlTW9jayB9KTtcclxuXHJcbi8vIERhdG9zIGRlIHBydWViYVxyXG5jb25zdCBtb2NrVXNlciA9IHtcclxuICBpZDogJ3VzZXItMTIzJyxcclxuICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gIHVzZXJfbWV0YWRhdGE6IHsgZnVsbF9uYW1lOiAnVGVzdCBVc2VyJyB9XHJcbn07XHJcblxyXG5jb25zdCBtb2NrQ2FydEl0ZW1zID0gW1xyXG4gIHtcclxuICAgIGlkOiAxLFxyXG4gICAgbmFtZTogJ1Byb2R1Y3RvIFRlc3QgMScsXHJcbiAgICBwcmljZTogMTAwLFxyXG4gICAgcXVhbnRpdHk6IDIsXHJcbiAgICBpbWFnZTogJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UxLmpwZycsXHJcbiAgICBzdG9jazogMTBcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAyLFxyXG4gICAgbmFtZTogJ1Byb2R1Y3RvIFRlc3QgMicsXHJcbiAgICBwcmljZTogNTAsXHJcbiAgICBxdWFudGl0eTogMSxcclxuICAgIGltYWdlOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZTIuanBnJyxcclxuICAgIHN0b2NrOiA1XHJcbiAgfVxyXG5dO1xyXG5cclxuY29uc3QgbW9ja1NoaXBwaW5nQWRkcmVzcyA9IHtcclxuICBzdHJlZXQ6ICdBdi4gQ29ycmllbnRlcyAxMjM0JyxcclxuICBjaXR5OiAnQnVlbm9zIEFpcmVzJyxcclxuICBzdGF0ZTogJ0NBQkEnLFxyXG4gIHBvc3RhbF9jb2RlOiAnMTA0MycsXHJcbiAgY291bnRyeTogJ0FyZ2VudGluYSdcclxufTtcclxuXHJcbi8vIFdyYXBwZXIgZGUgcHJvdmlkZXJzXHJcbmNvbnN0IGNyZWF0ZVdyYXBwZXIgPSAoaW5pdGlhbENhcnRJdGVtcyA9IG1vY2tDYXJ0SXRlbXMpID0+IHtcclxuICBjb25zdCBxdWVyeUNsaWVudCA9IG5ldyBRdWVyeUNsaWVudCh7XHJcbiAgICBkZWZhdWx0T3B0aW9uczoge1xyXG4gICAgICBxdWVyaWVzOiB7IHJldHJ5OiBmYWxzZSB9LFxyXG4gICAgICBtdXRhdGlvbnM6IHsgcmV0cnk6IGZhbHNlIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gQ29uZmlndXJhciBsb2NhbFN0b3JhZ2UgY29uIGl0ZW1zIGRlbCBjYXJyaXRvXHJcbiAgbG9jYWxTdG9yYWdlTW9jay5zZXRJdGVtKCdjYXJ0LWl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoaW5pdGlhbENhcnRJdGVtcykpO1xyXG5cclxuICByZXR1cm4gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IChcclxuICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxyXG4gICAgICA8QXV0aFByb3ZpZGVyPlxyXG4gICAgICAgIDxDYXJ0UHJvdmlkZXI+XHJcbiAgICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgICAgPC9DYXJ0UHJvdmlkZXI+XHJcbiAgICAgIDwvQXV0aFByb3ZpZGVyPlxyXG4gICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxyXG4gICk7XHJcbn07XHJcblxyXG5kZXNjcmliZSgnRmx1am8gZGUgQ2hlY2tvdXQgLSBJbnRlZ3JhY2nDs24nLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suY2xlYXIoKTtcclxuICAgICh1c2VSb3V0ZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja1JvdXRlcik7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdJbmljaWFsaXphY2nDs24gZGVsIENoZWNrb3V0JywgKCkgPT4ge1xyXG4gICAgaXQoJ2RlYmUgbW9zdHJhciBsb3MgcHJvZHVjdG9zIGRlbCBjYXJyaXRvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxyXG4gICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xyXG5cclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBzZSBtdWVzdHJhbiBsb3MgcHJvZHVjdG9zXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0byBUZXN0IDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3RvIFRlc3QgMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIGNhbnRpZGFkZXNcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhbnRpZGFkOiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYW50aWRhZDogMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIHRvdGFsXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb3RhbDogJDI1MCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmUgcmVkaXJpZ2lyIHNpIGVsIGNhcnJpdG8gZXN0w6EgdmFjw61vJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKFtdKSB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvY2FydCcpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdCh0b2FzdC5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ1R1IGNhcnJpdG8gZXN0w6EgdmFjw61vLiBBZ3JlZ2EgcHJvZHVjdG9zIGFudGVzIGRlIGNvbnRpbnVhci4nXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZSBtb3N0cmFyIGZvcm11bGFyaW8gZGUgbG9naW4gc2kgbm8gZXN0w6EgYXV0ZW50aWNhZG8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSW5pY2lhciBTZXNpw7NuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NvbnRyYXNlw7FhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0F1dGVudGljYWNpw7NuIGVuIENoZWNrb3V0JywgKCkgPT4ge1xyXG4gICAgaXQoJ2RlYmUgcGVybWl0aXIgbG9naW4gZHVyYW50ZSBlbCBjaGVja291dCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcclxuICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB7IHVzZXI6IG1vY2tVc2VyIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcblxyXG4gICAgICAvLyBMbGVuYXIgZm9ybXVsYXJpbyBkZSBsb2dpblxyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCcpLCAndGVzdEBleGFtcGxlLmNvbScpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDb250cmFzZcOxYScpLCAncGFzc3dvcmQxMjMnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEhhY2VyIGNsaWNrIGVuIGxvZ2luXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5pY2lhciBzZXNpw7NuL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBEZWJlIG1vc3RyYXIgZWwgZm9ybXVsYXJpbyBkZSBjaGVja291dCBkZXNwdcOpcyBkZWwgbG9naW5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm9ybWFjacOzbiBkZSBFbnbDrW8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZSBtYW5lamFyIGVycm9yZXMgZGUgbG9naW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgXHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAoc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnSW52YWxpZCBjcmVkZW50aWFscycgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0VtYWlsJyksICd0ZXN0QGV4YW1wbGUuY29tJyk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NvbnRyYXNlw7FhJyksICd3cm9uZ3Bhc3N3b3JkJyk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5pY2lhciBzZXNpw7NuL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHRvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQ3JlZGVuY2lhbGVzIGludsOhbGlkYXMnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Zvcm11bGFyaW8gZGUgSW5mb3JtYWNpw7NuIGRlIEVudsOtbycsICgpID0+IHtcclxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgICAoc3VwYWJhc2UuYXV0aC5nZXRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcclxuICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlIHZhbGlkYXIgY2FtcG9zIHJlcXVlcmlkb3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcclxuXHJcbiAgICAgIC8vIEludGVudGFyIGNvbnRpbnVhciBzaW4gbGxlbmFyIGNhbXBvc1xyXG4gICAgICBjb25zdCBjb250aW51ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NvbnRpbnVhci9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNvbnRpbnVlQnV0dG9uKTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMYSBkaXJlY2Npw7NuIGVzIHJlcXVlcmlkYScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMYSBjaXVkYWQgZXMgcmVxdWVyaWRhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VsIGPDs2RpZ28gcG9zdGFsIGVzIHJlcXVlcmlkbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlIGxsZW5hciB5IHZhbGlkYXIgZWwgZm9ybXVsYXJpbyBjb3JyZWN0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcblxyXG4gICAgICAvLyBMbGVuYXIgZm9ybXVsYXJpbyBkZSBlbnbDrW9cclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNlbGVjY2lvbmFyIHBhw61zXHJcbiAgICAgIGNvbnN0IGNvdW50cnlTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhw61zJyk7XHJcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjb3VudHJ5U2VsZWN0LCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNvdW50cnkpO1xyXG5cclxuICAgICAgLy8gQ29udGludWFyIGFsIHNpZ3VpZW50ZSBwYXNvXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ03DqXRvZG8gZGUgUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlIHZhbGlkYXIgZm9ybWF0byBkZSBjw7NkaWdvIHBvc3RhbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xyXG5cclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ8OzZGlnbyBQb3N0YWwnKSwgJ2ludmFsaWQnKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRm9ybWF0byBkZSBjw7NkaWdvIHBvc3RhbCBpbnbDoWxpZG8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1NlbGVjY2nDs24gZGUgTcOpdG9kbyBkZSBQYWdvJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxyXG4gICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZmlsbFNoaXBwaW5nRm9ybSA9IGFzeW5jICh1c2VyOiBhbnkpID0+IHtcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcclxuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGl0KCdkZWJlIG1vc3RyYXIgb3BjaW9uZXMgZGUgcGFnbyBkaXNwb25pYmxlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZmlsbFNoaXBwaW5nRm9ybSh1c2VyKTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUcmFuc2ZlcmVuY2lhIEJhbmNhcmlhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VmZWN0aXZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmUgc2VsZWNjaW9uYXIgbcOpdG9kbyBkZSBwYWdvJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBmaWxsU2hpcHBpbmdGb3JtKHVzZXIpO1xyXG5cclxuICAgICAgLy8gU2VsZWNjaW9uYXIgTWVyY2Fkb1BhZ29cclxuICAgICAgY29uc3QgbWVyY2Fkb3BhZ29PcHRpb24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJyk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sobWVyY2Fkb3BhZ29PcHRpb24pO1xyXG5cclxuICAgICAgZXhwZWN0KG1lcmNhZG9wYWdvT3B0aW9uKS50b0JlQ2hlY2tlZCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gRGViZSBtb3N0cmFyIGluZm9ybWFjacOzbiBhZGljaW9uYWwgZGUgTWVyY2Fkb1BhZ29cclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BhZ2EgY29uIHRhcmpldGEgZGUgY3LDqWRpdG8sIGTDqWJpdG8gbyBlZmVjdGl2bycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmUgdmFsaWRhciBzZWxlY2Npw7NuIGRlIG3DqXRvZG8gZGUgcGFnbycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgZmlsbFNoaXBwaW5nRm9ybSh1c2VyKTtcclxuXHJcbiAgICAgIC8vIEludGVudGFyIGNvbnRpbnVhciBzaW4gc2VsZWNjaW9uYXIgbcOpdG9kbyBkZSBwYWdvXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZmluYWxpemFyIGNvbXByYS9pIH0pKTtcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY2Npb25hIHVuIG3DqXRvZG8gZGUgcGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRmluYWxpemFjacOzbiBkZSBDb21wcmEnLCAoKSA9PiB7XHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB7IHVzZXI6IG1vY2tVc2VyIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjb21wbGV0ZUNoZWNrb3V0Rm9ybSA9IGFzeW5jICh1c2VyOiBhbnkpID0+IHtcclxuICAgICAgLy8gTGxlbmFyIGluZm9ybWFjacOzbiBkZSBlbnbDrW9cclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcclxuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XHJcblxyXG4gICAgICAvLyBTZWxlY2Npb25hciBtw6l0b2RvIGRlIHBhZ29cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnTWVyY2Fkb1BhZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKTtcclxuICAgIH07XHJcblxyXG4gICAgaXQoJ2RlYmUgY3JlYXIgbGEgb3JkZW4gZXhpdG9zYW1lbnRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNb2NrIGRlIGNyZWFjacOzbiBkZSBvcmRlblxyXG4gICAgICAoc3VwYWJhc2UuZnJvbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgICAgZGF0YTogW3sgaWQ6ICdvcmRlci0xMjMnIH1dLFxyXG4gICAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGNvbXBsZXRlQ2hlY2tvdXRGb3JtKHVzZXIpO1xyXG5cclxuICAgICAgLy8gRmluYWxpemFyIGNvbXByYVxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc3VwYWJhc2UuZnJvbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ29yZGVycycpO1xyXG4gICAgICAgIGV4cGVjdCh0b2FzdC5zdWNjZXNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnwqFDb21wcmEgcmVhbGl6YWRhIGV4aXRvc2FtZW50ZSEnKTtcclxuICAgICAgICBleHBlY3QobW9ja1JvdXRlci5wdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL29yZGVycy9vcmRlci0xMjMnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZSBtYW5lamFyIGVycm9yZXMgYWwgY3JlYXIgbGEgb3JkZW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgXHJcbiAgICAgIChzdXBhYmFzZS5mcm9tIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGVycm9yJyB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBjb21wbGV0ZUNoZWNrb3V0Rm9ybSh1c2VyKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHRvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAgICdFcnJvciBhbCBwcm9jZXNhciBsYSBjb21wcmEuIEludGVudGEgbnVldmFtZW50ZS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZSB2YWxpZGFyIHN0b2NrIGFudGVzIGRlIGNyZWFyIGxhIG9yZGVuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNb2NrIGRlIHByb2R1Y3RvcyBjb24gc3RvY2sgaW5zdWZpY2llbnRlXHJcbiAgICAgIGNvbnN0IGl0ZW1zV2l0aExvd1N0b2NrID0gW1xyXG4gICAgICAgIHsgLi4ubW9ja0NhcnRJdGVtc1swXSwgcXVhbnRpdHk6IDE1LCBzdG9jazogMTAgfSAvLyBNw6FzIGNhbnRpZGFkIHF1ZSBzdG9ja1xyXG4gICAgICBdO1xyXG5cclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcihpdGVtc1dpdGhMb3dTdG9jaykgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBjb21wbGV0ZUNoZWNrb3V0Rm9ybSh1c2VyKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHRvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAgICdBbGd1bm9zIHByb2R1Y3RvcyBubyB0aWVuZW4gc3RvY2sgc3VmaWNpZW50ZSdcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlIGxpbXBpYXIgZWwgY2Fycml0byBkZXNwdcOpcyBkZSBjb21wcmEgZXhpdG9zYScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgKHN1cGFiYXNlLmZyb20gYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICAgIGRhdGE6IFt7IGlkOiAnb3JkZXItMTIzJyB9XSxcclxuICAgICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBjb21wbGV0ZUNoZWNrb3V0Rm9ybSh1c2VyKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBsb2NhbFN0b3JhZ2Ugc2UgbGltcGnDs1xyXG4gICAgICAgIGNvbnN0IGNhcnRJdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtKCdjYXJ0LWl0ZW1zJykgfHwgJ1tdJyk7XHJcbiAgICAgICAgZXhwZWN0KGNhcnRJdGVtcykudG9FcXVhbChbXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdJbnRlZ3JhY2nDs24gY29uIE1lcmNhZG9QYWdvJywgKCkgPT4ge1xyXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxyXG4gICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmUgY3JlYXIgcHJlZmVyZW5jaWEgZGUgTWVyY2Fkb1BhZ28nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgY29uc3QgeyBjcmVhdGVQcmVmZXJlbmNlIH0gPSByZXF1aXJlKCdAL2xpYi9tZXJjYWRvcGFnbycpO1xyXG4gICAgICBcclxuICAgICAgY3JlYXRlUHJlZmVyZW5jZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgaWQ6ICdwcmVmZXJlbmNlLTEyMycsXHJcbiAgICAgICAgaW5pdF9wb2ludDogJ2h0dHBzOi8vbWVyY2Fkb3BhZ28uY29tL2NoZWNrb3V0L3ByZWZlcmVuY2UtMTIzJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIChzdXBhYmFzZS5mcm9tIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgICBkYXRhOiBbeyBpZDogJ29yZGVyLTEyMycgfV0sXHJcbiAgICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gQ29tcGxldGFyIGZvcm11bGFyaW9cclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcclxuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJykpO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QoY3JlYXRlUHJlZmVyZW5jZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xyXG4gICAgICAgICAgaXRlbXM6IGV4cGVjdC5hcnJheUNvbnRhaW5pbmcoW1xyXG4gICAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdQcm9kdWN0byBUZXN0IDEnLFxyXG4gICAgICAgICAgICAgIHVuaXRfcHJpY2U6IDEwMCxcclxuICAgICAgICAgICAgICBxdWFudGl0eTogMlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgXSksXHJcbiAgICAgICAgICBwYXllcjoge1xyXG4gICAgICAgICAgICBlbWFpbDogbW9ja1VzZXIuZW1haWxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBleHRlcm5hbF9yZWZlcmVuY2U6ICdvcmRlci0xMjMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDYXNvcyBFZGdlIHkgRXJyb3JlcycsICgpID0+IHtcclxuICAgIGl0KCdkZWJlIG1hbmVqYXIgcMOpcmRpZGEgZGUgY29uZXhpw7NuJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICAoc3VwYWJhc2UuZnJvbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBkYXRhOiB7IHVzZXI6IG1vY2tVc2VyIH0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDb21wbGV0YXIgZm9ybXVsYXJpbyByw6FwaWRhbWVudGVcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcclxuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJykpO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KSk7XHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QodG9hc3QuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICAgJ0Vycm9yIGRlIGNvbmV4acOzbi4gVmVyaWZpY2EgdHUgaW50ZXJuZXQgZSBpbnRlbnRhIG51ZXZhbWVudGUuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmUgcHJldmVuaXIgZG9ibGUgZW52w61vIGRlIGZvcm11bGFyaW8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgXHJcbiAgICAgIGxldCByZXNvbHZlSW5zZXJ0OiAodmFsdWU6IGFueSkgPT4gdm9pZDtcclxuICAgICAgY29uc3QgaW5zZXJ0UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIHJlc29sdmVJbnNlcnQgPSByZXNvbHZlO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIChzdXBhYmFzZS5mcm9tIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoaW5zZXJ0UHJvbWlzZSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAoc3VwYWJhc2UuYXV0aC5nZXRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcclxuICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIENvbXBsZXRhciBmb3JtdWxhcmlvXHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0RpcmVjY2nDs24nKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5zdHJlZXQpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDaXVkYWQnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jaXR5KTtcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUHJvdmluY2lhL0VzdGFkbycpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0YXRlKTtcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ8OzZGlnbyBQb3N0YWwnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5wb3N0YWxfY29kZSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhw61zJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MuY291bnRyeSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xyXG5cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnTWVyY2Fkb1BhZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEhhY2VyIGRvYmxlIGNsaWNrIHLDoXBpZG9cclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzdWJtaXRCdXR0b24pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHN1Ym1pdEJ1dHRvbik7XHJcblxyXG4gICAgICAvLyBFbCBib3TDs24gZGViZSBlc3RhciBkZXNoYWJpbGl0YWRvIGRlc3B1w6lzIGRlbCBwcmltZXIgY2xpY2tcclxuICAgICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbikudG9CZURpc2FibGVkKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNvbHZlciBsYSBwcm9tZXNhXHJcbiAgICAgIHJlc29sdmVJbnNlcnQhKHtcclxuICAgICAgICBkYXRhOiBbeyBpZDogJ29yZGVyLTEyMycgfV0sXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBTb2xvIGRlYmUgaGFiZXJzZSBsbGFtYWRvIHVuYSB2ZXpcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHN1cGFiYXNlLmZyb20oKS5pbnNlcnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInN1cGFiYXNlIiwiYXV0aCIsImdldFVzZXIiLCJmbiIsInNpZ25JbldpdGhQYXNzd29yZCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIm9yZGVyIiwibGltaXQiLCJpbnNlcnQiLCJ1cGRhdGUiLCJ0b2FzdCIsInN1Y2Nlc3MiLCJlcnJvciIsImxvYWRpbmciLCJ1c2VSb3V0ZXIiLCJjcmVhdGVQcmVmZXJlbmNlIiwicHJvY2Vzc1BheW1lbnQiLCJtb2NrUm91dGVyIiwicHVzaCIsInJlcGxhY2UiLCJyZWZyZXNoIiwibG9jYWxTdG9yYWdlTW9jayIsInN0b3JlIiwiZ2V0SXRlbSIsImtleSIsInNldEl0ZW0iLCJ2YWx1ZSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwibW9ja1VzZXIiLCJpZCIsImVtYWlsIiwidXNlcl9tZXRhZGF0YSIsImZ1bGxfbmFtZSIsIm1vY2tDYXJ0SXRlbXMiLCJuYW1lIiwicHJpY2UiLCJxdWFudGl0eSIsImltYWdlIiwic3RvY2siLCJtb2NrU2hpcHBpbmdBZGRyZXNzIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwicG9zdGFsX2NvZGUiLCJjb3VudHJ5IiwiY3JlYXRlV3JhcHBlciIsImluaXRpYWxDYXJ0SXRlbXMiLCJxdWVyeUNsaWVudCIsIlF1ZXJ5Q2xpZW50IiwiZGVmYXVsdE9wdGlvbnMiLCJxdWVyaWVzIiwicmV0cnkiLCJtdXRhdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiY2hpbGRyZW4iLCJRdWVyeUNsaWVudFByb3ZpZGVyIiwiY2xpZW50IiwiQXV0aFByb3ZpZGVyIiwiQ2FydFByb3ZpZGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0IiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwidXNlciIsInJlbmRlciIsIkNoZWNrb3V0UGFnZSIsIndyYXBwZXIiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImdldEJ5TGFiZWxUZXh0IiwidXNlckV2ZW50Iiwic2V0dXAiLCJ0eXBlIiwiY2xpY2siLCJnZXRCeVJvbGUiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJjb250aW51ZUJ1dHRvbiIsImNvdW50cnlTZWxlY3QiLCJzZWxlY3RPcHRpb25zIiwiZmlsbFNoaXBwaW5nRm9ybSIsIm1lcmNhZG9wYWdvT3B0aW9uIiwidG9CZUNoZWNrZWQiLCJjb21wbGV0ZUNoZWNrb3V0Rm9ybSIsIml0ZW1zV2l0aExvd1N0b2NrIiwiY2FydEl0ZW1zIiwicGFyc2UiLCJ0b0VxdWFsIiwicmVxdWlyZSIsImluaXRfcG9pbnQiLCJpdGVtcyIsImFycmF5Q29udGFpbmluZyIsIm9iamVjdENvbnRhaW5pbmciLCJ0aXRsZSIsInVuaXRfcHJpY2UiLCJwYXllciIsImV4dGVybmFsX3JlZmVyZW5jZSIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJyZXNvbHZlSW5zZXJ0IiwiaW5zZXJ0UHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic3VibWl0QnV0dG9uIiwidG9CZURpc2FibGVkIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsMkNBQTJDO0FBQzNDLHdDQUF3QztBQUN4QyxzQ0FBc0M7O0FBYXRDLFFBQVE7QUFDUkEsS0FBS0MsSUFBSSxDQUFDLGtCQUFrQixJQUFPLENBQUE7UUFDakNDLFVBQVU7WUFDUkMsTUFBTTtnQkFDSkMsU0FBU0osS0FBS0ssRUFBRTtnQkFDaEJDLG9CQUFvQk4sS0FBS0ssRUFBRTtZQUM3QjtZQUNBRSxNQUFNUCxLQUFLSyxFQUFFLENBQUMsSUFBTyxDQUFBO29CQUNuQkcsUUFBUVIsS0FBS0ssRUFBRSxDQUFDLElBQU8sQ0FBQTs0QkFDckJJLElBQUlULEtBQUtLLEVBQUUsQ0FBQyxJQUFPLENBQUE7b0NBQ2pCSyxRQUFRVixLQUFLSyxFQUFFO29DQUNmTSxPQUFPWCxLQUFLSyxFQUFFLENBQUMsSUFBTyxDQUFBOzRDQUNwQk8sT0FBT1osS0FBS0ssRUFBRTt3Q0FDaEIsQ0FBQTtnQ0FDRixDQUFBOzRCQUNBUSxRQUFRYixLQUFLSyxFQUFFOzRCQUNmUyxRQUFRZCxLQUFLSyxFQUFFLENBQUMsSUFBTyxDQUFBO29DQUNyQkksSUFBSVQsS0FBS0ssRUFBRTtnQ0FDYixDQUFBO3dCQUNGLENBQUE7Z0JBQ0YsQ0FBQTtR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