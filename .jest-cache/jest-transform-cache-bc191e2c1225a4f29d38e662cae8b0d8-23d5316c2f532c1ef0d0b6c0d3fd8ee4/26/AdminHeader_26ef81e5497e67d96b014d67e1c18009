c1e2d69faebf51a087888c8128fe7800
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "AdminHeader", {
    enumerable: true,
    get: function() {
        return AdminHeader;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("next-auth/react");
const _lucidereact = require("lucide-react");
const _react1 = require("react");
function AdminHeader({ title, breadcrumbs, actions, onMenuToggle, isSidebarOpen = true }) {
    const [notificationsOpen, setNotificationsOpen] = (0, _react1.useState)(false);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("header", {
        className: "bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 lg:px-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center space-x-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "mobile-menu-toggle",
                        onClick: onMenuToggle,
                        className: "lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",
                        children: isSidebarOpen ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.X, {
                            className: "w-5 h-5 text-gray-600"
                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Menu, {
                            className: "w-5 h-5 text-gray-600"
                        })
                    }),
                    breadcrumbs && breadcrumbs.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
                        "data-testid": "breadcrumbs",
                        className: "hidden sm:flex items-center space-x-2 text-sm",
                        children: breadcrumbs.map((item, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-2",
                                children: [
                                    index > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-400",
                                        children: "/"
                                    }),
                                    item.href ? /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                        href: item.href,
                                        className: "text-gray-600 hover:text-gray-900 transition-colors",
                                        children: item.label
                                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-gray-900 font-medium",
                                        children: item.label
                                    })
                                ]
                            }, index))
                    }),
                    title && /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                        className: "text-xl font-semibold text-gray-900 hidden sm:block",
                        children: title
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center space-x-4",
                children: [
                    actions && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "hidden sm:flex items-center space-x-2",
                        children: actions
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "relative",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                onClick: ()=>setNotificationsOpen(!notificationsOpen),
                                className: "p-2 rounded-lg hover:bg-gray-100 transition-colors relative",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Bell, {
                                        className: "w-5 h-5 text-gray-600"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"
                                    })
                                ]
                            }),
                            notificationsOpen && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "p-4 border-b border-gray-200",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                            className: "text-sm font-medium text-gray-900",
                                            children: "Notificaciones"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "p-4",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "space-y-3",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex items-start space-x-3",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "w-2 h-2 bg-blue-500 rounded-full mt-2"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "flex-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                        className: "text-sm text-gray-900",
                                                                        children: "Nueva orden recibida"
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                        className: "text-xs text-gray-500",
                                                                        children: "Hace 5 minutos"
                                                                    })
                                                                ]
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex items-start space-x-3",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "w-2 h-2 bg-green-500 rounded-full mt-2"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "flex-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                        className: "text-sm text-gray-900",
                                                                        children: "Producto actualizado"
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                        className: "text-xs text-gray-500",
                                                                        children: "Hace 1 hora"
                                                                    })
                                                                ]
                                                            })
                                                        ]
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "mt-4 pt-3 border-t border-gray-200",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                    className: "text-sm text-blaze-orange-600 hover:text-blaze-orange-700 font-medium",
                                                    children: "Ver todas las notificaciones"
                                                })
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "flex items-center",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(UserMenuButton, {})
                    })
                ]
            }),
            actions && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "sm:hidden fixed bottom-4 right-4 z-50",
                children: actions
            })
        ]
    });
}
// Componente UserMenuButton para NextAuth.js
function UserMenuButton() {
    const { data: session } = (0, _react.useSession)();
    const [isOpen, setIsOpen] = (0, _react1.useState)(false);
    if (!session?.user) {
        return null;
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "relative",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                onClick: ()=>setIsOpen(!isOpen),
                className: "flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "w-8 h-8 bg-blaze-orange-500 rounded-full flex items-center justify-center text-white text-sm font-medium",
                    children: session.user.name?.charAt(0) || session.user.email?.charAt(0) || 'U'
                })
            }),
            isOpen && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "px-4 py-2 border-b border-gray-200",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sm font-medium text-gray-900",
                                children: session.user.name
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-xs text-gray-500",
                                children: session.user.email
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>(0, _react.signOut)(),
                        className: "w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.LogOut, {
                                className: "w-4 h-4"
                            }),
                            "Cerrar Sesi\xf3n"
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXGxheW91dFxcQWRtaW5IZWFkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTZXNzaW9uLCBzaWduT3V0IH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0J1xuaW1wb3J0IHsgQmVsbCwgTWVudSwgWCwgVXNlciwgTG9nT3V0IH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvY29yZS91dGlscydcblxuaW50ZXJmYWNlIEJyZWFkY3J1bWJJdGVtIHtcbiAgbGFiZWw6IHN0cmluZ1xuICBocmVmPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBBZG1pbkhlYWRlclByb3BzIHtcbiAgdGl0bGU/OiBzdHJpbmdcbiAgYnJlYWRjcnVtYnM/OiBCcmVhZGNydW1iSXRlbVtdXG4gIGFjdGlvbnM/OiBSZWFjdC5SZWFjdE5vZGVcbiAgb25NZW51VG9nZ2xlPzogKCkgPT4gdm9pZFxuICBpc1NpZGViYXJPcGVuPzogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRtaW5IZWFkZXIoe1xuICB0aXRsZSxcbiAgYnJlYWRjcnVtYnMsXG4gIGFjdGlvbnMsXG4gIG9uTWVudVRvZ2dsZSxcbiAgaXNTaWRlYmFyT3BlbiA9IHRydWUsXG59OiBBZG1pbkhlYWRlclByb3BzKSB7XG4gIGNvbnN0IFtub3RpZmljYXRpb25zT3Blbiwgc2V0Tm90aWZpY2F0aW9uc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgcmV0dXJuIChcbiAgICA8aGVhZGVyIGNsYXNzTmFtZT0nYmctd2hpdGUgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGgtMTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgbGc6cHgtNic+XG4gICAgICB7LyogTGVmdCBTZWN0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCc+XG4gICAgICAgIHsvKiBNb2JpbGUgTWVudSBUb2dnbGUgKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkYXRhLXRlc3RpZD0nbW9iaWxlLW1lbnUtdG9nZ2xlJ1xuICAgICAgICAgIG9uQ2xpY2s9e29uTWVudVRvZ2dsZX1cbiAgICAgICAgICBjbGFzc05hbWU9J2xnOmhpZGRlbiBwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycydcbiAgICAgICAgPlxuICAgICAgICAgIHtpc1NpZGViYXJPcGVuID8gKFxuICAgICAgICAgICAgPFggY2xhc3NOYW1lPSd3LTUgaC01IHRleHQtZ3JheS02MDAnIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxNZW51IGNsYXNzTmFtZT0ndy01IGgtNSB0ZXh0LWdyYXktNjAwJyAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiBCcmVhZGNydW1icyAqL31cbiAgICAgICAge2JyZWFkY3J1bWJzICYmIGJyZWFkY3J1bWJzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxuYXYgZGF0YS10ZXN0aWQ9J2JyZWFkY3J1bWJzJyBjbGFzc05hbWU9J2hpZGRlbiBzbTpmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1zbSc+XG4gICAgICAgICAgICB7YnJlYWRjcnVtYnMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yJz5cbiAgICAgICAgICAgICAgICB7aW5kZXggPiAwICYmIDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1ncmF5LTQwMCc+Lzwvc3Bhbj59XG4gICAgICAgICAgICAgICAge2l0ZW0uaHJlZiA/IChcbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9e2l0ZW0uaHJlZn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgdHJhbnNpdGlvbi1jb2xvcnMnXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J3RleHQtZ3JheS05MDAgZm9udC1tZWRpdW0nPntpdGVtLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvbmF2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBQYWdlIFRpdGxlICovfVxuICAgICAgICB7dGl0bGUgJiYgPGgxIGNsYXNzTmFtZT0ndGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgaGlkZGVuIHNtOmJsb2NrJz57dGl0bGV9PC9oMT59XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFJpZ2h0IFNlY3Rpb24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00Jz5cbiAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgIHthY3Rpb25zICYmIDxkaXYgY2xhc3NOYW1lPSdoaWRkZW4gc206ZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yJz57YWN0aW9uc308L2Rpdj59XG5cbiAgICAgICAgey8qIE5vdGlmaWNhdGlvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Tm90aWZpY2F0aW9uc09wZW4oIW5vdGlmaWNhdGlvbnNPcGVuKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT0ncC0yIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgcmVsYXRpdmUnXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEJlbGwgY2xhc3NOYW1lPSd3LTUgaC01IHRleHQtZ3JheS02MDAnIC8+XG4gICAgICAgICAgICB7LyogTm90aWZpY2F0aW9uIEJhZGdlICovfVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTEgdy0zIGgtMyBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCc+PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgey8qIE5vdGlmaWNhdGlvbnMgRHJvcGRvd24gKi99XG4gICAgICAgICAge25vdGlmaWNhdGlvbnNPcGVuICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhYnNvbHV0ZSByaWdodC0wIG10LTIgdy04MCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHotNTAnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCc+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwJz5Ob3RpZmljYWNpb25lczwvaDM+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncC00Jz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0zJz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyc+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTIgaC0yIGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbCBtdC0yJz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtMSc+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS05MDAnPk51ZXZhIG9yZGVuIHJlY2liaWRhPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWdyYXktNTAwJz5IYWNlIDUgbWludXRvczwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyc+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTIgaC0yIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgbXQtMic+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LTEnPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktOTAwJz5Qcm9kdWN0byBhY3R1YWxpemFkbzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCc+SGFjZSAxIGhvcmE8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J210LTQgcHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDAnPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1ibGF6ZS1vcmFuZ2UtNjAwIGhvdmVyOnRleHQtYmxhemUtb3JhbmdlLTcwMCBmb250LW1lZGl1bSc+XG4gICAgICAgICAgICAgICAgICAgIFZlciB0b2RhcyBsYXMgbm90aWZpY2FjaW9uZXNcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBVc2VyIE1lbnUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlcic+XG4gICAgICAgICAgPFVzZXJNZW51QnV0dG9uIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNb2JpbGUgQWN0aW9ucyAqL31cbiAgICAgIHthY3Rpb25zICYmIDxkaXYgY2xhc3NOYW1lPSdzbTpoaWRkZW4gZml4ZWQgYm90dG9tLTQgcmlnaHQtNCB6LTUwJz57YWN0aW9uc308L2Rpdj59XG4gICAgPC9oZWFkZXI+XG4gIClcbn1cblxuLy8gQ29tcG9uZW50ZSBVc2VyTWVudUJ1dHRvbiBwYXJhIE5leHRBdXRoLmpzXG5mdW5jdGlvbiBVc2VyTWVudUJ1dHRvbigpIHtcbiAgY29uc3QgeyBkYXRhOiBzZXNzaW9uIH0gPSB1c2VTZXNzaW9uKClcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX1cbiAgICAgICAgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycydcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctOCBoLTggYmctYmxhemUtb3JhbmdlLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtJz5cbiAgICAgICAgICB7c2Vzc2lvbi51c2VyLm5hbWU/LmNoYXJBdCgwKSB8fCBzZXNzaW9uLnVzZXIuZW1haWw/LmNoYXJBdCgwKSB8fCAnVSd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYWJzb2x1dGUgcmlnaHQtMCBtdC0yIHctNDggYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBweS0xIHotNTAnPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdweC00IHB5LTIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwJz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwJz57c2Vzc2lvbi51c2VyLm5hbWV9PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXhzIHRleHQtZ3JheS01MDAnPntzZXNzaW9uLnVzZXIuZW1haWx9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNpZ25PdXQoKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT0ndy1mdWxsIHB4LTQgcHktMiB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExvZ091dCBjbGFzc05hbWU9J3ctNCBoLTQnIC8+XG4gICAgICAgICAgICBDZXJyYXIgU2VzacOzblxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJBZG1pbkhlYWRlciIsInRpdGxlIiwiYnJlYWRjcnVtYnMiLCJhY3Rpb25zIiwib25NZW51VG9nZ2xlIiwiaXNTaWRlYmFyT3BlbiIsIm5vdGlmaWNhdGlvbnNPcGVuIiwic2V0Tm90aWZpY2F0aW9uc09wZW4iLCJ1c2VTdGF0ZSIsImhlYWRlciIsImNsYXNzTmFtZSIsImRpdiIsImJ1dHRvbiIsImRhdGEtdGVzdGlkIiwib25DbGljayIsIlgiLCJNZW51IiwibGVuZ3RoIiwibmF2IiwibWFwIiwiaXRlbSIsImluZGV4Iiwic3BhbiIsImhyZWYiLCJhIiwibGFiZWwiLCJoMSIsIkJlbGwiLCJoMyIsInAiLCJVc2VyTWVudUJ1dHRvbiIsImRhdGEiLCJzZXNzaW9uIiwidXNlU2Vzc2lvbiIsImlzT3BlbiIsInNldElzT3BlbiIsInVzZXIiLCJuYW1lIiwiY2hhckF0IiwiZW1haWwiLCJzaWduT3V0IiwiTG9nT3V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBb0JnQkE7OztlQUFBQTs7Ozt1QkFsQm9COzZCQUNRO3dCQUNuQjtBQWdCbEIsU0FBU0EsWUFBWSxFQUMxQkMsS0FBSyxFQUNMQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsWUFBWSxFQUNaQyxnQkFBZ0IsSUFBSSxFQUNIO0lBQ2pCLE1BQU0sQ0FBQ0MsbUJBQW1CQyxxQkFBcUIsR0FBR0MsSUFBQUEsZ0JBQVEsRUFBQztJQUUzRCxxQkFDRSxzQkFBQ0M7UUFBT0MsV0FBVTs7MEJBRWhCLHNCQUFDQztnQkFBSUQsV0FBVTs7a0NBRWIscUJBQUNFO3dCQUNDQyxlQUFZO3dCQUNaQyxTQUFTVjt3QkFDVE0sV0FBVTtrQ0FFVEwsOEJBQ0MscUJBQUNVLGNBQUM7NEJBQUNMLFdBQVU7MkNBRWIscUJBQUNNLGlCQUFJOzRCQUFDTixXQUFVOzs7b0JBS25CUixlQUFlQSxZQUFZ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