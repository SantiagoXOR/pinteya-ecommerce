daeba2d278de64ecda9bff0de7213a28
"use strict";

/* istanbul ignore next */
function cov_23akv3pmqi() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\promotions\\[id]\\route.ts";
  var hash = "771b688eae6883c43d54d1201244ab406ffcf59b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\promotions\\[id]\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "8": {
        start: {
          line: 23,
          column: 13
        },
        end: {
          line: 23,
          column: 27
        }
      },
      "9": {
        start: {
          line: 24,
          column: 20
        },
        end: {
          line: 24,
          column: 52
        }
      },
      "10": {
        start: {
          line: 25,
          column: 14
        },
        end: {
          line: 25,
          column: 44
        }
      },
      "11": {
        start: {
          line: 26,
          column: 21
        },
        end: {
          line: 26,
          column: 74
        }
      },
      "12": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 63
        }
      },
      "13": {
        start: {
          line: 28,
          column: 17
        },
        end: {
          line: 28,
          column: 65
        }
      },
      "14": {
        start: {
          line: 32,
          column: 17
        },
        end: {
          line: 32,
          column: 123
        }
      },
      "15": {
        start: {
          line: 33,
          column: 27
        },
        end: {
          line: 39,
          column: 1
        }
      },
      "16": {
        start: {
          line: 43,
          column: 30
        },
        end: {
          line: 106,
          column: 2
        }
      },
      "17": {
        start: {
          line: 107,
          column: 30
        },
        end: {
          line: 117,
          column: 2
        }
      },
      "18": {
        start: {
          line: 122,
          column: 20
        },
        end: {
          line: 122,
          column: 43
        }
      },
      "19": {
        start: {
          line: 123,
          column: 4
        },
        end: {
          line: 128,
          column: 5
        }
      },
      "20": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 127,
          column: 10
        }
      },
      "21": {
        start: {
          line: 130,
          column: 30
        },
        end: {
          line: 130,
          column: 111
        }
      },
      "22": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 139,
          column: 5
        }
      },
      "23": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 138,
          column: 10
        }
      },
      "24": {
        start: {
          line: 140,
          column: 4
        },
        end: {
          line: 143,
          column: 6
        }
      },
      "25": {
        start: {
          line: 147,
          column: 39
        },
        end: {
          line: 181,
          column: 37
        }
      },
      "26": {
        start: {
          line: 182,
          column: 4
        },
        end: {
          line: 184,
          column: 5
        }
      },
      "27": {
        start: {
          line: 183,
          column: 8
        },
        end: {
          line: 183,
          column: 72
        }
      },
      "28": {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 187,
          column: 5
        }
      },
      "29": {
        start: {
          line: 186,
          column: 8
        },
        end: {
          line: 186,
          column: 51
        }
      },
      "30": {
        start: {
          line: 189,
          column: 16
        },
        end: {
          line: 189,
          column: 26
        }
      },
      "31": {
        start: {
          line: 190,
          column: 21
        },
        end: {
          line: 190,
          column: 50
        }
      },
      "32": {
        start: {
          line: 191,
          column: 19
        },
        end: {
          line: 191,
          column: 73
        }
      },
      "33": {
        start: {
          line: 193,
          column: 4
        },
        end: {
          line: 203,
          column: 5
        }
      },
      "34": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 194,
          column: 26
        }
      },
      "35": {
        start: {
          line: 195,
          column: 11
        },
        end: {
          line: 203,
          column: 5
        }
      },
      "36": {
        start: {
          line: 196,
          column: 8
        },
        end: {
          line: 196,
          column: 28
        }
      },
      "37": {
        start: {
          line: 197,
          column: 11
        },
        end: {
          line: 203,
          column: 5
        }
      },
      "38": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 198,
          column: 29
        }
      },
      "39": {
        start: {
          line: 199,
          column: 11
        },
        end: {
          line: 203,
          column: 5
        }
      },
      "40": {
        start: {
          line: 200,
          column: 8
        },
        end: {
          line: 200,
          column: 27
        }
      },
      "41": {
        start: {
          line: 202,
          column: 8
        },
        end: {
          line: 202,
          column: 26
        }
      },
      "42": {
        start: {
          line: 205,
          column: 31
        },
        end: {
          line: 216,
          column: 5
        }
      },
      "43": {
        start: {
          line: 208,
          column: 52
        },
        end: {
          line: 208,
          column: 63
        }
      },
      "44": {
        start: {
          line: 209,
          column: 48
        },
        end: {
          line: 209,
          column: 58
        }
      },
      "45": {
        start: {
          line: 210,
          column: 44
        },
        end: {
          line: 210,
          column: 52
        }
      },
      "46": {
        start: {
          line: 211,
          column: 63
        },
        end: {
          line: 215,
          column: 13
        }
      },
      "47": {
        start: {
          line: 218,
          column: 4
        },
        end: {
          line: 221,
          column: 5
        }
      },
      "48": {
        start: {
          line: 219,
          column: 27
        },
        end: {
          line: 219,
          column: 68
        }
      },
      "49": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 220,
          column: 52
        }
      },
      "50": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 222,
          column: 30
        }
      },
      "51": {
        start: {
          line: 226,
          column: 35
        },
        end: {
          line: 226,
          column: 117
        }
      },
      "52": {
        start: {
          line: 227,
          column: 4
        },
        end: {
          line: 229,
          column: 5
        }
      },
      "53": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 228,
          column: 82
        }
      },
      "54": {
        start: {
          line: 230,
          column: 23
        },
        end: {
          line: 230,
          column: 41
        }
      },
      "55": {
        start: {
          line: 231,
          column: 24
        },
        end: {
          line: 231,
          column: 70
        }
      },
      "56": {
        start: {
          line: 231,
          column: 48
        },
        end: {
          line: 231,
          column: 57
        }
      },
      "57": {
        start: {
          line: 232,
          column: 31
        },
        end: {
          line: 232,
          column: 96
        }
      },
      "58": {
        start: {
          line: 232,
          column: 62
        },
        end: {
          line: 232,
          column: 92
        }
      },
      "59": {
        start: {
          line: 234,
          column: 21
        },
        end: {
          line: 236,
          column: 5
        }
      },
      "60": {
        start: {
          line: 235,
          column: 35
        },
        end: {
          line: 235,
          column: 45
        }
      },
      "61": {
        start: {
          line: 237,
          column: 28
        },
        end: {
          line: 237,
          column: 29
        }
      },
      "62": {
        start: {
          line: 238,
          column: 4
        },
        end: {
          line: 242,
          column: 5
        }
      },
      "63": {
        start: {
          line: 239,
          column: 33
        },
        end: {
          line: 239,
          column: 104
        }
      },
      "64": {
        start: {
          line: 240,
          column: 32
        },
        end: {
          line: 240,
          column: 88
        }
      },
      "65": {
        start: {
          line: 240,
          column: 64
        },
        end: {
          line: 240,
          column: 84
        }
      },
      "66": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 241,
          column: 62
        }
      },
      "67": {
        start: {
          line: 244,
          column: 27
        },
        end: {
          line: 244,
          column: 84
        }
      },
      "68": {
        start: {
          line: 246,
          column: 26
        },
        end: {
          line: 246,
          column: 36
        }
      },
      "69": {
        start: {
          line: 247,
          column: 4
        },
        end: {
          line: 247,
          column: 56
        }
      },
      "70": {
        start: {
          line: 248,
          column: 24
        },
        end: {
          line: 259,
          column: 10
        }
      },
      "71": {
        start: {
          line: 248,
          column: 50
        },
        end: {
          line: 248,
          column: 89
        }
      },
      "72": {
        start: {
          line: 249,
          column: 21
        },
        end: {
          line: 249,
          column: 71
        }
      },
      "73": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 255,
          column: 9
        }
      },
      "74": {
        start: {
          line: 251,
          column: 12
        },
        end: {
          line: 254,
          column: 14
        }
      },
      "75": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 256,
          column: 32
        }
      },
      "76": {
        start: {
          line: 257,
          column: 8
        },
        end: {
          line: 257,
          column: 59
        }
      },
      "77": {
        start: {
          line: 258,
          column: 8
        },
        end: {
          line: 258,
          column: 19
        }
      },
      "78": {
        start: {
          line: 260,
          column: 29
        },
        end: {
          line: 263,
          column: 54
        }
      },
      "79": {
        start: {
          line: 260,
          column: 79
        },
        end: {
          line: 263,
          column: 9
        }
      },
      "80": {
        start: {
          line: 263,
          column: 25
        },
        end: {
          line: 263,
          column: 53
        }
      },
      "81": {
        start: {
          line: 264,
          column: 4
        },
        end: {
          line: 271,
          column: 6
        }
      },
      "82": {
        start: {
          line: 275,
          column: 4
        },
        end: {
          line: 281,
          column: 5
        }
      },
      "83": {
        start: {
          line: 276,
          column: 25
        },
        end: {
          line: 276,
          column: 55
        }
      },
      "84": {
        start: {
          line: 277,
          column: 23
        },
        end: {
          line: 277,
          column: 51
        }
      },
      "85": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 280,
          column: 9
        }
      },
      "86": {
        start: {
          line: 279,
          column: 12
        },
        end: {
          line: 279,
          column: 95
        }
      },
      "87": {
        start: {
          line: 283,
          column: 4
        },
        end: {
          line: 288,
          column: 5
        }
      },
      "88": {
        start: {
          line: 284,
          column: 44
        },
        end: {
          line: 284,
          column: 164
        }
      },
      "89": {
        start: {
          line: 285,
          column: 8
        },
        end: {
          line: 287,
          column: 9
        }
      },
      "90": {
        start: {
          line: 286,
          column: 12
        },
        end: {
          line: 286,
          column: 81
        }
      },
      "91": {
        start: {
          line: 290,
          column: 94
        },
        end: {
          line: 290,
          column: 104
        }
      },
      "92": {
        start: {
          line: 292,
          column: 59
        },
        end: {
          line: 295,
          column: 46
        }
      },
      "93": {
        start: {
          line: 296,
          column: 4
        },
        end: {
          line: 298,
          column: 5
        }
      },
      "94": {
        start: {
          line: 297,
          column: 8
        },
        end: {
          line: 297,
          column: 81
        }
      },
      "95": {
        start: {
          line: 300,
          column: 4
        },
        end: {
          line: 314,
          column: 5
        }
      },
      "96": {
        start: {
          line: 302,
          column: 8
        },
        end: {
          line: 302,
          column: 93
        }
      },
      "97": {
        start: {
          line: 304,
          column: 8
        },
        end: {
          line: 313,
          column: 9
        }
      },
      "98": {
        start: {
          line: 305,
          column: 36
        },
        end: {
          line: 308,
          column: 19
        }
      },
      "99": {
        start: {
          line: 305,
          column: 68
        },
        end: {
          line: 308,
          column: 17
        }
      },
      "100": {
        start: {
          line: 309,
          column: 45
        },
        end: {
          line: 309,
          column: 112
        }
      },
      "101": {
        start: {
          line: 310,
          column: 12
        },
        end: {
          line: 312,
          column: 13
        }
      },
      "102": {
        start: {
          line: 311,
          column: 16
        },
        end: {
          line: 311,
          column: 92
        }
      },
      "103": {
        start: {
          line: 315,
          column: 4
        },
        end: {
          line: 329,
          column: 5
        }
      },
      "104": {
        start: {
          line: 317,
          column: 8
        },
        end: {
          line: 317,
          column: 91
        }
      },
      "105": {
        start: {
          line: 319,
          column: 8
        },
        end: {
          line: 328,
          column: 9
        }
      },
      "106": {
        start: {
          line: 320,
          column: 35
        },
        end: {
          line: 323,
          column: 19
        }
      },
      "107": {
        start: {
          line: 320,
          column: 65
        },
        end: {
          line: 323,
          column: 17
        }
      },
      "108": {
        start: {
          line: 324,
          column: 44
        },
        end: {
          line: 324,
          column: 108
        }
      },
      "109": {
        start: {
          line: 325,
          column: 12
        },
        end: {
          line: 327,
          column: 13
        }
      },
      "110": {
        start: {
          line: 326,
          column: 16
        },
        end: {
          line: 326,
          column: 90
        }
      },
      "111": {
        start: {
          line: 330,
          column: 4
        },
        end: {
          line: 344,
          column: 5
        }
      },
      "112": {
        start: {
          line: 332,
          column: 8
        },
        end: {
          line: 332,
          column: 89
        }
      },
      "113": {
        start: {
          line: 334,
          column: 8
        },
        end: {
          line: 343,
          column: 9
        }
      },
      "114": {
        start: {
          line: 335,
          column: 33
        },
        end: {
          line: 338,
          column: 19
        }
      },
      "115": {
        start: {
          line: 335,
          column: 59
        },
        end: {
          line: 338,
          column: 17
        }
      },
      "116": {
        start: {
          line: 339,
          column: 42
        },
        end: {
          line: 339,
          column: 102
        }
      },
      "117": {
        start: {
          line: 340,
          column: 12
        },
        end: {
          line: 342,
          column: 13
        }
      },
      "118": {
        start: {
          line: 341,
          column: 16
        },
        end: {
          line: 341,
          column: 85
        }
      },
      "119": {
        start: {
          line: 346,
          column: 4
        },
        end: {
          line: 361,
          column: 5
        }
      },
      "120": {
        start: {
          line: 348,
          column: 8
        },
        end: {
          line: 348,
          column: 98
        }
      },
      "121": {
        start: {
          line: 350,
          column: 8
        },
        end: {
          line: 360,
          column: 9
        }
      },
      "122": {
        start: {
          line: 351,
          column: 34
        },
        end: {
          line: 355,
          column: 19
        }
      },
      "123": {
        start: {
          line: 351,
          column: 63
        },
        end: {
          line: 355,
          column: 17
        }
      },
      "124": {
        start: {
          line: 356,
          column: 43
        },
        end: {
          line: 356,
          column: 113
        }
      },
      "125": {
        start: {
          line: 357,
          column: 12
        },
        end: {
          line: 359,
          column: 13
        }
      },
      "126": {
        start: {
          line: 358,
          column: 16
        },
        end: {
          line: 358,
          column: 99
        }
      },
      "127": {
        start: {
          line: 362,
          column: 4
        },
        end: {
          line: 362,
          column: 28
        }
      },
      "128": {
        start: {
          line: 366,
          column: 34
        },
        end: {
          line: 366,
          column: 126
        }
      },
      "129": {
        start: {
          line: 367,
          column: 4
        },
        end: {
          line: 380,
          column: 5
        }
      },
      "130": {
        start: {
          line: 369,
          column: 43
        },
        end: {
          line: 372,
          column: 32
        }
      },
      "131": {
        start: {
          line: 373,
          column: 8
        },
        end: {
          line: 375,
          column: 9
        }
      },
      "132": {
        start: {
          line: 374,
          column: 12
        },
        end: {
          line: 374,
          column: 89
        }
      },
      "133": {
        start: {
          line: 376,
          column: 8
        },
        end: {
          line: 379,
          column: 10
        }
      },
      "134": {
        start: {
          line: 382,
          column: 4
        },
        end: {
          line: 387,
          column: 7
        }
      },
      "135": {
        start: {
          line: 389,
          column: 35
        },
        end: {
          line: 389,
          column: 99
        }
      },
      "136": {
        start: {
          line: 390,
          column: 4
        },
        end: {
          line: 392,
          column: 5
        }
      },
      "137": {
        start: {
          line: 391,
          column: 8
        },
        end: {
          line: 391,
          column: 79
        }
      },
      "138": {
        start: {
          line: 393,
          column: 4
        },
        end: {
          line: 396,
          column: 6
        }
      },
      "139": {
        start: {
          line: 400,
          column: 30
        },
        end: {
          line: 400,
          column: 65
        }
      },
      "140": {
        start: {
          line: 402,
          column: 26
        },
        end: {
          line: 411,
          column: 5
        }
      },
      "141": {
        start: {
          line: 413,
          column: 4
        },
        end: {
          line: 413,
          column: 28
        }
      },
      "142": {
        start: {
          line: 414,
          column: 4
        },
        end: {
          line: 414,
          column: 32
        }
      },
      "143": {
        start: {
          line: 415,
          column: 4
        },
        end: {
          line: 415,
          column: 36
        }
      },
      "144": {
        start: {
          line: 416,
          column: 4
        },
        end: {
          line: 416,
          column: 34
        }
      },
      "145": {
        start: {
          line: 417,
          column: 4
        },
        end: {
          line: 417,
          column: 32
        }
      },
      "146": {
        start: {
          line: 418,
          column: 4
        },
        end: {
          line: 418,
          column: 41
        }
      },
      "147": {
        start: {
          line: 419,
          column: 4
        },
        end: {
          line: 419,
          column: 33
        }
      },
      "148": {
        start: {
          line: 420,
          column: 4
        },
        end: {
          line: 420,
          column: 37
        }
      },
      "149": {
        start: {
          line: 422,
          column: 55
        },
        end: {
          line: 422,
          column: 128
        }
      },
      "150": {
        start: {
          line: 423,
          column: 4
        },
        end: {
          line: 425,
          column: 5
        }
      },
      "151": {
        start: {
          line: 424,
          column: 8
        },
        end: {
          line: 424,
          column: 79
        }
      },
      "152": {
        start: {
          line: 427,
          column: 4
        },
        end: {
          line: 433,
          column: 5
        }
      },
      "153": {
        start: {
          line: 428,
          column: 32
        },
        end: {
          line: 431,
          column: 15
        }
      },
      "154": {
        start: {
          line: 428,
          column: 78
        },
        end: {
          line: 431,
          column: 13
        }
      },
      "155": {
        start: {
          line: 432,
          column: 8
        },
        end: {
          line: 432,
          column: 76
        }
      },
      "156": {
        start: {
          line: 434,
          column: 4
        },
        end: {
          line: 440,
          column: 5
        }
      },
      "157": {
        start: {
          line: 435,
          column: 31
        },
        end: {
          line: 438,
          column: 15
        }
      },
      "158": {
        start: {
          line: 435,
          column: 74
        },
        end: {
          line: 438,
          column: 13
        }
      },
      "159": {
        start: {
          line: 439,
          column: 8
        },
        end: {
          line: 439,
          column: 73
        }
      },
      "160": {
        start: {
          line: 441,
          column: 4
        },
        end: {
          line: 447,
          column: 5
        }
      },
      "161": {
        start: {
          line: 442,
          column: 29
        },
        end: {
          line: 445,
          column: 15
        }
      },
      "162": {
        start: {
          line: 442,
          column: 68
        },
        end: {
          line: 445,
          column: 13
        }
      },
      "163": {
        start: {
          line: 446,
          column: 8
        },
        end: {
          line: 446,
          column: 69
        }
      },
      "164": {
        start: {
          line: 448,
          column: 4
        },
        end: {
          line: 455,
          column: 5
        }
      },
      "165": {
        start: {
          line: 449,
          column: 30
        },
        end: {
          line: 453,
          column: 15
        }
      },
      "166": {
        start: {
          line: 449,
          column: 77
        },
        end: {
          line: 453,
          column: 13
        }
      },
      "167": {
        start: {
          line: 454,
          column: 8
        },
        end: {
          line: 454,
          column: 79
        }
      },
      "168": {
        start: {
          line: 456,
          column: 4
        },
        end: {
          line: 456,
          column: 24
        }
      },
      "169": {
        start: {
          line: 459,
          column: 4
        },
        end: {
          line: 472,
          column: 5
        }
      },
      "170": {
        start: {
          line: 460,
          column: 8
        },
        end: {
          line: 467,
          column: 11
        }
      },
      "171": {
        start: {
          line: 469,
          column: 8
        },
        end: {
          line: 471,
          column: 11
        }
      },
      "172": {
        start: {
          line: 475,
          column: 22
        },
        end: {
          line: 475,
          column: 32
        }
      },
      "173": {
        start: {
          line: 476,
          column: 4
        },
        end: {
          line: 558,
          column: 5
        }
      },
      "174": {
        start: {
          line: 478,
          column: 32
        },
        end: {
          line: 482,
          column: 36
        }
      },
      "175": {
        start: {
          line: 483,
          column: 8
        },
        end: {
          line: 491,
          column: 9
        }
      },
      "176": {
        start: {
          line: 484,
          column: 29
        },
        end: {
          line: 488,
          column: 14
        }
      },
      "177": {
        start: {
          line: 489,
          column: 12
        },
        end: {
          line: 489,
          column: 77
        }
      },
      "178": {
        start: {
          line: 490,
          column: 12
        },
        end: {
          line: 490,
          column: 28
        }
      },
      "179": {
        start: {
          line: 493,
          column: 27
        },
        end: {
          line: 493,
          column: 52
        }
      },
      "180": {
        start: {
          line: 494,
          column: 8
        },
        end: {
          line: 503,
          column: 9
        }
      },
      "181": {
        start: {
          line: 495,
          column: 34
        },
        end: {
          line: 499,
          column: 13
        }
      },
      "182": {
        start: {
          line: 500,
          column: 12
        },
        end: {
          line: 502,
          column: 15
        }
      },
      "183": {
        start: {
          line: 505,
          column: 8
        },
        end: {
          line: 514,
          column: 9
        }
      },
      "184": {
        start: {
          line: 506,
          column: 34
        },
        end: {
          line: 510,
          column: 13
        }
      },
      "185": {
        start: {
          line: 511,
          column: 12
        },
        end: {
          line: 513,
          column: 15
        }
      },
      "186": {
        start: {
          line: 516,
          column: 33
        },
        end: {
          line: 516,
          column: 53
        }
      },
      "187": {
        start: {
          line: 517,
          column: 29
        },
        end: {
          line: 517,
          column: 73
        }
      },
      "188": {
        start: {
          line: 519,
          column: 26
        },
        end: {
          line: 519,
          column: 73
        }
      },
      "189": {
        start: {
          line: 521,
          column: 8
        },
        end: {
          line: 527,
          column: 11
        }
      },
      "190": {
        start: {
          line: 528,
          column: 25
        },
        end: {
          line: 532,
          column: 9
        }
      },
      "191": {
        start: {
          line: 533,
          column: 29
        },
        end: {
          line: 533,
          column: 64
        }
      },
      "192": {
        start: {
          line: 534,
          column: 8
        },
        end: {
          line: 534,
          column: 77
        }
      },
      "193": {
        start: {
          line: 535,
          column: 8
        },
        end: {
          line: 535,
          column: 28
        }
      },
      "194": {
        start: {
          line: 537,
          column: 8
        },
        end: {
          line: 540,
          column: 11
        }
      },
      "195": {
        start: {
          line: 542,
          column: 8
        },
        end: {
          line: 548,
          column: 11
        }
      },
      "196": {
        start: {
          line: 549,
          column: 27
        },
        end: {
          line: 549,
          column: 104
        }
      },
      "197": {
        start: {
          line: 550,
          column: 30
        },
        end: {
          line: 554,
          column: 9
        }
      },
      "198": {
        start: {
          line: 555,
          column: 8
        },
        end: {
          line: 557,
          column: 11
        }
      },
      "199": {
        start: {
          line: 561,
          column: 22
        },
        end: {
          line: 561,
          column: 32
        }
      },
      "200": {
        start: {
          line: 562,
          column: 4
        },
        end: {
          line: 728,
          column: 5
        }
      },
      "201": {
        start: {
          line: 564,
          column: 32
        },
        end: {
          line: 568,
          column: 36
        }
      },
      "202": {
        start: {
          line: 569,
          column: 8
        },
        end: {
          line: 577,
          column: 9
        }
      },
      "203": {
        start: {
          line: 570,
          column: 29
        },
        end: {
          line: 574,
          column: 14
        }
      },
      "204": {
        start: {
          line: 575,
          column: 12
        },
        end: {
          line: 575,
          column: 77
        }
      },
      "205": {
        start: {
          line: 576,
          column: 12
        },
        end: {
          line: 576,
          column: 28
        }
      },
      "206": {
        start: {
          line: 579,
          column: 27
        },
        end: {
          line: 579,
          column: 52
        }
      },
      "207": {
        start: {
          line: 580,
          column: 8
        },
        end: {
          line: 589,
          column: 9
        }
      },
      "208": {
        start: {
          line: 581,
          column: 34
        },
        end: {
          line: 585,
          column: 13
        }
      },
      "209": {
        start: {
          line: 586,
          column: 12
        },
        end: {
          line: 588,
          column: 15
        }
      },
      "210": {
        start: {
          line: 591,
          column: 8
        },
        end: {
          line: 600,
          column: 9
        }
      },
      "211": {
        start: {
          line: 592,
          column: 34
        },
        end: {
          line: 596,
          column: 13
        }
      },
      "212": {
        start: {
          line: 597,
          column: 12
        },
        end: {
          line: 599,
          column: 15
        }
      },
      "213": {
        start: {
          line: 602,
          column: 21
        },
        end: {
          line: 602,
          column: 41
        }
      },
      "214": {
        start: {
          line: 603,
          column: 27
        },
        end: {
          line: 603,
          column: 31
        }
      },
      "215": {
        start: {
          line: 604,
          column: 8
        },
        end: {
          line: 685,
          column: 9
        }
      },
      "216": {
        start: {
          line: 606,
          column: 31
        },
        end: {
          line: 606,
          column: 64
        }
      },
      "217": {
        start: {
          line: 608,
          column: 12
        },
        end: {
          line: 668,
          column: 13
        }
      },
      "218": {
        start: {
          line: 610,
          column: 20
        },
        end: {
          line: 613,
          column: 42
        }
      },
      "219": {
        start: {
          line: 614,
          column: 20
        },
        end: {
          line: 616,
          column: 23
        }
      },
      "220": {
        start: {
          line: 617,
          column: 20
        },
        end: {
          line: 617,
          column: 26
        }
      },
      "221": {
        start: {
          line: 619,
          column: 20
        },
        end: {
          line: 621,
          column: 42
        }
      },
      "222": {
        start: {
          line: 622,
          column: 20
        },
        end: {
          line: 624,
          column: 23
        }
      },
      "223": {
        start: {
          line: 625,
          column: 20
        },
        end: {
          line: 625,
          column: 26
        }
      },
      "224": {
        start: {
          line: 627,
          column: 20
        },
        end: {
          line: 629,
          column: 42
        }
      },
      "225": {
        start: {
          line: 630,
          column: 20
        },
        end: {
          line: 632,
          column: 23
        }
      },
      "226": {
        start: {
          line: 633,
          column: 20
        },
        end: {
          line: 633,
          column: 26
        }
      },
      "227": {
        start: {
          line: 635,
          column: 20
        },
        end: {
          line: 637,
          column: 42
        }
      },
      "228": {
        start: {
          line: 638,
          column: 20
        },
        end: {
          line: 640,
          column: 23
        }
      },
      "229": {
        start: {
          line: 641,
          column: 20
        },
        end: {
          line: 641,
          column: 26
        }
      },
      "230": {
        start: {
          line: 643,
          column: 20
        },
        end: {
          line: 643,
          column: 84
        }
      },
      "231": {
        start: {
          line: 644,
          column: 20
        },
        end: {
          line: 646,
          column: 23
        }
      },
      "232": {
        start: {
          line: 647,
          column: 20
        },
        end: {
          line: 647,
          column: 26
        }
      },
      "233": {
        start: {
          line: 649,
          column: 20
        },
        end: {
          line: 651,
          column: 21
        }
      },
      "234": {
        start: {
          line: 650,
          column: 24
        },
        end: {
          line: 650,
          column: 72
        }
      },
      "235": {
        start: {
          line: 652,
          column: 55
        },
        end: {
          line: 652,
          column: 135
        }
      },
      "236": {
        start: {
          line: 653,
          column: 20
        },
        end: {
          line: 655,
          column: 21
        }
      },
      "237": {
        start: {
          line: 654,
          column: 24
        },
        end: {
          line: 654,
          column: 87
        }
      },
      "238": {
        start: {
          line: 656,
          column: 39
        },
        end: {
          line: 656,
          column: 73
        }
      },
      "239": {
        start: {
          line: 657,
          column: 20
        },
        end: {
          line: 657,
          column: 86
        }
      },
      "240": {
        start: {
          line: 658,
          column: 20
        },
        end: {
          line: 660,
          column: 42
        }
      },
      "241": {
        start: {
          line: 661,
          column: 20
        },
        end: {
          line: 664,
          column: 23
        }
      },
      "242": {
        start: {
          line: 665,
          column: 20
        },
        end: {
          line: 665,
          column: 26
        }
      },
      "243": {
        start: {
          line: 667,
          column: 20
        },
        end: {
          line: 667,
          column: 56
        }
      },
      "244": {
        start: {
          line: 670,
          column: 12
        },
        end: {
          line: 676,
          column: 15
        }
      },
      "245": {
        start: {
          line: 677,
          column: 29
        },
        end: {
          line: 681,
          column: 13
        }
      },
      "246": {
        start: {
          line: 682,
          column: 33
        },
        end: {
          line: 682,
          column: 68
        }
      },
      "247": {
        start: {
          line: 683,
          column: 12
        },
        end: {
          line: 683,
          column: 81
        }
      },
      "248": {
        start: {
          line: 684,
          column: 12
        },
        end: {
          line: 684,
          column: 32
        }
      },
      "249": {
        start: {
          line: 687,
          column: 27
        },
        end: {
          line: 687,
          column: 60
        }
      },
      "250": {
        start: {
          line: 688,
          column: 33
        },
        end: {
          line: 688,
          column: 96
        }
      },
      "251": {
        start: {
          line: 690,
          column: 8
        },
        end: {
          line: 690,
          column: 81
        }
      },
      "252": {
        start: {
          line: 692,
          column: 8
        },
        end: {
          line: 698,
          column: 11
        }
      },
      "253": {
        start: {
          line: 699,
          column: 25
        },
        end: {
          line: 703,
          column: 9
        }
      },
      "254": {
        start: {
          line: 704,
          column: 29
        },
        end: {
          line: 704,
          column: 64
        }
      },
      "255": {
        start: {
          line: 705,
          column: 8
        },
        end: {
          line: 705,
          column: 77
        }
      },
      "256": {
        start: {
          line: 706,
          column: 8
        },
        end: {
          line: 706,
          column: 28
        }
      },
      "257": {
        start: {
          line: 708,
          column: 8
        },
        end: {
          line: 711,
          column: 11
        }
      },
      "258": {
        start: {
          line: 713,
          column: 8
        },
        end: {
          line: 719,
          column: 11
        }
      },
      "259": {
        start: {
          line: 720,
          column: 30
        },
        end: {
          line: 724,
          column: 9
        }
      },
      "260": {
        start: {
          line: 725,
          column: 8
        },
        end: {
          line: 727,
          column: 11
        }
      },
      "261": {
        start: {
          line: 731,
          column: 22
        },
        end: {
          line: 731,
          column: 32
        }
      },
      "262": {
        start: {
          line: 732,
          column: 4
        },
        end: {
          line: 829,
          column: 5
        }
      },
      "263": {
        start: {
          line: 734,
          column: 32
        },
        end: {
          line: 738,
          column: 36
        }
      },
      "264": {
        start: {
          line: 739,
          column: 8
        },
        end: {
          line: 747,
          column: 9
        }
      },
      "265": {
        start: {
          line: 740,
          column: 29
        },
        end: {
          line: 744,
          column: 14
        }
      },
      "266": {
        start: {
          line: 745,
          column: 12
        },
        end: {
          line: 745,
          column: 77
        }
      },
      "267": {
        start: {
          line: 746,
          column: 12
        },
        end: {
          line: 746,
          column: 28
        }
      },
      "268": {
        start: {
          line: 749,
          column: 27
        },
        end: {
          line: 749,
          column: 52
        }
      },
      "269": {
        start: {
          line: 750,
          column: 8
        },
        end: {
          line: 759,
          column: 9
        }
      },
      "270": {
        start: {
          line: 751,
          column: 34
        },
        end: {
          line: 755,
          column: 13
        }
      },
      "271": {
        start: {
          line: 756,
          column: 12
        },
        end: {
          line: 758,
          column: 15
        }
      },
      "272": {
        start: {
          line: 761,
          column: 8
        },
        end: {
          line: 770,
          column: 9
        }
      },
      "273": {
        start: {
          line: 762,
          column: 34
        },
        end: {
          line: 766,
          column: 13
        }
      },
      "274": {
        start: {
          line: 767,
          column: 12
        },
        end: {
          line: 769,
          column: 15
        }
      },
      "275": {
        start: {
          line: 772,
          column: 44
        },
        end: {
          line: 772,
          column: 125
        }
      },
      "276": {
        start: {
          line: 773,
          column: 8
        },
        end: {
          line: 782,
          column: 9
        }
      },
      "277": {
        start: {
          line: 774,
          column: 34
        },
        end: {
          line: 778,
          column: 13
        }
      },
      "278": {
        start: {
          line: 779,
          column: 12
        },
        end: {
          line: 781,
          column: 15
        }
      },
      "279": {
        start: {
          line: 784,
          column: 29
        },
        end: {
          line: 784,
          column: 61
        }
      },
      "280": {
        start: {
          line: 786,
          column: 8
        },
        end: {
          line: 790,
          column: 11
        }
      },
      "281": {
        start: {
          line: 792,
          column: 8
        },
        end: {
          line: 798,
          column: 11
        }
      },
      "282": {
        start: {
          line: 799,
          column: 24
        },
        end: {
          line: 799,
          column: 126
        }
      },
      "283": {
        start: {
          line: 800,
          column: 25
        },
        end: {
          line: 804,
          column: 9
        }
      },
      "284": {
        start: {
          line: 805,
          column: 29
        },
        end: {
          line: 805,
          column: 64
        }
      },
      "285": {
        start: {
          line: 806,
          column: 8
        },
        end: {
          line: 806,
          column: 77
        }
      },
      "286": {
        start: {
          line: 807,
          column: 8
        },
        end: {
          line: 807,
          column: 28
        }
      },
      "287": {
        start: {
          line: 809,
          column: 8
        },
        end: {
          line: 812,
          column: 11
        }
      },
      "288": {
        start: {
          line: 814,
          column: 8
        },
        end: {
          line: 820,
          column: 11
        }
      },
      "289": {
        start: {
          line: 821,
          column: 30
        },
        end: {
          line: 825,
          column: 9
        }
      },
      "290": {
        start: {
          line: 826,
          column: 8
        },
        end: {
          line: 828,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 15
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 15
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "validateAdminAuth",
        decl: {
          start: {
            line: 121,
            column: 15
          },
          end: {
            line: 121,
            column: 32
          }
        },
        loc: {
          start: {
            line: 121,
            column: 35
          },
          end: {
            line: 144,
            column: 1
          }
        },
        line: 121
      },
      "5": {
        name: "getPromotionById",
        decl: {
          start: {
            line: 145,
            column: 15
          },
          end: {
            line: 145,
            column: 31
          }
        },
        loc: {
          start: {
            line: 145,
            column: 67
          },
          end: {
            line: 223,
            column: 1
          }
        },
        line: 145
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 208,
            column: 46
          },
          end: {
            line: 208,
            column: 47
          }
        },
        loc: {
          start: {
            line: 208,
            column: 52
          },
          end: {
            line: 208,
            column: 63
          }
        },
        line: 208
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 209,
            column: 42
          },
          end: {
            line: 209,
            column: 43
          }
        },
        loc: {
          start: {
            line: 209,
            column: 48
          },
          end: {
            line: 209,
            column: 58
          }
        },
        line: 209
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 210,
            column: 38
          },
          end: {
            line: 210,
            column: 39
          }
        },
        loc: {
          start: {
            line: 210,
            column: 44
          },
          end: {
            line: 210,
            column: 52
          }
        },
        line: 210
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 211,
            column: 56
          },
          end: {
            line: 211,
            column: 57
          }
        },
        loc: {
          start: {
            line: 211,
            column: 63
          },
          end: {
            line: 215,
            column: 13
          }
        },
        line: 211
      },
      "10": {
        name: "getPromotionUsageStats",
        decl: {
          start: {
            line: 224,
            column: 15
          },
          end: {
            line: 224,
            column: 37
          }
        },
        loc: {
          start: {
            line: 224,
            column: 51
          },
          end: {
            line: 272,
            column: 1
          }
        },
        line: 224
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 231,
            column: 43
          },
          end: {
            line: 231,
            column: 44
          }
        },
        loc: {
          start: {
            line: 231,
            column: 48
          },
          end: {
            line: 231,
            column: 57
          }
        },
        line: 231
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 232,
            column: 52
          },
          end: {
            line: 232,
            column: 53
          }
        },
        loc: {
          start: {
            line: 232,
            column: 62
          },
          end: {
            line: 232,
            column: 92
          }
        },
        line: 232
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 235,
            column: 30
          },
          end: {
            line: 235,
            column: 31
          }
        },
        loc: {
          start: {
            line: 235,
            column: 35
          },
          end: {
            line: 235,
            column: 45
          }
        },
        line: 235
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 240,
            column: 54
          },
          end: {
            line: 240,
            column: 55
          }
        },
        loc: {
          start: {
            line: 240,
            column: 64
          },
          end: {
            line: 240,
            column: 84
          }
        },
        line: 240
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 248,
            column: 45
          },
          end: {
            line: 248,
            column: 46
          }
        },
        loc: {
          start: {
            line: 248,
            column: 50
          },
          end: {
            line: 248,
            column: 89
          }
        },
        line: 248
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 248,
            column: 98
          },
          end: {
            line: 248,
            column: 99
          }
        },
        loc: {
          start: {
            line: 248,
            column: 108
          },
          end: {
            line: 259,
            column: 5
          }
        },
        line: 248
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 260,
            column: 61
          },
          end: {
            line: 260,
            column: 62
          }
        },
        loc: {
          start: {
            line: 260,
            column: 79
          },
          end: {
            line: 263,
            column: 9
          }
        },
        line: 260
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 263,
            column: 17
          },
          end: {
            line: 263,
            column: 18
          }
        },
        loc: {
          start: {
            line: 263,
            column: 25
          },
          end: {
            line: 263,
            column: 53
          }
        },
        line: 263
      },
      "19": {
        name: "updatePromotion",
        decl: {
          start: {
            line: 273,
            column: 15
          },
          end: {
            line: 273,
            column: 30
          }
        },
        loc: {
          start: {
            line: 273,
            column: 64
          },
          end: {
            line: 363,
            column: 1
          }
        },
        line: 273
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 305,
            column: 53
          },
          end: {
            line: 305,
            column: 54
          }
        },
        loc: {
          start: {
            line: 305,
            column: 68
          },
          end: {
            line: 308,
            column: 17
          }
        },
        line: 305
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 320,
            column: 51
          },
          end: {
            line: 320,
            column: 52
          }
        },
        loc: {
          start: {
            line: 320,
            column: 65
          },
          end: {
            line: 323,
            column: 17
          }
        },
        line: 320
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 335,
            column: 47
          },
          end: {
            line: 335,
            column: 48
          }
        },
        loc: {
          start: {
            line: 335,
            column: 59
          },
          end: {
            line: 338,
            column: 17
          }
        },
        line: 335
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 351,
            column: 54
          },
          end: {
            line: 351,
            column: 55
          }
        },
        loc: {
          start: {
            line: 351,
            column: 63
          },
          end: {
            line: 355,
            column: 17
          }
        },
        line: 351
      },
      "24": {
        name: "deletePromotion",
        decl: {
          start: {
            line: 364,
            column: 15
          },
          end: {
            line: 364,
            column: 30
          }
        },
        loc: {
          start: {
            line: 364,
            column: 44
          },
          end: {
            line: 397,
            column: 1
          }
        },
        line: 364
      },
      "25": {
        name: "duplicatePromotion",
        decl: {
          start: {
            line: 398,
            column: 15
          },
          end: {
            line: 398,
            column: 33
          }
        },
        loc: {
          start: {
            line: 398,
            column: 55
          },
          end: {
            line: 457,
            column: 1
          }
        },
        line: 398
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 428,
            column: 65
          },
          end: {
            line: 428,
            column: 66
          }
        },
        loc: {
          start: {
            line: 428,
            column: 78
          },
          end: {
            line: 431,
            column: 13
          }
        },
        line: 428
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 435,
            column: 62
          },
          end: {
            line: 435,
            column: 63
          }
        },
        loc: {
          start: {
            line: 435,
            column: 74
          },
          end: {
            line: 438,
            column: 13
          }
        },
        line: 435
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 442,
            column: 58
          },
          end: {
            line: 442,
            column: 59
          }
        },
        loc: {
          start: {
            line: 442,
            column: 68
          },
          end: {
            line: 445,
            column: 13
          }
        },
        line: 442
      },
      "29": {
        name: "(anonymous_29)",
        decl: {
          start: {
            line: 449,
            column: 68
          },
          end: {
            line: 449,
            column: 69
          }
        },
        loc: {
          start: {
            line: 449,
            column: 77
          },
          end: {
            line: 453,
            column: 13
          }
        },
        line: 449
      },
      "30": {
        name: "logAuditAction",
        decl: {
          start: {
            line: 458,
            column: 15
          },
          end: {
            line: 458,
            column: 29
          }
        },
        loc: {
          start: {
            line: 458,
            column: 68
          },
          end: {
            line: 473,
            column: 1
          }
        },
        line: 458
      },
      "31": {
        name: "GET",
        decl: {
          start: {
            line: 474,
            column: 15
          },
          end: {
            line: 474,
            column: 18
          }
        },
        loc: {
          start: {
            line: 474,
            column: 40
          },
          end: {
            line: 559,
            column: 1
          }
        },
        line: 474
      },
      "32": {
        name: "PUT",
        decl: {
          start: {
            line: 560,
            column: 15
          },
          end: {
            line: 560,
            column: 18
          }
        },
        loc: {
          start: {
            line: 560,
            column: 40
          },
          end: {
            line: 729,
            column: 1
          }
        },
        line: 560
      },
      "33": {
        name: "DELETE",
        decl: {
          start: {
            line: 730,
            column: 15
          },
          end: {
            line: 730,
            column: 21
          }
        },
        loc: {
          start: {
            line: 730,
            column: 43
          },
          end: {
            line: 830,
            column: 1
          }
        },
        line: 730
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 123,
            column: 4
          },
          end: {
            line: 128,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 4
          },
          end: {
            line: 128,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "1": {
        loc: {
          start: {
            line: 131,
            column: 4
          },
          end: {
            line: 139,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 131,
            column: 4
          },
          end: {
            line: 139,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 131
      },
      "2": {
        loc: {
          start: {
            line: 145,
            column: 45
          },
          end: {
            line: 145,
            column: 65
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 145,
            column: 60
          },
          end: {
            line: 145,
            column: 65
          }
        }],
        line: 145
      },
      "3": {
        loc: {
          start: {
            line: 182,
            column: 4
          },
          end: {
            line: 184,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 182,
            column: 4
          },
          end: {
            line: 184,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 182
      },
      "4": {
        loc: {
          start: {
            line: 185,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 185,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 185
      },
      "5": {
        loc: {
          start: {
            line: 191,
            column: 19
          },
          end: {
            line: 191,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 191,
            column: 39
          },
          end: {
            line: 191,
            column: 66
          }
        }, {
          start: {
            line: 191,
            column: 69
          },
          end: {
            line: 191,
            column: 73
          }
        }],
        line: 191
      },
      "6": {
        loc: {
          start: {
            line: 193,
            column: 4
          },
          end: {
            line: 203,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 193,
            column: 4
          },
          end: {
            line: 203,
            column: 5
          }
        }, {
          start: {
            line: 195,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }],
        line: 193
      },
      "7": {
        loc: {
          start: {
            line: 195,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }, {
          start: {
            line: 197,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }],
        line: 195
      },
      "8": {
        loc: {
          start: {
            line: 197,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 197,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }, {
          start: {
            line: 199,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }],
        line: 197
      },
      "9": {
        loc: {
          start: {
            line: 199,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }, {
          start: {
            line: 201,
            column: 11
          },
          end: {
            line: 203,
            column: 5
          }
        }],
        line: 199
      },
      "10": {
        loc: {
          start: {
            line: 199,
            column: 15
          },
          end: {
            line: 199,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 199,
            column: 15
          },
          end: {
            line: 199,
            column: 21
          }
        }, {
          start: {
            line: 199,
            column: 25
          },
          end: {
            line: 199,
            column: 37
          }
        }],
        line: 199
      },
      "11": {
        loc: {
          start: {
            line: 208,
            column: 20
          },
          end: {
            line: 208,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 208,
            column: 20
          },
          end: {
            line: 208,
            column: 64
          }
        }, {
          start: {
            line: 208,
            column: 68
          },
          end: {
            line: 208,
            column: 70
          }
        }],
        line: 208
      },
      "12": {
        loc: {
          start: {
            line: 209,
            column: 18
          },
          end: {
            line: 209,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 209,
            column: 18
          },
          end: {
            line: 209,
            column: 59
          }
        }, {
          start: {
            line: 209,
            column: 63
          },
          end: {
            line: 209,
            column: 65
          }
        }],
        line: 209
      },
      "13": {
        loc: {
          start: {
            line: 210,
            column: 16
          },
          end: {
            line: 210,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 210,
            column: 16
          },
          end: {
            line: 210,
            column: 53
          }
        }, {
          start: {
            line: 210,
            column: 57
          },
          end: {
            line: 210,
            column: 59
          }
        }],
        line: 210
      },
      "14": {
        loc: {
          start: {
            line: 211,
            column: 25
          },
          end: {
            line: 215,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 211,
            column: 25
          },
          end: {
            line: 215,
            column: 15
          }
        }, {
          start: {
            line: 215,
            column: 19
          },
          end: {
            line: 215,
            column: 21
          }
        }],
        line: 211
      },
      "15": {
        loc: {
          start: {
            line: 218,
            column: 4
          },
          end: {
            line: 221,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 218,
            column: 4
          },
          end: {
            line: 221,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 218
      },
      "16": {
        loc: {
          start: {
            line: 227,
            column: 4
          },
          end: {
            line: 229,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 227,
            column: 4
          },
          end: {
            line: 229,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 227
      },
      "17": {
        loc: {
          start: {
            line: 230,
            column: 23
          },
          end: {
            line: 230,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 23
          },
          end: {
            line: 230,
            column: 36
          }
        }, {
          start: {
            line: 230,
            column: 40
          },
          end: {
            line: 230,
            column: 41
          }
        }],
        line: 230
      },
      "18": {
        loc: {
          start: {
            line: 231,
            column: 32
          },
          end: {
            line: 231,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 231,
            column: 32
          },
          end: {
            line: 231,
            column: 58
          }
        }, {
          start: {
            line: 231,
            column: 62
          },
          end: {
            line: 231,
            column: 64
          }
        }],
        line: 231
      },
      "19": {
        loc: {
          start: {
            line: 232,
            column: 32
          },
          end: {
            line: 232,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 32
          },
          end: {
            line: 232,
            column: 37
          }
        }, {
          start: {
            line: 232,
            column: 41
          },
          end: {
            line: 232,
            column: 43
          }
        }],
        line: 232
      },
      "20": {
        loc: {
          start: {
            line: 232,
            column: 69
          },
          end: {
            line: 232,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 69
          },
          end: {
            line: 232,
            column: 86
          }
        }, {
          start: {
            line: 232,
            column: 90
          },
          end: {
            line: 232,
            column: 91
          }
        }],
        line: 232
      },
      "21": {
        loc: {
          start: {
            line: 235,
            column: 19
          },
          end: {
            line: 235,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 235,
            column: 19
          },
          end: {
            line: 235,
            column: 46
          }
        }, {
          start: {
            line: 235,
            column: 50
          },
          end: {
            line: 235,
            column: 52
          }
        }],
        line: 235
      },
      "22": {
        loc: {
          start: {
            line: 238,
            column: 4
          },
          end: {
            line: 242,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 238,
            column: 4
          },
          end: {
            line: 242,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 238
      },
      "23": {
        loc: {
          start: {
            line: 240,
            column: 33
          },
          end: {
            line: 240,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 240,
            column: 33
          },
          end: {
            line: 240,
            column: 39
          }
        }, {
          start: {
            line: 240,
            column: 43
          },
          end: {
            line: 240,
            column: 45
          }
        }],
        line: 240
      },
      "24": {
        loc: {
          start: {
            line: 244,
            column: 27
          },
          end: {
            line: 244,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 244,
            column: 45
          },
          end: {
            line: 244,
            column: 80
          }
        }, {
          start: {
            line: 244,
            column: 83
          },
          end: {
            line: 244,
            column: 84
          }
        }],
        line: 244
      },
      "25": {
        loc: {
          start: {
            line: 248,
            column: 25
          },
          end: {
            line: 248,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 248,
            column: 25
          },
          end: {
            line: 248,
            column: 30
          }
        }, {
          start: {
            line: 248,
            column: 34
          },
          end: {
            line: 248,
            column: 36
          }
        }],
        line: 248
      },
      "26": {
        loc: {
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 250
      },
      "27": {
        loc: {
          start: {
            line: 257,
            column: 36
          },
          end: {
            line: 257,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 257,
            column: 36
          },
          end: {
            line: 257,
            column: 53
          }
        }, {
          start: {
            line: 257,
            column: 57
          },
          end: {
            line: 257,
            column: 58
          }
        }],
        line: 257
      },
      "28": {
        loc: {
          start: {
            line: 275,
            column: 4
          },
          end: {
            line: 281,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 275,
            column: 4
          },
          end: {
            line: 281,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 275
      },
      "29": {
        loc: {
          start: {
            line: 275,
            column: 8
          },
          end: {
            line: 275,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 275,
            column: 8
          },
          end: {
            line: 275,
            column: 28
          }
        }, {
          start: {
            line: 275,
            column: 32
          },
          end: {
            line: 275,
            column: 50
          }
        }],
        line: 275
      },
      "30": {
        loc: {
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 280,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 280,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 278
      },
      "31": {
        loc: {
          start: {
            line: 283,
            column: 4
          },
          end: {
            line: 288,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 283,
            column: 4
          },
          end: {
            line: 288,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 283
      },
      "32": {
        loc: {
          start: {
            line: 285,
            column: 8
          },
          end: {
            line: 287,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 285,
            column: 8
          },
          end: {
            line: 287,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 285
      },
      "33": {
        loc: {
          start: {
            line: 296,
            column: 4
          },
          end: {
            line: 298,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 296,
            column: 4
          },
          end: {
            line: 298,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 296
      },
      "34": {
        loc: {
          start: {
            line: 300,
            column: 4
          },
          end: {
            line: 314,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 300,
            column: 4
          },
          end: {
            line: 314,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 300
      },
      "35": {
        loc: {
          start: {
            line: 300,
            column: 8
          },
          end: {
            line: 300,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 300,
            column: 8
          },
          end: {
            line: 300,
            column: 49
          }
        }, {
          start: {
            line: 300,
            column: 53
          },
          end: {
            line: 300,
            column: 79
          }
        }],
        line: 300
      },
      "36": {
        loc: {
          start: {
            line: 304,
            column: 8
          },
          end: {
            line: 313,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 304,
            column: 8
          },
          end: {
            line: 313,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 304
      },
      "37": {
        loc: {
          start: {
            line: 310,
            column: 12
          },
          end: {
            line: 312,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 310,
            column: 12
          },
          end: {
            line: 312,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 310
      },
      "38": {
        loc: {
          start: {
            line: 315,
            column: 4
          },
          end: {
            line: 329,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 315,
            column: 4
          },
          end: {
            line: 329,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 315
      },
      "39": {
        loc: {
          start: {
            line: 315,
            column: 8
          },
          end: {
            line: 315,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 315,
            column: 8
          },
          end: {
            line: 315,
            column: 47
          }
        }, {
          start: {
            line: 315,
            column: 51
          },
          end: {
            line: 315,
            column: 76
          }
        }],
        line: 315
      },
      "40": {
        loc: {
          start: {
            line: 319,
            column: 8
          },
          end: {
            line: 328,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 319,
            column: 8
          },
          end: {
            line: 328,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 319
      },
      "41": {
        loc: {
          start: {
            line: 325,
            column: 12
          },
          end: {
            line: 327,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 325,
            column: 12
          },
          end: {
            line: 327,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 325
      },
      "42": {
        loc: {
          start: {
            line: 330,
            column: 4
          },
          end: {
            line: 344,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 330,
            column: 4
          },
          end: {
            line: 344,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 330
      },
      "43": {
        loc: {
          start: {
            line: 330,
            column: 8
          },
          end: {
            line: 330,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 330,
            column: 8
          },
          end: {
            line: 330,
            column: 45
          }
        }, {
          start: {
            line: 330,
            column: 49
          },
          end: {
            line: 330,
            column: 72
          }
        }],
        line: 330
      },
      "44": {
        loc: {
          start: {
            line: 334,
            column: 8
          },
          end: {
            line: 343,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 334,
            column: 8
          },
          end: {
            line: 343,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 334
      },
      "45": {
        loc: {
          start: {
            line: 340,
            column: 12
          },
          end: {
            line: 342,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 340,
            column: 12
          },
          end: {
            line: 342,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 340
      },
      "46": {
        loc: {
          start: {
            line: 346,
            column: 4
          },
          end: {
            line: 361,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 346,
            column: 4
          },
          end: {
            line: 361,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 346
      },
      "47": {
        loc: {
          start: {
            line: 346,
            column: 8
          },
          end: {
            line: 346,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 346,
            column: 8
          },
          end: {
            line: 346,
            column: 41
          }
        }, {
          start: {
            line: 346,
            column: 45
          },
          end: {
            line: 346,
            column: 74
          }
        }],
        line: 346
      },
      "48": {
        loc: {
          start: {
            line: 350,
            column: 8
          },
          end: {
            line: 360,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 350,
            column: 8
          },
          end: {
            line: 360,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 350
      },
      "49": {
        loc: {
          start: {
            line: 357,
            column: 12
          },
          end: {
            line: 359,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 357,
            column: 12
          },
          end: {
            line: 359,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 357
      },
      "50": {
        loc: {
          start: {
            line: 367,
            column: 4
          },
          end: {
            line: 380,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 367,
            column: 4
          },
          end: {
            line: 380,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 367
      },
      "51": {
        loc: {
          start: {
            line: 367,
            column: 8
          },
          end: {
            line: 367,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 367,
            column: 8
          },
          end: {
            line: 367,
            column: 19
          }
        }, {
          start: {
            line: 367,
            column: 23
          },
          end: {
            line: 367,
            column: 45
          }
        }],
        line: 367
      },
      "52": {
        loc: {
          start: {
            line: 373,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 373,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 373
      },
      "53": {
        loc: {
          start: {
            line: 390,
            column: 4
          },
          end: {
            line: 392,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 390,
            column: 4
          },
          end: {
            line: 392,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 390
      },
      "54": {
        loc: {
          start: {
            line: 405,
            column: 21
          },
          end: {
            line: 405,
            column: 104
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 405,
            column: 53
          },
          end: {
            line: 405,
            column: 92
          }
        }, {
          start: {
            line: 405,
            column: 95
          },
          end: {
            line: 405,
            column: 104
          }
        }],
        line: 405
      },
      "55": {
        loc: {
          start: {
            line: 423,
            column: 4
          },
          end: {
            line: 425,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 423,
            column: 4
          },
          end: {
            line: 425,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 423
      },
      "56": {
        loc: {
          start: {
            line: 427,
            column: 4
          },
          end: {
            line: 433,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 427,
            column: 4
          },
          end: {
            line: 433,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 427
      },
      "57": {
        loc: {
          start: {
            line: 434,
            column: 4
          },
          end: {
            line: 440,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 434,
            column: 4
          },
          end: {
            line: 440,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 434
      },
      "58": {
        loc: {
          start: {
            line: 441,
            column: 4
          },
          end: {
            line: 447,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 441,
            column: 4
          },
          end: {
            line: 447,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 441
      },
      "59": {
        loc: {
          start: {
            line: 448,
            column: 4
          },
          end: {
            line: 455,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 448,
            column: 4
          },
          end: {
            line: 455,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 448
      },
      "60": {
        loc: {
          start: {
            line: 483,
            column: 8
          },
          end: {
            line: 491,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 483,
            column: 8
          },
          end: {
            line: 491,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 483
      },
      "61": {
        loc: {
          start: {
            line: 494,
            column: 8
          },
          end: {
            line: 503,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 494,
            column: 8
          },
          end: {
            line: 503,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 494
      },
      "62": {
        loc: {
          start: {
            line: 505,
            column: 8
          },
          end: {
            line: 514,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 505,
            column: 8
          },
          end: {
            line: 514,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 505
      },
      "63": {
        loc: {
          start: {
            line: 505,
            column: 12
          },
          end: {
            line: 505,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 505,
            column: 12
          },
          end: {
            line: 505,
            column: 22
          }
        }, {
          start: {
            line: 505,
            column: 26
          },
          end: {
            line: 505,
            column: 55
          }
        }],
        line: 505
      },
      "64": {
        loc: {
          start: {
            line: 545,
            column: 24
          },
          end: {
            line: 545,
            column: 101
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 545,
            column: 92
          },
          end: {
            line: 545,
            column: 95
          }
        }, {
          start: {
            line: 545,
            column: 98
          },
          end: {
            line: 545,
            column: 101
          }
        }],
        line: 545
      },
      "65": {
        loc: {
          start: {
            line: 545,
            column: 24
          },
          end: {
            line: 545,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 545,
            column: 24
          },
          end: {
            line: 545,
            column: 46
          }
        }, {
          start: {
            line: 545,
            column: 50
          },
          end: {
            line: 545,
            column: 89
          }
        }],
        line: 545
      },
      "66": {
        loc: {
          start: {
            line: 547,
            column: 19
          },
          end: {
            line: 547,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 547,
            column: 44
          },
          end: {
            line: 547,
            column: 57
          }
        }, {
          start: {
            line: 547,
            column: 60
          },
          end: {
            line: 547,
            column: 75
          }
        }],
        line: 547
      },
      "67": {
        loc: {
          start: {
            line: 549,
            column: 27
          },
          end: {
            line: 549,
            column: 104
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 549,
            column: 95
          },
          end: {
            line: 549,
            column: 98
          }
        }, {
          start: {
            line: 549,
            column: 101
          },
          end: {
            line: 549,
            column: 104
          }
        }],
        line: 549
      },
      "68": {
        loc: {
          start: {
            line: 549,
            column: 27
          },
          end: {
            line: 549,
            column: 92
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 549,
            column: 27
          },
          end: {
            line: 549,
            column: 49
          }
        }, {
          start: {
            line: 549,
            column: 53
          },
          end: {
            line: 549,
            column: 92
          }
        }],
        line: 549
      },
      "69": {
        loc: {
          start: {
            line: 553,
            column: 19
          },
          end: {
            line: 553,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 553,
            column: 44
          },
          end: {
            line: 553,
            column: 57
          }
        }, {
          start: {
            line: 553,
            column: 60
          },
          end: {
            line: 553,
            column: 88
          }
        }],
        line: 553
      },
      "70": {
        loc: {
          start: {
            line: 569,
            column: 8
          },
          end: {
            line: 577,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 569,
            column: 8
          },
          end: {
            line: 577,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 569
      },
      "71": {
        loc: {
          start: {
            line: 580,
            column: 8
          },
          end: {
            line: 589,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 580,
            column: 8
          },
          end: {
            line: 589,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 580
      },
      "72": {
        loc: {
          start: {
            line: 591,
            column: 8
          },
          end: {
            line: 600,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 591,
            column: 8
          },
          end: {
            line: 600,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 591
      },
      "73": {
        loc: {
          start: {
            line: 591,
            column: 12
          },
          end: {
            line: 591,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 591,
            column: 12
          },
          end: {
            line: 591,
            column: 22
          }
        }, {
          start: {
            line: 591,
            column: 26
          },
          end: {
            line: 591,
            column: 55
          }
        }],
        line: 591
      },
      "74": {
        loc: {
          start: {
            line: 604,
            column: 8
          },
          end: {
            line: 685,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 604,
            column: 8
          },
          end: {
            line: 685,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 604
      },
      "75": {
        loc: {
          start: {
            line: 608,
            column: 12
          },
          end: {
            line: 668,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 609,
            column: 16
          },
          end: {
            line: 617,
            column: 26
          }
        }, {
          start: {
            line: 618,
            column: 16
          },
          end: {
            line: 625,
            column: 26
          }
        }, {
          start: {
            line: 626,
            column: 16
          },
          end: {
            line: 633,
            column: 26
          }
        }, {
          start: {
            line: 634,
            column: 16
          },
          end: {
            line: 641,
            column: 26
          }
        }, {
          start: {
            line: 642,
            column: 16
          },
          end: {
            line: 647,
            column: 26
          }
        }, {
          start: {
            line: 648,
            column: 16
          },
          end: {
            line: 665,
            column: 26
          }
        }, {
          start: {
            line: 666,
            column: 16
          },
          end: {
            line: 667,
            column: 56
          }
        }],
        line: 608
      },
      "76": {
        loc: {
          start: {
            line: 649,
            column: 20
          },
          end: {
            line: 651,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 649,
            column: 20
          },
          end: {
            line: 651,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 649
      },
      "77": {
        loc: {
          start: {
            line: 653,
            column: 20
          },
          end: {
            line: 655,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 653,
            column: 20
          },
          end: {
            line: 655,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 653
      },
      "78": {
        loc: {
          start: {
            line: 718,
            column: 19
          },
          end: {
            line: 718,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 718,
            column: 44
          },
          end: {
            line: 718,
            column: 57
          }
        }, {
          start: {
            line: 718,
            column: 60
          },
          end: {
            line: 718,
            column: 75
          }
        }],
        line: 718
      },
      "79": {
        loc: {
          start: {
            line: 723,
            column: 19
          },
          end: {
            line: 723,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 723,
            column: 44
          },
          end: {
            line: 723,
            column: 57
          }
        }, {
          start: {
            line: 723,
            column: 60
          },
          end: {
            line: 723,
            column: 88
          }
        }],
        line: 723
      },
      "80": {
        loc: {
          start: {
            line: 739,
            column: 8
          },
          end: {
            line: 747,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 739,
            column: 8
          },
          end: {
            line: 747,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 739
      },
      "81": {
        loc: {
          start: {
            line: 750,
            column: 8
          },
          end: {
            line: 759,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 750,
            column: 8
          },
          end: {
            line: 759,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 750
      },
      "82": {
        loc: {
          start: {
            line: 761,
            column: 8
          },
          end: {
            line: 770,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 761,
            column: 8
          },
          end: {
            line: 770,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 761
      },
      "83": {
        loc: {
          start: {
            line: 761,
            column: 12
          },
          end: {
            line: 761,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 761,
            column: 12
          },
          end: {
            line: 761,
            column: 22
          }
        }, {
          start: {
            line: 761,
            column: 26
          },
          end: {
            line: 761,
            column: 55
          }
        }],
        line: 761
      },
      "84": {
        loc: {
          start: {
            line: 773,
            column: 8
          },
          end: {
            line: 782,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 773,
            column: 8
          },
          end: {
            line: 782,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 773
      },
      "85": {
        loc: {
          start: {
            line: 786,
            column: 29
          },
          end: {
            line: 786,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 786,
            column: 52
          },
          end: {
            line: 786,
            column: 60
          }
        }, {
          start: {
            line: 786,
            column: 63
          },
          end: {
            line: 786,
            column: 75
          }
        }],
        line: 786
      },
      "86": {
        loc: {
          start: {
            line: 799,
            column: 24
          },
          end: {
            line: 799,
            column: 126
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 799,
            column: 47
          },
          end: {
            line: 799,
            column: 81
          }
        }, {
          start: {
            line: 799,
            column: 84
          },
          end: {
            line: 799,
            column: 126
          }
        }],
        line: 799
      },
      "87": {
        loc: {
          start: {
            line: 819,
            column: 19
          },
          end: {
            line: 819,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 819,
            column: 44
          },
          end: {
            line: 819,
            column: 57
          }
        }, {
          start: {
            line: 819,
            column: 60
          },
          end: {
            line: 819,
            column: 75
          }
        }],
        line: 819
      },
      "88": {
        loc: {
          start: {
            line: 824,
            column: 19
          },
          end: {
            line: 824,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 824,
            column: 44
          },
          end: {
            line: 824,
            column: 57
          }
        }, {
          start: {
            line: 824,
            column: 60
          },
          end: {
            line: 824,
            column: 88
          }
        }],
        line: 824
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0,
      "186": 0,
      "187": 0,
      "188": 0,
      "189": 0,
      "190": 0,
      "191": 0,
      "192": 0,
      "193": 0,
      "194": 0,
      "195": 0,
      "196": 0,
      "197": 0,
      "198": 0,
      "199": 0,
      "200": 0,
      "201": 0,
      "202": 0,
      "203": 0,
      "204": 0,
      "205": 0,
      "206": 0,
      "207": 0,
      "208": 0,
      "209": 0,
      "210": 0,
      "211": 0,
      "212": 0,
      "213": 0,
      "214": 0,
      "215": 0,
      "216": 0,
      "217": 0,
      "218": 0,
      "219": 0,
      "220": 0,
      "221": 0,
      "222": 0,
      "223": 0,
      "224": 0,
      "225": 0,
      "226": 0,
      "227": 0,
      "228": 0,
      "229": 0,
      "230": 0,
      "231": 0,
      "232": 0,
      "233": 0,
      "234": 0,
      "235": 0,
      "236": 0,
      "237": 0,
      "238": 0,
      "239": 0,
      "240": 0,
      "241": 0,
      "242": 0,
      "243": 0,
      "244": 0,
      "245": 0,
      "246": 0,
      "247": 0,
      "248": 0,
      "249": 0,
      "250": 0,
      "251": 0,
      "252": 0,
      "253": 0,
      "254": 0,
      "255": 0,
      "256": 0,
      "257": 0,
      "258": 0,
      "259": 0,
      "260": 0,
      "261": 0,
      "262": 0,
      "263": 0,
      "264": 0,
      "265": 0,
      "266": 0,
      "267": 0,
      "268": 0,
      "269": 0,
      "270": 0,
      "271": 0,
      "272": 0,
      "273": 0,
      "274": 0,
      "275": 0,
      "276": 0,
      "277": 0,
      "278": 0,
      "279": 0,
      "280": 0,
      "281": 0,
      "282": 0,
      "283": 0,
      "284": 0,
      "285": 0,
      "286": 0,
      "287": 0,
      "288": 0,
      "289": 0,
      "290": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0],
      "48": [0, 0],
      "49": [0, 0],
      "50": [0, 0],
      "51": [0, 0],
      "52": [0, 0],
      "53": [0, 0],
      "54": [0, 0],
      "55": [0, 0],
      "56": [0, 0],
      "57": [0, 0],
      "58": [0, 0],
      "59": [0, 0],
      "60": [0, 0],
      "61": [0, 0],
      "62": [0, 0],
      "63": [0, 0],
      "64": [0, 0],
      "65": [0, 0],
      "66": [0, 0],
      "67": [0, 0],
      "68": [0, 0],
      "69": [0, 0],
      "70": [0, 0],
      "71": [0, 0],
      "72": [0, 0],
      "73": [0, 0],
      "74": [0, 0],
      "75": [0, 0, 0, 0, 0, 0, 0],
      "76": [0, 0],
      "77": [0, 0],
      "78": [0, 0],
      "79": [0, 0],
      "80": [0, 0],
      "81": [0, 0],
      "82": [0, 0],
      "83": [0, 0],
      "84": [0, 0],
      "85": [0, 0],
      "86": [0, 0],
      "87": [0, 0],
      "88": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\promotions\\[id]\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\r\nimport { z } from 'zod';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { auth } from '@/auth';\r\nimport { checkRateLimit, addRateLimitHeaders } from '@/lib/enterprise/rate-limiter';\r\nimport { logger, LogLevel, LogCategory } from '@/lib/enterprise/logger';\r\nimport { metricsCollector } from '@/lib/enterprise/metrics';\r\n\r\n// ===================================\r\n// CONFIGURACI\xD3N\r\n// ===================================\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n);\r\n\r\nconst RATE_LIMIT_CONFIGS = {\r\n  admin: {\r\n    windowMs: 15 * 60 * 1000, // 15 minutos\r\n    maxRequests: 50,\r\n    message: 'Demasiadas solicitudes de promoci\xF3n'\r\n  }\r\n};\r\n\r\n// ===================================\r\n// ESQUEMAS DE VALIDACI\xD3N\r\n// ===================================\r\nconst UpdatePromotionSchema = z.object({\r\n  name: z.string().min(1, 'El nombre es requerido').optional(),\r\n  description: z.string().optional(),\r\n  type: z.enum(['percentage_discount', 'fixed_discount', 'buy_x_get_y', 'free_shipping', 'bundle_deal']).optional(),\r\n  priority: z.number().int().min(1).max(100).optional(),\r\n  \r\n  // Configuraci\xF3n de descuento\r\n  discount_percentage: z.number().min(0).max(100).optional(),\r\n  discount_amount: z.number().min(0).optional(),\r\n  \r\n  // Configuraci\xF3n Buy X Get Y\r\n  buy_quantity: z.number().int().min(1).optional(),\r\n  get_quantity: z.number().int().min(1).optional(),\r\n  get_discount_percentage: z.number().min(0).max(100).optional(),\r\n  \r\n  // Configuraci\xF3n de bundle\r\n  bundle_products: z.array(z.object({\r\n    product_id: z.string().uuid(),\r\n    quantity: z.number().int().min(1)\r\n  })).optional(),\r\n  bundle_price: z.number().min(0).optional(),\r\n  \r\n  // Condiciones\r\n  minimum_order_amount: z.number().min(0).optional(),\r\n  maximum_discount_amount: z.number().min(0).optional(),\r\n  minimum_quantity: z.number().int().min(1).optional(),\r\n  \r\n  // Aplicabilidad\r\n  applicable_to: z.enum(['all', 'categories', 'products', 'brands']).optional(),\r\n  category_ids: z.array(z.string().uuid()).optional(),\r\n  product_ids: z.array(z.string().uuid()).optional(),\r\n  brand_ids: z.array(z.string().uuid()).optional(),\r\n  \r\n  // Exclusiones\r\n  exclude_sale_items: z.boolean().optional(),\r\n  exclude_categories: z.array(z.string().uuid()).optional(),\r\n  exclude_products: z.array(z.string().uuid()).optional(),\r\n  \r\n  // L\xEDmites de uso\r\n  usage_limit: z.number().int().min(1).optional(),\r\n  usage_limit_per_user: z.number().int().min(1).optional(),\r\n  \r\n  // Fechas\r\n  starts_at: z.string().optional(),\r\n  ends_at: z.string().optional(),\r\n  \r\n  // Configuraci\xF3n\r\n  is_active: z.boolean().optional(),\r\n  is_paused: z.boolean().optional(),\r\n  is_stackable: z.boolean().optional(),\r\n  requires_coupon_code: z.boolean().optional(),\r\n  coupon_code: z.string().optional(),\r\n  \r\n  // Targeting\r\n  customer_groups: z.array(z.string()).optional(),\r\n  first_time_customers_only: z.boolean().optional(),\r\n  \r\n  // Display\r\n  banner_text: z.string().optional(),\r\n  banner_color: z.string().optional(),\r\n  show_on_product_page: z.boolean().optional(),\r\n  show_on_category_page: z.boolean().optional(),\r\n  show_on_homepage: z.boolean().optional()\r\n});\r\n\r\nconst PromotionActionSchema = z.object({\r\n  action: z.enum(['activate', 'deactivate', 'pause', 'resume', 'duplicate', 'extend']),\r\n  extend_days: z.number().int().min(1).optional()\r\n});\r\n\r\n// ===================================\r\n// TIPOS\r\n// ===================================\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  success: boolean;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\ninterface PromotionData {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  type: 'percentage_discount' | 'fixed_discount' | 'buy_x_get_y' | 'free_shipping' | 'bundle_deal';\r\n  priority: number;\r\n  \r\n  // Configuraci\xF3n de descuento\r\n  discount_percentage?: number;\r\n  discount_amount?: number;\r\n  \r\n  // Configuraci\xF3n Buy X Get Y\r\n  buy_quantity?: number;\r\n  get_quantity?: number;\r\n  get_discount_percentage?: number;\r\n  \r\n  // Configuraci\xF3n de bundle\r\n  bundle_products?: Array<{\r\n    product_id: string;\r\n    quantity: number;\r\n    product?: {\r\n      name: string;\r\n      sku: string;\r\n      price: number;\r\n    };\r\n  }>;\r\n  bundle_price?: number;\r\n  \r\n  // Condiciones\r\n  minimum_order_amount?: number;\r\n  maximum_discount_amount?: number;\r\n  minimum_quantity?: number;\r\n  \r\n  // Aplicabilidad\r\n  applicable_to: 'all' | 'categories' | 'products' | 'brands';\r\n  category_ids?: string[];\r\n  product_ids?: string[];\r\n  brand_ids?: string[];\r\n  \r\n  // Exclusiones\r\n  exclude_sale_items: boolean;\r\n  exclude_categories?: string[];\r\n  exclude_products?: string[];\r\n  \r\n  // L\xEDmites de uso\r\n  usage_limit?: number;\r\n  usage_limit_per_user?: number;\r\n  usage_count: number;\r\n  \r\n  // Fechas\r\n  starts_at: string;\r\n  ends_at?: string;\r\n  \r\n  // Configuraci\xF3n\r\n  is_active: boolean;\r\n  is_paused?: boolean;\r\n  is_stackable: boolean;\r\n  requires_coupon_code: boolean;\r\n  coupon_code?: string;\r\n  \r\n  // Targeting\r\n  customer_groups?: string[];\r\n  first_time_customers_only: boolean;\r\n  \r\n  // Display\r\n  banner_text?: string;\r\n  banner_color?: string;\r\n  show_on_product_page: boolean;\r\n  show_on_category_page: boolean;\r\n  show_on_homepage: boolean;\r\n  \r\n  // Metadata\r\n  created_at: string;\r\n  updated_at: string;\r\n  created_by: string;\r\n  \r\n  // Estado calculado\r\n  status: 'active' | 'inactive' | 'scheduled' | 'expired' | 'paused';\r\n  \r\n  // Relaciones\r\n  categories?: Array<{\r\n    id: string;\r\n    name: string;\r\n  }>;\r\n  products?: Array<{\r\n    id: string;\r\n    name: string;\r\n    sku: string;\r\n  }>;\r\n  brands?: Array<{\r\n    id: string;\r\n    name: string;\r\n  }>;\r\n  creator?: {\r\n    full_name: string;\r\n    email: string;\r\n  };\r\n  \r\n  // Estad\xEDsticas de uso\r\n  usage_stats?: {\r\n    total_usage: number;\r\n    unique_users: number;\r\n    total_discount_given: number;\r\n    average_order_value: number;\r\n    conversion_rate: number;\r\n    recent_usage: Array<{\r\n      date: string;\r\n      usage_count: number;\r\n      discount_given: number;\r\n    }>;\r\n  };\r\n}\r\n\r\n// ===================================\r\n// FUNCIONES AUXILIARES\r\n// ===================================\r\nasync function validateAdminAuth() {\r\n  const session = await auth();\r\n  \r\n  if (!session?.user) {\r\n    return { error: 'No autorizado', status: 401 };\r\n  }\r\n\r\n  // Verificar rol de administrador o manager\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', session.user.id)\r\n    .single();\r\n\r\n  if (!['admin', 'manager'].includes(profile?.role)) {\r\n    return { error: 'Acceso denegado', status: 403 };\r\n  }\r\n\r\n  return { userId: session.user.id, role: profile.role };\r\n}\r\n\r\nasync function getPromotionById(promotionId: string, includeStats = false) {\r\n  // Obtener promoci\xF3n con relaciones\r\n  const { data: promotion, error } = await supabase\r\n    .from('promotions')\r\n    .select(`\r\n      *,\r\n      categories:promotion_categories!promotion_categories_promotion_id_fkey(\r\n        category:categories!promotion_categories_category_id_fkey(\r\n          id,\r\n          name\r\n        )\r\n      ),\r\n      products:promotion_products!promotion_products_promotion_id_fkey(\r\n        product:products!promotion_products_product_id_fkey(\r\n          id,\r\n          name,\r\n          sku\r\n        )\r\n      ),\r\n      brands:promotion_brands!promotion_brands_promotion_id_fkey(\r\n        brand:brands!promotion_brands_brand_id_fkey(\r\n          id,\r\n          name\r\n        )\r\n      ),\r\n      bundle_products:promotion_bundle_products!promotion_bundle_products_promotion_id_fkey(\r\n        product_id,\r\n        quantity,\r\n        product:products!promotion_bundle_products_product_id_fkey(\r\n          name,\r\n          sku,\r\n          price\r\n        )\r\n      ),\r\n      creator:profiles!promotions_created_by_fkey(\r\n        full_name,\r\n        email\r\n      )\r\n    `)\r\n    .eq('id', promotionId)\r\n    .single();\r\n\r\n  if (error) {\r\n    throw new Error(`Error al obtener promoci\xF3n: ${error.message}`);\r\n  }\r\n\r\n  if (!promotion) {\r\n    throw new Error('Promoci\xF3n no encontrada');\r\n  }\r\n\r\n  // Calcular estado\r\n  const now = new Date();\r\n  const startsAt = new Date(promotion.starts_at);\r\n  const endsAt = promotion.ends_at ? new Date(promotion.ends_at) : null;\r\n  \r\n  let status: 'active' | 'inactive' | 'scheduled' | 'expired' | 'paused';\r\n  \r\n  if (promotion.is_paused) {\r\n    status = 'paused';\r\n  } else if (!promotion.is_active) {\r\n    status = 'inactive';\r\n  } else if (now < startsAt) {\r\n    status = 'scheduled';\r\n  } else if (endsAt && now > endsAt) {\r\n    status = 'expired';\r\n  } else {\r\n    status = 'active';\r\n  }\r\n\r\n  // Procesar datos\r\n  const processedPromotion = {\r\n    ...promotion,\r\n    status,\r\n    categories: promotion.categories?.map((pc: any) => pc.category) || [],\r\n    products: promotion.products?.map((pp: any) => pp.product) || [],\r\n    brands: promotion.brands?.map((pb: any) => pb.brand) || [],\r\n    bundle_products: promotion.bundle_products?.map((bp: any) => ({\r\n      product_id: bp.product_id,\r\n      quantity: bp.quantity,\r\n      product: bp.product\r\n    })) || []\r\n  };\r\n\r\n  // Incluir estad\xEDsticas si se solicita\r\n  if (includeStats) {\r\n    const usageStats = await getPromotionUsageStats(promotionId);\r\n    processedPromotion.usage_stats = usageStats;\r\n  }\r\n\r\n  return processedPromotion;\r\n}\r\n\r\nasync function getPromotionUsageStats(promotionId: string) {\r\n  // Obtener uso de la promoci\xF3n\r\n  const { data: usage, error } = await supabase\r\n    .from('promotion_usage')\r\n    .select('*')\r\n    .eq('promotion_id', promotionId);\r\n\r\n  if (error) {\r\n    throw new Error(`Error al obtener estad\xEDsticas de uso: ${error.message}`);\r\n  }\r\n\r\n  const totalUsage = usage?.length || 0;\r\n  const uniqueUsers = new Set(usage?.map(u => u.user_id) || []).size;\r\n  const totalDiscountGiven = (usage || []).reduce((sum, u) => sum + (u.discount_amount || 0), 0);\r\n  \r\n  // Calcular valor promedio de orden\r\n  const orderIds = [...new Set(usage?.map(u => u.order_id) || [])];\r\n  let averageOrderValue = 0;\r\n  \r\n  if (orderIds.length > 0) {\r\n    const { data: orders } = await supabase\r\n      .from('orders')\r\n      .select('total_amount')\r\n      .in('id', orderIds);\r\n    \r\n    const totalOrderValue = (orders || []).reduce((sum, o) => sum + o.total_amount, 0);\r\n    averageOrderValue = totalOrderValue / orderIds.length;\r\n  }\r\n\r\n  // Calcular tasa de conversi\xF3n (simplificada)\r\n  const conversionRate = uniqueUsers > 0 ? (orderIds.length / uniqueUsers) * 100 : 0;\r\n\r\n  // Uso reciente (\xFAltimos 30 d\xEDas)\r\n  const thirtyDaysAgo = new Date();\r\n  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n  \r\n  const recentUsage = (usage || [])\r\n    .filter(u => new Date(u.created_at) >= thirtyDaysAgo)\r\n    .reduce((acc, u) => {\r\n      const date = new Date(u.created_at).toISOString().split('T')[0];\r\n      if (!acc[date]) {\r\n        acc[date] = { usage_count: 0, discount_given: 0 };\r\n      }\r\n      acc[date].usage_count++;\r\n      acc[date].discount_given += u.discount_amount || 0;\r\n      return acc;\r\n    }, {} as Record<string, { usage_count: number; discount_given: number }>);\r\n\r\n  const recentUsageArray = Object.entries(recentUsage)\r\n    .map(([date, stats]) => ({ date, ...stats }))\r\n    .sort((a, b) => a.date.localeCompare(b.date));\r\n\r\n  return {\r\n    total_usage: totalUsage,\r\n    unique_users: uniqueUsers,\r\n    total_discount_given: totalDiscountGiven,\r\n    average_order_value: averageOrderValue,\r\n    conversion_rate: conversionRate,\r\n    recent_usage: recentUsageArray\r\n  };\r\n}\r\n\r\nasync function updatePromotion(promotionId: string, updateData: z.infer<typeof UpdatePromotionSchema>, userId: string) {\r\n  // Validar fechas si se proporcionan\r\n  if (updateData.starts_at && updateData.ends_at) {\r\n    const startsAt = new Date(updateData.starts_at);\r\n    const endsAt = new Date(updateData.ends_at);\r\n    \r\n    if (startsAt >= endsAt) {\r\n      throw new Error('La fecha de inicio debe ser anterior a la fecha de finalizaci\xF3n');\r\n    }\r\n  }\r\n\r\n  // Validar c\xF3digo de cup\xF3n si se cambia\r\n  if (updateData.coupon_code) {\r\n    const { data: existingPromotion } = await supabase\r\n      .from('promotions')\r\n      .select('id')\r\n      .eq('coupon_code', updateData.coupon_code)\r\n      .neq('id', promotionId)\r\n      .single();\r\n\r\n    if (existingPromotion) {\r\n      throw new Error('Ya existe otra promoci\xF3n con este c\xF3digo de cup\xF3n');\r\n    }\r\n  }\r\n\r\n  // Separar datos de relaciones\r\n  const { category_ids, product_ids, brand_ids, bundle_products, ...promotionUpdateData } = updateData;\r\n  \r\n  // Actualizar promoci\xF3n principal\r\n  const { data: updatedPromotion, error: updateError } = await supabase\r\n    .from('promotions')\r\n    .update({\r\n      ...promotionUpdateData,\r\n      updated_at: new Date().toISOString()\r\n    })\r\n    .eq('id', promotionId)\r\n    .select()\r\n    .single();\r\n\r\n  if (updateError) {\r\n    throw new Error(`Error al actualizar promoci\xF3n: ${updateError.message}`);\r\n  }\r\n\r\n  // Actualizar relaciones si se proporcionan\r\n  if (updateData.applicable_to === 'categories' && category_ids !== undefined) {\r\n    // Eliminar relaciones existentes\r\n    await supabase\r\n      .from('promotion_categories')\r\n      .delete()\r\n      .eq('promotion_id', promotionId);\r\n\r\n    // Crear nuevas relaciones\r\n    if (category_ids.length > 0) {\r\n      const categoryInserts = category_ids.map(categoryId => ({\r\n        promotion_id: promotionId,\r\n        category_id: categoryId\r\n      }));\r\n\r\n      const { error: categoryError } = await supabase\r\n        .from('promotion_categories')\r\n        .insert(categoryInserts);\r\n\r\n      if (categoryError) {\r\n        throw new Error(`Error al actualizar categor\xEDas: ${categoryError.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (updateData.applicable_to === 'products' && product_ids !== undefined) {\r\n    // Eliminar relaciones existentes\r\n    await supabase\r\n      .from('promotion_products')\r\n      .delete()\r\n      .eq('promotion_id', promotionId);\r\n\r\n    // Crear nuevas relaciones\r\n    if (product_ids.length > 0) {\r\n      const productInserts = product_ids.map(productId => ({\r\n        promotion_id: promotionId,\r\n        product_id: productId\r\n      }));\r\n\r\n      const { error: productError } = await supabase\r\n        .from('promotion_products')\r\n        .insert(productInserts);\r\n\r\n      if (productError) {\r\n        throw new Error(`Error al actualizar productos: ${productError.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (updateData.applicable_to === 'brands' && brand_ids !== undefined) {\r\n    // Eliminar relaciones existentes\r\n    await supabase\r\n      .from('promotion_brands')\r\n      .delete()\r\n      .eq('promotion_id', promotionId);\r\n\r\n    // Crear nuevas relaciones\r\n    if (brand_ids.length > 0) {\r\n      const brandInserts = brand_ids.map(brandId => ({\r\n        promotion_id: promotionId,\r\n        brand_id: brandId\r\n      }));\r\n\r\n      const { error: brandError } = await supabase\r\n        .from('promotion_brands')\r\n        .insert(brandInserts);\r\n\r\n      if (brandError) {\r\n        throw new Error(`Error al actualizar marcas: ${brandError.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Actualizar productos del bundle si aplica\r\n  if (updateData.type === 'bundle_deal' && bundle_products !== undefined) {\r\n    // Eliminar productos del bundle existentes\r\n    await supabase\r\n      .from('promotion_bundle_products')\r\n      .delete()\r\n      .eq('promotion_id', promotionId);\r\n\r\n    // Crear nuevos productos del bundle\r\n    if (bundle_products.length > 0) {\r\n      const bundleInserts = bundle_products.map(item => ({\r\n        promotion_id: promotionId,\r\n        product_id: item.product_id,\r\n        quantity: item.quantity\r\n      }));\r\n\r\n      const { error: bundleError } = await supabase\r\n        .from('promotion_bundle_products')\r\n        .insert(bundleInserts);\r\n\r\n      if (bundleError) {\r\n        throw new Error(`Error al actualizar bundle de productos: ${bundleError.message}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  return updatedPromotion;\r\n}\r\n\r\nasync function deletePromotion(promotionId: string) {\r\n  // Verificar si la promoci\xF3n tiene uso activo\r\n  const { data: activeUsage } = await supabase\r\n    .from('promotion_usage')\r\n    .select('id')\r\n    .eq('promotion_id', promotionId)\r\n    .limit(1);\r\n\r\n  if (activeUsage && activeUsage.length > 0) {\r\n    // En lugar de eliminar, desactivar la promoci\xF3n\r\n    const { error: deactivateError } = await supabase\r\n      .from('promotions')\r\n      .update({ \r\n        is_active: false, \r\n        updated_at: new Date().toISOString() \r\n      })\r\n      .eq('id', promotionId);\r\n\r\n    if (deactivateError) {\r\n      throw new Error(`Error al desactivar promoci\xF3n: ${deactivateError.message}`);\r\n    }\r\n\r\n    return { deleted: false, deactivated: true };\r\n  }\r\n\r\n  // Eliminar relaciones primero\r\n  await Promise.all([\r\n    supabase.from('promotion_categories').delete().eq('promotion_id', promotionId),\r\n    supabase.from('promotion_products').delete().eq('promotion_id', promotionId),\r\n    supabase.from('promotion_brands').delete().eq('promotion_id', promotionId),\r\n    supabase.from('promotion_bundle_products').delete().eq('promotion_id', promotionId)\r\n  ]);\r\n\r\n  // Eliminar promoci\xF3n\r\n  const { error: deleteError } = await supabase\r\n    .from('promotions')\r\n    .delete()\r\n    .eq('id', promotionId);\r\n\r\n  if (deleteError) {\r\n    throw new Error(`Error al eliminar promoci\xF3n: ${deleteError.message}`);\r\n  }\r\n\r\n  return { deleted: true, deactivated: false };\r\n}\r\n\r\nasync function duplicatePromotion(promotionId: string, userId: string) {\r\n  // Obtener promoci\xF3n original\r\n  const originalPromotion = await getPromotionById(promotionId);\r\n  \r\n  // Preparar datos para duplicaci\xF3n\r\n  const duplicateData = {\r\n    ...originalPromotion,\r\n    name: `${originalPromotion.name} (Copia)`,\r\n    coupon_code: originalPromotion.coupon_code ? `${originalPromotion.coupon_code}_COPY` : undefined,\r\n    is_active: false, // Crear como inactiva\r\n    usage_count: 0,\r\n    created_by: userId,\r\n    created_at: new Date().toISOString(),\r\n    updated_at: new Date().toISOString()\r\n  };\r\n\r\n  // Remover campos que no deben duplicarse\r\n  delete duplicateData.id;\r\n  delete duplicateData.status;\r\n  delete duplicateData.categories;\r\n  delete duplicateData.products;\r\n  delete duplicateData.brands;\r\n  delete duplicateData.bundle_products;\r\n  delete duplicateData.creator;\r\n  delete duplicateData.usage_stats;\r\n\r\n  // Crear nueva promoci\xF3n\r\n  const { data: newPromotion, error: createError } = await supabase\r\n    .from('promotions')\r\n    .insert(duplicateData)\r\n    .select()\r\n    .single();\r\n\r\n  if (createError) {\r\n    throw new Error(`Error al duplicar promoci\xF3n: ${createError.message}`);\r\n  }\r\n\r\n  // Duplicar relaciones\r\n  if (originalPromotion.categories?.length) {\r\n    const categoryInserts = originalPromotion.categories.map(category => ({\r\n      promotion_id: newPromotion.id,\r\n      category_id: category.id\r\n    }));\r\n\r\n    await supabase.from('promotion_categories').insert(categoryInserts);\r\n  }\r\n\r\n  if (originalPromotion.products?.length) {\r\n    const productInserts = originalPromotion.products.map(product => ({\r\n      promotion_id: newPromotion.id,\r\n      product_id: product.id\r\n    }));\r\n\r\n    await supabase.from('promotion_products').insert(productInserts);\r\n  }\r\n\r\n  if (originalPromotion.brands?.length) {\r\n    const brandInserts = originalPromotion.brands.map(brand => ({\r\n      promotion_id: newPromotion.id,\r\n      brand_id: brand.id\r\n    }));\r\n\r\n    await supabase.from('promotion_brands').insert(brandInserts);\r\n  }\r\n\r\n  if (originalPromotion.bundle_products?.length) {\r\n    const bundleInserts = originalPromotion.bundle_products.map(item => ({\r\n      promotion_id: newPromotion.id,\r\n      product_id: item.product_id,\r\n      quantity: item.quantity\r\n    }));\r\n\r\n    await supabase.from('promotion_bundle_products').insert(bundleInserts);\r\n  }\r\n\r\n  return newPromotion;\r\n}\r\n\r\nasync function logAuditAction(action: string, promotionId: string, userId: string, details?: any) {\r\n  try {\r\n    await supabase.from('audit_logs').insert({\r\n      table_name: 'promotions',\r\n      record_id: promotionId,\r\n      action,\r\n      user_id: userId,\r\n      changes: details,\r\n      created_at: new Date().toISOString()\r\n    });\r\n  } catch (error) {\r\n    logger.log(LogLevel.WARN, LogCategory.AUDIT, 'Error al registrar auditor\xEDa', { error });\r\n  }\r\n}\r\n\r\n// ===================================\r\n// GET - Obtener promoci\xF3n por ID\r\n// ===================================\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      {\r\n        windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,\r\n        maxRequests: RATE_LIMIT_CONFIGS.admin.maxRequests,\r\n        message: RATE_LIMIT_CONFIGS.admin.message\r\n      },\r\n      'admin-promotion-detail'\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { error: rateLimitResult.message },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult);\r\n      return response;\r\n    }\r\n\r\n    // Validar autenticaci\xF3n admin\r\n    const authResult = await validateAdminAuth();\r\n    if (authResult.error) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: authResult.error,\r\n      };\r\n      return NextResponse.json(errorResponse, { status: authResult.status });\r\n    }\r\n\r\n    // Validar ID de promoci\xF3n\r\n    if (!params.id || typeof params.id !== 'string') {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'ID de promoci\xF3n inv\xE1lido',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 400 });\r\n    }\r\n\r\n    // Verificar si se solicitan estad\xEDsticas\r\n    const { searchParams } = new URL(request.url);\r\n    const includeStats = searchParams.get('include_stats') === 'true';\r\n\r\n    // Obtener promoci\xF3n\r\n    const promotion = await getPromotionById(params.id, includeStats);\r\n\r\n    // Registrar m\xE9tricas\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'GET',\r\n      statusCode: 200,\r\n      responseTime: Date.now() - startTime,\r\n      userId: authResult.userId\r\n    });\r\n\r\n    const response: ApiResponse<PromotionData> = {\r\n      data: promotion,\r\n      success: true,\r\n      message: 'Promoci\xF3n obtenida exitosamente'\r\n    };\r\n\r\n    const nextResponse = NextResponse.json(response);\r\n    addRateLimitHeaders(nextResponse, rateLimitResult);\r\n    return nextResponse;\r\n\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error en GET /api/admin/promotions/[id]', { error, promotionId: params.id });\r\n\r\n    // Registrar m\xE9tricas de error\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'GET',\r\n      statusCode: error instanceof Error && error.message.includes('no encontrada') ? 404 : 500,\r\n      responseTime: Date.now() - startTime,\r\n      error: error instanceof Error ? error.message : 'Unknown error'\r\n    });\r\n\r\n    const statusCode = error instanceof Error && error.message.includes('no encontrada') ? 404 : 500;\r\n    const errorResponse: ApiResponse<null> = {\r\n      data: null,\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Error interno del servidor',\r\n    };\r\n\r\n    return NextResponse.json(errorResponse, { status: statusCode });\r\n  }\r\n}\r\n\r\n// ===================================\r\n// PUT - Actualizar promoci\xF3n\r\n// ===================================\r\nexport async function PUT(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      {\r\n        windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,\r\n        maxRequests: Math.floor(RATE_LIMIT_CONFIGS.admin.maxRequests / 2),\r\n        message: 'Demasiadas actualizaciones de promoci\xF3n'\r\n      },\r\n      'admin-promotion-update'\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { error: rateLimitResult.message },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult);\r\n      return response;\r\n    }\r\n\r\n    // Validar autenticaci\xF3n admin\r\n    const authResult = await validateAdminAuth();\r\n    if (authResult.error) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: authResult.error,\r\n      };\r\n      return NextResponse.json(errorResponse, { status: authResult.status });\r\n    }\r\n\r\n    // Validar ID de promoci\xF3n\r\n    if (!params.id || typeof params.id !== 'string') {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'ID de promoci\xF3n inv\xE1lido',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 400 });\r\n    }\r\n\r\n    // Validar datos de entrada\r\n    const body = await request.json();\r\n    const { action } = body;\r\n\r\n    if (action) {\r\n      // Manejar acciones especiales\r\n      const actionData = PromotionActionSchema.parse(body);\r\n      let result;\r\n\r\n      switch (actionData.action) {\r\n        case 'activate':\r\n          result = await updatePromotion(params.id, { is_active: true, is_paused: false }, authResult.userId!);\r\n          await logAuditAction('activate', params.id, authResult.userId!, { action: 'activate' });\r\n          break;\r\n        case 'deactivate':\r\n          result = await updatePromotion(params.id, { is_active: false }, authResult.userId!);\r\n          await logAuditAction('deactivate', params.id, authResult.userId!, { action: 'deactivate' });\r\n          break;\r\n        case 'pause':\r\n          result = await updatePromotion(params.id, { is_paused: true }, authResult.userId!);\r\n          await logAuditAction('pause', params.id, authResult.userId!, { action: 'pause' });\r\n          break;\r\n        case 'resume':\r\n          result = await updatePromotion(params.id, { is_paused: false }, authResult.userId!);\r\n          await logAuditAction('resume', params.id, authResult.userId!, { action: 'resume' });\r\n          break;\r\n        case 'duplicate':\r\n          result = await duplicatePromotion(params.id, authResult.userId!);\r\n          await logAuditAction('duplicate', params.id, authResult.userId!, { new_promotion_id: result.id });\r\n          break;\r\n        case 'extend':\r\n          if (!actionData.extend_days) {\r\n            throw new Error('D\xEDas de extensi\xF3n requeridos');\r\n          }\r\n          \r\n          const { data: currentPromotion } = await supabase\r\n            .from('promotions')\r\n            .select('ends_at')\r\n            .eq('id', params.id)\r\n            .single();\r\n          \r\n          if (!currentPromotion?.ends_at) {\r\n            throw new Error('La promoci\xF3n no tiene fecha de finalizaci\xF3n');\r\n          }\r\n          \r\n          const newEndDate = new Date(currentPromotion.ends_at);\r\n          newEndDate.setDate(newEndDate.getDate() + actionData.extend_days);\r\n          \r\n          result = await updatePromotion(params.id, { ends_at: newEndDate.toISOString() }, authResult.userId!);\r\n          await logAuditAction('extend', params.id, authResult.userId!, { \r\n            extend_days: actionData.extend_days,\r\n            new_end_date: newEndDate.toISOString()\r\n          });\r\n          break;\r\n        default:\r\n          throw new Error('Acci\xF3n no v\xE1lida');\r\n      }\r\n\r\n      // Registrar m\xE9tricas\r\n      metricsCollector.recordApiCall({\r\n        endpoint: '/api/admin/promotions/[id]',\r\n        method: 'PUT',\r\n        statusCode: 200,\r\n        responseTime: Date.now() - startTime,\r\n        userId: authResult.userId\r\n      });\r\n\r\n      const response: ApiResponse<typeof result> = {\r\n        data: result,\r\n        success: true,\r\n        message: `Acci\xF3n '${actionData.action}' ejecutada exitosamente`\r\n      };\r\n\r\n      const nextResponse = NextResponse.json(response);\r\n      addRateLimitHeaders(nextResponse, rateLimitResult);\r\n      return nextResponse;\r\n    }\r\n\r\n    // Actualizaci\xF3n normal\r\n    const updateData = UpdatePromotionSchema.parse(body);\r\n    const updatedPromotion = await updatePromotion(params.id, updateData, authResult.userId!);\r\n\r\n    // Registrar auditor\xEDa\r\n    await logAuditAction('update', params.id, authResult.userId!, updateData);\r\n\r\n    // Registrar m\xE9tricas\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'PUT',\r\n      statusCode: 200,\r\n      responseTime: Date.now() - startTime,\r\n      userId: authResult.userId\r\n    });\r\n\r\n    const response: ApiResponse<typeof updatedPromotion> = {\r\n      data: updatedPromotion,\r\n      success: true,\r\n      message: 'Promoci\xF3n actualizada exitosamente'\r\n    };\r\n\r\n    const nextResponse = NextResponse.json(response);\r\n    addRateLimitHeaders(nextResponse, rateLimitResult);\r\n    return nextResponse;\r\n\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error en PUT /api/admin/promotions/[id]', { error, promotionId: params.id });\r\n\r\n    // Registrar m\xE9tricas de error\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'PUT',\r\n      statusCode: 500,\r\n      responseTime: Date.now() - startTime,\r\n      error: error instanceof Error ? error.message : 'Unknown error'\r\n    });\r\n\r\n    const errorResponse: ApiResponse<null> = {\r\n      data: null,\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Error interno del servidor',\r\n    };\r\n\r\n    return NextResponse.json(errorResponse, { status: 500 });\r\n  }\r\n}\r\n\r\n// ===================================\r\n// DELETE - Eliminar promoci\xF3n\r\n// ===================================\r\nexport async function DELETE(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      {\r\n        windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,\r\n        maxRequests: Math.floor(RATE_LIMIT_CONFIGS.admin.maxRequests / 4),\r\n        message: 'Demasiadas eliminaciones de promoci\xF3n'\r\n      },\r\n      'admin-promotion-delete'\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { error: rateLimitResult.message },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult);\r\n      return response;\r\n    }\r\n\r\n    // Validar autenticaci\xF3n admin\r\n    const authResult = await validateAdminAuth();\r\n    if (authResult.error) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: authResult.error,\r\n      };\r\n      return NextResponse.json(errorResponse, { status: authResult.status });\r\n    }\r\n\r\n    // Validar ID de promoci\xF3n\r\n    if (!params.id || typeof params.id !== 'string') {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'ID de promoci\xF3n inv\xE1lido',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 400 });\r\n    }\r\n\r\n    // Verificar que la promoci\xF3n existe\r\n    const { data: existingPromotion } = await supabase\r\n      .from('promotions')\r\n      .select('id, name')\r\n      .eq('id', params.id)\r\n      .single();\r\n\r\n    if (!existingPromotion) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'Promoci\xF3n no encontrada',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 404 });\r\n    }\r\n\r\n    // Eliminar promoci\xF3n\r\n    const deleteResult = await deletePromotion(params.id);\r\n\r\n    // Registrar auditor\xEDa\r\n    await logAuditAction(\r\n      deleteResult.deleted ? 'delete' : 'deactivate', \r\n      params.id, \r\n      authResult.userId!, \r\n      { \r\n        promotion_name: existingPromotion.name,\r\n        deleted: deleteResult.deleted,\r\n        deactivated: deleteResult.deactivated\r\n      }\r\n    );\r\n\r\n    // Registrar m\xE9tricas\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'DELETE',\r\n      statusCode: 200,\r\n      responseTime: Date.now() - startTime,\r\n      userId: authResult.userId\r\n    });\r\n\r\n    const message = deleteResult.deleted \r\n      ? 'Promoci\xF3n eliminada exitosamente'\r\n      : 'Promoci\xF3n desactivada (ten\xEDa uso activo)';\r\n\r\n    const response: ApiResponse<typeof deleteResult> = {\r\n      data: deleteResult,\r\n      success: true,\r\n      message\r\n    };\r\n\r\n    const nextResponse = NextResponse.json(response);\r\n    addRateLimitHeaders(nextResponse, rateLimitResult);\r\n    return nextResponse;\r\n\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error en DELETE /api/admin/promotions/[id]', { error, promotionId: params.id });\r\n\r\n    // Registrar m\xE9tricas de error\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/promotions/[id]',\r\n      method: 'DELETE',\r\n      statusCode: 500,\r\n      responseTime: Date.now() - startTime,\r\n      error: error instanceof Error ? error.message : 'Unknown error'\r\n    });\r\n\r\n    const errorResponse: ApiResponse<null> = {\r\n      data: null,\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Error interno del servidor',\r\n    };\r\n\r\n    return NextResponse.json(errorResponse, { status: 500 });\r\n  }\r\n}"],
      names: ["DELETE", "GET", "PUT", "supabase", "createClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "SUPABASE_SERVICE_ROLE_KEY", "RATE_LIMIT_CONFIGS", "admin", "windowMs", "maxRequests", "message", "UpdatePromotionSchema", "z", "object", "name", "string", "min", "optional", "description", "type", "enum", "priority", "number", "int", "max", "discount_percentage", "discount_amount", "buy_quantity", "get_quantity", "get_discount_percentage", "bundle_products", "array", "product_id", "uuid", "quantity", "bundle_price", "minimum_order_amount", "maximum_discount_amount", "minimum_quantity", "applicable_to", "category_ids", "product_ids", "brand_ids", "exclude_sale_items", "boolean", "exclude_categories", "exclude_products", "usage_limit", "usage_limit_per_user", "starts_at", "ends_at", "is_active", "is_paused", "is_stackable", "requires_coupon_code", "coupon_code", "customer_groups", "first_time_customers_only", "banner_text", "banner_color", "show_on_product_page", "show_on_category_page", "show_on_homepage", "PromotionActionSchema", "action", "extend_days", "validateAdminAuth", "session", "auth", "user", "error", "status", "data", "profile", "from", "select", "eq", "id", "single", "includes", "role", "userId", "getPromotionById", "promotionId", "includeStats", "promotion", "Error", "now", "Date", "startsAt", "endsAt", "processedPromotion", "categories", "map", "pc", "category", "products", "pp", "product", "brands", "pb", "brand", "bp", "usageStats", "getPromotionUsageStats", "usage_stats", "usage", "totalUsage", "length", "uniqueUsers", "Set", "u", "user_id", "size", "totalDiscountGiven", "reduce", "sum", "orderIds", "order_id", "averageOrderValue", "orders", "in", "totalOrderValue", "o", "total_amount", "conversionRate", "thirtyDaysAgo", "setDate", "getDate", "recentUsage", "filter", "created_at", "acc", "date", "toISOString", "split", "usage_count", "discount_given", "recentUsageArray", "Object", "entries", "stats", "sort", "a", "b", "localeCompare", "total_usage", "unique_users", "total_discount_given", "average_order_value", "conversion_rate", "recent_usage", "updatePromotion", "updateData", "existingPromotion", "neq", "promotionUpdateData", "updatedPromotion", "updateError", "update", "updated_at", "undefined", "delete", "categoryInserts", "categoryId", "promotion_id", "category_id", "categoryError", "insert", "productInserts", "productId", "productError", "brandInserts", "brandId", "brand_id", "brandError", "bundleInserts", "item", "bundleError", "deletePromotion", "activeUsage", "limit", "deactivateError", "deleted", "deactivated", "Promise", "all", "deleteError", "duplicatePromotion", "originalPromotion", "duplicateData", "created_by", "creator", "newPromotion", "createError", "logAuditAction", "details", "table_name", "record_id", "changes", "logger", "log", "LogLevel", "WARN", "LogCategory", "AUDIT", "request", "params", "startTime", "rateLimitResult", "checkRateLimit", "success", "response", "NextResponse", "json", "addRateLimitHeaders", "authResult", "errorResponse", "searchParams", "URL", "url", "get", "metricsCollector", "recordApiCall", "endpoint", "method", "statusCode", "responseTime", "nextResponse", "ERROR", "API", "Math", "floor", "body", "actionData", "parse", "result", "new_promotion_id", "currentPromotion", "newEndDate", "new_end_date", "deleteResult", "promotion_name"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "771b688eae6883c43d54d1201244ab406ffcf59b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_23akv3pmqi = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_23akv3pmqi();
cov_23akv3pmqi().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[0]++;
  cov_23akv3pmqi().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_23akv3pmqi().s[3]++;
_export(exports, {
  get DELETE() {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[1]++;
    cov_23akv3pmqi().s[4]++;
    return DELETE;
  },
  get GET() {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[2]++;
    cov_23akv3pmqi().s[5]++;
    return GET;
  },
  get PUT() {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[3]++;
    cov_23akv3pmqi().s[6]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_23akv3pmqi().s[7]++, require("next/server"));
const _zod =
/* istanbul ignore next */
(cov_23akv3pmqi().s[8]++, require("zod"));
const _supabasejs =
/* istanbul ignore next */
(cov_23akv3pmqi().s[9]++, require("@supabase/supabase-js"));
const _auth =
/* istanbul ignore next */
(cov_23akv3pmqi().s[10]++, require("../../../../../auth"));
const _ratelimiter =
/* istanbul ignore next */
(cov_23akv3pmqi().s[11]++, require("../../../../../lib/enterprise/rate-limiter"));
const _logger =
/* istanbul ignore next */
(cov_23akv3pmqi().s[12]++, require("../../../../../lib/enterprise/logger"));
const _metrics =
/* istanbul ignore next */
(cov_23akv3pmqi().s[13]++, require("../../../../../lib/enterprise/metrics"));
// ===================================
// CONFIGURACIN
// ===================================
const supabase =
/* istanbul ignore next */
(cov_23akv3pmqi().s[14]++, (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY));
const RATE_LIMIT_CONFIGS =
/* istanbul ignore next */
(cov_23akv3pmqi().s[15]++, {
  admin: {
    windowMs: 15 * 60 * 1000,
    maxRequests: 50,
    message: 'Demasiadas solicitudes de promocin'
  }
});
// ===================================
// ESQUEMAS DE VALIDACIN
// ===================================
const UpdatePromotionSchema =
/* istanbul ignore next */
(cov_23akv3pmqi().s[16]++, _zod.z.object({
  name: _zod.z.string().min(1, 'El nombre es requerido').optional(),
  description: _zod.z.string().optional(),
  type: _zod.z.enum(['percentage_discount', 'fixed_discount', 'buy_x_get_y', 'free_shipping', 'bundle_deal']).optional(),
  priority: _zod.z.number().int().min(1).max(100).optional(),
  // Configuracin de descuento
  discount_percentage: _zod.z.number().min(0).max(100).optional(),
  discount_amount: _zod.z.number().min(0).optional(),
  // Configuracin Buy X Get Y
  buy_quantity: _zod.z.number().int().min(1).optional(),
  get_quantity: _zod.z.number().int().min(1).optional(),
  get_discount_percentage: _zod.z.number().min(0).max(100).optional(),
  // Configuracin de bundle
  bundle_products: _zod.z.array(_zod.z.object({
    product_id: _zod.z.string().uuid(),
    quantity: _zod.z.number().int().min(1)
  })).optional(),
  bundle_price: _zod.z.number().min(0).optional(),
  // Condiciones
  minimum_order_amount: _zod.z.number().min(0).optional(),
  maximum_discount_amount: _zod.z.number().min(0).optional(),
  minimum_quantity: _zod.z.number().int().min(1).optional(),
  // Aplicabilidad
  applicable_to: _zod.z.enum(['all', 'categories', 'products', 'brands']).optional(),
  category_ids: _zod.z.array(_zod.z.string().uuid()).optional(),
  product_ids: _zod.z.array(_zod.z.string().uuid()).optional(),
  brand_ids: _zod.z.array(_zod.z.string().uuid()).optional(),
  // Exclusiones
  exclude_sale_items: _zod.z.boolean().optional(),
  exclude_categories: _zod.z.array(_zod.z.string().uuid()).optional(),
  exclude_products: _zod.z.array(_zod.z.string().uuid()).optional(),
  // Lmites de uso
  usage_limit: _zod.z.number().int().min(1).optional(),
  usage_limit_per_user: _zod.z.number().int().min(1).optional(),
  // Fechas
  starts_at: _zod.z.string().optional(),
  ends_at: _zod.z.string().optional(),
  // Configuracin
  is_active: _zod.z.boolean().optional(),
  is_paused: _zod.z.boolean().optional(),
  is_stackable: _zod.z.boolean().optional(),
  requires_coupon_code: _zod.z.boolean().optional(),
  coupon_code: _zod.z.string().optional(),
  // Targeting
  customer_groups: _zod.z.array(_zod.z.string()).optional(),
  first_time_customers_only: _zod.z.boolean().optional(),
  // Display
  banner_text: _zod.z.string().optional(),
  banner_color: _zod.z.string().optional(),
  show_on_product_page: _zod.z.boolean().optional(),
  show_on_category_page: _zod.z.boolean().optional(),
  show_on_homepage: _zod.z.boolean().optional()
}));
const PromotionActionSchema =
/* istanbul ignore next */
(cov_23akv3pmqi().s[17]++, _zod.z.object({
  action: _zod.z.enum(['activate', 'deactivate', 'pause', 'resume', 'duplicate', 'extend']),
  extend_days: _zod.z.number().int().min(1).optional()
}));
// ===================================
// FUNCIONES AUXILIARES
// ===================================
async function validateAdminAuth() {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[4]++;
  const session =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[18]++, await (0, _auth.auth)());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[19]++;
  if (!session?.user) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[0][0]++;
    cov_23akv3pmqi().s[20]++;
    return {
      error: 'No autorizado',
      status: 401
    };
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[0][1]++;
  }
  // Verificar rol de administrador o manager
  const {
    data: profile
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[21]++, await supabase.from('profiles').select('role').eq('id', session.user.id).single());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[22]++;
  if (!['admin', 'manager'].includes(profile?.role)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[1][0]++;
    cov_23akv3pmqi().s[23]++;
    return {
      error: 'Acceso denegado',
      status: 403
    };
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[1][1]++;
  }
  cov_23akv3pmqi().s[24]++;
  return {
    userId: session.user.id,
    role: profile.role
  };
}
async function getPromotionById(promotionId, includeStats =
/* istanbul ignore next */
(cov_23akv3pmqi().b[2][0]++, false)) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[5]++;
  // Obtener promocin con relaciones
  const {
    data: promotion,
    error
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[25]++, await supabase.from('promotions').select(`
      *,
      categories:promotion_categories!promotion_categories_promotion_id_fkey(
        category:categories!promotion_categories_category_id_fkey(
          id,
          name
        )
      ),
      products:promotion_products!promotion_products_promotion_id_fkey(
        product:products!promotion_products_product_id_fkey(
          id,
          name,
          sku
        )
      ),
      brands:promotion_brands!promotion_brands_promotion_id_fkey(
        brand:brands!promotion_brands_brand_id_fkey(
          id,
          name
        )
      ),
      bundle_products:promotion_bundle_products!promotion_bundle_products_promotion_id_fkey(
        product_id,
        quantity,
        product:products!promotion_bundle_products_product_id_fkey(
          name,
          sku,
          price
        )
      ),
      creator:profiles!promotions_created_by_fkey(
        full_name,
        email
      )
    `).eq('id', promotionId).single());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[26]++;
  if (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[3][0]++;
    cov_23akv3pmqi().s[27]++;
    throw new Error(`Error al obtener promocin: ${error.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[3][1]++;
  }
  cov_23akv3pmqi().s[28]++;
  if (!promotion) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[4][0]++;
    cov_23akv3pmqi().s[29]++;
    throw new Error('Promocin no encontrada');
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[4][1]++;
  }
  // Calcular estado
  const now =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[30]++, new Date());
  const startsAt =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[31]++, new Date(promotion.starts_at));
  const endsAt =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[32]++, promotion.ends_at ?
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[5][0]++, new Date(promotion.ends_at)) :
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[5][1]++, null));
  let status;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[33]++;
  if (promotion.is_paused) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[6][0]++;
    cov_23akv3pmqi().s[34]++;
    status = 'paused';
  } else {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[6][1]++;
    cov_23akv3pmqi().s[35]++;
    if (!promotion.is_active) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[7][0]++;
      cov_23akv3pmqi().s[36]++;
      status = 'inactive';
    } else {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[7][1]++;
      cov_23akv3pmqi().s[37]++;
      if (now < startsAt) {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[8][0]++;
        cov_23akv3pmqi().s[38]++;
        status = 'scheduled';
      } else {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[8][1]++;
        cov_23akv3pmqi().s[39]++;
        if (
        /* istanbul ignore next */
        (cov_23akv3pmqi().b[10][0]++, endsAt) &&
        /* istanbul ignore next */
        (cov_23akv3pmqi().b[10][1]++, now > endsAt)) {
          /* istanbul ignore next */
          cov_23akv3pmqi().b[9][0]++;
          cov_23akv3pmqi().s[40]++;
          status = 'expired';
        } else {
          /* istanbul ignore next */
          cov_23akv3pmqi().b[9][1]++;
          cov_23akv3pmqi().s[41]++;
          status = 'active';
        }
      }
    }
  }
  // Procesar datos
  const processedPromotion =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[42]++, {
    ...promotion,
    status,
    categories:
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[11][0]++, promotion.categories?.map(pc => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[6]++;
      cov_23akv3pmqi().s[43]++;
      return pc.category;
    })) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[11][1]++, []),
    products:
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[12][0]++, promotion.products?.map(pp => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[7]++;
      cov_23akv3pmqi().s[44]++;
      return pp.product;
    })) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[12][1]++, []),
    brands:
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[13][0]++, promotion.brands?.map(pb => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[8]++;
      cov_23akv3pmqi().s[45]++;
      return pb.brand;
    })) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[13][1]++, []),
    bundle_products:
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[14][0]++, promotion.bundle_products?.map(bp => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[9]++;
      cov_23akv3pmqi().s[46]++;
      return {
        product_id: bp.product_id,
        quantity: bp.quantity,
        product: bp.product
      };
    })) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[14][1]++, [])
  });
  // Incluir estadsticas si se solicita
  /* istanbul ignore next */
  cov_23akv3pmqi().s[47]++;
  if (includeStats) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[15][0]++;
    const usageStats =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[48]++, await getPromotionUsageStats(promotionId));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[49]++;
    processedPromotion.usage_stats = usageStats;
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[15][1]++;
  }
  cov_23akv3pmqi().s[50]++;
  return processedPromotion;
}
async function getPromotionUsageStats(promotionId) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[10]++;
  // Obtener uso de la promocin
  const {
    data: usage,
    error
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[51]++, await supabase.from('promotion_usage').select('*').eq('promotion_id', promotionId));
  /* istanbul ignore next */
  cov_23akv3pmqi().s[52]++;
  if (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[16][0]++;
    cov_23akv3pmqi().s[53]++;
    throw new Error(`Error al obtener estadsticas de uso: ${error.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[16][1]++;
  }
  const totalUsage =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[54]++,
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[17][0]++, usage?.length) ||
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[17][1]++, 0));
  const uniqueUsers =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[55]++, new Set(
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[18][0]++, usage?.map(u => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[11]++;
    cov_23akv3pmqi().s[56]++;
    return u.user_id;
  })) ||
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[18][1]++, [])).size);
  const totalDiscountGiven =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[57]++, (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[19][0]++, usage) ||
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[19][1]++, [])).reduce((sum, u) => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[12]++;
    cov_23akv3pmqi().s[58]++;
    return sum + (
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[20][0]++, u.discount_amount) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[20][1]++, 0));
  }, 0));
  // Calcular valor promedio de orden
  const orderIds =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[59]++, [...new Set(
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[21][0]++, usage?.map(u => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[13]++;
    cov_23akv3pmqi().s[60]++;
    return u.order_id;
  })) ||
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[21][1]++, []))]);
  let averageOrderValue =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[61]++, 0);
  /* istanbul ignore next */
  cov_23akv3pmqi().s[62]++;
  if (orderIds.length > 0) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[22][0]++;
    const {
      data: orders
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[63]++, await supabase.from('orders').select('total_amount').in('id', orderIds));
    const totalOrderValue =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[64]++, (
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[23][0]++, orders) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[23][1]++, [])).reduce((sum, o) => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[14]++;
      cov_23akv3pmqi().s[65]++;
      return sum + o.total_amount;
    }, 0));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[66]++;
    averageOrderValue = totalOrderValue / orderIds.length;
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[22][1]++;
  }
  // Calcular tasa de conversin (simplificada)
  const conversionRate =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[67]++, uniqueUsers > 0 ?
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[24][0]++, orderIds.length / uniqueUsers * 100) :
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[24][1]++, 0));
  // Uso reciente (ltimos 30 das)
  const thirtyDaysAgo =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[68]++, new Date());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[69]++;
  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
  const recentUsage =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[70]++, (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[25][0]++, usage) ||
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[25][1]++, [])).filter(u => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[15]++;
    cov_23akv3pmqi().s[71]++;
    return new Date(u.created_at) >= thirtyDaysAgo;
  }).reduce((acc, u) => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[16]++;
    const date =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[72]++, new Date(u.created_at).toISOString().split('T')[0]);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[73]++;
    if (!acc[date]) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[26][0]++;
      cov_23akv3pmqi().s[74]++;
      acc[date] = {
        usage_count: 0,
        discount_given: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[26][1]++;
    }
    cov_23akv3pmqi().s[75]++;
    acc[date].usage_count++;
    /* istanbul ignore next */
    cov_23akv3pmqi().s[76]++;
    acc[date].discount_given +=
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[27][0]++, u.discount_amount) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[27][1]++, 0);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[77]++;
    return acc;
  }, {}));
  const recentUsageArray =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[78]++, Object.entries(recentUsage).map(([date, stats]) => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[17]++;
    cov_23akv3pmqi().s[79]++;
    return {
      date,
      ...stats
    };
  }).sort((a, b) => {
    /* istanbul ignore next */
    cov_23akv3pmqi().f[18]++;
    cov_23akv3pmqi().s[80]++;
    return a.date.localeCompare(b.date);
  }));
  /* istanbul ignore next */
  cov_23akv3pmqi().s[81]++;
  return {
    total_usage: totalUsage,
    unique_users: uniqueUsers,
    total_discount_given: totalDiscountGiven,
    average_order_value: averageOrderValue,
    conversion_rate: conversionRate,
    recent_usage: recentUsageArray
  };
}
async function updatePromotion(promotionId, updateData, userId) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[19]++;
  cov_23akv3pmqi().s[82]++;
  // Validar fechas si se proporcionan
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[29][0]++, updateData.starts_at) &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[29][1]++, updateData.ends_at)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[28][0]++;
    const startsAt =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[83]++, new Date(updateData.starts_at));
    const endsAt =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[84]++, new Date(updateData.ends_at));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[85]++;
    if (startsAt >= endsAt) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[30][0]++;
      cov_23akv3pmqi().s[86]++;
      throw new Error('La fecha de inicio debe ser anterior a la fecha de finalizacin');
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[30][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[28][1]++;
  }
  // Validar cdigo de cupn si se cambia
  cov_23akv3pmqi().s[87]++;
  if (updateData.coupon_code) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[31][0]++;
    const {
      data: existingPromotion
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[88]++, await supabase.from('promotions').select('id').eq('coupon_code', updateData.coupon_code).neq('id', promotionId).single());
    /* istanbul ignore next */
    cov_23akv3pmqi().s[89]++;
    if (existingPromotion) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[32][0]++;
      cov_23akv3pmqi().s[90]++;
      throw new Error('Ya existe otra promocin con este cdigo de cupn');
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[32][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[31][1]++;
  }
  // Separar datos de relaciones
  const {
    category_ids,
    product_ids,
    brand_ids,
    bundle_products,
    ...promotionUpdateData
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[91]++, updateData);
  // Actualizar promocin principal
  const {
    data: updatedPromotion,
    error: updateError
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[92]++, await supabase.from('promotions').update({
    ...promotionUpdateData,
    updated_at: new Date().toISOString()
  }).eq('id', promotionId).select().single());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[93]++;
  if (updateError) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[33][0]++;
    cov_23akv3pmqi().s[94]++;
    throw new Error(`Error al actualizar promocin: ${updateError.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[33][1]++;
  }
  // Actualizar relaciones si se proporcionan
  cov_23akv3pmqi().s[95]++;
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[35][0]++, updateData.applicable_to === 'categories') &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[35][1]++, category_ids !== undefined)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[34][0]++;
    cov_23akv3pmqi().s[96]++;
    // Eliminar relaciones existentes
    await supabase.from('promotion_categories').delete().eq('promotion_id', promotionId);
    // Crear nuevas relaciones
    /* istanbul ignore next */
    cov_23akv3pmqi().s[97]++;
    if (category_ids.length > 0) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[36][0]++;
      const categoryInserts =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[98]++, category_ids.map(categoryId => {
        /* istanbul ignore next */
        cov_23akv3pmqi().f[20]++;
        cov_23akv3pmqi().s[99]++;
        return {
          promotion_id: promotionId,
          category_id: categoryId
        };
      }));
      const {
        error: categoryError
      } =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[100]++, await supabase.from('promotion_categories').insert(categoryInserts));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[101]++;
      if (categoryError) {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[37][0]++;
        cov_23akv3pmqi().s[102]++;
        throw new Error(`Error al actualizar categoras: ${categoryError.message}`);
      } else
      /* istanbul ignore next */
      {
        cov_23akv3pmqi().b[37][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[36][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[34][1]++;
  }
  cov_23akv3pmqi().s[103]++;
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[39][0]++, updateData.applicable_to === 'products') &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[39][1]++, product_ids !== undefined)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[38][0]++;
    cov_23akv3pmqi().s[104]++;
    // Eliminar relaciones existentes
    await supabase.from('promotion_products').delete().eq('promotion_id', promotionId);
    // Crear nuevas relaciones
    /* istanbul ignore next */
    cov_23akv3pmqi().s[105]++;
    if (product_ids.length > 0) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[40][0]++;
      const productInserts =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[106]++, product_ids.map(productId => {
        /* istanbul ignore next */
        cov_23akv3pmqi().f[21]++;
        cov_23akv3pmqi().s[107]++;
        return {
          promotion_id: promotionId,
          product_id: productId
        };
      }));
      const {
        error: productError
      } =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[108]++, await supabase.from('promotion_products').insert(productInserts));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[109]++;
      if (productError) {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[41][0]++;
        cov_23akv3pmqi().s[110]++;
        throw new Error(`Error al actualizar productos: ${productError.message}`);
      } else
      /* istanbul ignore next */
      {
        cov_23akv3pmqi().b[41][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[40][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[38][1]++;
  }
  cov_23akv3pmqi().s[111]++;
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[43][0]++, updateData.applicable_to === 'brands') &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[43][1]++, brand_ids !== undefined)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[42][0]++;
    cov_23akv3pmqi().s[112]++;
    // Eliminar relaciones existentes
    await supabase.from('promotion_brands').delete().eq('promotion_id', promotionId);
    // Crear nuevas relaciones
    /* istanbul ignore next */
    cov_23akv3pmqi().s[113]++;
    if (brand_ids.length > 0) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[44][0]++;
      const brandInserts =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[114]++, brand_ids.map(brandId => {
        /* istanbul ignore next */
        cov_23akv3pmqi().f[22]++;
        cov_23akv3pmqi().s[115]++;
        return {
          promotion_id: promotionId,
          brand_id: brandId
        };
      }));
      const {
        error: brandError
      } =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[116]++, await supabase.from('promotion_brands').insert(brandInserts));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[117]++;
      if (brandError) {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[45][0]++;
        cov_23akv3pmqi().s[118]++;
        throw new Error(`Error al actualizar marcas: ${brandError.message}`);
      } else
      /* istanbul ignore next */
      {
        cov_23akv3pmqi().b[45][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[44][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[42][1]++;
  }
  // Actualizar productos del bundle si aplica
  cov_23akv3pmqi().s[119]++;
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[47][0]++, updateData.type === 'bundle_deal') &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[47][1]++, bundle_products !== undefined)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[46][0]++;
    cov_23akv3pmqi().s[120]++;
    // Eliminar productos del bundle existentes
    await supabase.from('promotion_bundle_products').delete().eq('promotion_id', promotionId);
    // Crear nuevos productos del bundle
    /* istanbul ignore next */
    cov_23akv3pmqi().s[121]++;
    if (bundle_products.length > 0) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[48][0]++;
      const bundleInserts =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[122]++, bundle_products.map(item => {
        /* istanbul ignore next */
        cov_23akv3pmqi().f[23]++;
        cov_23akv3pmqi().s[123]++;
        return {
          promotion_id: promotionId,
          product_id: item.product_id,
          quantity: item.quantity
        };
      }));
      const {
        error: bundleError
      } =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[124]++, await supabase.from('promotion_bundle_products').insert(bundleInserts));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[125]++;
      if (bundleError) {
        /* istanbul ignore next */
        cov_23akv3pmqi().b[49][0]++;
        cov_23akv3pmqi().s[126]++;
        throw new Error(`Error al actualizar bundle de productos: ${bundleError.message}`);
      } else
      /* istanbul ignore next */
      {
        cov_23akv3pmqi().b[49][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[48][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[46][1]++;
  }
  cov_23akv3pmqi().s[127]++;
  return updatedPromotion;
}
async function deletePromotion(promotionId) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[24]++;
  // Verificar si la promocin tiene uso activo
  const {
    data: activeUsage
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[128]++, await supabase.from('promotion_usage').select('id').eq('promotion_id', promotionId).limit(1));
  /* istanbul ignore next */
  cov_23akv3pmqi().s[129]++;
  if (
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[51][0]++, activeUsage) &&
  /* istanbul ignore next */
  (cov_23akv3pmqi().b[51][1]++, activeUsage.length > 0)) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[50][0]++;
    // En lugar de eliminar, desactivar la promocin
    const {
      error: deactivateError
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[130]++, await supabase.from('promotions').update({
      is_active: false,
      updated_at: new Date().toISOString()
    }).eq('id', promotionId));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[131]++;
    if (deactivateError) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[52][0]++;
      cov_23akv3pmqi().s[132]++;
      throw new Error(`Error al desactivar promocin: ${deactivateError.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[52][1]++;
    }
    cov_23akv3pmqi().s[133]++;
    return {
      deleted: false,
      deactivated: true
    };
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[50][1]++;
  }
  // Eliminar relaciones primero
  cov_23akv3pmqi().s[134]++;
  await Promise.all([supabase.from('promotion_categories').delete().eq('promotion_id', promotionId), supabase.from('promotion_products').delete().eq('promotion_id', promotionId), supabase.from('promotion_brands').delete().eq('promotion_id', promotionId), supabase.from('promotion_bundle_products').delete().eq('promotion_id', promotionId)]);
  // Eliminar promocin
  const {
    error: deleteError
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[135]++, await supabase.from('promotions').delete().eq('id', promotionId));
  /* istanbul ignore next */
  cov_23akv3pmqi().s[136]++;
  if (deleteError) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[53][0]++;
    cov_23akv3pmqi().s[137]++;
    throw new Error(`Error al eliminar promocin: ${deleteError.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[53][1]++;
  }
  cov_23akv3pmqi().s[138]++;
  return {
    deleted: true,
    deactivated: false
  };
}
async function duplicatePromotion(promotionId, userId) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[25]++;
  // Obtener promocin original
  const originalPromotion =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[139]++, await getPromotionById(promotionId));
  // Preparar datos para duplicacin
  const duplicateData =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[140]++, {
    ...originalPromotion,
    name: `${originalPromotion.name} (Copia)`,
    coupon_code: originalPromotion.coupon_code ?
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[54][0]++, `${originalPromotion.coupon_code}_COPY`) :
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[54][1]++, undefined),
    is_active: false,
    usage_count: 0,
    created_by: userId,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString()
  });
  // Remover campos que no deben duplicarse
  /* istanbul ignore next */
  cov_23akv3pmqi().s[141]++;
  delete duplicateData.id;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[142]++;
  delete duplicateData.status;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[143]++;
  delete duplicateData.categories;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[144]++;
  delete duplicateData.products;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[145]++;
  delete duplicateData.brands;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[146]++;
  delete duplicateData.bundle_products;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[147]++;
  delete duplicateData.creator;
  /* istanbul ignore next */
  cov_23akv3pmqi().s[148]++;
  delete duplicateData.usage_stats;
  // Crear nueva promocin
  const {
    data: newPromotion,
    error: createError
  } =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[149]++, await supabase.from('promotions').insert(duplicateData).select().single());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[150]++;
  if (createError) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[55][0]++;
    cov_23akv3pmqi().s[151]++;
    throw new Error(`Error al duplicar promocin: ${createError.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[55][1]++;
  }
  // Duplicar relaciones
  cov_23akv3pmqi().s[152]++;
  if (originalPromotion.categories?.length) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[56][0]++;
    const categoryInserts =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[153]++, originalPromotion.categories.map(category => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[26]++;
      cov_23akv3pmqi().s[154]++;
      return {
        promotion_id: newPromotion.id,
        category_id: category.id
      };
    }));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[155]++;
    await supabase.from('promotion_categories').insert(categoryInserts);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[56][1]++;
  }
  cov_23akv3pmqi().s[156]++;
  if (originalPromotion.products?.length) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[57][0]++;
    const productInserts =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[157]++, originalPromotion.products.map(product => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[27]++;
      cov_23akv3pmqi().s[158]++;
      return {
        promotion_id: newPromotion.id,
        product_id: product.id
      };
    }));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[159]++;
    await supabase.from('promotion_products').insert(productInserts);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[57][1]++;
  }
  cov_23akv3pmqi().s[160]++;
  if (originalPromotion.brands?.length) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[58][0]++;
    const brandInserts =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[161]++, originalPromotion.brands.map(brand => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[28]++;
      cov_23akv3pmqi().s[162]++;
      return {
        promotion_id: newPromotion.id,
        brand_id: brand.id
      };
    }));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[163]++;
    await supabase.from('promotion_brands').insert(brandInserts);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[58][1]++;
  }
  cov_23akv3pmqi().s[164]++;
  if (originalPromotion.bundle_products?.length) {
    /* istanbul ignore next */
    cov_23akv3pmqi().b[59][0]++;
    const bundleInserts =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[165]++, originalPromotion.bundle_products.map(item => {
      /* istanbul ignore next */
      cov_23akv3pmqi().f[29]++;
      cov_23akv3pmqi().s[166]++;
      return {
        promotion_id: newPromotion.id,
        product_id: item.product_id,
        quantity: item.quantity
      };
    }));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[167]++;
    await supabase.from('promotion_bundle_products').insert(bundleInserts);
  } else
  /* istanbul ignore next */
  {
    cov_23akv3pmqi().b[59][1]++;
  }
  cov_23akv3pmqi().s[168]++;
  return newPromotion;
}
async function logAuditAction(action, promotionId, userId, details) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[30]++;
  cov_23akv3pmqi().s[169]++;
  try {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[170]++;
    await supabase.from('audit_logs').insert({
      table_name: 'promotions',
      record_id: promotionId,
      action,
      user_id: userId,
      changes: details,
      created_at: new Date().toISOString()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[171]++;
    _logger.logger.log(_logger.LogLevel.WARN, _logger.LogCategory.AUDIT, 'Error al registrar auditora', {
      error
    });
  }
}
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[31]++;
  const startTime =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[172]++, Date.now());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[173]++;
  try {
    // Rate limiting
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[174]++, await (0, _ratelimiter.checkRateLimit)(request, {
      windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,
      maxRequests: RATE_LIMIT_CONFIGS.admin.maxRequests,
      message: RATE_LIMIT_CONFIGS.admin.message
    }, 'admin-promotion-detail'));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[175]++;
    if (!rateLimitResult.success) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[60][0]++;
      const response =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[176]++, _server.NextResponse.json({
        error: rateLimitResult.message
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[177]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
      /* istanbul ignore next */
      cov_23akv3pmqi().s[178]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[60][1]++;
    }
    // Validar autenticacin admin
    const authResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[179]++, await validateAdminAuth());
    /* istanbul ignore next */
    cov_23akv3pmqi().s[180]++;
    if (authResult.error) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[61][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[181]++, {
        data: null,
        success: false,
        error: authResult.error
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[182]++;
      return _server.NextResponse.json(errorResponse, {
        status: authResult.status
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[61][1]++;
    }
    // Validar ID de promocin
    cov_23akv3pmqi().s[183]++;
    if (
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[63][0]++, !params.id) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[63][1]++, typeof params.id !== 'string')) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[62][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[184]++, {
        data: null,
        success: false,
        error: 'ID de promocin invlido'
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[185]++;
      return _server.NextResponse.json(errorResponse, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[62][1]++;
    }
    // Verificar si se solicitan estadsticas
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[186]++, new URL(request.url));
    const includeStats =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[187]++, searchParams.get('include_stats') === 'true');
    // Obtener promocin
    const promotion =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[188]++, await getPromotionById(params.id, includeStats));
    // Registrar mtricas
    /* istanbul ignore next */
    cov_23akv3pmqi().s[189]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'GET',
      statusCode: 200,
      responseTime: Date.now() - startTime,
      userId: authResult.userId
    });
    const response =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[190]++, {
      data: promotion,
      success: true,
      message: 'Promocin obtenida exitosamente'
    });
    const nextResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[191]++, _server.NextResponse.json(response));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[192]++;
    (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[193]++;
    return nextResponse;
  } catch (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[194]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en GET /api/admin/promotions/[id]', {
      error,
      promotionId: params.id
    });
    // Registrar mtricas de error
    /* istanbul ignore next */
    cov_23akv3pmqi().s[195]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'GET',
      statusCode:
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[65][0]++, error instanceof Error) &&
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[65][1]++, error.message.includes('no encontrada')) ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[64][0]++, 404) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[64][1]++, 500),
      responseTime: Date.now() - startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[66][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[66][1]++, 'Unknown error')
    });
    const statusCode =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[196]++,
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[68][0]++, error instanceof Error) &&
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[68][1]++, error.message.includes('no encontrada')) ?
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[67][0]++, 404) :
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[67][1]++, 500));
    const errorResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[197]++, {
      data: null,
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[69][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[69][1]++, 'Error interno del servidor')
    });
    /* istanbul ignore next */
    cov_23akv3pmqi().s[198]++;
    return _server.NextResponse.json(errorResponse, {
      status: statusCode
    });
  }
}
async function PUT(request, {
  params
}) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[32]++;
  const startTime =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[199]++, Date.now());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[200]++;
  try {
    // Rate limiting
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[201]++, await (0, _ratelimiter.checkRateLimit)(request, {
      windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,
      maxRequests: Math.floor(RATE_LIMIT_CONFIGS.admin.maxRequests / 2),
      message: 'Demasiadas actualizaciones de promocin'
    }, 'admin-promotion-update'));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[202]++;
    if (!rateLimitResult.success) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[70][0]++;
      const response =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[203]++, _server.NextResponse.json({
        error: rateLimitResult.message
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[204]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
      /* istanbul ignore next */
      cov_23akv3pmqi().s[205]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[70][1]++;
    }
    // Validar autenticacin admin
    const authResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[206]++, await validateAdminAuth());
    /* istanbul ignore next */
    cov_23akv3pmqi().s[207]++;
    if (authResult.error) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[71][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[208]++, {
        data: null,
        success: false,
        error: authResult.error
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[209]++;
      return _server.NextResponse.json(errorResponse, {
        status: authResult.status
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[71][1]++;
    }
    // Validar ID de promocin
    cov_23akv3pmqi().s[210]++;
    if (
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[73][0]++, !params.id) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[73][1]++, typeof params.id !== 'string')) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[72][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[211]++, {
        data: null,
        success: false,
        error: 'ID de promocin invlido'
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[212]++;
      return _server.NextResponse.json(errorResponse, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[72][1]++;
    }
    // Validar datos de entrada
    const body =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[213]++, await request.json());
    const {
      action
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[214]++, body);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[215]++;
    if (action) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[74][0]++;
      // Manejar acciones especiales
      const actionData =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[216]++, PromotionActionSchema.parse(body));
      let result;
      /* istanbul ignore next */
      cov_23akv3pmqi().s[217]++;
      switch (actionData.action) {
        case 'activate':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][0]++;
          cov_23akv3pmqi().s[218]++;
          result = await updatePromotion(params.id, {
            is_active: true,
            is_paused: false
          }, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[219]++;
          await logAuditAction('activate', params.id, authResult.userId, {
            action: 'activate'
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[220]++;
          break;
        case 'deactivate':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][1]++;
          cov_23akv3pmqi().s[221]++;
          result = await updatePromotion(params.id, {
            is_active: false
          }, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[222]++;
          await logAuditAction('deactivate', params.id, authResult.userId, {
            action: 'deactivate'
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[223]++;
          break;
        case 'pause':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][2]++;
          cov_23akv3pmqi().s[224]++;
          result = await updatePromotion(params.id, {
            is_paused: true
          }, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[225]++;
          await logAuditAction('pause', params.id, authResult.userId, {
            action: 'pause'
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[226]++;
          break;
        case 'resume':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][3]++;
          cov_23akv3pmqi().s[227]++;
          result = await updatePromotion(params.id, {
            is_paused: false
          }, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[228]++;
          await logAuditAction('resume', params.id, authResult.userId, {
            action: 'resume'
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[229]++;
          break;
        case 'duplicate':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][4]++;
          cov_23akv3pmqi().s[230]++;
          result = await duplicatePromotion(params.id, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[231]++;
          await logAuditAction('duplicate', params.id, authResult.userId, {
            new_promotion_id: result.id
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[232]++;
          break;
        case 'extend':
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][5]++;
          cov_23akv3pmqi().s[233]++;
          if (!actionData.extend_days) {
            /* istanbul ignore next */
            cov_23akv3pmqi().b[76][0]++;
            cov_23akv3pmqi().s[234]++;
            throw new Error('Das de extensin requeridos');
          } else
          /* istanbul ignore next */
          {
            cov_23akv3pmqi().b[76][1]++;
          }
          const {
            data: currentPromotion
          } =
          /* istanbul ignore next */
          (cov_23akv3pmqi().s[235]++, await supabase.from('promotions').select('ends_at').eq('id', params.id).single());
          /* istanbul ignore next */
          cov_23akv3pmqi().s[236]++;
          if (!currentPromotion?.ends_at) {
            /* istanbul ignore next */
            cov_23akv3pmqi().b[77][0]++;
            cov_23akv3pmqi().s[237]++;
            throw new Error('La promocin no tiene fecha de finalizacin');
          } else
          /* istanbul ignore next */
          {
            cov_23akv3pmqi().b[77][1]++;
          }
          const newEndDate =
          /* istanbul ignore next */
          (cov_23akv3pmqi().s[238]++, new Date(currentPromotion.ends_at));
          /* istanbul ignore next */
          cov_23akv3pmqi().s[239]++;
          newEndDate.setDate(newEndDate.getDate() + actionData.extend_days);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[240]++;
          result = await updatePromotion(params.id, {
            ends_at: newEndDate.toISOString()
          }, authResult.userId);
          /* istanbul ignore next */
          cov_23akv3pmqi().s[241]++;
          await logAuditAction('extend', params.id, authResult.userId, {
            extend_days: actionData.extend_days,
            new_end_date: newEndDate.toISOString()
          });
          /* istanbul ignore next */
          cov_23akv3pmqi().s[242]++;
          break;
        default:
          /* istanbul ignore next */
          cov_23akv3pmqi().b[75][6]++;
          cov_23akv3pmqi().s[243]++;
          throw new Error('Accin no vlida');
      }
      // Registrar mtricas
      /* istanbul ignore next */
      cov_23akv3pmqi().s[244]++;
      _metrics.metricsCollector.recordApiCall({
        endpoint: '/api/admin/promotions/[id]',
        method: 'PUT',
        statusCode: 200,
        responseTime: Date.now() - startTime,
        userId: authResult.userId
      });
      const response =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[245]++, {
        data: result,
        success: true,
        message: `Accin '${actionData.action}' ejecutada exitosamente`
      });
      const nextResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[246]++, _server.NextResponse.json(response));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[247]++;
      (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
      /* istanbul ignore next */
      cov_23akv3pmqi().s[248]++;
      return nextResponse;
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[74][1]++;
    }
    // Actualizacin normal
    const updateData =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[249]++, UpdatePromotionSchema.parse(body));
    const updatedPromotion =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[250]++, await updatePromotion(params.id, updateData, authResult.userId));
    // Registrar auditora
    /* istanbul ignore next */
    cov_23akv3pmqi().s[251]++;
    await logAuditAction('update', params.id, authResult.userId, updateData);
    // Registrar mtricas
    /* istanbul ignore next */
    cov_23akv3pmqi().s[252]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'PUT',
      statusCode: 200,
      responseTime: Date.now() - startTime,
      userId: authResult.userId
    });
    const response =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[253]++, {
      data: updatedPromotion,
      success: true,
      message: 'Promocin actualizada exitosamente'
    });
    const nextResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[254]++, _server.NextResponse.json(response));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[255]++;
    (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[256]++;
    return nextResponse;
  } catch (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[257]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en PUT /api/admin/promotions/[id]', {
      error,
      promotionId: params.id
    });
    // Registrar mtricas de error
    /* istanbul ignore next */
    cov_23akv3pmqi().s[258]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'PUT',
      statusCode: 500,
      responseTime: Date.now() - startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[78][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[78][1]++, 'Unknown error')
    });
    const errorResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[259]++, {
      data: null,
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[79][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[79][1]++, 'Error interno del servidor')
    });
    /* istanbul ignore next */
    cov_23akv3pmqi().s[260]++;
    return _server.NextResponse.json(errorResponse, {
      status: 500
    });
  }
}
async function DELETE(request, {
  params
}) {
  /* istanbul ignore next */
  cov_23akv3pmqi().f[33]++;
  const startTime =
  /* istanbul ignore next */
  (cov_23akv3pmqi().s[261]++, Date.now());
  /* istanbul ignore next */
  cov_23akv3pmqi().s[262]++;
  try {
    // Rate limiting
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[263]++, await (0, _ratelimiter.checkRateLimit)(request, {
      windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,
      maxRequests: Math.floor(RATE_LIMIT_CONFIGS.admin.maxRequests / 4),
      message: 'Demasiadas eliminaciones de promocin'
    }, 'admin-promotion-delete'));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[264]++;
    if (!rateLimitResult.success) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[80][0]++;
      const response =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[265]++, _server.NextResponse.json({
        error: rateLimitResult.message
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_23akv3pmqi().s[266]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
      /* istanbul ignore next */
      cov_23akv3pmqi().s[267]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[80][1]++;
    }
    // Validar autenticacin admin
    const authResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[268]++, await validateAdminAuth());
    /* istanbul ignore next */
    cov_23akv3pmqi().s[269]++;
    if (authResult.error) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[81][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[270]++, {
        data: null,
        success: false,
        error: authResult.error
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[271]++;
      return _server.NextResponse.json(errorResponse, {
        status: authResult.status
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[81][1]++;
    }
    // Validar ID de promocin
    cov_23akv3pmqi().s[272]++;
    if (
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[83][0]++, !params.id) ||
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[83][1]++, typeof params.id !== 'string')) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[82][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[273]++, {
        data: null,
        success: false,
        error: 'ID de promocin invlido'
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[274]++;
      return _server.NextResponse.json(errorResponse, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[82][1]++;
    }
    // Verificar que la promocin existe
    const {
      data: existingPromotion
    } =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[275]++, await supabase.from('promotions').select('id, name').eq('id', params.id).single());
    /* istanbul ignore next */
    cov_23akv3pmqi().s[276]++;
    if (!existingPromotion) {
      /* istanbul ignore next */
      cov_23akv3pmqi().b[84][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_23akv3pmqi().s[277]++, {
        data: null,
        success: false,
        error: 'Promocin no encontrada'
      });
      /* istanbul ignore next */
      cov_23akv3pmqi().s[278]++;
      return _server.NextResponse.json(errorResponse, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_23akv3pmqi().b[84][1]++;
    }
    // Eliminar promocin
    const deleteResult =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[279]++, await deletePromotion(params.id));
    // Registrar auditora
    /* istanbul ignore next */
    cov_23akv3pmqi().s[280]++;
    await logAuditAction(deleteResult.deleted ?
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[85][0]++, 'delete') :
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[85][1]++, 'deactivate'), params.id, authResult.userId, {
      promotion_name: existingPromotion.name,
      deleted: deleteResult.deleted,
      deactivated: deleteResult.deactivated
    });
    // Registrar mtricas
    /* istanbul ignore next */
    cov_23akv3pmqi().s[281]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'DELETE',
      statusCode: 200,
      responseTime: Date.now() - startTime,
      userId: authResult.userId
    });
    const message =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[282]++, deleteResult.deleted ?
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[86][0]++, 'Promocin eliminada exitosamente') :
    /* istanbul ignore next */
    (cov_23akv3pmqi().b[86][1]++, 'Promocin desactivada (tena uso activo)'));
    const response =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[283]++, {
      data: deleteResult,
      success: true,
      message
    });
    const nextResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[284]++, _server.NextResponse.json(response));
    /* istanbul ignore next */
    cov_23akv3pmqi().s[285]++;
    (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
    /* istanbul ignore next */
    cov_23akv3pmqi().s[286]++;
    return nextResponse;
  } catch (error) {
    /* istanbul ignore next */
    cov_23akv3pmqi().s[287]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en DELETE /api/admin/promotions/[id]', {
      error,
      promotionId: params.id
    });
    // Registrar mtricas de error
    /* istanbul ignore next */
    cov_23akv3pmqi().s[288]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/promotions/[id]',
      method: 'DELETE',
      statusCode: 500,
      responseTime: Date.now() - startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[87][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[87][1]++, 'Unknown error')
    });
    const errorResponse =
    /* istanbul ignore next */
    (cov_23akv3pmqi().s[289]++, {
      data: null,
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[88][0]++, error.message) :
      /* istanbul ignore next */
      (cov_23akv3pmqi().b[88][1]++, 'Error interno del servidor')
    });
    /* istanbul ignore next */
    cov_23akv3pmqi().s[290]++;
    return _server.NextResponse.json(errorResponse, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfMjNha3YzcG1xaSIsImYiLCJzIiwiR0VUIiwiUFVUIiwic3VwYWJhc2UiLCJfc3VwYWJhc2VqcyIsImNyZWF0ZUNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiUkFURV9MSU1JVF9DT05GSUdTIiwiYWRtaW4iLCJ3aW5kb3dNcyIsIm1heFJlcXVlc3RzIiwibWVzc2FnZSIsIlVwZGF0ZVByb21vdGlvblNjaGVtYSIsIl96b2QiLCJ6Iiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsIm9wdGlvbmFsIiwiZGVzY3JpcHRpb24iLCJ0eXBlIiwiZW51bSIsInByaW9yaXR5IiwibnVtYmVyIiwiaW50IiwibWF4IiwiZGlzY291bnRfcGVyY2VudGFnZSIsImRpc2NvdW50X2Ftb3VudCIsImJ1eV9xdWFudGl0eSIsImdldF9xdWFudGl0eSIsImdldF9kaXNjb3VudF9wZXJjZW50YWdlIiwiYnVuZGxlX3Byb2R1Y3RzIiwiYXJyYXkiLCJwcm9kdWN0X2lkIiwidXVpZCIsInF1YW50aXR5IiwiYnVuZGxlX3ByaWNlIiwibWluaW11bV9vcmRlcl9hbW91bnQiLCJtYXhpbXVtX2Rpc2NvdW50X2Ftb3VudCIsIm1pbmltdW1fcXVhbnRpdHkiLCJhcHBsaWNhYmxlX3RvIiwiY2F0ZWdvcnlfaWRzIiwicHJvZHVjdF9pZHMiLCJicmFuZF9pZHMiLCJleGNsdWRlX3NhbGVfaXRlbXMiLCJib29sZWFuIiwiZXhjbHVkZV9jYXRlZ29yaWVzIiwiZXhjbHVkZV9wcm9kdWN0cyIsInVzYWdlX2xpbWl0IiwidXNhZ2VfbGltaXRfcGVyX3VzZXIiLCJzdGFydHNfYXQiLCJlbmRzX2F0IiwiaXNfYWN0aXZlIiwiaXNfcGF1c2VkIiwiaXNfc3RhY2thYmxlIiwicmVxdWlyZXNfY291cG9uX2NvZGUiLCJjb3Vwb25fY29kZSIsImN1c3RvbWVyX2dyb3VwcyIsImZpcnN0X3RpbWVfY3VzdG9tZXJzX29ubHkiLCJiYW5uZXJfdGV4dCIsImJhbm5lcl9jb2xvciIsInNob3dfb25fcHJvZHVjdF9wYWdlIiwic2hvd19vbl9jYXRlZ29yeV9wYWdlIiwic2hvd19vbl9ob21lcGFnZSIsIlByb21vdGlvbkFjdGlvblNjaGVtYSIsImFjdGlvbiIsImV4dGVuZF9kYXlzIiwidmFsaWRhdGVBZG1pbkF1dGgiLCJzZXNzaW9uIiwiX2F1dGgiLCJhdXRoIiwidXNlciIsImIiLCJlcnJvciIsInN0YXR1cyIsImRhdGEiLCJwcm9maWxlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJzaW5nbGUiLCJpbmNsdWRlcyIsInJvbGUiLCJ1c2VySWQiLCJnZXRQcm9tb3Rpb25CeUlkIiwicHJvbW90aW9uSWQiLCJpbmNsdWRlU3RhdHMiLCJwcm9tb3Rpb24iLCJFcnJvciIsIm5vdyIsIkRhdGUiLCJzdGFydHNBdCIsImVuZHNBdCIsInByb2Nlc3NlZFByb21vdGlvbiIsImNhdGVnb3JpZXMiLCJtYXAiLCJwYyIsImNhdGVnb3J5IiwicHJvZHVjdHMiLCJwcCIsInByb2R1Y3QiLCJicmFuZHMiLCJwYiIsImJyYW5kIiwiYnAiLCJ1c2FnZVN0YXRzIiwiZ2V0UHJvbW90aW9uVXNhZ2VTdGF0cyIsInVzYWdlX3N0YXRzIiwidXNhZ2UiLCJ0b3RhbFVzYWdlIiwibGVuZ3RoIiwidW5pcXVlVXNlcnMiLCJTZXQiLCJ1IiwidXNlcl9pZCIsInNpemUiLCJ0b3RhbERpc2NvdW50R2l2ZW4iLCJyZWR1Y2UiLCJzdW0iLCJvcmRlcklkcyIsIm9yZGVyX2lkIiwiYXZlcmFnZU9yZGVyVmFsdWUiLCJvcmRlcnMiLCJpbiIsInRvdGFsT3JkZXJWYWx1ZSIsIm8iLCJ0b3RhbF9hbW91bnQiLCJjb252ZXJzaW9uUmF0ZSIsInRoaXJ0eURheXNBZ28iLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInJlY2VudFVzYWdlIiwiZmlsdGVyIiwiY3JlYXRlZF9hdCIsImFjYyIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwidXNhZ2VfY291bnQiLCJkaXNjb3VudF9naXZlbiIsInJlY2VudFVzYWdlQXJyYXkiLCJPYmplY3QiLCJlbnRyaWVzIiwic3RhdHMiLCJzb3J0IiwiYSIsImxvY2FsZUNvbXBhcmUiLCJ0b3RhbF91c2FnZSIsInVuaXF1ZV91c2VycyIsInRvdGFsX2Rpc2NvdW50X2dpdmVuIiwiYXZlcmFnZV9vcmRlcl92YWx1ZSIsImNvbnZlcnNpb25fcmF0ZSIsInJlY2VudF91c2FnZSIsInVwZGF0ZVByb21vdGlvbiIsInVwZGF0ZURhdGEiLCJleGlzdGluZ1Byb21vdGlvbiIsIm5lcSIsInByb21vdGlvblVwZGF0ZURhdGEiLCJ1cGRhdGVkUHJvbW90aW9uIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwidW5kZWZpbmVkIiwiZGVsZXRlIiwiY2F0ZWdvcnlJbnNlcnRzIiwiY2F0ZWdvcnlJZCIsInByb21vdGlvbl9pZCIsImNhdGVnb3J5X2lkIiwiY2F0ZWdvcnlFcnJvciIsImluc2VydCIsInByb2R1Y3RJbnNlcnRzIiwicHJvZHVjdElkIiwicHJvZHVjdEVycm9yIiwiYnJhbmRJbnNlcnRzIiwiYnJhbmRJZCIsImJyYW5kX2lkIiwiYnJhbmRFcnJvciIsImJ1bmRsZUluc2VydHMiLCJpdGVtIiwiYnVuZGxlRXJyb3IiLCJkZWxldGVQcm9tb3Rpb24iLCJhY3RpdmVVc2FnZSIsImxpbWl0IiwiZGVhY3RpdmF0ZUVycm9yIiwiZGVsZXRlZCIsImRlYWN0aXZhdGVkIiwiUHJvbWlzZSIsImFsbCIsImRlbGV0ZUVycm9yIiwiZHVwbGljYXRlUHJvbW90aW9uIiwib3JpZ2luYWxQcm9tb3Rpb24iLCJkdXBsaWNhdGVEYXRhIiwiY3JlYXRlZF9ieSIsImNyZWF0b3IiLCJuZXdQcm9tb3Rpb24iLCJjcmVhdGVFcnJvciIsImxvZ0F1ZGl0QWN0aW9uIiwiZGV0YWlscyIsInRhYmxlX25hbWUiLCJyZWNvcmRfaWQiLCJjaGFuZ2VzIiwiX2xvZ2dlciIsImxvZ2dlciIsImxvZyIsIkxvZ0xldmVsIiwiV0FSTiIsIkxvZ0NhdGVnb3J5IiwiQVVESVQiLCJyZXF1ZXN0IiwicGFyYW1zIiwic3RhcnRUaW1lIiwicmF0ZUxpbWl0UmVzdWx0IiwiX3JhdGVsaW1pdGVyIiwiY2hlY2tSYXRlTGltaXQiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImFkZFJhdGVMaW1pdEhlYWRlcnMiLCJhdXRoUmVzdWx0IiwiZXJyb3JSZXNwb25zZSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsIl9tZXRyaWNzIiwibWV0cmljc0NvbGxlY3RvciIsInJlY29yZEFwaUNhbGwiLCJlbmRwb2ludCIsIm1ldGhvZCIsInN0YXR1c0NvZGUiLCJyZXNwb25zZVRpbWUiLCJuZXh0UmVzcG9uc2UiLCJFUlJPUiIsIkFQSSIsIk1hdGgiLCJmbG9vciIsImJvZHkiLCJhY3Rpb25EYXRhIiwicGFyc2UiLCJyZXN1bHQiLCJuZXdfcHJvbW90aW9uX2lkIiwiY3VycmVudFByb21vdGlvbiIsIm5ld0VuZERhdGUiLCJuZXdfZW5kX2RhdGUiLCJkZWxldGVSZXN1bHQiLCJwcm9tb3Rpb25fbmFtZSJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXGFkbWluXFxwcm9tb3Rpb25zXFxbaWRdXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvYXV0aCc7XHJcbmltcG9ydCB7IGNoZWNrUmF0ZUxpbWl0LCBhZGRSYXRlTGltaXRIZWFkZXJzIH0gZnJvbSAnQC9saWIvZW50ZXJwcmlzZS9yYXRlLWxpbWl0ZXInO1xyXG5pbXBvcnQgeyBsb2dnZXIsIExvZ0xldmVsLCBMb2dDYXRlZ29yeSB9IGZyb20gJ0AvbGliL2VudGVycHJpc2UvbG9nZ2VyJztcclxuaW1wb3J0IHsgbWV0cmljc0NvbGxlY3RvciB9IGZyb20gJ0AvbGliL2VudGVycHJpc2UvbWV0cmljcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDT05GSUdVUkFDScOTTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcclxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXHJcbik7XHJcblxyXG5jb25zdCBSQVRFX0xJTUlUX0NPTkZJR1MgPSB7XHJcbiAgYWRtaW46IHtcclxuICAgIHdpbmRvd01zOiAxNSAqIDYwICogMTAwMCwgLy8gMTUgbWludXRvc1xyXG4gICAgbWF4UmVxdWVzdHM6IDUwLFxyXG4gICAgbWVzc2FnZTogJ0RlbWFzaWFkYXMgc29saWNpdHVkZXMgZGUgcHJvbW9jacOzbidcclxuICB9XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBFU1FVRU1BUyBERSBWQUxJREFDScOTTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBVcGRhdGVQcm9tb3Rpb25TY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSwgJ0VsIG5vbWJyZSBlcyByZXF1ZXJpZG8nKS5vcHRpb25hbCgpLFxyXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgdHlwZTogei5lbnVtKFsncGVyY2VudGFnZV9kaXNjb3VudCcsICdmaXhlZF9kaXNjb3VudCcsICdidXlfeF9nZXRfeScsICdmcmVlX3NoaXBwaW5nJywgJ2J1bmRsZV9kZWFsJ10pLm9wdGlvbmFsKCksXHJcbiAgcHJpb3JpdHk6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgxMDApLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgZGVzY3VlbnRvXHJcbiAgZGlzY291bnRfcGVyY2VudGFnZTogei5udW1iZXIoKS5taW4oMCkubWF4KDEwMCkub3B0aW9uYWwoKSxcclxuICBkaXNjb3VudF9hbW91bnQ6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gQnV5IFggR2V0IFlcclxuICBidXlfcXVhbnRpdHk6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm9wdGlvbmFsKCksXHJcbiAgZ2V0X3F1YW50aXR5OiB6Lm51bWJlcigpLmludCgpLm1pbigxKS5vcHRpb25hbCgpLFxyXG4gIGdldF9kaXNjb3VudF9wZXJjZW50YWdlOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMTAwKS5vcHRpb25hbCgpLFxyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGJ1bmRsZVxyXG4gIGJ1bmRsZV9wcm9kdWN0czogei5hcnJheSh6Lm9iamVjdCh7XHJcbiAgICBwcm9kdWN0X2lkOiB6LnN0cmluZygpLnV1aWQoKSxcclxuICAgIHF1YW50aXR5OiB6Lm51bWJlcigpLmludCgpLm1pbigxKVxyXG4gIH0pKS5vcHRpb25hbCgpLFxyXG4gIGJ1bmRsZV9wcmljZTogei5udW1iZXIoKS5taW4oMCkub3B0aW9uYWwoKSxcclxuICBcclxuICAvLyBDb25kaWNpb25lc1xyXG4gIG1pbmltdW1fb3JkZXJfYW1vdW50OiB6Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLFxyXG4gIG1heGltdW1fZGlzY291bnRfYW1vdW50OiB6Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLFxyXG4gIG1pbmltdW1fcXVhbnRpdHk6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gQXBsaWNhYmlsaWRhZFxyXG4gIGFwcGxpY2FibGVfdG86IHouZW51bShbJ2FsbCcsICdjYXRlZ29yaWVzJywgJ3Byb2R1Y3RzJywgJ2JyYW5kcyddKS5vcHRpb25hbCgpLFxyXG4gIGNhdGVnb3J5X2lkczogei5hcnJheSh6LnN0cmluZygpLnV1aWQoKSkub3B0aW9uYWwoKSxcclxuICBwcm9kdWN0X2lkczogei5hcnJheSh6LnN0cmluZygpLnV1aWQoKSkub3B0aW9uYWwoKSxcclxuICBicmFuZF9pZHM6IHouYXJyYXkoei5zdHJpbmcoKS51dWlkKCkpLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gRXhjbHVzaW9uZXNcclxuICBleGNsdWRlX3NhbGVfaXRlbXM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgZXhjbHVkZV9jYXRlZ29yaWVzOiB6LmFycmF5KHouc3RyaW5nKCkudXVpZCgpKS5vcHRpb25hbCgpLFxyXG4gIGV4Y2x1ZGVfcHJvZHVjdHM6IHouYXJyYXkoei5zdHJpbmcoKS51dWlkKCkpLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gTMOtbWl0ZXMgZGUgdXNvXHJcbiAgdXNhZ2VfbGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm9wdGlvbmFsKCksXHJcbiAgdXNhZ2VfbGltaXRfcGVyX3VzZXI6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm9wdGlvbmFsKCksXHJcbiAgXHJcbiAgLy8gRmVjaGFzXHJcbiAgc3RhcnRzX2F0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgZW5kc19hdDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuXHJcbiAgaXNfYWN0aXZlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG4gIGlzX3BhdXNlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBpc19zdGFja2FibGU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgcmVxdWlyZXNfY291cG9uX2NvZGU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgY291cG9uX2NvZGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBcclxuICAvLyBUYXJnZXRpbmdcclxuICBjdXN0b21lcl9ncm91cHM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcclxuICBmaXJzdF90aW1lX2N1c3RvbWVyc19vbmx5OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG4gIFxyXG4gIC8vIERpc3BsYXlcclxuICBiYW5uZXJfdGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGJhbm5lcl9jb2xvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIHNob3dfb25fcHJvZHVjdF9wYWdlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxyXG4gIHNob3dfb25fY2F0ZWdvcnlfcGFnZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBzaG93X29uX2hvbWVwYWdlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXHJcbn0pO1xyXG5cclxuY29uc3QgUHJvbW90aW9uQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIGFjdGlvbjogei5lbnVtKFsnYWN0aXZhdGUnLCAnZGVhY3RpdmF0ZScsICdwYXVzZScsICdyZXN1bWUnLCAnZHVwbGljYXRlJywgJ2V4dGVuZCddKSxcclxuICBleHRlbmRfZGF5czogei5udW1iZXIoKS5pbnQoKS5taW4oMSkub3B0aW9uYWwoKVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRJUE9TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmludGVyZmFjZSBBcGlSZXNwb25zZTxUPiB7XHJcbiAgZGF0YTogVDtcclxuICBzdWNjZXNzOiBib29sZWFuO1xyXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgZXJyb3I/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBQcm9tb3Rpb25EYXRhIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICB0eXBlOiAncGVyY2VudGFnZV9kaXNjb3VudCcgfCAnZml4ZWRfZGlzY291bnQnIHwgJ2J1eV94X2dldF95JyB8ICdmcmVlX3NoaXBwaW5nJyB8ICdidW5kbGVfZGVhbCc7XHJcbiAgcHJpb3JpdHk6IG51bWJlcjtcclxuICBcclxuICAvLyBDb25maWd1cmFjacOzbiBkZSBkZXNjdWVudG9cclxuICBkaXNjb3VudF9wZXJjZW50YWdlPzogbnVtYmVyO1xyXG4gIGRpc2NvdW50X2Ftb3VudD86IG51bWJlcjtcclxuICBcclxuICAvLyBDb25maWd1cmFjacOzbiBCdXkgWCBHZXQgWVxyXG4gIGJ1eV9xdWFudGl0eT86IG51bWJlcjtcclxuICBnZXRfcXVhbnRpdHk/OiBudW1iZXI7XHJcbiAgZ2V0X2Rpc2NvdW50X3BlcmNlbnRhZ2U/OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgYnVuZGxlXHJcbiAgYnVuZGxlX3Byb2R1Y3RzPzogQXJyYXk8e1xyXG4gICAgcHJvZHVjdF9pZDogc3RyaW5nO1xyXG4gICAgcXVhbnRpdHk6IG51bWJlcjtcclxuICAgIHByb2R1Y3Q/OiB7XHJcbiAgICAgIG5hbWU6IHN0cmluZztcclxuICAgICAgc2t1OiBzdHJpbmc7XHJcbiAgICAgIHByaWNlOiBudW1iZXI7XHJcbiAgICB9O1xyXG4gIH0+O1xyXG4gIGJ1bmRsZV9wcmljZT86IG51bWJlcjtcclxuICBcclxuICAvLyBDb25kaWNpb25lc1xyXG4gIG1pbmltdW1fb3JkZXJfYW1vdW50PzogbnVtYmVyO1xyXG4gIG1heGltdW1fZGlzY291bnRfYW1vdW50PzogbnVtYmVyO1xyXG4gIG1pbmltdW1fcXVhbnRpdHk/OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gQXBsaWNhYmlsaWRhZFxyXG4gIGFwcGxpY2FibGVfdG86ICdhbGwnIHwgJ2NhdGVnb3JpZXMnIHwgJ3Byb2R1Y3RzJyB8ICdicmFuZHMnO1xyXG4gIGNhdGVnb3J5X2lkcz86IHN0cmluZ1tdO1xyXG4gIHByb2R1Y3RfaWRzPzogc3RyaW5nW107XHJcbiAgYnJhbmRfaWRzPzogc3RyaW5nW107XHJcbiAgXHJcbiAgLy8gRXhjbHVzaW9uZXNcclxuICBleGNsdWRlX3NhbGVfaXRlbXM6IGJvb2xlYW47XHJcbiAgZXhjbHVkZV9jYXRlZ29yaWVzPzogc3RyaW5nW107XHJcbiAgZXhjbHVkZV9wcm9kdWN0cz86IHN0cmluZ1tdO1xyXG4gIFxyXG4gIC8vIEzDrW1pdGVzIGRlIHVzb1xyXG4gIHVzYWdlX2xpbWl0PzogbnVtYmVyO1xyXG4gIHVzYWdlX2xpbWl0X3Blcl91c2VyPzogbnVtYmVyO1xyXG4gIHVzYWdlX2NvdW50OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gRmVjaGFzXHJcbiAgc3RhcnRzX2F0OiBzdHJpbmc7XHJcbiAgZW5kc19hdD86IHN0cmluZztcclxuICBcclxuICAvLyBDb25maWd1cmFjacOzblxyXG4gIGlzX2FjdGl2ZTogYm9vbGVhbjtcclxuICBpc19wYXVzZWQ/OiBib29sZWFuO1xyXG4gIGlzX3N0YWNrYWJsZTogYm9vbGVhbjtcclxuICByZXF1aXJlc19jb3Vwb25fY29kZTogYm9vbGVhbjtcclxuICBjb3Vwb25fY29kZT86IHN0cmluZztcclxuICBcclxuICAvLyBUYXJnZXRpbmdcclxuICBjdXN0b21lcl9ncm91cHM/OiBzdHJpbmdbXTtcclxuICBmaXJzdF90aW1lX2N1c3RvbWVyc19vbmx5OiBib29sZWFuO1xyXG4gIFxyXG4gIC8vIERpc3BsYXlcclxuICBiYW5uZXJfdGV4dD86IHN0cmluZztcclxuICBiYW5uZXJfY29sb3I/OiBzdHJpbmc7XHJcbiAgc2hvd19vbl9wcm9kdWN0X3BhZ2U6IGJvb2xlYW47XHJcbiAgc2hvd19vbl9jYXRlZ29yeV9wYWdlOiBib29sZWFuO1xyXG4gIHNob3dfb25faG9tZXBhZ2U6IGJvb2xlYW47XHJcbiAgXHJcbiAgLy8gTWV0YWRhdGFcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xyXG4gIGNyZWF0ZWRfYnk6IHN0cmluZztcclxuICBcclxuICAvLyBFc3RhZG8gY2FsY3VsYWRvXHJcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnc2NoZWR1bGVkJyB8ICdleHBpcmVkJyB8ICdwYXVzZWQnO1xyXG4gIFxyXG4gIC8vIFJlbGFjaW9uZXNcclxuICBjYXRlZ29yaWVzPzogQXJyYXk8e1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICB9PjtcclxuICBwcm9kdWN0cz86IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBza3U6IHN0cmluZztcclxuICB9PjtcclxuICBicmFuZHM/OiBBcnJheTx7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gIH0+O1xyXG4gIGNyZWF0b3I/OiB7XHJcbiAgICBmdWxsX25hbWU6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgfTtcclxuICBcclxuICAvLyBFc3RhZMOtc3RpY2FzIGRlIHVzb1xyXG4gIHVzYWdlX3N0YXRzPzoge1xyXG4gICAgdG90YWxfdXNhZ2U6IG51bWJlcjtcclxuICAgIHVuaXF1ZV91c2VyczogbnVtYmVyO1xyXG4gICAgdG90YWxfZGlzY291bnRfZ2l2ZW46IG51bWJlcjtcclxuICAgIGF2ZXJhZ2Vfb3JkZXJfdmFsdWU6IG51bWJlcjtcclxuICAgIGNvbnZlcnNpb25fcmF0ZTogbnVtYmVyO1xyXG4gICAgcmVjZW50X3VzYWdlOiBBcnJheTx7XHJcbiAgICAgIGRhdGU6IHN0cmluZztcclxuICAgICAgdXNhZ2VfY291bnQ6IG51bWJlcjtcclxuICAgICAgZGlzY291bnRfZ2l2ZW46IG51bWJlcjtcclxuICAgIH0+O1xyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZVTkNJT05FUyBBVVhJTElBUkVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlQWRtaW5BdXRoKCkge1xyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgXHJcbiAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogJ05vIGF1dG9yaXphZG8nLCBzdGF0dXM6IDQwMSB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVmVyaWZpY2FyIHJvbCBkZSBhZG1pbmlzdHJhZG9yIG8gbWFuYWdlclxyXG4gIGNvbnN0IHsgZGF0YTogcHJvZmlsZSB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAuc2VsZWN0KCdyb2xlJylcclxuICAgIC5lcSgnaWQnLCBzZXNzaW9uLnVzZXIuaWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmICghWydhZG1pbicsICdtYW5hZ2VyJ10uaW5jbHVkZXMocHJvZmlsZT8ucm9sZSkpIHtcclxuICAgIHJldHVybiB7IGVycm9yOiAnQWNjZXNvIGRlbmVnYWRvJywgc3RhdHVzOiA0MDMgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkLCByb2xlOiBwcm9maWxlLnJvbGUgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvbW90aW9uQnlJZChwcm9tb3Rpb25JZDogc3RyaW5nLCBpbmNsdWRlU3RhdHMgPSBmYWxzZSkge1xyXG4gIC8vIE9idGVuZXIgcHJvbW9jacOzbiBjb24gcmVsYWNpb25lc1xyXG4gIGNvbnN0IHsgZGF0YTogcHJvbW90aW9uLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9tb3Rpb25zJylcclxuICAgIC5zZWxlY3QoYFxyXG4gICAgICAqLFxyXG4gICAgICBjYXRlZ29yaWVzOnByb21vdGlvbl9jYXRlZ29yaWVzIXByb21vdGlvbl9jYXRlZ29yaWVzX3Byb21vdGlvbl9pZF9ma2V5KFxyXG4gICAgICAgIGNhdGVnb3J5OmNhdGVnb3JpZXMhcHJvbW90aW9uX2NhdGVnb3JpZXNfY2F0ZWdvcnlfaWRfZmtleShcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgbmFtZVxyXG4gICAgICAgIClcclxuICAgICAgKSxcclxuICAgICAgcHJvZHVjdHM6cHJvbW90aW9uX3Byb2R1Y3RzIXByb21vdGlvbl9wcm9kdWN0c19wcm9tb3Rpb25faWRfZmtleShcclxuICAgICAgICBwcm9kdWN0OnByb2R1Y3RzIXByb21vdGlvbl9wcm9kdWN0c19wcm9kdWN0X2lkX2ZrZXkoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBza3VcclxuICAgICAgICApXHJcbiAgICAgICksXHJcbiAgICAgIGJyYW5kczpwcm9tb3Rpb25fYnJhbmRzIXByb21vdGlvbl9icmFuZHNfcHJvbW90aW9uX2lkX2ZrZXkoXHJcbiAgICAgICAgYnJhbmQ6YnJhbmRzIXByb21vdGlvbl9icmFuZHNfYnJhbmRfaWRfZmtleShcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgbmFtZVxyXG4gICAgICAgIClcclxuICAgICAgKSxcclxuICAgICAgYnVuZGxlX3Byb2R1Y3RzOnByb21vdGlvbl9idW5kbGVfcHJvZHVjdHMhcHJvbW90aW9uX2J1bmRsZV9wcm9kdWN0c19wcm9tb3Rpb25faWRfZmtleShcclxuICAgICAgICBwcm9kdWN0X2lkLFxyXG4gICAgICAgIHF1YW50aXR5LFxyXG4gICAgICAgIHByb2R1Y3Q6cHJvZHVjdHMhcHJvbW90aW9uX2J1bmRsZV9wcm9kdWN0c19wcm9kdWN0X2lkX2ZrZXkoXHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgc2t1LFxyXG4gICAgICAgICAgcHJpY2VcclxuICAgICAgICApXHJcbiAgICAgICksXHJcbiAgICAgIGNyZWF0b3I6cHJvZmlsZXMhcHJvbW90aW9uc19jcmVhdGVkX2J5X2ZrZXkoXHJcbiAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgIGVtYWlsXHJcbiAgICAgIClcclxuICAgIGApXHJcbiAgICAuZXEoJ2lkJywgcHJvbW90aW9uSWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBvYnRlbmVyIHByb21vY2nDs246ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICB9XHJcblxyXG4gIGlmICghcHJvbW90aW9uKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb21vY2nDs24gbm8gZW5jb250cmFkYScpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2FsY3VsYXIgZXN0YWRvXHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICBjb25zdCBzdGFydHNBdCA9IG5ldyBEYXRlKHByb21vdGlvbi5zdGFydHNfYXQpO1xyXG4gIGNvbnN0IGVuZHNBdCA9IHByb21vdGlvbi5lbmRzX2F0ID8gbmV3IERhdGUocHJvbW90aW9uLmVuZHNfYXQpIDogbnVsbDtcclxuICBcclxuICBsZXQgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnc2NoZWR1bGVkJyB8ICdleHBpcmVkJyB8ICdwYXVzZWQnO1xyXG4gIFxyXG4gIGlmIChwcm9tb3Rpb24uaXNfcGF1c2VkKSB7XHJcbiAgICBzdGF0dXMgPSAncGF1c2VkJztcclxuICB9IGVsc2UgaWYgKCFwcm9tb3Rpb24uaXNfYWN0aXZlKSB7XHJcbiAgICBzdGF0dXMgPSAnaW5hY3RpdmUnO1xyXG4gIH0gZWxzZSBpZiAobm93IDwgc3RhcnRzQXQpIHtcclxuICAgIHN0YXR1cyA9ICdzY2hlZHVsZWQnO1xyXG4gIH0gZWxzZSBpZiAoZW5kc0F0ICYmIG5vdyA+IGVuZHNBdCkge1xyXG4gICAgc3RhdHVzID0gJ2V4cGlyZWQnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzdGF0dXMgPSAnYWN0aXZlJztcclxuICB9XHJcblxyXG4gIC8vIFByb2Nlc2FyIGRhdG9zXHJcbiAgY29uc3QgcHJvY2Vzc2VkUHJvbW90aW9uID0ge1xyXG4gICAgLi4ucHJvbW90aW9uLFxyXG4gICAgc3RhdHVzLFxyXG4gICAgY2F0ZWdvcmllczogcHJvbW90aW9uLmNhdGVnb3JpZXM/Lm1hcCgocGM6IGFueSkgPT4gcGMuY2F0ZWdvcnkpIHx8IFtdLFxyXG4gICAgcHJvZHVjdHM6IHByb21vdGlvbi5wcm9kdWN0cz8ubWFwKChwcDogYW55KSA9PiBwcC5wcm9kdWN0KSB8fCBbXSxcclxuICAgIGJyYW5kczogcHJvbW90aW9uLmJyYW5kcz8ubWFwKChwYjogYW55KSA9PiBwYi5icmFuZCkgfHwgW10sXHJcbiAgICBidW5kbGVfcHJvZHVjdHM6IHByb21vdGlvbi5idW5kbGVfcHJvZHVjdHM/Lm1hcCgoYnA6IGFueSkgPT4gKHtcclxuICAgICAgcHJvZHVjdF9pZDogYnAucHJvZHVjdF9pZCxcclxuICAgICAgcXVhbnRpdHk6IGJwLnF1YW50aXR5LFxyXG4gICAgICBwcm9kdWN0OiBicC5wcm9kdWN0XHJcbiAgICB9KSkgfHwgW11cclxuICB9O1xyXG5cclxuICAvLyBJbmNsdWlyIGVzdGFkw61zdGljYXMgc2kgc2Ugc29saWNpdGFcclxuICBpZiAoaW5jbHVkZVN0YXRzKSB7XHJcbiAgICBjb25zdCB1c2FnZVN0YXRzID0gYXdhaXQgZ2V0UHJvbW90aW9uVXNhZ2VTdGF0cyhwcm9tb3Rpb25JZCk7XHJcbiAgICBwcm9jZXNzZWRQcm9tb3Rpb24udXNhZ2Vfc3RhdHMgPSB1c2FnZVN0YXRzO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHByb2Nlc3NlZFByb21vdGlvbjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvbW90aW9uVXNhZ2VTdGF0cyhwcm9tb3Rpb25JZDogc3RyaW5nKSB7XHJcbiAgLy8gT2J0ZW5lciB1c28gZGUgbGEgcHJvbW9jacOzblxyXG4gIGNvbnN0IHsgZGF0YTogdXNhZ2UsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb21vdGlvbl91c2FnZScpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgncHJvbW90aW9uX2lkJywgcHJvbW90aW9uSWQpO1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgb2J0ZW5lciBlc3RhZMOtc3RpY2FzIGRlIHVzbzogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdG90YWxVc2FnZSA9IHVzYWdlPy5sZW5ndGggfHwgMDtcclxuICBjb25zdCB1bmlxdWVVc2VycyA9IG5ldyBTZXQodXNhZ2U/Lm1hcCh1ID0+IHUudXNlcl9pZCkgfHwgW10pLnNpemU7XHJcbiAgY29uc3QgdG90YWxEaXNjb3VudEdpdmVuID0gKHVzYWdlIHx8IFtdKS5yZWR1Y2UoKHN1bSwgdSkgPT4gc3VtICsgKHUuZGlzY291bnRfYW1vdW50IHx8IDApLCAwKTtcclxuICBcclxuICAvLyBDYWxjdWxhciB2YWxvciBwcm9tZWRpbyBkZSBvcmRlblxyXG4gIGNvbnN0IG9yZGVySWRzID0gWy4uLm5ldyBTZXQodXNhZ2U/Lm1hcCh1ID0+IHUub3JkZXJfaWQpIHx8IFtdKV07XHJcbiAgbGV0IGF2ZXJhZ2VPcmRlclZhbHVlID0gMDtcclxuICBcclxuICBpZiAob3JkZXJJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBvcmRlcnMgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdvcmRlcnMnKVxyXG4gICAgICAuc2VsZWN0KCd0b3RhbF9hbW91bnQnKVxyXG4gICAgICAuaW4oJ2lkJywgb3JkZXJJZHMpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b3RhbE9yZGVyVmFsdWUgPSAob3JkZXJzIHx8IFtdKS5yZWR1Y2UoKHN1bSwgbykgPT4gc3VtICsgby50b3RhbF9hbW91bnQsIDApO1xyXG4gICAgYXZlcmFnZU9yZGVyVmFsdWUgPSB0b3RhbE9yZGVyVmFsdWUgLyBvcmRlcklkcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvLyBDYWxjdWxhciB0YXNhIGRlIGNvbnZlcnNpw7NuIChzaW1wbGlmaWNhZGEpXHJcbiAgY29uc3QgY29udmVyc2lvblJhdGUgPSB1bmlxdWVVc2VycyA+IDAgPyAob3JkZXJJZHMubGVuZ3RoIC8gdW5pcXVlVXNlcnMpICogMTAwIDogMDtcclxuXHJcbiAgLy8gVXNvIHJlY2llbnRlICjDumx0aW1vcyAzMCBkw61hcylcclxuICBjb25zdCB0aGlydHlEYXlzQWdvID0gbmV3IERhdGUoKTtcclxuICB0aGlydHlEYXlzQWdvLnNldERhdGUodGhpcnR5RGF5c0Fnby5nZXREYXRlKCkgLSAzMCk7XHJcbiAgXHJcbiAgY29uc3QgcmVjZW50VXNhZ2UgPSAodXNhZ2UgfHwgW10pXHJcbiAgICAuZmlsdGVyKHUgPT4gbmV3IERhdGUodS5jcmVhdGVkX2F0KSA+PSB0aGlydHlEYXlzQWdvKVxyXG4gICAgLnJlZHVjZSgoYWNjLCB1KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh1LmNyZWF0ZWRfYXQpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuICAgICAgaWYgKCFhY2NbZGF0ZV0pIHtcclxuICAgICAgICBhY2NbZGF0ZV0gPSB7IHVzYWdlX2NvdW50OiAwLCBkaXNjb3VudF9naXZlbjogMCB9O1xyXG4gICAgICB9XHJcbiAgICAgIGFjY1tkYXRlXS51c2FnZV9jb3VudCsrO1xyXG4gICAgICBhY2NbZGF0ZV0uZGlzY291bnRfZ2l2ZW4gKz0gdS5kaXNjb3VudF9hbW91bnQgfHwgMDtcclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHsgdXNhZ2VfY291bnQ6IG51bWJlcjsgZGlzY291bnRfZ2l2ZW46IG51bWJlciB9Pik7XHJcblxyXG4gIGNvbnN0IHJlY2VudFVzYWdlQXJyYXkgPSBPYmplY3QuZW50cmllcyhyZWNlbnRVc2FnZSlcclxuICAgIC5tYXAoKFtkYXRlLCBzdGF0c10pID0+ICh7IGRhdGUsIC4uLnN0YXRzIH0pKVxyXG4gICAgLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdG90YWxfdXNhZ2U6IHRvdGFsVXNhZ2UsXHJcbiAgICB1bmlxdWVfdXNlcnM6IHVuaXF1ZVVzZXJzLFxyXG4gICAgdG90YWxfZGlzY291bnRfZ2l2ZW46IHRvdGFsRGlzY291bnRHaXZlbixcclxuICAgIGF2ZXJhZ2Vfb3JkZXJfdmFsdWU6IGF2ZXJhZ2VPcmRlclZhbHVlLFxyXG4gICAgY29udmVyc2lvbl9yYXRlOiBjb252ZXJzaW9uUmF0ZSxcclxuICAgIHJlY2VudF91c2FnZTogcmVjZW50VXNhZ2VBcnJheVxyXG4gIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb21vdGlvbihwcm9tb3Rpb25JZDogc3RyaW5nLCB1cGRhdGVEYXRhOiB6LmluZmVyPHR5cGVvZiBVcGRhdGVQcm9tb3Rpb25TY2hlbWE+LCB1c2VySWQ6IHN0cmluZykge1xyXG4gIC8vIFZhbGlkYXIgZmVjaGFzIHNpIHNlIHByb3BvcmNpb25hblxyXG4gIGlmICh1cGRhdGVEYXRhLnN0YXJ0c19hdCAmJiB1cGRhdGVEYXRhLmVuZHNfYXQpIHtcclxuICAgIGNvbnN0IHN0YXJ0c0F0ID0gbmV3IERhdGUodXBkYXRlRGF0YS5zdGFydHNfYXQpO1xyXG4gICAgY29uc3QgZW5kc0F0ID0gbmV3IERhdGUodXBkYXRlRGF0YS5lbmRzX2F0KTtcclxuICAgIFxyXG4gICAgaWYgKHN0YXJ0c0F0ID49IGVuZHNBdCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xhIGZlY2hhIGRlIGluaWNpbyBkZWJlIHNlciBhbnRlcmlvciBhIGxhIGZlY2hhIGRlIGZpbmFsaXphY2nDs24nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgY8OzZGlnbyBkZSBjdXDDs24gc2kgc2UgY2FtYmlhXHJcbiAgaWYgKHVwZGF0ZURhdGEuY291cG9uX2NvZGUpIHtcclxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdQcm9tb3Rpb24gfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9tb3Rpb25zJylcclxuICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAuZXEoJ2NvdXBvbl9jb2RlJywgdXBkYXRlRGF0YS5jb3Vwb25fY29kZSlcclxuICAgICAgLm5lcSgnaWQnLCBwcm9tb3Rpb25JZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChleGlzdGluZ1Byb21vdGlvbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lhIGV4aXN0ZSBvdHJhIHByb21vY2nDs24gY29uIGVzdGUgY8OzZGlnbyBkZSBjdXDDs24nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFNlcGFyYXIgZGF0b3MgZGUgcmVsYWNpb25lc1xyXG4gIGNvbnN0IHsgY2F0ZWdvcnlfaWRzLCBwcm9kdWN0X2lkcywgYnJhbmRfaWRzLCBidW5kbGVfcHJvZHVjdHMsIC4uLnByb21vdGlvblVwZGF0ZURhdGEgfSA9IHVwZGF0ZURhdGE7XHJcbiAgXHJcbiAgLy8gQWN0dWFsaXphciBwcm9tb2Npw7NuIHByaW5jaXBhbFxyXG4gIGNvbnN0IHsgZGF0YTogdXBkYXRlZFByb21vdGlvbiwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3Byb21vdGlvbnMnKVxyXG4gICAgLnVwZGF0ZSh7XHJcbiAgICAgIC4uLnByb21vdGlvblVwZGF0ZURhdGEsXHJcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSlcclxuICAgIC5lcSgnaWQnLCBwcm9tb3Rpb25JZClcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgYWN0dWFsaXphciBwcm9tb2Npw7NuOiAke3VwZGF0ZUVycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICAvLyBBY3R1YWxpemFyIHJlbGFjaW9uZXMgc2kgc2UgcHJvcG9yY2lvbmFuXHJcbiAgaWYgKHVwZGF0ZURhdGEuYXBwbGljYWJsZV90byA9PT0gJ2NhdGVnb3JpZXMnICYmIGNhdGVnb3J5X2lkcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyBFbGltaW5hciByZWxhY2lvbmVzIGV4aXN0ZW50ZXNcclxuICAgIGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9tb3Rpb25fY2F0ZWdvcmllcycpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoJ3Byb21vdGlvbl9pZCcsIHByb21vdGlvbklkKTtcclxuXHJcbiAgICAvLyBDcmVhciBudWV2YXMgcmVsYWNpb25lc1xyXG4gICAgaWYgKGNhdGVnb3J5X2lkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5SW5zZXJ0cyA9IGNhdGVnb3J5X2lkcy5tYXAoY2F0ZWdvcnlJZCA9PiAoe1xyXG4gICAgICAgIHByb21vdGlvbl9pZDogcHJvbW90aW9uSWQsXHJcbiAgICAgICAgY2F0ZWdvcnlfaWQ6IGNhdGVnb3J5SWRcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogY2F0ZWdvcnlFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncHJvbW90aW9uX2NhdGVnb3JpZXMnKVxyXG4gICAgICAgIC5pbnNlcnQoY2F0ZWdvcnlJbnNlcnRzKTtcclxuXHJcbiAgICAgIGlmIChjYXRlZ29yeUVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBhY3R1YWxpemFyIGNhdGVnb3LDrWFzOiAke2NhdGVnb3J5RXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHVwZGF0ZURhdGEuYXBwbGljYWJsZV90byA9PT0gJ3Byb2R1Y3RzJyAmJiBwcm9kdWN0X2lkcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyBFbGltaW5hciByZWxhY2lvbmVzIGV4aXN0ZW50ZXNcclxuICAgIGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9tb3Rpb25fcHJvZHVjdHMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdwcm9tb3Rpb25faWQnLCBwcm9tb3Rpb25JZCk7XHJcblxyXG4gICAgLy8gQ3JlYXIgbnVldmFzIHJlbGFjaW9uZXNcclxuICAgIGlmIChwcm9kdWN0X2lkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RJbnNlcnRzID0gcHJvZHVjdF9pZHMubWFwKHByb2R1Y3RJZCA9PiAoe1xyXG4gICAgICAgIHByb21vdGlvbl9pZDogcHJvbW90aW9uSWQsXHJcbiAgICAgICAgcHJvZHVjdF9pZDogcHJvZHVjdElkXHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3I6IHByb2R1Y3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncHJvbW90aW9uX3Byb2R1Y3RzJylcclxuICAgICAgICAuaW5zZXJ0KHByb2R1Y3RJbnNlcnRzKTtcclxuXHJcbiAgICAgIGlmIChwcm9kdWN0RXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGFjdHVhbGl6YXIgcHJvZHVjdG9zOiAke3Byb2R1Y3RFcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAodXBkYXRlRGF0YS5hcHBsaWNhYmxlX3RvID09PSAnYnJhbmRzJyAmJiBicmFuZF9pZHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgLy8gRWxpbWluYXIgcmVsYWNpb25lcyBleGlzdGVudGVzXHJcbiAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvbW90aW9uX2JyYW5kcycpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoJ3Byb21vdGlvbl9pZCcsIHByb21vdGlvbklkKTtcclxuXHJcbiAgICAvLyBDcmVhciBudWV2YXMgcmVsYWNpb25lc1xyXG4gICAgaWYgKGJyYW5kX2lkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGJyYW5kSW5zZXJ0cyA9IGJyYW5kX2lkcy5tYXAoYnJhbmRJZCA9PiAoe1xyXG4gICAgICAgIHByb21vdGlvbl9pZDogcHJvbW90aW9uSWQsXHJcbiAgICAgICAgYnJhbmRfaWQ6IGJyYW5kSWRcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogYnJhbmRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncHJvbW90aW9uX2JyYW5kcycpXHJcbiAgICAgICAgLmluc2VydChicmFuZEluc2VydHMpO1xyXG5cclxuICAgICAgaWYgKGJyYW5kRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGFjdHVhbGl6YXIgbWFyY2FzOiAke2JyYW5kRXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWN0dWFsaXphciBwcm9kdWN0b3MgZGVsIGJ1bmRsZSBzaSBhcGxpY2FcclxuICBpZiAodXBkYXRlRGF0YS50eXBlID09PSAnYnVuZGxlX2RlYWwnICYmIGJ1bmRsZV9wcm9kdWN0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyBFbGltaW5hciBwcm9kdWN0b3MgZGVsIGJ1bmRsZSBleGlzdGVudGVzXHJcbiAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgncHJvbW90aW9uX2J1bmRsZV9wcm9kdWN0cycpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoJ3Byb21vdGlvbl9pZCcsIHByb21vdGlvbklkKTtcclxuXHJcbiAgICAvLyBDcmVhciBudWV2b3MgcHJvZHVjdG9zIGRlbCBidW5kbGVcclxuICAgIGlmIChidW5kbGVfcHJvZHVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBidW5kbGVJbnNlcnRzID0gYnVuZGxlX3Byb2R1Y3RzLm1hcChpdGVtID0+ICh7XHJcbiAgICAgICAgcHJvbW90aW9uX2lkOiBwcm9tb3Rpb25JZCxcclxuICAgICAgICBwcm9kdWN0X2lkOiBpdGVtLnByb2R1Y3RfaWQsXHJcbiAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHlcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3QgeyBlcnJvcjogYnVuZGxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3Byb21vdGlvbl9idW5kbGVfcHJvZHVjdHMnKVxyXG4gICAgICAgIC5pbnNlcnQoYnVuZGxlSW5zZXJ0cyk7XHJcblxyXG4gICAgICBpZiAoYnVuZGxlRXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGFjdHVhbGl6YXIgYnVuZGxlIGRlIHByb2R1Y3RvczogJHtidW5kbGVFcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdXBkYXRlZFByb21vdGlvbjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUHJvbW90aW9uKHByb21vdGlvbklkOiBzdHJpbmcpIHtcclxuICAvLyBWZXJpZmljYXIgc2kgbGEgcHJvbW9jacOzbiB0aWVuZSB1c28gYWN0aXZvXHJcbiAgY29uc3QgeyBkYXRhOiBhY3RpdmVVc2FnZSB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdwcm9tb3Rpb25fdXNhZ2UnKVxyXG4gICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgLmVxKCdwcm9tb3Rpb25faWQnLCBwcm9tb3Rpb25JZClcclxuICAgIC5saW1pdCgxKTtcclxuXHJcbiAgaWYgKGFjdGl2ZVVzYWdlICYmIGFjdGl2ZVVzYWdlLmxlbmd0aCA+IDApIHtcclxuICAgIC8vIEVuIGx1Z2FyIGRlIGVsaW1pbmFyLCBkZXNhY3RpdmFyIGxhIHByb21vY2nDs25cclxuICAgIGNvbnN0IHsgZXJyb3I6IGRlYWN0aXZhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb21vdGlvbnMnKVxyXG4gICAgICAudXBkYXRlKHsgXHJcbiAgICAgICAgaXNfYWN0aXZlOiBmYWxzZSwgXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIFxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgcHJvbW90aW9uSWQpO1xyXG5cclxuICAgIGlmIChkZWFjdGl2YXRlRXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBkZXNhY3RpdmFyIHByb21vY2nDs246ICR7ZGVhY3RpdmF0ZUVycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZGVsZXRlZDogZmFsc2UsIGRlYWN0aXZhdGVkOiB0cnVlIH07XHJcbiAgfVxyXG5cclxuICAvLyBFbGltaW5hciByZWxhY2lvbmVzIHByaW1lcm9cclxuICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICBzdXBhYmFzZS5mcm9tKCdwcm9tb3Rpb25fY2F0ZWdvcmllcycpLmRlbGV0ZSgpLmVxKCdwcm9tb3Rpb25faWQnLCBwcm9tb3Rpb25JZCksXHJcbiAgICBzdXBhYmFzZS5mcm9tKCdwcm9tb3Rpb25fcHJvZHVjdHMnKS5kZWxldGUoKS5lcSgncHJvbW90aW9uX2lkJywgcHJvbW90aW9uSWQpLFxyXG4gICAgc3VwYWJhc2UuZnJvbSgncHJvbW90aW9uX2JyYW5kcycpLmRlbGV0ZSgpLmVxKCdwcm9tb3Rpb25faWQnLCBwcm9tb3Rpb25JZCksXHJcbiAgICBzdXBhYmFzZS5mcm9tKCdwcm9tb3Rpb25fYnVuZGxlX3Byb2R1Y3RzJykuZGVsZXRlKCkuZXEoJ3Byb21vdGlvbl9pZCcsIHByb21vdGlvbklkKVxyXG4gIF0pO1xyXG5cclxuICAvLyBFbGltaW5hciBwcm9tb2Npw7NuXHJcbiAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncHJvbW90aW9ucycpXHJcbiAgICAuZGVsZXRlKClcclxuICAgIC5lcSgnaWQnLCBwcm9tb3Rpb25JZCk7XHJcblxyXG4gIGlmIChkZWxldGVFcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBlbGltaW5hciBwcm9tb2Npw7NuOiAke2RlbGV0ZUVycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBkZWxldGVkOiB0cnVlLCBkZWFjdGl2YXRlZDogZmFsc2UgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZHVwbGljYXRlUHJvbW90aW9uKHByb21vdGlvbklkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgLy8gT2J0ZW5lciBwcm9tb2Npw7NuIG9yaWdpbmFsXHJcbiAgY29uc3Qgb3JpZ2luYWxQcm9tb3Rpb24gPSBhd2FpdCBnZXRQcm9tb3Rpb25CeUlkKHByb21vdGlvbklkKTtcclxuICBcclxuICAvLyBQcmVwYXJhciBkYXRvcyBwYXJhIGR1cGxpY2FjacOzblxyXG4gIGNvbnN0IGR1cGxpY2F0ZURhdGEgPSB7XHJcbiAgICAuLi5vcmlnaW5hbFByb21vdGlvbixcclxuICAgIG5hbWU6IGAke29yaWdpbmFsUHJvbW90aW9uLm5hbWV9IChDb3BpYSlgLFxyXG4gICAgY291cG9uX2NvZGU6IG9yaWdpbmFsUHJvbW90aW9uLmNvdXBvbl9jb2RlID8gYCR7b3JpZ2luYWxQcm9tb3Rpb24uY291cG9uX2NvZGV9X0NPUFlgIDogdW5kZWZpbmVkLFxyXG4gICAgaXNfYWN0aXZlOiBmYWxzZSwgLy8gQ3JlYXIgY29tbyBpbmFjdGl2YVxyXG4gICAgdXNhZ2VfY291bnQ6IDAsXHJcbiAgICBjcmVhdGVkX2J5OiB1c2VySWQsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICB9O1xyXG5cclxuICAvLyBSZW1vdmVyIGNhbXBvcyBxdWUgbm8gZGViZW4gZHVwbGljYXJzZVxyXG4gIGRlbGV0ZSBkdXBsaWNhdGVEYXRhLmlkO1xyXG4gIGRlbGV0ZSBkdXBsaWNhdGVEYXRhLnN0YXR1cztcclxuICBkZWxldGUgZHVwbGljYXRlRGF0YS5jYXRlZ29yaWVzO1xyXG4gIGRlbGV0ZSBkdXBsaWNhdGVEYXRhLnByb2R1Y3RzO1xyXG4gIGRlbGV0ZSBkdXBsaWNhdGVEYXRhLmJyYW5kcztcclxuICBkZWxldGUgZHVwbGljYXRlRGF0YS5idW5kbGVfcHJvZHVjdHM7XHJcbiAgZGVsZXRlIGR1cGxpY2F0ZURhdGEuY3JlYXRvcjtcclxuICBkZWxldGUgZHVwbGljYXRlRGF0YS51c2FnZV9zdGF0cztcclxuXHJcbiAgLy8gQ3JlYXIgbnVldmEgcHJvbW9jacOzblxyXG4gIGNvbnN0IHsgZGF0YTogbmV3UHJvbW90aW9uLCBlcnJvcjogY3JlYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgncHJvbW90aW9ucycpXHJcbiAgICAuaW5zZXJ0KGR1cGxpY2F0ZURhdGEpXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGNyZWF0ZUVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIGR1cGxpY2FyIHByb21vY2nDs246ICR7Y3JlYXRlRXJyb3IubWVzc2FnZX1gKTtcclxuICB9XHJcblxyXG4gIC8vIER1cGxpY2FyIHJlbGFjaW9uZXNcclxuICBpZiAob3JpZ2luYWxQcm9tb3Rpb24uY2F0ZWdvcmllcz8ubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBjYXRlZ29yeUluc2VydHMgPSBvcmlnaW5hbFByb21vdGlvbi5jYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiAoe1xyXG4gICAgICBwcm9tb3Rpb25faWQ6IG5ld1Byb21vdGlvbi5pZCxcclxuICAgICAgY2F0ZWdvcnlfaWQ6IGNhdGVnb3J5LmlkXHJcbiAgICB9KSk7XHJcblxyXG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvbW90aW9uX2NhdGVnb3JpZXMnKS5pbnNlcnQoY2F0ZWdvcnlJbnNlcnRzKTtcclxuICB9XHJcblxyXG4gIGlmIChvcmlnaW5hbFByb21vdGlvbi5wcm9kdWN0cz8ubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBwcm9kdWN0SW5zZXJ0cyA9IG9yaWdpbmFsUHJvbW90aW9uLnByb2R1Y3RzLm1hcChwcm9kdWN0ID0+ICh7XHJcbiAgICAgIHByb21vdGlvbl9pZDogbmV3UHJvbW90aW9uLmlkLFxyXG4gICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0LmlkXHJcbiAgICB9KSk7XHJcblxyXG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvbW90aW9uX3Byb2R1Y3RzJykuaW5zZXJ0KHByb2R1Y3RJbnNlcnRzKTtcclxuICB9XHJcblxyXG4gIGlmIChvcmlnaW5hbFByb21vdGlvbi5icmFuZHM/Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgYnJhbmRJbnNlcnRzID0gb3JpZ2luYWxQcm9tb3Rpb24uYnJhbmRzLm1hcChicmFuZCA9PiAoe1xyXG4gICAgICBwcm9tb3Rpb25faWQ6IG5ld1Byb21vdGlvbi5pZCxcclxuICAgICAgYnJhbmRfaWQ6IGJyYW5kLmlkXHJcbiAgICB9KSk7XHJcblxyXG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvbW90aW9uX2JyYW5kcycpLmluc2VydChicmFuZEluc2VydHMpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9yaWdpbmFsUHJvbW90aW9uLmJ1bmRsZV9wcm9kdWN0cz8ubGVuZ3RoKSB7XHJcbiAgICBjb25zdCBidW5kbGVJbnNlcnRzID0gb3JpZ2luYWxQcm9tb3Rpb24uYnVuZGxlX3Byb2R1Y3RzLm1hcChpdGVtID0+ICh7XHJcbiAgICAgIHByb21vdGlvbl9pZDogbmV3UHJvbW90aW9uLmlkLFxyXG4gICAgICBwcm9kdWN0X2lkOiBpdGVtLnByb2R1Y3RfaWQsXHJcbiAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5XHJcbiAgICB9KSk7XHJcblxyXG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvbW90aW9uX2J1bmRsZV9wcm9kdWN0cycpLmluc2VydChidW5kbGVJbnNlcnRzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXdQcm9tb3Rpb247XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvZ0F1ZGl0QWN0aW9uKGFjdGlvbjogc3RyaW5nLCBwcm9tb3Rpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZywgZGV0YWlscz86IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdhdWRpdF9sb2dzJykuaW5zZXJ0KHtcclxuICAgICAgdGFibGVfbmFtZTogJ3Byb21vdGlvbnMnLFxyXG4gICAgICByZWNvcmRfaWQ6IHByb21vdGlvbklkLFxyXG4gICAgICBhY3Rpb24sXHJcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgY2hhbmdlczogZGV0YWlscyxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5XQVJOLCBMb2dDYXRlZ29yeS5BVURJVCwgJ0Vycm9yIGFsIHJlZ2lzdHJhciBhdWRpdG9yw61hJywgeyBlcnJvciB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdFVCAtIE9idGVuZXIgcHJvbW9jacOzbiBwb3IgSURcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gUmF0ZSBsaW1pdGluZ1xyXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgY2hlY2tSYXRlTGltaXQoXHJcbiAgICAgIHJlcXVlc3QsXHJcbiAgICAgIHtcclxuICAgICAgICB3aW5kb3dNczogUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLndpbmRvd01zLFxyXG4gICAgICAgIG1heFJlcXVlc3RzOiBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4ubWF4UmVxdWVzdHMsXHJcbiAgICAgICAgbWVzc2FnZTogUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLm1lc3NhZ2VcclxuICAgICAgfSxcclxuICAgICAgJ2FkbWluLXByb21vdGlvbi1kZXRhaWwnXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiByYXRlTGltaXRSZXN1bHQubWVzc2FnZSB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxyXG4gICAgICApO1xyXG4gICAgICBhZGRSYXRlTGltaXRIZWFkZXJzKHJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhciBhdXRlbnRpY2FjacOzbiBhZG1pblxyXG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlQWRtaW5BdXRoKCk7XHJcbiAgICBpZiAoYXV0aFJlc3VsdC5lcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBhdXRoUmVzdWx0LmVycm9yLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IGF1dGhSZXN1bHQuc3RhdHVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgSUQgZGUgcHJvbW9jacOzblxyXG4gICAgaWYgKCFwYXJhbXMuaWQgfHwgdHlwZW9mIHBhcmFtcy5pZCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ0lEIGRlIHByb21vY2nDs24gaW52w6FsaWRvJyxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHNpIHNlIHNvbGljaXRhbiBlc3RhZMOtc3RpY2FzXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBpbmNsdWRlU3RhdHMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpbmNsdWRlX3N0YXRzJykgPT09ICd0cnVlJztcclxuXHJcbiAgICAvLyBPYnRlbmVyIHByb21vY2nDs25cclxuICAgIGNvbnN0IHByb21vdGlvbiA9IGF3YWl0IGdldFByb21vdGlvbkJ5SWQocGFyYW1zLmlkLCBpbmNsdWRlU3RhdHMpO1xyXG5cclxuICAgIC8vIFJlZ2lzdHJhciBtw6l0cmljYXNcclxuICAgIG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkQXBpQ2FsbCh7XHJcbiAgICAgIGVuZHBvaW50OiAnL2FwaS9hZG1pbi9wcm9tb3Rpb25zL1tpZF0nLFxyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgIHJlc3BvbnNlVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcclxuICAgICAgdXNlcklkOiBhdXRoUmVzdWx0LnVzZXJJZFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlPFByb21vdGlvbkRhdGE+ID0ge1xyXG4gICAgICBkYXRhOiBwcm9tb3Rpb24sXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdQcm9tb2Npw7NuIG9idGVuaWRhIGV4aXRvc2FtZW50ZSdcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhuZXh0UmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCk7XHJcbiAgICByZXR1cm4gbmV4dFJlc3BvbnNlO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5FUlJPUiwgTG9nQ2F0ZWdvcnkuQVBJLCAnRXJyb3IgZW4gR0VUIC9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJywgeyBlcnJvciwgcHJvbW90aW9uSWQ6IHBhcmFtcy5pZCB9KTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzIGRlIGVycm9yXHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoe1xyXG4gICAgICBlbmRwb2ludDogJy9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJyxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgc3RhdHVzQ29kZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdubyBlbmNvbnRyYWRhJykgPyA0MDQgOiA1MDAsXHJcbiAgICAgIHJlc3BvbnNlVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzdGF0dXNDb2RlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdubyBlbmNvbnRyYWRhJykgPyA0MDQgOiA1MDA7XHJcbiAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogc3RhdHVzQ29kZSB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBVVCAtIEFjdHVhbGl6YXIgcHJvbW9jacOzblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBSYXRlIGxpbWl0aW5nXHJcbiAgICBjb25zdCByYXRlTGltaXRSZXN1bHQgPSBhd2FpdCBjaGVja1JhdGVMaW1pdChcclxuICAgICAgcmVxdWVzdCxcclxuICAgICAge1xyXG4gICAgICAgIHdpbmRvd01zOiBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4ud2luZG93TXMsXHJcbiAgICAgICAgbWF4UmVxdWVzdHM6IE1hdGguZmxvb3IoUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLm1heFJlcXVlc3RzIC8gMiksXHJcbiAgICAgICAgbWVzc2FnZTogJ0RlbWFzaWFkYXMgYWN0dWFsaXphY2lvbmVzIGRlIHByb21vY2nDs24nXHJcbiAgICAgIH0sXHJcbiAgICAgICdhZG1pbi1wcm9tb3Rpb24tdXBkYXRlJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIXJhdGVMaW1pdFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogcmF0ZUxpbWl0UmVzdWx0Lm1lc3NhZ2UgfSxcclxuICAgICAgICB7IHN0YXR1czogNDI5IH1cclxuICAgICAgKTtcclxuICAgICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhyZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0KTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgYXV0ZW50aWNhY2nDs24gYWRtaW5cclxuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUFkbWluQXV0aCgpO1xyXG4gICAgaWYgKGF1dGhSZXN1bHQuZXJyb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogYXV0aFJlc3VsdC5lcnJvcixcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiBhdXRoUmVzdWx0LnN0YXR1cyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGFyIElEIGRlIHByb21vY2nDs25cclxuICAgIGlmICghcGFyYW1zLmlkIHx8IHR5cGVvZiBwYXJhbXMuaWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdJRCBkZSBwcm9tb2Npw7NuIGludsOhbGlkbycsXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgZGF0b3MgZGUgZW50cmFkYVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyBhY3Rpb24gfSA9IGJvZHk7XHJcblxyXG4gICAgaWYgKGFjdGlvbikge1xyXG4gICAgICAvLyBNYW5lamFyIGFjY2lvbmVzIGVzcGVjaWFsZXNcclxuICAgICAgY29uc3QgYWN0aW9uRGF0YSA9IFByb21vdGlvbkFjdGlvblNjaGVtYS5wYXJzZShib2R5KTtcclxuICAgICAgbGV0IHJlc3VsdDtcclxuXHJcbiAgICAgIHN3aXRjaCAoYWN0aW9uRGF0YS5hY3Rpb24pIHtcclxuICAgICAgICBjYXNlICdhY3RpdmF0ZSc6XHJcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCB1cGRhdGVQcm9tb3Rpb24ocGFyYW1zLmlkLCB7IGlzX2FjdGl2ZTogdHJ1ZSwgaXNfcGF1c2VkOiBmYWxzZSB9LCBhdXRoUmVzdWx0LnVzZXJJZCEpO1xyXG4gICAgICAgICAgYXdhaXQgbG9nQXVkaXRBY3Rpb24oJ2FjdGl2YXRlJywgcGFyYW1zLmlkLCBhdXRoUmVzdWx0LnVzZXJJZCEsIHsgYWN0aW9uOiAnYWN0aXZhdGUnIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZGVhY3RpdmF0ZSc6XHJcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCB1cGRhdGVQcm9tb3Rpb24ocGFyYW1zLmlkLCB7IGlzX2FjdGl2ZTogZmFsc2UgfSwgYXV0aFJlc3VsdC51c2VySWQhKTtcclxuICAgICAgICAgIGF3YWl0IGxvZ0F1ZGl0QWN0aW9uKCdkZWFjdGl2YXRlJywgcGFyYW1zLmlkLCBhdXRoUmVzdWx0LnVzZXJJZCEsIHsgYWN0aW9uOiAnZGVhY3RpdmF0ZScgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdwYXVzZSc6XHJcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCB1cGRhdGVQcm9tb3Rpb24ocGFyYW1zLmlkLCB7IGlzX3BhdXNlZDogdHJ1ZSB9LCBhdXRoUmVzdWx0LnVzZXJJZCEpO1xyXG4gICAgICAgICAgYXdhaXQgbG9nQXVkaXRBY3Rpb24oJ3BhdXNlJywgcGFyYW1zLmlkLCBhdXRoUmVzdWx0LnVzZXJJZCEsIHsgYWN0aW9uOiAncGF1c2UnIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncmVzdW1lJzpcclxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVByb21vdGlvbihwYXJhbXMuaWQsIHsgaXNfcGF1c2VkOiBmYWxzZSB9LCBhdXRoUmVzdWx0LnVzZXJJZCEpO1xyXG4gICAgICAgICAgYXdhaXQgbG9nQXVkaXRBY3Rpb24oJ3Jlc3VtZScsIHBhcmFtcy5pZCwgYXV0aFJlc3VsdC51c2VySWQhLCB7IGFjdGlvbjogJ3Jlc3VtZScgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdkdXBsaWNhdGUnOlxyXG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgZHVwbGljYXRlUHJvbW90aW9uKHBhcmFtcy5pZCwgYXV0aFJlc3VsdC51c2VySWQhKTtcclxuICAgICAgICAgIGF3YWl0IGxvZ0F1ZGl0QWN0aW9uKCdkdXBsaWNhdGUnLCBwYXJhbXMuaWQsIGF1dGhSZXN1bHQudXNlcklkISwgeyBuZXdfcHJvbW90aW9uX2lkOiByZXN1bHQuaWQgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdleHRlbmQnOlxyXG4gICAgICAgICAgaWYgKCFhY3Rpb25EYXRhLmV4dGVuZF9kYXlzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRMOtYXMgZGUgZXh0ZW5zacOzbiByZXF1ZXJpZG9zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogY3VycmVudFByb21vdGlvbiB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ3Byb21vdGlvbnMnKVxyXG4gICAgICAgICAgICAuc2VsZWN0KCdlbmRzX2F0JylcclxuICAgICAgICAgICAgLmVxKCdpZCcsIHBhcmFtcy5pZClcclxuICAgICAgICAgICAgLnNpbmdsZSgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIWN1cnJlbnRQcm9tb3Rpb24/LmVuZHNfYXQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYSBwcm9tb2Npw7NuIG5vIHRpZW5lIGZlY2hhIGRlIGZpbmFsaXphY2nDs24nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgbmV3RW5kRGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRQcm9tb3Rpb24uZW5kc19hdCk7XHJcbiAgICAgICAgICBuZXdFbmREYXRlLnNldERhdGUobmV3RW5kRGF0ZS5nZXREYXRlKCkgKyBhY3Rpb25EYXRhLmV4dGVuZF9kYXlzKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdXBkYXRlUHJvbW90aW9uKHBhcmFtcy5pZCwgeyBlbmRzX2F0OiBuZXdFbmREYXRlLnRvSVNPU3RyaW5nKCkgfSwgYXV0aFJlc3VsdC51c2VySWQhKTtcclxuICAgICAgICAgIGF3YWl0IGxvZ0F1ZGl0QWN0aW9uKCdleHRlbmQnLCBwYXJhbXMuaWQsIGF1dGhSZXN1bHQudXNlcklkISwgeyBcclxuICAgICAgICAgICAgZXh0ZW5kX2RheXM6IGFjdGlvbkRhdGEuZXh0ZW5kX2RheXMsXHJcbiAgICAgICAgICAgIG5ld19lbmRfZGF0ZTogbmV3RW5kRGF0ZS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2nDs24gbm8gdsOhbGlkYScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzXHJcbiAgICAgIG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkQXBpQ2FsbCh7XHJcbiAgICAgICAgZW5kcG9pbnQ6ICcvYXBpL2FkbWluL3Byb21vdGlvbnMvW2lkXScsXHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgcmVzcG9uc2VUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxyXG4gICAgICAgIHVzZXJJZDogYXV0aFJlc3VsdC51c2VySWRcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8dHlwZW9mIHJlc3VsdD4gPSB7XHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbWVzc2FnZTogYEFjY2nDs24gJyR7YWN0aW9uRGF0YS5hY3Rpb259JyBlamVjdXRhZGEgZXhpdG9zYW1lbnRlYFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgICBhZGRSYXRlTGltaXRIZWFkZXJzKG5leHRSZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0KTtcclxuICAgICAgcmV0dXJuIG5leHRSZXNwb25zZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFjacOzbiBub3JtYWxcclxuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBVcGRhdGVQcm9tb3Rpb25TY2hlbWEucGFyc2UoYm9keSk7XHJcbiAgICBjb25zdCB1cGRhdGVkUHJvbW90aW9uID0gYXdhaXQgdXBkYXRlUHJvbW90aW9uKHBhcmFtcy5pZCwgdXBkYXRlRGF0YSwgYXV0aFJlc3VsdC51c2VySWQhKTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgYXVkaXRvcsOtYVxyXG4gICAgYXdhaXQgbG9nQXVkaXRBY3Rpb24oJ3VwZGF0ZScsIHBhcmFtcy5pZCwgYXV0aFJlc3VsdC51c2VySWQhLCB1cGRhdGVEYXRhKTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzXHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoe1xyXG4gICAgICBlbmRwb2ludDogJy9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJyxcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIHVzZXJJZDogYXV0aFJlc3VsdC51c2VySWRcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZTx0eXBlb2YgdXBkYXRlZFByb21vdGlvbj4gPSB7XHJcbiAgICAgIGRhdGE6IHVwZGF0ZWRQcm9tb3Rpb24sXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdQcm9tb2Npw7NuIGFjdHVhbGl6YWRhIGV4aXRvc2FtZW50ZSdcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhuZXh0UmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCk7XHJcbiAgICByZXR1cm4gbmV4dFJlc3BvbnNlO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5FUlJPUiwgTG9nQ2F0ZWdvcnkuQVBJLCAnRXJyb3IgZW4gUFVUIC9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJywgeyBlcnJvciwgcHJvbW90aW9uSWQ6IHBhcmFtcy5pZCB9KTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzIGRlIGVycm9yXHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoe1xyXG4gICAgICBlbmRwb2ludDogJy9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJyxcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERFTEVURSAtIEVsaW1pbmFyIHByb21vY2nDs25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gUmF0ZSBsaW1pdGluZ1xyXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgY2hlY2tSYXRlTGltaXQoXHJcbiAgICAgIHJlcXVlc3QsXHJcbiAgICAgIHtcclxuICAgICAgICB3aW5kb3dNczogUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLndpbmRvd01zLFxyXG4gICAgICAgIG1heFJlcXVlc3RzOiBNYXRoLmZsb29yKFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi5tYXhSZXF1ZXN0cyAvIDQpLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdEZW1hc2lhZGFzIGVsaW1pbmFjaW9uZXMgZGUgcHJvbW9jacOzbidcclxuICAgICAgfSxcclxuICAgICAgJ2FkbWluLXByb21vdGlvbi1kZWxldGUnXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiByYXRlTGltaXRSZXN1bHQubWVzc2FnZSB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxyXG4gICAgICApO1xyXG4gICAgICBhZGRSYXRlTGltaXRIZWFkZXJzKHJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhciBhdXRlbnRpY2FjacOzbiBhZG1pblxyXG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlQWRtaW5BdXRoKCk7XHJcbiAgICBpZiAoYXV0aFJlc3VsdC5lcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBhdXRoUmVzdWx0LmVycm9yLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IGF1dGhSZXN1bHQuc3RhdHVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgSUQgZGUgcHJvbW9jacOzblxyXG4gICAgaWYgKCFwYXJhbXMuaWQgfHwgdHlwZW9mIHBhcmFtcy5pZCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ0lEIGRlIHByb21vY2nDs24gaW52w6FsaWRvJyxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBsYSBwcm9tb2Npw7NuIGV4aXN0ZVxyXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1Byb21vdGlvbiB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb21vdGlvbnMnKVxyXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZScpXHJcbiAgICAgIC5lcSgnaWQnLCBwYXJhbXMuaWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoIWV4aXN0aW5nUHJvbW90aW9uKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdQcm9tb2Npw7NuIG5vIGVuY29udHJhZGEnLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbGltaW5hciBwcm9tb2Npw7NuXHJcbiAgICBjb25zdCBkZWxldGVSZXN1bHQgPSBhd2FpdCBkZWxldGVQcm9tb3Rpb24ocGFyYW1zLmlkKTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgYXVkaXRvcsOtYVxyXG4gICAgYXdhaXQgbG9nQXVkaXRBY3Rpb24oXHJcbiAgICAgIGRlbGV0ZVJlc3VsdC5kZWxldGVkID8gJ2RlbGV0ZScgOiAnZGVhY3RpdmF0ZScsIFxyXG4gICAgICBwYXJhbXMuaWQsIFxyXG4gICAgICBhdXRoUmVzdWx0LnVzZXJJZCEsIFxyXG4gICAgICB7IFxyXG4gICAgICAgIHByb21vdGlvbl9uYW1lOiBleGlzdGluZ1Byb21vdGlvbi5uYW1lLFxyXG4gICAgICAgIGRlbGV0ZWQ6IGRlbGV0ZVJlc3VsdC5kZWxldGVkLFxyXG4gICAgICAgIGRlYWN0aXZhdGVkOiBkZWxldGVSZXN1bHQuZGVhY3RpdmF0ZWRcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzXHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoe1xyXG4gICAgICBlbmRwb2ludDogJy9hcGkvYWRtaW4vcHJvbW90aW9ucy9baWRdJyxcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIHVzZXJJZDogYXV0aFJlc3VsdC51c2VySWRcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBkZWxldGVSZXN1bHQuZGVsZXRlZCBcclxuICAgICAgPyAnUHJvbW9jacOzbiBlbGltaW5hZGEgZXhpdG9zYW1lbnRlJ1xyXG4gICAgICA6ICdQcm9tb2Npw7NuIGRlc2FjdGl2YWRhICh0ZW7DrWEgdXNvIGFjdGl2byknO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlOiBBcGlSZXNwb25zZTx0eXBlb2YgZGVsZXRlUmVzdWx0PiA9IHtcclxuICAgICAgZGF0YTogZGVsZXRlUmVzdWx0LFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5leHRSZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcclxuICAgIGFkZFJhdGVMaW1pdEhlYWRlcnMobmV4dFJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQpO1xyXG4gICAgcmV0dXJuIG5leHRSZXNwb25zZTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuRVJST1IsIExvZ0NhdGVnb3J5LkFQSSwgJ0Vycm9yIGVuIERFTEVURSAvYXBpL2FkbWluL3Byb21vdGlvbnMvW2lkXScsIHsgZXJyb3IsIHByb21vdGlvbklkOiBwYXJhbXMuaWQgfSk7XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG3DqXRyaWNhcyBkZSBlcnJvclxyXG4gICAgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRBcGlDYWxsKHtcclxuICAgICAgZW5kcG9pbnQ6ICcvYXBpL2FkbWluL3Byb21vdGlvbnMvW2lkXScsXHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDUwMCxcclxuICAgICAgcmVzcG9uc2VUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICBkYXRhOiBudWxsLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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