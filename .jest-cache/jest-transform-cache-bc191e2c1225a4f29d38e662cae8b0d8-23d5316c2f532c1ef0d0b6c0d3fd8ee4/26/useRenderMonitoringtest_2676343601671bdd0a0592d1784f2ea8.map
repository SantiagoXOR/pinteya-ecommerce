{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useRenderMonitoring.test.ts"],"sourcesContent":["// ===================================\n// PINTEYA E-COMMERCE - UNIT TESTS\n// Pruebas unitarias para useRenderMonitoring\n// ===================================\n\nimport { renderHook, act } from '@testing-library/react'\nimport { describe, it, expect, beforeEach, afterEach } from '@jest/globals'\nimport { jest } from '@jest/globals'\nimport { useRenderMonitoring, withRenderMonitoring } from '@/hooks/monitoring/useRenderMonitoring'\nimport React from 'react'\n\n// ===================================\n// MOCKS\n// ===================================\n\n// Mock de performance.now()\nconst mockPerformanceNow = jest.fn()\nObject.defineProperty(global, 'performance', {\n  value: {\n    now: mockPerformanceNow,\n    memory: {\n      usedJSHeapSize: 50 * 1024 * 1024, // 50MB\n    },\n  },\n  writable: true,\n})\n\n// Mock de console\nconst mockConsoleLog = jest.spyOn(console, 'log').mockImplementation(() => {})\nconst mockConsoleWarn = jest.spyOn(console, 'warn').mockImplementation(() => {})\nconst mockConsoleError = jest.spyOn(console, 'error').mockImplementation(() => {})\n\n// Mock de localStorage\nconst mockLocalStorage = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nObject.defineProperty(global, 'localStorage', {\n  value: mockLocalStorage,\n  writable: true,\n})\n\n// ===================================\n// SETUP Y CLEANUP\n// ===================================\n\nbeforeEach(() => {\n  jest.clearAllMocks()\n  mockPerformanceNow.mockReturnValue(1000)\n  mockLocalStorage.getItem.mockReturnValue(null)\n})\n\nafterEach(() => {\n  jest.clearAllTimers()\n})\n\n// ===================================\n// TESTS PRINCIPALES\n// ===================================\n\ndescribe('useRenderMonitoring', () => {\n  describe('Inicialización', () => {\n    it('debe inicializar con configuración por defecto', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n        })\n      )\n\n      expect(result.current.isEnabled).toBe(true)\n      expect(result.current.metrics).toBeDefined()\n      expect(result.current.alerts).toEqual([])\n      expect(typeof result.current.trackError).toBe('function')\n    })\n\n    it('debe respetar la configuración personalizada', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          enabled: false,\n          enableConsoleLogging: false,\n          enableToasts: false,\n        })\n      )\n\n      expect(result.current.isEnabled).toBe(false)\n    })\n\n    it('debe aplicar thresholds personalizados', () => {\n      const customThresholds = {\n        slowRenderThreshold: 20,\n        maxRenderCount: 50,\n        memoryThreshold: 100,\n        errorThreshold: 5,\n      }\n\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: customThresholds,\n        })\n      )\n\n      expect(result.current.isEnabled).toBe(true)\n    })\n  })\n\n  describe('Tracking de renders', () => {\n    it('debe trackear renders correctamente', () => {\n      let renderCount = 0\n      mockPerformanceNow\n        .mockReturnValueOnce(1000) // Inicio del render\n        .mockReturnValueOnce(1010) // Fin del render (10ms)\n\n      const { result, rerender } = renderHook(() => {\n        renderCount++\n        return useRenderMonitoring({\n          componentName: 'TestComponent',\n          enableConsoleLogging: true,\n        })\n      })\n\n      // Forzar re-render\n      rerender()\n\n      expect(result.current.metrics?.renderCount).toBeGreaterThan(0)\n    })\n\n    it('debe detectar renders lentos', () => {\n      mockPerformanceNow\n        .mockReturnValueOnce(1000) // Inicio\n        .mockReturnValueOnce(1100) // Fin (100ms - lento)\n\n      const { result, rerender } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            slowRenderThreshold: 50, // 50ms threshold\n          },\n        })\n      )\n\n      rerender()\n\n      expect(result.current.metrics?.slowRenders).toBeGreaterThan(0)\n    })\n\n    it('debe calcular tiempo promedio de render', () => {\n      // Simular múltiples renders con diferentes tiempos\n      mockPerformanceNow\n        .mockReturnValueOnce(1000)\n        .mockReturnValueOnce(1010) // 10ms\n        .mockReturnValueOnce(2000)\n        .mockReturnValueOnce(2020) // 20ms\n        .mockReturnValueOnce(3000)\n        .mockReturnValueOnce(3030) // 30ms\n\n      const { result, rerender } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n        })\n      )\n\n      rerender()\n      rerender()\n      rerender()\n\n      // Promedio debería ser (10 + 20 + 30) / 3 = 20ms\n      expect(result.current.metrics?.averageRenderTime).toBeCloseTo(20, 1)\n    })\n  })\n\n  describe('Tracking de errores', () => {\n    it('debe trackear errores correctamente', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n        })\n      )\n\n      const testError = new Error('Test error')\n\n      act(() => {\n        result.current.trackError(testError, {\n          action: 'test_action',\n          context: 'test_context',\n        })\n      })\n\n      expect(result.current.metrics?.errorCount).toBe(1)\n    })\n\n    it('debe generar alertas por errores frecuentes', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            errorThreshold: 2, // 2 errores por minuto\n          },\n        })\n      )\n\n      const testError = new Error('Test error')\n\n      act(() => {\n        // Generar múltiples errores\n        result.current.trackError(testError)\n        result.current.trackError(testError)\n        result.current.trackError(testError)\n      })\n\n      expect(result.current.alerts.length).toBeGreaterThan(0)\n      expect(result.current.alerts[0].type).toBe('high_error_rate')\n    })\n  })\n\n  describe('Monitoreo de memoria', () => {\n    it('debe trackear uso de memoria', () => {\n      // Mock de performance.memory con alto uso\n      Object.defineProperty(global.performance, 'memory', {\n        value: {\n          usedJSHeapSize: 150 * 1024 * 1024, // 150MB\n        },\n        configurable: true,\n      })\n\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            memoryThreshold: 100, // 100MB threshold\n          },\n        })\n      )\n\n      expect(result.current.metrics?.memoryUsage).toBeGreaterThan(100)\n    })\n\n    it('debe generar alertas por alto uso de memoria', () => {\n      Object.defineProperty(global.performance, 'memory', {\n        value: {\n          usedJSHeapSize: 200 * 1024 * 1024, // 200MB\n        },\n        configurable: true,\n      })\n\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            memoryThreshold: 100, // 100MB threshold\n          },\n        })\n      )\n\n      expect(result.current.alerts.some(alert => alert.type === 'high_memory_usage')).toBe(true)\n    })\n  })\n\n  describe('Sistema de alertas', () => {\n    it('debe generar alertas con severidad correcta', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            errorThreshold: 1,\n          },\n        })\n      )\n\n      act(() => {\n        result.current.trackError(new Error('Critical error'))\n      })\n\n      const alert = result.current.alerts[0]\n      expect(alert).toBeDefined()\n      expect(['low', 'medium', 'high', 'critical']).toContain(alert.severity)\n    })\n\n    it('debe limpiar alertas resueltas', () => {\n      jest.useFakeTimers()\n\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          thresholds: {\n            errorThreshold: 1,\n          },\n        })\n      )\n\n      act(() => {\n        result.current.trackError(new Error('Test error'))\n      })\n\n      expect(result.current.alerts.length).toBeGreaterThan(0)\n\n      // Avanzar tiempo para que las alertas se resuelvan automáticamente\n      act(() => {\n        jest.advanceTimersByTime(5 * 60 * 1000) // 5 minutos\n      })\n\n      // Las alertas deberían estar marcadas como resueltas o eliminadas\n      const unresolvedAlerts = result.current.alerts.filter(a => !a.resolved)\n      expect(unresolvedAlerts.length).toBeLessThanOrEqual(result.current.alerts.length)\n\n      jest.useRealTimers()\n    })\n  })\n\n  describe('Persistencia de datos', () => {\n    it('debe guardar métricas en localStorage', () => {\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          enablePersistence: true,\n        })\n      )\n\n      act(() => {\n        result.current.trackError(new Error('Test error'))\n      })\n\n      expect(mockLocalStorage.setItem).toHaveBeenCalled()\n    })\n\n    it('debe cargar métricas desde localStorage', () => {\n      const savedMetrics = {\n        renderCount: 10,\n        errorCount: 2,\n        slowRenders: 1,\n        averageRenderTime: 15.5,\n        memoryUsage: 75.2,\n      }\n\n      mockLocalStorage.getItem.mockReturnValue(JSON.stringify(savedMetrics))\n\n      const { result } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          enablePersistence: true,\n        })\n      )\n\n      expect(result.current.metrics?.renderCount).toBe(10)\n      expect(result.current.metrics?.errorCount).toBe(2)\n    })\n  })\n\n  describe('Configuración dinámica', () => {\n    it('debe permitir habilitar/deshabilitar monitoreo', () => {\n      const { result, rerender } = renderHook(\n        ({ enabled }) =>\n          useRenderMonitoring({\n            componentName: 'TestComponent',\n            enabled,\n          }),\n        { initialProps: { enabled: true } }\n      )\n\n      expect(result.current.isEnabled).toBe(true)\n\n      rerender({ enabled: false })\n      expect(result.current.isEnabled).toBe(false)\n    })\n\n    it('debe actualizar thresholds dinámicamente', () => {\n      const { result, rerender } = renderHook(\n        ({ threshold }) =>\n          useRenderMonitoring({\n            componentName: 'TestComponent',\n            thresholds: {\n              slowRenderThreshold: threshold,\n            },\n          }),\n        { initialProps: { threshold: 16 } }\n      )\n\n      // Cambiar threshold\n      rerender({ threshold: 50 })\n\n      // El hook debería usar el nuevo threshold\n      expect(result.current.isEnabled).toBe(true)\n    })\n  })\n\n  describe('Logging y debugging', () => {\n    it('debe loggear información cuando está habilitado', () => {\n      const { result, rerender } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          enableConsoleLogging: true,\n        })\n      )\n\n      rerender() // Forzar re-render\n\n      expect(mockConsoleLog).toHaveBeenCalled()\n    })\n\n    it('no debe loggear cuando está deshabilitado', () => {\n      mockConsoleLog.mockClear()\n\n      const { result, rerender } = renderHook(() =>\n        useRenderMonitoring({\n          componentName: 'TestComponent',\n          enableConsoleLogging: false,\n        })\n      )\n\n      rerender()\n\n      expect(mockConsoleLog).not.toHaveBeenCalled()\n    })\n  })\n})\n\n// ===================================\n// TESTS PARA HOC\n// ===================================\n\ndescribe('withRenderMonitoring HOC', () => {\n  it('debe envolver componente correctamente', () => {\n    const TestComponent: React.FC<{ title: string }> = ({ title }) => {\n      return React.createElement('div', null, title)\n    }\n\n    const WrappedComponent = withRenderMonitoring(TestComponent, {\n      enabled: true,\n      enableConsoleLogging: true,\n    })\n\n    expect(WrappedComponent).toBeDefined()\n    expect(typeof WrappedComponent).toBe('function')\n  })\n\n  it('debe pasar props correctamente al componente envuelto', () => {\n    const TestComponent: React.FC<{ title: string; count: number }> = ({ title, count }) => {\n      return React.createElement('div', null, `${title}: ${count}`)\n    }\n\n    const WrappedComponent = withRenderMonitoring(TestComponent, {\n      enabled: true,\n    })\n\n    const { container } = render(\n      React.createElement(WrappedComponent, { title: 'Test', count: 42 })\n    )\n\n    expect(container.textContent).toBe('Test: 42')\n  })\n})\n\n// Helper para render (simplificado para el test)\nfunction render(element: React.ReactElement) {\n  const container = document.createElement('div')\n  // Simulación básica de render para el test\n  return { container }\n}\n"],"names":["mockPerformanceNow","jest","fn","Object","defineProperty","global","value","now","memory","usedJSHeapSize","writable","mockConsoleLog","spyOn","console","mockImplementation","mockConsoleWarn","mockConsoleError","mockLocalStorage","getItem","setItem","removeItem","clear","beforeEach","clearAllMocks","mockReturnValue","afterEach","clearAllTimers","describe","it","result","renderHook","useRenderMonitoring","componentName","expect","current","isEnabled","toBe","metrics","toBeDefined","alerts","toEqual","trackError","enabled","enableConsoleLogging","enableToasts","customThresholds","slowRenderThreshold","maxRenderCount","memoryThreshold","errorThreshold","thresholds","renderCount","mockReturnValueOnce","rerender","toBeGreaterThan","slowRenders","averageRenderTime","toBeCloseTo","testError","Error","act","action","context","errorCount","length","type","performance","configurable","memoryUsage","some","alert","toContain","severity","useFakeTimers","advanceTimersByTime","unresolvedAlerts","filter","a","resolved","toBeLessThanOrEqual","useRealTimers","enablePersistence","toHaveBeenCalled","savedMetrics","JSON","stringify","initialProps","threshold","mockClear","not","TestComponent","title","React","createElement","WrappedComponent","withRenderMonitoring","count","container","render","textContent","element","document"],"mappings":"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"}