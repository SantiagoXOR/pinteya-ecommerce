0c811ee63175f66c4cdf79339d3b56dc
// ===================================
// PINTEYA E-COMMERCE - TESTS UNITARIOS PARA useCheckoutTransition HOOK
// ===================================
"use strict";
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _useCheckoutTransition = /*#__PURE__*/ _interop_require_default(require("../../hooks/useCheckoutTransition"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock performance API para navegadores que no lo soportan
const mockPerformance = {
    now: jest.fn(()=>Date.now())
};
Object.defineProperty(global, 'performance', {
    value: mockPerformance,
    writable: true
});
// Mock console methods para tests limpios
const originalConsole = {
    ...console
};
beforeAll(()=>{
    console.debug = jest.fn();
    console.warn = jest.fn();
    console.error = jest.fn();
});
afterAll(()=>{
    Object.assign(console, originalConsole);
});
describe('useCheckoutTransition Hook - Tests Unitarios', ()=>{
    const mockPush = jest.fn();
    const mockRouter = {
        push: mockPush,
        back: jest.fn(),
        forward: jest.fn(),
        refresh: jest.fn(),
        replace: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.useFakeTimers();
        _navigation.useRouter.mockReturnValue(mockRouter);
        mockPerformance.now.mockReturnValue(1000);
    });
    afterEach(()=>{
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
    });
    describe('Estados Básicos del Hook', ()=>{
        it('debe inicializar con estados correctos por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            expect(result.current.isTransitioning).toBe(false);
            expect(result.current.isButtonDisabled).toBe(false);
            expect(result.current.transitionProgress).toBe(0);
            expect(result.current.skipAnimation).toBe(false);
            expect(result.current.performanceMetrics.startTime).toBe(null);
            expect(typeof result.current.startTransition).toBe('function');
        });
        it('debe cambiar isTransitioning a true cuando se inicia la transición', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(result.current.isTransitioning).toBe(true);
            expect(result.current.isButtonDisabled).toBe(true);
        });
        it('debe resetear isTransitioning después de la duración especificada', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(result.current.isTransitioning).toBe(true);
            // Avanzar tiempo hasta completar la animación
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.isTransitioning).toBe(false);
            });
        });
    });
    describe('Detección de prefers-reduced-motion', ()=>{
        const mockMatchMedia = jest.fn();
        beforeEach(()=>{
            Object.defineProperty(window, 'matchMedia', {
                writable: true,
                value: mockMatchMedia
            });
        });
        it('debe detectar prefers-reduced-motion: reduce', ()=>{
            const mockMediaQuery = {
                matches: true,
                addEventListener: jest.fn(),
                removeEventListener: jest.fn()
            };
            mockMatchMedia.mockReturnValue(mockMediaQuery);
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            expect(result.current.skipAnimation).toBe(true);
        });
        it('debe usar animación normal cuando prefers-reduced-motion: no-preference', ()=>{
            const mockMediaQuery = {
                matches: false,
                addEventListener: jest.fn(),
                removeEventListener: jest.fn()
            };
            mockMatchMedia.mockReturnValue(mockMediaQuery);
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            expect(result.current.skipAnimation).toBe(false);
        });
        it('debe manejar cambios dinámicos en prefers-reduced-motion', ()=>{
            const mockMediaQuery = {
                matches: false,
                addEventListener: jest.fn(),
                removeEventListener: jest.fn()
            };
            mockMatchMedia.mockReturnValue(mockMediaQuery);
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            expect(result.current.skipAnimation).toBe(false);
            // Simular cambio a reduced motion
            const changeHandler = mockMediaQuery.addEventListener.mock.calls[0][1];
            (0, _react.act)(()=>{
                changeHandler({
                    matches: true
                });
            });
            expect(result.current.skipAnimation).toBe(true);
        });
        it('debe manejar navegadores sin soporte para addEventListener', ()=>{
            const mockMediaQuery = {
                matches: false,
                addListener: jest.fn(),
                removeListener: jest.fn()
            };
            mockMatchMedia.mockReturnValue(mockMediaQuery);
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            expect(mockMediaQuery.addListener).toHaveBeenCalled();
            expect(result.current.skipAnimation).toBe(false);
        });
    });
    describe('Callbacks y Eventos', ()=>{
        it('debe ejecutar onTransitionStart cuando se inicia la transición', ()=>{
            const onTransitionStart = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    onTransitionStart
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(onTransitionStart).toHaveBeenCalledTimes(1);
        });
        it('debe ejecutar onTransitionComplete cuando termina la transición', async ()=>{
            const onTransitionComplete = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    onTransitionComplete
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            await (0, _react.waitFor)(()=>{
                expect(onTransitionComplete).toHaveBeenCalledTimes(1);
            });
        });
        it('debe manejar errores en callbacks y ejecutar onTransitionError', ()=>{
            const onTransitionStart = jest.fn(()=>{
                throw new Error('Test error');
            });
            const onTransitionError = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    onTransitionStart,
                    onTransitionError
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(onTransitionError).toHaveBeenCalledWith(expect.any(Error));
        });
    });
    describe('Prevención de Múltiples Activaciones', ()=>{
        it('debe ignorar múltiples llamadas a startTransition', ()=>{
            const onTransitionStart = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    onTransitionStart
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
                result.current.startTransition();
                result.current.startTransition();
            });
            expect(onTransitionStart).toHaveBeenCalledTimes(3);
            expect(result.current.isTransitioning).toBe(true);
        });
        it('debe permitir nueva transición después de completar la anterior', async ()=>{
            const onTransitionStart = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    onTransitionStart
                }));
            // Primera transición
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            // Completar primera transición
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.isTransitioning).toBe(false);
            });
            // Segunda transición debe funcionar
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(onTransitionStart).toHaveBeenCalledTimes(2);
        });
    });
    describe('Performance Tracking', ()=>{
        it('debe trackear métricas de performance cuando está habilitado', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    enablePerformanceTracking: true
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(result.current.performanceMetrics.startTime).toBeGreaterThanOrEqual(0);
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            expect(result.current.performanceMetrics.endTime).toBeTruthy();
            expect(result.current.performanceMetrics.duration).toBeTruthy();
        });
        it('debe actualizar transitionProgress durante la animación', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            expect(result.current.transitionProgress).toBe(0);
            // Avanzar parcialmente
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(1400); // 50% de 2800ms
            });
            expect(result.current.transitionProgress).toBeGreaterThan(0);
            expect(result.current.transitionProgress).toBeLessThan(100);
        });
    });
    describe('Configuraciones Personalizadas', ()=>{
        it('debe usar duración personalizada cuando se proporciona', async ()=>{
            const customDuration = 1000;
            const onTransitionComplete = jest.fn();
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    customDuration,
                    onTransitionComplete
                }));
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            // No debe completarse con la duración por defecto
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            expect(onTransitionComplete).toHaveBeenCalled();
            // Debe completarse con la duración personalizada
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(1000);
            });
            await (0, _react.waitFor)(()=>{
                expect(onTransitionComplete).toHaveBeenCalled();
            });
        });
        it('debe deshabilitar animación cuando enableAnimation es false', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)({
                    enableAnimation: false
                }));
            expect(result.current.skipAnimation).toBe(true);
        });
    });
    describe('Navegación y Cleanup', ()=>{
        it('debe navegar a /checkout al completar la transición', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(2800);
            });
            await (0, _react.waitFor)(()=>{
                expect(mockPush).toHaveBeenCalledWith('/checkout');
            });
        });
        it('debe limpiar timeouts en unmount', ()=>{
            const { result, unmount } = (0, _react.renderHook)(()=>(0, _useCheckoutTransition.default)());
            (0, _react.act)(()=>{
                result.current.startTransition();
            });
            // Unmount antes de que termine la animación
            unmount();
            // Avanzar tiempo - no debería causar errores
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(5000);
            });
            // No debe haber navegación después del unmount
            expect(mockPush).not.toHaveBeenCalled();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQ2hlY2tvdXRUcmFuc2l0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIFRFU1RTIFVOSVRBUklPUyBQQVJBIHVzZUNoZWNrb3V0VHJhbnNpdGlvbiBIT09LXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IHVzZUNoZWNrb3V0VHJhbnNpdGlvbiBmcm9tICdAL2hvb2tzL3VzZUNoZWNrb3V0VHJhbnNpdGlvbidcblxuLy8gTW9jayBOZXh0LmpzIHJvdXRlclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6IGplc3QuZm4oKSxcbn0pKVxuXG4vLyBNb2NrIHBlcmZvcm1hbmNlIEFQSSBwYXJhIG5hdmVnYWRvcmVzIHF1ZSBubyBsbyBzb3BvcnRhblxuY29uc3QgbW9ja1BlcmZvcm1hbmNlID0ge1xuICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdwZXJmb3JtYW5jZScsIHtcbiAgdmFsdWU6IG1vY2tQZXJmb3JtYW5jZSxcbiAgd3JpdGFibGU6IHRydWUsXG59KVxuXG4vLyBNb2NrIGNvbnNvbGUgbWV0aG9kcyBwYXJhIHRlc3RzIGxpbXBpb3NcbmNvbnN0IG9yaWdpbmFsQ29uc29sZSA9IHsgLi4uY29uc29sZSB9XG5iZWZvcmVBbGwoKCkgPT4ge1xuICBjb25zb2xlLmRlYnVnID0gamVzdC5mbigpXG4gIGNvbnNvbGUud2FybiA9IGplc3QuZm4oKVxuICBjb25zb2xlLmVycm9yID0gamVzdC5mbigpXG59KVxuXG5hZnRlckFsbCgoKSA9PiB7XG4gIE9iamVjdC5hc3NpZ24oY29uc29sZSwgb3JpZ2luYWxDb25zb2xlKVxufSlcblxuZGVzY3JpYmUoJ3VzZUNoZWNrb3V0VHJhbnNpdGlvbiBIb29rIC0gVGVzdHMgVW5pdGFyaW9zJywgKCkgPT4ge1xuICBjb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKVxuICBjb25zdCBtb2NrUm91dGVyID0ge1xuICAgIHB1c2g6IG1vY2tQdXNoLFxuICAgIGJhY2s6IGplc3QuZm4oKSxcbiAgICBmb3J3YXJkOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgfVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gICAgamVzdC51c2VGYWtlVGltZXJzKClcbiAgICA7KHVzZVJvdXRlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrUm91dGVyKVxuICAgIG1vY2tQZXJmb3JtYW5jZS5ub3cubW9ja1JldHVyblZhbHVlKDEwMDApXG4gIH0pXG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJ1bk9ubHlQZW5kaW5nVGltZXJzKClcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdFc3RhZG9zIELDoXNpY29zIGRlbCBIb29rJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIGluaWNpYWxpemFyIGNvbiBlc3RhZG9zIGNvcnJlY3RvcyBwb3IgZGVmZWN0bycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNoZWNrb3V0VHJhbnNpdGlvbigpKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNUcmFuc2l0aW9uaW5nKS50b0JlKGZhbHNlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQnV0dG9uRGlzYWJsZWQpLnRvQmUoZmFsc2UpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudHJhbnNpdGlvblByb2dyZXNzKS50b0JlKDApXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2tpcEFuaW1hdGlvbikudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wZXJmb3JtYW5jZU1ldHJpY3Muc3RhcnRUaW1lKS50b0JlKG51bGwpXG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbikudG9CZSgnZnVuY3Rpb24nKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBjYW1iaWFyIGlzVHJhbnNpdGlvbmluZyBhIHRydWUgY3VhbmRvIHNlIGluaWNpYSBsYSB0cmFuc2ljacOzbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNoZWNrb3V0VHJhbnNpdGlvbigpKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zdGFydFRyYW5zaXRpb24oKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzVHJhbnNpdGlvbmluZykudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQnV0dG9uRGlzYWJsZWQpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgcmVzZXRlYXIgaXNUcmFuc2l0aW9uaW5nIGRlc3B1w6lzIGRlIGxhIGR1cmFjacOzbiBlc3BlY2lmaWNhZGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDaGVja291dFRyYW5zaXRpb24oKSlcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc3RhcnRUcmFuc2l0aW9uKClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1RyYW5zaXRpb25pbmcpLnRvQmUodHJ1ZSlcblxuICAgICAgLy8gQXZhbnphciB0aWVtcG8gaGFzdGEgY29tcGxldGFyIGxhIGFuaW1hY2nDs25cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyODAwKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1RyYW5zaXRpb25pbmcpLnRvQmUoZmFsc2UpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0RldGVjY2nDs24gZGUgcHJlZmVycy1yZWR1Y2VkLW1vdGlvbicsICgpID0+IHtcbiAgICBjb25zdCBtb2NrTWF0Y2hNZWRpYSA9IGplc3QuZm4oKVxuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbWF0Y2hNZWRpYScsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBtb2NrTWF0Y2hNZWRpYSxcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGRldGVjdGFyIHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tNZWRpYVF1ZXJ5ID0ge1xuICAgICAgICBtYXRjaGVzOiB0cnVlLFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIH1cbiAgICAgIG1vY2tNYXRjaE1lZGlhLm1vY2tSZXR1cm5WYWx1ZShtb2NrTWVkaWFRdWVyeSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKCkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5za2lwQW5pbWF0aW9uKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIHVzYXIgYW5pbWFjacOzbiBub3JtYWwgY3VhbmRvIHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IG5vLXByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTWVkaWFRdWVyeSA9IHtcbiAgICAgICAgbWF0Y2hlczogZmFsc2UsXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgICAgfVxuICAgICAgbW9ja01hdGNoTWVkaWEubW9ja1JldHVyblZhbHVlKG1vY2tNZWRpYVF1ZXJ5KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDaGVja291dFRyYW5zaXRpb24oKSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNraXBBbmltYXRpb24pLnRvQmUoZmFsc2UpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgY2FtYmlvcyBkaW7DoW1pY29zIGVuIHByZWZlcnMtcmVkdWNlZC1tb3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTWVkaWFRdWVyeSA9IHtcbiAgICAgICAgbWF0Y2hlczogZmFsc2UsXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgICAgfVxuICAgICAgbW9ja01hdGNoTWVkaWEubW9ja1JldHVyblZhbHVlKG1vY2tNZWRpYVF1ZXJ5KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDaGVja291dFRyYW5zaXRpb24oKSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNraXBBbmltYXRpb24pLnRvQmUoZmFsc2UpXG5cbiAgICAgIC8vIFNpbXVsYXIgY2FtYmlvIGEgcmVkdWNlZCBtb3Rpb25cbiAgICAgIGNvbnN0IGNoYW5nZUhhbmRsZXIgPSBtb2NrTWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyLm1vY2suY2FsbHNbMF1bMV1cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGNoYW5nZUhhbmRsZXIoeyBtYXRjaGVzOiB0cnVlIH0pXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2tpcEFuaW1hdGlvbikudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIG5hdmVnYWRvcmVzIHNpbiBzb3BvcnRlIHBhcmEgYWRkRXZlbnRMaXN0ZW5lcicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tNZWRpYVF1ZXJ5ID0ge1xuICAgICAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICAgICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIH1cbiAgICAgIG1vY2tNYXRjaE1lZGlhLm1vY2tSZXR1cm5WYWx1ZShtb2NrTWVkaWFRdWVyeSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKCkpXG5cbiAgICAgIGV4cGVjdChtb2NrTWVkaWFRdWVyeS5hZGRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2tpcEFuaW1hdGlvbikudG9CZShmYWxzZSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdDYWxsYmFja3MgeSBFdmVudG9zJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIGVqZWN1dGFyIG9uVHJhbnNpdGlvblN0YXJ0IGN1YW5kbyBzZSBpbmljaWEgbGEgdHJhbnNpY2nDs24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBvblRyYW5zaXRpb25TdGFydCA9IGplc3QuZm4oKVxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKHsgb25UcmFuc2l0aW9uU3RhcnQgfSkpXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qob25UcmFuc2l0aW9uU3RhcnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBlamVjdXRhciBvblRyYW5zaXRpb25Db21wbGV0ZSBjdWFuZG8gdGVybWluYSBsYSB0cmFuc2ljacOzbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9uVHJhbnNpdGlvbkNvbXBsZXRlID0gamVzdC5mbigpXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDaGVja291dFRyYW5zaXRpb24oeyBvblRyYW5zaXRpb25Db21wbGV0ZSB9KSlcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc3RhcnRUcmFuc2l0aW9uKClcbiAgICAgIH0pXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyODAwKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChvblRyYW5zaXRpb25Db21wbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIGVycm9yZXMgZW4gY2FsbGJhY2tzIHkgZWplY3V0YXIgb25UcmFuc2l0aW9uRXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBvblRyYW5zaXRpb25TdGFydCA9IGplc3QuZm4oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKVxuICAgICAgfSlcbiAgICAgIGNvbnN0IG9uVHJhbnNpdGlvbkVycm9yID0gamVzdC5mbigpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNoZWNrb3V0VHJhbnNpdGlvbih7IG9uVHJhbnNpdGlvblN0YXJ0LCBvblRyYW5zaXRpb25FcnJvciB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zdGFydFRyYW5zaXRpb24oKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KG9uVHJhbnNpdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KEVycm9yKSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdQcmV2ZW5jacOzbiBkZSBNw7psdGlwbGVzIEFjdGl2YWNpb25lcycsICgpID0+IHtcbiAgICBpdCgnZGViZSBpZ25vcmFyIG3Dumx0aXBsZXMgbGxhbWFkYXMgYSBzdGFydFRyYW5zaXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBvblRyYW5zaXRpb25TdGFydCA9IGplc3QuZm4oKVxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKHsgb25UcmFuc2l0aW9uU3RhcnQgfSkpXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qob25UcmFuc2l0aW9uU3RhcnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzVHJhbnNpdGlvbmluZykudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBwZXJtaXRpciBudWV2YSB0cmFuc2ljacOzbiBkZXNwdcOpcyBkZSBjb21wbGV0YXIgbGEgYW50ZXJpb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvblRyYW5zaXRpb25TdGFydCA9IGplc3QuZm4oKVxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKHsgb25UcmFuc2l0aW9uU3RhcnQgfSkpXG5cbiAgICAgIC8vIFByaW1lcmEgdHJhbnNpY2nDs25cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICAvLyBDb21wbGV0YXIgcHJpbWVyYSB0cmFuc2ljacOzblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDI4MDApXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzVHJhbnNpdGlvbmluZykudG9CZShmYWxzZSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIFNlZ3VuZGEgdHJhbnNpY2nDs24gZGViZSBmdW5jaW9uYXJcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qob25UcmFuc2l0aW9uU3RhcnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIFRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRyYWNrZWFyIG3DqXRyaWNhcyBkZSBwZXJmb3JtYW5jZSBjdWFuZG8gZXN0w6EgaGFiaWxpdGFkbycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNoZWNrb3V0VHJhbnNpdGlvbih7IGVuYWJsZVBlcmZvcm1hbmNlVHJhY2tpbmc6IHRydWUgfSlcbiAgICAgIClcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc3RhcnRUcmFuc2l0aW9uKClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wZXJmb3JtYW5jZU1ldHJpY3Muc3RhcnRUaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyODAwKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBlcmZvcm1hbmNlTWV0cmljcy5lbmRUaW1lKS50b0JlVHJ1dGh5KClcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wZXJmb3JtYW5jZU1ldHJpY3MuZHVyYXRpb24pLnRvQmVUcnV0aHkoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBhY3R1YWxpemFyIHRyYW5zaXRpb25Qcm9ncmVzcyBkdXJhbnRlIGxhIGFuaW1hY2nDs24nLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDaGVja291dFRyYW5zaXRpb24oKSlcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc3RhcnRUcmFuc2l0aW9uKClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50cmFuc2l0aW9uUHJvZ3Jlc3MpLnRvQmUoMClcblxuICAgICAgLy8gQXZhbnphciBwYXJjaWFsbWVudGVcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNDAwKSAvLyA1MCUgZGUgMjgwMG1zXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudHJhbnNpdGlvblByb2dyZXNzKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50cmFuc2l0aW9uUHJvZ3Jlc3MpLnRvQmVMZXNzVGhhbigxMDApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnQ29uZmlndXJhY2lvbmVzIFBlcnNvbmFsaXphZGFzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHVzYXIgZHVyYWNpw7NuIHBlcnNvbmFsaXphZGEgY3VhbmRvIHNlIHByb3BvcmNpb25hJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tRHVyYXRpb24gPSAxMDAwXG4gICAgICBjb25zdCBvblRyYW5zaXRpb25Db21wbGV0ZSA9IGplc3QuZm4oKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDaGVja291dFRyYW5zaXRpb24oe1xuICAgICAgICAgIGN1c3RvbUR1cmF0aW9uLFxuICAgICAgICAgIG9uVHJhbnNpdGlvbkNvbXBsZXRlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zdGFydFRyYW5zaXRpb24oKVxuICAgICAgfSlcblxuICAgICAgLy8gTm8gZGViZSBjb21wbGV0YXJzZSBjb24gbGEgZHVyYWNpw7NuIHBvciBkZWZlY3RvXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjgwMClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChvblRyYW5zaXRpb25Db21wbGV0ZSkudG9IYXZlQmVlbkNhbGxlZCgpXG5cbiAgICAgIC8vIERlYmUgY29tcGxldGFyc2UgY29uIGxhIGR1cmFjacOzbiBwZXJzb25hbGl6YWRhXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwMClcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qob25UcmFuc2l0aW9uQ29tcGxldGUpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgZGVzaGFiaWxpdGFyIGFuaW1hY2nDs24gY3VhbmRvIGVuYWJsZUFuaW1hdGlvbiBlcyBmYWxzZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNoZWNrb3V0VHJhbnNpdGlvbih7IGVuYWJsZUFuaW1hdGlvbjogZmFsc2UgfSkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5za2lwQW5pbWF0aW9uKS50b0JlKHRydWUpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnTmF2ZWdhY2nDs24geSBDbGVhbnVwJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIG5hdmVnYXIgYSAvY2hlY2tvdXQgYWwgY29tcGxldGFyIGxhIHRyYW5zaWNpw7NuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKCkpXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjgwMClcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvY2hlY2tvdXQnKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbGltcGlhciB0aW1lb3V0cyBlbiB1bm1vdW50JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHVubW91bnQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2hlY2tvdXRUcmFuc2l0aW9uKCkpXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnN0YXJ0VHJhbnNpdGlvbigpXG4gICAgICB9KVxuXG4gICAgICAvLyBVbm1vdW50IGFudGVzIGRlIHF1ZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs25cbiAgICAgIHVubW91bnQoKVxuXG4gICAgICAvLyBBdmFuemFyIHRpZW1wbyAtIG5vIGRlYmVyw61hIGNhdXNhciBlcnJvcmVzXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNTAwMClcbiAgICAgIH0pXG5cbiAgICAgIC8vIE5vIGRlYmUgaGFiZXIgbmF2ZWdhY2nDs24gZGVzcHXDqXMgZGVsIHVubW91bnRcbiAgICAgIGV4cGVjdChtb2NrUHVzaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwiZm4iLCJtb2NrUGVyZm9ybWFuY2UiLCJub3ciLCJEYXRlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnbG9iYWwiLCJ2YWx1ZSIsIndyaXRhYmxlIiwib3JpZ2luYWxDb25zb2xlIiwiY29uc29sZSIsImJlZm9yZUFsbCIsImRlYnVnIiwid2FybiIsImVycm9yIiwiYWZ0ZXJBbGwiLCJhc3NpZ24iLCJkZXNjcmliZSIsIm1vY2tQdXNoIiwibW9ja1JvdXRlciIsInB1c2giLCJiYWNrIiwiZm9yd2FyZCIsInJlZnJlc2giLCJyZXBsYWNlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJ1c2VGYWtlVGltZXJzIiwibW9ja1JldHVyblZhbHVlIiwiYWZ0ZXJFYWNoIiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlQ2hlY2tvdXRUcmFuc2l0aW9uIiwiZXhwZWN0IiwiY3VycmVudCIsImlzVHJhbnNpdGlvbmluZyIsInRvQmUiLCJpc0J1dHRvbkRpc2FibGVkIiwidHJhbnNpdGlvblByb2dyZXNzIiwic2tpcEFuaW1hdGlvbiIsInBlcmZvcm1hbmNlTWV0cmljcyIsInN0YXJ0VGltZSIsInN0YXJ0VHJhbnNpdGlvbiIsImFjdCIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ3YWl0Rm9yIiwibW9ja01hdGNoTWVkaWEiLCJ3aW5kb3ciLCJtb2NrTWVkaWFRdWVyeSIsIm1hdGNoZXMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNoYW5nZUhhbmRsZXIiLCJjYWxscyIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwib25UcmFuc2l0aW9uU3RhcnQiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJvblRyYW5zaXRpb25Db21wbGV0ZSIsIkVycm9yIiwib25UcmFuc2l0aW9uRXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFueSIsImVuYWJsZVBlcmZvcm1hbmNlVHJhY2tpbmciLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiZW5kVGltZSIsInRvQmVUcnV0aHkiLCJkdXJhdGlvbiIsInRvQmVHcmVhdGVyVGhhbiIsInRvQmVMZXNzVGhhbiIsImN1c3RvbUR1cmF0aW9uIiwiZW5hYmxlQW5pbWF0aW9uIiwidW5tb3VudCIsIm5vdCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLHVFQUF1RTtBQUN2RSxzQ0FBc0M7O0FBTXRDLHNCQUFzQjtBQUN0QkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVdGLEtBQUtHLEVBQUU7SUFDcEIsQ0FBQTs7Ozt1QkFQeUM7NEJBQ2Y7OEVBQ1E7Ozs7OztBQU9sQywyREFBMkQ7QUFDM0QsTUFBTUMsa0JBQWtCO0lBQ3RCQyxLQUFLTCxLQUFLRyxFQUFFLENBQUMsSUFBTUcsS0FBS0QsR0FBRztBQUM3QjtBQUVBRSxPQUFP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