2d4ba3b1477b33dd1b68fd241c7a14f7
// ğŸ”§ Enterprise Validation Schemas
"use strict";

/* istanbul ignore next */
function cov_wk84njj5r() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts";
  var hash = "f29daa7c8671fc5c29e0b223e781c52eac104821";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 25,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 36
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 35
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 29
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 30
        }
      },
      "8": {
        start: {
          line: 26,
          column: 13
        },
        end: {
          line: 26,
          column: 27
        }
      },
      "9": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 38
        }
      },
      "10": {
        start: {
          line: 28,
          column: 22
        },
        end: {
          line: 50,
          column: 2
        }
      },
      "11": {
        start: {
          line: 51,
          column: 29
        },
        end: {
          line: 70,
          column: 2
        }
      },
      "12": {
        start: {
          line: 71,
          column: 28
        },
        end: {
          line: 73,
          column: 2
        }
      },
      "13": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 133,
          column: 6
        }
      },
      "14": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "15": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 131,
          column: 13
        }
      },
      "16": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 96,
          column: 17
        }
      },
      "17": {
        start: {
          line: 81,
          column: 45
        },
        end: {
          line: 81,
          column: 65
        }
      },
      "18": {
        start: {
          line: 82,
          column: 20
        },
        end: {
          line: 82,
          column: 70
        }
      },
      "19": {
        start: {
          line: 84,
          column: 20
        },
        end: {
          line: 92,
          column: 23
        }
      },
      "20": {
        start: {
          line: 85,
          column: 24
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "21": {
        start: {
          line: 86,
          column: 28
        },
        end: {
          line: 86,
          column: 45
        }
      },
      "22": {
        start: {
          line: 87,
          column: 31
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "23": {
        start: {
          line: 88,
          column: 28
        },
        end: {
          line: 88,
          column: 46
        }
      },
      "24": {
        start: {
          line: 89,
          column: 31
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "25": {
        start: {
          line: 90,
          column: 28
        },
        end: {
          line: 90,
          column: 58
        }
      },
      "26": {
        start: {
          line: 95,
          column: 20
        },
        end: {
          line: 95,
          column: 48
        }
      },
      "27": {
        start: {
          line: 97,
          column: 41
        },
        end: {
          line: 97,
          column: 63
        }
      },
      "28": {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 115,
          column: 17
        }
      },
      "29": {
        start: {
          line: 99,
          column: 37
        },
        end: {
          line: 111,
          column: 21
        }
      },
      "30": {
        start: {
          line: 103,
          column: 75
        },
        end: {
          line: 108,
          column: 29
        }
      },
      "31": {
        start: {
          line: 112,
          column: 20
        },
        end: {
          line: 114,
          column: 23
        }
      },
      "32": {
        start: {
          line: 116,
          column: 46
        },
        end: {
          line: 116,
          column: 53
        }
      },
      "33": {
        start: {
          line: 117,
          column: 16
        },
        end: {
          line: 117,
          column: 76
        }
      },
      "34": {
        start: {
          line: 118,
          column: 16
        },
        end: {
          line: 118,
          column: 69
        }
      },
      "35": {
        start: {
          line: 120,
          column: 16
        },
        end: {
          line: 120,
          column: 69
        }
      },
      "36": {
        start: {
          line: 121,
          column: 38
        },
        end: {
          line: 127,
          column: 17
        }
      },
      "37": {
        start: {
          line: 128,
          column: 16
        },
        end: {
          line: 130,
          column: 19
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 32
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 31
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 25
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 26
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      },
      "5": {
        name: "withValidation",
        decl: {
          start: {
            line: 74,
            column: 9
          },
          end: {
            line: 74,
            column: 23
          }
        },
        loc: {
          start: {
            line: 74,
            column: 32
          },
          end: {
            line: 134,
            column: 1
          }
        },
        line: 74
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 75,
            column: 11
          },
          end: {
            line: 75,
            column: 12
          }
        },
        loc: {
          start: {
            line: 75,
            column: 29
          },
          end: {
            line: 133,
            column: 5
          }
        },
        line: 75
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 76,
            column: 15
          },
          end: {
            line: 76,
            column: 16
          }
        },
        loc: {
          start: {
            line: 76,
            column: 48
          },
          end: {
            line: 132,
            column: 9
          }
        },
        line: 76
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 84,
            column: 46
          },
          end: {
            line: 84,
            column: 47
          }
        },
        loc: {
          start: {
            line: 84,
            column: 53
          },
          end: {
            line: 92,
            column: 21
          }
        },
        line: 84
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 103,
            column: 67
          },
          end: {
            line: 103,
            column: 68
          }
        },
        loc: {
          start: {
            line: 103,
            column: 75
          },
          end: {
            line: 108,
            column: 29
          }
        },
        line: 103
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 96,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 96,
            column: 17
          }
        }, {
          start: {
            line: 93,
            column: 23
          },
          end: {
            line: 96,
            column: 17
          }
        }],
        line: 79
      },
      "1": {
        loc: {
          start: {
            line: 85,
            column: 24
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 24
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }],
        line: 85
      },
      "2": {
        loc: {
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }],
        line: 87
      },
      "3": {
        loc: {
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "4": {
        loc: {
          start: {
            line: 89,
            column: 35
          },
          end: {
            line: 89,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 89,
            column: 35
          },
          end: {
            line: 89,
            column: 60
          }
        }, {
          start: {
            line: 89,
            column: 64
          },
          end: {
            line: 89,
            column: 80
          }
        }],
        line: 89
      },
      "5": {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 115,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 115,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 98
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts"],
      sourcesContent: ["// \uD83D\uDD27 Enterprise Validation Schemas\r\n\r\nimport { z } from 'zod';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\n// =====================================================\r\n// INTERFACES PARA TIPADO ESPEC\xCDFICO\r\n// =====================================================\r\n\r\nexport interface ValidationContext {\r\n  params?: Record<string, string>;\r\n  user?: {\r\n    id: string;\r\n    role: string;\r\n    permissions?: string[];\r\n  };\r\n  metadata?: Record<string, unknown>;\r\n}\r\n\r\nexport interface ValidationHandler {\r\n  (request: NextRequest & { validatedData?: unknown }, context: ValidationContext): Promise<NextResponse>;\r\n}\r\n\r\nexport interface ValidationError {\r\n  field: string;\r\n  message: string;\r\n  code: string;\r\n  value?: unknown;\r\n}\r\n\r\nexport interface ValidationResponse {\r\n  success: boolean;\r\n  error?: string;\r\n  code?: string;\r\n  details?: ValidationError[];\r\n  timestamp: string;\r\n  path: string;\r\n}\r\n\r\n// =====================================================\r\n// SCHEMAS DE VALIDACI\xD3N\r\n// =====================================================\r\n\r\nexport const ProductSchema = z.object({\r\n  name: z.string().min(1, 'Nombre requerido').max(255),\r\n  description: z.string().optional(),\r\n  short_description: z.string().max(500).optional(),\r\n  price: z.number().positive('Precio debe ser positivo'),\r\n  discounted_price: z.number().positive().optional(),\r\n  stock: z.number().int().min(0, 'Stock no puede ser negativo'),\r\n  low_stock_threshold: z.number().int().min(0).optional(),\r\n  category_id: z.string().uuid('ID de categor\xEDa inv\xE1lido'),\r\n  brand: z.string().optional(),\r\n  images: z.array(z.object({\r\n    url: z.string().url(),\r\n    alt_text: z.string().optional(),\r\n    is_primary: z.boolean().default(false)\r\n  })).optional(),\r\n  is_active: z.boolean().default(true),\r\n  is_featured: z.boolean().default(false),\r\n  status: z.enum(['active', 'inactive', 'draft']).default('draft')\r\n});\r\n\r\nexport const ProductFiltersSchema = z.object({\r\n  page: z.coerce.number().int().positive().default(1),\r\n  limit: z.coerce.number().int().min(1).max(100).default(10),\r\n  search: z.string().optional(),\r\n  category_id: z.string().uuid().optional(),\r\n  is_active: z.boolean().optional(),\r\n  is_featured: z.boolean().optional(),\r\n  price_min: z.coerce.number().positive().optional(),\r\n  price_max: z.coerce.number().positive().optional(),\r\n  sort_by: z.enum(['name', 'price', 'stock', 'created_at']).default('created_at'),\r\n  sort_order: z.enum(['asc', 'desc']).default('desc')\r\n});\r\n\r\nexport const ProductParamsSchema = z.object({\r\n  id: z.string().uuid('ID de producto inv\xE1lido')\r\n});\r\n\r\n// =====================================================\r\n// MIDDLEWARE DE VALIDACI\xD3N TIPADO\r\n// =====================================================\r\n\r\nexport function withValidation<T extends z.ZodSchema>(schema: T) {\r\n  return function (handler: ValidationHandler) {\r\n    return async function (request: NextRequest, context: ValidationContext): Promise<NextResponse> {\r\n      try {\r\n        let data;\r\n        \r\n        if (request.method === 'GET') {\r\n          // Validar query parameters\r\n          const { searchParams } = new URL(request.url);\r\n          data = Object.fromEntries(searchParams.entries());\r\n          \r\n          // Convertir tipos para n\xFAmeros y booleans\r\n          Object.keys(data).forEach(key => {\r\n            if (data[key] === 'true') {data[key] = true;}\r\n            else if (data[key] === 'false') {data[key] = false;}\r\n            else if (!isNaN(Number(data[key])) && data[key] !== '') {\r\n              data[key] = Number(data[key]);\r\n            }\r\n          });\r\n        } else {\r\n          // Validar body para POST/PUT\r\n          data = await request.json();\r\n        }\r\n\r\n        const validationResult = schema.safeParse(data);\r\n\r\n        if (!validationResult.success) {\r\n          const response: ValidationResponse = {\r\n            success: false,\r\n            error: 'Datos de entrada inv\xE1lidos',\r\n            code: 'VALIDATION_ERROR',\r\n            details: validationResult.error.errors.map(err => ({\r\n              field: err.path.join('.'),\r\n              message: err.message,\r\n              code: err.code,\r\n              value: err.input\r\n            })),\r\n            timestamp: new Date().toISOString(),\r\n            path: request.url\r\n          };\r\n\r\n          return NextResponse.json(response, { status: 422 });\r\n        }\r\n\r\n        const requestWithValidation = request as NextRequest & { validatedData: z.infer<T> };\r\n        requestWithValidation.validatedData = validationResult.data;\r\n        \r\n        return await handler(requestWithValidation, context);\r\n      } catch (error) {\r\n        console.error('Validation middleware error:', error);\r\n        \r\n        const errorResponse: ValidationResponse = {\r\n          success: false,\r\n          error: 'Error de validaci\xF3n',\r\n          code: 'VALIDATION_MIDDLEWARE_ERROR',\r\n          timestamp: new Date().toISOString(),\r\n          path: request.url\r\n        };\r\n\r\n        return NextResponse.json(errorResponse, { status: 500 });\r\n      }\r\n    };\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["ProductFiltersSchema", "ProductParamsSchema", "ProductSchema", "withValidation", "z", "object", "name", "string", "min", "max", "description", "optional", "short_description", "price", "number", "positive", "discounted_price", "stock", "int", "low_stock_threshold", "category_id", "uuid", "brand", "images", "array", "url", "alt_text", "is_primary", "boolean", "default", "is_active", "is_featured", "status", "enum", "page", "coerce", "limit", "search", "price_min", "price_max", "sort_by", "sort_order", "id", "schema", "handler", "request", "context", "data", "method", "searchParams", "URL", "Object", "fromEntries", "entries", "keys", "forEach", "key", "isNaN", "Number", "json", "validationResult", "safeParse", "success", "response", "error", "code", "details", "errors", "map", "err", "field", "path", "join", "message", "value", "input", "timestamp", "Date", "toISOString", "NextResponse", "requestWithValidation", "validatedData", "console", "errorResponse"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f29daa7c8671fc5c29e0b223e781c52eac104821"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_wk84njj5r = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_wk84njj5r();
cov_wk84njj5r().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_wk84njj5r().f[0]++;
  cov_wk84njj5r().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_wk84njj5r().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_wk84njj5r().s[3]++;
_export(exports, {
  get ProductFiltersSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[1]++;
    cov_wk84njj5r().s[4]++;
    return ProductFiltersSchema;
  },
  get ProductParamsSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[2]++;
    cov_wk84njj5r().s[5]++;
    return ProductParamsSchema;
  },
  get ProductSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[3]++;
    cov_wk84njj5r().s[6]++;
    return ProductSchema;
  },
  get withValidation() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[4]++;
    cov_wk84njj5r().s[7]++;
    return withValidation;
  }
});
const _zod =
/* istanbul ignore next */
(cov_wk84njj5r().s[8]++, require("zod"));
const _server =
/* istanbul ignore next */
(cov_wk84njj5r().s[9]++, require("next/server"));
const ProductSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[10]++, _zod.z.object({
  name: _zod.z.string().min(1, 'Nombre requerido').max(255),
  description: _zod.z.string().optional(),
  short_description: _zod.z.string().max(500).optional(),
  price: _zod.z.number().positive('Precio debe ser positivo'),
  discounted_price: _zod.z.number().positive().optional(),
  stock: _zod.z.number().int().min(0, 'Stock no puede ser negativo'),
  low_stock_threshold: _zod.z.number().int().min(0).optional(),
  category_id: _zod.z.string().uuid('ID de categorÃ­a invÃ¡lido'),
  brand: _zod.z.string().optional(),
  images: _zod.z.array(_zod.z.object({
    url: _zod.z.string().url(),
    alt_text: _zod.z.string().optional(),
    is_primary: _zod.z.boolean().default(false)
  })).optional(),
  is_active: _zod.z.boolean().default(true),
  is_featured: _zod.z.boolean().default(false),
  status: _zod.z.enum(['active', 'inactive', 'draft']).default('draft')
}));
const ProductFiltersSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[11]++, _zod.z.object({
  page: _zod.z.coerce.number().int().positive().default(1),
  limit: _zod.z.coerce.number().int().min(1).max(100).default(10),
  search: _zod.z.string().optional(),
  category_id: _zod.z.string().uuid().optional(),
  is_active: _zod.z.boolean().optional(),
  is_featured: _zod.z.boolean().optional(),
  price_min: _zod.z.coerce.number().positive().optional(),
  price_max: _zod.z.coerce.number().positive().optional(),
  sort_by: _zod.z.enum(['name', 'price', 'stock', 'created_at']).default('created_at'),
  sort_order: _zod.z.enum(['asc', 'desc']).default('desc')
}));
const ProductParamsSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[12]++, _zod.z.object({
  id: _zod.z.string().uuid('ID de producto invÃ¡lido')
}));
function withValidation(schema) {
  /* istanbul ignore next */
  cov_wk84njj5r().f[5]++;
  cov_wk84njj5r().s[13]++;
  return function (handler) {
    /* istanbul ignore next */
    cov_wk84njj5r().f[6]++;
    cov_wk84njj5r().s[14]++;
    return async function (request, context) {
      /* istanbul ignore next */
      cov_wk84njj5r().f[7]++;
      cov_wk84njj5r().s[15]++;
      try {
        let data;
        /* istanbul ignore next */
        cov_wk84njj5r().s[16]++;
        if (request.method === 'GET') {
          /* istanbul ignore next */
          cov_wk84njj5r().b[0][0]++;
          // Validar query parameters
          const {
            searchParams
          } =
          /* istanbul ignore next */
          (cov_wk84njj5r().s[17]++, new URL(request.url));
          /* istanbul ignore next */
          cov_wk84njj5r().s[18]++;
          data = Object.fromEntries(searchParams.entries());
          // Convertir tipos para nÃºmeros y booleans
          /* istanbul ignore next */
          cov_wk84njj5r().s[19]++;
          Object.keys(data).forEach(key => {
            /* istanbul ignore next */
            cov_wk84njj5r().f[8]++;
            cov_wk84njj5r().s[20]++;
            if (data[key] === 'true') {
              /* istanbul ignore next */
              cov_wk84njj5r().b[1][0]++;
              cov_wk84njj5r().s[21]++;
              data[key] = true;
            } else {
              /* istanbul ignore next */
              cov_wk84njj5r().b[1][1]++;
              cov_wk84njj5r().s[22]++;
              if (data[key] === 'false') {
                /* istanbul ignore next */
                cov_wk84njj5r().b[2][0]++;
                cov_wk84njj5r().s[23]++;
                data[key] = false;
              } else {
                /* istanbul ignore next */
                cov_wk84njj5r().b[2][1]++;
                cov_wk84njj5r().s[24]++;
                if (
                /* istanbul ignore next */
                (cov_wk84njj5r().b[4][0]++, !isNaN(Number(data[key]))) &&
                /* istanbul ignore next */
                (cov_wk84njj5r().b[4][1]++, data[key] !== '')) {
                  /* istanbul ignore next */
                  cov_wk84njj5r().b[3][0]++;
                  cov_wk84njj5r().s[25]++;
                  data[key] = Number(data[key]);
                } else
                /* istanbul ignore next */
                {
                  cov_wk84njj5r().b[3][1]++;
                }
              }
            }
          });
        } else {
          /* istanbul ignore next */
          cov_wk84njj5r().b[0][1]++;
          cov_wk84njj5r().s[26]++;
          // Validar body para POST/PUT
          data = await request.json();
        }
        const validationResult =
        /* istanbul ignore next */
        (cov_wk84njj5r().s[27]++, schema.safeParse(data));
        /* istanbul ignore next */
        cov_wk84njj5r().s[28]++;
        if (!validationResult.success) {
          /* istanbul ignore next */
          cov_wk84njj5r().b[5][0]++;
          const response =
          /* istanbul ignore next */
          (cov_wk84njj5r().s[29]++, {
            success: false,
            error: 'Datos de entrada invÃ¡lidos',
            code: 'VALIDATION_ERROR',
            details: validationResult.error.errors.map(err => {
              /* istanbul ignore next */
              cov_wk84njj5r().f[9]++;
              cov_wk84njj5r().s[30]++;
              return {
                field: err.path.join('.'),
                message: err.message,
                code: err.code,
                value: err.input
              };
            }),
            timestamp: new Date().toISOString(),
            path: request.url
          });
          /* istanbul ignore next */
          cov_wk84njj5r().s[31]++;
          return _server.NextResponse.json(response, {
            status: 422
          });
        } else
        /* istanbul ignore next */
        {
          cov_wk84njj5r().b[5][1]++;
        }
        const requestWithValidation =
        /* istanbul ignore next */
        (cov_wk84njj5r().s[32]++, request);
        /* istanbul ignore next */
        cov_wk84njj5r().s[33]++;
        requestWithValidation.validatedData = validationResult.data;
        /* istanbul ignore next */
        cov_wk84njj5r().s[34]++;
        return await handler(requestWithValidation, context);
      } catch (error) {
        /* istanbul ignore next */
        cov_wk84njj5r().s[35]++;
        console.error('Validation middleware error:', error);
        const errorResponse =
        /* istanbul ignore next */
        (cov_wk84njj5r().s[36]++, {
          success: false,
          error: 'Error de validaciÃ³n',
          code: 'VALIDATION_MIDDLEWARE_ERROR',
          timestamp: new Date().toISOString(),
          path: request.url
        });
        /* istanbul ignore next */
        cov_wk84njj5r().s[37]++;
        return _server.NextResponse.json(errorResponse, {
          status: 500
        });
      }
    };
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfd2s4NG5qajVyIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiUHJvZHVjdEZpbHRlcnNTY2hlbWEiLCJmIiwiUHJvZHVjdFBhcmFtc1NjaGVtYSIsIlByb2R1Y3RTY2hlbWEiLCJ3aXRoVmFsaWRhdGlvbiIsIl96b2QiLCJ6Iiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsIm1heCIsImRlc2NyaXB0aW9uIiwib3B0aW9uYWwiLCJzaG9ydF9kZXNjcmlwdGlvbiIsInByaWNlIiwibnVtYmVyIiwicG9zaXRpdmUiLCJkaXNjb3VudGVkX3ByaWNlIiwic3RvY2siLCJpbnQiLCJsb3dfc3RvY2tfdGhyZXNob2xkIiwiY2F0ZWdvcnlfaWQiLCJ1dWlkIiwiYnJhbmQiLCJpbWFnZXMiLCJhcnJheSIsInVybCIsImFsdF90ZXh0IiwiaXNfcHJpbWFyeSIsImJvb2xlYW4iLCJkZWZhdWx0IiwiaXNfYWN0aXZlIiwiaXNfZmVhdHVyZWQiLCJzdGF0dXMiLCJlbnVtIiwicGFnZSIsImNvZXJjZSIsImxpbWl0Iiwic2VhcmNoIiwicHJpY2VfbWluIiwicHJpY2VfbWF4Iiwic29ydF9ieSIsInNvcnRfb3JkZXIiLCJpZCIsInNjaGVtYSIsImhhbmRsZXIiLCJyZXF1ZXN0IiwiY29udGV4dCIsImRhdGEiLCJtZXRob2QiLCJiIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpc05hTiIsIk51bWJlciIsImpzb24iLCJ2YWxpZGF0aW9uUmVzdWx0Iiwic2FmZVBhcnNlIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiZXJyb3IiLCJjb2RlIiwiZGV0YWlscyIsImVycm9ycyIsIm1hcCIsImVyciIsImZpZWxkIiwicGF0aCIsImpvaW4iLCJtZXNzYWdlIiwidmFsdWUiLCJpbnB1dCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJyZXF1ZXN0V2l0aFZhbGlkYXRpb24iLCJ2YWxpZGF0ZWREYXRhIiwiY29uc29sZSIsImVycm9yUmVzcG9uc2UiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXG1hcnRpXFxEZXNrdG9wXFxERVNBUlJPTExPU1dcXEJPSUxFUlBMQVRURSBFLUNPTU1FUkNFXFxzcmNcXGxpYlxcdmFsaWRhdGlvblxcYWRtaW4tc2NoZW1hcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDwn5SnIEVudGVycHJpc2UgVmFsaWRhdGlvbiBTY2hlbWFzXHJcblxyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIElOVEVSRkFDRVMgUEFSQSBUSVBBRE8gRVNQRUPDjUZJQ09cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvbkNvbnRleHQge1xyXG4gIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcbiAgdXNlcj86IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICByb2xlOiBzdHJpbmc7XHJcbiAgICBwZXJtaXNzaW9ucz86IHN0cmluZ1tdO1xyXG4gIH07XHJcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uSGFuZGxlciB7XHJcbiAgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0ICYgeyB2YWxpZGF0ZWREYXRhPzogdW5rbm93biB9LCBjb250ZXh0OiBWYWxpZGF0aW9uQ29udGV4dCk6IFByb21pc2U8TmV4dFJlc3BvbnNlPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uRXJyb3Ige1xyXG4gIGZpZWxkOiBzdHJpbmc7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGNvZGU6IHN0cmluZztcclxuICB2YWx1ZT86IHVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvblJlc3BvbnNlIHtcclxuICBzdWNjZXNzOiBib29sZWFuO1xyXG4gIGVycm9yPzogc3RyaW5nO1xyXG4gIGNvZGU/OiBzdHJpbmc7XHJcbiAgZGV0YWlscz86IFZhbGlkYXRpb25FcnJvcltdO1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xyXG4gIHBhdGg6IHN0cmluZztcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU0NIRU1BUyBERSBWQUxJREFDScOTTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IFByb2R1Y3RTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMSwgJ05vbWJyZSByZXF1ZXJpZG8nKS5tYXgoMjU1KSxcclxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIHNob3J0X2Rlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCg1MDApLm9wdGlvbmFsKCksXHJcbiAgcHJpY2U6IHoubnVtYmVyKCkucG9zaXRpdmUoJ1ByZWNpbyBkZWJlIHNlciBwb3NpdGl2bycpLFxyXG4gIGRpc2NvdW50ZWRfcHJpY2U6IHoubnVtYmVyKCkucG9zaXRpdmUoKS5vcHRpb25hbCgpLFxyXG4gIHN0b2NrOiB6Lm51bWJlcigpLmludCgpLm1pbigwLCAnU3RvY2sgbm8gcHVlZGUgc2VyIG5lZ2F0aXZvJyksXHJcbiAgbG93X3N0b2NrX3RocmVzaG9sZDogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcclxuICBjYXRlZ29yeV9pZDogei5zdHJpbmcoKS51dWlkKCdJRCBkZSBjYXRlZ29yw61hIGludsOhbGlkbycpLFxyXG4gIGJyYW5kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgaW1hZ2VzOiB6LmFycmF5KHoub2JqZWN0KHtcclxuICAgIHVybDogei5zdHJpbmcoKS51cmwoKSxcclxuICAgIGFsdF90ZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgICBpc19wcmltYXJ5OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKVxyXG4gIH0pKS5vcHRpb25hbCgpLFxyXG4gIGlzX2FjdGl2ZTogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcclxuICBpc19mZWF0dXJlZDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgc3RhdHVzOiB6LmVudW0oWydhY3RpdmUnLCAnaW5hY3RpdmUnLCAnZHJhZnQnXSkuZGVmYXVsdCgnZHJhZnQnKVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBQcm9kdWN0RmlsdGVyc1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBwYWdlOiB6LmNvZXJjZS5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLmRlZmF1bHQoMSksXHJcbiAgbGltaXQ6IHouY29lcmNlLm51bWJlcigpLmludCgpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDEwKSxcclxuICBzZWFyY2g6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBjYXRlZ29yeV9pZDogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSxcclxuICBpc19hY3RpdmU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgaXNfZmVhdHVyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgcHJpY2VfbWluOiB6LmNvZXJjZS5udW1iZXIoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXHJcbiAgcHJpY2VfbWF4OiB6LmNvZXJjZS5udW1iZXIoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXHJcbiAgc29ydF9ieTogei5lbnVtKFsnbmFtZScsICdwcmljZScsICdzdG9jaycsICdjcmVhdGVkX2F0J10pLmRlZmF1bHQoJ2NyZWF0ZWRfYXQnKSxcclxuICBzb3J0X29yZGVyOiB6LmVudW0oWydhc2MnLCAnZGVzYyddKS5kZWZhdWx0KCdkZXNjJylcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgUHJvZHVjdFBhcmFtc1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBpZDogei5zdHJpbmcoKS51dWlkKCdJRCBkZSBwcm9kdWN0byBpbnbDoWxpZG8nKVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1JRERMRVdBUkUgREUgVkFMSURBQ0nDk04gVElQQURPXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd2l0aFZhbGlkYXRpb248VCBleHRlbmRzIHouWm9kU2NoZW1hPihzY2hlbWE6IFQpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXI6IFZhbGlkYXRpb25IYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBjb250ZXh0OiBWYWxpZGF0aW9uQ29udGV4dCk6IFByb21pc2U8TmV4dFJlc3BvbnNlPiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGRhdGE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSAnR0VUJykge1xyXG4gICAgICAgICAgLy8gVmFsaWRhciBxdWVyeSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICAgICAgICBkYXRhID0gT2JqZWN0LmZyb21FbnRyaWVzKHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBDb252ZXJ0aXIgdGlwb3MgcGFyYSBuw7ptZXJvcyB5IGJvb2xlYW5zXHJcbiAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhW2tleV0gPT09ICd0cnVlJykge2RhdGFba2V5XSA9IHRydWU7fVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhW2tleV0gPT09ICdmYWxzZScpIHtkYXRhW2tleV0gPSBmYWxzZTt9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc05hTihOdW1iZXIoZGF0YVtrZXldKSkgJiYgZGF0YVtrZXldICE9PSAnJykge1xyXG4gICAgICAgICAgICAgIGRhdGFba2V5XSA9IE51bWJlcihkYXRhW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gVmFsaWRhciBib2R5IHBhcmEgUE9TVC9QVVRcclxuICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBzY2hlbWEuc2FmZVBhcnNlKGRhdGEpO1xyXG5cclxuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2U6IFZhbGlkYXRpb25SZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnRGF0b3MgZGUgZW50cmFkYSBpbnbDoWxpZG9zJyxcclxuICAgICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxyXG4gICAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLmVycm9ycy5tYXAoZXJyID0+ICh7XHJcbiAgICAgICAgICAgICAgZmllbGQ6IGVyci5wYXRoLmpvaW4oJy4nKSxcclxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgICAgICAgICBjb2RlOiBlcnIuY29kZSxcclxuICAgICAgICAgICAgICB2YWx1ZTogZXJyLmlucHV0XHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHBhdGg6IHJlcXVlc3QudXJsXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXM6IDQyMiB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RXaXRoVmFsaWRhdGlvbiA9IHJlcXVlc3QgYXMgTmV4dFJlcXVlc3QgJiB7IHZhbGlkYXRlZERhdGE6IHouaW5mZXI8VD4gfTtcclxuICAgICAgICByZXF1ZXN0V2l0aFZhbGlkYXRpb24udmFsaWRhdGVkRGF0YSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlcihyZXF1ZXN0V2l0aFZhbGlkYXRpb24sIGNvbnRleHQpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gbWlkZGxld2FyZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogVmFsaWRhdGlvblJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0Vycm9yIGRlIHZhbGlkYWNpw7NuJyxcclxuICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX01JRERMRVdBUkVfRVJST1InLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBwYXRoOiByZXF1ZXN0LnVybFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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