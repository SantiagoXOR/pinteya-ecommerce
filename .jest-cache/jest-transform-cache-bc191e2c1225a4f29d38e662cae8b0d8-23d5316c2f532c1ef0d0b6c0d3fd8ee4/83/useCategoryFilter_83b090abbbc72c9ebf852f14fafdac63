1100808b0a50b6933e6d1ded815a654e
/**
 * useCategoryFilter Hook
 * Manages category filter state and logic
 * Pinteya E-commerce - Enterprise-ready implementation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get /**
 * Default export for convenience
 */ default () {
        return _default;
    },
    get isCategoryId () {
        return isCategoryId;
    },
    get useCategoryFilter () {
        return useCategoryFilter;
    },
    get validateCategoryIds () {
        return validateCategoryIds;
    }
});
const _react = require("react");
const _navigation = require("next/navigation");
const useCategoryFilter = (options = {})=>{
    const { initialCategories = [], maxSelections = 10, syncWithUrl = true, urlParamName = 'categories', onCategoryChange, enableAnalytics = true } = options;
    const searchParams = (0, _navigation.useSearchParams)();
    // Initialize state from URL if sync is enabled, otherwise use initial categories
    const getInitialState = (0, _react.useCallback)(()=>{
        if (syncWithUrl) {
            const urlCategories = searchParams.get(urlParamName);
            if (urlCategories) {
                return urlCategories.split(',').filter(Boolean);
            }
        }
        return initialCategories;
    }, [
        syncWithUrl,
        searchParams,
        urlParamName,
        initialCategories
    ]);
    const [selectedCategories, setSelectedCategories] = (0, _react.useState)(getInitialState);
    /**
   * Create category change event for analytics and callbacks
   */ const createChangeEvent = (0, _react.useCallback)((type, categoryId, newCategories, previousCategories)=>({
            type,
            categoryId,
            selectedCategories: newCategories,
            previousCategories,
            timestamp: new Date()
        }), []);
    /**
   * Track analytics event if enabled
   */ const trackAnalytics = (0, _react.useCallback)((event)=>{
        if (!enableAnalytics) {
            return;
        }
        // Track with analytics service (placeholder for actual implementation)
        if (typeof window !== 'undefined' && window.gtag) {
            window.gtag('event', 'category_filter_change', {
                event_category: 'filters',
                event_label: event.categoryId || 'bulk_action',
                value: event.selectedCategories.length,
                custom_parameters: {
                    action_type: event.type,
                    selected_count: event.selectedCategories.length
                }
            });
        }
        // Console log for development
        if (process.env.NODE_ENV === 'development') {}
    }, [
        enableAnalytics
    ]);
    /**
   * Toggle a category selection
   */ const toggleCategory = (0, _react.useCallback)((categoryId)=>{
        setSelectedCategories((prev)=>{
            const isCurrentlySelected = prev.includes(categoryId);
            let newCategories;
            if (isCurrentlySelected) {
                // Remove category
                newCategories = prev.filter((id)=>id !== categoryId);
            } else {
                // Add category (respect max selections)
                if (prev.length >= maxSelections) {
                    console.warn(`Maximum ${maxSelections} categories can be selected`);
                    return prev;
                }
                newCategories = [
                    ...prev,
                    categoryId
                ];
            }
            // Create and track event
            const event = createChangeEvent(isCurrentlySelected ? 'deselect' : 'select', categoryId, newCategories, prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return newCategories;
        });
    }, [
        maxSelections,
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Clear all selected categories
   */ const clearAll = (0, _react.useCallback)(()=>{
        setSelectedCategories((prev)=>{
            if (prev.length === 0) {
                return prev;
            }
            const event = createChangeEvent('clear', undefined, [], prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return [];
        });
    }, [
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Select all provided categories
   */ const selectAll = (0, _react.useCallback)((categoryIds)=>{
        setSelectedCategories((prev)=>{
            // Respect max selections
            const limitedCategories = categoryIds.slice(0, maxSelections);
            if (categoryIds.length > maxSelections) {
                console.warn(`Only first ${maxSelections} categories will be selected`);
            }
            const event = createChangeEvent('selectAll', undefined, limitedCategories, prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return limitedCategories;
        });
    }, [
        maxSelections,
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Check if a category is selected
   */ const isSelected = (0, _react.useCallback)((categoryId)=>{
        return selectedCategories.includes(categoryId);
    }, [
        selectedCategories
    ]);
    /**
   * Get count of selected categories
   */ const selectedCount = (0, _react.useMemo)(()=>selectedCategories.length, [
        selectedCategories
    ]);
    /**
   * Memoized return object for performance
   */ const returnValue = (0, _react.useMemo)(()=>({
            selectedCategories,
            toggleCategory,
            clearAll,
            selectAll,
            isSelected,
            selectedCount
        }), [
        selectedCategories,
        toggleCategory,
        clearAll,
        selectAll,
        isSelected,
        selectedCount
    ]);
    return returnValue;
};
const isCategoryId = (value)=>{
    return typeof value === 'string' && value.length > 0;
};
const validateCategoryIds = (categoryIds)=>{
    return categoryIds.filter(isCategoryId);
};
const _default = useCategoryFilter;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXHVzZUNhdGVnb3J5RmlsdGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdXNlQ2F0ZWdvcnlGaWx0ZXIgSG9va1xuICogTWFuYWdlcyBjYXRlZ29yeSBmaWx0ZXIgc3RhdGUgYW5kIGxvZ2ljXG4gKiBQaW50ZXlhIEUtY29tbWVyY2UgLSBFbnRlcnByaXNlLXJlYWR5IGltcGxlbWVudGF0aW9uXG4gKi9cblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5pbXBvcnQgdHlwZSB7IENhdGVnb3J5SWQsIFVzZUNhdGVnb3J5RmlsdGVyUmV0dXJuLCBDYXRlZ29yeUNoYW5nZUV2ZW50IH0gZnJvbSAnQC90eXBlcy9jYXRlZ29yaWVzJ1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGNhdGVnb3J5IGZpbHRlciBob29rXG4gKi9cbmludGVyZmFjZSBVc2VDYXRlZ29yeUZpbHRlck9wdGlvbnMge1xuICAvKiogSW5pdGlhbCBzZWxlY3RlZCBjYXRlZ29yaWVzICovXG4gIGluaXRpYWxDYXRlZ29yaWVzPzogQ2F0ZWdvcnlJZFtdXG4gIC8qKiBNYXhpbXVtIG51bWJlciBvZiBjYXRlZ29yaWVzIHRoYXQgY2FuIGJlIHNlbGVjdGVkICovXG4gIG1heFNlbGVjdGlvbnM/OiBudW1iZXJcbiAgLyoqIFdoZXRoZXIgdG8gc3luYyB3aXRoIFVSTCBwYXJhbWV0ZXJzICovXG4gIHN5bmNXaXRoVXJsPzogYm9vbGVhblxuICAvKiogVVJMIHBhcmFtZXRlciBuYW1lIGZvciBjYXRlZ29yaWVzICovXG4gIHVybFBhcmFtTmFtZT86IHN0cmluZ1xuICAvKiogQ2FsbGJhY2sgZm9yIGNhdGVnb3J5IGNoYW5nZSBldmVudHMgKi9cbiAgb25DYXRlZ29yeUNoYW5nZT86IChldmVudDogQ2F0ZWdvcnlDaGFuZ2VFdmVudCkgPT4gdm9pZFxuICAvKiogV2hldGhlciB0byBlbmFibGUgYW5hbHl0aWNzIHRyYWNraW5nICovXG4gIGVuYWJsZUFuYWx5dGljcz86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBDdXN0b20gaG9vayBmb3IgbWFuYWdpbmcgY2F0ZWdvcnkgZmlsdGVyIHN0YXRlXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFN0YXRlIG1hbmFnZW1lbnQgZm9yIHNlbGVjdGVkIGNhdGVnb3JpZXNcbiAqIC0gVVJMIHN5bmNocm9uaXphdGlvblxuICogLSBBbmFseXRpY3MgdHJhY2tpbmdcbiAqIC0gQWNjZXNzaWJpbGl0eSBzdXBwb3J0XG4gKiAtIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvblxuICpcbiAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHJldHVybnMgQ2F0ZWdvcnkgZmlsdGVyIHN0YXRlIGFuZCBhY3Rpb25zXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VDYXRlZ29yeUZpbHRlciA9IChcbiAgb3B0aW9uczogVXNlQ2F0ZWdvcnlGaWx0ZXJPcHRpb25zID0ge31cbik6IFVzZUNhdGVnb3J5RmlsdGVyUmV0dXJuID0+IHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxDYXRlZ29yaWVzID0gW10sXG4gICAgbWF4U2VsZWN0aW9ucyA9IDEwLFxuICAgIHN5bmNXaXRoVXJsID0gdHJ1ZSxcbiAgICB1cmxQYXJhbU5hbWUgPSAnY2F0ZWdvcmllcycsXG4gICAgb25DYXRlZ29yeUNoYW5nZSxcbiAgICBlbmFibGVBbmFseXRpY3MgPSB0cnVlLFxuICB9ID0gb3B0aW9uc1xuXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpXG5cbiAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSBmcm9tIFVSTCBpZiBzeW5jIGlzIGVuYWJsZWQsIG90aGVyd2lzZSB1c2UgaW5pdGlhbCBjYXRlZ29yaWVzXG4gIGNvbnN0IGdldEluaXRpYWxTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpOiBDYXRlZ29yeUlkW10gPT4ge1xuICAgIGlmIChzeW5jV2l0aFVybCkge1xuICAgICAgY29uc3QgdXJsQ2F0ZWdvcmllcyA9IHNlYXJjaFBhcmFtcy5nZXQodXJsUGFyYW1OYW1lKVxuICAgICAgaWYgKHVybENhdGVnb3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHVybENhdGVnb3JpZXMuc3BsaXQoJywnKS5maWx0ZXIoQm9vbGVhbilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluaXRpYWxDYXRlZ29yaWVzXG4gIH0sIFtzeW5jV2l0aFVybCwgc2VhcmNoUGFyYW1zLCB1cmxQYXJhbU5hbWUsIGluaXRpYWxDYXRlZ29yaWVzXSlcblxuICBjb25zdCBbc2VsZWN0ZWRDYXRlZ29yaWVzLCBzZXRTZWxlY3RlZENhdGVnb3JpZXNdID0gdXNlU3RhdGU8Q2F0ZWdvcnlJZFtdPihnZXRJbml0aWFsU3RhdGUpXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBjYXRlZ29yeSBjaGFuZ2UgZXZlbnQgZm9yIGFuYWx5dGljcyBhbmQgY2FsbGJhY2tzXG4gICAqL1xuICBjb25zdCBjcmVhdGVDaGFuZ2VFdmVudCA9IHVzZUNhbGxiYWNrKFxuICAgIChcbiAgICAgIHR5cGU6IENhdGVnb3J5Q2hhbmdlRXZlbnRbJ3R5cGUnXSxcbiAgICAgIGNhdGVnb3J5SWQ6IENhdGVnb3J5SWQgfCB1bmRlZmluZWQsXG4gICAgICBuZXdDYXRlZ29yaWVzOiBDYXRlZ29yeUlkW10sXG4gICAgICBwcmV2aW91c0NhdGVnb3JpZXM6IENhdGVnb3J5SWRbXVxuICAgICk6IENhdGVnb3J5Q2hhbmdlRXZlbnQgPT4gKHtcbiAgICAgIHR5cGUsXG4gICAgICBjYXRlZ29yeUlkLFxuICAgICAgc2VsZWN0ZWRDYXRlZ29yaWVzOiBuZXdDYXRlZ29yaWVzLFxuICAgICAgcHJldmlvdXNDYXRlZ29yaWVzLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH0pLFxuICAgIFtdXG4gIClcblxuICAvKipcbiAgICogVHJhY2sgYW5hbHl0aWNzIGV2ZW50IGlmIGVuYWJsZWRcbiAgICovXG4gIGNvbnN0IHRyYWNrQW5hbHl0aWNzID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBDYXRlZ29yeUNoYW5nZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWVuYWJsZUFuYWx5dGljcykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gVHJhY2sgd2l0aCBhbmFseXRpY3Mgc2VydmljZSAocGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBpbXBsZW1lbnRhdGlvbilcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZ3RhZykge1xuICAgICAgICB3aW5kb3cuZ3RhZygnZXZlbnQnLCAnY2F0ZWdvcnlfZmlsdGVyX2NoYW5nZScsIHtcbiAgICAgICAgICBldmVudF9jYXRlZ29yeTogJ2ZpbHRlcnMnLFxuICAgICAgICAgIGV2ZW50X2xhYmVsOiBldmVudC5jYXRlZ29yeUlkIHx8ICdidWxrX2FjdGlvbicsXG4gICAgICAgICAgdmFsdWU6IGV2ZW50LnNlbGVjdGVkQ2F0ZWdvcmllcy5sZW5ndGgsXG4gICAgICAgICAgY3VzdG9tX3BhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGFjdGlvbl90eXBlOiBldmVudC50eXBlLFxuICAgICAgICAgICAgc2VsZWN0ZWRfY291bnQ6IGV2ZW50LnNlbGVjdGVkQ2F0ZWdvcmllcy5sZW5ndGgsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gQ29uc29sZSBsb2cgZm9yIGRldmVsb3BtZW50XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtlbmFibGVBbmFseXRpY3NdXG4gIClcblxuICAvKipcbiAgICogVG9nZ2xlIGEgY2F0ZWdvcnkgc2VsZWN0aW9uXG4gICAqL1xuICBjb25zdCB0b2dnbGVDYXRlZ29yeSA9IHVzZUNhbGxiYWNrKFxuICAgIChjYXRlZ29yeUlkOiBDYXRlZ29yeUlkKSA9PiB7XG4gICAgICBzZXRTZWxlY3RlZENhdGVnb3JpZXMocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ3VycmVudGx5U2VsZWN0ZWQgPSBwcmV2LmluY2x1ZGVzKGNhdGVnb3J5SWQpXG4gICAgICAgIGxldCBuZXdDYXRlZ29yaWVzOiBDYXRlZ29yeUlkW11cblxuICAgICAgICBpZiAoaXNDdXJyZW50bHlTZWxlY3RlZCkge1xuICAgICAgICAgIC8vIFJlbW92ZSBjYXRlZ29yeVxuICAgICAgICAgIG5ld0NhdGVnb3JpZXMgPSBwcmV2LmZpbHRlcihpZCA9PiBpZCAhPT0gY2F0ZWdvcnlJZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgY2F0ZWdvcnkgKHJlc3BlY3QgbWF4IHNlbGVjdGlvbnMpXG4gICAgICAgICAgaWYgKHByZXYubGVuZ3RoID49IG1heFNlbGVjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTWF4aW11bSAke21heFNlbGVjdGlvbnN9IGNhdGVnb3JpZXMgY2FuIGJlIHNlbGVjdGVkYClcbiAgICAgICAgICAgIHJldHVybiBwcmV2XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0NhdGVnb3JpZXMgPSBbLi4ucHJldiwgY2F0ZWdvcnlJZF1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgdHJhY2sgZXZlbnRcbiAgICAgICAgY29uc3QgZXZlbnQgPSBjcmVhdGVDaGFuZ2VFdmVudChcbiAgICAgICAgICBpc0N1cnJlbnRseVNlbGVjdGVkID8gJ2Rlc2VsZWN0JyA6ICdzZWxlY3QnLFxuICAgICAgICAgIGNhdGVnb3J5SWQsXG4gICAgICAgICAgbmV3Q2F0ZWdvcmllcyxcbiAgICAgICAgICBwcmV2XG4gICAgICAgIClcblxuICAgICAgICB0cmFja0FuYWx5dGljcyhldmVudClcbiAgICAgICAgb25DYXRlZ29yeUNoYW5nZT8uKGV2ZW50KVxuXG4gICAgICAgIHJldHVybiBuZXdDYXRlZ29yaWVzXG4gICAgICB9KVxuICAgIH0sXG4gICAgW21heFNlbGVjdGlvbnMsIGNyZWF0ZUNoYW5nZUV2ZW50LCB0cmFja0FuYWx5dGljcywgb25DYXRlZ29yeUNoYW5nZV1cbiAgKVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgc2VsZWN0ZWQgY2F0ZWdvcmllc1xuICAgKi9cbiAgY29uc3QgY2xlYXJBbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRDYXRlZ29yaWVzKHByZXYgPT4ge1xuICAgICAgaWYgKHByZXYubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBwcmV2XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlQ2hhbmdlRXZlbnQoJ2NsZWFyJywgdW5kZWZpbmVkLCBbXSwgcHJldilcbiAgICAgIHRyYWNrQW5hbHl0aWNzKGV2ZW50KVxuICAgICAgb25DYXRlZ29yeUNoYW5nZT8uKGV2ZW50KVxuXG4gICAgICByZXR1cm4gW11cbiAgICB9KVxuICB9LCBbY3JlYXRlQ2hhbmdlRXZlbnQsIHRyYWNrQW5hbHl0aWNzLCBvbkNhdGVnb3J5Q2hhbmdlXSlcblxuICAvKipcbiAgICogU2VsZWN0IGFsbCBwcm92aWRlZCBjYXRlZ29yaWVzXG4gICAqL1xuICBjb25zdCBzZWxlY3RBbGwgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcnlJZHM6IENhdGVnb3J5SWRbXSkgPT4ge1xuICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yaWVzKHByZXYgPT4ge1xuICAgICAgICAvLyBSZXNwZWN0IG1heCBzZWxlY3Rpb25zXG4gICAgICAgIGNvbnN0IGxpbWl0ZWRDYXRlZ29yaWVzID0gY2F0ZWdvcnlJZHMuc2xpY2UoMCwgbWF4U2VsZWN0aW9ucylcblxuICAgICAgICBpZiAoY2F0ZWdvcnlJZHMubGVuZ3RoID4gbWF4U2VsZWN0aW9ucykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgT25seSBmaXJzdCAke21heFNlbGVjdGlvbnN9IGNhdGVnb3JpZXMgd2lsbCBiZSBzZWxlY3RlZGApXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudCA9IGNyZWF0ZUNoYW5nZUV2ZW50KCdzZWxlY3RBbGwnLCB1bmRlZmluZWQsIGxpbWl0ZWRDYXRlZ29yaWVzLCBwcmV2KVxuICAgICAgICB0cmFja0FuYWx5dGljcyhldmVudClcbiAgICAgICAgb25DYXRlZ29yeUNoYW5nZT8uKGV2ZW50KVxuXG4gICAgICAgIHJldHVybiBsaW1pdGVkQ2F0ZWdvcmllc1xuICAgICAgfSlcbiAgICB9LFxuICAgIFttYXhTZWxlY3Rpb25zLCBjcmVhdGVDaGFuZ2VFdmVudCwgdHJhY2tBbmFseXRpY3MsIG9uQ2F0ZWdvcnlDaGFuZ2VdXG4gIClcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBjYXRlZ29yeSBpcyBzZWxlY3RlZFxuICAgKi9cbiAgY29uc3QgaXNTZWxlY3RlZCA9IHVzZUNhbGxiYWNrKFxuICAgIChjYXRlZ29yeUlkOiBDYXRlZ29yeUlkKTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRDYXRlZ29yaWVzLmluY2x1ZGVzKGNhdGVnb3J5SWQpXG4gICAgfSxcbiAgICBbc2VsZWN0ZWRDYXRlZ29yaWVzXVxuICApXG5cbiAgLyoqXG4gICAqIEdldCBjb3VudCBvZiBzZWxlY3RlZCBjYXRlZ29yaWVzXG4gICAqL1xuICBjb25zdCBzZWxlY3RlZENvdW50ID0gdXNlTWVtbygoKSA9PiBzZWxlY3RlZENhdGVnb3JpZXMubGVuZ3RoLCBbc2VsZWN0ZWRDYXRlZ29yaWVzXSlcblxuICAvKipcbiAgICogTWVtb2l6ZWQgcmV0dXJuIG9iamVjdCBmb3IgcGVyZm9ybWFuY2VcbiAgICovXG4gIGNvbnN0IHJldHVyblZhbHVlID0gdXNlTWVtbyhcbiAgICAoKTogVXNlQ2F0ZWdvcnlGaWx0ZXJSZXR1cm4gPT4gKHtcbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcmllcyxcbiAgICAgIHRvZ2dsZUNhdGVnb3J5LFxuICAgICAgY2xlYXJBbGwsXG4gICAgICBzZWxlY3RBbGwsXG4gICAgICBpc1NlbGVjdGVkLFxuICAgICAgc2VsZWN0ZWRDb3VudCxcbiAgICB9KSxcbiAgICBbc2VsZWN0ZWRDYXRlZ29yaWVzLCB0b2dnbGVDYXRlZ29yeSwgY2xlYXJBbGwsIHNlbGVjdEFsbCwgaXNTZWxlY3RlZCwgc2VsZWN0ZWRDb3VudF1cbiAgKVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZVxufVxuXG4vKipcbiAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIENhdGVnb3J5SWRcbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ2F0ZWdvcnlJZCA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIENhdGVnb3J5SWQgPT4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5sZW5ndGggPiAwXG59XG5cbi8qKlxuICogVXRpbGl0eSB0byB2YWxpZGF0ZSBjYXRlZ29yeSBJRHMgYXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ2F0ZWdvcnlJZHMgPSAoY2F0ZWdvcnlJZHM6IHVua25vd25bXSk6IENhdGVnb3J5SWRbXSA9PiB7XG4gIHJldHVybiBjYXRlZ29yeUlkcy5maWx0ZXIoaXNDYXRlZ29yeUlkKVxufVxuXG4vKipcbiAqIERlZmF1bHQgZXhwb3J0IGZvciBjb252ZW5pZW5jZVxuICovXG5leHBvcnQgZGVmYXVsdCB1c2VDYXRlZ29yeUZpbHRlclxuIl0sIm5hbWVzIjpbImlzQ2F0ZWdvcnlJZCIsInVzZUNhdGVnb3J5RmlsdGVyIiwidmFsaWRhdGVDYXRlZ29yeUlkcyIsIm9wdGlvbnMiLCJpbml0aWFsQ2F0ZWdvcmllcyIsIm1heFNlbGVjdGlvbnMiLCJzeW5jV2l0aFVybCIsInVybFBhcmFtTmFtZSIsIm9uQ2F0ZWdvcnlDaGFuZ2UiLCJlbmFibGVBbmFseXRpY3MiLCJzZWFyY2hQYXJhbXMiLCJ1c2VTZWFyY2hQYXJhbXMiLCJnZXRJbml0aWFsU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVybENhdGVnb3JpZXMiLCJnZXQiLCJzcGxpdCIsImZpbHRlciIsIkJvb2xlYW4iLCJzZWxlY3RlZENhdGVnb3JpZXMiLCJzZXRTZWxlY3RlZENhdGVnb3JpZXMiLCJ1c2VTdGF0ZSIsImNyZWF0ZUNoYW5nZUV2ZW50IiwidHlwZSIsImNhdGVnb3J5SWQiLCJuZXdDYXRlZ29yaWVzIiwicHJldmlvdXNDYXRlZ29yaWVzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRyYWNrQW5hbHl0aWNzIiwiZXZlbnQiLCJ3aW5kb3ciLCJndGFnIiwiZXZlbnRfY2F0ZWdvcnkiLCJldmVudF9sYWJlbCIsInZhbHVlIiwibGVuZ3RoIiwiY3VzdG9tX3BhcmFtZXRlcnMiLCJhY3Rpb25fdHlwZSIsInNlbGVjdGVkX2NvdW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwidG9nZ2xlQ2F0ZWdvcnkiLCJwcmV2IiwiaXNDdXJyZW50bHlTZWxlY3RlZCIsImluY2x1ZGVzIiwiaWQiLCJjb25zb2xlIiwid2FybiIsImNsZWFyQWxsIiwidW5kZWZpbmVkIiwic2VsZWN0QWxsIiwiY2F0ZWdvcnlJZHMiLCJsaW1pdGVkQ2F0ZWdvcmllcyIsInNsaWNlIiwiaXNTZWxlY3RlZCIsInNlbGVjdGVkQ291bnQiLCJ1c2VNZW1vIiwicmV0dXJuVmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUM7Ozs7Ozs7Ozs7O1FBNk9EOztDQUVDLEdBQ0Q7ZUFBQTs7UUFkYUE7ZUFBQUE7O1FBN0xBQztlQUFBQTs7UUFvTUFDO2VBQUFBOzs7dUJBdk9rQzs0QkFDZjtBQWtDekIsTUFBTUQsb0JBQW9CLENBQy9CRSxVQUFvQyxDQUFDLENBQUM7SUFFdEMsTUFBTSxFQUNKQyxvQkFBb0IsRUFBRSxFQUN0QkMsZ0JBQWdCLEVBQUUsRUFDbEJDLGNBQWMsSUFBSSxFQUNsQkMsZUFB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