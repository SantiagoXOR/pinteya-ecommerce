{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\optimization\\webpack-optimization-config.ts"],"sourcesContent":["// ===================================\r\n// WEBPACK OPTIMIZATION CONFIGURATION\r\n// ===================================\r\n// Configuración avanzada de webpack para optimización de bundles\r\n\r\nimport type { Configuration } from 'webpack';\r\n\r\n// ===================================\r\n// INTERFACES Y TIPOS\r\n// ===================================\r\n\r\nexport interface WebpackOptimizationOptions {\r\n  enableAdvancedSplitting: boolean;\r\n  enableTreeShaking: boolean;\r\n  enableCompression: boolean;\r\n  enableCaching: boolean;\r\n  enablePreloading: boolean;\r\n  performanceMode: 'development' | 'production' | 'analysis';\r\n  customChunks?: CustomChunkConfig[];\r\n}\r\n\r\nexport interface CustomChunkConfig {\r\n  name: string;\r\n  test: RegExp;\r\n  priority: number;\r\n  minSize?: number;\r\n  maxSize?: number;\r\n  enforce?: boolean;\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN DE CHUNKS AVANZADA\r\n// ===================================\r\n\r\nexport function getAdvancedSplitChunksConfig(options: WebpackOptimizationOptions) {\r\n  const baseConfig = {\r\n    chunks: 'all' as const,\r\n    minSize: 20000,\r\n    maxSize: 250000,\r\n    minChunks: 1,\r\n    maxAsyncRequests: 30,\r\n    maxInitialRequests: 30,\r\n    enforceSizeThreshold: 50000,\r\n    cacheGroups: {}\r\n  };\r\n\r\n  // ===================================\r\n  // CACHE GROUPS OPTIMIZADOS\r\n  // ===================================\r\n\r\n  const cacheGroups: Record<string, any> = {\r\n    // Framework core (React, Next.js)\r\n    framework: {\r\n      name: 'framework',\r\n      test: /[\\\\/]node_modules[\\\\/](react|react-dom|next)[\\\\/]/,\r\n      priority: 40,\r\n      chunks: 'all',\r\n      enforce: true,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Vendor libraries críticas\r\n    vendor: {\r\n      name: 'vendor',\r\n      test: /[\\\\/]node_modules[\\\\/](?!(react|react-dom|next)[\\\\/])/,\r\n      priority: 20,\r\n      chunks: 'all',\r\n      minSize: 30000,\r\n      maxSize: 200000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // UI Components (Radix UI, Lucide)\r\n    uiComponents: {\r\n      name: 'ui-components',\r\n      test: /[\\\\/]node_modules[\\\\/](@radix-ui|lucide-react|@headlessui)[\\\\/]/,\r\n      priority: 35,\r\n      chunks: 'all',\r\n      enforce: true,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Charts y visualización\r\n    charts: {\r\n      name: 'charts',\r\n      test: /[\\\\/]node_modules[\\\\/](recharts|d3|chart\\.js|victory)[\\\\/]/,\r\n      priority: 30,\r\n      chunks: 'all',\r\n      minSize: 50000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Mapas y geolocalización\r\n    maps: {\r\n      name: 'maps',\r\n      test: /[\\\\/]node_modules[\\\\/](maplibre-gl|mapbox-gl|leaflet)[\\\\/]/,\r\n      priority: 30,\r\n      chunks: 'all',\r\n      minSize: 100000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Utilidades y helpers\r\n    utils: {\r\n      name: 'utils',\r\n      test: /[\\\\/]node_modules[\\\\/](lodash|date-fns|clsx|class-variance-authority|tailwind-merge)[\\\\/]/,\r\n      priority: 25,\r\n      chunks: 'all',\r\n      minSize: 20000,\r\n      maxSize: 100000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Animaciones\r\n    animations: {\r\n      name: 'animations',\r\n      test: /[\\\\/]node_modules[\\\\/](framer-motion|lottie-react|react-spring)[\\\\/]/,\r\n      priority: 25,\r\n      chunks: 'all',\r\n      minSize: 50000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Forms y validación\r\n    forms: {\r\n      name: 'forms',\r\n      test: /[\\\\/]node_modules[\\\\/](react-hook-form|@hookform|zod|yup)[\\\\/]/,\r\n      priority: 25,\r\n      chunks: 'all',\r\n      minSize: 30000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Auth y seguridad\r\n    auth: {\r\n      name: 'auth',\r\n      test: /[\\\\/]node_modules[\\\\/](@auth|next-auth|supabase)[\\\\/]/,\r\n      priority: 30,\r\n      chunks: 'all',\r\n      minSize: 40000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Componentes de aplicación específicos\r\n    appComponents: {\r\n      name: 'app-components',\r\n      test: /[\\\\/]src[\\\\/]components[\\\\/](?!ui[\\\\/])/,\r\n      priority: 15,\r\n      chunks: 'all',\r\n      minSize: 30000,\r\n      maxSize: 150000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Sistema de diseño (UI components)\r\n    designSystem: {\r\n      name: 'design-system',\r\n      test: /[\\\\/]src[\\\\/]components[\\\\/]ui[\\\\/]/,\r\n      priority: 20,\r\n      chunks: 'all',\r\n      minSize: 20000,\r\n      maxSize: 100000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Hooks y utilidades de aplicación\r\n    appUtils: {\r\n      name: 'app-utils',\r\n      test: /[\\\\/]src[\\\\/](hooks|lib|utils)[\\\\/]/,\r\n      priority: 15,\r\n      chunks: 'all',\r\n      minSize: 20000,\r\n      maxSize: 80000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Admin panel específico\r\n    admin: {\r\n      name: 'admin',\r\n      test: /[\\\\/]src[\\\\/](app[\\\\/]admin|components[\\\\/]admin)[\\\\/]/,\r\n      priority: 25,\r\n      chunks: 'async',\r\n      minSize: 40000,\r\n      maxSize: 200000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // E-commerce específico\r\n    ecommerce: {\r\n      name: 'ecommerce',\r\n      test: /[\\\\/]src[\\\\/](app[\\\\/](shop|cart|checkout)|components[\\\\/](shop|cart|checkout))[\\\\/]/,\r\n      priority: 20,\r\n      chunks: 'all',\r\n      minSize: 30000,\r\n      maxSize: 150000,\r\n      reuseExistingChunk: true\r\n    },\r\n\r\n    // Páginas comunes\r\n    common: {\r\n      name: 'common',\r\n      test: /[\\\\/]src[\\\\/]/,\r\n      priority: 5,\r\n      chunks: 'all',\r\n      minSize: 30000,\r\n      maxSize: 100000,\r\n      minChunks: 2,\r\n      reuseExistingChunk: true\r\n    }\r\n  };\r\n\r\n  // Agregar chunks personalizados si se proporcionan\r\n  if (options.customChunks) {\r\n    options.customChunks.forEach(chunk => {\r\n      cacheGroups[chunk.name] = {\r\n        name: chunk.name,\r\n        test: chunk.test,\r\n        priority: chunk.priority,\r\n        chunks: 'all',\r\n        minSize: chunk.minSize || 20000,\r\n        maxSize: chunk.maxSize || 250000,\r\n        enforce: chunk.enforce || false,\r\n        reuseExistingChunk: true\r\n      };\r\n    });\r\n  }\r\n\r\n  return {\r\n    ...baseConfig,\r\n    cacheGroups\r\n  };\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN DE OPTIMIZACIÓN\r\n// ===================================\r\n\r\nexport function getOptimizationConfig(options: WebpackOptimizationOptions): Configuration['optimization'] {\r\n  const isProduction = options.performanceMode === 'production';\r\n  const isAnalysis = options.performanceMode === 'analysis';\r\n\r\n  return {\r\n    // Split chunks avanzado\r\n    splitChunks: options.enableAdvancedSplitting \r\n      ? getAdvancedSplitChunksConfig(options)\r\n      : undefined,\r\n\r\n    // Runtime chunk\r\n    runtimeChunk: isProduction ? 'single' : false,\r\n\r\n    // Minimización\r\n    minimize: isProduction,\r\n    minimizer: isProduction ? [] : undefined, // Next.js maneja esto automáticamente\r\n\r\n    // Module concatenation (scope hoisting)\r\n    concatenateModules: isProduction,\r\n\r\n    // Tree shaking\r\n    usedExports: options.enableTreeShaking,\r\n    sideEffects: false,\r\n\r\n    // Chunk IDs\r\n    chunkIds: isProduction ? 'deterministic' : 'named',\r\n    moduleIds: isProduction ? 'deterministic' : 'named',\r\n\r\n    // Optimización de módulos\r\n    providedExports: true,\r\n    innerGraph: true,\r\n\r\n    // Mangling\r\n    mangleExports: isProduction ? 'deterministic' : false,\r\n\r\n    // Eliminación de código muerto\r\n    removeAvailableModules: isProduction,\r\n    removeEmptyChunks: true,\r\n    mergeDuplicateChunks: true,\r\n\r\n    // Análisis de dependencias\r\n    flagIncludedChunks: isProduction,\r\n\r\n    // Configuración específica para análisis\r\n    ...(isAnalysis && {\r\n      splitChunks: {\r\n        ...getAdvancedSplitChunksConfig(options),\r\n        maxSize: 1000000, // Chunks más grandes para análisis\r\n        hidePathInfo: false\r\n      }\r\n    })\r\n  };\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN DE PERFORMANCE\r\n// ===================================\r\n\r\nexport function getPerformanceConfig(options: WebpackOptimizationOptions): Configuration['performance'] {\r\n  if (options.performanceMode === 'development') {\r\n    return false;\r\n  }\r\n\r\n  return {\r\n    hints: options.performanceMode === 'analysis' ? 'warning' : 'error',\r\n    maxEntrypointSize: 250000, // 250KB\r\n    maxAssetSize: 250000, // 250KB\r\n    assetFilter: (assetFilename: string) => {\r\n      // Solo analizar archivos JS y CSS\r\n      return /\\.(js|css)$/.test(assetFilename);\r\n    }\r\n  };\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN DE RESOLVE\r\n// ===================================\r\n\r\nexport function getResolveConfig(options: WebpackOptimizationOptions): Configuration['resolve'] {\r\n  return {\r\n    // Extensiones optimizadas\r\n    extensions: ['.ts', '.tsx', '.js', '.jsx', '.json'],\r\n\r\n    // Alias para optimización\r\n    alias: {\r\n      // Optimizaciones específicas para librerías pesadas\r\n      ...(options.enableTreeShaking && {\r\n        'lodash': 'lodash-es',\r\n        'date-fns': 'date-fns/esm'\r\n      })\r\n    },\r\n\r\n    // Módulos principales\r\n    mainFields: ['browser', 'module', 'main'],\r\n\r\n    // Optimización de resolución\r\n    symlinks: false,\r\n    cacheWithContext: false,\r\n\r\n    // Fallbacks para Node.js modules en browser\r\n    fallback: {\r\n      fs: false,\r\n      path: false,\r\n      crypto: false,\r\n      stream: false,\r\n      buffer: false\r\n    }\r\n  };\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN DE MODULE RULES\r\n// ===================================\r\n\r\nexport function getModuleRulesOptimization(options: WebpackOptimizationOptions) {\r\n  const rules = [];\r\n\r\n  // Tree shaking para módulos específicos\r\n  if (options.enableTreeShaking) {\r\n    rules.push({\r\n      test: /\\.js$/,\r\n      include: [\r\n        /node_modules\\/lodash-es/,\r\n        /node_modules\\/date-fns/,\r\n        /src\\/lib/,\r\n        /src\\/utils/\r\n      ],\r\n      sideEffects: false\r\n    });\r\n  }\r\n\r\n  // Optimización de imports\r\n  rules.push({\r\n    test: /\\.(ts|tsx|js|jsx)$/,\r\n    include: /src/,\r\n    use: {\r\n      loader: 'babel-loader',\r\n      options: {\r\n        plugins: [\r\n          // Plugin para optimizar imports de librerías\r\n          ['import', {\r\n            libraryName: 'lodash',\r\n            libraryDirectory: '',\r\n            camel2DashComponentName: false\r\n          }, 'lodash'],\r\n          ['import', {\r\n            libraryName: 'date-fns',\r\n            libraryDirectory: '',\r\n            camel2DashComponentName: false\r\n          }, 'date-fns']\r\n        ]\r\n      }\r\n    }\r\n  });\r\n\r\n  return rules;\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIÓN COMPLETA\r\n// ===================================\r\n\r\nexport function createOptimizedWebpackConfig(\r\n  baseConfig: Configuration,\r\n  options: WebpackOptimizationOptions\r\n): Configuration {\r\n  return {\r\n    ...baseConfig,\r\n    optimization: {\r\n      ...baseConfig.optimization,\r\n      ...getOptimizationConfig(options)\r\n    },\r\n    performance: getPerformanceConfig(options),\r\n    resolve: {\r\n      ...baseConfig.resolve,\r\n      ...getResolveConfig(options)\r\n    },\r\n    module: {\r\n      ...baseConfig.module,\r\n      rules: [\r\n        ...(baseConfig.module?.rules || []),\r\n        ...getModuleRulesOptimization(options)\r\n      ]\r\n    }\r\n  };\r\n}\r\n\r\n// ===================================\r\n// CONFIGURACIONES PREDEFINIDAS\r\n// ===================================\r\n\r\nexport const OPTIMIZATION_PRESETS = {\r\n  development: {\r\n    enableAdvancedSplitting: false,\r\n    enableTreeShaking: false,\r\n    enableCompression: false,\r\n    enableCaching: true,\r\n    enablePreloading: false,\r\n    performanceMode: 'development' as const\r\n  },\r\n\r\n  production: {\r\n    enableAdvancedSplitting: true,\r\n    enableTreeShaking: true,\r\n    enableCompression: true,\r\n    enableCaching: true,\r\n    enablePreloading: true,\r\n    performanceMode: 'production' as const\r\n  },\r\n\r\n  analysis: {\r\n    enableAdvancedSplitting: true,\r\n    enableTreeShaking: true,\r\n    enableCompression: false,\r\n    enableCaching: false,\r\n    enablePreloading: false,\r\n    performanceMode: 'analysis' as const\r\n  }\r\n} as const;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["OPTIMIZATION_PRESETS","createOptimizedWebpackConfig","getAdvancedSplitChunksConfig","getModuleRulesOptimization","getOptimizationConfig","getPerformanceConfig","getResolveConfig","options","baseConfig","chunks","minSize","maxSize","minChunks","maxAsyncRequests","maxInitialRequests","enforceSizeThreshold","cacheGroups","framework","name","test","priority","enforce","reuseExistingChunk","vendor","uiComponents","charts","maps","utils","animations","forms","auth","appComponents","designSystem","appUtils","admin","ecommerce","common","customChunks","forEach","chunk","isProduction","performanceMode","isAnalysis","splitChunks","enableAdvancedSplitting","undefined","runtimeChunk","minimize","minimizer","concatenateModules","usedExports","enableTreeShaking","sideEffects","chunkIds","moduleIds","providedExports","innerGraph","mangleExports","removeAvailableModules","removeEmptyChunks","mergeDuplicateChunks","flagIncludedChunks","hidePathInfo","hints","maxEntrypointSize","maxAssetSize","assetFilter","assetFilename","extensions","alias","mainFields","symlinks","cacheWithContext","fallback","fs","path","crypto","stream","buffer","rules","push","include","use","loader","plugins","libraryName","libraryDirectory","camel2DashComponentName","optimization","performance","resolve","module","development","enableCompression","enableCaching","enablePreloading","production","analysis"],"mappings":"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"}