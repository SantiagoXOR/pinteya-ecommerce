6e4ac1fb018e3b83bd8232ed771b3c0d
'use client';
"use strict";

/* istanbul ignore next */
function cov_2k2brcu9az() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\notifications\\email.ts";
  var hash = "bbc889a39fb4dd467e4e8c8c3d6666d87d6e8433";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\notifications\\email.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 34,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 40
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 28
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 33
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 37
        }
      },
      "8": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 33
        }
      },
      "9": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 40
        }
      },
      "10": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 32
        }
      },
      "11": {
        start: {
          line: 35,
          column: 18
        },
        end: {
          line: 35,
          column: 58
        }
      },
      "12": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 40,
          column: 9
        }
      },
      "13": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 79
        }
      },
      "14": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 49
        }
      },
      "15": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 65,
          column: 9
        }
      },
      "16": {
        start: {
          line: 45,
          column: 29
        },
        end: {
          line: 51,
          column: 14
        }
      },
      "17": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 54,
          column: 13
        }
      },
      "18": {
        start: {
          line: 53,
          column: 16
        },
        end: {
          line: 53,
          column: 74
        }
      },
      "19": {
        start: {
          line: 55,
          column: 27
        },
        end: {
          line: 55,
          column: 48
        }
      },
      "20": {
        start: {
          line: 56,
          column: 12
        },
        end: {
          line: 56,
          column: 34
        }
      },
      "21": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 58,
          column: 70
        }
      },
      "22": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 63,
          column: 15
        }
      },
      "23": {
        start: {
          line: 64,
          column: 12
        },
        end: {
          line: 64,
          column: 25
        }
      },
      "24": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 74,
          column: 11
        }
      },
      "25": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 83,
          column: 11
        }
      },
      "26": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 92,
          column: 11
        }
      },
      "27": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 101,
          column: 11
        }
      },
      "28": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 110,
          column: 11
        }
      },
      "29": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 119,
          column: 11
        }
      },
      "30": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 128,
          column: 11
        }
      },
      "31": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "32": {
        start: {
          line: 132,
          column: 29
        },
        end: {
          line: 132,
          column: 78
        }
      },
      "33": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 135,
          column: 13
        }
      },
      "34": {
        start: {
          line: 134,
          column: 16
        },
        end: {
          line: 134,
          column: 63
        }
      },
      "35": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 136,
          column: 41
        }
      },
      "36": {
        start: {
          line: 138,
          column: 12
        },
        end: {
          line: 138,
          column: 68
        }
      },
      "37": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 139,
          column: 22
        }
      },
      "38": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 145,
          column: 9
        }
      },
      "39": {
        start: {
          line: 144,
          column: 12
        },
        end: {
          line: 144,
          column: 76
        }
      },
      "40": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 161,
          column: 9
        }
      },
      "41": {
        start: {
          line: 147,
          column: 29
        },
        end: {
          line: 153,
          column: 14
        }
      },
      "42": {
        start: {
          line: 154,
          column: 12
        },
        end: {
          line: 156,
          column: 13
        }
      },
      "43": {
        start: {
          line: 155,
          column: 16
        },
        end: {
          line: 155,
          column: 60
        }
      },
      "44": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 24
        }
      },
      "45": {
        start: {
          line: 159,
          column: 12
        },
        end: {
          line: 159,
          column: 60
        }
      },
      "46": {
        start: {
          line: 160,
          column: 12
        },
        end: {
          line: 160,
          column: 25
        }
      },
      "47": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 164,
          column: 54
        }
      },
      "48": {
        start: {
          line: 167,
          column: 21
        },
        end: {
          line: 167,
          column: 59
        }
      },
      "49": {
        start: {
          line: 168,
          column: 30
        },
        end: {
          line: 168,
          column: 88
        }
      },
      "50": {
        start: {
          line: 168,
          column: 43
        },
        end: {
          line: 168,
          column: 88
        }
      },
      "51": {
        start: {
          line: 169,
          column: 33
        },
        end: {
          line: 169,
          column: 100
        }
      },
      "52": {
        start: {
          line: 169,
          column: 49
        },
        end: {
          line: 169,
          column: 100
        }
      },
      "53": {
        start: {
          line: 170,
          column: 26
        },
        end: {
          line: 170,
          column: 78
        }
      },
      "54": {
        start: {
          line: 170,
          column: 38
        },
        end: {
          line: 170,
          column: 78
        }
      },
      "55": {
        start: {
          line: 171,
          column: 25
        },
        end: {
          line: 171,
          column: 76
        }
      },
      "56": {
        start: {
          line: 171,
          column: 37
        },
        end: {
          line: 171,
          column: 76
        }
      },
      "57": {
        start: {
          line: 172,
          column: 26
        },
        end: {
          line: 172,
          column: 84
        }
      },
      "58": {
        start: {
          line: 172,
          column: 41
        },
        end: {
          line: 172,
          column: 84
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 36
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 24
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 29
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 33
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 25,
            column: 5
          }
        },
        loc: {
          start: {
            line: 25,
            column: 29
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 25
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        loc: {
          start: {
            line: 28,
            column: 36
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 28
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 28
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 31
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 37,
            column: 5
          }
        },
        loc: {
          start: {
            line: 37,
            column: 25
          },
          end: {
            line: 42,
            column: 5
          }
        },
        line: 37
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 43,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        loc: {
          start: {
            line: 43,
            column: 35
          },
          end: {
            line: 66,
            column: 5
          }
        },
        line: 43
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        },
        loc: {
          start: {
            line: 67,
            column: 43
          },
          end: {
            line: 75,
            column: 5
          }
        },
        line: 67
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        },
        loc: {
          start: {
            line: 76,
            column: 49
          },
          end: {
            line: 84,
            column: 5
          }
        },
        line: 76
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 85,
            column: 4
          },
          end: {
            line: 85,
            column: 5
          }
        },
        loc: {
          start: {
            line: 85,
            column: 38
          },
          end: {
            line: 93,
            column: 5
          }
        },
        line: 85
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 94,
            column: 4
          },
          end: {
            line: 94,
            column: 5
          }
        },
        loc: {
          start: {
            line: 94,
            column: 37
          },
          end: {
            line: 102,
            column: 5
          }
        },
        line: 94
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 103,
            column: 5
          }
        },
        loc: {
          start: {
            line: 103,
            column: 41
          },
          end: {
            line: 111,
            column: 5
          }
        },
        line: 103
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 112,
            column: 4
          },
          end: {
            line: 112,
            column: 5
          }
        },
        loc: {
          start: {
            line: 112,
            column: 44
          },
          end: {
            line: 120,
            column: 5
          }
        },
        line: 112
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 121,
            column: 4
          },
          end: {
            line: 121,
            column: 5
          }
        },
        loc: {
          start: {
            line: 121,
            column: 42
          },
          end: {
            line: 129,
            column: 5
          }
        },
        line: 121
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 130,
            column: 4
          },
          end: {
            line: 130,
            column: 5
          }
        },
        loc: {
          start: {
            line: 130,
            column: 30
          },
          end: {
            line: 141,
            column: 5
          }
        },
        line: 130
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 142,
            column: 4
          },
          end: {
            line: 142,
            column: 5
          }
        },
        loc: {
          start: {
            line: 142,
            column: 32
          },
          end: {
            line: 162,
            column: 5
          }
        },
        line: 142
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 163,
            column: 4
          },
          end: {
            line: 163,
            column: 5
          }
        },
        loc: {
          start: {
            line: 163,
            column: 17
          },
          end: {
            line: 165,
            column: 5
          }
        },
        line: 163
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 168,
            column: 30
          },
          end: {
            line: 168,
            column: 31
          }
        },
        loc: {
          start: {
            line: 168,
            column: 43
          },
          end: {
            line: 168,
            column: 88
          }
        },
        line: 168
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 169,
            column: 33
          },
          end: {
            line: 169,
            column: 34
          }
        },
        loc: {
          start: {
            line: 169,
            column: 49
          },
          end: {
            line: 169,
            column: 100
          }
        },
        line: 169
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 170,
            column: 26
          },
          end: {
            line: 170,
            column: 27
          }
        },
        loc: {
          start: {
            line: 170,
            column: 38
          },
          end: {
            line: 170,
            column: 78
          }
        },
        line: 170
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 171,
            column: 25
          },
          end: {
            line: 171,
            column: 26
          }
        },
        loc: {
          start: {
            line: 171,
            column: 37
          },
          end: {
            line: 171,
            column: 76
          }
        },
        line: 171
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 172,
            column: 26
          },
          end: {
            line: 172,
            column: 27
          }
        },
        loc: {
          start: {
            line: 172,
            column: 41
          },
          end: {
            line: 172,
            column: 84
          }
        },
        line: 172
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 40,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      },
      "1": {
        loc: {
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 54,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 54,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "2": {
        loc: {
          start: {
            line: 133,
            column: 12
          },
          end: {
            line: 135,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 133,
            column: 12
          },
          end: {
            line: 135,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 133
      },
      "3": {
        loc: {
          start: {
            line: 143,
            column: 8
          },
          end: {
            line: 145,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 143,
            column: 8
          },
          end: {
            line: 145,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 143
      },
      "4": {
        loc: {
          start: {
            line: 154,
            column: 12
          },
          end: {
            line: 156,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 154,
            column: 12
          },
          end: {
            line: 156,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 154
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\notifications\\email.ts"],
      sourcesContent: ["'use client'\r\n\r\nimport { toast } from '@/components/ui/use-toast'\r\n\r\nexport interface EmailNotificationConfig {\r\n  to: string | string[]\r\n  subject: string\r\n  template: string\r\n  data?: Record<string, any>\r\n  priority?: 'low' | 'normal' | 'high'\r\n  scheduledAt?: Date\r\n}\r\n\r\nexport interface EmailTemplate {\r\n  id: string\r\n  name: string\r\n  subject: string\r\n  htmlContent: string\r\n  textContent?: string\r\n  variables: string[]\r\n}\r\n\r\nexport class EmailNotificationService {\r\n  private static instance: EmailNotificationService\r\n  private apiEndpoint = '/api/notifications/email'\r\n\r\n  static getInstance(): EmailNotificationService {\r\n    if (!EmailNotificationService.instance) {\r\n      EmailNotificationService.instance = new EmailNotificationService()\r\n    }\r\n    return EmailNotificationService.instance\r\n  }\r\n\r\n  async sendNotification(config: EmailNotificationConfig): Promise<boolean> {\r\n    try {\r\n      const response = await fetch(this.apiEndpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(config)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al enviar notificaci\xF3n por email')\r\n      }\r\n\r\n      const result = await response.json()\r\n      return result.success\r\n    } catch (error) {\r\n      console.error('Error sending email notification:', error)\r\n      toast({\r\n        title: 'Error',\r\n        description: 'No se pudo enviar la notificaci\xF3n por email',\r\n        variant: 'destructive'\r\n      })\r\n      return false\r\n    }\r\n  }\r\n\r\n  async sendOrderConfirmation(orderData: {\r\n    customerEmail: string\r\n    orderId: string\r\n    customerName: string\r\n    items: Array<{ name: string; quantity: number; price: number }>\r\n    total: number\r\n    shippingAddress: any\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: orderData.customerEmail,\r\n      subject: `Confirmaci\xF3n de pedido #${orderData.orderId}`,\r\n      template: 'order-confirmation',\r\n      data: orderData,\r\n      priority: 'high'\r\n    })\r\n  }\r\n\r\n  async sendShippingNotification(shippingData: {\r\n    customerEmail: string\r\n    orderId: string\r\n    trackingNumber: string\r\n    estimatedDelivery: string\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: shippingData.customerEmail,\r\n      subject: `Tu pedido #${shippingData.orderId} est\xE1 en camino`,\r\n      template: 'shipping-notification',\r\n      data: shippingData,\r\n      priority: 'normal'\r\n    })\r\n  }\r\n\r\n  async sendPasswordReset(userData: {\r\n    email: string\r\n    resetToken: string\r\n    userName: string\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: userData.email,\r\n      subject: 'Restablecer contrase\xF1a',\r\n      template: 'password-reset',\r\n      data: userData,\r\n      priority: 'high'\r\n    })\r\n  }\r\n\r\n  async sendWelcomeEmail(userData: {\r\n    email: string\r\n    userName: string\r\n    verificationToken?: string\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: userData.email,\r\n      subject: '\xA1Bienvenido a nuestra tienda!',\r\n      template: 'welcome',\r\n      data: userData,\r\n      priority: 'normal'\r\n    })\r\n  }\r\n\r\n  async sendLowStockAlert(productData: {\r\n    adminEmails: string[]\r\n    productName: string\r\n    currentStock: number\r\n    minimumStock: number\r\n    productId: string\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: productData.adminEmails,\r\n      subject: `Alerta: Stock bajo - ${productData.productName}`,\r\n      template: 'low-stock-alert',\r\n      data: productData,\r\n      priority: 'high'\r\n    })\r\n  }\r\n\r\n  async sendOrderStatusUpdate(statusData: {\r\n    customerEmail: string\r\n    orderId: string\r\n    newStatus: string\r\n    customerName: string\r\n    statusMessage?: string\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: statusData.customerEmail,\r\n      subject: `Actualizaci\xF3n de pedido #${statusData.orderId}`,\r\n      template: 'order-status-update',\r\n      data: statusData,\r\n      priority: 'normal'\r\n    })\r\n  }\r\n\r\n  async sendPromotionalEmail(promoData: {\r\n    recipients: string[]\r\n    subject: string\r\n    promoCode?: string\r\n    discount?: number\r\n    validUntil?: string\r\n    products?: Array<{ name: string; price: number; image: string }>\r\n  }): Promise<boolean> {\r\n    return this.sendNotification({\r\n      to: promoData.recipients,\r\n      subject: promoData.subject,\r\n      template: 'promotional',\r\n      data: promoData,\r\n      priority: 'low'\r\n    })\r\n  }\r\n\r\n  async getEmailTemplates(): Promise<EmailTemplate[]> {\r\n    try {\r\n      const response = await fetch('/api/notifications/email/templates')\r\n      if (!response.ok) {\r\n        throw new Error('Error al obtener plantillas')\r\n      }\r\n      return await response.json()\r\n    } catch (error) {\r\n      console.error('Error fetching email templates:', error)\r\n      return []\r\n    }\r\n  }\r\n\r\n  async scheduleEmail(config: EmailNotificationConfig): Promise<boolean> {\r\n    if (!config.scheduledAt) {\r\n      throw new Error('scheduledAt is required for scheduled emails')\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/notifications/email/schedule', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(config)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error al programar email')\r\n      }\r\n\r\n      return true\r\n    } catch (error) {\r\n      console.error('Error scheduling email:', error)\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\n// Instancia singleton para uso global\r\nexport const emailService = EmailNotificationService.getInstance()\r\n\r\n// Funciones de conveniencia\r\nexport const sendOrderConfirmation = (orderData: Parameters<EmailNotificationService['sendOrderConfirmation']>[0]) => \r\n  emailService.sendOrderConfirmation(orderData)\r\n\r\nexport const sendShippingNotification = (shippingData: Parameters<EmailNotificationService['sendShippingNotification']>[0]) => \r\n  emailService.sendShippingNotification(shippingData)\r\n\r\nexport const sendPasswordReset = (userData: Parameters<EmailNotificationService['sendPasswordReset']>[0]) => \r\n  emailService.sendPasswordReset(userData)\r\n\r\nexport const sendWelcomeEmail = (userData: Parameters<EmailNotificationService['sendWelcomeEmail']>[0]) => \r\n  emailService.sendWelcomeEmail(userData)\r\n\r\nexport const sendLowStockAlert = (productData: Parameters<EmailNotificationService['sendLowStockAlert']>[0]) => \r\n  emailService.sendLowStockAlert(productData)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["EmailNotificationService", "emailService", "sendLowStockAlert", "sendOrderConfirmation", "sendPasswordReset", "sendShippingNotification", "sendWelcomeEmail", "getInstance", "instance", "sendNotification", "config", "response", "fetch", "apiEndpoint", "method", "headers", "body", "JSON", "stringify", "ok", "Error", "result", "json", "success", "error", "console", "toast", "title", "description", "variant", "orderData", "to", "customerEmail", "subject", "orderId", "template", "data", "priority", "shippingData", "userData", "email", "productData", "adminEmails", "productName", "sendOrderStatusUpdate", "statusData", "sendPromotionalEmail", "promoData", "recipients", "getEmailTemplates", "scheduleEmail", "scheduledAt"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bbc889a39fb4dd467e4e8c8c3d6666d87d6e8433"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2k2brcu9az = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2k2brcu9az();
cov_2k2brcu9az().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[0]++;
  cov_2k2brcu9az().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2k2brcu9az().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2k2brcu9az().s[3]++;
_export(exports, {
  get EmailNotificationService() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[1]++;
    cov_2k2brcu9az().s[4]++;
    return EmailNotificationService;
  },
  get emailService() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[2]++;
    cov_2k2brcu9az().s[5]++;
    return emailService;
  },
  get sendLowStockAlert() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[3]++;
    cov_2k2brcu9az().s[6]++;
    return sendLowStockAlert;
  },
  get sendOrderConfirmation() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[4]++;
    cov_2k2brcu9az().s[7]++;
    return sendOrderConfirmation;
  },
  get sendPasswordReset() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[5]++;
    cov_2k2brcu9az().s[8]++;
    return sendPasswordReset;
  },
  get sendShippingNotification() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[6]++;
    cov_2k2brcu9az().s[9]++;
    return sendShippingNotification;
  },
  get sendWelcomeEmail() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[7]++;
    cov_2k2brcu9az().s[10]++;
    return sendWelcomeEmail;
  }
});
const _usetoast =
/* istanbul ignore next */
(cov_2k2brcu9az().s[11]++, require("../../components/ui/use-toast"));
class EmailNotificationService {
  static getInstance() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[8]++;
    cov_2k2brcu9az().s[12]++;
    if (!EmailNotificationService.instance) {
      /* istanbul ignore next */
      cov_2k2brcu9az().b[0][0]++;
      cov_2k2brcu9az().s[13]++;
      EmailNotificationService.instance = new EmailNotificationService();
    } else
    /* istanbul ignore next */
    {
      cov_2k2brcu9az().b[0][1]++;
    }
    cov_2k2brcu9az().s[14]++;
    return EmailNotificationService.instance;
  }
  async sendNotification(config) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[9]++;
    cov_2k2brcu9az().s[15]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_2k2brcu9az().s[16]++, await fetch(this.apiEndpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(config)
      }));
      /* istanbul ignore next */
      cov_2k2brcu9az().s[17]++;
      if (!response.ok) {
        /* istanbul ignore next */
        cov_2k2brcu9az().b[1][0]++;
        cov_2k2brcu9az().s[18]++;
        throw new Error('Error al enviar notificación por email');
      } else
      /* istanbul ignore next */
      {
        cov_2k2brcu9az().b[1][1]++;
      }
      const result =
      /* istanbul ignore next */
      (cov_2k2brcu9az().s[19]++, await response.json());
      /* istanbul ignore next */
      cov_2k2brcu9az().s[20]++;
      return result.success;
    } catch (error) {
      /* istanbul ignore next */
      cov_2k2brcu9az().s[21]++;
      console.error('Error sending email notification:', error);
      /* istanbul ignore next */
      cov_2k2brcu9az().s[22]++;
      (0, _usetoast.toast)({
        title: 'Error',
        description: 'No se pudo enviar la notificación por email',
        variant: 'destructive'
      });
      /* istanbul ignore next */
      cov_2k2brcu9az().s[23]++;
      return false;
    }
  }
  async sendOrderConfirmation(orderData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[10]++;
    cov_2k2brcu9az().s[24]++;
    return this.sendNotification({
      to: orderData.customerEmail,
      subject: `Confirmación de pedido #${orderData.orderId}`,
      template: 'order-confirmation',
      data: orderData,
      priority: 'high'
    });
  }
  async sendShippingNotification(shippingData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[11]++;
    cov_2k2brcu9az().s[25]++;
    return this.sendNotification({
      to: shippingData.customerEmail,
      subject: `Tu pedido #${shippingData.orderId} está en camino`,
      template: 'shipping-notification',
      data: shippingData,
      priority: 'normal'
    });
  }
  async sendPasswordReset(userData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[12]++;
    cov_2k2brcu9az().s[26]++;
    return this.sendNotification({
      to: userData.email,
      subject: 'Restablecer contraseña',
      template: 'password-reset',
      data: userData,
      priority: 'high'
    });
  }
  async sendWelcomeEmail(userData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[13]++;
    cov_2k2brcu9az().s[27]++;
    return this.sendNotification({
      to: userData.email,
      subject: '¡Bienvenido a nuestra tienda!',
      template: 'welcome',
      data: userData,
      priority: 'normal'
    });
  }
  async sendLowStockAlert(productData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[14]++;
    cov_2k2brcu9az().s[28]++;
    return this.sendNotification({
      to: productData.adminEmails,
      subject: `Alerta: Stock bajo - ${productData.productName}`,
      template: 'low-stock-alert',
      data: productData,
      priority: 'high'
    });
  }
  async sendOrderStatusUpdate(statusData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[15]++;
    cov_2k2brcu9az().s[29]++;
    return this.sendNotification({
      to: statusData.customerEmail,
      subject: `Actualización de pedido #${statusData.orderId}`,
      template: 'order-status-update',
      data: statusData,
      priority: 'normal'
    });
  }
  async sendPromotionalEmail(promoData) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[16]++;
    cov_2k2brcu9az().s[30]++;
    return this.sendNotification({
      to: promoData.recipients,
      subject: promoData.subject,
      template: 'promotional',
      data: promoData,
      priority: 'low'
    });
  }
  async getEmailTemplates() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[17]++;
    cov_2k2brcu9az().s[31]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_2k2brcu9az().s[32]++, await fetch('/api/notifications/email/templates'));
      /* istanbul ignore next */
      cov_2k2brcu9az().s[33]++;
      if (!response.ok) {
        /* istanbul ignore next */
        cov_2k2brcu9az().b[2][0]++;
        cov_2k2brcu9az().s[34]++;
        throw new Error('Error al obtener plantillas');
      } else
      /* istanbul ignore next */
      {
        cov_2k2brcu9az().b[2][1]++;
      }
      cov_2k2brcu9az().s[35]++;
      return await response.json();
    } catch (error) {
      /* istanbul ignore next */
      cov_2k2brcu9az().s[36]++;
      console.error('Error fetching email templates:', error);
      /* istanbul ignore next */
      cov_2k2brcu9az().s[37]++;
      return [];
    }
  }
  async scheduleEmail(config) {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[18]++;
    cov_2k2brcu9az().s[38]++;
    if (!config.scheduledAt) {
      /* istanbul ignore next */
      cov_2k2brcu9az().b[3][0]++;
      cov_2k2brcu9az().s[39]++;
      throw new Error('scheduledAt is required for scheduled emails');
    } else
    /* istanbul ignore next */
    {
      cov_2k2brcu9az().b[3][1]++;
    }
    cov_2k2brcu9az().s[40]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_2k2brcu9az().s[41]++, await fetch('/api/notifications/email/schedule', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(config)
      }));
      /* istanbul ignore next */
      cov_2k2brcu9az().s[42]++;
      if (!response.ok) {
        /* istanbul ignore next */
        cov_2k2brcu9az().b[4][0]++;
        cov_2k2brcu9az().s[43]++;
        throw new Error('Error al programar email');
      } else
      /* istanbul ignore next */
      {
        cov_2k2brcu9az().b[4][1]++;
      }
      cov_2k2brcu9az().s[44]++;
      return true;
    } catch (error) {
      /* istanbul ignore next */
      cov_2k2brcu9az().s[45]++;
      console.error('Error scheduling email:', error);
      /* istanbul ignore next */
      cov_2k2brcu9az().s[46]++;
      return false;
    }
  }
  constructor() {
    /* istanbul ignore next */
    cov_2k2brcu9az().f[19]++;
    cov_2k2brcu9az().s[47]++;
    this.apiEndpoint = '/api/notifications/email';
  }
}
const emailService =
/* istanbul ignore next */
(cov_2k2brcu9az().s[48]++, EmailNotificationService.getInstance());
/* istanbul ignore next */
cov_2k2brcu9az().s[49]++;
const sendOrderConfirmation = orderData => {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[20]++;
  cov_2k2brcu9az().s[50]++;
  return emailService.sendOrderConfirmation(orderData);
};
/* istanbul ignore next */
cov_2k2brcu9az().s[51]++;
const sendShippingNotification = shippingData => {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[21]++;
  cov_2k2brcu9az().s[52]++;
  return emailService.sendShippingNotification(shippingData);
};
/* istanbul ignore next */
cov_2k2brcu9az().s[53]++;
const sendPasswordReset = userData => {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[22]++;
  cov_2k2brcu9az().s[54]++;
  return emailService.sendPasswordReset(userData);
};
/* istanbul ignore next */
cov_2k2brcu9az().s[55]++;
const sendWelcomeEmail = userData => {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[23]++;
  cov_2k2brcu9az().s[56]++;
  return emailService.sendWelcomeEmail(userData);
};
/* istanbul ignore next */
cov_2k2brcu9az().s[57]++;
const sendLowStockAlert = productData => {
  /* istanbul ignore next */
  cov_2k2brcu9az().f[24]++;
  cov_2k2brcu9az().s[58]++;
  return emailService.sendLowStockAlert(productData);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmsyYnJjdTlheiIsImFjdHVhbENvdmVyYWdlIiwicyIsIkVtYWlsTm90aWZpY2F0aW9uU2VydmljZSIsImYiLCJlbWFpbFNlcnZpY2UiLCJzZW5kTG93U3RvY2tBbGVydCIsInNlbmRPcmRlckNvbmZpcm1hdGlvbiIsInNlbmRQYXNzd29yZFJlc2V0Iiwic2VuZFNoaXBwaW5nTm90aWZpY2F0aW9uIiwic2VuZFdlbGNvbWVFbWFpbCIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJiIiwic2VuZE5vdGlmaWNhdGlvbiIsImNvbmZpZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJhcGlFbmRwb2ludCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiRXJyb3IiLCJyZXN1bHQiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsIl91c2V0b2FzdCIsInRvYXN0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJvcmRlckRhdGEiLCJ0byIsImN1c3RvbWVyRW1haWwiLCJzdWJqZWN0Iiwib3JkZXJJZCIsInRlbXBsYXRlIiwiZGF0YSIsInByaW9yaXR5Iiwic2hpcHBpbmdEYXRhIiwidXNlckRhdGEiLCJlbWFpbCIsInByb2R1Y3REYXRhIiwiYWRtaW5FbWFpbHMiLCJwcm9kdWN0TmFtZSIsInNlbmRPcmRlclN0YXR1c1VwZGF0ZSIsInN0YXR1c0RhdGEiLCJzZW5kUHJvbW90aW9uYWxFbWFpbCIsInByb21vRGF0YSIsInJlY2lwaWVudHMiLCJnZXRFbWFpbFRlbXBsYXRlcyIsInNjaGVkdWxlRW1haWwiLCJzY2hlZHVsZWRBdCJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxub3RpZmljYXRpb25zXFxlbWFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3VzZS10b2FzdCdcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxOb3RpZmljYXRpb25Db25maWcge1xyXG4gIHRvOiBzdHJpbmcgfCBzdHJpbmdbXVxyXG4gIHN1YmplY3Q6IHN0cmluZ1xyXG4gIHRlbXBsYXRlOiBzdHJpbmdcclxuICBkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PlxyXG4gIHByaW9yaXR5PzogJ2xvdycgfCAnbm9ybWFsJyB8ICdoaWdoJ1xyXG4gIHNjaGVkdWxlZEF0PzogRGF0ZVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsVGVtcGxhdGUge1xyXG4gIGlkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBzdWJqZWN0OiBzdHJpbmdcclxuICBodG1sQ29udGVudDogc3RyaW5nXHJcbiAgdGV4dENvbnRlbnQ/OiBzdHJpbmdcclxuICB2YXJpYWJsZXM6IHN0cmluZ1tdXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2Uge1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2VcclxuICBwcml2YXRlIGFwaUVuZHBvaW50ID0gJy9hcGkvbm90aWZpY2F0aW9ucy9lbWFpbCdcclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IEVtYWlsTm90aWZpY2F0aW9uU2VydmljZSB7XHJcbiAgICBpZiAoIUVtYWlsTm90aWZpY2F0aW9uU2VydmljZS5pbnN0YW5jZSkge1xyXG4gICAgICBFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2UuaW5zdGFuY2UgPSBuZXcgRW1haWxOb3RpZmljYXRpb25TZXJ2aWNlKClcclxuICAgIH1cclxuICAgIHJldHVybiBFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2UuaW5zdGFuY2VcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmROb3RpZmljYXRpb24oY29uZmlnOiBFbWFpbE5vdGlmaWNhdGlvbkNvbmZpZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmFwaUVuZHBvaW50LCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29uZmlnKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgYWwgZW52aWFyIG5vdGlmaWNhY2nDs24gcG9yIGVtYWlsJylcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIHJldHVybiByZXN1bHQuc3VjY2Vzc1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBlbWFpbCBub3RpZmljYXRpb246JywgZXJyb3IpXHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ05vIHNlIHB1ZG8gZW52aWFyIGxhIG5vdGlmaWNhY2nDs24gcG9yIGVtYWlsJyxcclxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VuZE9yZGVyQ29uZmlybWF0aW9uKG9yZGVyRGF0YToge1xyXG4gICAgY3VzdG9tZXJFbWFpbDogc3RyaW5nXHJcbiAgICBvcmRlcklkOiBzdHJpbmdcclxuICAgIGN1c3RvbWVyTmFtZTogc3RyaW5nXHJcbiAgICBpdGVtczogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IHF1YW50aXR5OiBudW1iZXI7IHByaWNlOiBudW1iZXIgfT5cclxuICAgIHRvdGFsOiBudW1iZXJcclxuICAgIHNoaXBwaW5nQWRkcmVzczogYW55XHJcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZE5vdGlmaWNhdGlvbih7XHJcbiAgICAgIHRvOiBvcmRlckRhdGEuY3VzdG9tZXJFbWFpbCxcclxuICAgICAgc3ViamVjdDogYENvbmZpcm1hY2nDs24gZGUgcGVkaWRvICMke29yZGVyRGF0YS5vcmRlcklkfWAsXHJcbiAgICAgIHRlbXBsYXRlOiAnb3JkZXItY29uZmlybWF0aW9uJyxcclxuICAgICAgZGF0YTogb3JkZXJEYXRhLFxyXG4gICAgICBwcmlvcml0eTogJ2hpZ2gnXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VuZFNoaXBwaW5nTm90aWZpY2F0aW9uKHNoaXBwaW5nRGF0YToge1xyXG4gICAgY3VzdG9tZXJFbWFpbDogc3RyaW5nXHJcbiAgICBvcmRlcklkOiBzdHJpbmdcclxuICAgIHRyYWNraW5nTnVtYmVyOiBzdHJpbmdcclxuICAgIGVzdGltYXRlZERlbGl2ZXJ5OiBzdHJpbmdcclxuICB9KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gdGhpcy5zZW5kTm90aWZpY2F0aW9uKHtcclxuICAgICAgdG86IHNoaXBwaW5nRGF0YS5jdXN0b21lckVtYWlsLFxyXG4gICAgICBzdWJqZWN0OiBgVHUgcGVkaWRvICMke3NoaXBwaW5nRGF0YS5vcmRlcklkfSBlc3TDoSBlbiBjYW1pbm9gLFxyXG4gICAgICB0ZW1wbGF0ZTogJ3NoaXBwaW5nLW5vdGlmaWNhdGlvbicsXHJcbiAgICAgIGRhdGE6IHNoaXBwaW5nRGF0YSxcclxuICAgICAgcHJpb3JpdHk6ICdub3JtYWwnXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2VuZFBhc3N3b3JkUmVzZXQodXNlckRhdGE6IHtcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIHJlc2V0VG9rZW46IHN0cmluZ1xyXG4gICAgdXNlck5hbWU6IHN0cmluZ1xyXG4gIH0pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiB0aGlzLnNlbmROb3RpZmljYXRpb24oe1xyXG4gICAgICB0bzogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgIHN1YmplY3Q6ICdSZXN0YWJsZWNlciBjb250cmFzZcOxYScsXHJcbiAgICAgIHRlbXBsYXRlOiAncGFzc3dvcmQtcmVzZXQnLFxyXG4gICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgcHJpb3JpdHk6ICdoaWdoJ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmRXZWxjb21lRW1haWwodXNlckRhdGE6IHtcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIHVzZXJOYW1lOiBzdHJpbmdcclxuICAgIHZlcmlmaWNhdGlvblRva2VuPzogc3RyaW5nXHJcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZE5vdGlmaWNhdGlvbih7XHJcbiAgICAgIHRvOiB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgc3ViamVjdDogJ8KhQmllbnZlbmlkbyBhIG51ZXN0cmEgdGllbmRhIScsXHJcbiAgICAgIHRlbXBsYXRlOiAnd2VsY29tZScsXHJcbiAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICBwcmlvcml0eTogJ25vcm1hbCdcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBzZW5kTG93U3RvY2tBbGVydChwcm9kdWN0RGF0YToge1xyXG4gICAgYWRtaW5FbWFpbHM6IHN0cmluZ1tdXHJcbiAgICBwcm9kdWN0TmFtZTogc3RyaW5nXHJcbiAgICBjdXJyZW50U3RvY2s6IG51bWJlclxyXG4gICAgbWluaW11bVN0b2NrOiBudW1iZXJcclxuICAgIHByb2R1Y3RJZDogc3RyaW5nXHJcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZE5vdGlmaWNhdGlvbih7XHJcbiAgICAgIHRvOiBwcm9kdWN0RGF0YS5hZG1pbkVtYWlscyxcclxuICAgICAgc3ViamVjdDogYEFsZXJ0YTogU3RvY2sgYmFqbyAtICR7cHJvZHVjdERhdGEucHJvZHVjdE5hbWV9YCxcclxuICAgICAgdGVtcGxhdGU6ICdsb3ctc3RvY2stYWxlcnQnLFxyXG4gICAgICBkYXRhOiBwcm9kdWN0RGF0YSxcclxuICAgICAgcHJpb3JpdHk6ICdoaWdoJ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmRPcmRlclN0YXR1c1VwZGF0ZShzdGF0dXNEYXRhOiB7XHJcbiAgICBjdXN0b21lckVtYWlsOiBzdHJpbmdcclxuICAgIG9yZGVySWQ6IHN0cmluZ1xyXG4gICAgbmV3U3RhdHVzOiBzdHJpbmdcclxuICAgIGN1c3RvbWVyTmFtZTogc3RyaW5nXHJcbiAgICBzdGF0dXNNZXNzYWdlPzogc3RyaW5nXHJcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2VuZE5vdGlmaWNhdGlvbih7XHJcbiAgICAgIHRvOiBzdGF0dXNEYXRhLmN1c3RvbWVyRW1haWwsXHJcbiAgICAgIHN1YmplY3Q6IGBBY3R1YWxpemFjacOzbiBkZSBwZWRpZG8gIyR7c3RhdHVzRGF0YS5vcmRlcklkfWAsXHJcbiAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdHVzLXVwZGF0ZScsXHJcbiAgICAgIGRhdGE6IHN0YXR1c0RhdGEsXHJcbiAgICAgIHByaW9yaXR5OiAnbm9ybWFsJ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFzeW5jIHNlbmRQcm9tb3Rpb25hbEVtYWlsKHByb21vRGF0YToge1xyXG4gICAgcmVjaXBpZW50czogc3RyaW5nW11cclxuICAgIHN1YmplY3Q6IHN0cmluZ1xyXG4gICAgcHJvbW9Db2RlPzogc3RyaW5nXHJcbiAgICBkaXNjb3VudD86IG51bWJlclxyXG4gICAgdmFsaWRVbnRpbD86IHN0cmluZ1xyXG4gICAgcHJvZHVjdHM/OiBBcnJheTx7IG5hbWU6IHN0cmluZzsgcHJpY2U6IG51bWJlcjsgaW1hZ2U6IHN0cmluZyB9PlxyXG4gIH0pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybiB0aGlzLnNlbmROb3RpZmljYXRpb24oe1xyXG4gICAgICB0bzogcHJvbW9EYXRhLnJlY2lwaWVudHMsXHJcbiAgICAgIHN1YmplY3Q6IHByb21vRGF0YS5zdWJqZWN0LFxyXG4gICAgICB0ZW1wbGF0ZTogJ3Byb21vdGlvbmFsJyxcclxuICAgICAgZGF0YTogcHJvbW9EYXRhLFxyXG4gICAgICBwcmlvcml0eTogJ2xvdydcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRFbWFpbFRlbXBsYXRlcygpOiBQcm9taXNlPEVtYWlsVGVtcGxhdGVbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9ub3RpZmljYXRpb25zL2VtYWlsL3RlbXBsYXRlcycpXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFsIG9idGVuZXIgcGxhbnRpbGxhcycpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZW1haWwgdGVtcGxhdGVzOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNjaGVkdWxlRW1haWwoY29uZmlnOiBFbWFpbE5vdGlmaWNhdGlvbkNvbmZpZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgaWYgKCFjb25maWcuc2NoZWR1bGVkQXQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzY2hlZHVsZWRBdCBpcyByZXF1aXJlZCBmb3Igc2NoZWR1bGVkIGVtYWlscycpXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9ub3RpZmljYXRpb25zL2VtYWlsL3NjaGVkdWxlJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNvbmZpZylcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFsIHByb2dyYW1hciBlbWFpbCcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzY2hlZHVsaW5nIGVtYWlsOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEluc3RhbmNpYSBzaW5nbGV0b24gcGFyYSB1c28gZ2xvYmFsXHJcbmV4cG9ydCBjb25zdCBlbWFpbFNlcnZpY2UgPSBFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2UuZ2V0SW5zdGFuY2UoKVxyXG5cclxuLy8gRnVuY2lvbmVzIGRlIGNvbnZlbmllbmNpYVxyXG5leHBvcnQgY29uc3Qgc2VuZE9yZGVyQ29uZmlybWF0aW9uID0gKG9yZGVyRGF0YTogUGFyYW1ldGVyczxFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2VbJ3NlbmRPcmRlckNvbmZpcm1hdGlvbiddPlswXSkgPT4gXHJcbiAgZW1haWxTZXJ2aWNlLnNlbmRPcmRlckNvbmZpcm1hdGlvbihvcmRlckRhdGEpXHJcblxyXG5leHBvcnQgY29uc3Qgc2VuZFNoaXBwaW5nTm90aWZpY2F0aW9uID0gKHNoaXBwaW5nRGF0YTogUGFyYW1ldGVyczxFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2VbJ3NlbmRTaGlwcGluZ05vdGlmaWNhdGlvbiddPlswXSkgPT4gXHJcbiAgZW1haWxTZXJ2aWNlLnNlbmRTaGlwcGluZ05vdGlmaWNhdGlvbihzaGlwcGluZ0RhdGEpXHJcblxyXG5leHBvcnQgY29uc3Qgc2VuZFBhc3N3b3JkUmVzZXQgPSAodXNlckRhdGE6IFBhcmFtZXRlcnM8RW1haWxOb3RpZmljYXRpb25TZXJ2aWNlWydzZW5kUGFzc3dvcmRSZXNldCddPlswXSkgPT4gXHJcbiAgZW1haWxTZXJ2aWNlLnNlbmRQYXNzd29yZFJlc2V0KHVzZXJEYXRhKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlbmRXZWxjb21lRW1haWwgPSAodXNlckRhdGE6IFBhcmFtZXRlcnM8RW1haWxOb3RpZmljYXRpb25TZXJ2aWNlWydzZW5kV2VsY29tZUVtYWlsJ10+WzBdKSA9PiBcclxuICBlbWFpbFNlcnZpY2Uuc2VuZFdlbGNvbWVFbWFpbCh1c2VyRGF0YSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kTG93U3RvY2tBbGVydCA9IChwcm9kdWN0RGF0YTogUGFyYW1ldGVyczxFbWFpbE5vdGlmaWNhdGlvblNlcnZpY2VbJ3NlbmRMb3dTdG9ja0FsZXJ0J10+WzBdKSA9PiBcclxuICBlbWFpbFNlcnZpY2Uuc2VuZExvd1N0b2NrQWxlcnQocHJvZHVjdERhdGEpXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFpTmE7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTtBQUFBQSxjQUFBLEdBQUFFLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BM0xBQyx5QkFBQTtJQUFBO0lBQUFILGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7V0FBQUMsd0JBQUE7O01BMkxBRSxhQUFBO0lBQUE7SUFBQUwsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBRyxZQUFBOztNQWVBQyxrQkFBQTtJQUFBO0lBQUFOLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7V0FBQUksaUJBQUE7O01BWkFDLHNCQUFBO0lBQUE7SUFBQVAsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBSyxxQkFBQTs7TUFNQUMsa0JBQUE7SUFBQTtJQUFBUixjQUFBLEdBQUFJLENBQUE7SUFBQUosY0FBQSxHQUFBRSxDQUFBO1dBQUFNLGlCQUFBOztNQUhBQyx5QkFBQTtJQUFBO0lBQUFULGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7V0FBQU8sd0JBQUE7O01BTUFDLGlCQUFBO0lBQUE7SUFBQVYsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBUSxnQkFBQTs7Ozs7bUNBM05TO0FBb0JmLE1BQU1QLHdCQUFBO0VBSVgsT0FBT1EsWUFBQSxFQUF3QztJQUFBO0lBQUFYLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDN0MsSUFBSSxDQUFDQyx3QkFBQSxDQUF5QlMsUUFBUSxFQUFFO01BQUE7TUFBQVosY0FBQSxHQUFBYSxDQUFBO01BQUFiLGNBQUEsR0FBQUUsQ0FBQTtNQUN0Q0Msd0JBQUEsQ0FBeUJTLFFBQVEsR0FBRyxJQUFJVCx3QkFBQTtJQUMxQztJQUFBO0lBQUE7TUFBQUgsY0FBQSxHQUFBYSxDQUFBO0lBQUE7SUFBQWIsY0FBQSxHQUFBRSxDQUFBO0lBQ0EsT0FBT0Msd0JBQUEsQ0FBeUJTLFFBQVE7RUFDMUM7RUFFQSxNQUFNRSxpQkFBaUJDLE1BQStCLEVBQW9CO0lBQUE7SUFBQWYsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtJQUN4RSxJQUFJO01BQ0YsTUFBTWMsUUFBQTtNQUFBO01BQUEsQ0FBQWhCLGNBQUEsR0FBQUUsQ0FBQSxRQUFXLE1BQU1lLEtBQUEsQ0FBTSxJQUFJLENBQUNDLFdBQVcsRUFBRTtRQUM3Q0MsTUFBQSxFQUFRO1FBQ1JDLE9BQUEsRUFBUztVQUNQLGdCQUFnQjtRQUNsQjtRQUNBQyxJQUFBLEVBQU1DLElBQUEsQ0FBS0MsU0FBUyxDQUFDUixNQUFBO01BQ3ZCO01BQUE7TUFBQWYsY0FBQSxHQUFBRSxDQUFBO01BRUEsSUFBSSxDQUFDYyxRQUFBLENBQVNRLEVBQUUsRUFBRTtRQUFBO1FBQUF4QixjQUFBLEdBQUFhLENBQUE7UUFBQWIsY0FBQSxHQUFBRSxDQUFBO1FBQ2hCLE1BQU0sSUFBSXVCLEtBQUEsQ0FBTTtNQUNsQjtNQUFBO01BQUE7UUFBQXpCLGNBQUEsR0FBQWEsQ0FBQTtNQUFBO01BRUEsTUFBTWEsTUFBQTtNQUFBO01BQUEsQ0FBQTFCLGNBQUEsR0FBQUUsQ0FBQSxRQUFTLE1BQU1jLFFBQUEsQ0FBU1csSUFBSTtNQUFBO01BQUEzQixjQUFBLEdBQUFFLENBQUE7TUFDbEMsT0FBT3dCLE1BQUEsQ0FBT0UsT0FBTztJQUN2QixFQUFFLE9BQU9DLEtBQUEsRUFBTztNQUFBO01BQUE3QixjQUFBLEdBQUFFLENBQUE7TUFDZDRCLE9BQUEsQ0FBUUQsS0FBSyxDQUFDLHFDQUFxQ0EsS0FBQTtNQUFBO01BQUE3QixjQUFBLEdBQUFFLENBQUE7TUFDbkQsSUFBQTZCLFNBQUEsQ0FBQUMsS0FBSyxFQUFDO1FBQ0pDLEtBQUEsRUFBTztRQUNQQyxXQUFBLEVBQWE7UUFDYkMsT0FBQSxFQUFTO01BQ1g7TUFBQTtNQUFBbkMsY0FBQSxHQUFBRSxDQUFBO01BQ0EsT0FBTztJQUNUO0VBQ0Y7RUFFQSxNQUFNSyxzQkFBc0I2QixTQU8zQixFQUFvQjtJQUFBO0lBQUFwQyxjQUFBLEdBQUFJLENBQUE7SUFBQUosY0FBQSxHQUFBRSxDQUFBO0lBQ25CLE9BQU8sSUFBSSxDQUFDWSxnQkFBZ0IsQ0FBQztNQUMzQnVCLEVBQUEsRUFBSUQsU0FBQSxDQUFVRSxhQUFhO01BQzNCQyxPQUFBLEVBQVMsMkJBQTJCSCxTQUFBLENBQVVJLE9BQU8sRUFBRTtNQUN2REMsUUFBQSxFQUFVO01BQ1ZDLElBQUEsRUFBTU4sU0FBQTtNQUNOTyxRQUFBLEVBQVU7SUFDWjtFQUNGO0VBRUEsTUFBTWxDLHlCQUF5Qm1DLFlBSzlCLEVBQW9CO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDbkIsT0FBTyxJQUFJLENBQUNZLGdCQUFnQixDQUFDO01BQzNCdUIsRUFBQSxFQUFJTyxZQUFBLENBQWFOLGFBQWE7TUFDOUJDLE9BQUEsRUFBUyxjQUFjSyxZQUFBLENBQWFKLE9BQU8saUJBQWlCO01BQzVEQyxRQUFBLEVBQVU7TUFDVkMsSUFBQSxFQUFNRSxZQUFBO01BQ05ELFFBQUEsRUFBVTtJQUNaO0VBQ0Y7RUFFQSxNQUFNbkMsa0JBQWtCcUMsUUFJdkIsRUFBb0I7SUFBQTtJQUFBN0MsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtJQUNuQixPQUFPLElBQUksQ0FBQ1ksZ0JBQWdCLENBQUM7TUFDM0J1QixFQUFBLEVBQUlRLFFBQUEsQ0FBU0MsS0FBSztNQUNsQlAsT0FBQSxFQUFTO01BQ1RFLFFBQUEsRUFBVTtNQUNWQyxJQUFBLEVBQU1HLFFBQUE7TUFDTkYsUUFBQSxFQUFVO0lBQ1o7RUFDRjtFQUVBLE1BQU1qQyxpQkFBaUJtQyxRQUl0QixFQUFvQjtJQUFBO0lBQUE3QyxjQUFBLEdBQUFJLENBQUE7SUFBQUosY0FBQSxHQUFBRSxDQUFBO0lBQ25CLE9BQU8sSUFBSSxDQUFDWSxnQkFBZ0IsQ0FBQztNQUMzQnVCLEVBQUEsRUFBSVEsUUFBQSxDQUFTQyxLQUFLO01BQ2xCUCxPQUFBLEVBQVM7TUFDVEUsUUFBQSxFQUFVO01BQ1ZDLElBQUEsRUFBTUcsUUFBQTtNQUNORixRQUFBLEVBQVU7SUFDWjtFQUNGO0VBRUEsTUFBTXJDLGtCQUFrQnlDLFdBTXZCLEVBQW9CO0lBQUE7SUFBQS9DLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDbkIsT0FBTyxJQUFJLENBQUNZLGdCQUFnQixDQUFDO01BQzNCdUIsRUFBQSxFQUFJVSxXQUFBLENBQVlDLFdBQVc7TUFDM0JULE9BQUEsRUFBUyx3QkFBd0JRLFdBQUEsQ0FBWUUsV0FBVyxFQUFFO01BQzFEUixRQUFBLEVBQVU7TUFDVkMsSUFBQSxFQUFNSyxXQUFBO01BQ05KLFFBQUEsRUFBVTtJQUNaO0VBQ0Y7RUFFQSxNQUFNTyxzQkFBc0JDLFVBTTNCLEVBQW9CO0lBQUE7SUFBQW5ELGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDbkIsT0FBTyxJQUFJLENBQUNZLGdCQUFnQixDQUFDO01BQzNCdUIsRUFBQSxFQUFJYyxVQUFBLENBQVdiLGFBQWE7TUFDNUJDLE9BQUEsRUFBUyw0QkFBNEJZLFVBQUEsQ0FBV1gsT0FBTyxFQUFFO01BQ3pEQyxRQUFBLEVBQVU7TUFDVkMsSUFBQSxFQUFNUyxVQUFBO01BQ05SLFFBQUEsRUFBVTtJQUNaO0VBQ0Y7RUFFQSxNQUFNUyxxQkFBcUJDLFNBTzFCLEVBQW9CO0lBQUE7SUFBQXJELGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDbkIsT0FBTyxJQUFJLENBQUNZLGdCQUFnQixDQUFDO01BQzNCdUIsRUFBQSxFQUFJZ0IsU0FBQSxDQUFVQyxVQUFVO01BQ3hCZixPQUFBLEVBQVNjLFNBQUEsQ0FBVWQsT0FBTztNQUMxQkUsUUFBQSxFQUFVO01BQ1ZDLElBQUEsRUFBTVcsU0FBQTtNQUNOVixRQUFBLEVBQVU7SUFDWjtFQUNGO0VBRUEsTUFBTVksa0JBQUEsRUFBOEM7SUFBQTtJQUFBdkQsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtJQUNsRCxJQUFJO01BQ0YsTUFBTWMsUUFBQTtNQUFBO01BQUEsQ0FBQWhCLGNBQUEsR0FBQUUsQ0FBQSxRQUFXLE1BQU1lLEtBQUEsQ0FBTTtNQUFBO01BQUFqQixjQUFBLEdBQUFFLENBQUE7TUFDN0IsSUFBSSxDQUFDYyxRQUFBLENBQVNRLEVBQUUsRUFBRTtRQUFBO1FBQUF4QixjQUFBLEdBQUFhLENBQUE7UUFBQWIsY0FBQSxHQUFBRSxDQUFBO1FBQ2hCLE1BQU0sSUFBSXVCLEtBQUEsQ0FBTTtNQUNsQjtNQUFBO01BQUE7UUFBQXpCLGNBQUEsR0FBQWEsQ0FBQTtNQUFBO01BQUFiLGNBQUEsR0FBQUUsQ0FBQTtNQUNBLE9BQU8sTUFBTWMsUUFBQSxDQUFTVyxJQUFJO0lBQzVCLEVBQUUsT0FBT0UsS0FBQSxFQUFPO01BQUE7TUFBQTdCLGNBQUEsR0FBQUUsQ0FBQTtNQUNkNEIsT0FBQSxDQUFRRCxLQUFLLENBQUMsbUNBQW1DQSxLQUFBO01BQUE7TUFBQTdCLGNBQUEsR0FBQUUsQ0FBQTtNQUNqRCxPQUFPLEVBQUU7SUFDWDtFQUNGO0VBRUEsTUFBTXNELGNBQWN6QyxNQUErQixFQUFvQjtJQUFBO0lBQUFmLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7SUFDckUsSUFBSSxDQUFDYSxNQUFBLENBQU8wQyxXQUFXLEVBQUU7TUFBQTtNQUFBekQsY0FBQSxHQUFBYSxDQUFBO01BQUFiLGNBQUEsR0FBQUUsQ0FBQTtNQUN2QixNQUFNLElBQUl1QixLQUFBLENBQU07SUFDbEI7SUFBQTtJQUFBO01BQUF6QixjQUFBLEdBQUFhLENBQUE7SUFBQTtJQUFBYixjQUFBLEdBQUFFLENBQUE7SUFFQSxJQUFJO01BQ0YsTUFBTWMsUUFBQTtNQUFBO01BQUEsQ0FBQWhCLGNBQUEsR0FBQUUsQ0FBQSxRQUFXLE1BQU1lLEtBQUEsQ0FBTSxxQ0FBcUM7UUFDaEVFLE1BQUEsRUFBUTtRQUNSQyxPQUFBLEVBQVM7VUFDUCxnQkFBZ0I7UUFDbEI7UUFDQUMsSUFBQSxFQUFNQyxJQUFBLENBQUtDLFNBQVMsQ0FBQ1IsTUFBQTtNQUN2QjtNQUFBO01BQUFmLGNBQUEsR0FBQUUsQ0FBQTtNQUVBLElBQUksQ0FBQ2MsUUFBQSxDQUFTUSxFQUFFLEVBQUU7UUFBQTtRQUFBeEIsY0FBQSxHQUFBYSxDQUFBO1FBQUFiLGNBQUEsR0FBQUUsQ0FBQTtRQUNoQixNQUFNLElBQUl1QixLQUFBLENBQU07TUFDbEI7TUFBQTtNQUFBO1FBQUF6QixjQUFBLEdBQUFhLENBQUE7TUFBQTtNQUFBYixjQUFBLEdBQUFFLENBQUE7TUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPMkIsS0FBQSxFQUFPO01BQUE7TUFBQTdCLGNBQUEsR0FBQUUsQ0FBQTtNQUNkNEIsT0FBQSxDQUFRRCxLQUFLLENBQUMsMkJBQTJCQSxLQUFBO01BQUE7TUFBQTdCLGNBQUEsR0FBQUUsQ0FBQTtNQUN6QyxPQUFPO0lBQ1Q7RUFDRjs7Ozs7U0FyTFFnQixXQUFBLEdBQWM7O0FBc0x4QjtBQUdPLE1BQU1iLFlBQUE7QUFBQTtBQUFBLENBQUFMLGNBQUEsR0FBQUUsQ0FBQSxRQUFlQyx3QkFBQSxDQUF5QlEsV0FBVztBQUFBO0FBQUFYLGNBQUEsR0FBQUUsQ0FBQTtBQUd6RCxNQUFNSyxxQkFBQSxHQUF5QjZCLFNBQUEsSUFDcEM7RUFBQTtFQUFBcEMsY0FBQSxHQUFBSSxDQUFBO0VBQUFKLGNBQUEsR0FBQUUsQ0FBQTtFQUFBLE9BQUFHLFlBQUEsQ0FBYUUscUJBQXFCLENBQUM2QixTQUFBO0FBQUE7QUFBQTtBQUFBcEMsY0FBQSxHQUFBRSxDQUFBO0FBRTlCLE1BQU1PLHdCQUFBLEdBQTRCbUMsWUFBQSxJQUN2QztFQUFBO0VBQUE1QyxjQUFBLEdBQUFJLENBQUE7RUFBQUosY0FBQSxHQUFBRSxDQUFBO0VBQUEsT0FBQUcsWUFBQSxDQUFhSSx3QkFBd0IsQ0FBQ21DLFlBQUE7QUFBQTtBQUFBO0FBQUE1QyxjQUFBLEdBQUFFLENBQUE7QUFFakMsTUFBTU0saUJBQUEsR0FBcUJxQyxRQUFBLElBQ2hDO0VBQUE7RUFBQTdDLGNBQUEsR0FBQUksQ0FBQTtFQUFBSixjQUFBLEdBQUFFLENBQUE7RUFBQSxPQUFBRyxZQUFBLENBQWFHLGlCQUFpQixDQUFDcUMsUUFBQTtBQUFBO0FBQUE7QUFBQTdDLGNBQUEsR0FBQUUsQ0FBQTtBQUUxQixNQUFNUSxnQkFBQSxHQUFvQm1DLFFBQUEsSUFDL0I7RUFBQTtFQUFBN0MsY0FBQSxHQUFBSSxDQUFBO0VBQUFKLGNBQUEsR0FBQUUsQ0FBQTtFQUFBLE9BQUFHLFlBQUEsQ0FBYUssZ0JBQWdCLENBQUNtQyxRQUFBO0FBQUE7QUFBQTtBQUFBN0MsY0FBQSxHQUFBRSxDQUFBO0FBRXpCLE1BQU1JLGlCQUFBLEdBQXFCeUMsV0FBQSxJQUNoQztFQUFBO0VBQUEvQyxjQUFBLEdBQUFJLENBQUE7RUFBQUosY0FBQSxHQUFBRSxDQUFBO0VBQUEsT0FBQUcsWUFBQSxDQUFhQyxpQkFBaUIsQ0FBQ3lDLFdBQUE7QUFBQSIsImlnbm9yZUxpc3QiOltdfQ==