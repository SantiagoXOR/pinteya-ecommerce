a06c11a40c7962827471c06bcb2225ac
// ===================================
// MIDDLEWARE: Error Suppression
// ===================================
"use strict";

/* istanbul ignore next */
function cov_1ru0fg7och() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\middleware\\errorSuppression.ts";
  var hash = "65d6ae834a7e0fb9ed85d54ab443ab64cbb9a6f0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\middleware\\errorSuppression.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 7,
          column: 3
        }
      },
      "1": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "2": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 42
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 47
        }
      },
      "6": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 36
        }
      },
      "7": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "8": {
        start: {
          line: 27,
          column: 21
        },
        end: {
          line: 27,
          column: 48
        }
      },
      "9": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 53
        }
      },
      "10": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 62
        }
      },
      "11": {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 32,
          column: 61
        }
      },
      "12": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 92
        }
      },
      "13": {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 34,
          column: 88
        }
      },
      "14": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 81
        }
      },
      "15": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 47
        }
      },
      "16": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 41
        }
      },
      "17": {
        start: {
          line: 39,
          column: 4
        },
        end: {
          line: 39,
          column: 20
        }
      },
      "18": {
        start: {
          line: 43,
          column: 36
        },
        end: {
          line: 55,
          column: 5
        }
      },
      "19": {
        start: {
          line: 58,
          column: 33
        },
        end: {
          line: 58,
          column: 46
        }
      },
      "20": {
        start: {
          line: 107,
          column: 0
        },
        end: {
          line: 109,
          column: 1
        }
      },
      "21": {
        start: {
          line: 108,
          column: 4
        },
        end: {
          line: 108,
          column: 27
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 16
          }
        },
        loc: {
          start: {
            line: 8,
            column: 30
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 38
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 43
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 32
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "4": {
        name: "errorSuppressionMiddleware",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 35
          }
        },
        loc: {
          start: {
            line: 26,
            column: 45
          },
          end: {
            line: 40,
            column: 1
          }
        },
        line: 26
      },
      "5": {
        name: "suppressServerErrors",
        decl: {
          start: {
            line: 41,
            column: 9
          },
          end: {
            line: 41,
            column: 29
          }
        },
        loc: {
          start: {
            line: 41,
            column: 32
          },
          end: {
            line: 101,
            column: 6
          }
        },
        line: 41
      },
      "6": {
        name: "restoreOriginalConsoleFunctions",
        decl: {
          start: {
            line: 102,
            column: 9
          },
          end: {
            line: 102,
            column: 40
          }
        },
        loc: {
          start: {
            line: 102,
            column: 43
          },
          end: {
            line: 105,
            column: 1
          }
        },
        line: 102
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 107,
            column: 0
          },
          end: {
            line: 109,
            column: 1
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 0
          },
          end: {
            line: 109,
            column: 1
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\middleware\\errorSuppression.ts"],
      sourcesContent: ["// ===================================\r\n// MIDDLEWARE: Error Suppression\r\n// ===================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\n/**\r\n * Middleware para suprimir errores ERR_ABORTED y mejorar el manejo de errores de red\r\n */\r\nexport function errorSuppressionMiddleware(request: NextRequest) {\r\n  const response = NextResponse.next();\r\n\r\n  // Configurar headers para mejorar el manejo de errores de red\r\n  response.headers.set('Connection', 'keep-alive');\r\n  response.headers.set('Keep-Alive', 'timeout=5, max=1000');\r\n  \r\n  // Headers para prevenir problemas de CORS que pueden causar ERR_ABORTED\r\n  response.headers.set('Access-Control-Allow-Origin', '*');\r\n  response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\r\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\r\n  \r\n  // Headers para mejorar la estabilidad de la conexi\xF3n\r\n  response.headers.set('Cache-Control', 'no-cache, no-store, must-revalidate');\r\n  response.headers.set('Pragma', 'no-cache');\r\n  response.headers.set('Expires', '0');\r\n  \r\n  return response;\r\n}\r\n\r\n/**\r\n * Funci\xF3n para interceptar y suprimir errores espec\xEDficos en el servidor\r\n */\r\nexport function suppressServerErrors() {\r\n  // Lista de patrones de errores a suprimir\r\n  const suppressedErrorPatterns = [\r\n    'ERR_ABORTED',\r\n    'AbortError',\r\n    'The user aborted a request',\r\n    'Request was aborted',\r\n    'net::ERR_ABORTED',\r\n    'Failed to fetch',\r\n    'NetworkError when attempting to fetch resource',\r\n    'Load failed',\r\n    'Connection was aborted',\r\n    'The operation was aborted',\r\n    'Request timeout'\r\n  ];\r\n\r\n  // TEMPORALMENTE DESHABILITADO PARA DEBUG\r\n  // Interceptar console.error en el servidor\r\n  const originalConsoleError = console.error;\r\n  /*\r\n  console.error = (...args: any[]) => {\r\n    const message = args.join(' ');\r\n    \r\n    // Verificar si el error debe ser suprimido\r\n    const shouldSuppress = suppressedErrorPatterns.some(pattern => \r\n      message.toLowerCase().includes(pattern.toLowerCase())\r\n    );\r\n    \r\n    if (shouldSuppress) {\r\n      // En desarrollo, mostrar como debug\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.debug('\uD83D\uDD07 [Server Suppressed Error]:', ...args);\r\n      }\r\n      return;\r\n    }\r\n    \r\n    // Permitir otros errores\r\n    originalConsoleError(...args);\r\n  };\r\n\r\n  // Interceptar console.warn en el servidor\r\n  const originalConsoleWarn = console.warn;\r\n  console.warn = (...args: any[]) => {\r\n    const message = args.join(' ');\r\n    \r\n    // Verificar si el warning debe ser suprimido\r\n    const shouldSuppress = suppressedErrorPatterns.some(pattern => \r\n      message.toLowerCase().includes(pattern.toLowerCase())\r\n    );\r\n    \r\n    if (shouldSuppress) {\r\n      // En desarrollo, mostrar como debug\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.debug('\uD83D\uDD07 [Server Suppressed Warning]:', ...args);\r\n      }\r\n      return;\r\n    }\r\n    \r\n    // Permitir otros warnings\r\n    originalConsoleWarn(...args);\r\n  };\r\n  */\r\n}\r\n\r\n/**\r\n * Configuraci\xF3n de cleanup para restaurar funciones originales\r\n */\r\nexport function restoreOriginalConsoleFunctions() {\r\n  // Esta funci\xF3n puede ser llamada para restaurar las funciones originales si es necesario\r\n  // En la mayor\xEDa de casos no es necesario llamarla\r\n}\r\n\r\n// Inicializar supresi\xF3n de errores del servidor autom\xE1ticamente\r\nif (typeof window === 'undefined') {\r\n  suppressServerErrors();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["errorSuppressionMiddleware", "restoreOriginalConsoleFunctions", "suppressServerErrors", "request", "response", "NextResponse", "next", "headers", "set", "suppressedErrorPatterns", "originalConsoleError", "console", "error", "window"],
      mappings: "AAAA,sCAAsC;AACtC,gCAAgC;AAChC,sCAAsC;;;;;;;;;;;;QAOtBA;eAAAA;;QA0FAC;eAAAA;;QAnEAC;eAAAA;;;wBA5B0B;AAKnC,SAASF,2BAA2BG,OAAoB;IAC7D,MAAMC,WAAWC,oBAAY,CAACC,IAAI;IAElC,8DAA8D;IAC9DF,SAASG,OAAO,CAACC,GAAG,CAAC,cAAc;IACnCJ,SAASG,OAAO,CAACC,GAAG,CAAC,cAAc;IAEnC,wEAAwE;IACxEJ,SAASG,OAAO,CAACC,GAAG,CAAC,+BAA+B;IACpDJ,SAASG,OAAO,CAACC,GAAG,CAAC,gCAAgC;IACrDJ,SAASG,OAAO,CAACC,GAAG,CAAC,gCAAgC;IAErD,qDAAqD;IACrDJ,SAASG,OAAO,CAACC,GAAG,CAAC,iBAAiB;IACtCJ,SAASG,OAAO,CAACC,GAAG,CAAC,UAAU;IAC/BJ,SAASG,OAAO,CAACC,GAAG,CAAC,WAAW;IAEhC,OAAOJ;AACT;AAKO,SAASF;IACd,0CAA0C;IAC1C,MAAMO,0BAA0B;QAC9B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,yCAAyC;IACzC,2CAA2C;IAC3C,MAAMC,uBAAuBC,QAAQC,KAAK;AAC1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA0CA,GACF;AAKO,SAASX;AACd,yFAAyF;AACzF,kDAAkD;AACpD;AAEA,gEAAgE;AAChE,IAAI,OAAOY,WAAW,aAAa;IACjCX;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "65d6ae834a7e0fb9ed85d54ab443ab64cbb9a6f0"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1ru0fg7och = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1ru0fg7och();
cov_1ru0fg7och().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1ru0fg7och().f[0]++;
  cov_1ru0fg7och().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1ru0fg7och().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1ru0fg7och().s[3]++;
_export(exports, {
  get errorSuppressionMiddleware() {
    /* istanbul ignore next */
    cov_1ru0fg7och().f[1]++;
    cov_1ru0fg7och().s[4]++;
    return errorSuppressionMiddleware;
  },
  get restoreOriginalConsoleFunctions() {
    /* istanbul ignore next */
    cov_1ru0fg7och().f[2]++;
    cov_1ru0fg7och().s[5]++;
    return restoreOriginalConsoleFunctions;
  },
  get suppressServerErrors() {
    /* istanbul ignore next */
    cov_1ru0fg7och().f[3]++;
    cov_1ru0fg7och().s[6]++;
    return suppressServerErrors;
  }
});
const _server =
/* istanbul ignore next */
(cov_1ru0fg7och().s[7]++, require("next/server"));
function errorSuppressionMiddleware(request) {
  /* istanbul ignore next */
  cov_1ru0fg7och().f[4]++;
  const response =
  /* istanbul ignore next */
  (cov_1ru0fg7och().s[8]++, _server.NextResponse.next());
  // Configurar headers para mejorar el manejo de errores de red
  /* istanbul ignore next */
  cov_1ru0fg7och().s[9]++;
  response.headers.set('Connection', 'keep-alive');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[10]++;
  response.headers.set('Keep-Alive', 'timeout=5, max=1000');
  // Headers para prevenir problemas de CORS que pueden causar ERR_ABORTED
  /* istanbul ignore next */
  cov_1ru0fg7och().s[11]++;
  response.headers.set('Access-Control-Allow-Origin', '*');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[12]++;
  response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[13]++;
  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');
  // Headers para mejorar la estabilidad de la conexión
  /* istanbul ignore next */
  cov_1ru0fg7och().s[14]++;
  response.headers.set('Cache-Control', 'no-cache, no-store, must-revalidate');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[15]++;
  response.headers.set('Pragma', 'no-cache');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[16]++;
  response.headers.set('Expires', '0');
  /* istanbul ignore next */
  cov_1ru0fg7och().s[17]++;
  return response;
}
function suppressServerErrors() {
  /* istanbul ignore next */
  cov_1ru0fg7och().f[5]++;
  // Lista de patrones de errores a suprimir
  const suppressedErrorPatterns =
  /* istanbul ignore next */
  (cov_1ru0fg7och().s[18]++, ['ERR_ABORTED', 'AbortError', 'The user aborted a request', 'Request was aborted', 'net::ERR_ABORTED', 'Failed to fetch', 'NetworkError when attempting to fetch resource', 'Load failed', 'Connection was aborted', 'The operation was aborted', 'Request timeout']);
  // TEMPORALMENTE DESHABILITADO PARA DEBUG
  // Interceptar console.error en el servidor
  const originalConsoleError =
  /* istanbul ignore next */
  (cov_1ru0fg7och().s[19]++, console.error);
  /*
    console.error = (...args: any[]) => {
      const message = args.join(' ');
      
      // Verificar si el error debe ser suprimido
      const shouldSuppress = suppressedErrorPatterns.some(pattern => 
        message.toLowerCase().includes(pattern.toLowerCase())
      );
      
      if (shouldSuppress) {
        // En desarrollo, mostrar como debug
        if (process.env.NODE_ENV === 'development') {
          console.debug('🔇 [Server Suppressed Error]:', ...args);
        }
        return;
      }
      
      // Permitir otros errores
      originalConsoleError(...args);
    };
  
    // Interceptar console.warn en el servidor
    const originalConsoleWarn = console.warn;
    console.warn = (...args: any[]) => {
      const message = args.join(' ');
      
      // Verificar si el warning debe ser suprimido
      const shouldSuppress = suppressedErrorPatterns.some(pattern => 
        message.toLowerCase().includes(pattern.toLowerCase())
      );
      
      if (shouldSuppress) {
        // En desarrollo, mostrar como debug
        if (process.env.NODE_ENV === 'development') {
          console.debug('🔇 [Server Suppressed Warning]:', ...args);
        }
        return;
      }
      
      // Permitir otros warnings
      originalConsoleWarn(...args);
    };
    */
}
function restoreOriginalConsoleFunctions() {
  /* istanbul ignore next */
  cov_1ru0fg7och().f[6]++;
} // Esta función puede ser llamada para restaurar las funciones originales si es necesario
// En la mayoría de casos no es necesario llamarla
// Inicializar supresión de errores del servidor automáticamente
/* istanbul ignore next */
cov_1ru0fg7och().s[20]++;
if (typeof window === 'undefined') {
  /* istanbul ignore next */
  cov_1ru0fg7och().b[0][0]++;
  cov_1ru0fg7och().s[21]++;
  suppressServerErrors();
} else
/* istanbul ignore next */
{
  cov_1ru0fg7och().b[0][1]++;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlcnJvclN1cHByZXNzaW9uTWlkZGxld2FyZSIsImNvdl8xcnUwZmc3b2NoIiwiZiIsInMiLCJyZXN0b3JlT3JpZ2luYWxDb25zb2xlRnVuY3Rpb25zIiwic3VwcHJlc3NTZXJ2ZXJFcnJvcnMiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwibmV4dCIsImhlYWRlcnMiLCJzZXQiLCJzdXBwcmVzc2VkRXJyb3JQYXR0ZXJucyIsIm9yaWdpbmFsQ29uc29sZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwid2luZG93IiwiYiJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbWlkZGxld2FyZVxcZXJyb3JTdXBwcmVzc2lvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNSURETEVXQVJFOiBFcnJvciBTdXBwcmVzc2lvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbi8qKlxyXG4gKiBNaWRkbGV3YXJlIHBhcmEgc3VwcmltaXIgZXJyb3JlcyBFUlJfQUJPUlRFRCB5IG1lam9yYXIgZWwgbWFuZWpvIGRlIGVycm9yZXMgZGUgcmVkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JTdXBwcmVzc2lvbk1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5uZXh0KCk7XHJcblxyXG4gIC8vIENvbmZpZ3VyYXIgaGVhZGVycyBwYXJhIG1lam9yYXIgZWwgbWFuZWpvIGRlIGVycm9yZXMgZGUgcmVkXHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0Nvbm5lY3Rpb24nLCAna2VlcC1hbGl2ZScpO1xyXG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdLZWVwLUFsaXZlJywgJ3RpbWVvdXQ9NSwgbWF4PTEwMDAnKTtcclxuICBcclxuICAvLyBIZWFkZXJzIHBhcmEgcHJldmVuaXIgcHJvYmxlbWFzIGRlIENPUlMgcXVlIHB1ZWRlbiBjYXVzYXIgRVJSX0FCT1JURURcclxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcclxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyk7XHJcbiAgXHJcbiAgLy8gSGVhZGVycyBwYXJhIG1lam9yYXIgbGEgZXN0YWJpbGlkYWQgZGUgbGEgY29uZXhpw7NuXHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUnKTtcclxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnUHJhZ21hJywgJ25vLWNhY2hlJyk7XHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0V4cGlyZXMnLCAnMCcpO1xyXG4gIFxyXG4gIHJldHVybiByZXNwb25zZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZ1bmNpw7NuIHBhcmEgaW50ZXJjZXB0YXIgeSBzdXByaW1pciBlcnJvcmVzIGVzcGVjw61maWNvcyBlbiBlbCBzZXJ2aWRvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN1cHByZXNzU2VydmVyRXJyb3JzKCkge1xyXG4gIC8vIExpc3RhIGRlIHBhdHJvbmVzIGRlIGVycm9yZXMgYSBzdXByaW1pclxyXG4gIGNvbnN0IHN1cHByZXNzZWRFcnJvclBhdHRlcm5zID0gW1xyXG4gICAgJ0VSUl9BQk9SVEVEJyxcclxuICAgICdBYm9ydEVycm9yJyxcclxuICAgICdUaGUgdXNlciBhYm9ydGVkIGEgcmVxdWVzdCcsXHJcbiAgICAnUmVxdWVzdCB3YXMgYWJvcnRlZCcsXHJcbiAgICAnbmV0OjpFUlJfQUJPUlRFRCcsXHJcbiAgICAnRmFpbGVkIHRvIGZldGNoJyxcclxuICAgICdOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlJyxcclxuICAgICdMb2FkIGZhaWxlZCcsXHJcbiAgICAnQ29ubmVjdGlvbiB3YXMgYWJvcnRlZCcsXHJcbiAgICAnVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCcsXHJcbiAgICAnUmVxdWVzdCB0aW1lb3V0J1xyXG4gIF07XHJcblxyXG4gIC8vIFRFTVBPUkFMTUVOVEUgREVTSEFCSUxJVEFETyBQQVJBIERFQlVHXHJcbiAgLy8gSW50ZXJjZXB0YXIgY29uc29sZS5lcnJvciBlbiBlbCBzZXJ2aWRvclxyXG4gIGNvbnN0IG9yaWdpbmFsQ29uc29sZUVycm9yID0gY29uc29sZS5lcnJvcjtcclxuICAvKlxyXG4gIGNvbnNvbGUuZXJyb3IgPSAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBhcmdzLmpvaW4oJyAnKTtcclxuICAgIFxyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGVsIGVycm9yIGRlYmUgc2VyIHN1cHJpbWlkb1xyXG4gICAgY29uc3Qgc2hvdWxkU3VwcHJlc3MgPSBzdXBwcmVzc2VkRXJyb3JQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gXHJcbiAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXR0ZXJuLnRvTG93ZXJDYXNlKCkpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBpZiAoc2hvdWxkU3VwcHJlc3MpIHtcclxuICAgICAgLy8gRW4gZGVzYXJyb2xsbywgbW9zdHJhciBjb21vIGRlYnVnXHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ/CflIcgW1NlcnZlciBTdXBwcmVzc2VkIEVycm9yXTonLCAuLi5hcmdzKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBlcm1pdGlyIG90cm9zIGVycm9yZXNcclxuICAgIG9yaWdpbmFsQ29uc29sZUVycm9yKC4uLmFyZ3MpO1xyXG4gIH07XHJcblxyXG4gIC8vIEludGVyY2VwdGFyIGNvbnNvbGUud2FybiBlbiBlbCBzZXJ2aWRvclxyXG4gIGNvbnN0IG9yaWdpbmFsQ29uc29sZVdhcm4gPSBjb25zb2xlLndhcm47XHJcbiAgY29uc29sZS53YXJuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICBjb25zdCBtZXNzYWdlID0gYXJncy5qb2luKCcgJyk7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmaWNhciBzaSBlbCB3YXJuaW5nIGRlYmUgc2VyIHN1cHJpbWlkb1xyXG4gICAgY29uc3Qgc2hvdWxkU3VwcHJlc3MgPSBzdXBwcmVzc2VkRXJyb3JQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gXHJcbiAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXR0ZXJuLnRvTG93ZXJDYXNlKCkpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBpZiAoc2hvdWxkU3VwcHJlc3MpIHtcclxuICAgICAgLy8gRW4gZGVzYXJyb2xsbywgbW9zdHJhciBjb21vIGRlYnVnXHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ/CflIcgW1NlcnZlciBTdXBwcmVzc2VkIFdhcm5pbmddOicsIC4uLmFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUGVybWl0aXIgb3Ryb3Mgd2FybmluZ3NcclxuICAgIG9yaWdpbmFsQ29uc29sZVdhcm4oLi4uYXJncyk7XHJcbiAgfTtcclxuICAqL1xyXG59XHJcblxyXG4vKipcclxuICogQ29uZmlndXJhY2nDs24gZGUgY2xlYW51cCBwYXJhIHJlc3RhdXJhciBmdW5jaW9uZXMgb3JpZ2luYWxlc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVPcmlnaW5hbENvbnNvbGVGdW5jdGlvbnMoKSB7XHJcbiAgLy8gRXN0YSBmdW5jacOzbiBwdWVkZSBzZXIgbGxhbWFkYSBwYXJhIHJlc3RhdXJhciBsYXMgZnVuY2lvbmVzIG9yaWdpbmFsZXMgc2kgZXMgbmVjZXNhcmlvXHJcbiAgLy8gRW4gbGEgbWF5b3LDrWEgZGUgY2Fzb3Mgbm8gZXMgbmVjZXNhcmlvIGxsYW1hcmxhXHJcbn1cclxuXHJcbi8vIEluaWNpYWxpemFyIHN1cHJlc2nDs24gZGUgZXJyb3JlcyBkZWwgc2Vydmlkb3IgYXV0b23DoXRpY2FtZW50ZVxyXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBzdXBwcmVzc1NlcnZlckVycm9ycygpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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