{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useMobileCheckoutNavigation.test.ts"],"sourcesContent":["import { renderHook, act } from '@testing-library/react';\r\nimport { useMobileCheckoutNavigation } from '@/hooks/useMobileCheckoutNavigation';\r\nimport { useRouter } from 'next/navigation';\r\n\r\n// Mock de next/navigation\r\njest.mock('next/navigation', () => ({\r\n  useRouter: jest.fn(),\r\n}));\r\n\r\n// Mock de useSwipeGestures\r\njest.mock('@/hooks/useSwipeGestures', () => ({\r\n  useSwipeGestures: jest.fn(() => ({ current: null })),\r\n}));\r\n\r\n// Mock de navigator.vibrate\r\nObject.defineProperty(navigator, 'vibrate', {\r\n  writable: true,\r\n  value: jest.fn(),\r\n});\r\n\r\n// Mock de window.hapticFeedback\r\nObject.defineProperty(window, 'hapticFeedback', {\r\n  writable: true,\r\n  value: {\r\n    impactLight: jest.fn(),\r\n    impactMedium: jest.fn(),\r\n    impactHeavy: jest.fn(),\r\n  },\r\n});\r\n\r\n// Mock de window.addEventListener y removeEventListener\r\nconst mockAddEventListener = jest.fn();\r\nconst mockRemoveEventListener = jest.fn();\r\nObject.defineProperty(window, 'addEventListener', {\r\n  writable: true,\r\n  value: mockAddEventListener,\r\n});\r\nObject.defineProperty(window, 'removeEventListener', {\r\n  writable: true,\r\n  value: mockRemoveEventListener,\r\n});\r\n\r\n// Mock de navigator.userAgent\r\nObject.defineProperty(navigator, 'userAgent', {\r\n  writable: true,\r\n  value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n});\r\n\r\n// Mock de window.innerWidth\r\nObject.defineProperty(window, 'innerWidth', {\r\n  writable: true,\r\n  value: 1024,\r\n});\r\n\r\nconst mockRouter = {\r\n  back: jest.fn(),\r\n  push: jest.fn(),\r\n  replace: jest.fn(),\r\n};\r\n\r\ndescribe('useMobileCheckoutNavigation', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    (useRouter as jest.Mock).mockReturnValue(mockRouter);\r\n    \r\n    // Reset window properties\r\n    Object.defineProperty(window, 'innerWidth', {\r\n      writable: true,\r\n      value: 1024,\r\n    });\r\n    \r\n    Object.defineProperty(navigator, 'userAgent', {\r\n      writable: true,\r\n      value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n    });\r\n  });\r\n\r\n  describe('Configuración por defecto', () => {\r\n    it('debe inicializar con valores por defecto', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      expect(result.current.isMobile).toBe(false);\r\n      expect(result.current.isInteracting).toBe(false);\r\n      expect(result.current.containerRef).toBeDefined();\r\n      expect(typeof result.current.goBack).toBe('function');\r\n      expect(typeof result.current.goForward).toBe('function');\r\n      expect(typeof result.current.triggerHapticFeedback).toBe('function');\r\n    });\r\n\r\n    it('debe configurar event listeners para resize', () => {\r\n      renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      expect(mockAddEventListener).toHaveBeenCalledWith('resize', expect.any(Function));\r\n    });\r\n  });\r\n\r\n  describe('Detección de dispositivo móvil', () => {\r\n    it('debe detectar dispositivo móvil por user agent', () => {\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      expect(result.current.isMobile).toBe(true);\r\n    });\r\n\r\n    it('debe detectar dispositivo móvil por tamaño de pantalla', () => {\r\n      Object.defineProperty(window, 'innerWidth', {\r\n        writable: true,\r\n        value: 600,\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      expect(result.current.isMobile).toBe(true);\r\n    });\r\n\r\n    it('debe detectar dispositivo Android', () => {\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        value: 'Mozilla/5.0 (Linux; Android 10; SM-G975F)',\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      expect(result.current.isMobile).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Navegación', () => {\r\n    it('debe llamar router.back() cuando se ejecuta goBack', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.goBack();\r\n      });\r\n\r\n      expect(mockRouter.back).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('debe ejecutar callback personalizado onSwipeBack', () => {\r\n      const mockOnSwipeBack = jest.fn(() => true); // Retornar true para evitar router.back()\r\n      const { result } = renderHook(() => \r\n        useMobileCheckoutNavigation({ onSwipeBack: mockOnSwipeBack })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.goBack();\r\n      });\r\n\r\n      expect(mockOnSwipeBack).toHaveBeenCalledTimes(1);\r\n      expect(mockRouter.back).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('debe ejecutar callback personalizado onSwipeForward', () => {\r\n      const mockOnSwipeForward = jest.fn();\r\n      const { result } = renderHook(() => \r\n        useMobileCheckoutNavigation({ onSwipeForward: mockOnSwipeForward })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.goForward();\r\n      });\r\n\r\n      expect(mockOnSwipeForward).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n\r\n  describe('Feedback háptico', () => {\r\n    beforeEach(() => {\r\n      // Simular dispositivo móvil\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\r\n      });\r\n    });\r\n\r\n    it('debe activar vibración con patrón light', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback('light');\r\n      });\r\n\r\n      expect(navigator.vibrate).toHaveBeenCalledWith([10]);\r\n    });\r\n\r\n    it('debe activar vibración con patrón medium', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback('medium');\r\n      });\r\n\r\n      expect(navigator.vibrate).toHaveBeenCalledWith([20]);\r\n    });\r\n\r\n    it('debe activar vibración con patrón heavy', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback('heavy');\r\n      });\r\n\r\n      expect(navigator.vibrate).toHaveBeenCalledWith([30]);\r\n    });\r\n\r\n    it('debe usar patrón light por defecto', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback();\r\n      });\r\n\r\n      expect(navigator.vibrate).toHaveBeenCalledWith([10]);\r\n    });\r\n\r\n    it('no debe activar vibración si está deshabilitado', () => {\r\n      const { result } = renderHook(() => \r\n        useMobileCheckoutNavigation({ enableHapticFeedback: false })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback();\r\n      });\r\n\r\n      expect(navigator.vibrate).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('no debe activar vibración en desktop', () => {\r\n      // Simular desktop\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n      });\r\n      Object.defineProperty(window, 'innerWidth', {\r\n        writable: true,\r\n        value: 1024,\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback();\r\n      });\r\n\r\n      expect(navigator.vibrate).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('debe manejar errores de vibración gracefully', () => {\r\n      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation();\r\n      (navigator.vibrate as jest.Mock).mockImplementation(() => {\r\n        throw new Error('Vibration not supported');\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      act(() => {\r\n        result.current.triggerHapticFeedback();\r\n      });\r\n\r\n      expect(consoleSpy).toHaveBeenCalledWith(\r\n        'Haptic feedback not available:',\r\n        expect.any(Error)\r\n      );\r\n\r\n      consoleSpy.mockRestore();\r\n    });\r\n  });\r\n\r\n  describe('Configuración personalizada', () => {\r\n    it('debe respetar enableSwipeGestures = false', () => {\r\n      const { useSwipeGestures } = require('@/hooks/useSwipeGestures');\r\n      \r\n      renderHook(() => \r\n        useMobileCheckoutNavigation({ enableSwipeGestures: false })\r\n      );\r\n\r\n      expect(useSwipeGestures).toHaveBeenCalledWith(\r\n        expect.objectContaining({\r\n          enabled: false,\r\n        })\r\n      );\r\n    });\r\n\r\n    it('debe respetar enableKeyboardNavigation = false', () => {\r\n      // Mock document.addEventListener\r\n      const mockDocumentAddEventListener = jest.fn();\r\n      const originalAddEventListener = document.addEventListener;\r\n      document.addEventListener = mockDocumentAddEventListener;\r\n\r\n      renderHook(() => \r\n        useMobileCheckoutNavigation({ enableKeyboardNavigation: false })\r\n      );\r\n\r\n      // Verificar que no se agregaron listeners de teclado\r\n      const keyboardListeners = mockDocumentAddEventListener.mock.calls.filter(\r\n        call => call[0] === 'keydown'\r\n      );\r\n      expect(keyboardListeners).toHaveLength(0);\r\n\r\n      // Restaurar\r\n      document.addEventListener = originalAddEventListener;\r\n    });\r\n  });\r\n\r\n  describe('Estado de interacción', () => {\r\n    it('debe inicializar isInteracting como false', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n      expect(result.current.isInteracting).toBe(false);\r\n    });\r\n\r\n    it('debe proporcionar containerRef para touch events', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n      \r\n      // Verificar que el containerRef existe y es un objeto ref válido\r\n      expect(result.current.containerRef).toBeDefined();\r\n      expect(result.current.containerRef.current).toBeNull(); // Inicialmente null\r\n      expect(typeof result.current.containerRef).toBe('object');\r\n    });\r\n\r\n    it('debe detectar correctamente dispositivos móviles', () => {\r\n      // Simular dispositivo móvil por user agent\r\n      Object.defineProperty(navigator, 'userAgent', {\r\n        writable: true,\r\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\r\n      });\r\n\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n      expect(result.current.isMobile).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Cleanup', () => {\r\n    it('debe remover event listeners al desmontar', () => {\r\n      const { unmount } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      unmount();\r\n\r\n      expect(mockRemoveEventListener).toHaveBeenCalledWith(\r\n        'resize',\r\n        expect.any(Function)\r\n      );\r\n    });\r\n  });\r\n\r\n  describe('Casos edge', () => {\r\n    it('debe manejar múltiples tipos de user agents móviles', () => {\r\n      const mobileUserAgents = [\r\n        'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\r\n        'Mozilla/5.0 (Linux; Android 10; SM-G975F)',\r\n        'Mozilla/5.0 (iPad; CPU OS 14_0 like Mac OS X)',\r\n        'Mozilla/5.0 (iPod touch; CPU iPhone OS 14_0 like Mac OS X)',\r\n        'Mozilla/5.0 (BlackBerry; U; BlackBerry 9900)',\r\n        'Opera/9.80 (J2ME/MIDP; Opera Mini/9.80)',\r\n      ];\r\n\r\n      mobileUserAgents.forEach(userAgent => {\r\n        Object.defineProperty(navigator, 'userAgent', {\r\n          writable: true,\r\n          value: userAgent,\r\n        });\r\n\r\n        const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n        expect(result.current.isMobile).toBe(true);\r\n      });\r\n    });\r\n\r\n    it('debe manejar resize events correctamente', () => {\r\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\r\n\r\n      // Inicialmente desktop\r\n      expect(result.current.isMobile).toBe(false);\r\n\r\n      // Simular resize a móvil\r\n      Object.defineProperty(window, 'innerWidth', {\r\n        writable: true,\r\n        value: 600,\r\n      });\r\n\r\n      // Obtener el callback de resize\r\n      const resizeCallback = mockAddEventListener.mock.calls.find(\r\n        call => call[0] === 'resize'\r\n      )?.[1];\r\n\r\n      act(() => {\r\n        resizeCallback?.();\r\n      });\r\n\r\n      expect(result.current.isMobile).toBe(true);\r\n    });\r\n  });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["jest","mock","useRouter","fn","useSwipeGestures","current","Object","defineProperty","navigator","writable","value","window","impactLight","impactMedium","impactHeavy","mockAddEventListener","mockRemoveEventListener","mockRouter","back","push","replace","describe","beforeEach","clearAllMocks","mockReturnValue","it","result","renderHook","useMobileCheckoutNavigation","expect","isMobile","toBe","isInteracting","containerRef","toBeDefined","goBack","goForward","triggerHapticFeedback","toHaveBeenCalledWith","any","Function","act","toHaveBeenCalledTimes","mockOnSwipeBack","onSwipeBack","not","toHaveBeenCalled","mockOnSwipeForward","onSwipeForward","vibrate","enableHapticFeedback","consoleSpy","spyOn","console","mockImplementation","Error","mockRestore","require","enableSwipeGestures","objectContaining","enabled","mockDocumentAddEventListener","originalAddEventListener","document","addEventListener","enableKeyboardNavigation","keyboardListeners","calls","filter","call","toHaveLength","toBeNull","unmount","mobileUserAgents","forEach","userAgent","resizeCallback","find"],"mappings":"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"}