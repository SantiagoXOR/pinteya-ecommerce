{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useCheckoutTransition.test.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - TESTS UNITARIOS PARA useCheckoutTransition HOOK\r\n// ===================================\r\n\r\nimport { renderHook, act, waitFor } from '@testing-library/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport useCheckoutTransition from '@/hooks/useCheckoutTransition';\r\n\r\n// Mock Next.js router\r\njest.mock('next/navigation', () => ({\r\n  useRouter: jest.fn(),\r\n}));\r\n\r\n// Mock performance API para navegadores que no lo soportan\r\nconst mockPerformance = {\r\n  now: jest.fn(() => Date.now()),\r\n};\r\n\r\nObject.defineProperty(global, 'performance', {\r\n  value: mockPerformance,\r\n  writable: true,\r\n});\r\n\r\n// Mock console methods para tests limpios\r\nconst originalConsole = { ...console };\r\nbeforeAll(() => {\r\n  console.debug = jest.fn();\r\n  console.warn = jest.fn();\r\n  console.error = jest.fn();\r\n});\r\n\r\nafterAll(() => {\r\n  Object.assign(console, originalConsole);\r\n});\r\n\r\ndescribe('useCheckoutTransition Hook - Tests Unitarios', () => {\r\n  const mockPush = jest.fn();\r\n  const mockRouter = {\r\n    push: mockPush,\r\n    back: jest.fn(),\r\n    forward: jest.fn(),\r\n    refresh: jest.fn(),\r\n    replace: jest.fn(),\r\n  };\r\n\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    jest.useFakeTimers();\r\n    (useRouter as jest.Mock).mockReturnValue(mockRouter);\r\n    mockPerformance.now.mockReturnValue(1000);\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.runOnlyPendingTimers();\r\n    jest.useRealTimers();\r\n  });\r\n\r\n  describe('Estados Básicos del Hook', () => {\r\n    it('debe inicializar con estados correctos por defecto', () => {\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      expect(result.current.isTransitioning).toBe(false);\r\n      expect(result.current.isButtonDisabled).toBe(false);\r\n      expect(result.current.transitionProgress).toBe(0);\r\n      expect(result.current.skipAnimation).toBe(false);\r\n      expect(result.current.performanceMetrics.startTime).toBe(null);\r\n      expect(typeof result.current.startTransition).toBe('function');\r\n    });\r\n\r\n    it('debe cambiar isTransitioning a true cuando se inicia la transición', () => {\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(result.current.isTransitioning).toBe(true);\r\n      expect(result.current.isButtonDisabled).toBe(true);\r\n    });\r\n\r\n    it('debe resetear isTransitioning después de la duración especificada', async () => {\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(result.current.isTransitioning).toBe(true);\r\n\r\n      // Avanzar tiempo hasta completar la animación\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      await waitFor(() => {\r\n        expect(result.current.isTransitioning).toBe(false);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Detección de prefers-reduced-motion', () => {\r\n    const mockMatchMedia = jest.fn();\r\n\r\n    beforeEach(() => {\r\n      Object.defineProperty(window, 'matchMedia', {\r\n        writable: true,\r\n        value: mockMatchMedia,\r\n      });\r\n    });\r\n\r\n    it('debe detectar prefers-reduced-motion: reduce', () => {\r\n      const mockMediaQuery = {\r\n        matches: true,\r\n        addEventListener: jest.fn(),\r\n        removeEventListener: jest.fn(),\r\n      };\r\n      mockMatchMedia.mockReturnValue(mockMediaQuery);\r\n\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      expect(result.current.skipAnimation).toBe(true);\r\n    });\r\n\r\n    it('debe usar animación normal cuando prefers-reduced-motion: no-preference', () => {\r\n      const mockMediaQuery = {\r\n        matches: false,\r\n        addEventListener: jest.fn(),\r\n        removeEventListener: jest.fn(),\r\n      };\r\n      mockMatchMedia.mockReturnValue(mockMediaQuery);\r\n\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      expect(result.current.skipAnimation).toBe(false);\r\n    });\r\n\r\n    it('debe manejar cambios dinámicos en prefers-reduced-motion', () => {\r\n      const mockMediaQuery = {\r\n        matches: false,\r\n        addEventListener: jest.fn(),\r\n        removeEventListener: jest.fn(),\r\n      };\r\n      mockMatchMedia.mockReturnValue(mockMediaQuery);\r\n\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      expect(result.current.skipAnimation).toBe(false);\r\n\r\n      // Simular cambio a reduced motion\r\n      const changeHandler = mockMediaQuery.addEventListener.mock.calls[0][1];\r\n      act(() => {\r\n        changeHandler({ matches: true });\r\n      });\r\n\r\n      expect(result.current.skipAnimation).toBe(true);\r\n    });\r\n\r\n    it('debe manejar navegadores sin soporte para addEventListener', () => {\r\n      const mockMediaQuery = {\r\n        matches: false,\r\n        addListener: jest.fn(),\r\n        removeListener: jest.fn(),\r\n      };\r\n      mockMatchMedia.mockReturnValue(mockMediaQuery);\r\n\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      expect(mockMediaQuery.addListener).toHaveBeenCalled();\r\n      expect(result.current.skipAnimation).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('Callbacks y Eventos', () => {\r\n    it('debe ejecutar onTransitionStart cuando se inicia la transición', () => {\r\n      const onTransitionStart = jest.fn();\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ onTransitionStart })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(onTransitionStart).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('debe ejecutar onTransitionComplete cuando termina la transición', async () => {\r\n      const onTransitionComplete = jest.fn();\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ onTransitionComplete })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      await waitFor(() => {\r\n        expect(onTransitionComplete).toHaveBeenCalledTimes(1);\r\n      });\r\n    });\r\n\r\n    it('debe manejar errores en callbacks y ejecutar onTransitionError', () => {\r\n      const onTransitionStart = jest.fn(() => {\r\n        throw new Error('Test error');\r\n      });\r\n      const onTransitionError = jest.fn();\r\n\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ onTransitionStart, onTransitionError })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(onTransitionError).toHaveBeenCalledWith(expect.any(Error));\r\n    });\r\n  });\r\n\r\n  describe('Prevención de Múltiples Activaciones', () => {\r\n    it('debe ignorar múltiples llamadas a startTransition', () => {\r\n      const onTransitionStart = jest.fn();\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ onTransitionStart })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n        result.current.startTransition();\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(onTransitionStart).toHaveBeenCalledTimes(3);\r\n      expect(result.current.isTransitioning).toBe(true);\r\n    });\r\n\r\n    it('debe permitir nueva transición después de completar la anterior', async () => {\r\n      const onTransitionStart = jest.fn();\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ onTransitionStart })\r\n      );\r\n\r\n      // Primera transición\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      // Completar primera transición\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      await waitFor(() => {\r\n        expect(result.current.isTransitioning).toBe(false);\r\n      });\r\n\r\n      // Segunda transición debe funcionar\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(onTransitionStart).toHaveBeenCalledTimes(2);\r\n    });\r\n  });\r\n\r\n  describe('Performance Tracking', () => {\r\n    it('debe trackear métricas de performance cuando está habilitado', () => {\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ enablePerformanceTracking: true })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(result.current.performanceMetrics.startTime).toBeGreaterThanOrEqual(0);\r\n\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      expect(result.current.performanceMetrics.endTime).toBeTruthy();\r\n      expect(result.current.performanceMetrics.duration).toBeTruthy();\r\n    });\r\n\r\n    it('debe actualizar transitionProgress durante la animación', () => {\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      expect(result.current.transitionProgress).toBe(0);\r\n\r\n      // Avanzar parcialmente\r\n      act(() => {\r\n        jest.advanceTimersByTime(1400); // 50% de 2800ms\r\n      });\r\n\r\n      expect(result.current.transitionProgress).toBeGreaterThan(0);\r\n      expect(result.current.transitionProgress).toBeLessThan(100);\r\n    });\r\n  });\r\n\r\n  describe('Configuraciones Personalizadas', () => {\r\n    it('debe usar duración personalizada cuando se proporciona', async () => {\r\n      const customDuration = 1000;\r\n      const onTransitionComplete = jest.fn();\r\n      \r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ \r\n          customDuration, \r\n          onTransitionComplete \r\n        })\r\n      );\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      // No debe completarse con la duración por defecto\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      expect(onTransitionComplete).toHaveBeenCalled();\r\n\r\n      // Debe completarse con la duración personalizada\r\n      act(() => {\r\n        jest.advanceTimersByTime(1000);\r\n      });\r\n\r\n      await waitFor(() => {\r\n        expect(onTransitionComplete).toHaveBeenCalled();\r\n      });\r\n    });\r\n\r\n    it('debe deshabilitar animación cuando enableAnimation es false', () => {\r\n      const { result } = renderHook(() => \r\n        useCheckoutTransition({ enableAnimation: false })\r\n      );\r\n\r\n      expect(result.current.skipAnimation).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Navegación y Cleanup', () => {\r\n    it('debe navegar a /checkout al completar la transición', async () => {\r\n      const { result } = renderHook(() => useCheckoutTransition());\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      act(() => {\r\n        jest.advanceTimersByTime(2800);\r\n      });\r\n\r\n      await waitFor(() => {\r\n        expect(mockPush).toHaveBeenCalledWith('/checkout');\r\n      });\r\n    });\r\n\r\n    it('debe limpiar timeouts en unmount', () => {\r\n      const { result, unmount } = renderHook(() => useCheckoutTransition());\r\n\r\n      act(() => {\r\n        result.current.startTransition();\r\n      });\r\n\r\n      // Unmount antes de que termine la animación\r\n      unmount();\r\n\r\n      // Avanzar tiempo - no debería causar errores\r\n      act(() => {\r\n        jest.advanceTimersByTime(5000);\r\n      });\r\n\r\n      // No debe haber navegación después del unmount\r\n      expect(mockPush).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["jest","mock","useRouter","fn","mockPerformance","now","Date","Object","defineProperty","global","value","writable","originalConsole","console","beforeAll","debug","warn","error","afterAll","assign","describe","mockPush","mockRouter","push","back","forward","refresh","replace","beforeEach","clearAllMocks","useFakeTimers","mockReturnValue","afterEach","runOnlyPendingTimers","useRealTimers","it","result","renderHook","useCheckoutTransition","expect","current","isTransitioning","toBe","isButtonDisabled","transitionProgress","skipAnimation","performanceMetrics","startTime","startTransition","act","advanceTimersByTime","waitFor","mockMatchMedia","window","mockMediaQuery","matches","addEventListener","removeEventListener","changeHandler","calls","addListener","removeListener","toHaveBeenCalled","onTransitionStart","toHaveBeenCalledTimes","onTransitionComplete","Error","onTransitionError","toHaveBeenCalledWith","any","enablePerformanceTracking","toBeGreaterThanOrEqual","endTime","toBeTruthy","duration","toBeGreaterThan","toBeLessThan","customDuration","enableAnimation","unmount","not"],"mappings":"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"}