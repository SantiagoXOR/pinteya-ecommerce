4f6ec30f96b41e1b340d906a4650c8d5
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get CheckoutTransitionAnimation () {
        return CheckoutTransitionAnimation;
    },
    get default () {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _framermotion = require("framer-motion");
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const CheckoutTransitionAnimation = ({ isActive, onComplete, skipAnimation = false, enablePerformanceMode = false, customDuration, onAnimationStart, onAnimationProgress })=>{
    const router = (0, _navigation.useRouter)();
    const animationControls = (0, _framermotion.useAnimation)();
    const progressValue = (0, _framermotion.useMotionValue)(0);
    const timeoutRef = (0, _react.useRef)(null);
    const animationStartTimeRef = (0, _react.useRef)(null);
    // Configuración de duración optimizada
    const animationDuration = (0, _react.useMemo)(()=>{
        if (customDuration) {
            return customDuration;
        }
        if (skipAnimation) {
            return 100;
        }
        if (enablePerformanceMode) {
            return 1500;
        } // Versión más rápida para dispositivos lentos
        return 2500 // Duración completa
        ;
    }, [
        customDuration,
        skipAnimation,
        enablePerformanceMode
    ]);
    // Secuencia de animaciones optimizada
    const animationSequence = (0, _react.useMemo)(()=>{
        if (skipAnimation) {
            return [];
        }
        const baseSequence = [
            {
                name: 'wave',
                delay: 0.3,
                duration: 1.5,
                element: 'wave'
            },
            {
                name: 'logo',
                delay: 0.8,
                duration: 1.8,
                element: 'logo'
            },
            {
                name: 'particles',
                delay: 1.2,
                duration: 1.2,
                element: 'particles'
            },
            {
                name: 'text',
                delay: 1.5,
                duration: 1.5,
                element: 'text'
            }
        ];
        // Optimizar para modo performance
        if (enablePerformanceMode) {
            return baseSequence.map((seq)=>({
                    ...seq,
                    duration: seq.duration * 0.6,
                    delay: seq.delay * 0.6
                }));
        }
        return baseSequence;
    }, [
        skipAnimation,
        enablePerformanceMode
    ]);
    // Callback optimizado para progreso
    const handleProgress = (0, _react.useCallback)((progress)=>{
        progressValue.set(progress);
        onAnimationProgress?.(progress);
    }, [
        progressValue,
        onAnimationProgress
    ]);
    // Cleanup mejorado
    (0, _react.useEffect)(()=>{
        return ()=>{
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
            }
            animationControls.stop();
        };
    }, [
        animationControls
    ]);
    (0, _react.useEffect)(()=>{
        if (isActive) {
            animationStartTimeRef.current = performance.now();
            onAnimationStart?.();
            if (skipAnimation) {
                // Navegación inmediata para skip
                timeoutRef.current = setTimeout(()=>{
                    router.push('/checkout');
                    onComplete?.();
                }, 100);
            } else {
                // Iniciar secuencia de animación
                animationControls.start('animate');
                // Progress tracking
                const progressInterval = setInterval(()=>{
                    if (animationStartTimeRef.current) {
                        const elapsed = performance.now() - animationStartTimeRef.current;
                        const progress = Math.min(elapsed / animationDuration * 100, 100);
                        handleProgress(progress);
                    }
                }, 16) // 60fps
                ;
                // Secuencia completa de animación
                timeoutRef.current = setTimeout(()=>{
                    clearInterval(progressInterval);
                    handleProgress(100);
                    router.push('/checkout');
                    onComplete?.();
                }, animationDuration);
                return ()=>{
                    clearInterval(progressInterval);
                    if (timeoutRef.current) {
                        clearTimeout(timeoutRef.current);
                    }
                };
            }
        }
    }, [
        isActive,
        skipAnimation,
        router,
        onComplete,
        animationDuration,
        animationControls,
        handleProgress,
        onAnimationStart
    ]);
    // Variantes de animación optimizadas
    const containerVariants = (0, _react.useMemo)(()=>({
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1,
                transition: {
                    duration: 0.3,
                    ease: 'easeOut'
                }
            },
            exit: {
                opacity: 0,
                transition: {
                    duration: 0.2,
                    ease: 'easeIn'
                }
            }
        }), []);
    const waveVariants = (0, _react.useMemo)(()=>({
            initial: {
                scale: 0,
                opacity: 0
            },
            animate: {
                scale: enablePerformanceMode ? [
                    0,
                    6,
                    8
                ] : [
                    0,
                    8,
                    12
                ],
                opacity: [
                    0,
                    0.8,
                    0.6,
                    0
                ]
            }
        }), [
        enablePerformanceMode
    ]);
    const logoVariants = (0, _react.useMemo)(()=>({
            initial: {
                scale: 0,
                opacity: 0,
                rotate: -180
            },
            animate: {
                scale: enablePerformanceMode ? [
                    0,
                    2,
                    1
                ] : [
                    0,
                    2.5,
                    1
                ],
                opacity: [
                    0,
                    1,
                    1,
                    0
                ],
                rotate: [
                    180,
                    0,
                    0
                ]
            }
        }), [
        enablePerformanceMode
    ]);
    if (!isActive || skipAnimation) {
        return null;
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.AnimatePresence, {
        mode: "wait",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_framermotion.motion.div, {
            className: "fixed inset-0 z-[99999] pointer-events-none checkout-transition-container",
            variants: containerVariants,
            initial: "initial",
            animate: "animate",
            exit: "exit",
            style: {
                willChange: 'opacity',
                backfaceVisibility: 'hidden',
                transform: 'translateZ(0)'
            },
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    variants: waveVariants,
                    initial: "initial",
                    animate: "animate",
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === 'wave')?.duration || 1.5,
                        delay: animationSequence.find((seq)=>seq.name === 'wave')?.delay || 0.3,
                        times: [
                            0,
                            0.6,
                            0.8,
                            1
                        ],
                        ease: 'easeOut'
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: `w-32 h-32 rounded-full checkout-transition-wave ${enablePerformanceMode ? '' : 'checkout-transition-overlay'}`,
                        style: {
                            background: 'radial-gradient(circle, #fbbf24 0%, #f59e0b 50%, transparent 70%)',
                            filter: enablePerformanceMode ? 'none' : 'blur(2px)'
                        }
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    variants: logoVariants,
                    initial: "initial",
                    animate: "animate",
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === 'logo')?.duration || 1.8,
                        delay: animationSequence.find((seq)=>seq.name === 'logo')?.delay || 0.8,
                        times: [
                            0,
                            0.3,
                            0.7,
                            1
                        ],
                        ease: [
                            0.68,
                            -0.55,
                            0.265,
                            1.55
                        ]
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "relative",
                        children: [
                            !enablePerformanceMode && /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                                className: "absolute inset-0 rounded-full css-logo-glow",
                                style: {
                                    background: 'radial-gradient(circle, #fbbf24 0%, transparent 70%)',
                                    filter: 'blur(20px)'
                                },
                                animate: {
                                    scale: [
                                        1,
                                        1.5,
                                        1
                                    ],
                                    opacity: [
                                        0.5,
                                        0.8,
                                        0.3
                                    ]
                                },
                                transition: {
                                    duration: 1,
                                    delay: 1,
                                    repeat: 1,
                                    ease: 'easeInOut'
                                }
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                                src: "/images/logo/LOGO POSITIVO.svg",
                                alt: "Pinteya Logo",
                                width: enablePerformanceMode ? 80 : 120,
                                height: enablePerformanceMode ? 80 : 120,
                                className: "relative z-10 checkout-transition-logo",
                                priority: true,
                                style: {
                                    willChange: 'transform',
                                    backfaceVisibility: 'hidden'
                                }
                            })
                        ]
                    })
                }),
                !enablePerformanceMode && [
                    ...Array(8)
                ].map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                        className: "absolute w-2 h-2 bg-yellow-400 rounded-full",
                        style: {
                            left: '50%',
                            top: '50%',
                            willChange: 'transform, opacity'
                        },
                        initial: {
                            scale: 0,
                            x: 0,
                            y: 0,
                            opacity: 0
                        },
                        animate: {
                            scale: [
                                0,
                                1,
                                0
                            ],
                            x: Math.cos(i * Math.PI * 2 / 8) * (enablePerformanceMode ? 150 : 200),
                            y: Math.sin(i * Math.PI * 2 / 8) * (enablePerformanceMode ? 150 : 200),
                            opacity: [
                                0,
                                1,
                                0
                            ]
                        },
                        transition: {
                            duration: animationSequence.find((seq)=>seq.name === 'particles')?.duration || 1.2,
                            delay: (animationSequence.find((seq)=>seq.name === 'particles')?.delay || 1.2) + i * 0.1,
                            ease: 'easeOut'
                        }
                    }, i)),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    initial: {
                        opacity: 0,
                        y: 50
                    },
                    animate: {
                        opacity: [
                            0,
                            1,
                            1,
                            0
                        ],
                        y: [
                            50,
                            0,
                            0,
                            -20
                        ]
                    },
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === 'text')?.duration || 1.5,
                        delay: animationSequence.find((seq)=>seq.name === 'text')?.delay || 1.5,
                        times: [
                            0,
                            0.3,
                            0.7,
                            1
                        ],
                        ease: 'easeOut'
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: `font-bold text-gray-800 mb-2 ${enablePerformanceMode ? 'text-xl' : 'text-2xl'}`,
                                children: "\xa1Procesando tu compra!"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-gray-600",
                                children: "Te llevamos al checkout..."
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 bg-white",
                    initial: {
                        opacity: 0
                    },
                    animate: {
                        opacity: [
                            0,
                            0.3,
                            0.5,
                            0.8
                        ]
                    },
                    transition: {
                        duration: animationDuration / 1000,
                        ease: 'easeInOut'
                    }
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.button, {
                    className: "checkout-transition-skip-button",
                    initial: {
                        opacity: 0
                    },
                    animate: {
                        opacity: 1
                    },
                    transition: {
                        delay: 0.5
                    },
                    onClick: ()=>{
                        if (timeoutRef.current) {
                            clearTimeout(timeoutRef.current);
                        }
                        router.push('/checkout');
                        onComplete?.();
                    },
                    "aria-label": "Saltar animaci\xf3n e ir al checkout",
                    children: "Saltar animaci\xf3n"
                })
            ]
        })
    });
};
const _default = CheckoutTransitionAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXGNoZWNrb3V0LXRyYW5zaXRpb24tYW5pbWF0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UsIHVzZUFuaW1hdGlvbiwgdXNlTW90aW9uVmFsdWUgfSBmcm9tICdmcmFtZXItbW90aW9uJ1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5cbmludGVyZmFjZSBDaGVja291dFRyYW5zaXRpb25BbmltYXRpb25Qcm9wcyB7XG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkXG4gIHNraXBBbmltYXRpb24/OiBib29sZWFuXG4gIGVuYWJsZVBlcmZvcm1hbmNlTW9kZT86IGJvb2xlYW5cbiAgY3VzdG9tRHVyYXRpb24/OiBudW1iZXJcbiAgb25BbmltYXRpb25TdGFydD86ICgpID0+IHZvaWRcbiAgb25BbmltYXRpb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBBbmltYXRpb25TZXF1ZW5jZSB7XG4gIG5hbWU6IHN0cmluZ1xuICBkZWxheTogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgZWxlbWVudDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBDaGVja291dFRyYW5zaXRpb25BbmltYXRpb246IFJlYWN0LkZDPENoZWNrb3V0VHJhbnNpdGlvbkFuaW1hdGlvblByb3BzPiA9ICh7XG4gIGlzQWN0aXZlLFxuICBvbkNvbXBsZXRlLFxuICBza2lwQW5pbWF0aW9uID0gZmFsc2UsXG4gIGVuYWJsZVBlcmZvcm1hbmNlTW9kZSA9IGZhbHNlLFxuICBjdXN0b21EdXJhdGlvbixcbiAgb25BbmltYXRpb25TdGFydCxcbiAgb25BbmltYXRpb25Qcm9ncmVzcyxcbn0pID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgYW5pbWF0aW9uQ29udHJvbHMgPSB1c2VBbmltYXRpb24oKVxuICBjb25zdCBwcm9ncmVzc1ZhbHVlID0gdXNlTW90aW9uVmFsdWUoMClcbiAgY29uc3QgdGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGFuaW1hdGlvblN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKVxuXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGR1cmFjacOzbiBvcHRpbWl6YWRhXG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGN1c3RvbUR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gY3VzdG9tRHVyYXRpb25cbiAgICB9XG4gICAgaWYgKHNraXBBbmltYXRpb24pIHtcbiAgICAgIHJldHVybiAxMDBcbiAgICB9XG4gICAgaWYgKGVuYWJsZVBlcmZvcm1hbmNlTW9kZSkge1xuICAgICAgcmV0dXJuIDE1MDBcbiAgICB9IC8vIFZlcnNpw7NuIG3DoXMgcsOhcGlkYSBwYXJhIGRpc3Bvc2l0aXZvcyBsZW50b3NcbiAgICByZXR1cm4gMjUwMCAvLyBEdXJhY2nDs24gY29tcGxldGFcbiAgfSwgW2N1c3RvbUR1cmF0aW9uLCBza2lwQW5pbWF0aW9uLCBlbmFibGVQZXJmb3JtYW5jZU1vZGVdKVxuXG4gIC8vIFNlY3VlbmNpYSBkZSBhbmltYWNpb25lcyBvcHRpbWl6YWRhXG4gIGNvbnN0IGFuaW1hdGlvblNlcXVlbmNlOiBBbmltYXRpb25TZXF1ZW5jZVtdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHNraXBBbmltYXRpb24pIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGNvbnN0IGJhc2VTZXF1ZW5jZSA9IFtcbiAgICAgIHsgbmFtZTogJ3dhdmUnLCBkZWxheTogMC4zLCBkdXJhdGlvbjogMS41LCBlbGVtZW50OiAnd2F2ZScgfSxcbiAgICAgIHsgbmFtZTogJ2xvZ28nLCBkZWxheTogMC44LCBkdXJhdGlvbjogMS44LCBlbGVtZW50OiAnbG9nbycgfSxcbiAgICAgIHsgbmFtZTogJ3BhcnRpY2xlcycsIGRlbGF5OiAxLjIsIGR1cmF0aW9uOiAxLjIsIGVsZW1lbnQ6ICdwYXJ0aWNsZXMnIH0sXG4gICAgICB7IG5hbWU6ICd0ZXh0JywgZGVsYXk6IDEuNSwgZHVyYXRpb246IDEuNSwgZWxlbWVudDogJ3RleHQnIH0sXG4gICAgXVxuXG4gICAgLy8gT3B0aW1pemFyIHBhcmEgbW9kbyBwZXJmb3JtYW5jZVxuICAgIGlmIChlbmFibGVQZXJmb3JtYW5jZU1vZGUpIHtcbiAgICAgIHJldHVybiBiYXNlU2VxdWVuY2UubWFwKHNlcSA9PiAoe1xuICAgICAgICAuLi5zZXEsXG4gICAgICAgIGR1cmF0aW9uOiBzZXEuZHVyYXRpb24gKiAwLjYsIC8vIDQwJSBtw6FzIHLDoXBpZG9cbiAgICAgICAgZGVsYXk6IHNlcS5kZWxheSAqIDAuNixcbiAgICAgIH0pKVxuICAgIH1cblxuICAgIHJldHVybiBiYXNlU2VxdWVuY2VcbiAgfSwgW3NraXBBbmltYXRpb24sIGVuYWJsZVBlcmZvcm1hbmNlTW9kZV0pXG5cbiAgLy8gQ2FsbGJhY2sgb3B0aW1pemFkbyBwYXJhIHByb2dyZXNvXG4gIGNvbnN0IGhhbmRsZVByb2dyZXNzID0gdXNlQ2FsbGJhY2soXG4gICAgKHByb2dyZXNzOiBudW1iZXIpID0+IHtcbiAgICAgIHByb2dyZXNzVmFsdWUuc2V0KHByb2dyZXNzKVxuICAgICAgb25BbmltYXRpb25Qcm9ncmVzcz8uKHByb2dyZXNzKVxuICAgIH0sXG4gICAgW3Byb2dyZXNzVmFsdWUsIG9uQW5pbWF0aW9uUHJvZ3Jlc3NdXG4gIClcblxuICAvLyBDbGVhbnVwIG1lam9yYWRvXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIH1cbiAgICAgIGFuaW1hdGlvbkNvbnRyb2xzLnN0b3AoKVxuICAgIH1cbiAgfSwgW2FuaW1hdGlvbkNvbnRyb2xzXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgYW5pbWF0aW9uU3RhcnRUaW1lUmVmLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgb25BbmltYXRpb25TdGFydD8uKClcblxuICAgICAgaWYgKHNraXBBbmltYXRpb24pIHtcbiAgICAgICAgLy8gTmF2ZWdhY2nDs24gaW5tZWRpYXRhIHBhcmEgc2tpcFxuICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByb3V0ZXIucHVzaCgnL2NoZWNrb3V0JylcbiAgICAgICAgICBvbkNvbXBsZXRlPy4oKVxuICAgICAgICB9LCAxMDApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbmljaWFyIHNlY3VlbmNpYSBkZSBhbmltYWNpw7NuXG4gICAgICAgIGFuaW1hdGlvbkNvbnRyb2xzLnN0YXJ0KCdhbmltYXRlJylcblxuICAgICAgICAvLyBQcm9ncmVzcyB0cmFja2luZ1xuICAgICAgICBjb25zdCBwcm9ncmVzc0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIGlmIChhbmltYXRpb25TdGFydFRpbWVSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gYW5pbWF0aW9uU3RhcnRUaW1lUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oKGVsYXBzZWQgLyBhbmltYXRpb25EdXJhdGlvbikgKiAxMDAsIDEwMClcbiAgICAgICAgICAgIGhhbmRsZVByb2dyZXNzKHByb2dyZXNzKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTYpIC8vIDYwZnBzXG5cbiAgICAgICAgLy8gU2VjdWVuY2lhIGNvbXBsZXRhIGRlIGFuaW1hY2nDs25cbiAgICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKVxuICAgICAgICAgIGhhbmRsZVByb2dyZXNzKDEwMClcbiAgICAgICAgICByb3V0ZXIucHVzaCgnL2NoZWNrb3V0JylcbiAgICAgICAgICBvbkNvbXBsZXRlPy4oKVxuICAgICAgICB9LCBhbmltYXRpb25EdXJhdGlvbilcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbClcbiAgICAgICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW1xuICAgIGlzQWN0aXZlLFxuICAgIHNraXBBbmltYXRpb24sXG4gICAgcm91dGVyLFxuICAgIG9uQ29tcGxldGUsXG4gICAgYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgYW5pbWF0aW9uQ29udHJvbHMsXG4gICAgaGFuZGxlUHJvZ3Jlc3MsXG4gICAgb25BbmltYXRpb25TdGFydCxcbiAgXSlcblxuICAvLyBWYXJpYW50ZXMgZGUgYW5pbWFjacOzbiBvcHRpbWl6YWRhc1xuICBjb25zdCBjb250YWluZXJWYXJpYW50cyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGluaXRpYWw6IHsgb3BhY2l0eTogMCB9LFxuICAgICAgYW5pbWF0ZToge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjMsIGVhc2U6ICdlYXNlT3V0JyB9LFxuICAgICAgfSxcbiAgICAgIGV4aXQ6IHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC4yLCBlYXNlOiAnZWFzZUluJyB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBbXVxuICApXG5cbiAgY29uc3Qgd2F2ZVZhcmlhbnRzID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgaW5pdGlhbDogeyBzY2FsZTogMCwgb3BhY2l0eTogMCB9LFxuICAgICAgYW5pbWF0ZToge1xuICAgICAgICBzY2FsZTogZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gWzAsIDYsIDhdIDogWzAsIDgsIDEyXSxcbiAgICAgICAgb3BhY2l0eTogWzAsIDAuOCwgMC42LCAwXSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgW2VuYWJsZVBlcmZvcm1hbmNlTW9kZV1cbiAgKVxuXG4gIGNvbnN0IGxvZ29WYXJpYW50cyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGluaXRpYWw6IHsgc2NhbGU6IDAsIG9wYWNpdHk6IDAsIHJvdGF0ZTogLTE4MCB9LFxuICAgICAgYW5pbWF0ZToge1xuICAgICAgICBzY2FsZTogZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gWzAsIDIsIDFdIDogWzAsIDIuNSwgMV0sXG4gICAgICAgIG9wYWNpdHk6IFswLCAxLCAxLCAwXSxcbiAgICAgICAgcm90YXRlOiBbMTgwLCAwLCAwXSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgW2VuYWJsZVBlcmZvcm1hbmNlTW9kZV1cbiAgKVxuXG4gIGlmICghaXNBY3RpdmUgfHwgc2tpcEFuaW1hdGlvbikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBbmltYXRlUHJlc2VuY2UgbW9kZT0nd2FpdCc+XG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBjbGFzc05hbWU9J2ZpeGVkIGluc2V0LTAgei1bOTk5OTldIHBvaW50ZXItZXZlbnRzLW5vbmUgY2hlY2tvdXQtdHJhbnNpdGlvbi1jb250YWluZXInXG4gICAgICAgIHZhcmlhbnRzPXtjb250YWluZXJWYXJpYW50c31cbiAgICAgICAgaW5pdGlhbD0naW5pdGlhbCdcbiAgICAgICAgYW5pbWF0ZT0nYW5pbWF0ZSdcbiAgICAgICAgZXhpdD0nZXhpdCdcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICB3aWxsQ2hhbmdlOiAnb3BhY2l0eScsXG4gICAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVaKDApJyxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgey8qIE9uZGEgY2lyY3VsYXIgYW1hcmlsbGEgb3B0aW1pemFkYSAqL31cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBjbGFzc05hbWU9J2Fic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInXG4gICAgICAgICAgdmFyaWFudHM9e3dhdmVWYXJpYW50c31cbiAgICAgICAgICBpbml0aWFsPSdpbml0aWFsJ1xuICAgICAgICAgIGFuaW1hdGU9J2FuaW1hdGUnXG4gICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSAnd2F2ZScpPy5kdXJhdGlvbiB8fCAxLjUsXG4gICAgICAgICAgICBkZWxheTogYW5pbWF0aW9uU2VxdWVuY2UuZmluZChzZXEgPT4gc2VxLm5hbWUgPT09ICd3YXZlJyk/LmRlbGF5IHx8IDAuMyxcbiAgICAgICAgICAgIHRpbWVzOiBbMCwgMC42LCAwLjgsIDFdLFxuICAgICAgICAgICAgZWFzZTogJ2Vhc2VPdXQnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2B3LTMyIGgtMzIgcm91bmRlZC1mdWxsIGNoZWNrb3V0LXRyYW5zaXRpb24td2F2ZSAke1xuICAgICAgICAgICAgICBlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyAnJyA6ICdjaGVja291dC10cmFuc2l0aW9uLW92ZXJsYXknXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjZmJiZjI0IDAlLCAjZjU5ZTBiIDUwJSwgdHJhbnNwYXJlbnQgNzAlKScsXG4gICAgICAgICAgICAgIGZpbHRlcjogZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gJ25vbmUnIDogJ2JsdXIoMnB4KScsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICB7LyogTG9nbyBjcmFzaCB6b29tIG9wdGltaXphZG8gKi99XG4gICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPSdhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyJ1xuICAgICAgICAgIHZhcmlhbnRzPXtsb2dvVmFyaWFudHN9XG4gICAgICAgICAgaW5pdGlhbD0naW5pdGlhbCdcbiAgICAgICAgICBhbmltYXRlPSdhbmltYXRlJ1xuICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gJ2xvZ28nKT8uZHVyYXRpb24gfHwgMS44LFxuICAgICAgICAgICAgZGVsYXk6IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSAnbG9nbycpPy5kZWxheSB8fCAwLjgsXG4gICAgICAgICAgICB0aW1lczogWzAsIDAuMywgMC43LCAxXSxcbiAgICAgICAgICAgIGVhc2U6IFswLjY4LCAtMC41NSwgMC4yNjUsIDEuNTVdLCAvLyBCb3VuY2UgZWZmZWN0XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICB7LyogRWZlY3RvIGRlIHJlc3BsYW5kb3Igb3B0aW1pemFkbyAqL31cbiAgICAgICAgICAgIHshZW5hYmxlUGVyZm9ybWFuY2VNb2RlICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Fic29sdXRlIGluc2V0LTAgcm91bmRlZC1mdWxsIGNzcy1sb2dvLWdsb3cnXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjZmJiZjI0IDAlLCB0cmFuc3BhcmVudCA3MCUpJyxcbiAgICAgICAgICAgICAgICAgIGZpbHRlcjogJ2JsdXIoMjBweCknLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgc2NhbGU6IFsxLCAxLjUsIDFdLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogWzAuNSwgMC44LCAwLjNdLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgICBkZWxheTogMSxcbiAgICAgICAgICAgICAgICAgIHJlcGVhdDogMSxcbiAgICAgICAgICAgICAgICAgIGVhc2U6ICdlYXNlSW5PdXQnLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTG9nbyBwcmluY2lwYWwgY29uIG9wdGltaXphY2lvbmVzICovfVxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIHNyYz0nL2ltYWdlcy9sb2dvL0xPR08gUE9TSVRJVk8uc3ZnJ1xuICAgICAgICAgICAgICBhbHQ9J1BpbnRleWEgTG9nbydcbiAgICAgICAgICAgICAgd2lkdGg9e2VuYWJsZVBlcmZvcm1hbmNlTW9kZSA/IDgwIDogMTIwfVxuICAgICAgICAgICAgICBoZWlnaHQ9e2VuYWJsZVBlcmZvcm1hbmNlTW9kZSA/IDgwIDogMTIwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9J3JlbGF0aXZlIHotMTAgY2hlY2tvdXQtdHJhbnNpdGlvbi1sb2dvJ1xuICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgICAgICAgICAgIGJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgey8qIFBhcnTDrWN1bGFzIGRlY29yYXRpdmFzIG9wdGltaXphZGFzICovfVxuICAgICAgICB7IWVuYWJsZVBlcmZvcm1hbmNlTW9kZSAmJlxuICAgICAgICAgIFsuLi5BcnJheSg4KV0ubWFwKChfLCBpKSA9PiAoXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nYWJzb2x1dGUgdy0yIGgtMiBiZy15ZWxsb3ctNDAwIHJvdW5kZWQtZnVsbCdcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0sIG9wYWNpdHknLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBpbml0aWFsPXt7XG4gICAgICAgICAgICAgICAgc2NhbGU6IDAsXG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGFuaW1hdGU9e3tcbiAgICAgICAgICAgICAgICBzY2FsZTogWzAsIDEsIDBdLFxuICAgICAgICAgICAgICAgIHg6IE1hdGguY29zKChpICogTWF0aC5QSSAqIDIpIC8gOCkgKiAoZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gMTUwIDogMjAwKSxcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnNpbigoaSAqIE1hdGguUEkgKiAyKSAvIDgpICogKGVuYWJsZVBlcmZvcm1hbmNlTW9kZSA/IDE1MCA6IDIwMCksXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogWzAsIDEsIDBdLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSAncGFydGljbGVzJyk/LmR1cmF0aW9uIHx8IDEuMixcbiAgICAgICAgICAgICAgICBkZWxheTpcbiAgICAgICAgICAgICAgICAgIChhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gJ3BhcnRpY2xlcycpPy5kZWxheSB8fCAxLjIpICsgaSAqIDAuMSxcbiAgICAgICAgICAgICAgICBlYXNlOiAnZWFzZU91dCcsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpfVxuXG4gICAgICAgIHsvKiBUZXh0byBkZSB0cmFuc2ljacOzbiBvcHRpbWl6YWRvICovfVxuICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgIGNsYXNzTmFtZT0nYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcidcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDUwIH19XG4gICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgb3BhY2l0eTogWzAsIDEsIDEsIDBdLFxuICAgICAgICAgICAgeTogWzUwLCAwLCAwLCAtMjBdLFxuICAgICAgICAgIH19XG4gICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSAndGV4dCcpPy5kdXJhdGlvbiB8fCAxLjUsXG4gICAgICAgICAgICBkZWxheTogYW5pbWF0aW9uU2VxdWVuY2UuZmluZChzZXEgPT4gc2VxLm5hbWUgPT09ICd0ZXh0Jyk/LmRlbGF5IHx8IDEuNSxcbiAgICAgICAgICAgIHRpbWVzOiBbMCwgMC4zLCAwLjcsIDFdLFxuICAgICAgICAgICAgZWFzZTogJ2Vhc2VPdXQnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuICAgICAgICAgICAgPGgzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTIgJHtcbiAgICAgICAgICAgICAgICBlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyAndGV4dC14bCcgOiAndGV4dC0yeGwnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDCoVByb2Nlc2FuZG8gdHUgY29tcHJhIVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1ncmF5LTYwMCc+VGUgbGxldmFtb3MgYWwgY2hlY2tvdXQuLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICB7LyogT3ZlcmxheSBkZSBmb25kbyBvcHRpbWl6YWRvICovfVxuICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgIGNsYXNzTmFtZT0nYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZSdcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IFswLCAwLjMsIDAuNSwgMC44XSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbiAvIDEwMDAsXG4gICAgICAgICAgICBlYXNlOiAnZWFzZUluT3V0JyxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBTa2lwIGJ1dHRvbiBwYXJhIGFjY2VzaWJpbGlkYWQgKi99XG4gICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPSdjaGVja291dC10cmFuc2l0aW9uLXNraXAtYnV0dG9uJ1xuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuNSB9fVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvY2hlY2tvdXQnKVxuICAgICAgICAgICAgb25Db21wbGV0ZT8uKClcbiAgICAgICAgICB9fVxuICAgICAgICAgIGFyaWEtbGFiZWw9J1NhbHRhciBhbmltYWNpw7NuIGUgaXIgYWwgY2hlY2tvdXQnXG4gICAgICAgID5cbiAgICAgICAgICBTYWx0YXIgYW5pbWFjacOzblxuICAgICAgICA8L21vdGlvbi5idXR0b24+XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tvdXRUcmFuc2l0aW9uQW5pbWF0aW9uXG4iXSwibmFtZXMiOlsiQ2hlY2tvdXRUcmFuc2l0aW9uQW5pbWF0aW9uIiwiaXNBY3RpdmUiLCJvbkNvbXBsZXRlIiwic2tpcEFuaW1hdGlvbiIsImVuYWJsZVBlcmZvcm1hbmNlTW9kZSIsImN1c3RvbUR1cmF0aW9uIiwib25BbmltYXRpb25TdGFydCIsIm9uQW5pbWF0aW9uUHJvZ3Jlc3MiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJhbmltYXRpb25Db250cm9scyIsInVzZUFuaW1hdGlvbiIsInByb2dyZXNzVmFsdWUiLCJ1c2VNb3Rpb25WYWx1ZSIsInRpbWVvdXRSZWYiLCJ1c2VSZWYiLCJhbmltYXRpb25TdGFydFRpbWVSZWYiLCJhbmltYXRpb25EdXJhdGlvbiIsInVzZU1lbW8iLCJhbmltYXRpb25TZXF1ZW5jZSIsImJhc2VTZXF1ZW5jZSIsIm5hbWUiLCJkZWxheSIsImR1cmF0aW9uIiwiZWxlbWVudCIsIm1hcCIsInNlcSIsImhhbmRsZVByb2dyZXNzIiwidXNlQ2FsbGJhY2siLCJwcm9ncmVzcyIsInNldCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJzdG9wIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzZXRUaW1lb3V0IiwicHVzaCIsInN0YXJ0IiwicHJvZ3Jlc3NJbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsIk1hdGgiLCJtaW4iLCJjbGVhckludGVydmFsIiwiY29udGFpbmVyVmFyaWFudHMiLCJpbml0aWFsIiwib3BhY2l0eSIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZWFzZSIsImV4aXQiLCJ3YXZlVmFyaWFudHMiLCJzY2FsZSIsImxvZ29WYXJpYW50cyIsInJvdGF0ZSIsIkFuaW1hdGVQcmVzZW5jZSIsIm1vZGUiLCJtb3Rpb24iLCJkaXYiLCJjbGFzc05hbWUiLCJ2YXJpYW50cyIsInN0eWxlIiwid2lsbENoYW5nZSIsImJhY2tmYWNlVmlzaWJpbGl0eSIsInRyYW5zZm9ybSIsImZpbmQiLCJ0aW1lcyIsImJhY2tncm91bmQiLCJmaWx0ZXIiLCJyZXBlYXQiLCJJbWFnZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJpb3JpdHkiLCJBcnJheSIsIl8iLCJpIiwibGVmdCIsInRvcCIsIngiLCJ5IiwiY29zIiwiUEkiLCJzaW4iLCJoMyIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiYXJpYS1sYWJlbCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztRQXdCYUE7ZUFBQUE7O1FBNFZiO2VBQUE7Ozs7K0RBbFgrRDs4QkFDTzs4REFDcEQ7NEJBQ1E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJuQixNQUFNQSw4QkFBMEUsQ0FBQyxFQUN0RkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLGdCQUFnQixLQUFLLEVBQ3JCQyx3QkFBd0IsS0FBSyxFQUM3QkMsY0FBYyxFQUNkQyxnQkFBZ0IsRUFDaEJDLG1CQUFtQixFQUNwQjtJQUNDLE1BQU1DLFNBQVNDLElBQUFBLHFCQUFTO0lBQ3hCLE1BQU1DLG9CQUFvQkMsSUFBQUEsMEJBQVk7SUFDdEMsTUFBTUMsZ0JBQWdCQyxJQUFBQSw0QkFBYyxFQUFDO0lBQ3JDLE1BQU1DLGFBQWFDLElBQUFBLGFBQU0sRUFBd0I7SUFDakQsTUFBTUMsd0JBQXdCRCxJQUFBQSxhQUFNLEVBQWdCO0lBRXBELHVDQUF1QztJQUN2QyxNQUFNRSxvQkFBb0JDLElBQUFBLGNBQU8sRUFBQztRQUNoQyxJQUFJYixnQkFBZ0I7WUFDbEIsT0FBT0E7UUFDVDtRQUNBLElBQUlGLGVBQWU7WUFDakIsT0FBTztRQUNUO1FBQ0EsSUFBSUMsdUJBQXVCO1lBQ3pCLE9BQU87UUFDVCxFQUFFLDhDQUE4QztRQUNoRCxPQUFPLEtBQUssb0JBQW9COztJQUNsQyxHQUFHO1FBQUNDO1FBQWdC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