{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useSidebar.test.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - TESTS PARA HOOK SIDEBAR\r\n// ===================================\r\n\r\nimport { renderHook, act } from '@testing-library/react';\r\nimport { useSidebar } from '@/hooks/useSidebar';\r\n\r\n// Mock para eventos del DOM\r\nconst mockAddEventListener = jest.fn();\r\nconst mockRemoveEventListener = jest.fn();\r\n\r\nbeforeEach(() => {\r\n  // Reset mocks\r\n  mockAddEventListener.mockClear();\r\n  mockRemoveEventListener.mockClear();\r\n  \r\n  // Mock document.addEventListener\r\n  Object.defineProperty(document, 'addEventListener', {\r\n    value: mockAddEventListener,\r\n    writable: true,\r\n  });\r\n  \r\n  Object.defineProperty(document, 'removeEventListener', {\r\n    value: mockRemoveEventListener,\r\n    writable: true,\r\n  });\r\n});\r\n\r\ndescribe('useSidebar', () => {\r\n  it('should initialize with closed state', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    expect(result.current.isOpen).toBe(false);\r\n  });\r\n\r\n  it('should toggle sidebar state', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    act(() => {\r\n      result.current.toggle();\r\n    });\r\n    \r\n    expect(result.current.isOpen).toBe(true);\r\n    \r\n    act(() => {\r\n      result.current.toggle();\r\n    });\r\n    \r\n    expect(result.current.isOpen).toBe(false);\r\n  });\r\n\r\n  it('should open sidebar', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    act(() => {\r\n      result.current.open();\r\n    });\r\n    \r\n    expect(result.current.isOpen).toBe(true);\r\n  });\r\n\r\n  it('should close sidebar', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    // First open it\r\n    act(() => {\r\n      result.current.open();\r\n    });\r\n    \r\n    expect(result.current.isOpen).toBe(true);\r\n    \r\n    // Then close it\r\n    act(() => {\r\n      result.current.close();\r\n    });\r\n    \r\n    expect(result.current.isOpen).toBe(false);\r\n  });\r\n\r\n  it('should add event listeners when sidebar is open', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    act(() => {\r\n      result.current.open();\r\n    });\r\n    \r\n    expect(mockAddEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));\r\n    expect(mockAddEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));\r\n  });\r\n\r\n  it('should remove event listeners when sidebar is closed', () => {\r\n    const { result } = renderHook(() => useSidebar());\r\n    \r\n    // Open sidebar first\r\n    act(() => {\r\n      result.current.open();\r\n    });\r\n    \r\n    // Then close it\r\n    act(() => {\r\n      result.current.close();\r\n    });\r\n    \r\n    expect(mockRemoveEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));\r\n    expect(mockRemoveEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));\r\n  });\r\n\r\n  it('should provide stable function references', () => {\r\n    const { result, rerender } = renderHook(() => useSidebar());\r\n    \r\n    const initialToggle = result.current.toggle;\r\n    const initialOpen = result.current.open;\r\n    const initialClose = result.current.close;\r\n    \r\n    rerender();\r\n    \r\n    expect(result.current.toggle).toBe(initialToggle);\r\n    expect(result.current.open).toBe(initialOpen);\r\n    expect(result.current.close).toBe(initialClose);\r\n  });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["mockAddEventListener","jest","fn","mockRemoveEventListener","beforeEach","mockClear","Object","defineProperty","document","value","writable","describe","it","result","renderHook","useSidebar","expect","current","isOpen","toBe","act","toggle","open","close","toHaveBeenCalledWith","any","Function","rerender","initialToggle","initialOpen","initialClose"],"mappings":"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"}