7f7ff09785985faaaa4fa975eafc32bc
// ===================================
// UTILIDADES DE VALIDACIÓN
// Funciones para validar datos críticos del sistema
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get sanitizeString () {
        return sanitizeString;
    },
    get validateAddress () {
        return validateAddress;
    },
    get validateCurrency () {
        return validateCurrency;
    },
    get validateDate () {
        return validateDate;
    },
    get validateDiscount () {
        return validateDiscount;
    },
    get validateEmail () {
        return validateEmail;
    },
    get validateNumberRange () {
        return validateNumberRange;
    },
    get validateOrderData () {
        return validateOrderData;
    },
    get validatePassword () {
        return validatePassword;
    },
    get validatePaymentData () {
        return validatePaymentData;
    },
    get validatePhone () {
        return validatePhone;
    },
    get validateProductData () {
        return validateProductData;
    },
    get validateQuantity () {
        return validateQuantity;
    },
    get validateRequiredFields () {
        return validateRequiredFields;
    },
    get validateURL () {
        return validateURL;
    }
});
function validateEmail(email) {
    // Handle null, undefined, and non-string values
    if (!email || typeof email !== 'string') {
        return false;
    }
    // Validar longitud total del email
    if (email.length > 254) {
        return false;
    }
    // Validar que no empiece o termine con punto
    if (email.startsWith('.') || email.endsWith('.')) {
        return false;
    }
    // Validar que tenga exactamente un @
    if (email.split('@').length !== 2) {
        return false;
    }
    // Validar longitud de partes locales y dominio
    const [localPart, domain] = email.split('@');
    if (localPart.length === 0 || localPart.length > 64) {
        return false;
    }
    if (domain.length === 0 || domain.length > 253) {
        return false;
    }
    // Validar que no tenga puntos consecutivos
    if (email.includes('..')) {
        return false;
    }
    // El dominio debe tener al menos un punto (TLD requerido)
    if (!domain.includes('.')) {
        return false;
    }
    // Regex para validación de email
    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;
    return emailRegex.test(email);
}
function validatePassword(password) {
    const errors = [];
    let message = '';
    if (!password || typeof password !== 'string') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ],
            message: 'La contraseña debe ser una cadena de texto'
        };
    }
    // Validar longitud mínima
    if (password.length < 8) {
        errors.push('length');
    }
    // Validar mayúscula
    if (!/[A-Z]/.test(password)) {
        errors.push('uppercase');
    }
    // Validar minúscula
    if (!/[a-z]/.test(password)) {
        errors.push('lowercase');
    }
    // Validar número
    if (!/\d/.test(password)) {
        errors.push('number');
    }
    // Validar carácter especial
    if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
        errors.push('special');
    }
    // Generar mensaje de error
    if (errors.length > 0) {
        const errorMessages = {
            length: 'al menos 8 caracteres',
            uppercase: 'al menos una letra mayúscula',
            lowercase: 'al menos una letra minúscula',
            number: 'al menos un número',
            special: 'al menos un carácter especial'
        };
        message = `La contraseña debe contener: ${errors.map((e)=>errorMessages[e]).join(', ')}`;
    }
    return {
        isValid: errors.length === 0,
        errors,
        message
    };
}
function validatePhone(phone, country = 'AR') {
    if (!phone || typeof phone !== 'string') {
        return false;
    }
    // Limpiar el teléfono de espacios y caracteres especiales
    const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
    if (country === 'AR') {
        // Validar teléfonos argentinos
        // Formatos válidos: +541123456789, 1123456789, 01123456789
        const argPhoneRegex = /^(\+54)?0?11\d{8}$|^(\+54)?0?\d{10}$/;
        return argPhoneRegex.test(cleanPhone);
    }
    if (country === 'INTERNATIONAL') {
        // Validar formato internacional básico
        const intPhoneRegex = /^\+\d{10,15}$/;
        return intPhoneRegex.test(cleanPhone);
    }
    return false;
}
function validateProductData(product) {
    const errors = [];
    if (!product || typeof product !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ],
            message: 'Los datos del producto deben ser un objeto'
        };
    }
    // Validar nombre
    if (!product.name || typeof product.name !== 'string') {
        errors.push('name');
    } else if (product.name.length < 3 || product.name.length > 200) {
        errors.push('name_length');
    } else if (/<script|javascript:|on\w+=/i.test(product.name)) {
        errors.push('name_security');
    }
    // Validar precio
    if (typeof product.price !== 'number' || product.price <= 0) {
        errors.push('price');
    } else if (product.price > 9999999) {
        errors.push('price_too_high');
    }
    // Validar stock
    if (typeof product.stock !== 'number' || product.stock < 0) {
        errors.push('stock');
    }
    // Validar categoría
    if (!product.category_id || typeof product.category_id !== 'number') {
        errors.push('category_id');
    }
    // Validar marca
    if (!product.brand || typeof product.brand !== 'string') {
        errors.push('brand');
    }
    // Validar imágenes
    if (!Array.isArray(product.images) || product.images.length === 0) {
        errors.push('images');
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateOrderData(order) {
    const errors = [];
    if (!order || typeof order !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar user_id
    if (!order.user_id || typeof order.user_id !== 'string') {
        errors.push('user_id');
    }
    // Validar items
    if (!Array.isArray(order.items) || order.items.length === 0) {
        errors.push('items_empty');
    } else {
        // Validar cada item
        order.items.forEach((item, index)=>{
            if (!item.product_id || typeof item.product_id !== 'number') {
                errors.push(`item_${index}_product_id`);
            }
            if (!item.quantity || typeof item.quantity !== 'number' || item.quantity <= 0) {
                errors.push(`item_${index}_quantity`);
            }
            if (typeof item.price !== 'number' || item.price <= 0) {
                errors.push(`item_${index}_price`);
            }
        });
    }
    // Validar total
    if (typeof order.total !== 'number' || order.total <= 0) {
        errors.push('total');
    } else if (Array.isArray(order.items) && order.items.length > 0) {
        // Verificar que el total coincida con la suma de items
        const calculatedTotal = order.items.reduce((sum, item)=>{
            return sum + item.quantity * item.price;
        }, 0);
        if (Math.abs(calculatedTotal - order.total) > 0.01) {
            errors.push('total_mismatch');
        }
    }
    // Validar dirección de envío
    const addressValidation = validateAddress(order.shipping_address);
    if (!addressValidation.isValid) {
        errors.push('shipping_address');
    }
    // Validar método de pago
    if (!order.payment_method || typeof order.payment_method !== 'string') {
        errors.push('payment_method');
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validatePaymentData(payment) {
    const errors = [];
    if (!payment || typeof payment !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar método
    if (!payment.method || typeof payment.method !== 'string') {
        errors.push('method');
    }
    // Validar monto
    if (typeof payment.amount !== 'number' || payment.amount <= 0) {
        errors.push('amount');
    }
    // Validar moneda
    if (!validateCurrency(payment.currency)) {
        errors.push('currency');
    }
    // Validaciones específicas para MercadoPago
    if (payment.method === 'mercadopago') {
        if (payment.payer && !validateEmail(payment.payer.email)) {
            errors.push('payer_email');
        }
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateAddress(address) {
    const errors = [];
    if (!address || typeof address !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar campos requeridos básicos
    const requiredFields = [
        'street',
        'city',
        'postal_code',
        'country'
    ];
    requiredFields.forEach((field)=>{
        if (!address[field] || typeof address[field] !== 'string' || address[field].trim() === '') {
            errors.push(field);
        }
    });
    // Validar código postal por país
    if (address.country && address.postal_code) {
        const postalCodeValid = validatePostalCode(address.postal_code, address.country);
        if (!postalCodeValid) {
            errors.push('postal_code_format');
        }
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
// ===================================
// VALIDACIÓN DE CÓDIGO POSTAL
// ===================================
function validatePostalCode(postalCode, country) {
    const patterns = {
        'Argentina': /^\d{4}$/,
        'USA': /^\d{5}(-\d{4})?$/,
        'US': /^\d{5}(-\d{4})?$/,
        'Brazil': /^\d{5}-\d{3}$/,
        'Chile': /^\d{7}$/,
        'Canada': /^[A-Za-z]\d[A-Za-z] \d[A-Za-z]\d$/,
        'UK': /^[A-Z]{1,2}\d[A-Z\d]? \d[A-Z]{2}$/i,
        'Germany': /^\d{5}$/,
        'France': /^\d{5}$/,
        'Spain': /^\d{5}$/,
        'Italy': /^\d{5}$/,
        'Mexico': /^\d{5}$/
    };
    const pattern = patterns[country];
    return pattern ? pattern.test(postalCode) : true; // Si no hay patrón, aceptar
}
function validateCurrency(currency) {
    if (!currency || typeof currency !== 'string') {
        return false;
    }
    const supportedCurrencies = [
        'ARS',
        'USD',
        'EUR',
        'BRL',
        'CLP',
        'UYU'
    ];
    return supportedCurrencies.includes(currency.toUpperCase());
}
function validateQuantity(quantity) {
    if (typeof quantity !== 'number') {
        return false;
    }
    // Debe ser un entero positivo
    if (!Number.isInteger(quantity) || quantity <= 0) {
        return false;
    }
    // Límite máximo de cantidad
    if (quantity > 999) {
        return false;
    }
    return true;
}
function validateDiscount(discount) {
    if (!discount || typeof discount !== 'object') {
        return false;
    }
    // Validar tipo
    if (![
        'percentage',
        'fixed'
    ].includes(discount.type)) {
        return false;
    }
    // Validar valor
    if (typeof discount.value !== 'number' || discount.value < 0) {
        return false;
    }
    // Validaciones específicas por tipo
    if (discount.type === 'percentage') {
        // Porcentaje no puede ser mayor a 100
        if (discount.value > 100) {
            return false;
        }
    }
    if (discount.type === 'fixed') {
        // Descuento fijo debe tener moneda
        if (!discount.currency || !validateCurrency(discount.currency)) {
            return false;
        }
    }
    return true;
}
function sanitizeString(input) {
    if (typeof input !== 'string') {
        return '';
    }
    return input.replace(/<script[^>]*>.*?<\/script>/gi, '') // Remover scripts
    .replace(/<[^>]*>/g, '') // Remover HTML tags
    .replace(/javascript:/gi, '') // Remover javascript:
    .replace(/on\w+=/gi, '') // Remover event handlers
    .trim();
}
function validateRequiredFields(obj, requiredFields) {
    const errors = [];
    if (!obj || typeof obj !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_object'
            ]
        };
    }
    requiredFields.forEach((field)=>{
        if (!(field in obj) || obj[field] === null || obj[field] === undefined || obj[field] === '') {
            errors.push(field);
        }
    });
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateNumberRange(value, min, max) {
    if (typeof value !== 'number') {
        return false;
    }
    return value >= min && value <= max;
}
function validateDate(date) {
    if (!date) {
        return false;
    }
    const parsedDate = new Date(date);
    return !isNaN(parsedDate.getTime());
}
function validateURL(url) {
    if (!url || typeof url !== 'string') {
        return false;
    }
    try {
        new URL(url);
        return true;
    } catch  {
        return false;
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFx1dGlsc1xcdmFsaWRhdG9ycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBVVElMSURBREVTIERFIFZBTElEQUNJw5NOXHJcbi8vIEZ1bmNpb25lcyBwYXJhIHZhbGlkYXIgZGF0b3MgY3LDrXRpY29zIGRlbCBzaXN0ZW1hXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25SZXN1bHQge1xyXG4gIGlzVmFsaWQ6IGJvb2xlYW47XHJcbiAgZXJyb3JzOiBzdHJpbmdbXTtcclxuICBtZXNzYWdlPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3REYXRhIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgcHJpY2U6IG51bWJlcjtcclxuICBzdG9jazogbnVtYmVyO1xyXG4gIGNhdGVnb3J5X2lkOiBudW1iZXI7XHJcbiAgYnJhbmQ6IHN0cmluZztcclxuICBpbWFnZXM6IHN0cmluZ1tdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVySXRlbSB7XHJcbiAgcHJvZHVjdF9pZDogbnVtYmVyO1xyXG4gIHF1YW50aXR5OiBudW1iZXI7XHJcbiAgcHJpY2U6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzIHtcclxuICBzdHJlZXQ6IHN0cmluZztcclxuICBjaXR5OiBzdHJpbmc7XHJcbiAgc3RhdGU6IHN0cmluZztcclxuICBwb3N0YWxfY29kZTogc3RyaW5nO1xyXG4gIGNvdW50cnk6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPcmRlckRhdGEge1xyXG4gIHVzZXJfaWQ6IHN0cmluZztcclxuICBpdGVtczogT3JkZXJJdGVtW107XHJcbiAgdG90YWw6IG51bWJlcjtcclxuICBzaGlwcGluZ19hZGRyZXNzOiBBZGRyZXNzO1xyXG4gIHBheW1lbnRfbWV0aG9kOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudERhdGEge1xyXG4gIG1ldGhvZDogc3RyaW5nO1xyXG4gIGFtb3VudDogbnVtYmVyO1xyXG4gIGN1cnJlbmN5OiBzdHJpbmc7XHJcbiAgcGF5bWVudF9tZXRob2RfaWQ/OiBzdHJpbmc7XHJcbiAgaW5zdGFsbG1lbnRzPzogbnVtYmVyO1xyXG4gIHBheWVyPzoge1xyXG4gICAgZW1haWw6IHN0cmluZztcclxuICAgIGlkZW50aWZpY2F0aW9uPzoge1xyXG4gICAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICAgIG51bWJlcjogc3RyaW5nO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpc2NvdW50RGF0YSB7XHJcbiAgdHlwZTogJ3BlcmNlbnRhZ2UnIHwgJ2ZpeGVkJztcclxuICB2YWx1ZTogbnVtYmVyO1xyXG4gIGN1cnJlbmN5Pzogc3RyaW5nO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBFTUFJTFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoZW1haWw6IGFueSk6IGJvb2xlYW4ge1xyXG4gIC8vIEhhbmRsZSBudWxsLCB1bmRlZmluZWQsIGFuZCBub24tc3RyaW5nIHZhbHVlc1xyXG4gIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBsb25naXR1ZCB0b3RhbCBkZWwgZW1haWxcclxuICBpZiAoZW1haWwubGVuZ3RoID4gMjU0KSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIHF1ZSBubyBlbXBpZWNlIG8gdGVybWluZSBjb24gcHVudG9cclxuICBpZiAoZW1haWwuc3RhcnRzV2l0aCgnLicpIHx8IGVtYWlsLmVuZHNXaXRoKCcuJykpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgcXVlIHRlbmdhIGV4YWN0YW1lbnRlIHVuIEBcclxuICBpZiAoZW1haWwuc3BsaXQoJ0AnKS5sZW5ndGggIT09IDIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgbG9uZ2l0dWQgZGUgcGFydGVzIGxvY2FsZXMgeSBkb21pbmlvXHJcbiAgY29uc3QgW2xvY2FsUGFydCwgZG9tYWluXSA9IGVtYWlsLnNwbGl0KCdAJyk7XHJcbiAgaWYgKGxvY2FsUGFydC5sZW5ndGggPT09IDAgfHwgbG9jYWxQYXJ0Lmxlbmd0aCA+IDY0KSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGlmIChkb21haW4ubGVuZ3RoID09PSAwIHx8IGRvbWFpbi5sZW5ndGggPiAyNTMpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgcXVlIG5vIHRlbmdhIHB1bnRvcyBjb25zZWN1dGl2b3NcclxuICBpZiAoZW1haWwuaW5jbHVkZXMoJy4uJykpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIEVsIGRvbWluaW8gZGViZSB0ZW5lciBhbCBtZW5vcyB1biBwdW50byAoVExEIHJlcXVlcmlkbylcclxuICBpZiAoIWRvbWFpbi5pbmNsdWRlcygnLicpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBSZWdleCBwYXJhIHZhbGlkYWNpw7NuIGRlIGVtYWlsXHJcbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSskL1xyXG4gIFxyXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBDT05UUkFTRcORQVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQ6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICBsZXQgbWVzc2FnZSA9ICcnO1xyXG5cclxuICBpZiAoIXBhc3N3b3JkIHx8IHR5cGVvZiBwYXNzd29yZCAhPT0gJ3N0cmluZycpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICBlcnJvcnM6IFsnaW52YWxpZF90eXBlJ10sXHJcbiAgICAgIG1lc3NhZ2U6ICdMYSBjb250cmFzZcOxYSBkZWJlIHNlciB1bmEgY2FkZW5hIGRlIHRleHRvJ1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgbG9uZ2l0dWQgbcOtbmltYVxyXG4gIGlmIChwYXNzd29yZC5sZW5ndGggPCA4KSB7XHJcbiAgICBlcnJvcnMucHVzaCgnbGVuZ3RoJyk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIG1hecO6c2N1bGFcclxuICBpZiAoIS9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgIGVycm9ycy5wdXNoKCd1cHBlcmNhc2UnKTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgbWluw7pzY3VsYVxyXG4gIGlmICghL1thLXpdLy50ZXN0KHBhc3N3b3JkKSkge1xyXG4gICAgZXJyb3JzLnB1c2goJ2xvd2VyY2FzZScpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBuw7ptZXJvXHJcbiAgaWYgKCEvXFxkLy50ZXN0KHBhc3N3b3JkKSkge1xyXG4gICAgZXJyb3JzLnB1c2goJ251bWJlcicpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBjYXLDoWN0ZXIgZXNwZWNpYWxcclxuICBpZiAoIS9bIUAjJCVeJiooKV8rXFwtPVxcW1xcXXt9Oyc6XCJcXFxcfCwuPD5cXC8/XS8udGVzdChwYXNzd29yZCkpIHtcclxuICAgIGVycm9ycy5wdXNoKCdzcGVjaWFsJyk7XHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmFyIG1lbnNhamUgZGUgZXJyb3JcclxuICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XHJcbiAgICAgIGxlbmd0aDogJ2FsIG1lbm9zIDggY2FyYWN0ZXJlcycsXHJcbiAgICAgIHVwcGVyY2FzZTogJ2FsIG1lbm9zIHVuYSBsZXRyYSBtYXnDunNjdWxhJyxcclxuICAgICAgbG93ZXJjYXNlOiAnYWwgbWVub3MgdW5hIGxldHJhIG1pbsO6c2N1bGEnLFxyXG4gICAgICBudW1iZXI6ICdhbCBtZW5vcyB1biBuw7ptZXJvJyxcclxuICAgICAgc3BlY2lhbDogJ2FsIG1lbm9zIHVuIGNhcsOhY3RlciBlc3BlY2lhbCdcclxuICAgIH07XHJcblxyXG4gICAgbWVzc2FnZSA9IGBMYSBjb250cmFzZcOxYSBkZWJlIGNvbnRlbmVyOiAke2Vycm9ycy5tYXAoZSA9PiBlcnJvck1lc3NhZ2VzW2UgYXMga2V5b2YgdHlwZW9mIGVycm9yTWVzc2FnZXNdKS5qb2luKCcsICcpfWA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgIGVycm9ycyxcclxuICAgIG1lc3NhZ2VcclxuICB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBURUzDiUZPTk9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBob25lKHBob25lOiBhbnksIGNvdW50cnk6ICdBUicgfCAnSU5URVJOQVRJT05BTCcgPSAnQVInKTogYm9vbGVhbiB7XHJcbiAgaWYgKCFwaG9uZSB8fCB0eXBlb2YgcGhvbmUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBMaW1waWFyIGVsIHRlbMOpZm9ubyBkZSBlc3BhY2lvcyB5IGNhcmFjdGVyZXMgZXNwZWNpYWxlc1xyXG4gIGNvbnN0IGNsZWFuUGhvbmUgPSBwaG9uZS5yZXBsYWNlKC9bXFxzXFwtXFwoXFwpXS9nLCAnJyk7XHJcblxyXG4gIGlmIChjb3VudHJ5ID09PSAnQVInKSB7XHJcbiAgICAvLyBWYWxpZGFyIHRlbMOpZm9ub3MgYXJnZW50aW5vc1xyXG4gICAgLy8gRm9ybWF0b3MgdsOhbGlkb3M6ICs1NDExMjM0NTY3ODksIDExMjM0NTY3ODksIDAxMTIzNDU2Nzg5XHJcbiAgICBjb25zdCBhcmdQaG9uZVJlZ2V4ID0gL14oXFwrNTQpPzA/MTFcXGR7OH0kfF4oXFwrNTQpPzA/XFxkezEwfSQvO1xyXG4gICAgcmV0dXJuIGFyZ1Bob25lUmVnZXgudGVzdChjbGVhblBob25lKTtcclxuICB9XHJcblxyXG4gIGlmIChjb3VudHJ5ID09PSAnSU5URVJOQVRJT05BTCcpIHtcclxuICAgIC8vIFZhbGlkYXIgZm9ybWF0byBpbnRlcm5hY2lvbmFsIGLDoXNpY29cclxuICAgIGNvbnN0IGludFBob25lUmVnZXggPSAvXlxcK1xcZHsxMCwxNX0kLztcclxuICAgIHJldHVybiBpbnRQaG9uZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFZBTElEQUNJw5NOIERFIERBVE9TIERFIFBST0RVQ1RPXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQcm9kdWN0RGF0YShwcm9kdWN0OiBhbnkpOiBWYWxpZGF0aW9uUmVzdWx0IHtcclxuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGlmICghcHJvZHVjdCB8fCB0eXBlb2YgcHJvZHVjdCAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICBlcnJvcnM6IFsnaW52YWxpZF90eXBlJ10sXHJcbiAgICAgIG1lc3NhZ2U6ICdMb3MgZGF0b3MgZGVsIHByb2R1Y3RvIGRlYmVuIHNlciB1biBvYmpldG8nXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBub21icmVcclxuICBpZiAoIXByb2R1Y3QubmFtZSB8fCB0eXBlb2YgcHJvZHVjdC5uYW1lICE9PSAnc3RyaW5nJykge1xyXG4gICAgZXJyb3JzLnB1c2goJ25hbWUnKTtcclxuICB9IGVsc2UgaWYgKHByb2R1Y3QubmFtZS5sZW5ndGggPCAzIHx8IHByb2R1Y3QubmFtZS5sZW5ndGggPiAyMDApIHtcclxuICAgIGVycm9ycy5wdXNoKCduYW1lX2xlbmd0aCcpO1xyXG4gIH0gZWxzZSBpZiAoLzxzY3JpcHR8amF2YXNjcmlwdDp8b25cXHcrPS9pLnRlc3QocHJvZHVjdC5uYW1lKSkge1xyXG4gICAgZXJyb3JzLnB1c2goJ25hbWVfc2VjdXJpdHknKTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgcHJlY2lvXHJcbiAgaWYgKHR5cGVvZiBwcm9kdWN0LnByaWNlICE9PSAnbnVtYmVyJyB8fCBwcm9kdWN0LnByaWNlIDw9IDApIHtcclxuICAgIGVycm9ycy5wdXNoKCdwcmljZScpO1xyXG4gIH0gZWxzZSBpZiAocHJvZHVjdC5wcmljZSA+IDk5OTk5OTkpIHtcclxuICAgIGVycm9ycy5wdXNoKCdwcmljZV90b29faGlnaCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBzdG9ja1xyXG4gIGlmICh0eXBlb2YgcHJvZHVjdC5zdG9jayAhPT0gJ251bWJlcicgfHwgcHJvZHVjdC5zdG9jayA8IDApIHtcclxuICAgIGVycm9ycy5wdXNoKCdzdG9jaycpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBjYXRlZ29yw61hXHJcbiAgaWYgKCFwcm9kdWN0LmNhdGVnb3J5X2lkIHx8IHR5cGVvZiBwcm9kdWN0LmNhdGVnb3J5X2lkICE9PSAnbnVtYmVyJykge1xyXG4gICAgZXJyb3JzLnB1c2goJ2NhdGVnb3J5X2lkJyk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIG1hcmNhXHJcbiAgaWYgKCFwcm9kdWN0LmJyYW5kIHx8IHR5cGVvZiBwcm9kdWN0LmJyYW5kICE9PSAnc3RyaW5nJykge1xyXG4gICAgZXJyb3JzLnB1c2goJ2JyYW5kJyk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIGltw6FnZW5lc1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShwcm9kdWN0LmltYWdlcykgfHwgcHJvZHVjdC5pbWFnZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICBlcnJvcnMucHVzaCgnaW1hZ2VzJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgIGVycm9yc1xyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFZBTElEQUNJw5NOIERFIERBVE9TIERFIE9SREVOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPcmRlckRhdGEob3JkZXI6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKCFvcmRlciB8fCB0eXBlb2Ygb3JkZXIgIT09ICdvYmplY3QnKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcclxuICAgICAgZXJyb3JzOiBbJ2ludmFsaWRfdHlwZSddXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciB1c2VyX2lkXHJcbiAgaWYgKCFvcmRlci51c2VyX2lkIHx8IHR5cGVvZiBvcmRlci51c2VyX2lkICE9PSAnc3RyaW5nJykge1xyXG4gICAgZXJyb3JzLnB1c2goJ3VzZXJfaWQnKTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgaXRlbXNcclxuICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXIuaXRlbXMpIHx8IG9yZGVyLml0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgZXJyb3JzLnB1c2goJ2l0ZW1zX2VtcHR5Jyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIFZhbGlkYXIgY2FkYSBpdGVtXHJcbiAgICBvcmRlci5pdGVtcy5mb3JFYWNoKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgaWYgKCFpdGVtLnByb2R1Y3RfaWQgfHwgdHlwZW9mIGl0ZW0ucHJvZHVjdF9pZCAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICBlcnJvcnMucHVzaChgaXRlbV8ke2luZGV4fV9wcm9kdWN0X2lkYCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFpdGVtLnF1YW50aXR5IHx8IHR5cGVvZiBpdGVtLnF1YW50aXR5ICE9PSAnbnVtYmVyJyB8fCBpdGVtLnF1YW50aXR5IDw9IDApIHtcclxuICAgICAgICBlcnJvcnMucHVzaChgaXRlbV8ke2luZGV4fV9xdWFudGl0eWApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0eXBlb2YgaXRlbS5wcmljZSAhPT0gJ251bWJlcicgfHwgaXRlbS5wcmljZSA8PSAwKSB7XHJcbiAgICAgICAgZXJyb3JzLnB1c2goYGl0ZW1fJHtpbmRleH1fcHJpY2VgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIHRvdGFsXHJcbiAgaWYgKHR5cGVvZiBvcmRlci50b3RhbCAhPT0gJ251bWJlcicgfHwgb3JkZXIudG90YWwgPD0gMCkge1xyXG4gICAgZXJyb3JzLnB1c2goJ3RvdGFsJyk7XHJcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9yZGVyLml0ZW1zKSAmJiBvcmRlci5pdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIGVsIHRvdGFsIGNvaW5jaWRhIGNvbiBsYSBzdW1hIGRlIGl0ZW1zXHJcbiAgICBjb25zdCBjYWxjdWxhdGVkVG90YWwgPSBvcmRlci5pdGVtcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBpdGVtOiBhbnkpID0+IHtcclxuICAgICAgcmV0dXJuIHN1bSArIChpdGVtLnF1YW50aXR5ICogaXRlbS5wcmljZSk7XHJcbiAgICB9LCAwKTtcclxuICAgIFxyXG4gICAgaWYgKE1hdGguYWJzKGNhbGN1bGF0ZWRUb3RhbCAtIG9yZGVyLnRvdGFsKSA+IDAuMDEpIHtcclxuICAgICAgZXJyb3JzLnB1c2goJ3RvdGFsX21pc21hdGNoJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIGRpcmVjY2nDs24gZGUgZW52w61vXHJcbiAgY29uc3QgYWRkcmVzc1ZhbGlkYXRpb24gPSB2YWxpZGF0ZUFkZHJlc3Mob3JkZXIuc2hpcHBpbmdfYWRkcmVzcyk7XHJcbiAgaWYgKCFhZGRyZXNzVmFsaWRhdGlvbi5pc1ZhbGlkKSB7XHJcbiAgICBlcnJvcnMucHVzaCgnc2hpcHBpbmdfYWRkcmVzcycpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBtw6l0b2RvIGRlIHBhZ29cclxuICBpZiAoIW9yZGVyLnBheW1lbnRfbWV0aG9kIHx8IHR5cGVvZiBvcmRlci5wYXltZW50X21ldGhvZCAhPT0gJ3N0cmluZycpIHtcclxuICAgIGVycm9ycy5wdXNoKCdwYXltZW50X21ldGhvZCcpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXHJcbiAgICBlcnJvcnNcclxuICB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBEQVRPUyBERSBQQUdPXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXltZW50RGF0YShwYXltZW50OiBhbnkpOiBWYWxpZGF0aW9uUmVzdWx0IHtcclxuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIGlmICghcGF5bWVudCB8fCB0eXBlb2YgcGF5bWVudCAhPT0gJ29iamVjdCcpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICBlcnJvcnM6IFsnaW52YWxpZF90eXBlJ11cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIG3DqXRvZG9cclxuICBpZiAoIXBheW1lbnQubWV0aG9kIHx8IHR5cGVvZiBwYXltZW50Lm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcclxuICAgIGVycm9ycy5wdXNoKCdtZXRob2QnKTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgbW9udG9cclxuICBpZiAodHlwZW9mIHBheW1lbnQuYW1vdW50ICE9PSAnbnVtYmVyJyB8fCBwYXltZW50LmFtb3VudCA8PSAwKSB7XHJcbiAgICBlcnJvcnMucHVzaCgnYW1vdW50Jyk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFyIG1vbmVkYVxyXG4gIGlmICghdmFsaWRhdGVDdXJyZW5jeShwYXltZW50LmN1cnJlbmN5KSkge1xyXG4gICAgZXJyb3JzLnB1c2goJ2N1cnJlbmN5Jyk7XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGFjaW9uZXMgZXNwZWPDrWZpY2FzIHBhcmEgTWVyY2Fkb1BhZ29cclxuICBpZiAocGF5bWVudC5tZXRob2QgPT09ICdtZXJjYWRvcGFnbycpIHtcclxuICAgIGlmIChwYXltZW50LnBheWVyICYmICF2YWxpZGF0ZUVtYWlsKHBheW1lbnQucGF5ZXIuZW1haWwpKSB7XHJcbiAgICAgIGVycm9ycy5wdXNoKCdwYXllcl9lbWFpbCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXHJcbiAgICBlcnJvcnNcclxuICB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBESVJFQ0NJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBZGRyZXNzKGFkZHJlc3M6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgaWYgKCFhZGRyZXNzIHx8IHR5cGVvZiBhZGRyZXNzICE9PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgIGVycm9yczogWydpbnZhbGlkX3R5cGUnXVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgY2FtcG9zIHJlcXVlcmlkb3MgYsOhc2ljb3NcclxuICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnc3RyZWV0JywgJ2NpdHknLCAncG9zdGFsX2NvZGUnLCAnY291bnRyeSddO1xyXG4gIHJlcXVpcmVkRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgaWYgKCFhZGRyZXNzW2ZpZWxkXSB8fCB0eXBlb2YgYWRkcmVzc1tmaWVsZF0gIT09ICdzdHJpbmcnIHx8IGFkZHJlc3NbZmllbGRdLnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgZXJyb3JzLnB1c2goZmllbGQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBWYWxpZGFyIGPDs2RpZ28gcG9zdGFsIHBvciBwYcOtc1xyXG4gIGlmIChhZGRyZXNzLmNvdW50cnkgJiYgYWRkcmVzcy5wb3N0YWxfY29kZSkge1xyXG4gICAgY29uc3QgcG9zdGFsQ29kZVZhbGlkID0gdmFsaWRhdGVQb3N0YWxDb2RlKGFkZHJlc3MucG9zdGFsX2NvZGUsIGFkZHJlc3MuY291bnRyeSk7XHJcbiAgICBpZiAoIXBvc3RhbENvZGVWYWxpZCkge1xyXG4gICAgICBlcnJvcnMucHVzaCgncG9zdGFsX2NvZGVfZm9ybWF0Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcclxuICAgIGVycm9yc1xyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFZBTElEQUNJw5NOIERFIEPDk0RJR08gUE9TVEFMXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVBvc3RhbENvZGUocG9zdGFsQ29kZTogc3RyaW5nLCBjb3VudHJ5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBwYXR0ZXJuczogeyBba2V5OiBzdHJpbmddOiBSZWdFeHAgfSA9IHtcclxuICAgICdBcmdlbnRpbmEnOiAvXlxcZHs0fSQvLFxyXG4gICAgJ1VTQSc6IC9eXFxkezV9KC1cXGR7NH0pPyQvLFxyXG4gICAgJ1VTJzogL15cXGR7NX0oLVxcZHs0fSk/JC8sXHJcbiAgICAnQnJhemlsJzogL15cXGR7NX0tXFxkezN9JC8sXHJcbiAgICAnQ2hpbGUnOiAvXlxcZHs3fSQvLFxyXG4gICAgJ0NhbmFkYSc6IC9eW0EtWmEtel1cXGRbQS1aYS16XSBcXGRbQS1aYS16XVxcZCQvLFxyXG4gICAgJ1VLJzogL15bQS1aXXsxLDJ9XFxkW0EtWlxcZF0/IFxcZFtBLVpdezJ9JC9pLFxyXG4gICAgJ0dlcm1hbnknOiAvXlxcZHs1fSQvLFxyXG4gICAgJ0ZyYW5jZSc6IC9eXFxkezV9JC8sXHJcbiAgICAnU3BhaW4nOiAvXlxcZHs1fSQvLFxyXG4gICAgJ0l0YWx5JzogL15cXGR7NX0kLyxcclxuICAgICdNZXhpY28nOiAvXlxcZHs1fSQvXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcGF0dGVybiA9IHBhdHRlcm5zW2NvdW50cnldO1xyXG4gIHJldHVybiBwYXR0ZXJuID8gcGF0dGVybi50ZXN0KHBvc3RhbENvZGUpIDogdHJ1ZTsgLy8gU2kgbm8gaGF5IHBhdHLDs24sIGFjZXB0YXJcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVkFMSURBQ0nDk04gREUgTU9ORURBXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDdXJyZW5jeShjdXJyZW5jeTogYW55KTogYm9vbGVhbiB7XHJcbiAgaWYgKCFjdXJyZW5jeSB8fCB0eXBlb2YgY3VycmVuY3kgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdXBwb3J0ZWRDdXJyZW5jaWVzID0gWydBUlMnLCAnVVNEJywgJ0VVUicsICdCUkwnLCAnQ0xQJywgJ1VZVSddO1xyXG4gIHJldHVybiBzdXBwb3J0ZWRDdXJyZW5jaWVzLmluY2x1ZGVzKGN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDScOTTiBERSBDQU5USURBRFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUXVhbnRpdHkocXVhbnRpdHk6IGFueSk6IGJvb2xlYW4ge1xyXG4gIGlmICh0eXBlb2YgcXVhbnRpdHkgIT09ICdudW1iZXInKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBEZWJlIHNlciB1biBlbnRlcm8gcG9zaXRpdm9cclxuICBpZiAoIU51bWJlci5pc0ludGVnZXIocXVhbnRpdHkpIHx8IHF1YW50aXR5IDw9IDApIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIEzDrW1pdGUgbcOheGltbyBkZSBjYW50aWRhZFxyXG4gIGlmIChxdWFudGl0eSA+IDk5OSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFZBTElEQUNJw5NOIERFIERFU0NVRU5UT1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRGlzY291bnQoZGlzY291bnQ6IGFueSk6IGJvb2xlYW4ge1xyXG4gIGlmICghZGlzY291bnQgfHwgdHlwZW9mIGRpc2NvdW50ICE9PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciB0aXBvXHJcbiAgaWYgKCFbJ3BlcmNlbnRhZ2UnLCAnZml4ZWQnXS5pbmNsdWRlcyhkaXNjb3VudC50eXBlKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciB2YWxvclxyXG4gIGlmICh0eXBlb2YgZGlzY291bnQudmFsdWUgIT09ICdudW1iZXInIHx8IGRpc2NvdW50LnZhbHVlIDwgMCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhY2lvbmVzIGVzcGVjw61maWNhcyBwb3IgdGlwb1xyXG4gIGlmIChkaXNjb3VudC50eXBlID09PSAncGVyY2VudGFnZScpIHtcclxuICAgIC8vIFBvcmNlbnRhamUgbm8gcHVlZGUgc2VyIG1heW9yIGEgMTAwXHJcbiAgICBpZiAoZGlzY291bnQudmFsdWUgPiAxMDApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGRpc2NvdW50LnR5cGUgPT09ICdmaXhlZCcpIHtcclxuICAgIC8vIERlc2N1ZW50byBmaWpvIGRlYmUgdGVuZXIgbW9uZWRhXHJcbiAgICBpZiAoIWRpc2NvdW50LmN1cnJlbmN5IHx8ICF2YWxpZGF0ZUN1cnJlbmN5KGRpc2NvdW50LmN1cnJlbmN5KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVVRJTElEQURFUyBBRElDSU9OQUxFU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFNhbml0aXphIHVuYSBjYWRlbmEgZGUgdGV4dG8gcmVtb3ZpZW5kbyBjYXJhY3RlcmVzIHBlbGlncm9zb3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVN0cmluZyhpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlucHV0XHJcbiAgICAucmVwbGFjZSgvPHNjcmlwdFtePl0qPi4qPzxcXC9zY3JpcHQ+L2dpLCAnJykgLy8gUmVtb3ZlciBzY3JpcHRzXHJcbiAgICAucmVwbGFjZSgvPFtePl0qPi9nLCAnJykgLy8gUmVtb3ZlciBIVE1MIHRhZ3NcclxuICAgIC5yZXBsYWNlKC9qYXZhc2NyaXB0Oi9naSwgJycpIC8vIFJlbW92ZXIgamF2YXNjcmlwdDpcclxuICAgIC5yZXBsYWNlKC9vblxcdys9L2dpLCAnJykgLy8gUmVtb3ZlciBldmVudCBoYW5kbGVyc1xyXG4gICAgLnRyaW0oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYSBxdWUgdW4gb2JqZXRvIHRlbmdhIHRvZGFzIGxhcyBwcm9waWVkYWRlcyByZXF1ZXJpZGFzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZEZpZWxkcyhvYmo6IGFueSwgcmVxdWlyZWRGaWVsZHM6IHN0cmluZ1tdKTogVmFsaWRhdGlvblJlc3VsdCB7XHJcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgIGVycm9yczogWydpbnZhbGlkX29iamVjdCddXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmVxdWlyZWRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICBpZiAoIShmaWVsZCBpbiBvYmopIHx8IG9ialtmaWVsZF0gPT09IG51bGwgfHwgb2JqW2ZpZWxkXSA9PT0gdW5kZWZpbmVkIHx8IG9ialtmaWVsZF0gPT09ICcnKSB7XHJcbiAgICAgIGVycm9ycy5wdXNoKGZpZWxkKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXHJcbiAgICBlcnJvcnNcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhIHVuIHJhbmdvIG51bcOpcmljb1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyUmFuZ2UodmFsdWU6IGFueSwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPD0gbWF4O1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhIHVuYSBmZWNoYVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZShkYXRlOiBhbnkpOiBib29sZWFuIHtcclxuICBpZiAoIWRhdGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICByZXR1cm4gIWlzTmFOKHBhcnNlZERhdGUuZ2V0VGltZSgpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYSB1bmEgVVJMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVVUkwodXJsOiBhbnkpOiBib29sZWFuIHtcclxuICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIG5ldyBVUkwodXJsKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsic2FuaXRpemVTdHJpbmciLCJ2YWxpZGF0ZUFkZHJlc3MiLCJ2YWxpZGF0ZUN1cnJlbmN5IiwidmFsaWRhdGVEYXRlIiwidmFsaWRhdGVEaXNjb3VudCIsInZhbGlkYXRlRW1haWwiLCJ2YWxpZGF0ZU51bWJlclJhbmdlIiwidmFsaWRhdGVPcmRlckRhdGEiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwidmFsaWRhdGVQYXltZW50RGF0YSIsInZhbGlkYXRlUGhvbmUiLCJ2YWxpZGF0ZVByb2R1Y3REYXRhIiwidmFsaWRhdGVRdWFudGl0eSIsInZhbGlkYXRlUmVxdWlyZWRGaWVsZHMiLCJ2YWxpZGF0ZVVSTCIsImVtYWlsIiwibGVuZ3RoIiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwic3BsaXQiLCJsb2NhbFBhcnQiLCJkb21haW4iLCJpbmNsdWRlcyIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwicGFzc3dvcmQiLCJlcnJvcnMiLCJtZXNzYWdlIiwiaXNWYWxpZCIsInB1c2giLCJlcnJvck1lc3NhZ2VzIiwidXBwZXJjYXNlIiwibG93ZXJjYXNlIiwibnVtYmVyIiwic3BlY2lhbCIsIm1hcCIsImUiLCJqb2luIiwicGhvbmUiLCJjb3VudHJ5IiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJhcmdQaG9uZVJlZ2V4IiwiaW50UGhvbmVSZWdleCIsInByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJzdG9jayIsImNhdGVnb3J5X2lkIiwiYnJhbmQiLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZXMiLCJvcmRlciIsInVzZXJfaWQiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJwcm9kdWN0X2lkIiwicXVhbnRpdHkiLCJ0b3RhbCIsImNhbGN1bGF0ZWRUb3RhbCIsInJlZHVjZSIsInN1bSIsIk1hdGgiLCJhYnMiLCJhZGRyZXNzVmFsaWRhdGlvbiIsInNoaXBwaW5nX2FkZHJlc3MiLCJwYXltZW50X21ldGhvZCIsInBheW1lbnQiLCJtZXRob2QiLCJhbW91bnQiLCJjdXJyZW5jeSIsInBheWVyIiwiYWRkcmVzcyIsInJlcXVpcmVkRmllbGRzIiwiZmllbGQiLCJ0cmltIiwicG9zdGFsX2NvZGUiLCJwb3N0YWxDb2RlVmFsaWQiLCJ2YWxpZGF0ZVBvc3RhbENvZGUiLCJwb3N0YWxDb2RlIiwicGF0dGVybnMiLCJwYXR0ZXJuIiwic3VwcG9ydGVkQ3VycmVuY2llcyIsInRvVXBwZXJDYXNlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZGlzY291bnQiLCJ0eXBlIiwidmFsdWUiLCJpbnB1dCIsIm9iaiIsInVuZGVmaW5lZCIsIm1pbiIsIm1heCIsImRhdGUiLCJwYXJzZWREYXRlIiwiRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsInVybCIsIlVSTCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDJCQUEyQjtBQUMzQixvREFBb0Q7QUFDcEQsc0NBQXNDOzs7Ozs7Ozs7Ozs7UUEwZnRCQTtlQUFBQTs7UUF2SUFDO2VBQUFBOztRQTREQUM7ZUFBQUE7O1FBK0hBQztlQUFBQTs7UUE1RkFDO2VBQUFBOztRQWpaQUM7ZUFBQUE7O1FBa2VBQztlQUFBQTs7UUE5UkFDO2VBQUFBOztRQWxKQUM7ZUFBQUE7O1FBc05BQztlQUFBQTs7UUF6SkFDO2VBQUFBOztRQTRCQUM7ZUFBQUE7O1FBZ1BBQztlQUFBQTs7UUE4RUFDO2VBQUFBOztRQWdEQUM7ZUFBQUE7OztBQXpmVCxTQUFTVCxjQUFjVSxLQUFVO0lBQ3RDLGdEQUFnRDtJQUNoRCxJQUFJLENBQUNBLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3ZDLE9BQU87SUFDVDtJQUVBLG1DQUFtQztJQUNuQyxJQUFJQSxNQUFNQyxNQUFNLEdBQUcsS0FBSztRQUN0QixPQUFPO0lBQ1Q7SUFFQSw2Q0FBNkM7SUFDN0MsSUFBSUQsTUFBTUUsVUFBVSxDQUFDLFFBQVFGLE1BQU1HLFFBQVEsQ0FBQyxNQUFNO1FBQ2hELE9BQU87SUFDVDtJQUVBLHFDQUFxQztJQUNyQyxJQUFJSCxNQUFNSSxLQUFLLENBQUMsS0FBS0gsTUFBTSxLQUFLLEdBQUc7UUFDakMsT0FBTztJQUNUO0lBRUEsK0NBQStDO0lBQy9DLE1BQU0sQ0FBQ0ksV0FBV0MsT0FBTyxHQUFHTixNQUFNSSxLQUFLLENBQUM7SUFDeEMsSUFBSUMsVUFBVUosTUFBTSxLQUFLLEtBQUtJLFVBQVVKLE1BQU0sR0FBRyxJQUFJO1FBQ25ELE9BQU87SUFDVDtJQUNBLElBQUlLLE9BQU9MLE1BQU0sS0FBSyxLQUFLSyxPQUFP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