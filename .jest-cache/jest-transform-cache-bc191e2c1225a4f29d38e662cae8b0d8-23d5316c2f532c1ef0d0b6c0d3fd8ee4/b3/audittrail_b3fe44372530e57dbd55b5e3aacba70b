9917beb8ce1e2356c315d7d97f14e9b5
// ===================================
// PINTEYA E-COMMERCE - AUDIT TRAIL SYSTEM ENTERPRISE
// ===================================
"use strict";

/* istanbul ignore next */
function cov_2bj1wqhdfe() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\security\\audit-trail.ts";
  var hash = "8feee01a9f6909e4d0012071fa55595421c1a795";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\security\\audit-trail.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 7,
          column: 3
        }
      },
      "1": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "2": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 48,
          column: 3
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 29
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 27
        }
      },
      "6": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 29
        }
      },
      "7": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 33
        }
      },
      "8": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 34
        }
      },
      "9": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 26
        }
      },
      "10": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 30
        }
      },
      "11": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 33
        }
      },
      "12": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 29
        }
      },
      "13": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 31
        }
      },
      "14": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 46,
          column: 36
        }
      },
      "15": {
        start: {
          line: 49,
          column: 16
        },
        end: {
          line: 49,
          column: 47
        }
      },
      "16": {
        start: {
          line: 50,
          column: 18
        },
        end: {
          line: 50,
          column: 53
        }
      },
      "17": {
        start: {
          line: 51,
          column: 30
        },
        end: {
          line: 51,
          column: 73
        }
      },
      "18": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 55,
          column: 6
        }
      },
      "19": {
        start: {
          line: 57,
          column: 34
        },
        end: {
          line: 63,
          column: 5
        }
      },
      "20": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 33
        }
      },
      "21": {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 39
        }
      },
      "22": {
        start: {
          line: 60,
          column: 4
        },
        end: {
          line: 60,
          column: 35
        }
      },
      "23": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 43
        }
      },
      "24": {
        start: {
          line: 62,
          column: 4
        },
        end: {
          line: 62,
          column: 25
        }
      },
      "25": {
        start: {
          line: 64,
          column: 34
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "26": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 65,
          column: 55
        }
      },
      "27": {
        start: {
          line: 66,
          column: 4
        },
        end: {
          line: 66,
          column: 53
        }
      },
      "28": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 49
        }
      },
      "29": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 68,
          column: 61
        }
      },
      "30": {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 69,
          column: 63
        }
      },
      "31": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 69
        }
      },
      "32": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 63
        }
      },
      "33": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 67
        }
      },
      "34": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 73,
          column: 49
        }
      },
      "35": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 74,
          column: 59
        }
      },
      "36": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 75,
          column: 25
        }
      },
      "37": {
        start: {
          line: 77,
          column: 32
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "38": {
        start: {
          line: 78,
          column: 4
        },
        end: {
          line: 78,
          column: 39
        }
      },
      "39": {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 79,
          column: 39
        }
      },
      "40": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 80,
          column: 39
        }
      },
      "41": {
        start: {
          line: 81,
          column: 4
        },
        end: {
          line: 81,
          column: 49
        }
      },
      "42": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 82,
          column: 35
        }
      },
      "43": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 83,
          column: 23
        }
      },
      "44": {
        start: {
          line: 85,
          column: 27
        },
        end: {
          line: 122,
          column: 1
        }
      },
      "45": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 125,
          column: 83
        }
      },
      "46": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "47": {
        start: {
          line: 127,
          column: 12
        },
        end: {
          line: 127,
          column: 155
        }
      },
      "48": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 133,
          column: 9
        }
      },
      "49": {
        start: {
          line: 132,
          column: 12
        },
        end: {
          line: 132,
          column: 65
        }
      },
      "50": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 134,
          column: 42
        }
      },
      "51": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 168,
          column: 9
        }
      },
      "52": {
        start: {
          line: 140,
          column: 31
        },
        end: {
          line: 145,
          column: 13
        }
      },
      "53": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 147,
          column: 65
        }
      },
      "54": {
        start: {
          line: 149,
          column: 12
        },
        end: {
          line: 149,
          column: 51
        }
      },
      "55": {
        start: {
          line: 151,
          column: 12
        },
        end: {
          line: 153,
          column: 13
        }
      },
      "56": {
        start: {
          line: 152,
          column: 16
        },
        end: {
          line: 152,
          column: 57
        }
      },
      "57": {
        start: {
          line: 155,
          column: 12
        },
        end: {
          line: 161,
          column: 15
        }
      },
      "58": {
        start: {
          line: 163,
          column: 12
        },
        end: {
          line: 167,
          column: 43
        }
      },
      "59": {
        start: {
          line: 173,
          column: 8
        },
        end: {
          line: 188,
          column: 11
        }
      },
      "60": {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 211,
          column: 11
        }
      },
      "61": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 234,
          column: 11
        }
      },
      "62": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 253,
          column: 11
        }
      },
      "63": {
        start: {
          line: 258,
          column: 8
        },
        end: {
          line: 273,
          column: 11
        }
      },
      "64": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 278,
          column: 87
        }
      },
      "65": {
        start: {
          line: 283,
          column: 28
        },
        end: {
          line: 291,
          column: 10
        }
      },
      "66": {
        start: {
          line: 292,
          column: 8
        },
        end: {
          line: 292,
          column: 102
        }
      },
      "67": {
        start: {
          line: 297,
          column: 25
        },
        end: {
          line: 297,
          column: 63
        }
      },
      "68": {
        start: {
          line: 298,
          column: 8
        },
        end: {
          line: 300,
          column: 9
        }
      },
      "69": {
        start: {
          line: 299,
          column: 12
        },
        end: {
          line: 299,
          column: 79
        }
      },
      "70": {
        start: {
          line: 301,
          column: 26
        },
        end: {
          line: 317,
          column: 10
        }
      },
      "71": {
        start: {
          line: 318,
          column: 8
        },
        end: {
          line: 320,
          column: 9
        }
      },
      "72": {
        start: {
          line: 319,
          column: 12
        },
        end: {
          line: 319,
          column: 77
        }
      },
      "73": {
        start: {
          line: 325,
          column: 8
        },
        end: {
          line: 325,
          column: 181
        }
      },
      "74": {
        start: {
          line: 330,
          column: 8
        },
        end: {
          line: 349,
          column: 9
        }
      },
      "75": {
        start: {
          line: 332,
          column: 12
        },
        end: {
          line: 340,
          column: 15
        }
      },
      "76": {
        start: {
          line: 345,
          column: 12
        },
        end: {
          line: 348,
          column: 43
        }
      },
      "77": {
        start: {
          line: 354,
          column: 29
        },
        end: {
          line: 357,
          column: 10
        }
      },
      "78": {
        start: {
          line: 358,
          column: 8
        },
        end: {
          line: 358,
          column: 43
        }
      },
      "79": {
        start: {
          line: 363,
          column: 25
        },
        end: {
          line: 363,
          column: 63
        }
      },
      "80": {
        start: {
          line: 364,
          column: 8
        },
        end: {
          line: 366,
          column: 9
        }
      },
      "81": {
        start: {
          line: 365,
          column: 12
        },
        end: {
          line: 365,
          column: 61
        }
      },
      "82": {
        start: {
          line: 367,
          column: 20
        },
        end: {
          line: 369,
          column: 10
        }
      },
      "83": {
        start: {
          line: 370,
          column: 8
        },
        end: {
          line: 372,
          column: 9
        }
      },
      "84": {
        start: {
          line: 371,
          column: 12
        },
        end: {
          line: 371,
          column: 56
        }
      },
      "85": {
        start: {
          line: 373,
          column: 8
        },
        end: {
          line: 375,
          column: 9
        }
      },
      "86": {
        start: {
          line: 374,
          column: 12
        },
        end: {
          line: 374,
          column: 59
        }
      },
      "87": {
        start: {
          line: 376,
          column: 8
        },
        end: {
          line: 378,
          column: 9
        }
      },
      "88": {
        start: {
          line: 377,
          column: 12
        },
        end: {
          line: 377,
          column: 59
        }
      },
      "89": {
        start: {
          line: 379,
          column: 8
        },
        end: {
          line: 381,
          column: 9
        }
      },
      "90": {
        start: {
          line: 380,
          column: 12
        },
        end: {
          line: 380,
          column: 62
        }
      },
      "91": {
        start: {
          line: 382,
          column: 8
        },
        end: {
          line: 384,
          column: 9
        }
      },
      "92": {
        start: {
          line: 383,
          column: 12
        },
        end: {
          line: 383,
          column: 60
        }
      },
      "93": {
        start: {
          line: 385,
          column: 8
        },
        end: {
          line: 387,
          column: 9
        }
      },
      "94": {
        start: {
          line: 386,
          column: 12
        },
        end: {
          line: 386,
          column: 47
        }
      },
      "95": {
        start: {
          line: 388,
          column: 32
        },
        end: {
          line: 388,
          column: 43
        }
      },
      "96": {
        start: {
          line: 389,
          column: 8
        },
        end: {
          line: 391,
          column: 9
        }
      },
      "97": {
        start: {
          line: 390,
          column: 12
        },
        end: {
          line: 390,
          column: 81
        }
      },
      "98": {
        start: {
          line: 392,
          column: 8
        },
        end: {
          line: 392,
          column: 26
        }
      },
      "99": {
        start: {
          line: 395,
          column: 19
        },
        end: {
          line: 395,
          column: 50
        }
      },
      "100": {
        start: {
          line: 396,
          column: 26
        },
        end: {
          line: 396,
          column: 71
        }
      },
      "101": {
        start: {
          line: 397,
          column: 24
        },
        end: {
          line: 397,
          column: 67
        }
      },
      "102": {
        start: {
          line: 398,
          column: 29
        },
        end: {
          line: 398,
          column: 77
        }
      },
      "103": {
        start: {
          line: 399,
          column: 22
        },
        end: {
          line: 399,
          column: 63
        }
      },
      "104": {
        start: {
          line: 400,
          column: 23
        },
        end: {
          line: 400,
          column: 65
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 16
          }
        },
        loc: {
          start: {
            line: 8,
            column: 30
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 25
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 23
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 25
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 29
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 30
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 22
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 30
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 26
          },
          end: {
            line: 35,
            column: 5
          }
        },
        line: 33
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        loc: {
          start: {
            line: 36,
            column: 29
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 36
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        loc: {
          start: {
            line: 39,
            column: 25
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 39
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 42,
            column: 4
          },
          end: {
            line: 42,
            column: 5
          }
        },
        loc: {
          start: {
            line: 42,
            column: 27
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 42
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 45,
            column: 5
          }
        },
        loc: {
          start: {
            line: 45,
            column: 32
          },
          end: {
            line: 47,
            column: 5
          }
        },
        line: 45
      },
      "12": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 52,
            column: 9
          },
          end: {
            line: 52,
            column: 33
          }
        },
        loc: {
          start: {
            line: 52,
            column: 39
          },
          end: {
            line: 56,
            column: 1
          }
        },
        line: 52
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 57,
            column: 34
          },
          end: {
            line: 57,
            column: 35
          }
        },
        loc: {
          start: {
            line: 57,
            column: 58
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 57
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 64,
            column: 34
          },
          end: {
            line: 64,
            column: 35
          }
        },
        loc: {
          start: {
            line: 64,
            column: 58
          },
          end: {
            line: 76,
            column: 1
          }
        },
        line: 64
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 77,
            column: 32
          },
          end: {
            line: 77,
            column: 33
          }
        },
        loc: {
          start: {
            line: 77,
            column: 54
          },
          end: {
            line: 84,
            column: 1
          }
        },
        line: 77
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 124,
            column: 4
          },
          end: {
            line: 124,
            column: 5
          }
        },
        loc: {
          start: {
            line: 124,
            column: 17
          },
          end: {
            line: 129,
            column: 5
          }
        },
        line: 124
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 130,
            column: 4
          },
          end: {
            line: 130,
            column: 5
          }
        },
        loc: {
          start: {
            line: 130,
            column: 25
          },
          end: {
            line: 135,
            column: 5
          }
        },
        line: 130
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 138,
            column: 6
          },
          end: {
            line: 138,
            column: 7
          }
        },
        loc: {
          start: {
            line: 138,
            column: 32
          },
          end: {
            line: 169,
            column: 5
          }
        },
        line: 138
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 172,
            column: 6
          },
          end: {
            line: 172,
            column: 7
          }
        },
        loc: {
          start: {
            line: 172,
            column: 73
          },
          end: {
            line: 189,
            column: 5
          }
        },
        line: 172
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 192,
            column: 6
          },
          end: {
            line: 192,
            column: 7
          }
        },
        loc: {
          start: {
            line: 192,
            column: 74
          },
          end: {
            line: 212,
            column: 5
          }
        },
        line: 192
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 215,
            column: 6
          },
          end: {
            line: 215,
            column: 7
          }
        },
        loc: {
          start: {
            line: 215,
            column: 69
          },
          end: {
            line: 235,
            column: 5
          }
        },
        line: 215
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 238,
            column: 6
          },
          end: {
            line: 238,
            column: 7
          }
        },
        loc: {
          start: {
            line: 238,
            column: 79
          },
          end: {
            line: 254,
            column: 5
          }
        },
        line: 238
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 257,
            column: 6
          },
          end: {
            line: 257,
            column: 7
          }
        },
        loc: {
          start: {
            line: 257,
            column: 80
          },
          end: {
            line: 274,
            column: 5
          }
        },
        line: 257
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 277,
            column: 6
          },
          end: {
            line: 277,
            column: 7
          }
        },
        loc: {
          start: {
            line: 277,
            column: 24
          },
          end: {
            line: 279,
            column: 5
          }
        },
        line: 277
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 282,
            column: 6
          },
          end: {
            line: 282,
            column: 7
          }
        },
        loc: {
          start: {
            line: 282,
            column: 31
          },
          end: {
            line: 293,
            column: 5
          }
        },
        line: 282
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 296,
            column: 6
          },
          end: {
            line: 296,
            column: 7
          }
        },
        loc: {
          start: {
            line: 296,
            column: 35
          },
          end: {
            line: 321,
            column: 5
          }
        },
        line: 296
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 324,
            column: 6
          },
          end: {
            line: 324,
            column: 7
          }
        },
        loc: {
          start: {
            line: 324,
            column: 27
          },
          end: {
            line: 326,
            column: 5
          }
        },
        line: 324
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 329,
            column: 6
          },
          end: {
            line: 329,
            column: 7
          }
        },
        loc: {
          start: {
            line: 329,
            column: 37
          },
          end: {
            line: 350,
            column: 5
          }
        },
        line: 329
      },
      "29": {
        name: "(anonymous_29)",
        decl: {
          start: {
            line: 353,
            column: 6
          },
          end: {
            line: 353,
            column: 7
          }
        },
        loc: {
          start: {
            line: 353,
            column: 40
          },
          end: {
            line: 359,
            column: 5
          }
        },
        line: 353
      },
      "30": {
        name: "(anonymous_30)",
        decl: {
          start: {
            line: 362,
            column: 6
          },
          end: {
            line: 362,
            column: 7
          }
        },
        loc: {
          start: {
            line: 362,
            column: 36
          },
          end: {
            line: 393,
            column: 5
          }
        },
        line: 362
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 53,
            column: 11
          },
          end: {
            line: 55,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 53,
            column: 35
          },
          end: {
            line: 53,
            column: 38
          }
        }, {
          start: {
            line: 53,
            column: 41
          },
          end: {
            line: 55,
            column: 5
          }
        }],
        line: 53
      },
      "1": {
        loc: {
          start: {
            line: 53,
            column: 11
          },
          end: {
            line: 53,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 11
          },
          end: {
            line: 53,
            column: 14
          }
        }, {
          start: {
            line: 53,
            column: 18
          },
          end: {
            line: 53,
            column: 32
          }
        }],
        line: 53
      },
      "2": {
        loc: {
          start: {
            line: 125,
            column: 25
          },
          end: {
            line: 125,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 125,
            column: 25
          },
          end: {
            line: 125,
            column: 59
          }
        }, {
          start: {
            line: 125,
            column: 63
          },
          end: {
            line: 125,
            column: 82
          }
        }],
        line: 125
      },
      "3": {
        loc: {
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 126
      },
      "4": {
        loc: {
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 133,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 133,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 131
      },
      "5": {
        loc: {
          start: {
            line: 151,
            column: 12
          },
          end: {
            line: 153,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 12
          },
          end: {
            line: 153,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "6": {
        loc: {
          start: {
            line: 164,
            column: 23
          },
          end: {
            line: 164,
            column: 79
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 164,
            column: 48
          },
          end: {
            line: 164,
            column: 61
          }
        }, {
          start: {
            line: 164,
            column: 64
          },
          end: {
            line: 164,
            column: 79
          }
        }],
        line: 164
      },
      "7": {
        loc: {
          start: {
            line: 179,
            column: 22
          },
          end: {
            line: 179,
            column: 62
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 179,
            column: 45
          },
          end: {
            line: 179,
            column: 51
          }
        }, {
          start: {
            line: 179,
            column: 54
          },
          end: {
            line: 179,
            column: 62
          }
        }],
        line: 179
      },
      "8": {
        loc: {
          start: {
            line: 181,
            column: 23
          },
          end: {
            line: 181,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 181,
            column: 23
          },
          end: {
            line: 181,
            column: 34
          }
        }, {
          start: {
            line: 181,
            column: 38
          },
          end: {
            line: 181,
            column: 47
          }
        }],
        line: 181
      },
      "9": {
        loc: {
          start: {
            line: 182,
            column: 23
          },
          end: {
            line: 182,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 182,
            column: 23
          },
          end: {
            line: 182,
            column: 41
          }
        }, {
          start: {
            line: 182,
            column: 45
          },
          end: {
            line: 182,
            column: 54
          }
        }],
        line: 182
      },
      "10": {
        loc: {
          start: {
            line: 196,
            column: 33
          },
          end: {
            line: 196,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 196,
            column: 33
          },
          end: {
            line: 196,
            column: 54
          }
        }, {
          start: {
            line: 196,
            column: 58
          },
          end: {
            line: 196,
            column: 67
          }
        }],
        line: 196
      },
      "11": {
        loc: {
          start: {
            line: 198,
            column: 22
          },
          end: {
            line: 198,
            column: 59
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 198,
            column: 45
          },
          end: {
            line: 198,
            column: 51
          }
        }, {
          start: {
            line: 198,
            column: 54
          },
          end: {
            line: 198,
            column: 59
          }
        }],
        line: 198
      },
      "12": {
        loc: {
          start: {
            line: 200,
            column: 23
          },
          end: {
            line: 200,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 200,
            column: 23
          },
          end: {
            line: 200,
            column: 34
          }
        }, {
          start: {
            line: 200,
            column: 38
          },
          end: {
            line: 200,
            column: 47
          }
        }],
        line: 200
      },
      "13": {
        loc: {
          start: {
            line: 201,
            column: 23
          },
          end: {
            line: 201,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 201,
            column: 23
          },
          end: {
            line: 201,
            column: 41
          }
        }, {
          start: {
            line: 201,
            column: 45
          },
          end: {
            line: 201,
            column: 54
          }
        }],
        line: 201
      },
      "14": {
        loc: {
          start: {
            line: 244,
            column: 22
          },
          end: {
            line: 244,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 244,
            column: 50
          },
          end: {
            line: 244,
            column: 56
          }
        }, {
          start: {
            line: 244,
            column: 59
          },
          end: {
            line: 244,
            column: 67
          }
        }],
        line: 244
      },
      "15": {
        loc: {
          start: {
            line: 246,
            column: 23
          },
          end: {
            line: 246,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 246,
            column: 23
          },
          end: {
            line: 246,
            column: 34
          }
        }, {
          start: {
            line: 246,
            column: 38
          },
          end: {
            line: 246,
            column: 47
          }
        }],
        line: 246
      },
      "16": {
        loc: {
          start: {
            line: 247,
            column: 23
          },
          end: {
            line: 247,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 247,
            column: 23
          },
          end: {
            line: 247,
            column: 41
          }
        }, {
          start: {
            line: 247,
            column: 45
          },
          end: {
            line: 247,
            column: 54
          }
        }],
        line: 247
      },
      "17": {
        loc: {
          start: {
            line: 298,
            column: 8
          },
          end: {
            line: 300,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 298,
            column: 8
          },
          end: {
            line: 300,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 298
      },
      "18": {
        loc: {
          start: {
            line: 318,
            column: 8
          },
          end: {
            line: 320,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 318,
            column: 8
          },
          end: {
            line: 320,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 318
      },
      "19": {
        loc: {
          start: {
            line: 325,
            column: 15
          },
          end: {
            line: 325,
            column: 180
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 325,
            column: 15
          },
          end: {
            line: 325,
            column: 44
          }
        }, {
          start: {
            line: 325,
            column: 48
          },
          end: {
            line: 325,
            column: 87
          }
        }, {
          start: {
            line: 325,
            column: 91
          },
          end: {
            line: 325,
            column: 117
          }
        }, {
          start: {
            line: 325,
            column: 121
          },
          end: {
            line: 325,
            column: 171
          }
        }, {
          start: {
            line: 325,
            column: 175
          },
          end: {
            line: 325,
            column: 180
          }
        }],
        line: 325
      },
      "20": {
        loc: {
          start: {
            line: 346,
            column: 23
          },
          end: {
            line: 346,
            column: 79
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 346,
            column: 48
          },
          end: {
            line: 346,
            column: 61
          }
        }, {
          start: {
            line: 346,
            column: 64
          },
          end: {
            line: 346,
            column: 79
          }
        }],
        line: 346
      },
      "21": {
        loc: {
          start: {
            line: 364,
            column: 8
          },
          end: {
            line: 366,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 364,
            column: 8
          },
          end: {
            line: 366,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 364
      },
      "22": {
        loc: {
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 372,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 372,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 370
      },
      "23": {
        loc: {
          start: {
            line: 373,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 373,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 373
      },
      "24": {
        loc: {
          start: {
            line: 376,
            column: 8
          },
          end: {
            line: 378,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 376,
            column: 8
          },
          end: {
            line: 378,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 376
      },
      "25": {
        loc: {
          start: {
            line: 379,
            column: 8
          },
          end: {
            line: 381,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 379,
            column: 8
          },
          end: {
            line: 381,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 379
      },
      "26": {
        loc: {
          start: {
            line: 382,
            column: 8
          },
          end: {
            line: 384,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 382,
            column: 8
          },
          end: {
            line: 384,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 382
      },
      "27": {
        loc: {
          start: {
            line: 385,
            column: 8
          },
          end: {
            line: 387,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 385,
            column: 8
          },
          end: {
            line: 387,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 385
      },
      "28": {
        loc: {
          start: {
            line: 389,
            column: 8
          },
          end: {
            line: 391,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 389,
            column: 8
          },
          end: {
            line: 391,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 389
      },
      "29": {
        loc: {
          start: {
            line: 392,
            column: 15
          },
          end: {
            line: 392,
            column: 25
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 392,
            column: 15
          },
          end: {
            line: 392,
            column: 19
          }
        }, {
          start: {
            line: 392,
            column: 23
          },
          end: {
            line: 392,
            column: 25
          }
        }],
        line: 392
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0, 0, 0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\security\\audit-trail.ts"],
      sourcesContent: ["// ===================================\r\n// PINTEYA E-COMMERCE - AUDIT TRAIL SYSTEM ENTERPRISE\r\n// ===================================\r\n\r\nimport { logger, LogLevel, LogCategory } from '@/lib/enterprise/logger';\r\nimport { getSupabaseClient } from '@/lib/integrations/supabase';\r\nimport crypto from 'crypto';\r\n\r\n// Niveles de criticidad seg\xFAn ISO/IEC 27001:2013\r\nexport enum AuditSeverity {\r\n  LOW = 'low',           // Eventos informativos\r\n  MEDIUM = 'medium',     // Eventos de advertencia\r\n  HIGH = 'high',         // Eventos cr\xEDticos\r\n  CRITICAL = 'critical'  // Eventos de seguridad cr\xEDticos\r\n}\r\n\r\n// Categor\xEDas de eventos de auditor\xEDa\r\nexport enum AuditCategory {\r\n  AUTHENTICATION = 'authentication',\r\n  AUTHORIZATION = 'authorization',\r\n  DATA_ACCESS = 'data_access',\r\n  DATA_MODIFICATION = 'data_modification',\r\n  PAYMENT_PROCESSING = 'payment_processing',\r\n  SYSTEM_ADMINISTRATION = 'system_administration',\r\n  SECURITY_VIOLATION = 'security_violation',\r\n  CONFIGURATION_CHANGE = 'configuration_change',\r\n  ERROR_EVENT = 'error_event',\r\n  COMPLIANCE_EVENT = 'compliance_event'\r\n}\r\n\r\n// Resultado de operaciones\r\nexport enum AuditResult {\r\n  SUCCESS = 'success',\r\n  FAILURE = 'failure',\r\n  BLOCKED = 'blocked',\r\n  UNAUTHORIZED = 'unauthorized',\r\n  ERROR = 'error'\r\n}\r\n\r\n// Evento de auditor\xEDa completo\r\nexport interface AuditEvent {\r\n  id: string;\r\n  timestamp: string;\r\n  userId?: string;\r\n  sessionId?: string;\r\n  action: string;\r\n  resource: string;\r\n  category: AuditCategory;\r\n  severity: AuditSeverity;\r\n  result: AuditResult;\r\n  ipAddress: string;\r\n  userAgent: string;\r\n  requestId?: string;\r\n  metadata?: Record<string, any>;\r\n  hash: string;\r\n  complianceFlags?: string[];\r\n}\r\n\r\n// Configuraci\xF3n de retenci\xF3n seg\xFAn compliance\r\nexport interface RetentionPolicy {\r\n  category: AuditCategory;\r\n  retentionDays: number;\r\n  archiveAfterDays: number;\r\n  requiresEncryption: boolean;\r\n}\r\n\r\n// Pol\xEDticas de retenci\xF3n ISO/IEC 27001:2013\r\nexport const RETENTION_POLICIES: RetentionPolicy[] = [\r\n  {\r\n    category: AuditCategory.AUTHENTICATION,\r\n    retentionDays: 365,\r\n    archiveAfterDays: 90,\r\n    requiresEncryption: true\r\n  },\r\n  {\r\n    category: AuditCategory.AUTHORIZATION,\r\n    retentionDays: 365,\r\n    archiveAfterDays: 90,\r\n    requiresEncryption: true\r\n  },\r\n  {\r\n    category: AuditCategory.PAYMENT_PROCESSING,\r\n    retentionDays: 2555, // 7 a\xF1os para compliance financiero\r\n    archiveAfterDays: 365,\r\n    requiresEncryption: true\r\n  },\r\n  {\r\n    category: AuditCategory.SECURITY_VIOLATION,\r\n    retentionDays: 2555, // 7 a\xF1os\r\n    archiveAfterDays: 180,\r\n    requiresEncryption: true\r\n  },\r\n  {\r\n    category: AuditCategory.DATA_ACCESS,\r\n    retentionDays: 1095, // 3 a\xF1os\r\n    archiveAfterDays: 180,\r\n    requiresEncryption: true\r\n  },\r\n  {\r\n    category: AuditCategory.SYSTEM_ADMINISTRATION,\r\n    retentionDays: 1095, // 3 a\xF1os\r\n    archiveAfterDays: 365,\r\n    requiresEncryption: true\r\n  }\r\n];\r\n\r\n/**\r\n * Sistema de Auditor\xEDa Enterprise con compliance ISO/IEC 27001:2013\r\n */\r\nexport class AuditTrailManager {\r\n  private static instance: AuditTrailManager;\r\n  private secretKey: string;\r\n\r\n  constructor() {\r\n    this.secretKey = process.env.AUDIT_TRAIL_SECRET_KEY || 'default-audit-key';\r\n    if (this.secretKey === 'default-audit-key') {\r\n      logger.warn(LogLevel.WARN, 'Using default audit trail secret key - not secure for production', {}, LogCategory.SYSTEM);\r\n    }\r\n  }\r\n\r\n  static getInstance(): AuditTrailManager {\r\n    if (!AuditTrailManager.instance) {\r\n      AuditTrailManager.instance = new AuditTrailManager();\r\n    }\r\n    return AuditTrailManager.instance;\r\n  }\r\n\r\n  /**\r\n   * Registra un evento de auditor\xEDa\r\n   */\r\n  async logEvent(eventData: Omit<AuditEvent, 'id' | 'timestamp' | 'hash'>): Promise<void> {\r\n    try {\r\n      const auditEvent: AuditEvent = {\r\n        ...eventData,\r\n        id: this.generateEventId(),\r\n        timestamp: new Date().toISOString(),\r\n        hash: ''\r\n      };\r\n\r\n      // Generar hash de integridad\r\n      auditEvent.hash = this.generateEventHash(auditEvent);\r\n\r\n      // Almacenar en base de datos\r\n      await this.storeAuditEvent(auditEvent);\r\n\r\n      // Verificar si requiere alertas\r\n      if (this.requiresAlert(auditEvent)) {\r\n        await this.sendSecurityAlert(auditEvent);\r\n      }\r\n\r\n      // Log estructurado\r\n      logger.audit(LogLevel.INFO, `Audit event logged: ${auditEvent.action}`, {\r\n        eventId: auditEvent.id,\r\n        category: auditEvent.category,\r\n        severity: auditEvent.severity,\r\n        result: auditEvent.result,\r\n        userId: auditEvent.userId\r\n      });\r\n\r\n    } catch (error) {\r\n      logger.error(LogLevel.ERROR, 'Failed to log audit event', {\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        action: eventData.action,\r\n        category: eventData.category\r\n      }, LogCategory.SYSTEM);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registra evento de autenticaci\xF3n\r\n   */\r\n  async logAuthentication(\r\n    action: string,\r\n    result: AuditResult,\r\n    userId?: string,\r\n    metadata?: Record<string, any>,\r\n    request?: { ip: string; userAgent: string; sessionId?: string }\r\n  ): Promise<void> {\r\n    await this.logEvent({\r\n      userId,\r\n      sessionId: request?.sessionId,\r\n      action,\r\n      resource: 'authentication',\r\n      category: AuditCategory.AUTHENTICATION,\r\n      severity: result === AuditResult.FAILURE ? AuditSeverity.HIGH : AuditSeverity.MEDIUM,\r\n      result,\r\n      ipAddress: request?.ip || 'unknown',\r\n      userAgent: request?.userAgent || 'unknown',\r\n      metadata,\r\n      complianceFlags: ['ISO27001', 'AUTHENTICATION_LOG']\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Registra evento de procesamiento de pagos\r\n   */\r\n  async logPaymentEvent(\r\n    action: string,\r\n    result: AuditResult,\r\n    paymentData: {\r\n      orderId?: string;\r\n      paymentId?: string;\r\n      amount?: number;\r\n      currency?: string;\r\n      method?: string;\r\n    },\r\n    userId?: string,\r\n    request?: { ip: string; userAgent: string }\r\n  ): Promise<void> {\r\n    await this.logEvent({\r\n      userId,\r\n      action,\r\n      resource: `payment:${paymentData.paymentId || 'unknown'}`,\r\n      category: AuditCategory.PAYMENT_PROCESSING,\r\n      severity: result === AuditResult.FAILURE ? AuditSeverity.HIGH : AuditSeverity.LOW,\r\n      result,\r\n      ipAddress: request?.ip || 'unknown',\r\n      userAgent: request?.userAgent || 'unknown',\r\n      metadata: {\r\n        ...paymentData,\r\n        complianceRequired: true\r\n      },\r\n      complianceFlags: ['ISO27001', 'PAYMENT_LOG', 'FINANCIAL_COMPLIANCE']\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Registra violaci\xF3n de seguridad\r\n   */\r\n  async logSecurityViolation(\r\n    action: string,\r\n    details: string,\r\n    request: { ip: string; userAgent: string },\r\n    metadata?: Record<string, any>\r\n  ): Promise<void> {\r\n    await this.logEvent({\r\n      action,\r\n      resource: 'security_system',\r\n      category: AuditCategory.SECURITY_VIOLATION,\r\n      severity: AuditSeverity.CRITICAL,\r\n      result: AuditResult.BLOCKED,\r\n      ipAddress: request.ip,\r\n      userAgent: request.userAgent,\r\n      metadata: {\r\n        details,\r\n        ...metadata,\r\n        alertRequired: true\r\n      },\r\n      complianceFlags: ['ISO27001', 'SECURITY_INCIDENT', 'IMMEDIATE_ALERT']\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Registra acceso a datos sensibles\r\n   */\r\n  async logDataAccess(\r\n    action: string,\r\n    resource: string,\r\n    result: AuditResult,\r\n    userId?: string,\r\n    request?: { ip: string; userAgent: string },\r\n    metadata?: Record<string, any>\r\n  ): Promise<void> {\r\n    await this.logEvent({\r\n      userId,\r\n      action,\r\n      resource,\r\n      category: AuditCategory.DATA_ACCESS,\r\n      severity: result === AuditResult.UNAUTHORIZED ? AuditSeverity.HIGH : AuditSeverity.MEDIUM,\r\n      result,\r\n      ipAddress: request?.ip || 'unknown',\r\n      userAgent: request?.userAgent || 'unknown',\r\n      metadata,\r\n      complianceFlags: ['ISO27001', 'DATA_ACCESS_LOG']\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Registra cambios administrativos\r\n   */\r\n  async logAdminAction(\r\n    action: string,\r\n    resource: string,\r\n    result: AuditResult,\r\n    userId: string,\r\n    request: { ip: string; userAgent: string },\r\n    metadata?: Record<string, any>\r\n  ): Promise<void> {\r\n    await this.logEvent({\r\n      userId,\r\n      action,\r\n      resource,\r\n      category: AuditCategory.SYSTEM_ADMINISTRATION,\r\n      severity: AuditSeverity.HIGH,\r\n      result,\r\n      ipAddress: request.ip,\r\n      userAgent: request.userAgent,\r\n      metadata,\r\n      complianceFlags: ['ISO27001', 'ADMIN_ACTION', 'PRIVILEGED_ACCESS']\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Genera ID \xFAnico para el evento\r\n   */\r\n  private generateEventId(): string {\r\n    return `audit_${Date.now()}_${crypto.randomBytes(8).toString('hex')}`;\r\n  }\r\n\r\n  /**\r\n   * Genera hash de integridad para el evento\r\n   */\r\n  private generateEventHash(event: Omit<AuditEvent, 'hash'>): string {\r\n    const eventString = JSON.stringify({\r\n      id: event.id,\r\n      timestamp: event.timestamp,\r\n      userId: event.userId,\r\n      action: event.action,\r\n      resource: event.resource,\r\n      category: event.category,\r\n      result: event.result\r\n    });\r\n\r\n    return crypto\r\n      .createHmac('sha256', this.secretKey)\r\n      .update(eventString)\r\n      .digest('hex');\r\n  }\r\n\r\n  /**\r\n   * Almacena el evento en la base de datos\r\n   */\r\n  private async storeAuditEvent(event: AuditEvent): Promise<void> {\r\n    const supabase = getSupabaseClient(true); // Usar cliente administrativo\r\n\r\n    if (!supabase) {\r\n      throw new Error('Supabase client not available for audit logging');\r\n    }\r\n\r\n    const { error } = await supabase\r\n      .from('audit_events')\r\n      .insert({\r\n        id: event.id,\r\n        timestamp: event.timestamp,\r\n        user_id: event.userId,\r\n        session_id: event.sessionId,\r\n        action: event.action,\r\n        resource: event.resource,\r\n        category: event.category,\r\n        severity: event.severity,\r\n        result: event.result,\r\n        ip_address: event.ipAddress,\r\n        user_agent: event.userAgent,\r\n        request_id: event.requestId,\r\n        metadata: event.metadata,\r\n        hash: event.hash,\r\n        compliance_flags: event.complianceFlags\r\n      });\r\n\r\n    if (error) {\r\n      throw new Error(`Failed to store audit event: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Determina si el evento requiere alerta inmediata\r\n   */\r\n  private requiresAlert(event: AuditEvent): boolean {\r\n    return (\r\n      event.severity === AuditSeverity.CRITICAL ||\r\n      event.category === AuditCategory.SECURITY_VIOLATION ||\r\n      event.result === AuditResult.BLOCKED ||\r\n      event.complianceFlags?.includes('IMMEDIATE_ALERT') ||\r\n      false\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Env\xEDa alerta de seguridad\r\n   */\r\n  private async sendSecurityAlert(event: AuditEvent): Promise<void> {\r\n    try {\r\n      // Log inmediato para alertas cr\xEDticas\r\n      logger.security(LogLevel.ERROR, `SECURITY ALERT: ${event.action}`, {\r\n        eventId: event.id,\r\n        category: event.category,\r\n        severity: event.severity,\r\n        result: event.result,\r\n        ipAddress: event.ipAddress,\r\n        userId: event.userId,\r\n        resource: event.resource\r\n      });\r\n\r\n      // TODO: Implementar notificaciones adicionales (email, Slack, etc.)\r\n      // await this.sendEmailAlert(event);\r\n      // await this.sendSlackAlert(event);\r\n\r\n    } catch (error) {\r\n      logger.error(LogLevel.ERROR, 'Failed to send security alert', {\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n        eventId: event.id\r\n      }, LogCategory.SYSTEM);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Verifica la integridad de un evento\r\n   */\r\n  async verifyEventIntegrity(event: AuditEvent): Promise<boolean> {\r\n    const expectedHash = this.generateEventHash({\r\n      ...event,\r\n      hash: ''\r\n    });\r\n\r\n    return event.hash === expectedHash;\r\n  }\r\n\r\n  /**\r\n   * Obtiene eventos de auditor\xEDa con filtros\r\n   */\r\n  async getAuditEvents(filters: {\r\n    userId?: string;\r\n    category?: AuditCategory;\r\n    severity?: AuditSeverity;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    limit?: number;\r\n  }): Promise<AuditEvent[]> {\r\n    const supabase = getSupabaseClient(true);\r\n\r\n    if (!supabase) {\r\n      throw new Error('Supabase client not available');\r\n    }\r\n\r\n    let query = supabase\r\n      .from('audit_events')\r\n      .select('*')\r\n      .order('timestamp', { ascending: false });\r\n\r\n    if (filters.userId) {\r\n      query = query.eq('user_id', filters.userId);\r\n    }\r\n\r\n    if (filters.category) {\r\n      query = query.eq('category', filters.category);\r\n    }\r\n\r\n    if (filters.severity) {\r\n      query = query.eq('severity', filters.severity);\r\n    }\r\n\r\n    if (filters.startDate) {\r\n      query = query.gte('timestamp', filters.startDate);\r\n    }\r\n\r\n    if (filters.endDate) {\r\n      query = query.lte('timestamp', filters.endDate);\r\n    }\r\n\r\n    if (filters.limit) {\r\n      query = query.limit(filters.limit);\r\n    }\r\n\r\n    const { data, error } = await query;\r\n\r\n    if (error) {\r\n      throw new Error(`Failed to retrieve audit events: ${error.message}`);\r\n    }\r\n\r\n    return data || [];\r\n  }\r\n}\r\n\r\n// Instancia singleton\r\nexport const auditTrail = AuditTrailManager.getInstance();\r\n\r\n// Funciones de conveniencia\r\nexport const logAuthentication = auditTrail.logAuthentication.bind(auditTrail);\r\nexport const logPaymentEvent = auditTrail.logPaymentEvent.bind(auditTrail);\r\nexport const logSecurityViolation = auditTrail.logSecurityViolation.bind(auditTrail);\r\nexport const logDataAccess = auditTrail.logDataAccess.bind(auditTrail);\r\nexport const logAdminAction = auditTrail.logAdminAction.bind(auditTrail);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["AuditCategory", "AuditResult", "AuditSeverity", "AuditTrailManager", "RETENTION_POLICIES", "auditTrail", "logAdminAction", "logAuthentication", "logDataAccess", "logPaymentEvent", "logSecurityViolation", "category", "retentionDays", "archiveAfterDays", "requiresEncryption", "secretKey", "process", "env", "AUDIT_TRAIL_SECRET_KEY", "logger", "warn", "LogLevel", "WARN", "LogCategory", "SYSTEM", "getInstance", "instance", "logEvent", "eventData", "auditEvent", "id", "generateEventId", "timestamp", "Date", "toISOString", "hash", "generateEventHash", "storeAuditEvent", "requiresAlert", "sendSecurityAlert", "audit", "INFO", "action", "eventId", "severity", "result", "userId", "error", "ERROR", "Error", "message", "metadata", "request", "sessionId", "resource", "ipAddress", "ip", "userAgent", "complianceFlags", "paymentData", "paymentId", "complianceRequired", "details", "alertRequired", "now", "crypto", "randomBytes", "toString", "event", "eventString", "JSON", "stringify", "createHmac", "update", "digest", "supabase", "getSupabaseClient", "from", "insert", "user_id", "session_id", "ip_address", "user_agent", "request_id", "requestId", "compliance_flags", "includes", "security", "verifyEventIntegrity", "expectedHash", "getAuditEvents", "filters", "query", "select", "order", "ascending", "eq", "startDate", "gte", "endDate", "lte", "limit", "data", "bind"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "8feee01a9f6909e4d0012071fa55595421c1a795"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2bj1wqhdfe = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2bj1wqhdfe();
cov_2bj1wqhdfe().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2bj1wqhdfe().f[0]++;
  cov_2bj1wqhdfe().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2bj1wqhdfe().s[3]++;
_export(exports, {
  get AuditCategory() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[1]++;
    cov_2bj1wqhdfe().s[4]++;
    return AuditCategory;
  },
  get AuditResult() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[2]++;
    cov_2bj1wqhdfe().s[5]++;
    return AuditResult;
  },
  get AuditSeverity() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[3]++;
    cov_2bj1wqhdfe().s[6]++;
    return AuditSeverity;
  },
  get AuditTrailManager() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[4]++;
    cov_2bj1wqhdfe().s[7]++;
    return AuditTrailManager;
  },
  get RETENTION_POLICIES() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[5]++;
    cov_2bj1wqhdfe().s[8]++;
    return RETENTION_POLICIES;
  },
  get auditTrail() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[6]++;
    cov_2bj1wqhdfe().s[9]++;
    return auditTrail;
  },
  get logAdminAction() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[7]++;
    cov_2bj1wqhdfe().s[10]++;
    return logAdminAction;
  },
  get logAuthentication() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[8]++;
    cov_2bj1wqhdfe().s[11]++;
    return logAuthentication;
  },
  get logDataAccess() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[9]++;
    cov_2bj1wqhdfe().s[12]++;
    return logDataAccess;
  },
  get logPaymentEvent() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[10]++;
    cov_2bj1wqhdfe().s[13]++;
    return logPaymentEvent;
  },
  get logSecurityViolation() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[11]++;
    cov_2bj1wqhdfe().s[14]++;
    return logSecurityViolation;
  }
});
const _logger =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[15]++, require("../enterprise/logger"));
const _supabase =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[16]++, require("../integrations/supabase"));
const _crypto =
/* istanbul ignore next */
(/*#__PURE__*/cov_2bj1wqhdfe().s[17]++, _interop_require_default(require("crypto")));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_2bj1wqhdfe().f[12]++;
  cov_2bj1wqhdfe().s[18]++;
  return /* istanbul ignore next */(cov_2bj1wqhdfe().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_2bj1wqhdfe().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_2bj1wqhdfe().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_2bj1wqhdfe().b[0][1]++, {
    default: obj
  });
}
var AuditSeverity =
/* istanbul ignore next */
(/*#__PURE__*/cov_2bj1wqhdfe().s[19]++, function (AuditSeverity) {
  /* istanbul ignore next */
  cov_2bj1wqhdfe().f[13]++;
  cov_2bj1wqhdfe().s[20]++;
  AuditSeverity["LOW"] = "low";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[21]++;
  AuditSeverity["MEDIUM"] = "medium";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[22]++;
  AuditSeverity["HIGH"] = "high";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[23]++;
  AuditSeverity["CRITICAL"] = "critical"; // Eventos de seguridad crticos
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[24]++;
  return AuditSeverity;
}({}));
var AuditCategory =
/* istanbul ignore next */
(/*#__PURE__*/cov_2bj1wqhdfe().s[25]++, function (AuditCategory) {
  /* istanbul ignore next */
  cov_2bj1wqhdfe().f[14]++;
  cov_2bj1wqhdfe().s[26]++;
  AuditCategory["AUTHENTICATION"] = "authentication";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[27]++;
  AuditCategory["AUTHORIZATION"] = "authorization";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[28]++;
  AuditCategory["DATA_ACCESS"] = "data_access";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[29]++;
  AuditCategory["DATA_MODIFICATION"] = "data_modification";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[30]++;
  AuditCategory["PAYMENT_PROCESSING"] = "payment_processing";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[31]++;
  AuditCategory["SYSTEM_ADMINISTRATION"] = "system_administration";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[32]++;
  AuditCategory["SECURITY_VIOLATION"] = "security_violation";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[33]++;
  AuditCategory["CONFIGURATION_CHANGE"] = "configuration_change";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[34]++;
  AuditCategory["ERROR_EVENT"] = "error_event";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[35]++;
  AuditCategory["COMPLIANCE_EVENT"] = "compliance_event";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[36]++;
  return AuditCategory;
}({}));
var AuditResult =
/* istanbul ignore next */
(/*#__PURE__*/cov_2bj1wqhdfe().s[37]++, function (AuditResult) {
  /* istanbul ignore next */
  cov_2bj1wqhdfe().f[15]++;
  cov_2bj1wqhdfe().s[38]++;
  AuditResult["SUCCESS"] = "success";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[39]++;
  AuditResult["FAILURE"] = "failure";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[40]++;
  AuditResult["BLOCKED"] = "blocked";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[41]++;
  AuditResult["UNAUTHORIZED"] = "unauthorized";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[42]++;
  AuditResult["ERROR"] = "error";
  /* istanbul ignore next */
  cov_2bj1wqhdfe().s[43]++;
  return AuditResult;
}({}));
const RETENTION_POLICIES =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[44]++, [{
  category: "authentication",
  retentionDays: 365,
  archiveAfterDays: 90,
  requiresEncryption: true
}, {
  category: "authorization",
  retentionDays: 365,
  archiveAfterDays: 90,
  requiresEncryption: true
}, {
  category: "payment_processing",
  retentionDays: 2555,
  archiveAfterDays: 365,
  requiresEncryption: true
}, {
  category: "security_violation",
  retentionDays: 2555,
  archiveAfterDays: 180,
  requiresEncryption: true
}, {
  category: "data_access",
  retentionDays: 1095,
  archiveAfterDays: 180,
  requiresEncryption: true
}, {
  category: "system_administration",
  retentionDays: 1095,
  archiveAfterDays: 365,
  requiresEncryption: true
}]);
class AuditTrailManager {
  constructor() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[16]++;
    cov_2bj1wqhdfe().s[45]++;
    this.secretKey =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[2][0]++, process.env.AUDIT_TRAIL_SECRET_KEY) ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[2][1]++, 'default-audit-key');
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[46]++;
    if (this.secretKey === 'default-audit-key') {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[3][0]++;
      cov_2bj1wqhdfe().s[47]++;
      _logger.logger.warn(_logger.LogLevel.WARN, 'Using default audit trail secret key - not secure for production', {}, _logger.LogCategory.SYSTEM);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[3][1]++;
    }
  }
  static getInstance() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[17]++;
    cov_2bj1wqhdfe().s[48]++;
    if (!AuditTrailManager.instance) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[4][0]++;
      cov_2bj1wqhdfe().s[49]++;
      AuditTrailManager.instance = new AuditTrailManager();
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[4][1]++;
    }
    cov_2bj1wqhdfe().s[50]++;
    return AuditTrailManager.instance;
  }
  /**
  * Registra un evento de auditora
  */
  async logEvent(eventData) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[18]++;
    cov_2bj1wqhdfe().s[51]++;
    try {
      const auditEvent =
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().s[52]++, {
        ...eventData,
        id: this.generateEventId(),
        timestamp: new Date().toISOString(),
        hash: ''
      });
      // Generar hash de integridad
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[53]++;
      auditEvent.hash = this.generateEventHash(auditEvent);
      // Almacenar en base de datos
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[54]++;
      await this.storeAuditEvent(auditEvent);
      // Verificar si requiere alertas
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[55]++;
      if (this.requiresAlert(auditEvent)) {
        /* istanbul ignore next */
        cov_2bj1wqhdfe().b[5][0]++;
        cov_2bj1wqhdfe().s[56]++;
        await this.sendSecurityAlert(auditEvent);
      } else
      /* istanbul ignore next */
      {
        cov_2bj1wqhdfe().b[5][1]++;
      }
      // Log estructurado
      cov_2bj1wqhdfe().s[57]++;
      _logger.logger.audit(_logger.LogLevel.INFO, `Audit event logged: ${auditEvent.action}`, {
        eventId: auditEvent.id,
        category: auditEvent.category,
        severity: auditEvent.severity,
        result: auditEvent.result,
        userId: auditEvent.userId
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[58]++;
      _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to log audit event', {
        error: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2bj1wqhdfe().b[6][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2bj1wqhdfe().b[6][1]++, 'Unknown error'),
        action: eventData.action,
        category: eventData.category
      }, _logger.LogCategory.SYSTEM);
    }
  }
  /**
  * Registra evento de autenticacin
  */
  async logAuthentication(action, result, userId, metadata, request) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[19]++;
    cov_2bj1wqhdfe().s[59]++;
    await this.logEvent({
      userId,
      sessionId: request?.sessionId,
      action,
      resource: 'authentication',
      category: "authentication",
      severity: result === "failure" ?
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[7][0]++, "high") :
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[7][1]++, "medium"),
      result,
      ipAddress:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[8][0]++, request?.ip) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[8][1]++, 'unknown'),
      userAgent:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[9][0]++, request?.userAgent) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[9][1]++, 'unknown'),
      metadata,
      complianceFlags: ['ISO27001', 'AUTHENTICATION_LOG']
    });
  }
  /**
  * Registra evento de procesamiento de pagos
  */
  async logPaymentEvent(action, result, paymentData, userId, request) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[20]++;
    cov_2bj1wqhdfe().s[60]++;
    await this.logEvent({
      userId,
      action,
      resource: `payment:${
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[10][0]++, paymentData.paymentId) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[10][1]++, 'unknown')}`,
      category: "payment_processing",
      severity: result === "failure" ?
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[11][0]++, "high") :
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[11][1]++, "low"),
      result,
      ipAddress:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[12][0]++, request?.ip) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[12][1]++, 'unknown'),
      userAgent:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[13][0]++, request?.userAgent) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[13][1]++, 'unknown'),
      metadata: {
        ...paymentData,
        complianceRequired: true
      },
      complianceFlags: ['ISO27001', 'PAYMENT_LOG', 'FINANCIAL_COMPLIANCE']
    });
  }
  /**
  * Registra violacin de seguridad
  */
  async logSecurityViolation(action, details, request, metadata) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[21]++;
    cov_2bj1wqhdfe().s[61]++;
    await this.logEvent({
      action,
      resource: 'security_system',
      category: "security_violation",
      severity: "critical",
      result: "blocked",
      ipAddress: request.ip,
      userAgent: request.userAgent,
      metadata: {
        details,
        ...metadata,
        alertRequired: true
      },
      complianceFlags: ['ISO27001', 'SECURITY_INCIDENT', 'IMMEDIATE_ALERT']
    });
  }
  /**
  * Registra acceso a datos sensibles
  */
  async logDataAccess(action, resource, result, userId, request, metadata) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[22]++;
    cov_2bj1wqhdfe().s[62]++;
    await this.logEvent({
      userId,
      action,
      resource,
      category: "data_access",
      severity: result === "unauthorized" ?
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[14][0]++, "high") :
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[14][1]++, "medium"),
      result,
      ipAddress:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[15][0]++, request?.ip) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[15][1]++, 'unknown'),
      userAgent:
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[16][0]++, request?.userAgent) ||
      /* istanbul ignore next */
      (cov_2bj1wqhdfe().b[16][1]++, 'unknown'),
      metadata,
      complianceFlags: ['ISO27001', 'DATA_ACCESS_LOG']
    });
  }
  /**
  * Registra cambios administrativos
  */
  async logAdminAction(action, resource, result, userId, request, metadata) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[23]++;
    cov_2bj1wqhdfe().s[63]++;
    await this.logEvent({
      userId,
      action,
      resource,
      category: "system_administration",
      severity: "high",
      result,
      ipAddress: request.ip,
      userAgent: request.userAgent,
      metadata,
      complianceFlags: ['ISO27001', 'ADMIN_ACTION', 'PRIVILEGED_ACCESS']
    });
  }
  /**
  * Genera ID nico para el evento
  */
  generateEventId() {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[24]++;
    cov_2bj1wqhdfe().s[64]++;
    return `audit_${Date.now()}_${_crypto.default.randomBytes(8).toString('hex')}`;
  }
  /**
  * Genera hash de integridad para el evento
  */
  generateEventHash(event) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[25]++;
    const eventString =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[65]++, JSON.stringify({
      id: event.id,
      timestamp: event.timestamp,
      userId: event.userId,
      action: event.action,
      resource: event.resource,
      category: event.category,
      result: event.result
    }));
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[66]++;
    return _crypto.default.createHmac('sha256', this.secretKey).update(eventString).digest('hex');
  }
  /**
  * Almacena el evento en la base de datos
  */
  async storeAuditEvent(event) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[26]++;
    const supabase =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[67]++, (0, _supabase.getSupabaseClient)(true)); // Usar cliente administrativo
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[68]++;
    if (!supabase) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[17][0]++;
      cov_2bj1wqhdfe().s[69]++;
      throw new Error('Supabase client not available for audit logging');
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[17][1]++;
    }
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[70]++, await supabase.from('audit_events').insert({
      id: event.id,
      timestamp: event.timestamp,
      user_id: event.userId,
      session_id: event.sessionId,
      action: event.action,
      resource: event.resource,
      category: event.category,
      severity: event.severity,
      result: event.result,
      ip_address: event.ipAddress,
      user_agent: event.userAgent,
      request_id: event.requestId,
      metadata: event.metadata,
      hash: event.hash,
      compliance_flags: event.complianceFlags
    }));
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[71]++;
    if (error) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[18][0]++;
      cov_2bj1wqhdfe().s[72]++;
      throw new Error(`Failed to store audit event: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[18][1]++;
    }
  }
  /**
  * Determina si el evento requiere alerta inmediata
  */
  requiresAlert(event) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[27]++;
    cov_2bj1wqhdfe().s[73]++;
    return /* istanbul ignore next */(cov_2bj1wqhdfe().b[19][0]++, event.severity === "critical") ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[19][1]++, event.category === "security_violation") ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[19][2]++, event.result === "blocked") ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[19][3]++, event.complianceFlags?.includes('IMMEDIATE_ALERT')) ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[19][4]++, false);
  }
  /**
  * Enva alerta de seguridad
  */
  async sendSecurityAlert(event) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[28]++;
    cov_2bj1wqhdfe().s[74]++;
    try {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[75]++;
      // Log inmediato para alertas crticas
      _logger.logger.security(_logger.LogLevel.ERROR, `SECURITY ALERT: ${event.action}`, {
        eventId: event.id,
        category: event.category,
        severity: event.severity,
        result: event.result,
        ipAddress: event.ipAddress,
        userId: event.userId,
        resource: event.resource
      });
      // TODO: Implementar notificaciones adicionales (email, Slack, etc.)
      // await this.sendEmailAlert(event);
      // await this.sendSlackAlert(event);
    } catch (error) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().s[76]++;
      _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to send security alert', {
        error: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2bj1wqhdfe().b[20][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2bj1wqhdfe().b[20][1]++, 'Unknown error'),
        eventId: event.id
      }, _logger.LogCategory.SYSTEM);
    }
  }
  /**
  * Verifica la integridad de un evento
  */
  async verifyEventIntegrity(event) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[29]++;
    const expectedHash =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[77]++, this.generateEventHash({
      ...event,
      hash: ''
    }));
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[78]++;
    return event.hash === expectedHash;
  }
  /**
  * Obtiene eventos de auditora con filtros
  */
  async getAuditEvents(filters) {
    /* istanbul ignore next */
    cov_2bj1wqhdfe().f[30]++;
    const supabase =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[79]++, (0, _supabase.getSupabaseClient)(true));
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[80]++;
    if (!supabase) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[21][0]++;
      cov_2bj1wqhdfe().s[81]++;
      throw new Error('Supabase client not available');
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[21][1]++;
    }
    let query =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[82]++, supabase.from('audit_events').select('*').order('timestamp', {
      ascending: false
    }));
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[83]++;
    if (filters.userId) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[22][0]++;
      cov_2bj1wqhdfe().s[84]++;
      query = query.eq('user_id', filters.userId);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[22][1]++;
    }
    cov_2bj1wqhdfe().s[85]++;
    if (filters.category) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[23][0]++;
      cov_2bj1wqhdfe().s[86]++;
      query = query.eq('category', filters.category);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[23][1]++;
    }
    cov_2bj1wqhdfe().s[87]++;
    if (filters.severity) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[24][0]++;
      cov_2bj1wqhdfe().s[88]++;
      query = query.eq('severity', filters.severity);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[24][1]++;
    }
    cov_2bj1wqhdfe().s[89]++;
    if (filters.startDate) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[25][0]++;
      cov_2bj1wqhdfe().s[90]++;
      query = query.gte('timestamp', filters.startDate);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[25][1]++;
    }
    cov_2bj1wqhdfe().s[91]++;
    if (filters.endDate) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[26][0]++;
      cov_2bj1wqhdfe().s[92]++;
      query = query.lte('timestamp', filters.endDate);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[26][1]++;
    }
    cov_2bj1wqhdfe().s[93]++;
    if (filters.limit) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[27][0]++;
      cov_2bj1wqhdfe().s[94]++;
      query = query.limit(filters.limit);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[27][1]++;
    }
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().s[95]++, await query);
    /* istanbul ignore next */
    cov_2bj1wqhdfe().s[96]++;
    if (error) {
      /* istanbul ignore next */
      cov_2bj1wqhdfe().b[28][0]++;
      cov_2bj1wqhdfe().s[97]++;
      throw new Error(`Failed to retrieve audit events: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2bj1wqhdfe().b[28][1]++;
    }
    cov_2bj1wqhdfe().s[98]++;
    return /* istanbul ignore next */(cov_2bj1wqhdfe().b[29][0]++, data) ||
    /* istanbul ignore next */
    (cov_2bj1wqhdfe().b[29][1]++, []);
  }
}
const auditTrail =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[99]++, AuditTrailManager.getInstance());
const logAuthentication =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[100]++, auditTrail.logAuthentication.bind(auditTrail));
const logPaymentEvent =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[101]++, auditTrail.logPaymentEvent.bind(auditTrail));
const logSecurityViolation =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[102]++, auditTrail.logSecurityViolation.bind(auditTrail));
const logDataAccess =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[103]++, auditTrail.logDataAccess.bind(auditTrail));
const logAdminAction =
/* istanbul ignore next */
(cov_2bj1wqhdfe().s[104]++, auditTrail.logAdminAction.bind(auditTrail));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBdWRpdENhdGVnb3J5IiwiY292XzJiajF3cWhkZmUiLCJmIiwicyIsIkF1ZGl0UmVzdWx0IiwiQXVkaXRTZXZlcml0eSIsIkF1ZGl0VHJhaWxNYW5hZ2VyIiwiUkVURU5USU9OX1BPTElDSUVTIiwiYXVkaXRUcmFpbCIsImxvZ0FkbWluQWN0aW9uIiwibG9nQXV0aGVudGljYXRpb24iLCJsb2dEYXRhQWNjZXNzIiwibG9nUGF5bWVudEV2ZW50IiwibG9nU2VjdXJpdHlWaW9sYXRpb24iLCJjYXRlZ29yeSIsInJldGVudGlvbkRheXMiLCJhcmNoaXZlQWZ0ZXJEYXlzIiwicmVxdWlyZXNFbmNyeXB0aW9uIiwiY29uc3RydWN0b3IiLCJzZWNyZXRLZXkiLCJiIiwicHJvY2VzcyIsImVudiIsIkFVRElUX1RSQUlMX1NFQ1JFVF9LRVkiLCJfbG9nZ2VyIiwibG9nZ2VyIiwid2FybiIsIkxvZ0xldmVsIiwiV0FSTiIsIkxvZ0NhdGVnb3J5IiwiU1lTVEVNIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImxvZ0V2ZW50IiwiZXZlbnREYXRhIiwiYXVkaXRFdmVudCIsImlkIiwiZ2VuZXJhdGVFdmVudElkIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaGFzaCIsImdlbmVyYXRlRXZlbnRIYXNoIiwic3RvcmVBdWRpdEV2ZW50IiwicmVxdWlyZXNBbGVydCIsInNlbmRTZWN1cml0eUFsZXJ0IiwiYXVkaXQiLCJJTkZPIiwiYWN0aW9uIiwiZXZlbnRJZCIsInNldmVyaXR5IiwicmVzdWx0IiwidXNlcklkIiwiZXJyb3IiLCJFUlJPUiIsIkVycm9yIiwibWVzc2FnZSIsIm1ldGFkYXRhIiwicmVxdWVzdCIsInNlc3Npb25JZCIsInJlc291cmNlIiwiaXBBZGRyZXNzIiwiaXAiLCJ1c2VyQWdlbnQiLCJjb21wbGlhbmNlRmxhZ3MiLCJwYXltZW50RGF0YSIsInBheW1lbnRJZCIsImNvbXBsaWFuY2VSZXF1aXJlZCIsImRldGFpbHMiLCJhbGVydFJlcXVpcmVkIiwibm93IiwiX2NyeXB0byIsImRlZmF1bHQiLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiZXZlbnQiLCJldmVudFN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0Iiwic3VwYWJhc2UiLCJfc3VwYWJhc2UiLCJnZXRTdXBhYmFzZUNsaWVudCIsImZyb20iLCJpbnNlcnQiLCJ1c2VyX2lkIiwic2Vzc2lvbl9pZCIsImlwX2FkZHJlc3MiLCJ1c2VyX2FnZW50IiwicmVxdWVzdF9pZCIsInJlcXVlc3RJZCIsImNvbXBsaWFuY2VfZmxhZ3MiLCJpbmNsdWRlcyIsInNlY3VyaXR5IiwidmVyaWZ5RXZlbnRJbnRlZ3JpdHkiLCJleHBlY3RlZEhhc2giLCJnZXRBdWRpdEV2ZW50cyIsImZpbHRlcnMiLCJxdWVyeSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZXEiLCJzdGFydERhdGUiLCJndGUiLCJlbmREYXRlIiwibHRlIiwibGltaXQiLCJkYXRhIiwiYmluZCJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxzZWN1cml0eVxcYXVkaXQtdHJhaWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gQVVESVQgVFJBSUwgU1lTVEVNIEVOVEVSUFJJU0VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IGxvZ2dlciwgTG9nTGV2ZWwsIExvZ0NhdGVnb3J5IH0gZnJvbSAnQC9saWIvZW50ZXJwcmlzZS9sb2dnZXInO1xyXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL2ludGVncmF0aW9ucy9zdXBhYmFzZSc7XHJcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuXHJcbi8vIE5pdmVsZXMgZGUgY3JpdGljaWRhZCBzZWfDum4gSVNPL0lFQyAyNzAwMToyMDEzXHJcbmV4cG9ydCBlbnVtIEF1ZGl0U2V2ZXJpdHkge1xyXG4gIExPVyA9ICdsb3cnLCAgICAgICAgICAgLy8gRXZlbnRvcyBpbmZvcm1hdGl2b3NcclxuICBNRURJVU0gPSAnbWVkaXVtJywgICAgIC8vIEV2ZW50b3MgZGUgYWR2ZXJ0ZW5jaWFcclxuICBISUdIID0gJ2hpZ2gnLCAgICAgICAgIC8vIEV2ZW50b3MgY3LDrXRpY29zXHJcbiAgQ1JJVElDQUwgPSAnY3JpdGljYWwnICAvLyBFdmVudG9zIGRlIHNlZ3VyaWRhZCBjcsOtdGljb3NcclxufVxyXG5cclxuLy8gQ2F0ZWdvcsOtYXMgZGUgZXZlbnRvcyBkZSBhdWRpdG9yw61hXHJcbmV4cG9ydCBlbnVtIEF1ZGl0Q2F0ZWdvcnkge1xyXG4gIEFVVEhFTlRJQ0FUSU9OID0gJ2F1dGhlbnRpY2F0aW9uJyxcclxuICBBVVRIT1JJWkFUSU9OID0gJ2F1dGhvcml6YXRpb24nLFxyXG4gIERBVEFfQUNDRVNTID0gJ2RhdGFfYWNjZXNzJyxcclxuICBEQVRBX01PRElGSUNBVElPTiA9ICdkYXRhX21vZGlmaWNhdGlvbicsXHJcbiAgUEFZTUVOVF9QUk9DRVNTSU5HID0gJ3BheW1lbnRfcHJvY2Vzc2luZycsXHJcbiAgU1lTVEVNX0FETUlOSVNUUkFUSU9OID0gJ3N5c3RlbV9hZG1pbmlzdHJhdGlvbicsXHJcbiAgU0VDVVJJVFlfVklPTEFUSU9OID0gJ3NlY3VyaXR5X3Zpb2xhdGlvbicsXHJcbiAgQ09ORklHVVJBVElPTl9DSEFOR0UgPSAnY29uZmlndXJhdGlvbl9jaGFuZ2UnLFxyXG4gIEVSUk9SX0VWRU5UID0gJ2Vycm9yX2V2ZW50JyxcclxuICBDT01QTElBTkNFX0VWRU5UID0gJ2NvbXBsaWFuY2VfZXZlbnQnXHJcbn1cclxuXHJcbi8vIFJlc3VsdGFkbyBkZSBvcGVyYWNpb25lc1xyXG5leHBvcnQgZW51bSBBdWRpdFJlc3VsdCB7XHJcbiAgU1VDQ0VTUyA9ICdzdWNjZXNzJyxcclxuICBGQUlMVVJFID0gJ2ZhaWx1cmUnLFxyXG4gIEJMT0NLRUQgPSAnYmxvY2tlZCcsXHJcbiAgVU5BVVRIT1JJWkVEID0gJ3VuYXV0aG9yaXplZCcsXHJcbiAgRVJST1IgPSAnZXJyb3InXHJcbn1cclxuXHJcbi8vIEV2ZW50byBkZSBhdWRpdG9yw61hIGNvbXBsZXRvXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRFdmVudCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0aW1lc3RhbXA6IHN0cmluZztcclxuICB1c2VySWQ/OiBzdHJpbmc7XHJcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xyXG4gIGFjdGlvbjogc3RyaW5nO1xyXG4gIHJlc291cmNlOiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnk7XHJcbiAgc2V2ZXJpdHk6IEF1ZGl0U2V2ZXJpdHk7XHJcbiAgcmVzdWx0OiBBdWRpdFJlc3VsdDtcclxuICBpcEFkZHJlc3M6IHN0cmluZztcclxuICB1c2VyQWdlbnQ6IHN0cmluZztcclxuICByZXF1ZXN0SWQ/OiBzdHJpbmc7XHJcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIGhhc2g6IHN0cmluZztcclxuICBjb21wbGlhbmNlRmxhZ3M/OiBzdHJpbmdbXTtcclxufVxyXG5cclxuLy8gQ29uZmlndXJhY2nDs24gZGUgcmV0ZW5jacOzbiBzZWfDum4gY29tcGxpYW5jZVxyXG5leHBvcnQgaW50ZXJmYWNlIFJldGVudGlvblBvbGljeSB7XHJcbiAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnk7XHJcbiAgcmV0ZW50aW9uRGF5czogbnVtYmVyO1xyXG4gIGFyY2hpdmVBZnRlckRheXM6IG51bWJlcjtcclxuICByZXF1aXJlc0VuY3J5cHRpb246IGJvb2xlYW47XHJcbn1cclxuXHJcbi8vIFBvbMOtdGljYXMgZGUgcmV0ZW5jacOzbiBJU08vSUVDIDI3MDAxOjIwMTNcclxuZXhwb3J0IGNvbnN0IFJFVEVOVElPTl9QT0xJQ0lFUzogUmV0ZW50aW9uUG9saWN5W10gPSBbXHJcbiAge1xyXG4gICAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnkuQVVUSEVOVElDQVRJT04sXHJcbiAgICByZXRlbnRpb25EYXlzOiAzNjUsXHJcbiAgICBhcmNoaXZlQWZ0ZXJEYXlzOiA5MCxcclxuICAgIHJlcXVpcmVzRW5jcnlwdGlvbjogdHJ1ZVxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnkuQVVUSE9SSVpBVElPTixcclxuICAgIHJldGVudGlvbkRheXM6IDM2NSxcclxuICAgIGFyY2hpdmVBZnRlckRheXM6IDkwLFxyXG4gICAgcmVxdWlyZXNFbmNyeXB0aW9uOiB0cnVlXHJcbiAgfSxcclxuICB7XHJcbiAgICBjYXRlZ29yeTogQXVkaXRDYXRlZ29yeS5QQVlNRU5UX1BST0NFU1NJTkcsXHJcbiAgICByZXRlbnRpb25EYXlzOiAyNTU1LCAvLyA3IGHDsW9zIHBhcmEgY29tcGxpYW5jZSBmaW5hbmNpZXJvXHJcbiAgICBhcmNoaXZlQWZ0ZXJEYXlzOiAzNjUsXHJcbiAgICByZXF1aXJlc0VuY3J5cHRpb246IHRydWVcclxuICB9LFxyXG4gIHtcclxuICAgIGNhdGVnb3J5OiBBdWRpdENhdGVnb3J5LlNFQ1VSSVRZX1ZJT0xBVElPTixcclxuICAgIHJldGVudGlvbkRheXM6IDI1NTUsIC8vIDcgYcOxb3NcclxuICAgIGFyY2hpdmVBZnRlckRheXM6IDE4MCxcclxuICAgIHJlcXVpcmVzRW5jcnlwdGlvbjogdHJ1ZVxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnkuREFUQV9BQ0NFU1MsXHJcbiAgICByZXRlbnRpb25EYXlzOiAxMDk1LCAvLyAzIGHDsW9zXHJcbiAgICBhcmNoaXZlQWZ0ZXJEYXlzOiAxODAsXHJcbiAgICByZXF1aXJlc0VuY3J5cHRpb246IHRydWVcclxuICB9LFxyXG4gIHtcclxuICAgIGNhdGVnb3J5OiBBdWRpdENhdGVnb3J5LlNZU1RFTV9BRE1JTklTVFJBVElPTixcclxuICAgIHJldGVudGlvbkRheXM6IDEwOTUsIC8vIDMgYcOxb3NcclxuICAgIGFyY2hpdmVBZnRlckRheXM6IDM2NSxcclxuICAgIHJlcXVpcmVzRW5jcnlwdGlvbjogdHJ1ZVxyXG4gIH1cclxuXTtcclxuXHJcbi8qKlxyXG4gKiBTaXN0ZW1hIGRlIEF1ZGl0b3LDrWEgRW50ZXJwcmlzZSBjb24gY29tcGxpYW5jZSBJU08vSUVDIDI3MDAxOjIwMTNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdWRpdFRyYWlsTWFuYWdlciB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEF1ZGl0VHJhaWxNYW5hZ2VyO1xyXG4gIHByaXZhdGUgc2VjcmV0S2V5OiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zZWNyZXRLZXkgPSBwcm9jZXNzLmVudi5BVURJVF9UUkFJTF9TRUNSRVRfS0VZIHx8ICdkZWZhdWx0LWF1ZGl0LWtleSc7XHJcbiAgICBpZiAodGhpcy5zZWNyZXRLZXkgPT09ICdkZWZhdWx0LWF1ZGl0LWtleScpIHtcclxuICAgICAgbG9nZ2VyLndhcm4oTG9nTGV2ZWwuV0FSTiwgJ1VzaW5nIGRlZmF1bHQgYXVkaXQgdHJhaWwgc2VjcmV0IGtleSAtIG5vdCBzZWN1cmUgZm9yIHByb2R1Y3Rpb24nLCB7fSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBBdWRpdFRyYWlsTWFuYWdlciB7XHJcbiAgICBpZiAoIUF1ZGl0VHJhaWxNYW5hZ2VyLmluc3RhbmNlKSB7XHJcbiAgICAgIEF1ZGl0VHJhaWxNYW5hZ2VyLmluc3RhbmNlID0gbmV3IEF1ZGl0VHJhaWxNYW5hZ2VyKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQXVkaXRUcmFpbE1hbmFnZXIuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSB1biBldmVudG8gZGUgYXVkaXRvcsOtYVxyXG4gICAqL1xyXG4gIGFzeW5jIGxvZ0V2ZW50KGV2ZW50RGF0YTogT21pdDxBdWRpdEV2ZW50LCAnaWQnIHwgJ3RpbWVzdGFtcCcgfCAnaGFzaCc+KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBhdWRpdEV2ZW50OiBBdWRpdEV2ZW50ID0ge1xyXG4gICAgICAgIC4uLmV2ZW50RGF0YSxcclxuICAgICAgICBpZDogdGhpcy5nZW5lcmF0ZUV2ZW50SWQoKSxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBoYXNoOiAnJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gR2VuZXJhciBoYXNoIGRlIGludGVncmlkYWRcclxuICAgICAgYXVkaXRFdmVudC5oYXNoID0gdGhpcy5nZW5lcmF0ZUV2ZW50SGFzaChhdWRpdEV2ZW50KTtcclxuXHJcbiAgICAgIC8vIEFsbWFjZW5hciBlbiBiYXNlIGRlIGRhdG9zXHJcbiAgICAgIGF3YWl0IHRoaXMuc3RvcmVBdWRpdEV2ZW50KGF1ZGl0RXZlbnQpO1xyXG5cclxuICAgICAgLy8gVmVyaWZpY2FyIHNpIHJlcXVpZXJlIGFsZXJ0YXNcclxuICAgICAgaWYgKHRoaXMucmVxdWlyZXNBbGVydChhdWRpdEV2ZW50KSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZFNlY3VyaXR5QWxlcnQoYXVkaXRFdmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvZyBlc3RydWN0dXJhZG9cclxuICAgICAgbG9nZ2VyLmF1ZGl0KExvZ0xldmVsLklORk8sIGBBdWRpdCBldmVudCBsb2dnZWQ6ICR7YXVkaXRFdmVudC5hY3Rpb259YCwge1xyXG4gICAgICAgIGV2ZW50SWQ6IGF1ZGl0RXZlbnQuaWQsXHJcbiAgICAgICAgY2F0ZWdvcnk6IGF1ZGl0RXZlbnQuY2F0ZWdvcnksXHJcbiAgICAgICAgc2V2ZXJpdHk6IGF1ZGl0RXZlbnQuc2V2ZXJpdHksXHJcbiAgICAgICAgcmVzdWx0OiBhdWRpdEV2ZW50LnJlc3VsdCxcclxuICAgICAgICB1c2VySWQ6IGF1ZGl0RXZlbnQudXNlcklkXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgJ0ZhaWxlZCB0byBsb2cgYXVkaXQgZXZlbnQnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICAgIGFjdGlvbjogZXZlbnREYXRhLmFjdGlvbixcclxuICAgICAgICBjYXRlZ29yeTogZXZlbnREYXRhLmNhdGVnb3J5XHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSBldmVudG8gZGUgYXV0ZW50aWNhY2nDs25cclxuICAgKi9cclxuICBhc3luYyBsb2dBdXRoZW50aWNhdGlvbihcclxuICAgIGFjdGlvbjogc3RyaW5nLFxyXG4gICAgcmVzdWx0OiBBdWRpdFJlc3VsdCxcclxuICAgIHVzZXJJZD86IHN0cmluZyxcclxuICAgIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PixcclxuICAgIHJlcXVlc3Q/OiB7IGlwOiBzdHJpbmc7IHVzZXJBZ2VudDogc3RyaW5nOyBzZXNzaW9uSWQ/OiBzdHJpbmcgfVxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5sb2dFdmVudCh7XHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgc2Vzc2lvbklkOiByZXF1ZXN0Py5zZXNzaW9uSWQsXHJcbiAgICAgIGFjdGlvbixcclxuICAgICAgcmVzb3VyY2U6ICdhdXRoZW50aWNhdGlvbicsXHJcbiAgICAgIGNhdGVnb3J5OiBBdWRpdENhdGVnb3J5LkFVVEhFTlRJQ0FUSU9OLFxyXG4gICAgICBzZXZlcml0eTogcmVzdWx0ID09PSBBdWRpdFJlc3VsdC5GQUlMVVJFID8gQXVkaXRTZXZlcml0eS5ISUdIIDogQXVkaXRTZXZlcml0eS5NRURJVU0sXHJcbiAgICAgIHJlc3VsdCxcclxuICAgICAgaXBBZGRyZXNzOiByZXF1ZXN0Py5pcCB8fCAndW5rbm93bicsXHJcbiAgICAgIHVzZXJBZ2VudDogcmVxdWVzdD8udXNlckFnZW50IHx8ICd1bmtub3duJyxcclxuICAgICAgbWV0YWRhdGEsXHJcbiAgICAgIGNvbXBsaWFuY2VGbGFnczogWydJU08yNzAwMScsICdBVVRIRU5USUNBVElPTl9MT0cnXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSBldmVudG8gZGUgcHJvY2VzYW1pZW50byBkZSBwYWdvc1xyXG4gICAqL1xyXG4gIGFzeW5jIGxvZ1BheW1lbnRFdmVudChcclxuICAgIGFjdGlvbjogc3RyaW5nLFxyXG4gICAgcmVzdWx0OiBBdWRpdFJlc3VsdCxcclxuICAgIHBheW1lbnREYXRhOiB7XHJcbiAgICAgIG9yZGVySWQ/OiBzdHJpbmc7XHJcbiAgICAgIHBheW1lbnRJZD86IHN0cmluZztcclxuICAgICAgYW1vdW50PzogbnVtYmVyO1xyXG4gICAgICBjdXJyZW5jeT86IHN0cmluZztcclxuICAgICAgbWV0aG9kPzogc3RyaW5nO1xyXG4gICAgfSxcclxuICAgIHVzZXJJZD86IHN0cmluZyxcclxuICAgIHJlcXVlc3Q/OiB7IGlwOiBzdHJpbmc7IHVzZXJBZ2VudDogc3RyaW5nIH1cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMubG9nRXZlbnQoe1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGFjdGlvbixcclxuICAgICAgcmVzb3VyY2U6IGBwYXltZW50OiR7cGF5bWVudERhdGEucGF5bWVudElkIHx8ICd1bmtub3duJ31gLFxyXG4gICAgICBjYXRlZ29yeTogQXVkaXRDYXRlZ29yeS5QQVlNRU5UX1BST0NFU1NJTkcsXHJcbiAgICAgIHNldmVyaXR5OiByZXN1bHQgPT09IEF1ZGl0UmVzdWx0LkZBSUxVUkUgPyBBdWRpdFNldmVyaXR5LkhJR0ggOiBBdWRpdFNldmVyaXR5LkxPVyxcclxuICAgICAgcmVzdWx0LFxyXG4gICAgICBpcEFkZHJlc3M6IHJlcXVlc3Q/LmlwIHx8ICd1bmtub3duJyxcclxuICAgICAgdXNlckFnZW50OiByZXF1ZXN0Py51c2VyQWdlbnQgfHwgJ3Vua25vd24nLFxyXG4gICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgIC4uLnBheW1lbnREYXRhLFxyXG4gICAgICAgIGNvbXBsaWFuY2VSZXF1aXJlZDogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBjb21wbGlhbmNlRmxhZ3M6IFsnSVNPMjcwMDEnLCAnUEFZTUVOVF9MT0cnLCAnRklOQU5DSUFMX0NPTVBMSUFOQ0UnXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSB2aW9sYWNpw7NuIGRlIHNlZ3VyaWRhZFxyXG4gICAqL1xyXG4gIGFzeW5jIGxvZ1NlY3VyaXR5VmlvbGF0aW9uKFxyXG4gICAgYWN0aW9uOiBzdHJpbmcsXHJcbiAgICBkZXRhaWxzOiBzdHJpbmcsXHJcbiAgICByZXF1ZXN0OiB7IGlwOiBzdHJpbmc7IHVzZXJBZ2VudDogc3RyaW5nIH0sXHJcbiAgICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMubG9nRXZlbnQoe1xyXG4gICAgICBhY3Rpb24sXHJcbiAgICAgIHJlc291cmNlOiAnc2VjdXJpdHlfc3lzdGVtJyxcclxuICAgICAgY2F0ZWdvcnk6IEF1ZGl0Q2F0ZWdvcnkuU0VDVVJJVFlfVklPTEFUSU9OLFxyXG4gICAgICBzZXZlcml0eTogQXVkaXRTZXZlcml0eS5DUklUSUNBTCxcclxuICAgICAgcmVzdWx0OiBBdWRpdFJlc3VsdC5CTE9DS0VELFxyXG4gICAgICBpcEFkZHJlc3M6IHJlcXVlc3QuaXAsXHJcbiAgICAgIHVzZXJBZ2VudDogcmVxdWVzdC51c2VyQWdlbnQsXHJcbiAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgZGV0YWlscyxcclxuICAgICAgICAuLi5tZXRhZGF0YSxcclxuICAgICAgICBhbGVydFJlcXVpcmVkOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbXBsaWFuY2VGbGFnczogWydJU08yNzAwMScsICdTRUNVUklUWV9JTkNJREVOVCcsICdJTU1FRElBVEVfQUxFUlQnXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSBhY2Nlc28gYSBkYXRvcyBzZW5zaWJsZXNcclxuICAgKi9cclxuICBhc3luYyBsb2dEYXRhQWNjZXNzKFxyXG4gICAgYWN0aW9uOiBzdHJpbmcsXHJcbiAgICByZXNvdXJjZTogc3RyaW5nLFxyXG4gICAgcmVzdWx0OiBBdWRpdFJlc3VsdCxcclxuICAgIHVzZXJJZD86IHN0cmluZyxcclxuICAgIHJlcXVlc3Q/OiB7IGlwOiBzdHJpbmc7IHVzZXJBZ2VudDogc3RyaW5nIH0sXHJcbiAgICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMubG9nRXZlbnQoe1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGFjdGlvbixcclxuICAgICAgcmVzb3VyY2UsXHJcbiAgICAgIGNhdGVnb3J5OiBBdWRpdENhdGVnb3J5LkRBVEFfQUNDRVNTLFxyXG4gICAgICBzZXZlcml0eTogcmVzdWx0ID09PSBBdWRpdFJlc3VsdC5VTkFVVEhPUklaRUQgPyBBdWRpdFNldmVyaXR5LkhJR0ggOiBBdWRpdFNldmVyaXR5Lk1FRElVTSxcclxuICAgICAgcmVzdWx0LFxyXG4gICAgICBpcEFkZHJlc3M6IHJlcXVlc3Q/LmlwIHx8ICd1bmtub3duJyxcclxuICAgICAgdXNlckFnZW50OiByZXF1ZXN0Py51c2VyQWdlbnQgfHwgJ3Vua25vd24nLFxyXG4gICAgICBtZXRhZGF0YSxcclxuICAgICAgY29tcGxpYW5jZUZsYWdzOiBbJ0lTTzI3MDAxJywgJ0RBVEFfQUNDRVNTX0xPRyddXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhIGNhbWJpb3MgYWRtaW5pc3RyYXRpdm9zXHJcbiAgICovXHJcbiAgYXN5bmMgbG9nQWRtaW5BY3Rpb24oXHJcbiAgICBhY3Rpb246IHN0cmluZyxcclxuICAgIHJlc291cmNlOiBzdHJpbmcsXHJcbiAgICByZXN1bHQ6IEF1ZGl0UmVzdWx0LFxyXG4gICAgdXNlcklkOiBzdHJpbmcsXHJcbiAgICByZXF1ZXN0OiB7IGlwOiBzdHJpbmc7IHVzZXJBZ2VudDogc3RyaW5nIH0sXHJcbiAgICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMubG9nRXZlbnQoe1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGFjdGlvbixcclxuICAgICAgcmVzb3VyY2UsXHJcbiAgICAgIGNhdGVnb3J5OiBBdWRpdENhdGVnb3J5LlNZU1RFTV9BRE1JTklTVFJBVElPTixcclxuICAgICAgc2V2ZXJpdHk6IEF1ZGl0U2V2ZXJpdHkuSElHSCxcclxuICAgICAgcmVzdWx0LFxyXG4gICAgICBpcEFkZHJlc3M6IHJlcXVlc3QuaXAsXHJcbiAgICAgIHVzZXJBZ2VudDogcmVxdWVzdC51c2VyQWdlbnQsXHJcbiAgICAgIG1ldGFkYXRhLFxyXG4gICAgICBjb21wbGlhbmNlRmxhZ3M6IFsnSVNPMjcwMDEnLCAnQURNSU5fQUNUSU9OJywgJ1BSSVZJTEVHRURfQUNDRVNTJ11cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhIElEIMO6bmljbyBwYXJhIGVsIGV2ZW50b1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2VuZXJhdGVFdmVudElkKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYGF1ZGl0XyR7RGF0ZS5ub3coKX1fJHtjcnlwdG8ucmFuZG9tQnl0ZXMoOCkudG9TdHJpbmcoJ2hleCcpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmEgaGFzaCBkZSBpbnRlZ3JpZGFkIHBhcmEgZWwgZXZlbnRvXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUV2ZW50SGFzaChldmVudDogT21pdDxBdWRpdEV2ZW50LCAnaGFzaCc+KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGV2ZW50U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBpZDogZXZlbnQuaWQsXHJcbiAgICAgIHRpbWVzdGFtcDogZXZlbnQudGltZXN0YW1wLFxyXG4gICAgICB1c2VySWQ6IGV2ZW50LnVzZXJJZCxcclxuICAgICAgYWN0aW9uOiBldmVudC5hY3Rpb24sXHJcbiAgICAgIHJlc291cmNlOiBldmVudC5yZXNvdXJjZSxcclxuICAgICAgY2F0ZWdvcnk6IGV2ZW50LmNhdGVnb3J5LFxyXG4gICAgICByZXN1bHQ6IGV2ZW50LnJlc3VsdFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNyeXB0b1xyXG4gICAgICAuY3JlYXRlSG1hYygnc2hhMjU2JywgdGhpcy5zZWNyZXRLZXkpXHJcbiAgICAgIC51cGRhdGUoZXZlbnRTdHJpbmcpXHJcbiAgICAgIC5kaWdlc3QoJ2hleCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWxtYWNlbmEgZWwgZXZlbnRvIGVuIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgKi9cclxuICBwcml2YXRlIGFzeW5jIHN0b3JlQXVkaXRFdmVudChldmVudDogQXVkaXRFdmVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCh0cnVlKTsgLy8gVXNhciBjbGllbnRlIGFkbWluaXN0cmF0aXZvXHJcblxyXG4gICAgaWYgKCFzdXBhYmFzZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBub3QgYXZhaWxhYmxlIGZvciBhdWRpdCBsb2dnaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2F1ZGl0X2V2ZW50cycpXHJcbiAgICAgIC5pbnNlcnQoe1xyXG4gICAgICAgIGlkOiBldmVudC5pZCxcclxuICAgICAgICB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcCxcclxuICAgICAgICB1c2VyX2lkOiBldmVudC51c2VySWQsXHJcbiAgICAgICAgc2Vzc2lvbl9pZDogZXZlbnQuc2Vzc2lvbklkLFxyXG4gICAgICAgIGFjdGlvbjogZXZlbnQuYWN0aW9uLFxyXG4gICAgICAgIHJlc291cmNlOiBldmVudC5yZXNvdXJjZSxcclxuICAgICAgICBjYXRlZ29yeTogZXZlbnQuY2F0ZWdvcnksXHJcbiAgICAgICAgc2V2ZXJpdHk6IGV2ZW50LnNldmVyaXR5LFxyXG4gICAgICAgIHJlc3VsdDogZXZlbnQucmVzdWx0LFxyXG4gICAgICAgIGlwX2FkZHJlc3M6IGV2ZW50LmlwQWRkcmVzcyxcclxuICAgICAgICB1c2VyX2FnZW50OiBldmVudC51c2VyQWdlbnQsXHJcbiAgICAgICAgcmVxdWVzdF9pZDogZXZlbnQucmVxdWVzdElkLFxyXG4gICAgICAgIG1ldGFkYXRhOiBldmVudC5tZXRhZGF0YSxcclxuICAgICAgICBoYXNoOiBldmVudC5oYXNoLFxyXG4gICAgICAgIGNvbXBsaWFuY2VfZmxhZ3M6IGV2ZW50LmNvbXBsaWFuY2VGbGFnc1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc3RvcmUgYXVkaXQgZXZlbnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluYSBzaSBlbCBldmVudG8gcmVxdWllcmUgYWxlcnRhIGlubWVkaWF0YVxyXG4gICAqL1xyXG4gIHByaXZhdGUgcmVxdWlyZXNBbGVydChldmVudDogQXVkaXRFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZXZlbnQuc2V2ZXJpdHkgPT09IEF1ZGl0U2V2ZXJpdHkuQ1JJVElDQUwgfHxcclxuICAgICAgZXZlbnQuY2F0ZWdvcnkgPT09IEF1ZGl0Q2F0ZWdvcnkuU0VDVVJJVFlfVklPTEFUSU9OIHx8XHJcbiAgICAgIGV2ZW50LnJlc3VsdCA9PT0gQXVkaXRSZXN1bHQuQkxPQ0tFRCB8fFxyXG4gICAgICBldmVudC5jb21wbGlhbmNlRmxhZ3M/LmluY2x1ZGVzKCdJTU1FRElBVEVfQUxFUlQnKSB8fFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVudsOtYSBhbGVydGEgZGUgc2VndXJpZGFkXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBzZW5kU2VjdXJpdHlBbGVydChldmVudDogQXVkaXRFdmVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTG9nIGlubWVkaWF0byBwYXJhIGFsZXJ0YXMgY3LDrXRpY2FzXHJcbiAgICAgIGxvZ2dlci5zZWN1cml0eShMb2dMZXZlbC5FUlJPUiwgYFNFQ1VSSVRZIEFMRVJUOiAke2V2ZW50LmFjdGlvbn1gLCB7XHJcbiAgICAgICAgZXZlbnRJZDogZXZlbnQuaWQsXHJcbiAgICAgICAgY2F0ZWdvcnk6IGV2ZW50LmNhdGVnb3J5LFxyXG4gICAgICAgIHNldmVyaXR5OiBldmVudC5zZXZlcml0eSxcclxuICAgICAgICByZXN1bHQ6IGV2ZW50LnJlc3VsdCxcclxuICAgICAgICBpcEFkZHJlc3M6IGV2ZW50LmlwQWRkcmVzcyxcclxuICAgICAgICB1c2VySWQ6IGV2ZW50LnVzZXJJZCxcclxuICAgICAgICByZXNvdXJjZTogZXZlbnQucmVzb3VyY2VcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBub3RpZmljYWNpb25lcyBhZGljaW9uYWxlcyAoZW1haWwsIFNsYWNrLCBldGMuKVxyXG4gICAgICAvLyBhd2FpdCB0aGlzLnNlbmRFbWFpbEFsZXJ0KGV2ZW50KTtcclxuICAgICAgLy8gYXdhaXQgdGhpcy5zZW5kU2xhY2tBbGVydChldmVudCk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnRmFpbGVkIHRvIHNlbmQgc2VjdXJpdHkgYWxlcnQnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICAgIGV2ZW50SWQ6IGV2ZW50LmlkXHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBWZXJpZmljYSBsYSBpbnRlZ3JpZGFkIGRlIHVuIGV2ZW50b1xyXG4gICAqL1xyXG4gIGFzeW5jIHZlcmlmeUV2ZW50SW50ZWdyaXR5KGV2ZW50OiBBdWRpdEV2ZW50KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBjb25zdCBleHBlY3RlZEhhc2ggPSB0aGlzLmdlbmVyYXRlRXZlbnRIYXNoKHtcclxuICAgICAgLi4uZXZlbnQsXHJcbiAgICAgIGhhc2g6ICcnXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZXZlbnQuaGFzaCA9PT0gZXhwZWN0ZWRIYXNoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0aWVuZSBldmVudG9zIGRlIGF1ZGl0b3LDrWEgY29uIGZpbHRyb3NcclxuICAgKi9cclxuICBhc3luYyBnZXRBdWRpdEV2ZW50cyhmaWx0ZXJzOiB7XHJcbiAgICB1c2VySWQ/OiBzdHJpbmc7XHJcbiAgICBjYXRlZ29yeT86IEF1ZGl0Q2F0ZWdvcnk7XHJcbiAgICBzZXZlcml0eT86IEF1ZGl0U2V2ZXJpdHk7XHJcbiAgICBzdGFydERhdGU/OiBzdHJpbmc7XHJcbiAgICBlbmREYXRlPzogc3RyaW5nO1xyXG4gICAgbGltaXQ/OiBudW1iZXI7XHJcbiAgfSk6IFByb21pc2U8QXVkaXRFdmVudFtdPiB7XHJcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KHRydWUpO1xyXG5cclxuICAgIGlmICghc3VwYWJhc2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBjbGllbnQgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhdWRpdF9ldmVudHMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLm9yZGVyKCd0aW1lc3RhbXAnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGZpbHRlcnMudXNlcklkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3VzZXJfaWQnLCBmaWx0ZXJzLnVzZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbHRlcnMuY2F0ZWdvcnkpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2F0ZWdvcnknLCBmaWx0ZXJzLmNhdGVnb3J5KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVycy5zZXZlcml0eSkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdzZXZlcml0eScsIGZpbHRlcnMuc2V2ZXJpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXJzLnN0YXJ0RGF0ZSkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgndGltZXN0YW1wJywgZmlsdGVycy5zdGFydERhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXJzLmVuZERhdGUpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ3RpbWVzdGFtcCcsIGZpbHRlcnMuZW5kRGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbHRlcnMubGltaXQpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5saW1pdChmaWx0ZXJzLmxpbWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcmV0cmlldmUgYXVkaXQgZXZlbnRzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGEgfHwgW107XHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBhdWRpdFRyYWlsID0gQXVkaXRUcmFpbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbi8vIEZ1bmNpb25lcyBkZSBjb252ZW5pZW5jaWFcclxuZXhwb3J0IGNvbnN0IGxvZ0F1dGhlbnRpY2F0aW9uID0gYXVkaXRUcmFpbC5sb2dBdXRoZW50aWNhdGlvbi5iaW5kKGF1ZGl0VHJhaWwpO1xyXG5leHBvcnQgY29uc3QgbG9nUGF5bWVudEV2ZW50ID0gYXVkaXRUcmFpbC5sb2dQYXltZW50RXZlbnQuYmluZChhdWRpdFRyYWlsKTtcclxuZXhwb3J0IGNvbnN0IGxvZ1NlY3VyaXR5VmlvbGF0aW9uID0gYXVkaXRUcmFpbC5sb2dTZWN1cml0eVZpb2xhdGlvbi5iaW5kKGF1ZGl0VHJhaWwpO1xyXG5leHBvcnQgY29uc3QgbG9nRGF0YUFjY2VzcyA9IGF1ZGl0VHJhaWwubG9nRGF0YUFjY2Vzcy5iaW5kKGF1ZGl0VHJhaWwpO1xyXG5leHBvcnQgY29uc3QgbG9nQWRtaW5BY3Rpb24gPSBhdWRpdFRyYWlsLmxvZ0FkbWluQWN0aW9uLmJpbmQoYXVkaXRUcmFpbCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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