{"version":3,"names":["cov_kpm3xjm1v","actualCoverage","s","default","f","_default","useCartNotification","CartNotification","show","productName","productImage","onClose","isVisible","setIsVisible","_react","useState","openCartModal","_CartSidebarModalContext","useCartModalContext","cartItems","_store","useAppSelector","state","cartReducer","items","useEffect","b","timer","setTimeout","clearTimeout","undefined","handleViewCart","handleClose","_jsxruntime","jsxs","jsx","_lucidereact","Check","className","onClick","X","_image","src","alt","width","height","length","_button","Button","variant","size","ShoppingCart","style","animation","notification","setNotification","showNotification","hideNotification","prev"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Common\\CartNotification.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAppSelector } from '@/redux/store';\r\nimport { ShoppingCart, X, Check } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useCartModalContext } from '@/app/context/CartSidebarModalContext';\r\nimport Image from 'next/image';\r\n\r\ninterface CartNotificationProps {\r\n  show: boolean;\r\n  productName?: string;\r\n  productImage?: string;\r\n  onClose?: () => void;\r\n}\r\n\r\nconst CartNotification: React.FC<CartNotificationProps> = ({\r\n  show,\r\n  productName,\r\n  productImage,\r\n  onClose\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const { openCartModal } = useCartModalContext();\r\n  const cartItems = useAppSelector((state) => state.cartReducer.items);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      setIsVisible(true);\r\n      // Auto-hide después de 4 segundos\r\n      const timer = setTimeout(() => {\r\n        setIsVisible(false);\r\n        onClose?.();\r\n      }, 4000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n    // Return undefined cuando show es false\r\n    return undefined;\r\n  }, [show, onClose]);\r\n\r\n  const handleViewCart = () => {\r\n    openCartModal();\r\n    setIsVisible(false);\r\n    onClose?.();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setIsVisible(false);\r\n    onClose?.();\r\n  };\r\n\r\n  if (!show || !isVisible) {return null;}\r\n\r\n  return (\r\n    <div className=\"fixed top-4 right-4 z-notification animate-slide-in-right\">\r\n      <div className=\"bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm w-full\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\r\n              <Check className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <span className=\"font-semibold text-gray-900\">¡Agregado al carrito!</span>\r\n          </div>\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Product Info */}\r\n        {(productName || productImage) && (\r\n          <div className=\"flex items-center gap-3 mb-4 p-2 bg-gray-50 rounded-lg\">\r\n            {productImage && (\r\n              <div className=\"w-12 h-12 bg-white rounded-lg overflow-hidden flex-shrink-0\">\r\n                <Image\r\n                  src={productImage}\r\n                  alt={productName || 'Producto'}\r\n                  width={48}\r\n                  height={48}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            )}\r\n            {productName && (\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                  {productName}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500\">\r\n                  Cantidad en carrito: {cartItems.length} {cartItems.length === 1 ? 'producto' : 'productos'}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={handleClose}\r\n            className=\"flex-1\"\r\n          >\r\n            Seguir comprando\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            size=\"sm\"\r\n            onClick={handleViewCart}\r\n            className=\"flex-1 flex items-center gap-1\"\r\n          >\r\n            <ShoppingCart className=\"w-4 h-4\" />\r\n            Ver carrito\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Progress bar */}\r\n        <div className=\"mt-3\">\r\n          <div className=\"w-full bg-gray-200 rounded-full h-1\">\r\n            <div \r\n              className=\"bg-green-500 h-1 rounded-full animate-pulse\"\r\n              style={{ \r\n                width: '100%',\r\n                animation: 'progress 4s linear forwards'\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes progress {\r\n          from { width: 100%; }\r\n          to { width: 0%; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Hook para manejar las notificaciones del carrito\r\nexport const useCartNotification = () => {\r\n  const [notification, setNotification] = useState<{\r\n    show: boolean;\r\n    productName?: string;\r\n    productImage?: string;\r\n  }>({\r\n    show: false\r\n  });\r\n\r\n  const showNotification = (productName?: string, productImage?: string) => {\r\n    setNotification({\r\n      show: true,\r\n      productName,\r\n      productImage\r\n    });\r\n  };\r\n\r\n  const hideNotification = () => {\r\n    setNotification(prev => ({ ...prev, show: false }));\r\n  };\r\n\r\n  return {\r\n    notification,\r\n    showNotification,\r\n    hideNotification\r\n  };\r\n};\r\n\r\nexport default CartNotification;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}