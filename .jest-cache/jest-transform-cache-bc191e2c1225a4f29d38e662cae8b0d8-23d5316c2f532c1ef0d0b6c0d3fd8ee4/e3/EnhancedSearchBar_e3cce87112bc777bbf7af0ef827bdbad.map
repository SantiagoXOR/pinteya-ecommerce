{"version":3,"names":["_default","categories","cov_1xk6jywr3s","s","id","name","icon","_optimizedimports","Package","placeholder","Palette","Wrench","Sparkles","Brush","EnhancedSearchBar","className","onSearch","onSuggestionSelect","size","b","testId","f","selectedCategory","setSelectedCategory","_react","useState","handleCategorySelect","useCallback","category","handleSearch","query","undefined","handleSuggestionSelect","suggestion","sizeClasses","sm","md","lg","buttonSizeClasses","categorySizeClasses","_jsxruntime","jsx","_utils","cn","jsxs","_dropdownmenu","DropdownMenu","DropdownMenuTrigger","asChild","_button","Button","variant","ChevronDown","DropdownMenuContent","align","map","DropdownMenuItem","onClick","_SearchAutocompleteIntegrated","SearchAutocompleteIntegrated","maxSuggestions","debounceMs","showRecentSearches","showTrendingSearches","type","searchInput","document","querySelector","value"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Header\\EnhancedSearchBar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { Search, ChevronDown, Palette, Brush, Wrench, Package, Sparkles } from \"@/lib/optimized-imports\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { SearchAutocompleteIntegrated } from \"@/components/ui/SearchAutocompleteIntegrated\";\r\nimport { type SearchSuggestion } from \"@/hooks/useSearch\";\r\n\r\n// Definición de categorías con iconos y placeholders profesionales\r\nconst categories = [\r\n  { id: \"all\", name: \"Todas las Categorías\", icon: Package, placeholder: \"Látex interior blanco 20lts, rodillos, pinceles...\" },\r\n  { id: \"pinturas\", name: \"Pinturas\", icon: Palette, placeholder: \"Látex Sherwin Williams, esmalte sintético...\" },\r\n  { id: \"herramientas\", name: \"Herramientas\", icon: Wrench, placeholder: \"Rodillos premium, pinceles profesionales...\" },\r\n  { id: \"accesorios\", name: \"Accesorios\", icon: Package, placeholder: \"Bandejas, extensores, cintas de papel...\" },\r\n  { id: \"barnices\", name: \"Barnices\", icon: Sparkles, placeholder: \"Barniz marino, poliuretánico brillante...\" },\r\n  { id: \"esmaltes\", name: \"Esmaltes\", icon: Brush, placeholder: \"Esmalte sintético blanco, antióxido rojo...\" },\r\n];\r\n\r\ninterface EnhancedSearchBarProps {\r\n  className?: string;\r\n  onSearch?: (query: string, category?: string) => void;\r\n  onSuggestionSelect?: (suggestion: SearchSuggestion) => void;\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n  \"data-testid\"?: string;\r\n}\r\n\r\nconst EnhancedSearchBar: React.FC<EnhancedSearchBarProps> = ({\r\n  className,\r\n  onSearch,\r\n  onSuggestionSelect,\r\n  size = \"md\",\r\n  \"data-testid\": testId,\r\n}) => {\r\n  const [selectedCategory, setSelectedCategory] = useState(categories[0]);\r\n\r\n  const handleCategorySelect = useCallback((category: typeof categories[0]) => {\r\n    setSelectedCategory(category);\r\n  }, []);\r\n\r\n  const handleSearch = useCallback((query: string) => {\r\n    // Llamar al callback externo (que manejará la búsqueda)\r\n    onSearch?.(query, selectedCategory.id !== \"all\" ? selectedCategory.id : undefined);\r\n  }, [onSearch, selectedCategory.id]);\r\n\r\n  const handleSuggestionSelect = useCallback((suggestion: SearchSuggestion) => {\r\n    // Llamar al callback externo (que manejará la selección)\r\n    onSuggestionSelect?.(suggestion);\r\n  }, [onSuggestionSelect]);\r\n\r\n  const sizeClasses = {\r\n    sm: \"h-10\",\r\n    md: \"h-12\",\r\n    lg: \"h-14\"\r\n  };\r\n\r\n  const buttonSizeClasses = {\r\n    sm: \"h-10 px-4\",\r\n    md: \"h-12 px-6\",\r\n    lg: \"h-14 px-8\"\r\n  };\r\n\r\n  const categorySizeClasses = {\r\n    sm: \"h-10 px-3 text-xs\",\r\n    md: \"h-12 px-4 text-sm\",\r\n    lg: \"h-14 px-5 text-base\"\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"w-full max-w-2xl\", className)}>\r\n      {/* Formulario de búsqueda con selector de categorías */}\r\n      <div className=\"flex items-center bg-white border-2 border-white/20 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-white focus-within:border-white shadow-lg search-focus-ring\">\r\n        {/* Selector de categorías */}\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button\r\n              variant=\"ghost\"\r\n              className={cn(\r\n                \"flex-shrink-0 border-0 rounded-none border-r border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700 hover:text-gray-900 gap-2\",\r\n                categorySizeClasses[size]\r\n              )}\r\n              aria-expanded=\"false\"\r\n              aria-haspopup=\"menu\"\r\n              data-testid=\"category-selector\"\r\n            >\r\n              <selectedCategory.icon className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline font-medium\">{selectedCategory.name}</span>\r\n              <span className=\"sm:hidden font-medium\">\r\n                {selectedCategory.id === \"all\" ? \"Todo\" : selectedCategory.name}\r\n              </span>\r\n              <ChevronDown className=\"w-3 h-3\" />\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"start\" className=\"w-56\" data-testid=\"category-dropdown\">\r\n            {categories.map((category) => (\r\n              <DropdownMenuItem\r\n                key={category.id}\r\n                onClick={() => handleCategorySelect(category)}\r\n                className={cn(\r\n                  \"flex items-center gap-3 py-2\",\r\n                  selectedCategory.id === category.id && \"bg-accent\"\r\n                )}\r\n                data-testid={`category-${category.id}`}\r\n              >\r\n                <category.icon className=\"w-4 h-4\" />\r\n                <span>{category.name}</span>\r\n              </DropdownMenuItem>\r\n            ))}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n\r\n        {/* Campo de búsqueda con autocompletado */}\r\n        <div className=\"flex-1 relative\">\r\n          <SearchAutocompleteIntegrated\r\n            // Props de configuración\r\n            placeholder={selectedCategory.placeholder}\r\n            onSearch={handleSearch}\r\n            onSuggestionSelect={handleSuggestionSelect}\r\n            size={size}\r\n            className=\"w-full [&>div>div>input]:border-0 [&>div>div>input]:rounded-none [&>div>div>input]:bg-white [&>div>div>input]:focus:ring-0 [&>div>div>input]:focus:border-gray-300\"\r\n            maxSuggestions={6}\r\n            debounceMs={150}\r\n            showRecentSearches={true}\r\n            showTrendingSearches={true}\r\n            data-testid={testId || \"search-input\"}\r\n          />\r\n        </div>\r\n\r\n        {/* Botón de búsqueda - SIN ícono duplicado */}\r\n        <Button\r\n          type=\"submit\"\r\n          className={cn(\r\n            \"rounded-l-none bg-bright-sun hover:bg-bright-sun-600 text-black border-bright-sun hover:border-bright-sun-600 flex-shrink-0 button-hover-lift font-bold transition-all duration-200\",\r\n            buttonSizeClasses[size]\r\n          )}\r\n          onClick={() => {\r\n            // Trigger search from SearchAutocomplete if needed\r\n            const searchInput = document.querySelector('[data-testid=\"search-input\"]') as HTMLInputElement;\r\n            if (searchInput?.value) {\r\n              handleSearch(searchInput.value);\r\n            }\r\n          }}\r\n        >\r\n          <span className=\"font-medium\">Buscar</span>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedSearchBar;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}