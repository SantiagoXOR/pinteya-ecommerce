39b1ae34b2aaa9eec18a833e39ecd484
"use strict";
// Mock de los componentes del Design System
jest.mock('../shipping-info', ()=>({
        ShippingInfo: ({ options, selectedOption })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "shipping-info",
                children: [
                    "Shipping options for: ",
                    selectedOption
                ]
            })
    }));
jest.mock('../cart-summary', ()=>({
        CartSummary: ({ cartItems, variant })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "cart-summary",
                children: [
                    "Cart Summary - ",
                    cartItems.length,
                    " items - ",
                    variant
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _checkoutflow = require("../checkout-flow");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockCartItems = [
    {
        id: 1,
        title: 'Pintura Sherwin Williams 4L',
        price: 10000,
        discountedPrice: 8500,
        quantity: 2
    }
];
const mockCheckoutData = {
    totalPrice: 17000,
    shippingCost: 2500,
    discount: 0,
    finalTotal: 19500,
    shippingMethod: 'standard'
};
describe('CheckoutFlow', ()=>{
    const defaultProps = {
        cartItems: mockCartItems,
        checkoutData: mockCheckoutData
    };
    it('renders checkout flow with basic elements', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('Finalizar Compra')).toBeInTheDocument();
        expect(_react1.screen.getByRole('button', {
            name: /completar pedido/i
        })).toBeInTheDocument();
        expect(_react1.screen.getByTestId('cart-summary')).toBeInTheDocument();
    });
    it('renders without errors when no errors provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        // No debería mostrar sección de errores
        expect(_react1.screen.queryByText('Errores:')).not.toBeInTheDocument();
    });
    it('displays cart summary correctly', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        // Verificar que CartSummary se renderiza con los datos correctos
        expect(_react1.screen.getByTestId('cart-summary')).toBeInTheDocument();
    });
    it('renders with proper accessibility', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        // Verificar elementos accesibles
        expect(_react1.screen.getByRole('button', {
            name: /completar pedido/i
        })).toBeInTheDocument();
    });
    it('renders with custom className', ()=>{
        const customClass = 'custom-checkout-class';
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            className: customClass
        }));
        // Verificar que la clase se aplica al contenedor principal
        expect(container.firstChild).toHaveClass(customClass);
    });
    it('shows cart summary by default', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        expect(_react1.screen.getByTestId('cart-summary')).toBeInTheDocument();
        expect(_react1.screen.getByText('Cart Summary - 1 items - compact')).toBeInTheDocument();
    });
    it('renders with empty cart items', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            cartItems: []
        }));
        expect(_react1.screen.getByTestId('cart-summary')).toBeInTheDocument();
        expect(_react1.screen.getByText('Cart Summary - 0 items - compact')).toBeInTheDocument();
    });
    it('calls onComplete when complete button is clicked', ()=>{
        const mockOnComplete = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            onComplete: mockOnComplete
        }));
        const completeButton = _react1.screen.getByRole('button', {
            name: /completar pedido/i
        });
        _react1.fireEvent.click(completeButton);
        expect(mockOnComplete).toHaveBeenCalledTimes(1);
    });
    it('disables complete button when loading', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            isLoading: true
        }));
        const completeButton = _react1.screen.getByRole('button', {
            name: /procesando/i
        });
        expect(completeButton).toBeDisabled();
    });
    it('shows complete button by default', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('Finalizar Compra')).toBeInTheDocument();
        expect(_react1.screen.getByRole('button', {
            name: /completar pedido/i
        })).toBeInTheDocument();
    });
    it('calls onComplete when finish button is clicked', ()=>{
        const mockOnComplete = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            onComplete: mockOnComplete
        }));
        const finishButton = _react1.screen.getByRole('button', {
            name: /completar pedido/i
        });
        _react1.fireEvent.click(finishButton);
        expect(mockOnComplete).toHaveBeenCalledTimes(1);
    });
    it('shows loading state', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            isLoading: true
        }));
        expect(_react1.screen.getByText('Procesando...')).toBeInTheDocument();
    });
    it('displays errors when present', ()=>{
        const errors = {
            email: 'Email es requerido',
            address: 'Dirección es requerida'
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            errors: errors
        }));
        expect(_react1.screen.getByText('Errores:')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Email es requerido')).toBeInTheDocument();
        expect(_react1.screen.getByText('• Dirección es requerida')).toBeInTheDocument();
    });
    it('renders with custom children content', ()=>{
        const customContent = /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: "Custom checkout content"
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            children: customContent
        }));
        expect(_react1.screen.getByText('Custom checkout content')).toBeInTheDocument();
        expect(_react1.screen.getByText('Finalizar Compra')).toBeInTheDocument();
    });
    it('renders cart summary with correct data', ()=>{
        const checkoutData = {
            totalPrice: 100,
            shippingCost: 10,
            discount: 5,
            finalTotal: 105
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            checkoutData: checkoutData
        }));
        // Verificar que el componente se renderiza (CartSummary está presente)
        expect(_react1.screen.getByText('Finalizar Compra')).toBeInTheDocument();
    });
    it('shows loading state correctly', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            isLoading: true
        }));
        // Verificar que muestra el estado de carga
        expect(_react1.screen.getByText('Procesando...')).toBeInTheDocument();
        // Verificar que el botón está deshabilitado
        const button = _react1.screen.getByRole('button', {
            name: /procesando/i
        });
        expect(button).toBeDisabled();
    });
    it('renders children content', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_checkoutflow.CheckoutFlow, {
            ...defaultProps,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "custom-content",
                children: "Custom step content"
            })
        }));
        expect(_react1.screen.getByTestId('custom-content')).toBeInTheDocument();
        expect(_react1.screen.getByText('Custom step content')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXF9fdGVzdHNfX1xcY2hlY2tvdXQtZmxvdy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xyXG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nXHJcbmltcG9ydCB7IENoZWNrb3V0RmxvdyB9IGZyb20gJy4uL2NoZWNrb3V0LWZsb3cnXHJcblxyXG5pbnRlcmZhY2UgU2hpcHBpbmdJbmZvUHJvcHMge1xyXG4gIG9wdGlvbnM6IHN0cmluZ1tdO1xyXG4gIHNlbGVjdGVkT3B0aW9uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBDYXJ0U3VtbWFyeVByb3BzIHtcclxuICBjYXJ0SXRlbXM6IEFycmF5PHsgaWQ6IG51bWJlcjsgdGl0bGU6IHN0cmluZzsgcHJpY2U6IG51bWJlcjsgcXVhbnRpdHk6IG51bWJlciB9PjtcclxuICB2YXJpYW50OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIE1vY2sgZGUgbG9zIGNvbXBvbmVudGVzIGRlbCBEZXNpZ24gU3lzdGVtXHJcbmplc3QubW9jaygnLi4vc2hpcHBpbmctaW5mbycsICgpID0+ICh7XHJcbiAgU2hpcHBpbmdJbmZvOiAoeyBvcHRpb25zLCBzZWxlY3RlZE9wdGlvbiB9OiBTaGlwcGluZ0luZm9Qcm9wcykgPT4gKFxyXG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cInNoaXBwaW5nLWluZm9cIj5cclxuICAgICAgU2hpcHBpbmcgb3B0aW9ucyBmb3I6IHtzZWxlY3RlZE9wdGlvbn1cclxuICAgIDwvZGl2PlxyXG4gIClcclxufSkpXHJcblxyXG5qZXN0Lm1vY2soJy4uL2NhcnQtc3VtbWFyeScsICgpID0+ICh7XHJcbiAgQ2FydFN1bW1hcnk6ICh7IGNhcnRJdGVtcywgdmFyaWFudCB9OiBDYXJ0U3VtbWFyeVByb3BzKSA9PiAoXHJcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY2FydC1zdW1tYXJ5XCI+XHJcbiAgICAgIENhcnQgU3VtbWFyeSAtIHtjYXJ0SXRlbXMubGVuZ3RofSBpdGVtcyAtIHt2YXJpYW50fVxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59KSlcclxuXHJcbmNvbnN0IG1vY2tDYXJ0SXRlbXMgPSBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICB0aXRsZTogJ1BpbnR1cmEgU2hlcndpbiBXaWxsaWFtcyA0TCcsXHJcbiAgICBwcmljZTogMTAwMDAsXHJcbiAgICBkaXNjb3VudGVkUHJpY2U6IDg1MDAsXHJcbiAgICBxdWFudGl0eTogMlxyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgbW9ja0NoZWNrb3V0RGF0YSA9IHtcclxuICB0b3RhbFByaWNlOiAxNzAwMCxcclxuICBzaGlwcGluZ0Nvc3Q6IDI1MDAsXHJcbiAgZGlzY291bnQ6IDAsXHJcbiAgZmluYWxUb3RhbDogMTk1MDAsXHJcbiAgc2hpcHBpbmdNZXRob2Q6ICdzdGFuZGFyZCcgYXMgY29uc3RcclxufVxyXG5cclxuZGVzY3JpYmUoJ0NoZWNrb3V0RmxvdycsICgpID0+IHtcclxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBjYXJ0SXRlbXM6IG1vY2tDYXJ0SXRlbXMsXHJcbiAgICBjaGVja291dERhdGE6IG1vY2tDaGVja291dERhdGFcclxuICB9XHJcblxyXG4gIGl0KCdyZW5kZXJzIGNoZWNrb3V0IGZsb3cgd2l0aCBiYXNpYyBlbGVtZW50cycsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q2hlY2tvdXRGbG93IHsuLi5kZWZhdWx0UHJvcHN9IC8+KVxyXG5cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGaW5hbGl6YXIgQ29tcHJhJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb21wbGV0YXIgcGVkaWRvL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NhcnQtc3VtbWFyeScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aG91dCBlcnJvcnMgd2hlbiBubyBlcnJvcnMgcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENoZWNrb3V0RmxvdyB7Li4uZGVmYXVsdFByb3BzfSAvPilcclxuXHJcbiAgICAvLyBObyBkZWJlcsOtYSBtb3N0cmFyIHNlY2Npw7NuIGRlIGVycm9yZXNcclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0Vycm9yZXM6JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2Rpc3BsYXlzIGNhcnQgc3VtbWFyeSBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENoZWNrb3V0RmxvdyB7Li4uZGVmYXVsdFByb3BzfSAvPilcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIENhcnRTdW1tYXJ5IHNlIHJlbmRlcml6YSBjb24gbG9zIGRhdG9zIGNvcnJlY3Rvc1xyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY2FydC1zdW1tYXJ5JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgncmVuZGVycyB3aXRoIHByb3BlciBhY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30gLz4pXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIGVsZW1lbnRvcyBhY2Nlc2libGVzXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29tcGxldGFyIHBlZGlkby9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aCBjdXN0b20gY2xhc3NOYW1lJywgKCkgPT4ge1xyXG4gICAgY29uc3QgY3VzdG9tQ2xhc3MgPSAnY3VzdG9tLWNoZWNrb3V0LWNsYXNzJ1xyXG5cclxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXHJcbiAgICAgIDxDaGVja291dEZsb3dcclxuICAgICAgICB7Li4uZGVmYXVsdFByb3BzfVxyXG4gICAgICAgIGNsYXNzTmFtZT17Y3VzdG9tQ2xhc3N9XHJcbiAgICAgIC8+XHJcbiAgICApXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBsYSBjbGFzZSBzZSBhcGxpY2EgYWwgY29udGVuZWRvciBwcmluY2lwYWxcclxuICAgIGV4cGVjdChjb250YWluZXIuZmlyc3RDaGlsZCkudG9IYXZlQ2xhc3MoY3VzdG9tQ2xhc3MpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3Nob3dzIGNhcnQgc3VtbWFyeSBieSBkZWZhdWx0JywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30gLz4pXHJcblxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY2FydC1zdW1tYXJ5JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYXJ0IFN1bW1hcnkgLSAxIGl0ZW1zIC0gY29tcGFjdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aCBlbXB0eSBjYXJ0IGl0ZW1zJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30gY2FydEl0ZW1zPXtbXX0gLz4pXHJcblxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY2FydC1zdW1tYXJ5JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYXJ0IFN1bW1hcnkgLSAwIGl0ZW1zIC0gY29tcGFjdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2NhbGxzIG9uQ29tcGxldGUgd2hlbiBjb21wbGV0ZSBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tPbkNvbXBsZXRlID0gamVzdC5mbigpXHJcblxyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30gb25Db21wbGV0ZT17bW9ja09uQ29tcGxldGV9IC8+KVxyXG5cclxuICAgIGNvbnN0IGNvbXBsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29tcGxldGFyIHBlZGlkby9pIH0pXHJcbiAgICBmaXJlRXZlbnQuY2xpY2soY29tcGxldGVCdXR0b24pXHJcblxyXG4gICAgZXhwZWN0KG1vY2tPbkNvbXBsZXRlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSlcclxuICB9KVxyXG5cclxuICBpdCgnZGlzYWJsZXMgY29tcGxldGUgYnV0dG9uIHdoZW4gbG9hZGluZycsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q2hlY2tvdXRGbG93IHsuLi5kZWZhdWx0UHJvcHN9IGlzTG9hZGluZz17dHJ1ZX0gLz4pXHJcblxyXG4gICAgY29uc3QgY29tcGxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcm9jZXNhbmRvL2kgfSlcclxuICAgIGV4cGVjdChjb21wbGV0ZUJ1dHRvbikudG9CZURpc2FibGVkKClcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgY29tcGxldGUgYnV0dG9uIGJ5IGRlZmF1bHQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENoZWNrb3V0RmxvdyB7Li4uZGVmYXVsdFByb3BzfSAvPilcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmluYWxpemFyIENvbXByYScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29tcGxldGFyIHBlZGlkby9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2NhbGxzIG9uQ29tcGxldGUgd2hlbiBmaW5pc2ggYnV0dG9uIGlzIGNsaWNrZWQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrT25Db21wbGV0ZSA9IGplc3QuZm4oKVxyXG5cclxuICAgIHJlbmRlcihcclxuICAgICAgPENoZWNrb3V0Rmxvd1xyXG4gICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9XHJcbiAgICAgICAgb25Db21wbGV0ZT17bW9ja09uQ29tcGxldGV9XHJcbiAgICAgIC8+XHJcbiAgICApXHJcblxyXG4gICAgY29uc3QgZmluaXNoQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29tcGxldGFyIHBlZGlkby9pIH0pXHJcbiAgICBmaXJlRXZlbnQuY2xpY2soZmluaXNoQnV0dG9uKVxyXG5cclxuICAgIGV4cGVjdChtb2NrT25Db21wbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3Nob3dzIGxvYWRpbmcgc3RhdGUnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxDaGVja291dEZsb3dcclxuICAgICAgICB7Li4uZGVmYXVsdFByb3BzfVxyXG4gICAgICAgIGlzTG9hZGluZz17dHJ1ZX1cclxuICAgICAgLz5cclxuICAgIClcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvY2VzYW5kby4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2Rpc3BsYXlzIGVycm9ycyB3aGVuIHByZXNlbnQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvcnMgPSB7XHJcbiAgICAgIGVtYWlsOiAnRW1haWwgZXMgcmVxdWVyaWRvJyxcclxuICAgICAgYWRkcmVzczogJ0RpcmVjY2nDs24gZXMgcmVxdWVyaWRhJ1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcig8Q2hlY2tvdXRGbG93IHsuLi5kZWZhdWx0UHJvcHN9IGVycm9ycz17ZXJyb3JzfSAvPilcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXJyb3JlczonKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+KAoiBFbWFpbCBlcyByZXF1ZXJpZG8nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+KAoiBEaXJlY2Npw7NuIGVzIHJlcXVlcmlkYScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aCBjdXN0b20gY2hpbGRyZW4gY29udGVudCcsICgpID0+IHtcclxuICAgIGNvbnN0IGN1c3RvbUNvbnRlbnQgPSA8ZGl2PkN1c3RvbSBjaGVja291dCBjb250ZW50PC9kaXY+XHJcblxyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30+e2N1c3RvbUNvbnRlbnR9PC9DaGVja291dEZsb3c+KVxyXG5cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDdXN0b20gY2hlY2tvdXQgY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmluYWxpemFyIENvbXByYScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgY2FydCBzdW1tYXJ5IHdpdGggY29ycmVjdCBkYXRhJywgKCkgPT4ge1xyXG4gICAgY29uc3QgY2hlY2tvdXREYXRhID0ge1xyXG4gICAgICB0b3RhbFByaWNlOiAxMDAsXHJcbiAgICAgIHNoaXBwaW5nQ29zdDogMTAsXHJcbiAgICAgIGRpc2NvdW50OiA1LFxyXG4gICAgICBmaW5hbFRvdGFsOiAxMDVcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoPENoZWNrb3V0RmxvdyB7Li4uZGVmYXVsdFByb3BzfSBjaGVja291dERhdGE9e2NoZWNrb3V0RGF0YX0gLz4pXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBjb21wb25lbnRlIHNlIHJlbmRlcml6YSAoQ2FydFN1bW1hcnkgZXN0w6EgcHJlc2VudGUpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmluYWxpemFyIENvbXByYScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3Nob3dzIGxvYWRpbmcgc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30gaXNMb2FkaW5nPXt0cnVlfSAvPilcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIG11ZXN0cmEgZWwgZXN0YWRvIGRlIGNhcmdhXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvY2VzYW5kby4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBib3TDs24gZXN0w6EgZGVzaGFiaWxpdGFkb1xyXG4gICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvcHJvY2VzYW5kby9pIH0pXHJcbiAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdyZW5kZXJzIGNoaWxkcmVuIGNvbnRlbnQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxDaGVja291dEZsb3cgey4uLmRlZmF1bHRQcm9wc30+XHJcbiAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImN1c3RvbS1jb250ZW50XCI+Q3VzdG9tIHN0ZXAgY29udGVudDwvZGl2PlxyXG4gICAgICA8L0NoZWNrb3V0Rmxvdz5cclxuICAgIClcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjdXN0b20tY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ3VzdG9tIHN0ZXAgY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiU2hpcHBpbmdJbmZvIiwib3B0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJDYXJ0U3VtbWFyeSIsImNhcnRJdGVtcyIsInZhcmlhbnQiLCJsZW5ndGgiLCJtb2NrQ2FydEl0ZW1zIiwiaWQiLCJ0aXRsZSIsInByaWNlIiwiZGlzY291bnRlZFByaWNlIiwicXVhbnRpdHkiLCJtb2NrQ2hlY2tvdXREYXRhIiwidG90YWxQcmljZSIsInNoaXBwaW5nQ29zdCIsImRpc2NvdW50IiwiZmluYWxUb3RhbCIsInNoaXBwaW5nTWV0aG9kIiwiZGVzY3JpYmUiLCJkZWZhdWx0UHJvcHMiLCJjaGVja291dERhdGEiLCJpdCIsInJlbmRlciIsIkNoZWNrb3V0RmxvdyIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QnlSb2xlIiwibmFtZSIsImdldEJ5VGVzdElkIiwicXVlcnlCeVRleHQiLCJub3QiLCJjdXN0b21DbGFzcyIsImNvbnRhaW5lciIsImNsYXNzTmFtZSIsImZpcnN0Q2hpbGQiLCJ0b0hhdmVDbGFzcyIsIm1vY2tPbkNvbXBsZXRlIiwiZm4iLCJvbkNvbXBsZXRlIiwiY29tcGxldGVCdXR0b24iLCJmaXJlRXZlbnQiLCJjbGljayIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsImlzTG9hZGluZyIsInRvQmVEaXNhYmxlZCIsImZpbmlz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