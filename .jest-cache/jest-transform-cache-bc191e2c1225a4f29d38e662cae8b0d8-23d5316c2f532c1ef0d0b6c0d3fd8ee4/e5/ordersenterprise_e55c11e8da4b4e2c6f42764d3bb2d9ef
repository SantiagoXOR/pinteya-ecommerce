25cce3aa21218d308a2ead28077c371e
// ===================================
// PINTEYA E-COMMERCE - ORDERS ENTERPRISE UTILITIES
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get calculateAverageStateTime () {
        return calculateAverageStateTime;
    },
    get calculateOrderMetrics () {
        return calculateOrderMetrics;
    },
    get filterOrders () {
        return filterOrders;
    },
    get formatOrderStatus () {
        return formatOrderStatus;
    },
    get formatPaymentStatus () {
        return formatPaymentStatus;
    },
    get generateStatusChangeMessage () {
        return generateStatusChangeMessage;
    },
    get getAvailableTransitions () {
        return getAvailableTransitions;
    },
    get ordersToCSV () {
        return ordersToCSV;
    },
    get shouldNotifyCustomer () {
        return shouldNotifyCustomer;
    },
    get sortOrders () {
        return sortOrders;
    },
    get statusRequiresAdditionalInfo () {
        return statusRequiresAdditionalInfo;
    },
    get validateOrderData () {
        return validateOrderData;
    },
    get validateStateTransition () {
        return validateStateTransition;
    }
});
const _ordersenterprise = require("../types/orders-enterprise");
function validateStateTransition(currentStatus, newStatus) {
    if (currentStatus === newStatus) {
        return {
            valid: false,
            message: 'El estado ya es el mismo',
            allowedTransitions: _ordersenterprise.ORDER_STATE_TRANSITIONS[currentStatus] || []
        };
    }
    const allowedTransitions = _ordersenterprise.ORDER_STATE_TRANSITIONS[currentStatus];
    if (!allowedTransitions || !allowedTransitions.includes(newStatus)) {
        return {
            valid: false,
            message: `Transición no permitida: ${_ordersenterprise.ORDER_STATUS_DESCRIPTIONS[currentStatus]} → ${_ordersenterprise.ORDER_STATUS_DESCRIPTIONS[newStatus]}`,
            allowedTransitions: allowedTransitions || []
        };
    }
    return {
        valid: true,
        allowedTransitions: allowedTransitions || []
    };
}
function getAvailableTransitions(currentStatus) {
    const transitions = _ordersenterprise.ORDER_STATE_TRANSITIONS[currentStatus] || [];
    return transitions.map((status)=>({
            status,
            description: _ordersenterprise.ORDER_STATUS_DESCRIPTIONS[status],
            requiresReason: [
                'cancelled',
                'refunded',
                'returned'
            ].includes(status)
        }));
}
function statusRequiresAdditionalInfo(status) {
    return {
        requiresTracking: [
            'shipped'
        ].includes(status),
        requiresCarrier: [
            'shipped'
        ].includes(status),
        requiresReason: [
            'cancelled',
            'refunded',
            'returned'
        ].includes(status),
        requiresEstimatedDelivery: [
            'shipped'
        ].includes(status)
    };
}
function formatOrderStatus(status) {
    const statusMap = {
        pending: {
            label: 'Pendiente',
            color: 'yellow',
            description: 'Esperando confirmación',
            icon: 'clock'
        },
        confirmed: {
            label: 'Confirmada',
            color: 'blue',
            description: 'Confirmada, preparando pedido',
            icon: 'check-circle'
        },
        processing: {
            label: 'Procesando',
            color: 'orange',
            description: 'En proceso de preparación',
            icon: 'cog'
        },
        shipped: {
            label: 'Enviada',
            color: 'purple',
            description: 'Producto en camino',
            icon: 'truck'
        },
        delivered: {
            label: 'Entregada',
            color: 'green',
            description: 'Producto entregado exitosamente',
            icon: 'check'
        },
        cancelled: {
            label: 'Cancelada',
            color: 'red',
            description: 'Orden cancelada',
            icon: 'x-circle'
        },
        refunded: {
            label: 'Reembolsada',
            color: 'gray',
            description: 'Dinero reembolsado',
            icon: 'arrow-left'
        },
        returned: {
            label: 'Devuelta',
            color: 'amber',
            description: 'Producto devuelto',
            icon: 'arrow-up'
        }
    };
    return statusMap[status] || statusMap.pending;
}
function formatPaymentStatus(status) {
    const statusMap = {
        pending: {
            label: 'Pendiente',
            color: 'yellow',
            description: 'Esperando pago'
        },
        paid: {
            label: 'Pagado',
            color: 'green',
            description: 'Pago confirmado'
        },
        failed: {
            label: 'Falló',
            color: 'red',
            description: 'Error en el pago'
        },
        refunded: {
            label: 'Reembolsado',
            color: 'gray',
            description: 'Dinero devuelto'
        }
    };
    return statusMap[status] || statusMap.pending;
}
function calculateAverageStateTime(statusHistory) {
    const stateTimes = {};
    for(let i = 0; i < statusHistory.length - 1; i++){
        const current = statusHistory[i];
        const next = statusHistory[i + 1];
        const timeInState = new Date(next.created_at).getTime() - new Date(current.created_at).getTime();
        const stateKey = `${current.new_status}_to_${next.new_status}`;
        if (!stateTimes[stateKey]) {
            stateTimes[stateKey] = [];
        }
        stateTimes[stateKey].push(timeInState);
    }
    const averages = {};
    for (const [key, times] of Object.entries(stateTimes)){
        averages[key] = times.reduce((sum, time)=>sum + time, 0) / times.length;
    }
    return averages;
}
function calculateOrderMetrics(order) {
    const totalItems = order.order_items?.reduce((sum, item)=>sum + item.quantity, 0) || 0;
    const averageItemPrice = totalItems > 0 ? order.total / totalItems : 0;
    let processingTime;
    let deliveryTime;
    if (order.status_history && order.status_history.length > 0) {
        const confirmedTime = order.status_history.find((h)=>h.new_status === 'confirmed')?.created_at;
        const shippedTime = order.status_history.find((h)=>h.new_status === 'shipped')?.created_at;
        const deliveredTime = order.status_history.find((h)=>h.new_status === 'delivered')?.created_at;
        if (confirmedTime && shippedTime) {
            processingTime = new Date(shippedTime).getTime() - new Date(confirmedTime).getTime();
        }
        if (shippedTime && deliveredTime) {
            deliveryTime = new Date(deliveredTime).getTime() - new Date(shippedTime).getTime();
        }
    }
    return {
        totalItems,
        averageItemPrice,
        processingTime,
        deliveryTime
    };
}
function filterOrders(orders, filters) {
    return orders.filter((order)=>{
        // Filtro por estado
        if (filters.status && order.status !== filters.status) {
            return false;
        }
        // Filtro por estado de pago
        if (filters.paymentStatus && order.payment_status !== filters.paymentStatus) {
            return false;
        }
        // Filtro por fecha desde
        if (filters.dateFrom && new Date(order.created_at) < new Date(filters.dateFrom)) {
            return false;
        }
        // Filtro por fecha hasta
        if (filters.dateTo && new Date(order.created_at) > new Date(filters.dateTo)) {
            return false;
        }
        // Filtro por monto mínimo
        if (filters.minAmount && order.total < filters.minAmount) {
            return false;
        }
        // Filtro por monto máximo
        if (filters.maxAmount && order.total > filters.maxAmount) {
            return false;
        }
        // Filtro por búsqueda de texto
        if (filters.search) {
            const searchLower = filters.search.toLowerCase();
            const searchableText = [
                order.order_number,
                order.user_profiles?.name,
                order.user_profiles?.email,
                order.notes,
                order.admin_notes
            ].filter(Boolean).join(' ').toLowerCase();
            if (!searchableText.includes(searchLower)) {
                return false;
            }
        }
        return true;
    });
}
function sortOrders(orders, sortBy, sortOrder = 'desc') {
    return [
        ...orders
    ].sort((a, b)=>{
        let comparison = 0;
        switch(sortBy){
            case 'created_at':
                comparison = new Date(a.created_at).getTime() - new Date(b.created_at).getTime();
                break;
            case 'total':
                comparison = a.total - b.total;
                break;
            case 'order_number':
                comparison = a.order_number.localeCompare(b.order_number);
                break;
            case 'status':
                comparison = a.status.localeCompare(b.status);
                break;
        }
        return sortOrder === 'asc' ? comparison : -comparison;
    });
}
function generateStatusChangeMessage(orderNumber, previousStatus, newStatus, trackingNumber) {
    const statusInfo = formatOrderStatus(newStatus);
    let message = `Tu orden ${orderNumber} ha cambiado a: ${statusInfo.label}`;
    if (newStatus === 'shipped' && trackingNumber) {
        message += `. Número de seguimiento: ${trackingNumber}`;
    }
    return message;
}
function shouldNotifyCustomer(previousStatus, newStatus) {
    // Notificar en cambios importantes para el cliente
    const notifiableTransitions = [
        'confirmed',
        'shipped',
        'delivered',
        'cancelled'
    ];
    return notifiableTransitions.includes(newStatus);
}
function validateOrderData(orderData) {
    const errors = [];
    if (orderData.total !== undefined && orderData.total <= 0) {
        errors.push('El monto total debe ser mayor a 0');
    }
    if (orderData.order_number && !/^ORD-\d+-[A-Z0-9]+$/.test(orderData.order_number)) {
        errors.push('Formato de número de orden inválido');
    }
    if (orderData.tracking_number && orderData.tracking_number.length < 3) {
        errors.push('Número de seguimiento muy corto');
    }
    return {
        valid: errors.length === 0,
        errors
    };
}
function ordersToCSV(orders) {
    const headers = [
        'Número de Orden',
        'Cliente',
        'Email',
        'Estado',
        'Estado de Pago',
        'Total',
        'Fecha de Creación',
        'Última Actualización'
    ];
    const rows = orders.map((order)=>[
            order.order_number,
            order.user_profiles?.name || '',
            order.user_profiles?.email || '',
            formatOrderStatus(order.status).label,
            formatPaymentStatus(order.payment_status).label,
            order.total.toString(),
            new Date(order.created_at).toLocaleDateString(),
            new Date(order.updated_at).toLocaleDateString()
        ]);
    return [
        headers,
        ...rows
    ].map((row)=>row.map((cell)=>`"${cell}"`).join(',')).join('\n');
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxvcmRlcnMtZW50ZXJwcmlzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBPUkRFUlMgRU5URVJQUklTRSBVVElMSVRJRVNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IFxyXG4gIE9yZGVyU3RhdHVzLCBcclxuICBQYXltZW50U3RhdHVzLFxyXG4gIE9SREVSX1NUQVRFX1RSQU5TSVRJT05TLFxyXG4gIE9SREVSX1NUQVRVU19ERVNDUklQVElPTlMsXHJcbiAgU3RhdGVUcmFuc2l0aW9uVmFsaWRhdGlvbixcclxuICBPcmRlckVudGVycHJpc2UsXHJcbiAgT3JkZXJTdGF0dXNIaXN0b3J5LFxyXG4gIE9yZGVyTm90ZVxyXG59IGZyb20gJ0AvdHlwZXMvb3JkZXJzLWVudGVycHJpc2UnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVkFMSURBQ0lPTkVTIERFIEVTVEFET1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYSBzaSB1bmEgdHJhbnNpY2nDs24gZGUgZXN0YWRvIGVzIHBlcm1pdGlkYVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdGVUcmFuc2l0aW9uKFxyXG4gIGN1cnJlbnRTdGF0dXM6IE9yZGVyU3RhdHVzLCBcclxuICBuZXdTdGF0dXM6IE9yZGVyU3RhdHVzXHJcbik6IFN0YXRlVHJhbnNpdGlvblZhbGlkYXRpb24ge1xyXG4gIGlmIChjdXJyZW50U3RhdHVzID09PSBuZXdTdGF0dXMpIHtcclxuICAgIHJldHVybiB7IFxyXG4gICAgICB2YWxpZDogZmFsc2UsIFxyXG4gICAgICBtZXNzYWdlOiAnRWwgZXN0YWRvIHlhIGVzIGVsIG1pc21vJyxcclxuICAgICAgYWxsb3dlZFRyYW5zaXRpb25zOiBPUkRFUl9TVEFURV9UUkFOU0lUSU9OU1tjdXJyZW50U3RhdHVzXSB8fCBbXVxyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgYWxsb3dlZFRyYW5zaXRpb25zID0gT1JERVJfU1RBVEVfVFJBTlNJVElPTlNbY3VycmVudFN0YXR1c107XHJcbiAgaWYgKCFhbGxvd2VkVHJhbnNpdGlvbnMgfHwgIWFsbG93ZWRUcmFuc2l0aW9ucy5pbmNsdWRlcyhuZXdTdGF0dXMpKSB7XHJcbiAgICByZXR1cm4geyBcclxuICAgICAgdmFsaWQ6IGZhbHNlLCBcclxuICAgICAgbWVzc2FnZTogYFRyYW5zaWNpw7NuIG5vIHBlcm1pdGlkYTogJHtPUkRFUl9TVEFUVVNfREVTQ1JJUFRJT05TW2N1cnJlbnRTdGF0dXNdfSDihpIgJHtPUkRFUl9TVEFUVVNfREVTQ1JJUFRJT05TW25ld1N0YXR1c119YCxcclxuICAgICAgYWxsb3dlZFRyYW5zaXRpb25zOiBhbGxvd2VkVHJhbnNpdGlvbnMgfHwgW11cclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB7IFxyXG4gICAgdmFsaWQ6IHRydWUsXHJcbiAgICBhbGxvd2VkVHJhbnNpdGlvbnM6IGFsbG93ZWRUcmFuc2l0aW9ucyB8fCBbXVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGxhcyB0cmFuc2ljaW9uZXMgZGlzcG9uaWJsZXMgcGFyYSB1biBlc3RhZG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBdmFpbGFibGVUcmFuc2l0aW9ucyhjdXJyZW50U3RhdHVzOiBPcmRlclN0YXR1cyk6IHtcclxuICBzdGF0dXM6IE9yZGVyU3RhdHVzO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgcmVxdWlyZXNSZWFzb246IGJvb2xlYW47XHJcbn1bXSB7XHJcbiAgY29uc3QgdHJhbnNpdGlvbnMgPSBPUkRFUl9TVEFURV9UUkFOU0lUSU9OU1tjdXJyZW50U3RhdHVzXSB8fCBbXTtcclxuICBcclxuICByZXR1cm4gdHJhbnNpdGlvbnMubWFwKHN0YXR1cyA9PiAoe1xyXG4gICAgc3RhdHVzLFxyXG4gICAgZGVzY3JpcHRpb246IE9SREVSX1NUQVRVU19ERVNDUklQVElPTlNbc3RhdHVzXSxcclxuICAgIHJlcXVpcmVzUmVhc29uOiBbJ2NhbmNlbGxlZCcsICdyZWZ1bmRlZCcsICdyZXR1cm5lZCddLmluY2x1ZGVzKHN0YXR1cylcclxuICB9KSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWZXJpZmljYSBzaSB1biBlc3RhZG8gcmVxdWllcmUgaW5mb3JtYWNpw7NuIGFkaWNpb25hbFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YXR1c1JlcXVpcmVzQWRkaXRpb25hbEluZm8oc3RhdHVzOiBPcmRlclN0YXR1cyk6IHtcclxuICByZXF1aXJlc1RyYWNraW5nOiBib29sZWFuO1xyXG4gIHJlcXVpcmVzQ2FycmllcjogYm9vbGVhbjtcclxuICByZXF1aXJlc1JlYXNvbjogYm9vbGVhbjtcclxuICByZXF1aXJlc0VzdGltYXRlZERlbGl2ZXJ5OiBib29sZWFuO1xyXG59IHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVxdWlyZXNUcmFja2luZzogWydzaGlwcGVkJ10uaW5jbHVkZXMoc3RhdHVzKSxcclxuICAgIHJlcXVpcmVzQ2FycmllcjogWydzaGlwcGVkJ10uaW5jbHVkZXMoc3RhdHVzKSxcclxuICAgIHJlcXVpcmVzUmVhc29uOiBbJ2NhbmNlbGxlZCcsICdyZWZ1bmRlZCcsICdyZXR1cm5lZCddLmluY2x1ZGVzKHN0YXR1cyksXHJcbiAgICByZXF1aXJlc0VzdGltYXRlZERlbGl2ZXJ5OiBbJ3NoaXBwZWQnXS5pbmNsdWRlcyhzdGF0dXMpXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRk9STUFURU8gWSBESVNQTEFZXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogRm9ybWF0ZWEgZWwgZXN0YWRvIGRlIHVuYSBvcmRlbiBwYXJhIG1vc3RyYXIgYWwgdXN1YXJpb1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdE9yZGVyU3RhdHVzKHN0YXR1czogT3JkZXJTdGF0dXMpOiB7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBjb2xvcjogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgaWNvbjogc3RyaW5nO1xyXG59IHtcclxuICBjb25zdCBzdGF0dXNNYXA6IFJlY29yZDxPcmRlclN0YXR1cywgeyBsYWJlbDogc3RyaW5nOyBjb2xvcjogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nOyBpY29uOiBzdHJpbmcgfT4gPSB7XHJcbiAgICBwZW5kaW5nOiB7XHJcbiAgICAgIGxhYmVsOiAnUGVuZGllbnRlJyxcclxuICAgICAgY29sb3I6ICd5ZWxsb3cnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0VzcGVyYW5kbyBjb25maXJtYWNpw7NuJyxcclxuICAgICAgaWNvbjogJ2Nsb2NrJ1xyXG4gICAgfSxcclxuICAgIGNvbmZpcm1lZDoge1xyXG4gICAgICBsYWJlbDogJ0NvbmZpcm1hZGEnLFxyXG4gICAgICBjb2xvcjogJ2JsdWUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0NvbmZpcm1hZGEsIHByZXBhcmFuZG8gcGVkaWRvJyxcclxuICAgICAgaWNvbjogJ2NoZWNrLWNpcmNsZSdcclxuICAgIH0sXHJcbiAgICBwcm9jZXNzaW5nOiB7XHJcbiAgICAgIGxhYmVsOiAnUHJvY2VzYW5kbycsXHJcbiAgICAgIGNvbG9yOiAnb3JhbmdlJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbiBwcm9jZXNvIGRlIHByZXBhcmFjacOzbicsXHJcbiAgICAgIGljb246ICdjb2cnXHJcbiAgICB9LFxyXG4gICAgc2hpcHBlZDoge1xyXG4gICAgICBsYWJlbDogJ0VudmlhZGEnLFxyXG4gICAgICBjb2xvcjogJ3B1cnBsZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnUHJvZHVjdG8gZW4gY2FtaW5vJyxcclxuICAgICAgaWNvbjogJ3RydWNrJ1xyXG4gICAgfSxcclxuICAgIGRlbGl2ZXJlZDoge1xyXG4gICAgICBsYWJlbDogJ0VudHJlZ2FkYScsXHJcbiAgICAgIGNvbG9yOiAnZ3JlZW4nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1Byb2R1Y3RvIGVudHJlZ2FkbyBleGl0b3NhbWVudGUnLFxyXG4gICAgICBpY29uOiAnY2hlY2snXHJcbiAgICB9LFxyXG4gICAgY2FuY2VsbGVkOiB7XHJcbiAgICAgIGxhYmVsOiAnQ2FuY2VsYWRhJyxcclxuICAgICAgY29sb3I6ICdyZWQnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ09yZGVuIGNhbmNlbGFkYScsXHJcbiAgICAgIGljb246ICd4LWNpcmNsZSdcclxuICAgIH0sXHJcbiAgICByZWZ1bmRlZDoge1xyXG4gICAgICBsYWJlbDogJ1JlZW1ib2xzYWRhJyxcclxuICAgICAgY29sb3I6ICdncmF5JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdEaW5lcm8gcmVlbWJvbHNhZG8nLFxyXG4gICAgICBpY29uOiAnYXJyb3ctbGVmdCdcclxuICAgIH0sXHJcbiAgICByZXR1cm5lZDoge1xyXG4gICAgICBsYWJlbDogJ0RldnVlbHRhJyxcclxuICAgICAgY29sb3I6ICdhbWJlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnUHJvZHVjdG8gZGV2dWVsdG8nLFxyXG4gICAgICBpY29uOiAnYXJyb3ctdXAnXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdIHx8IHN0YXR1c01hcC5wZW5kaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogRm9ybWF0ZWEgZWwgZXN0YWRvIGRlIHBhZ29cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRQYXltZW50U3RhdHVzKHN0YXR1czogUGF5bWVudFN0YXR1cyk6IHtcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxufSB7XHJcbiAgY29uc3Qgc3RhdHVzTWFwOiBSZWNvcmQ8UGF5bWVudFN0YXR1cywgeyBsYWJlbDogc3RyaW5nOyBjb2xvcjogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0+ID0ge1xyXG4gICAgcGVuZGluZzoge1xyXG4gICAgICBsYWJlbDogJ1BlbmRpZW50ZScsXHJcbiAgICAgIGNvbG9yOiAneWVsbG93JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFc3BlcmFuZG8gcGFnbydcclxuICAgIH0sXHJcbiAgICBwYWlkOiB7XHJcbiAgICAgIGxhYmVsOiAnUGFnYWRvJyxcclxuICAgICAgY29sb3I6ICdncmVlbicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnUGFnbyBjb25maXJtYWRvJ1xyXG4gICAgfSxcclxuICAgIGZhaWxlZDoge1xyXG4gICAgICBsYWJlbDogJ0ZhbGzDsycsXHJcbiAgICAgIGNvbG9yOiAncmVkJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFcnJvciBlbiBlbCBwYWdvJ1xyXG4gICAgfSxcclxuICAgIHJlZnVuZGVkOiB7XHJcbiAgICAgIGxhYmVsOiAnUmVlbWJvbHNhZG8nLFxyXG4gICAgICBjb2xvcjogJ2dyYXknLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0RpbmVybyBkZXZ1ZWx0bydcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10gfHwgc3RhdHVzTWFwLnBlbmRpbmc7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEPDgUxDVUxPUyBZIE3DiVRSSUNBU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGEgZWwgdGllbXBvIHByb21lZGlvIGVudHJlIGVzdGFkb3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlU3RhdGVUaW1lKFxyXG4gIHN0YXR1c0hpc3Rvcnk6IE9yZGVyU3RhdHVzSGlzdG9yeVtdXHJcbik6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xyXG4gIGNvbnN0IHN0YXRlVGltZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcltdPiA9IHt9O1xyXG4gIFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdHVzSGlzdG9yeS5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgIGNvbnN0IGN1cnJlbnQgPSBzdGF0dXNIaXN0b3J5W2ldO1xyXG4gICAgY29uc3QgbmV4dCA9IHN0YXR1c0hpc3RvcnlbaSArIDFdO1xyXG4gICAgXHJcbiAgICBjb25zdCB0aW1lSW5TdGF0ZSA9IG5ldyBEYXRlKG5leHQuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoY3VycmVudC5jcmVhdGVkX2F0KS5nZXRUaW1lKCk7XHJcbiAgICBjb25zdCBzdGF0ZUtleSA9IGAke2N1cnJlbnQubmV3X3N0YXR1c31fdG9fJHtuZXh0Lm5ld19zdGF0dXN9YDtcclxuICAgIFxyXG4gICAgaWYgKCFzdGF0ZVRpbWVzW3N0YXRlS2V5XSkge1xyXG4gICAgICBzdGF0ZVRpbWVzW3N0YXRlS2V5XSA9IFtdO1xyXG4gICAgfVxyXG4gICAgc3RhdGVUaW1lc1tzdGF0ZUtleV0ucHVzaCh0aW1lSW5TdGF0ZSk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGF2ZXJhZ2VzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XHJcbiAgZm9yIChjb25zdCBba2V5LCB0aW1lc10gb2YgT2JqZWN0LmVudHJpZXMoc3RhdGVUaW1lcykpIHtcclxuICAgIGF2ZXJhZ2VzW2tleV0gPSB0aW1lcy5yZWR1Y2UoKHN1bSwgdGltZSkgPT4gc3VtICsgdGltZSwgMCkgLyB0aW1lcy5sZW5ndGg7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBhdmVyYWdlcztcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGEgbcOpdHJpY2FzIGRlIHVuYSBvcmRlblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU9yZGVyTWV0cmljcyhvcmRlcjogT3JkZXJFbnRlcnByaXNlKToge1xyXG4gIHRvdGFsSXRlbXM6IG51bWJlcjtcclxuICBhdmVyYWdlSXRlbVByaWNlOiBudW1iZXI7XHJcbiAgcHJvY2Vzc2luZ1RpbWU/OiBudW1iZXI7XHJcbiAgZGVsaXZlcnlUaW1lPzogbnVtYmVyO1xyXG59IHtcclxuICBjb25zdCB0b3RhbEl0ZW1zID0gb3JkZXIub3JkZXJfaXRlbXM/LnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLnF1YW50aXR5LCAwKSB8fCAwO1xyXG4gIGNvbnN0IGF2ZXJhZ2VJdGVtUHJpY2UgPSB0b3RhbEl0ZW1zID4gMCA/IG9yZGVyLnRvdGFsIC8gdG90YWxJdGVtcyA6IDA7XHJcbiAgXHJcbiAgbGV0IHByb2Nlc3NpbmdUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IGRlbGl2ZXJ5VGltZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gIFxyXG4gIGlmIChvcmRlci5zdGF0dXNfaGlzdG9yeSAmJiBvcmRlci5zdGF0dXNfaGlzdG9yeS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBjb25maXJtZWRUaW1lID0gb3JkZXIuc3RhdHVzX2hpc3RvcnkuZmluZChoID0+IGgubmV3X3N0YXR1cyA9PT0gJ2NvbmZpcm1lZCcpPy5jcmVhdGVkX2F0O1xyXG4gICAgY29uc3Qgc2hpcHBlZFRpbWUgPSBvcmRlci5zdGF0dXNfaGlzdG9yeS5maW5kKGggPT4gaC5uZXdfc3RhdHVzID09PSAnc2hpcHBlZCcpPy5jcmVhdGVkX2F0O1xyXG4gICAgY29uc3QgZGVsaXZlcmVkVGltZSA9IG9yZGVyLnN0YXR1c19oaXN0b3J5LmZpbmQoaCA9PiBoLm5ld19zdGF0dXMgPT09ICdkZWxpdmVyZWQnKT8uY3JlYXRlZF9hdDtcclxuICAgIFxyXG4gICAgaWYgKGNvbmZpcm1lZFRpbWUgJiYgc2hpcHBlZFRpbWUpIHtcclxuICAgICAgcHJvY2Vzc2luZ1RpbWUgPSBuZXcgRGF0ZShzaGlwcGVkVGltZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoY29uZmlybWVkVGltZSkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc2hpcHBlZFRpbWUgJiYgZGVsaXZlcmVkVGltZSkge1xyXG4gICAgICBkZWxpdmVyeVRpbWUgPSBuZXcgRGF0ZShkZWxpdmVyZWRUaW1lKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShzaGlwcGVkVGltZSkuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgdG90YWxJdGVtcyxcclxuICAgIGF2ZXJhZ2VJdGVtUHJpY2UsXHJcbiAgICBwcm9jZXNzaW5nVGltZSxcclxuICAgIGRlbGl2ZXJ5VGltZVxyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZJTFRST1MgWSBCw5pTUVVFREFcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBGaWx0cmEgw7NyZGVuZXMgcG9yIGNyaXRlcmlvcyBtw7psdGlwbGVzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyT3JkZXJzKFxyXG4gIG9yZGVyczogT3JkZXJFbnRlcnByaXNlW10sXHJcbiAgZmlsdGVyczoge1xyXG4gICAgc3RhdHVzPzogT3JkZXJTdGF0dXM7XHJcbiAgICBwYXltZW50U3RhdHVzPzogUGF5bWVudFN0YXR1cztcclxuICAgIGRhdGVGcm9tPzogc3RyaW5nO1xyXG4gICAgZGF0ZVRvPzogc3RyaW5nO1xyXG4gICAgc2VhcmNoPzogc3RyaW5nO1xyXG4gICAgbWluQW1vdW50PzogbnVtYmVyO1xyXG4gICAgbWF4QW1vdW50PzogbnVtYmVyO1xyXG4gIH1cclxuKTogT3JkZXJFbnRlcnByaXNlW10ge1xyXG4gIHJldHVybiBvcmRlcnMuZmlsdGVyKG9yZGVyID0+IHtcclxuICAgIC8vIEZpbHRybyBwb3IgZXN0YWRvXHJcbiAgICBpZiAoZmlsdGVycy5zdGF0dXMgJiYgb3JkZXIuc3RhdHVzICE9PSBmaWx0ZXJzLnN0YXR1cykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbHRybyBwb3IgZXN0YWRvIGRlIHBhZ29cclxuICAgIGlmIChmaWx0ZXJzLnBheW1lbnRTdGF0dXMgJiYgb3JkZXIucGF5bWVudF9zdGF0dXMgIT09IGZpbHRlcnMucGF5bWVudFN0YXR1cykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbHRybyBwb3IgZmVjaGEgZGVzZGVcclxuICAgIGlmIChmaWx0ZXJzLmRhdGVGcm9tICYmIG5ldyBEYXRlKG9yZGVyLmNyZWF0ZWRfYXQpIDwgbmV3IERhdGUoZmlsdGVycy5kYXRlRnJvbSkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGaWx0cm8gcG9yIGZlY2hhIGhhc3RhXHJcbiAgICBpZiAoZmlsdGVycy5kYXRlVG8gJiYgbmV3IERhdGUob3JkZXIuY3JlYXRlZF9hdCkgPiBuZXcgRGF0ZShmaWx0ZXJzLmRhdGVUbykpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGaWx0cm8gcG9yIG1vbnRvIG3DrW5pbW9cclxuICAgIGlmIChmaWx0ZXJzLm1pbkFtb3VudCAmJiBvcmRlci50b3RhbCA8IGZpbHRlcnMubWluQW1vdW50KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmlsdHJvIHBvciBtb250byBtw6F4aW1vXHJcbiAgICBpZiAoZmlsdGVycy5tYXhBbW91bnQgJiYgb3JkZXIudG90YWwgPiBmaWx0ZXJzLm1heEFtb3VudCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZpbHRybyBwb3IgYsO6c3F1ZWRhIGRlIHRleHRvXHJcbiAgICBpZiAoZmlsdGVycy5zZWFyY2gpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoTG93ZXIgPSBmaWx0ZXJzLnNlYXJjaC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBjb25zdCBzZWFyY2hhYmxlVGV4dCA9IFtcclxuICAgICAgICBvcmRlci5vcmRlcl9udW1iZXIsXHJcbiAgICAgICAgb3JkZXIudXNlcl9wcm9maWxlcz8ubmFtZSxcclxuICAgICAgICBvcmRlci51c2VyX3Byb2ZpbGVzPy5lbWFpbCxcclxuICAgICAgICBvcmRlci5ub3RlcyxcclxuICAgICAgICBvcmRlci5hZG1pbl9ub3Rlc1xyXG4gICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJykudG9Mb3dlckNhc2UoKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghc2VhcmNoYWJsZVRleHQuaW5jbHVkZXMoc2VhcmNoTG93ZXIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogT3JkZW5hIMOzcmRlbmVzIHBvciBjcml0ZXJpbyBlc3BlY8OtZmljb1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRPcmRlcnMoXHJcbiAgb3JkZXJzOiBPcmRlckVudGVycHJpc2VbXSxcclxuICBzb3J0Qnk6ICdjcmVhdGVkX2F0JyB8ICd0b3RhbCcgfCAnb3JkZXJfbnVtYmVyJyB8ICdzdGF0dXMnLFxyXG4gIHNvcnRPcmRlcjogJ2FzYycgfCAnZGVzYycgPSAnZGVzYydcclxuKTogT3JkZXJFbnRlcnByaXNlW10ge1xyXG4gIHJldHVybiBbLi4ub3JkZXJzXS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICBsZXQgY29tcGFyaXNvbiA9IDA7XHJcbiAgICBcclxuICAgIHN3aXRjaCAoc29ydEJ5KSB7XHJcbiAgICAgIGNhc2UgJ2NyZWF0ZWRfYXQnOlxyXG4gICAgICAgIGNvbXBhcmlzb24gPSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICd0b3RhbCc6XHJcbiAgICAgIGNvbXBhcmlzb24gPSBhLnRvdGFsIC0gYi50b3RhbDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnb3JkZXJfbnVtYmVyJzpcclxuICAgICAgICBjb21wYXJpc29uID0gYS5vcmRlcl9udW1iZXIubG9jYWxlQ29tcGFyZShiLm9yZGVyX251bWJlcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3N0YXR1cyc6XHJcbiAgICAgICAgY29tcGFyaXNvbiA9IGEuc3RhdHVzLmxvY2FsZUNvbXBhcmUoYi5zdGF0dXMpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gc29ydE9yZGVyID09PSAnYXNjJyA/IGNvbXBhcmlzb24gOiAtY29tcGFyaXNvbjtcclxuICB9KTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVVRJTElEQURFUyBERSBOT1RJRklDQUNJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2VuZXJhIG1lbnNhamUgZGUgbm90aWZpY2FjacOzbiBwYXJhIGNhbWJpbyBkZSBlc3RhZG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVN0YXR1c0NoYW5nZU1lc3NhZ2UoXHJcbiAgb3JkZXJOdW1iZXI6IHN0cmluZyxcclxuICBwcmV2aW91c1N0YXR1czogT3JkZXJTdGF0dXMsXHJcbiAgbmV3U3RhdHVzOiBPcmRlclN0YXR1cyxcclxuICB0cmFja2luZ051bWJlcj86IHN0cmluZ1xyXG4pOiBzdHJpbmcge1xyXG4gIGNvbnN0IHN0YXR1c0luZm8gPSBmb3JtYXRPcmRlclN0YXR1cyhuZXdTdGF0dXMpO1xyXG4gIFxyXG4gIGxldCBtZXNzYWdlID0gYFR1IG9yZGVuICR7b3JkZXJOdW1iZXJ9IGhhIGNhbWJpYWRvIGE6ICR7c3RhdHVzSW5mby5sYWJlbH1gO1xyXG4gIFxyXG4gIGlmIChuZXdTdGF0dXMgPT09ICdzaGlwcGVkJyAmJiB0cmFja2luZ051bWJlcikge1xyXG4gICAgbWVzc2FnZSArPSBgLiBOw7ptZXJvIGRlIHNlZ3VpbWllbnRvOiAke3RyYWNraW5nTnVtYmVyfWA7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBtZXNzYWdlO1xyXG59XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5hIHNpIHNlIGRlYmUgZW52aWFyIG5vdGlmaWNhY2nDs24gYWwgY2xpZW50ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZE5vdGlmeUN1c3RvbWVyKFxyXG4gIHByZXZpb3VzU3RhdHVzOiBPcmRlclN0YXR1cyxcclxuICBuZXdTdGF0dXM6IE9yZGVyU3RhdHVzXHJcbik6IGJvb2xlYW4ge1xyXG4gIC8vIE5vdGlmaWNhciBlbiBjYW1iaW9zIGltcG9ydGFudGVzIHBhcmEgZWwgY2xpZW50ZVxyXG4gIGNvbnN0IG5vdGlmaWFibGVUcmFuc2l0aW9ucyA9IFtcclxuICAgICdjb25maXJtZWQnLFxyXG4gICAgJ3NoaXBwZWQnLFxyXG4gICAgJ2RlbGl2ZXJlZCcsXHJcbiAgICAnY2FuY2VsbGVkJ1xyXG4gIF07XHJcbiAgXHJcbiAgcmV0dXJuIG5vdGlmaWFibGVUcmFuc2l0aW9ucy5pbmNsdWRlcyhuZXdTdGF0dXMpO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBWQUxJREFDSU9ORVMgREUgREFUT1NcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGEgZGF0b3MgZGUgb3JkZW4gYW50ZXMgZGUgY3JlYXIvYWN0dWFsaXphclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlT3JkZXJEYXRhKG9yZGVyRGF0YTogUGFydGlhbDxPcmRlckVudGVycHJpc2U+KToge1xyXG4gIHZhbGlkOiBib29sZWFuO1xyXG4gIGVycm9yczogc3RyaW5nW107XHJcbn0ge1xyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICBcclxuICBpZiAob3JkZXJEYXRhLnRvdGFsICE9PSB1bmRlZmluZWQgJiYgb3JkZXJEYXRhLnRvdGFsIDw9IDApIHtcclxuICAgIGVycm9ycy5wdXNoKCdFbCBtb250byB0b3RhbCBkZWJlIHNlciBtYXlvciBhIDAnKTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9yZGVyRGF0YS5vcmRlcl9udW1iZXIgJiYgIS9eT1JELVxcZCstW0EtWjAtOV0rJC8udGVzdChvcmRlckRhdGEub3JkZXJfbnVtYmVyKSkge1xyXG4gICAgZXJyb3JzLnB1c2goJ0Zvcm1hdG8gZGUgbsO6bWVybyBkZSBvcmRlbiBpbnbDoWxpZG8nKTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9yZGVyRGF0YS50cmFja2luZ19udW1iZXIgJiYgb3JkZXJEYXRhLnRyYWNraW5nX251bWJlci5sZW5ndGggPCAzKSB7XHJcbiAgICBlcnJvcnMucHVzaCgnTsO6bWVybyBkZSBzZWd1aW1pZW50byBtdXkgY29ydG8nKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxyXG4gICAgZXJyb3JzXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVhQT1JUQUNJw5NOIERFIERBVE9TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQ29udmllcnRlIMOzcmRlbmVzIGEgZm9ybWF0byBDU1ZcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvcmRlcnNUb0NTVihvcmRlcnM6IE9yZGVyRW50ZXJwcmlzZVtdKTogc3RyaW5nIHtcclxuICBjb25zdCBoZWFkZXJzID0gW1xyXG4gICAgJ07Dum1lcm8gZGUgT3JkZW4nLFxyXG4gICAgJ0NsaWVudGUnLFxyXG4gICAgJ0VtYWlsJyxcclxuICAgICdFc3RhZG8nLFxyXG4gICAgJ0VzdGFkbyBkZSBQYWdvJyxcclxuICAgICdUb3RhbCcsXHJcbiAgICAnRmVjaGEgZGUgQ3JlYWNpw7NuJyxcclxuICAgICfDmmx0aW1hIEFjdHVhbGl6YWNpw7NuJ1xyXG4gIF07XHJcbiAgXHJcbiAgY29uc3Qgcm93cyA9IG9yZGVycy5tYXAob3JkZXIgPT4gW1xyXG4gICAgb3JkZXIub3JkZXJfbnVtYmVyLFxyXG4gICAgb3JkZXIudXNlcl9wcm9maWxlcz8ubmFtZSB8fCAnJyxcclxuICAgIG9yZGVyLnVzZXJfcHJvZmlsZXM/LmVtYWlsIHx8ICcnLFxyXG4gICAgZm9ybWF0T3JkZXJTdGF0dXMob3JkZXIuc3RhdHVzKS5sYWJlbCxcclxuICAgIGZvcm1hdFBheW1lbnRTdGF0dXMob3JkZXIucGF5bWVudF9zdGF0dXMpLmxhYmVsLFxyXG4gICAgb3JkZXIudG90YWwudG9TdHJpbmcoKSxcclxuICAgIG5ldyBEYXRlKG9yZGVyLmNyZWF0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxyXG4gICAgbmV3IERhdGUob3JkZXIudXBkYXRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKClcclxuICBdKTtcclxuICBcclxuICByZXR1cm4gW2hlYWRlcnMsIC4uLnJvd3NdXHJcbiAgICAubWFwKHJvdyA9PiByb3cubWFwKGNlbGwgPT4gYFwiJHtjZWxsfVwiYCkuam9pbignLCcpKVxyXG4gICAgLmpvaW4oJ1xcbicpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJjYWxjdWxhdGVBdmVyYWdlU3RhdGVUaW1lIiwiY2FsY3VsYXRlT3JkZXJNZXRyaWNzIiwiZmlsdGVyT3JkZXJzIiwiZm9ybWF0T3JkZXJTdGF0dXMiLCJmb3JtYXRQYXltZW50U3RhdHVzIiwiZ2VuZXJhdGVTdGF0dXNDaGFuZ2VNZXNzYWdlIiwiZ2V0QXZhaWxhYmxlVHJhbnNpdGlvbnMiLCJvcmRlcnNUb0NTViIsInNob3VsZE5vdGlmeUN1c3RvbWVyIiwic29ydE9yZGVycyIsInN0YXR1c1JlcXVpcmVzQWRkaXRpb25hbEluZm8iLCJ2YWxpZGF0ZU9yZGVyRGF0YSIsInZhbGlkYXRlU3RhdGVUcmFuc2l0aW9uIiwiY3VycmVudFN0YXR1cyIsIm5ld1N0YXR1cyIsInZhbGlkIiwibWVzc2FnZSIsImFsbG93ZWRUcmFuc2l0aW9ucyIsIk9SREVSX1NUQVRFX1RSQU5TSVRJT05TIiwiaW5jbHVkZXMiLCJPUkRFUl9TVEFUVVNfREVTQ1JJUFRJT05TIiwidHJhbnNpdGlvbnMiLCJtYXAiLCJzdGF0dXMiLCJkZXNjcmlwdGlvbiIsInJlcXVpcmVzUmVhc29uIiwicmVxdWlyZXNUcmFja2luZyIsInJlcXVpcmVzQ2FycmllciIsInJlcXVpcmVzRXN0aW1hdGVkRGVsaXZlcnkiLCJzdGF0dXNNYXAiLCJwZW5kaW5nIiwibGFiZWwiLCJjb2xvciIsImljb24iLCJjb25maXJtZWQiLCJwcm9jZXNzaW5nIiwic2hpcHBlZCIsImRlbGl2ZXJlZCIsImNhbmNlbGxlZCIsInJlZnVuZGVkIiwicmV0dXJuZWQiLCJwYWlkIiwiZmFpbGVkIiwic3RhdHVzSGlzdG9yeSIsInN0YXRlVGltZXMiLCJpIiwibGVuZ3RoIiwiY3VycmVudCIsIm5leHQiLCJ0aW1lSW5TdGF0ZSIsIkRhdGUiLCJjcmVhdGVkX2F0IiwiZ2V0VGltZSIsInN0YXRlS2V5IiwibmV3X3N0YXR1cyIsInB1c2giLCJhdmVyYWdlcyIsImtleSIsInRpbWVzIiwiT2JqZWN0IiwiZW50cmllcyIsInJlZHVjZSIsInN1bSIsInRpbWUiLCJvcmRlciIsInRvdGFsSXRlbXMiLCJvcmRlcl9pdGVtcyIsIml0ZW0iLCJxdWFudGl0eSIsImF2ZXJhZ2VJdGVtUHJpY2UiLCJ0b3RhbCIsInByb2Nlc3NpbmdUaW1lIiwiZGVsaXZlcnlUaW1lIiwic3RhdHVzX2hpc3RvcnkiLCJjb25maXJtZWRUaW1lIiwiZmluZCIsImgiLCJzaGlwcGVkVGltZSIsImRlbGl2ZXJlZFRpbWUiLCJvcmRlcnMiLCJmaWx0ZXJzIiwiZmlsdGVyIiwicGF5bWVudFN0YXR1cyIsInBheW1lbnRfc3RhdHVzIiwiZGF0ZUZyb20iLCJkYXRlVG8iLCJtaW5BbW91bnQiLCJtYXhBbW91bnQiLCJzZWFyY2giLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwic2VhcmNoYWJsZVRleHQiLCJvcmRlcl9udW1iZXIiLCJ1c2VyX3Byb2ZpbGVzIiwibmFtZSIsImVtYWlsIiwibm90ZXMiLCJhZG1pbl9ub3RlcyIsIkJvb2xlYW4iLCJqb2luIiwic29ydEJ5Iiwic29ydE9yZGVyIiwic29ydCIsImEiLCJiIiwiY29tcGFyaXNvbiIsImxvY2FsZUNvbXBhcmUiLCJvcmRlck51bWJlciIsInByZXZpb3VzU3RhdHVzIiwidHJhY2tpbmdOdW1iZXIiLCJzdGF0dXNJbmZvIiwibm90aWZpYWJsZVRyYW5zaXRpb25zIiwib3JkZXJEYXRhIiwiZXJyb3JzIiwidW5kZWZpbmVkIiwidGVzdCIsInRyYWNraW5nX251bWJlciIsImhlYWRlcnMiLCJyb3dzIiwidG9TdHJpbmciLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ1cGRhdGVkX2F0Iiwicm93IiwiY2VsbCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLG1EQUFtRDtBQUNuRCxzQ0FBc0M7Ozs7Ozs7Ozs7OztRQTZMdEJBO2VBQUFBOztRQTZCQUM7ZUFBQUE7O1FBeUNBQztlQUFBQTs7UUEzS0FDO2VBQUFBOztRQStEQUM7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