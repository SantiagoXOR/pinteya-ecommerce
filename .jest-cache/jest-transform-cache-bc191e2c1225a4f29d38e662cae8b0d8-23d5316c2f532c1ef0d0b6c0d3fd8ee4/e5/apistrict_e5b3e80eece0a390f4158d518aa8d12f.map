{"version":3,"names":["cov_1fou906fvb","actualCoverage","s","createStrictApiError","f","createStrictApiResponse","isStrictApiError","isStrictApiResponse","isValidPagination","isValidStrictOrder","toStrictOrdersResponse","obj","b","success","timestamp","error","page","limit","total","totalPages","hasNextPage","hasPreviousPage","hasId","id","hasTotal","hasCreatedAt","created_at","hasStatus","status","code","Date","toISOString","path","response","data","orders","Array","isArray","pagination","transformedOrders","map","order","String","user_id","Number","metadata","validOrders","filter","length","Math","ceil","filters","analytics","message","Error","details"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\types\\api-strict.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - STRICT API TYPES\r\n// Tipos TypeScript estrictos para prevenir errores de API\r\n// ===================================\r\n\r\nimport { OrderEnterprise, OrderStatus, PaymentStatus, FulfillmentStatus } from './orders-enterprise';\r\n\r\n// ===================================\r\n// TIPOS BASE ESTRICTOS\r\n// ===================================\r\n\r\n/**\r\n * Tipo base para respuestas de API con validación estricta\r\n */\r\nexport interface StrictApiResponse<T> {\r\n  readonly success: true;\r\n  readonly data: T;\r\n  readonly message?: string;\r\n  readonly timestamp: string;\r\n}\r\n\r\nexport interface StrictApiError {\r\n  readonly success: false;\r\n  readonly error: string;\r\n  readonly code?: string;\r\n  readonly details?: Record<string, unknown>;\r\n  readonly timestamp: string;\r\n  readonly path: string;\r\n}\r\n\r\n/**\r\n * Union type para respuestas de API que garantiza type safety\r\n */\r\nexport type ApiResult<T> = StrictApiResponse<T> | StrictApiError;\r\n\r\n// ===================================\r\n// TIPOS DE PAGINACIÓN ESTRICTOS\r\n// ===================================\r\n\r\n/**\r\n * Paginación con validación estricta de tipos\r\n */\r\nexport interface StrictPagination {\r\n  readonly page: number & { __brand: 'PositiveInteger' };\r\n  readonly limit: number & { __brand: 'PositiveInteger' };\r\n  readonly total: number & { __brand: 'NonNegativeInteger' };\r\n  readonly totalPages: number & { __brand: 'NonNegativeInteger' };\r\n  readonly hasNextPage: boolean;\r\n  readonly hasPreviousPage: boolean;\r\n}\r\n\r\n/**\r\n * Respuesta paginada con tipos estrictos\r\n */\r\nexport interface StrictPaginatedResponse<T> {\r\n  readonly success: true;\r\n  readonly data: {\r\n    readonly items: readonly T[];\r\n    readonly pagination: StrictPagination;\r\n    readonly filters?: Record<string, unknown>;\r\n  };\r\n  readonly message?: string;\r\n  readonly timestamp: string;\r\n}\r\n\r\n// ===================================\r\n// TIPOS ESPECÍFICOS PARA ÓRDENES\r\n// ===================================\r\n\r\n/**\r\n * Orden con validación estricta de campos requeridos\r\n */\r\nexport interface StrictOrderEnterprise {\r\n  readonly id: string | number; // Flexible para string o number\r\n  readonly order_number?: string & { __brand: 'OrderNumber' }; // Opcional\r\n  readonly user_id?: string | number; // Opcional y flexible\r\n  readonly status: OrderStatus;\r\n  readonly payment_status?: PaymentStatus; // Opcional\r\n  readonly fulfillment_status?: FulfillmentStatus; // Opcional\r\n  readonly total: number & { __brand: 'PositiveAmount' };\r\n  readonly currency?: string & { __brand: 'CurrencyCode' }; // Opcional\r\n  readonly created_at: string & { __brand: 'ISODateString' };\r\n  readonly updated_at?: string & { __brand: 'ISODateString' }; // Opcional\r\n  \r\n  // Campos opcionales con tipos estrictos\r\n  readonly shipping_address?: StrictAddress;\r\n  readonly billing_address?: StrictAddress;\r\n  readonly notes?: string & { __brand: 'NonEmptyString' };\r\n  readonly admin_notes?: string & { __brand: 'NonEmptyString' };\r\n  readonly tracking_number?: string & { __brand: 'TrackingNumber' };\r\n  readonly carrier?: string & { __brand: 'CarrierName' };\r\n  readonly estimated_delivery?: string & { __brand: 'ISODateString' };\r\n  readonly metadata: Record<string, unknown>;\r\n  \r\n  // Relaciones con tipos estrictos\r\n  readonly user_profiles?: StrictUserProfile | null;\r\n  readonly order_items?: readonly StrictOrderItem[];\r\n  readonly status_history?: readonly StrictOrderStatusHistory[];\r\n  readonly order_notes?: readonly StrictOrderNote[];\r\n}\r\n\r\n/**\r\n * Perfil de usuario con validación estricta\r\n */\r\nexport interface StrictUserProfile {\r\n  readonly id: string & { __brand: 'UserId' };\r\n  readonly name: string & { __brand: 'NonEmptyString' };\r\n  readonly email: string & { __brand: 'EmailAddress' };\r\n  readonly phone?: string & { __brand: 'PhoneNumber' };\r\n  readonly avatar_url?: string & { __brand: 'URL' };\r\n}\r\n\r\n/**\r\n * Item de orden con validación estricta\r\n */\r\nexport interface StrictOrderItem {\r\n  readonly id: string & { __brand: 'OrderItemId' };\r\n  readonly order_id: string & { __brand: 'OrderId' };\r\n  readonly product_id: number & { __brand: 'ProductId' };\r\n  readonly quantity: number & { __brand: 'PositiveInteger' };\r\n  readonly unit_price: number & { __brand: 'PositiveAmount' };\r\n  readonly total_price: number & { __brand: 'PositiveAmount' };\r\n  readonly product_name: string & { __brand: 'NonEmptyString' };\r\n  readonly product_sku?: string & { __brand: 'SKU' };\r\n}\r\n\r\n/**\r\n * Dirección con validación estricta\r\n */\r\nexport interface StrictAddress {\r\n  readonly street: string & { __brand: 'NonEmptyString' };\r\n  readonly city: string & { __brand: 'NonEmptyString' };\r\n  readonly state: string & { __brand: 'NonEmptyString' };\r\n  readonly postal_code: string & { __brand: 'PostalCode' };\r\n  readonly country: string & { __brand: 'CountryCode' };\r\n  readonly phone?: string & { __brand: 'PhoneNumber' };\r\n}\r\n\r\n/**\r\n * Historial de estado con validación estricta\r\n */\r\nexport interface StrictOrderStatusHistory {\r\n  readonly id: string & { __brand: 'StatusHistoryId' };\r\n  readonly order_id: string & { __brand: 'OrderId' };\r\n  readonly from_status: OrderStatus | null;\r\n  readonly to_status: OrderStatus;\r\n  readonly reason?: string & { __brand: 'NonEmptyString' };\r\n  readonly admin_id?: string & { __brand: 'AdminId' };\r\n  readonly created_at: string & { __brand: 'ISODateString' };\r\n}\r\n\r\n/**\r\n * Nota de orden con validación estricta\r\n */\r\nexport interface StrictOrderNote {\r\n  readonly id: string & { __brand: 'OrderNoteId' };\r\n  readonly order_id: string & { __brand: 'OrderId' };\r\n  readonly content: string & { __brand: 'NonEmptyString' };\r\n  readonly is_admin_note: boolean;\r\n  readonly admin_id?: string & { __brand: 'AdminId' };\r\n  readonly created_at: string & { __brand: 'ISODateString' };\r\n}\r\n\r\n// ===================================\r\n// RESPUESTAS ESPECÍFICAS DE API\r\n// ===================================\r\n\r\n/**\r\n * Respuesta de lista de órdenes con tipos estrictos\r\n */\r\nexport interface StrictOrdersListResponse {\r\n  readonly success: true;\r\n  readonly data: {\r\n    readonly orders: readonly StrictOrderEnterprise[];\r\n    readonly pagination: StrictPagination;\r\n    readonly filters: {\r\n      readonly search?: string;\r\n      readonly status?: OrderStatus;\r\n      readonly payment_status?: PaymentStatus;\r\n      readonly fulfillment_status?: FulfillmentStatus;\r\n      readonly date_from?: string & { __brand: 'ISODateString' };\r\n      readonly date_to?: string & { __brand: 'ISODateString' };\r\n    };\r\n    readonly analytics?: {\r\n      readonly total_orders: number & { __brand: 'NonNegativeInteger' };\r\n      readonly total_revenue: number & { __brand: 'NonNegativeAmount' };\r\n      readonly pending_orders: number & { __brand: 'NonNegativeInteger' };\r\n      readonly completed_orders: number & { __brand: 'NonNegativeInteger' };\r\n      readonly today_revenue: number & { __brand: 'NonNegativeAmount' };\r\n    };\r\n  };\r\n  readonly message?: string;\r\n  readonly timestamp: string;\r\n}\r\n\r\n/**\r\n * Respuesta de orden individual con tipos estrictos\r\n */\r\nexport interface StrictOrderDetailResponse {\r\n  readonly success: true;\r\n  readonly data: {\r\n    readonly order: StrictOrderEnterprise;\r\n    readonly timeline?: readonly StrictOrderStatusHistory[];\r\n    readonly related_orders?: readonly Pick<StrictOrderEnterprise, 'id' | 'order_number' | 'status' | 'total'>[];\r\n  };\r\n  readonly message?: string;\r\n  readonly timestamp: string;\r\n}\r\n\r\n// ===================================\r\n// TIPOS GENÉRICOS PARA VALIDACIÓN\r\n// ===================================\r\n\r\n/**\r\n * Tipo genérico para objetos que pueden ser validados\r\n */\r\ntype ValidatableObject = Record<string, any> | null;\r\n\r\n/**\r\n * Tipo genérico para respuestas de API no tipadas\r\n */\r\ntype UntypedApiResponse = Record<string, any> | null;\r\n\r\n// ===================================\r\n// VALIDADORES DE TIPOS\r\n// ===================================\r\n\r\n/**\r\n * Validador para verificar si un objeto es una respuesta de API válida\r\n */\r\nexport function isStrictApiResponse<T>(obj: ValidatableObject): obj is StrictApiResponse<T> {\r\n  return (\r\n    typeof obj === 'object' &&\r\n    obj !== null &&\r\n    'success' in obj &&\r\n    obj.success === true &&\r\n    'data' in obj &&\r\n    'timestamp' in obj &&\r\n    typeof obj.timestamp === 'string'\r\n  );\r\n}\r\n\r\n/**\r\n * Validador para verificar si un objeto es un error de API válido\r\n */\r\nexport function isStrictApiError(obj: ValidatableObject): obj is StrictApiError {\r\n  return (\r\n    typeof obj === 'object' &&\r\n    obj !== null &&\r\n    'success' in obj &&\r\n    obj.success === false &&\r\n    'error' in obj &&\r\n    typeof obj.error === 'string' &&\r\n    'timestamp' in obj &&\r\n    typeof obj.timestamp === 'string'\r\n  );\r\n}\r\n\r\n/**\r\n * Validador para verificar si una paginación es válida\r\n */\r\nexport function isValidPagination(obj: ValidatableObject): obj is StrictPagination {\r\n  if (typeof obj !== 'object' || obj === null) {return false;}\r\n  \r\n  return (\r\n    typeof obj.page === 'number' &&\r\n    typeof obj.limit === 'number' &&\r\n    typeof obj.total === 'number' &&\r\n    typeof obj.totalPages === 'number' &&\r\n    typeof obj.hasNextPage === 'boolean' &&\r\n    typeof obj.hasPreviousPage === 'boolean' &&\r\n    obj.page > 0 &&\r\n    obj.limit > 0 &&\r\n    obj.total >= 0 &&\r\n    obj.totalPages >= 0\r\n  );\r\n}\r\n\r\n/**\r\n * Validador para verificar si una orden es válida (versión más flexible)\r\n */\r\nexport function isValidStrictOrder(obj: ValidatableObject): obj is StrictOrderEnterprise {\r\n  if (typeof obj !== 'object' || obj === null) {\r\n    return false;\r\n  }\r\n  \r\n  // Validaciones mínimas - solo campos absolutamente esenciales\r\n  const hasId = obj.id && (typeof obj.id === 'string' || typeof obj.id === 'number');\r\n  const hasTotal = typeof obj.total === 'number' && obj.total >= 0;\r\n  const hasCreatedAt = obj.created_at && typeof obj.created_at === 'string';\r\n  const hasStatus = obj.status && typeof obj.status === 'string';\r\n  \r\n  // Solo requerir los campos absolutamente esenciales\r\n  return hasId && hasTotal && hasCreatedAt && hasStatus;\r\n}\r\n\r\n// ===================================\r\n// UTILIDADES DE TRANSFORMACIÓN\r\n// ===================================\r\n\r\n/**\r\n * Transforma una respuesta de API no tipada a una respuesta estricta\r\n */\r\nexport function toStrictOrdersResponse(obj: UntypedApiResponse): StrictOrdersListResponse | StrictApiError {\r\n  try {\r\n    if (!isStrictApiResponse(obj)) {\r\n      return {\r\n        success: false,\r\n        error: 'Invalid API response format',\r\n        code: 'INVALID_RESPONSE_FORMAT',\r\n        timestamp: new Date().toISOString(),\r\n        path: '/api/admin/orders'\r\n      };\r\n    }\r\n\r\n    const response = obj as any;\r\n    \r\n    // Validar estructura de datos\r\n    if (!response.data || typeof response.data !== 'object') {\r\n      return {\r\n        success: false,\r\n        error: 'Missing or invalid data field',\r\n        code: 'INVALID_DATA_FIELD',\r\n        timestamp: new Date().toISOString(),\r\n        path: '/api/admin/orders'\r\n      };\r\n    }\r\n\r\n    // Validar órdenes\r\n    const orders = response.data.orders || [];\r\n    if (!Array.isArray(orders)) {\r\n      return {\r\n        success: false,\r\n        error: 'Orders field must be an array',\r\n        code: 'INVALID_ORDERS_FIELD',\r\n        timestamp: new Date().toISOString(),\r\n        path: '/api/admin/orders'\r\n      };\r\n    }\r\n\r\n    // Validar paginación\r\n    const pagination = response.data.pagination;\r\n    if (pagination && !isValidPagination(pagination)) {\r\n      return {\r\n        success: false,\r\n        error: 'Invalid pagination format',\r\n        code: 'INVALID_PAGINATION',\r\n        timestamp: new Date().toISOString(),\r\n        path: '/api/admin/orders'\r\n      };\r\n    }\r\n\r\n    // Transformar órdenes para asegurar compatibilidad\r\n    \r\n    // Transformar órdenes para normalizar tipos\r\n    const transformedOrders = orders.map((order: any) => ({\r\n      ...order,\r\n      id: String(order.id), // Convertir ID a string para compatibilidad frontend\r\n      user_id: order.user_id ? String(order.user_id) : order.user_id,\r\n      total: Number(order.total) || 0,\r\n      created_at: order.created_at || new Date().toISOString(),\r\n      status: order.status || 'pending',\r\n      metadata: order.metadata || {}\r\n    }));\r\n    \r\n    const validOrders = transformedOrders.filter(isValidStrictOrder);\r\n    \r\n    // Crear respuesta estricta con valores por defecto seguros\r\n    return {\r\n      success: true,\r\n      data: {\r\n        orders: validOrders,\r\n        pagination: pagination || {\r\n          page: 1 as any,\r\n          limit: 20 as any,\r\n          total: orders.length as any,\r\n          totalPages: Math.ceil(orders.length / 20) as any,\r\n          hasNextPage: false,\r\n          hasPreviousPage: false\r\n        },\r\n        filters: response.data.filters || {},\r\n        analytics: response.data.analytics\r\n      },\r\n      message: response.message,\r\n      timestamp: response.timestamp || new Date().toISOString()\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: `Failed to parse API response: ${error instanceof Error ? error.message : 'Unknown error'}`,\r\n      code: 'PARSE_ERROR',\r\n      timestamp: new Date().toISOString(),\r\n      path: '/api/admin/orders'\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Crea una respuesta de error estricta\r\n */\r\nexport function createStrictApiError(\r\n  error: string,\r\n  code?: string,\r\n  details?: Record<string, unknown>,\r\n  path?: string\r\n): StrictApiError {\r\n  return {\r\n    success: false,\r\n    error,\r\n    code,\r\n    details,\r\n    timestamp: new Date().toISOString(),\r\n    path: path || '/api/unknown'\r\n  };\r\n}\r\n\r\n/**\r\n * Crea una respuesta exitosa estricta\r\n */\r\nexport function createStrictApiResponse<T>(\r\n  data: T,\r\n  message?: string\r\n): StrictApiResponse<T> {\r\n  return {\r\n    success: true,\r\n    data,\r\n    message,\r\n    timestamp: new Date().toISOString()\r\n  };\r\n}\r\n\r\n// ===================================\r\n// TIPOS DE UTILIDAD\r\n// ===================================\r\n\r\n/**\r\n * Extrae el tipo de datos de una respuesta de API\r\n */\r\nexport type ExtractApiData<T> = T extends StrictApiResponse<infer U> ? U : never;\r\n\r\n/**\r\n * Hace que todos los campos de un tipo sean de solo lectura recursivamente\r\n */\r\nexport type DeepReadonly<T> = {\r\n  readonly [P in keyof T]: T[P] extends object ? DeepReadonly<T[P]> : T[P];\r\n};\r\n\r\n/**\r\n * Tipo para funciones que manejan respuestas de API\r\n */\r\nexport type ApiHandler<T, R = void> = (response: ApiResult<T>) => R | Promise<R>;\r\n\r\n/**\r\n * Tipo para opciones de configuración de API\r\n */\r\nexport interface StrictApiOptions {\r\n  readonly timeout?: number;\r\n  readonly retries?: number;\r\n  readonly validateResponse?: boolean;\r\n  readonly throwOnError?: boolean;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}