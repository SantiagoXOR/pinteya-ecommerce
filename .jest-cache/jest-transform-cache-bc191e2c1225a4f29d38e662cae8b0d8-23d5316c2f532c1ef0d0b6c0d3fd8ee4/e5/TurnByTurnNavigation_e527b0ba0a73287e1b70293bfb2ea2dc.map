{"version":3,"names":["TurnByTurnNavigation","directions","currentLocation","isNavigating","onStepComplete","className","cov_1jfi5dl7u4","f","currentStepIndex","setCurrentStepIndex","s","_react","useState","navigationSteps","setNavigationSteps","isVoiceEnabled","setIsVoiceEnabled","lastSpokenStep","setLastSpokenStep","speechSynthesisRef","useRef","useEffect","b","window","current","speechSynthesis","routes","route","leg","legs","steps","map","step","index","instruction","instructions","replace","distance","text","duration","maneuver","htmlInstructions","getManeuverIcon","iconClass","_jsxruntime","jsx","_lucidereact","ArrowLeft","_utils","cn","ArrowRight","ArrowUp","RotateCcw","Navigation","speakInstruction","useCallback","cancel","utterance","SpeechSynthesisUtterance","lang","rate","pitch","volume","speak","length","currentStep","nextStep","newIndex","previousStep","nextStepPreview","jsxs","onClick","Volume2","VolumeX","MapPin","Clock","disabled","Math","round","style","width"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\driver\\TurnByTurnNavigation.tsx"],"sourcesContent":["/**\r\n * Componente de navegación turn-by-turn con instrucciones paso a paso\r\n * Incluye síntesis de voz, iconos visuales y seguimiento de progreso\r\n */\r\n\r\n'use client';\r\n\r\nimport React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport { \r\n  ArrowUp, ArrowDown, ArrowLeft, ArrowRight, \r\n  RotateCcw, Navigation, Volume2, VolumeX,\r\n  MapPin, Clock\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/core/utils';\r\n\r\ninterface NavigationStep {\r\n  instruction: string;\r\n  distance: string;\r\n  duration: string;\r\n  maneuver: string;\r\n  htmlInstructions: string;\r\n}\r\n\r\ninterface TurnByTurnNavigationProps {\r\n  directions: google.maps.DirectionsResult | null;\r\n  currentLocation: { lat: number; lng: number } | null;\r\n  isNavigating: boolean;\r\n  onStepComplete?: (stepIndex: number) => void;\r\n  className?: string;\r\n}\r\n\r\nexport function TurnByTurnNavigation({\r\n  directions,\r\n  currentLocation,\r\n  isNavigating,\r\n  onStepComplete,\r\n  className\r\n}: TurnByTurnNavigationProps) {\r\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\r\n  const [navigationSteps, setNavigationSteps] = useState<NavigationStep[]>([]);\r\n  const [isVoiceEnabled, setIsVoiceEnabled] = useState(true);\r\n  const [lastSpokenStep, setLastSpokenStep] = useState(-1);\r\n  const speechSynthesisRef = useRef<SpeechSynthesis | null>(null);\r\n\r\n  // Inicializar síntesis de voz\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && 'speechSynthesis' in window) {\r\n      speechSynthesisRef.current = window.speechSynthesis;\r\n    }\r\n  }, []);\r\n\r\n  // Procesar direcciones y extraer pasos\r\n  useEffect(() => {\r\n    if (directions && directions.routes[0]) {\r\n      const route = directions.routes[0];\r\n      const leg = route.legs[0];\r\n      \r\n      const steps: NavigationStep[] = leg.steps.map((step, index) => ({\r\n        instruction: step.instructions.replace(/<[^>]*>/g, ''), // Remover HTML\r\n        distance: step.distance?.text || '',\r\n        duration: step.duration?.text || '',\r\n        maneuver: step.maneuver || 'straight',\r\n        htmlInstructions: step.instructions\r\n      }));\r\n\r\n      setNavigationSteps(steps);\r\n      setCurrentStepIndex(0);\r\n      setLastSpokenStep(-1);\r\n    }\r\n  }, [directions]);\r\n\r\n  // Función para obtener icono de maniobra\r\n  const getManeuverIcon = (maneuver: string) => {\r\n    const iconClass = \"w-8 h-8\";\r\n    \r\n    switch (maneuver) {\r\n      case 'turn-left':\r\n      case 'turn-slight-left':\r\n      case 'turn-sharp-left':\r\n        return <ArrowLeft className={cn(iconClass, \"text-blue-600\")} />;\r\n      case 'turn-right':\r\n      case 'turn-slight-right':\r\n      case 'turn-sharp-right':\r\n        return <ArrowRight className={cn(iconClass, \"text-blue-600\")} />;\r\n      case 'straight':\r\n      case 'continue':\r\n        return <ArrowUp className={cn(iconClass, \"text-green-600\")} />;\r\n      case 'uturn-left':\r\n      case 'uturn-right':\r\n        return <RotateCcw className={cn(iconClass, \"text-red-600\")} />;\r\n      case 'roundabout-left':\r\n      case 'roundabout-right':\r\n        return <Navigation className={cn(iconClass, \"text-purple-600\")} />;\r\n      default:\r\n        return <ArrowUp className={cn(iconClass, \"text-gray-600\")} />;\r\n    }\r\n  };\r\n\r\n  // Función para leer instrucción en voz alta\r\n  const speakInstruction = useCallback((instruction: string) => {\r\n    if (!isVoiceEnabled || !speechSynthesisRef.current) return;\r\n\r\n    // Cancelar cualquier síntesis anterior\r\n    speechSynthesisRef.current.cancel();\r\n\r\n    const utterance = new SpeechSynthesisUtterance(instruction);\r\n    utterance.lang = 'es-ES';\r\n    utterance.rate = 0.9;\r\n    utterance.pitch = 1;\r\n    utterance.volume = 0.8;\r\n\r\n    speechSynthesisRef.current.speak(utterance);\r\n  }, [isVoiceEnabled]);\r\n\r\n  // Detectar cuando el usuario se acerca al siguiente paso\r\n  useEffect(() => {\r\n    if (!currentLocation || !navigationSteps.length || !isNavigating) return;\r\n\r\n    const currentStep = navigationSteps[currentStepIndex];\r\n    if (!currentStep) return;\r\n\r\n    // Leer instrucción si es un nuevo paso\r\n    if (currentStepIndex !== lastSpokenStep && isVoiceEnabled) {\r\n      speakInstruction(currentStep.instruction);\r\n      setLastSpokenStep(currentStepIndex);\r\n    }\r\n\r\n    // Aquí podrías agregar lógica para detectar proximidad al siguiente paso\r\n    // y avanzar automáticamente el índice\r\n  }, [currentLocation, currentStepIndex, navigationSteps, isNavigating, lastSpokenStep, isVoiceEnabled, speakInstruction]);\r\n\r\n  // Función para avanzar manualmente al siguiente paso\r\n  const nextStep = () => {\r\n    if (currentStepIndex < navigationSteps.length - 1) {\r\n      const newIndex = currentStepIndex + 1;\r\n      setCurrentStepIndex(newIndex);\r\n      onStepComplete?.(currentStepIndex);\r\n    }\r\n  };\r\n\r\n  // Función para retroceder al paso anterior\r\n  const previousStep = () => {\r\n    if (currentStepIndex > 0) {\r\n      setCurrentStepIndex(currentStepIndex - 1);\r\n    }\r\n  };\r\n\r\n  if (!isNavigating || !navigationSteps.length) {\r\n    return null;\r\n  }\r\n\r\n  const currentStep = navigationSteps[currentStepIndex];\r\n  const nextStepPreview = navigationSteps[currentStepIndex + 1];\r\n\r\n  return (\r\n    <div className={cn(\r\n      \"bg-white rounded-lg shadow-lg border border-gray-200\",\r\n      className\r\n    )}>\r\n      {/* Header con controles */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Navigation className=\"w-5 h-5 text-blue-600\" />\r\n          <span className=\"font-semibold text-gray-900\">Navegación</span>\r\n          <span className=\"text-sm text-gray-500\">\r\n            {currentStepIndex + 1} de {navigationSteps.length}\r\n          </span>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={() => setIsVoiceEnabled(!isVoiceEnabled)}\r\n          className={cn(\r\n            \"p-2 rounded-lg transition-colors\",\r\n            isVoiceEnabled\r\n              ? \"bg-blue-100 text-blue-600 hover:bg-blue-200\"\r\n              : \"bg-gray-100 text-gray-400 hover:bg-gray-200\"\r\n          )}\r\n        >\r\n          {isVoiceEnabled ? <Volume2 className=\"w-4 h-4\" /> : <VolumeX className=\"w-4 h-4\" />}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Instrucción actual */}\r\n      <div className=\"p-4\">\r\n        <div className=\"flex items-start space-x-4\">\r\n          <div className=\"flex-shrink-0\">\r\n            {getManeuverIcon(currentStep.maneuver)}\r\n          </div>\r\n          \r\n          <div className=\"flex-1\">\r\n            <div className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n              {currentStep.instruction}\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\r\n              <div className=\"flex items-center\">\r\n                <MapPin className=\"w-4 h-4 mr-1\" />\r\n                <span>{currentStep.distance}</span>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <Clock className=\"w-4 h-4 mr-1\" />\r\n                <span>{currentStep.duration}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Vista previa del siguiente paso */}\r\n        {nextStepPreview && (\r\n          <div className=\"mt-4 pt-4 border-t border-gray-100\">\r\n            <div className=\"text-sm text-gray-500 mb-2\">Siguiente:</div>\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"flex-shrink-0\">\r\n                {getManeuverIcon(nextStepPreview.maneuver)}\r\n              </div>\r\n              <div className=\"text-sm text-gray-700\">\r\n                {nextStepPreview.instruction}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Controles de navegación */}\r\n        <div className=\"mt-4 flex justify-between\">\r\n          <button\r\n            onClick={previousStep}\r\n            disabled={currentStepIndex === 0}\r\n            className={cn(\r\n              \"px-4 py-2 rounded-lg text-sm font-medium transition-colors\",\r\n              currentStepIndex === 0\r\n                ? \"bg-gray-100 text-gray-400 cursor-not-allowed\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            )}\r\n          >\r\n            Anterior\r\n          </button>\r\n          \r\n          <button\r\n            onClick={nextStep}\r\n            disabled={currentStepIndex === navigationSteps.length - 1}\r\n            className={cn(\r\n              \"px-4 py-2 rounded-lg text-sm font-medium transition-colors\",\r\n              currentStepIndex === navigationSteps.length - 1\r\n                ? \"bg-gray-100 text-gray-400 cursor-not-allowed\"\r\n                : \"bg-blue-600 text-white hover:bg-blue-700\"\r\n            )}\r\n          >\r\n            Siguiente\r\n          </button>\r\n        </div>\r\n\r\n        {/* Barra de progreso */}\r\n        <div className=\"mt-4\">\r\n          <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\r\n            <span>Progreso</span>\r\n            <span>{Math.round(((currentStepIndex + 1) / navigationSteps.length) * 100)}%</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n            <div\r\n              className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n              style={{\r\n                width: `${((currentStepIndex + 1) / navigationSteps.length) * 100}%`\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}