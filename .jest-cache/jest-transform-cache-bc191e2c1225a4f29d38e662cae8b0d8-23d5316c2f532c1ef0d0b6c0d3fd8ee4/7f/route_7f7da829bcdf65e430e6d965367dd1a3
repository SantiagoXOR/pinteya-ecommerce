b45fb24df3f19fb1d9ffcc5aabee956e
// =====================================================
// API: INTEGRACIÓN ÓRDENES-LOGÍSTICA
// Ruta: /api/admin/orders/[id]/shipments
// Descripción: Crear y gestionar envíos desde órdenes
// =====================================================
"use strict";

/* istanbul ignore next */
function cov_rqzpocc2() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\orders\\[id]\\shipments\\route.ts";
  var hash = "ea3da88ba29fe713701d4094e8ff33f6b9877060";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\orders\\[id]\\shipments\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 9,
          column: 3
        }
      },
      "1": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 14,
          column: 7
        }
      },
      "2": {
        start: {
          line: 11,
          column: 24
        },
        end: {
          line: 14,
          column: 7
        }
      },
      "3": {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 23,
          column: 3
        }
      },
      "4": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 18,
          column: 19
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 20
        }
      },
      "6": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 38
        }
      },
      "7": {
        start: {
          line: 25,
          column: 14
        },
        end: {
          line: 25,
          column: 47
        }
      },
      "8": {
        start: {
          line: 26,
          column: 20
        },
        end: {
          line: 26,
          column: 52
        }
      },
      "9": {
        start: {
          line: 27,
          column: 13
        },
        end: {
          line: 27,
          column: 27
        }
      },
      "10": {
        start: {
          line: 31,
          column: 17
        },
        end: {
          line: 31,
          column: 123
        }
      },
      "11": {
        start: {
          line: 35,
          column: 38
        },
        end: {
          line: 64,
          column: 2
        }
      },
      "12": {
        start: {
          line: 69,
          column: 22
        },
        end: {
          line: 69,
          column: 43
        }
      },
      "13": {
        start: {
          line: 70,
          column: 19
        },
        end: {
          line: 70,
          column: 72
        }
      },
      "14": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 50
        }
      },
      "15": {
        start: {
          line: 74,
          column: 35
        },
        end: {
          line: 98,
          column: 33
        }
      },
      "16": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 101,
          column: 5
        }
      },
      "17": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 100,
          column: 68
        }
      },
      "18": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 104,
          column: 5
        }
      },
      "19": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 47
        }
      },
      "20": {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 111,
          column: 5
        }
      },
      "21": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 126
        }
      },
      "22": {
        start: {
          line: 112,
          column: 4
        },
        end: {
          line: 112,
          column: 17
        }
      },
      "23": {
        start: {
          line: 115,
          column: 27
        },
        end: {
          line: 115,
          column: 51
        }
      },
      "24": {
        start: {
          line: 117,
          column: 22
        },
        end: {
          line: 117,
          column: 45
        }
      },
      "25": {
        start: {
          line: 118,
          column: 4
        },
        end: {
          line: 123,
          column: 5
        }
      },
      "26": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 122,
          column: 14
        }
      },
      "27": {
        start: {
          line: 120,
          column: 31
        },
        end: {
          line: 120,
          column: 62
        }
      },
      "28": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 52
        }
      },
      "29": {
        start: {
          line: 125,
          column: 28
        },
        end: {
          line: 125,
          column: 88
        }
      },
      "30": {
        start: {
          line: 126,
          column: 38
        },
        end: {
          line: 144,
          column: 15
        }
      },
      "31": {
        start: {
          line: 145,
          column: 4
        },
        end: {
          line: 147,
          column: 5
        }
      },
      "32": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 65
        }
      },
      "33": {
        start: {
          line: 148,
          column: 4
        },
        end: {
          line: 148,
          column: 20
        }
      },
      "34": {
        start: {
          line: 151,
          column: 26
        },
        end: {
          line: 167,
          column: 6
        }
      },
      "35": {
        start: {
          line: 152,
          column: 26
        },
        end: {
          line: 152,
          column: 80
        }
      },
      "36": {
        start: {
          line: 152,
          column: 48
        },
        end: {
          line: 152,
          column: 79
        }
      },
      "37": {
        start: {
          line: 153,
          column: 8
        },
        end: {
          line: 155,
          column: 9
        }
      },
      "38": {
        start: {
          line: 154,
          column: 12
        },
        end: {
          line: 154,
          column: 85
        }
      },
      "39": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 158,
          column: 9
        }
      },
      "40": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 124
        }
      },
      "41": {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 166,
          column: 10
        }
      },
      "42": {
        start: {
          line: 168,
          column: 22
        },
        end: {
          line: 168,
          column: 81
        }
      },
      "43": {
        start: {
          line: 169,
          column: 4
        },
        end: {
          line: 171,
          column: 5
        }
      },
      "44": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 170,
          column: 74
        }
      },
      "45": {
        start: {
          line: 174,
          column: 22
        },
        end: {
          line: 180,
          column: 6
        }
      },
      "46": {
        start: {
          line: 181,
          column: 4
        },
        end: {
          line: 184,
          column: 5
        }
      },
      "47": {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 182,
          column: 74
        }
      },
      "48": {
        start: {
          line: 188,
          column: 22
        },
        end: {
          line: 191,
          column: 24
        }
      },
      "49": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 195,
          column: 5
        }
      },
      "50": {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 193,
          column: 68
        }
      },
      "51": {
        start: {
          line: 198,
          column: 4
        },
        end: {
          line: 278,
          column: 5
        }
      },
      "52": {
        start: {
          line: 200,
          column: 24
        },
        end: {
          line: 200,
          column: 47
        }
      },
      "53": {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 207,
          column: 9
        }
      },
      "54": {
        start: {
          line: 202,
          column: 12
        },
        end: {
          line: 206,
          column: 15
        }
      },
      "55": {
        start: {
          line: 208,
          column: 24
        },
        end: {
          line: 208,
          column: 33
        }
      },
      "56": {
        start: {
          line: 210,
          column: 21
        },
        end: {
          line: 210,
          column: 41
        }
      },
      "57": {
        start: {
          line: 211,
          column: 33
        },
        end: {
          line: 211,
          column: 78
        }
      },
      "58": {
        start: {
          line: 212,
          column: 8
        },
        end: {
          line: 219,
          column: 9
        }
      },
      "59": {
        start: {
          line: 213,
          column: 12
        },
        end: {
          line: 218,
          column: 15
        }
      },
      "60": {
        start: {
          line: 220,
          column: 30
        },
        end: {
          line: 220,
          column: 51
        }
      },
      "61": {
        start: {
          line: 222,
          column: 26
        },
        end: {
          line: 222,
          column: 77
        }
      },
      "62": {
        start: {
          line: 224,
          column: 55
        },
        end: {
          line: 224,
          column: 182
        }
      },
      "63": {
        start: {
          line: 225,
          column: 8
        },
        end: {
          line: 231,
          column: 9
        }
      },
      "64": {
        start: {
          line: 226,
          column: 12
        },
        end: {
          line: 230,
          column: 15
        }
      },
      "65": {
        start: {
          line: 233,
          column: 25
        },
        end: {
          line: 233,
          column: 77
        }
      },
      "66": {
        start: {
          line: 235,
          column: 8
        },
        end: {
          line: 235,
          column: 91
        }
      },
      "67": {
        start: {
          line: 237,
          column: 8
        },
        end: {
          line: 237,
          column: 54
        }
      },
      "68": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 239,
          column: 41
        }
      },
      "69": {
        start: {
          line: 241,
          column: 62
        },
        end: {
          line: 254,
          column: 39
        }
      },
      "70": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 257,
          column: 9
        }
      },
      "71": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 256,
          column: 74
        }
      },
      "72": {
        start: {
          line: 258,
          column: 8
        },
        end: {
          line: 264,
          column: 11
        }
      },
      "73": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 269,
          column: 11
        }
      },
      "74": {
        start: {
          line: 271,
          column: 8
        },
        end: {
          line: 271,
          column: 67
        }
      },
      "75": {
        start: {
          line: 272,
          column: 8
        },
        end: {
          line: 277,
          column: 11
        }
      },
      "76": {
        start: {
          line: 281,
          column: 4
        },
        end: {
          line: 324,
          column: 5
        }
      },
      "77": {
        start: {
          line: 283,
          column: 24
        },
        end: {
          line: 283,
          column: 47
        }
      },
      "78": {
        start: {
          line: 284,
          column: 8
        },
        end: {
          line: 290,
          column: 9
        }
      },
      "79": {
        start: {
          line: 285,
          column: 12
        },
        end: {
          line: 289,
          column: 15
        }
      },
      "80": {
        start: {
          line: 291,
          column: 24
        },
        end: {
          line: 291,
          column: 33
        }
      },
      "81": {
        start: {
          line: 293,
          column: 43
        },
        end: {
          line: 308,
          column: 10
        }
      },
      "82": {
        start: {
          line: 309,
          column: 8
        },
        end: {
          line: 311,
          column: 9
        }
      },
      "83": {
        start: {
          line: 310,
          column: 12
        },
        end: {
          line: 310,
          column: 24
        }
      },
      "84": {
        start: {
          line: 312,
          column: 8
        },
        end: {
          line: 315,
          column: 11
        }
      },
      "85": {
        start: {
          line: 317,
          column: 8
        },
        end: {
          line: 317,
          column: 68
        }
      },
      "86": {
        start: {
          line: 318,
          column: 8
        },
        end: {
          line: 323,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 10,
            column: 9
          },
          end: {
            line: 10,
            column: 16
          }
        },
        loc: {
          start: {
            line: 10,
            column: 30
          },
          end: {
            line: 15,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 15
          },
          end: {
            line: 19,
            column: 5
          }
        },
        line: 17
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 16
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 20
      },
      "3": {
        name: "generateShipmentNumber",
        decl: {
          start: {
            line: 68,
            column: 9
          },
          end: {
            line: 68,
            column: 31
          }
        },
        loc: {
          start: {
            line: 68,
            column: 34
          },
          end: {
            line: 72,
            column: 1
          }
        },
        line: 68
      },
      "4": {
        name: "validateOrderAccess",
        decl: {
          start: {
            line: 73,
            column: 15
          },
          end: {
            line: 73,
            column: 34
          }
        },
        loc: {
          start: {
            line: 73,
            column: 52
          },
          end: {
            line: 113,
            column: 1
          }
        },
        line: 73
      },
      "5": {
        name: "createShipmentRecord",
        decl: {
          start: {
            line: 114,
            column: 15
          },
          end: {
            line: 114,
            column: 35
          }
        },
        loc: {
          start: {
            line: 114,
            column: 62
          },
          end: {
            line: 149,
            column: 1
          }
        },
        line: 114
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 119,
            column: 51
          },
          end: {
            line: 119,
            column: 52
          }
        },
        loc: {
          start: {
            line: 119,
            column: 64
          },
          end: {
            line: 122,
            column: 9
          }
        },
        line: 119
      },
      "7": {
        name: "createShipmentItems",
        decl: {
          start: {
            line: 150,
            column: 15
          },
          end: {
            line: 150,
            column: 34
          }
        },
        loc: {
          start: {
            line: 150,
            column: 75
          },
          end: {
            line: 172,
            column: 1
          }
        },
        line: 150
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 151,
            column: 45
          },
          end: {
            line: 151,
            column: 46
          }
        },
        loc: {
          start: {
            line: 151,
            column: 56
          },
          end: {
            line: 167,
            column: 5
          }
        },
        line: 151
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 152,
            column: 42
          },
          end: {
            line: 152,
            column: 43
          }
        },
        loc: {
          start: {
            line: 152,
            column: 48
          },
          end: {
            line: 152,
            column: 79
          }
        },
        line: 152
      },
      "10": {
        name: "createInitialTrackingEvent",
        decl: {
          start: {
            line: 173,
            column: 15
          },
          end: {
            line: 173,
            column: 41
          }
        },
        loc: {
          start: {
            line: 173,
            column: 54
          },
          end: {
            line: 185,
            column: 1
          }
        },
        line: 173
      },
      "11": {
        name: "updateOrderStatus",
        decl: {
          start: {
            line: 186,
            column: 15
          },
          end: {
            line: 186,
            column: 32
          }
        },
        loc: {
          start: {
            line: 186,
            column: 42
          },
          end: {
            line: 196,
            column: 1
          }
        },
        line: 186
      },
      "12": {
        name: "POST",
        decl: {
          start: {
            line: 197,
            column: 15
          },
          end: {
            line: 197,
            column: 19
          }
        },
        loc: {
          start: {
            line: 197,
            column: 41
          },
          end: {
            line: 279,
            column: 1
          }
        },
        line: 197
      },
      "13": {
        name: "GET",
        decl: {
          start: {
            line: 280,
            column: 15
          },
          end: {
            line: 280,
            column: 18
          }
        },
        loc: {
          start: {
            line: 280,
            column: 40
          },
          end: {
            line: 325,
            column: 1
          }
        },
        line: 280
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 101,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 101,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "1": {
        loc: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 104,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 104,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 102
      },
      "2": {
        loc: {
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 111,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 111,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "3": {
        loc: {
          start: {
            line: 118,
            column: 4
          },
          end: {
            line: 123,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 4
          },
          end: {
            line: 123,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "4": {
        loc: {
          start: {
            line: 120,
            column: 31
          },
          end: {
            line: 120,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 120,
            column: 31
          },
          end: {
            line: 120,
            column: 55
          }
        }, {
          start: {
            line: 120,
            column: 59
          },
          end: {
            line: 120,
            column: 62
          }
        }],
        line: 120
      },
      "5": {
        loc: {
          start: {
            line: 125,
            column: 28
          },
          end: {
            line: 125,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 125,
            column: 28
          },
          end: {
            line: 125,
            column: 58
          }
        }, {
          start: {
            line: 125,
            column: 62
          },
          end: {
            line: 125,
            column: 88
          }
        }],
        line: 125
      },
      "6": {
        loc: {
          start: {
            line: 145,
            column: 4
          },
          end: {
            line: 147,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 145,
            column: 4
          },
          end: {
            line: 147,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 145
      },
      "7": {
        loc: {
          start: {
            line: 153,
            column: 8
          },
          end: {
            line: 155,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 153,
            column: 8
          },
          end: {
            line: 155,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 153
      },
      "8": {
        loc: {
          start: {
            line: 156,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 156,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 156
      },
      "9": {
        loc: {
          start: {
            line: 164,
            column: 24
          },
          end: {
            line: 164,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 164,
            column: 24
          },
          end: {
            line: 164,
            column: 53
          }
        }, {
          start: {
            line: 164,
            column: 57
          },
          end: {
            line: 164,
            column: 60
          }
        }],
        line: 164
      },
      "10": {
        loc: {
          start: {
            line: 169,
            column: 4
          },
          end: {
            line: 171,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 169,
            column: 4
          },
          end: {
            line: 171,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 169
      },
      "11": {
        loc: {
          start: {
            line: 181,
            column: 4
          },
          end: {
            line: 184,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 4
          },
          end: {
            line: 184,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 181
      },
      "12": {
        loc: {
          start: {
            line: 192,
            column: 4
          },
          end: {
            line: 195,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 192,
            column: 4
          },
          end: {
            line: 195,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 192
      },
      "13": {
        loc: {
          start: {
            line: 201,
            column: 8
          },
          end: {
            line: 207,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 201,
            column: 8
          },
          end: {
            line: 207,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 201
      },
      "14": {
        loc: {
          start: {
            line: 212,
            column: 8
          },
          end: {
            line: 219,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 212,
            column: 8
          },
          end: {
            line: 219,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 212
      },
      "15": {
        loc: {
          start: {
            line: 225,
            column: 8
          },
          end: {
            line: 231,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 225,
            column: 8
          },
          end: {
            line: 231,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 225
      },
      "16": {
        loc: {
          start: {
            line: 225,
            column: 12
          },
          end: {
            line: 225,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 225,
            column: 12
          },
          end: {
            line: 225,
            column: 24
          }
        }, {
          start: {
            line: 225,
            column: 28
          },
          end: {
            line: 225,
            column: 36
          }
        }],
        line: 225
      },
      "17": {
        loc: {
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 257,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 257,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 255
      },
      "18": {
        loc: {
          start: {
            line: 268,
            column: 18
          },
          end: {
            line: 268,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 268,
            column: 18
          },
          end: {
            line: 268,
            column: 34
          }
        }, {
          start: {
            line: 268,
            column: 38
          },
          end: {
            line: 268,
            column: 46
          }
        }],
        line: 268
      },
      "19": {
        loc: {
          start: {
            line: 274,
            column: 21
          },
          end: {
            line: 274,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 274,
            column: 46
          },
          end: {
            line: 274,
            column: 59
          }
        }, {
          start: {
            line: 274,
            column: 62
          },
          end: {
            line: 274,
            column: 77
          }
        }],
        line: 274
      },
      "20": {
        loc: {
          start: {
            line: 284,
            column: 8
          },
          end: {
            line: 290,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 284,
            column: 8
          },
          end: {
            line: 290,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 284
      },
      "21": {
        loc: {
          start: {
            line: 309,
            column: 8
          },
          end: {
            line: 311,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 309,
            column: 8
          },
          end: {
            line: 311,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 309
      },
      "22": {
        loc: {
          start: {
            line: 314,
            column: 18
          },
          end: {
            line: 314,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 314,
            column: 18
          },
          end: {
            line: 314,
            column: 27
          }
        }, {
          start: {
            line: 314,
            column: 31
          },
          end: {
            line: 314,
            column: 33
          }
        }],
        line: 314
      },
      "23": {
        loc: {
          start: {
            line: 320,
            column: 21
          },
          end: {
            line: 320,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 320,
            column: 46
          },
          end: {
            line: 320,
            column: 59
          }
        }, {
          start: {
            line: 320,
            column: 62
          },
          end: {
            line: 320,
            column: 77
          }
        }],
        line: 320
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\orders\\[id]\\shipments\\route.ts"],
      sourcesContent: ["// =====================================================\r\n// API: INTEGRACI\xD3N \xD3RDENES-LOG\xCDSTICA\r\n// Ruta: /api/admin/orders/[id]/shipments\r\n// Descripci\xF3n: Crear y gestionar env\xEDos desde \xF3rdenes\r\n// =====================================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { auth } from '@/auth';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { z } from 'zod';\r\nimport { OrderEnterprise, OrderItemEnterprise } from '@/types/orders-enterprise';\r\n\r\n// =====================================================\r\n// CONFIGURACI\xD3N\r\n// =====================================================\r\n\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n);\r\n\r\n// =====================================================\r\n// ESQUEMAS DE VALIDACI\xD3N\r\n// =====================================================\r\n\r\nconst CreateShipmentFromOrderSchema = z.object({\r\n  carrier_id: z.number().int().positive(),\r\n  shipping_service: z.string().min(1),\r\n  items: z.array(z.object({\r\n    order_item_id: z.string().uuid(),\r\n    quantity: z.number().int().positive()\r\n  })).min(1),\r\n  pickup_address: z.object({\r\n    street_name: z.string(),\r\n    street_number: z.string(),\r\n    city_name: z.string(),\r\n    state_name: z.string(),\r\n    zip_code: z.string(),\r\n    country: z.string().default('Argentina')\r\n  }).optional(),\r\n  delivery_address: z.object({\r\n    street_name: z.string(),\r\n    street_number: z.string(),\r\n    apartment: z.string().optional(),\r\n    city_name: z.string(),\r\n    state_name: z.string(),\r\n    zip_code: z.string(),\r\n    country: z.string().default('Argentina')\r\n  }),\r\n  weight_kg: z.number().positive().optional(),\r\n  dimensions_cm: z.string().optional(),\r\n  special_instructions: z.string().optional(),\r\n  notes: z.string().optional(),\r\n  estimated_delivery_date: z.string().optional()\r\n});\r\n\r\n// =====================================================\r\n// FUNCIONES AUXILIARES\r\n// =====================================================\r\n\r\nfunction generateShipmentNumber(): string {\r\n  const timestamp = Date.now().toString();\r\n  const random = Math.random().toString(36).substr(2, 5).toUpperCase();\r\n  return `SHP-${timestamp.slice(-8)}-${random}`;\r\n}\r\n\r\nasync function validateOrderAccess(orderId: string, userId: string): Promise<any> {\r\n  const { data: order, error } = await supabase\r\n    .from('orders')\r\n    .select(`\r\n      id,\r\n      order_number,\r\n      status,\r\n      payment_status,\r\n      total,\r\n      shipping_address,\r\n      user_profiles (\r\n        id,\r\n        name,\r\n        email\r\n      ),\r\n      order_items (\r\n        id,\r\n        product_id,\r\n        quantity,\r\n        unit_price,\r\n        products (\r\n          id,\r\n          name,\r\n          weight_kg,\r\n          dimensions_cm\r\n        )\r\n      )\r\n    `)\r\n    .eq('id', orderId)\r\n    .single();\r\n\r\n  if (error) {\r\n    throw new Error(`Error obteniendo orden: ${error.message}`);\r\n  }\r\n\r\n  if (!order) {\r\n    throw new Error('Orden no encontrada');\r\n  }\r\n\r\n  // Verificar que la orden est\xE9 en estado v\xE1lido para env\xEDo\r\n  if (!['confirmed', 'processing'].includes(order.status)) {\r\n    throw new Error(`La orden debe estar confirmada o en procesamiento para crear env\xEDo. Estado actual: ${order.status}`);\r\n  }\r\n\r\n  return order;\r\n}\r\n\r\nasync function createShipmentRecord(orderData: OrderEnterprise, validatedData: CreateShipmentFromOrderSchema): Promise<any> {\r\n  const shipmentNumber = generateShipmentNumber();\r\n  \r\n  // Calcular peso total si no se proporciona\r\n  let totalWeight = validatedData.weight_kg;\r\n  if (!totalWeight) {\r\n    totalWeight = orderData.order_items.reduce((sum: number, item: OrderItemEnterprise) => {\r\n      const itemWeight = item.products?.weight_kg || 0.5; // Peso por defecto 500g\r\n      return sum + (itemWeight * item.quantity);\r\n    }, 0);\r\n  }\r\n\r\n  // Usar direcci\xF3n de env\xEDo de la orden si no se proporciona\r\n  const deliveryAddress = validatedData.delivery_address || orderData.shipping_address;\r\n\r\n  const { data: shipment, error } = await supabase\r\n    .from('shipments')\r\n    .insert({\r\n      shipment_number: shipmentNumber,\r\n      order_id: orderData.id,\r\n      status: 'pending',\r\n      carrier_id: validatedData.carrier_id,\r\n      shipping_service: validatedData.shipping_service,\r\n      pickup_address: validatedData.pickup_address,\r\n      delivery_address: deliveryAddress,\r\n      weight_kg: totalWeight,\r\n      dimensions_cm: validatedData.dimensions_cm,\r\n      special_instructions: validatedData.special_instructions,\r\n      notes: validatedData.notes,\r\n      estimated_delivery_date: validatedData.estimated_delivery_date,\r\n      created_at: new Date().toISOString(),\r\n      updated_at: new Date().toISOString()\r\n    })\r\n    .select(`\r\n      *,\r\n      carrier:couriers(id, name, code, logo_url)\r\n    `)\r\n    .single();\r\n\r\n  if (error) {\r\n    throw new Error(`Error creando env\xEDo: ${error.message}`);\r\n  }\r\n\r\n  return shipment;\r\n}\r\n\r\nasync function createShipmentItems(shipmentId: string, orderItems: any[], requestedItems: any[]): Promise<void> {\r\n  const shipmentItems = requestedItems.map(reqItem => {\r\n    const orderItem = orderItems.find(oi => oi.id === reqItem.order_item_id);\r\n    if (!orderItem) {\r\n      throw new Error(`Item de orden no encontrado: ${reqItem.order_item_id}`);\r\n    }\r\n\r\n    if (reqItem.quantity > orderItem.quantity) {\r\n      throw new Error(`Cantidad solicitada (${reqItem.quantity}) excede cantidad disponible (${orderItem.quantity})`);\r\n    }\r\n\r\n    return {\r\n      shipment_id: shipmentId,\r\n      order_item_id: reqItem.order_item_id,\r\n      product_id: orderItem.product_id,\r\n      quantity: reqItem.quantity,\r\n      weight_kg: (orderItem.products?.weight_kg || 0.5) * reqItem.quantity,\r\n      created_at: new Date().toISOString()\r\n    };\r\n  });\r\n\r\n  const { error } = await supabase\r\n    .from('shipment_items')\r\n    .insert(shipmentItems);\r\n\r\n  if (error) {\r\n    throw new Error(`Error creando items de env\xEDo: ${error.message}`);\r\n  }\r\n}\r\n\r\nasync function createInitialTrackingEvent(shipmentId: string): Promise<void> {\r\n  const { error } = await supabase\r\n    .from('tracking_events')\r\n    .insert({\r\n      shipment_id: shipmentId,\r\n      status: 'pending',\r\n      description: 'Env\xEDo creado desde orden - Pendiente de confirmaci\xF3n',\r\n      occurred_at: new Date().toISOString(),\r\n      created_at: new Date().toISOString()\r\n    });\r\n\r\n  if (error) {\r\n    console.error('Error creando evento de tracking inicial:', error);\r\n    // No lanzar error, es opcional\r\n  }\r\n}\r\n\r\nasync function updateOrderStatus(orderId: string): Promise<void> {\r\n  // Actualizar estado de la orden a \"shipped\" si todos los items tienen env\xEDo\r\n  const { error } = await supabase\r\n    .from('orders')\r\n    .update({ \r\n      status: 'processing', // Cambiar a processing mientras se confirma el env\xEDo\r\n      updated_at: new Date().toISOString()\r\n    })\r\n    .eq('id', orderId);\r\n\r\n  if (error) {\r\n    console.error('Error actualizando estado de orden:', error);\r\n    // No lanzar error, es opcional\r\n  }\r\n}\r\n\r\n// =====================================================\r\n// HANDLER POST - CREAR ENV\xCDO DESDE ORDEN\r\n// =====================================================\r\n\r\nexport async function POST(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  try {\r\n    // Verificar autenticaci\xF3n\r\n    const session = await auth();\r\n    if (!session?.user) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const orderId = params.id;\r\n\r\n    // Validar datos de entrada\r\n    const body = await request.json();\r\n    const validationResult = CreateShipmentFromOrderSchema.safeParse(body);\r\n\r\n    if (!validationResult.success) {\r\n      return NextResponse.json(\r\n        { \r\n          error: 'Datos de env\xEDo inv\xE1lidos', \r\n          details: validationResult.error.errors \r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const validatedData = validationResult.data;\r\n\r\n    // Validar acceso a la orden y obtener datos\r\n    const orderData = await validateOrderAccess(orderId, session.user.id!);\r\n\r\n    // Verificar que el carrier existe\r\n    const { data: carrier, error: carrierError } = await supabase\r\n      .from('couriers')\r\n      .select('id, name, is_active')\r\n      .eq('id', validatedData.carrier_id)\r\n      .eq('is_active', true)\r\n      .single();\r\n\r\n    if (carrierError || !carrier) {\r\n      return NextResponse.json(\r\n        { error: 'Carrier no encontrado o inactivo' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Crear el env\xEDo\r\n    const shipment = await createShipmentRecord(orderData, validatedData);\r\n\r\n    // Crear los items del env\xEDo\r\n    await createShipmentItems(shipment.id, orderData.order_items, validatedData.items);\r\n\r\n    // Crear evento de tracking inicial\r\n    await createInitialTrackingEvent(shipment.id);\r\n\r\n    // Actualizar estado de la orden\r\n    await updateOrderStatus(orderId);\r\n\r\n    // Obtener el env\xEDo completo con todos los datos\r\n    const { data: completeShipment, error: fetchError } = await supabase\r\n      .from('shipments')\r\n      .select(`\r\n        *,\r\n        carrier:couriers(id, name, code, logo_url),\r\n        items:shipment_items(\r\n          id, quantity, weight_kg,\r\n          order_item:order_items(\r\n            id, quantity, unit_price,\r\n            product:products(id, name, sku)\r\n          )\r\n        ),\r\n        tracking_events(\r\n          id, status, description, occurred_at\r\n        )\r\n      `)\r\n      .eq('id', shipment.id)\r\n      .single();\r\n\r\n    if (fetchError) {\r\n      console.error('Error obteniendo env\xEDo completo:', fetchError);\r\n    }\r\n\r\n    console.log('\u2705 Env\xEDo creado exitosamente:', {\r\n      shipment_id: shipment.id,\r\n      shipment_number: shipment.shipment_number,\r\n      order_id: orderId,\r\n      carrier: carrier.name,\r\n      user_id: session.user.id\r\n    });\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Env\xEDo creado exitosamente',\r\n      data: completeShipment || shipment\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('\u274C Error creando env\xEDo desde orden:', error);\r\n    \r\n    return NextResponse.json(\r\n      { \r\n        error: 'Error interno del servidor',\r\n        details: error instanceof Error ? error.message : 'Unknown error'\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// =====================================================\r\n// HANDLER GET - OBTENER ENV\xCDOS DE UNA ORDEN\r\n// =====================================================\r\n\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  try {\r\n    // Verificar autenticaci\xF3n\r\n    const session = await auth();\r\n    if (!session?.user) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const orderId = params.id;\r\n\r\n    // Obtener env\xEDos de la orden\r\n    const { data: shipments, error } = await supabase\r\n      .from('shipments')\r\n      .select(`\r\n        *,\r\n        carrier:couriers(id, name, code, logo_url),\r\n        items:shipment_items(\r\n          id, quantity, weight_kg,\r\n          order_item:order_items(\r\n            id, quantity, unit_price,\r\n            product:products(id, name, sku)\r\n          )\r\n        ),\r\n        tracking_events(\r\n          id, status, description, occurred_at, location\r\n        )\r\n      `)\r\n      .eq('order_id', orderId)\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) {\r\n      throw error;\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: shipments || []\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('\u274C Error obteniendo env\xEDos de orden:', error);\r\n    \r\n    return NextResponse.json(\r\n      { \r\n        error: 'Error interno del servidor',\r\n        details: error instanceof Error ? error.message : 'Unknown error'\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],
      names: ["GET", "POST", "supabase", "createClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "SUPABASE_SERVICE_ROLE_KEY", "CreateShipmentFromOrderSchema", "z", "object", "carrier_id", "number", "int", "positive", "shipping_service", "string", "min", "items", "array", "order_item_id", "uuid", "quantity", "pickup_address", "street_name", "street_number", "city_name", "state_name", "zip_code", "country", "default", "optional", "delivery_address", "apartment", "weight_kg", "dimensions_cm", "special_instructions", "notes", "estimated_delivery_date", "generateShipmentNumber", "timestamp", "Date", "now", "toString", "random", "Math", "substr", "toUpperCase", "slice", "validateOrderAccess", "orderId", "userId", "data", "order", "error", "from", "select", "eq", "single", "Error", "message", "includes", "status", "createShipmentRecord", "orderData", "validatedData", "shipmentNumber", "totalWeight", "order_items", "reduce", "sum", "item", "itemWeight", "products", "deliveryAddress", "shipping_address", "shipment", "insert", "shipment_number", "order_id", "id", "created_at", "toISOString", "updated_at", "createShipmentItems", "shipmentId", "orderItems", "requestedItems", "shipmentItems", "map", "reqItem", "orderItem", "find", "oi", "shipment_id", "product_id", "createInitialTrackingEvent", "description", "occurred_at", "console", "updateOrderStatus", "update", "request", "params", "session", "auth", "user", "NextResponse", "json", "body", "validationResult", "safeParse", "success", "details", "errors", "carrier", "carrierError", "completeShipment", "fetchError", "log", "name", "user_id", "shipments", "ascending"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ea3da88ba29fe713701d4094e8ff33f6b9877060"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_rqzpocc2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_rqzpocc2();
cov_rqzpocc2().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[0]++;
  cov_rqzpocc2().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_rqzpocc2().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_rqzpocc2().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_rqzpocc2().f[1]++;
    cov_rqzpocc2().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_rqzpocc2().f[2]++;
    cov_rqzpocc2().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_rqzpocc2().s[6]++, require("next/server"));
const _auth =
/* istanbul ignore next */
(cov_rqzpocc2().s[7]++, require("../../../../../../auth"));
const _supabasejs =
/* istanbul ignore next */
(cov_rqzpocc2().s[8]++, require("@supabase/supabase-js"));
const _zod =
/* istanbul ignore next */
(cov_rqzpocc2().s[9]++, require("zod"));
// =====================================================
// CONFIGURACIÓN
// =====================================================
const supabase =
/* istanbul ignore next */
(cov_rqzpocc2().s[10]++, (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY));
// =====================================================
// ESQUEMAS DE VALIDACIÓN
// =====================================================
const CreateShipmentFromOrderSchema =
/* istanbul ignore next */
(cov_rqzpocc2().s[11]++, _zod.z.object({
  carrier_id: _zod.z.number().int().positive(),
  shipping_service: _zod.z.string().min(1),
  items: _zod.z.array(_zod.z.object({
    order_item_id: _zod.z.string().uuid(),
    quantity: _zod.z.number().int().positive()
  })).min(1),
  pickup_address: _zod.z.object({
    street_name: _zod.z.string(),
    street_number: _zod.z.string(),
    city_name: _zod.z.string(),
    state_name: _zod.z.string(),
    zip_code: _zod.z.string(),
    country: _zod.z.string().default('Argentina')
  }).optional(),
  delivery_address: _zod.z.object({
    street_name: _zod.z.string(),
    street_number: _zod.z.string(),
    apartment: _zod.z.string().optional(),
    city_name: _zod.z.string(),
    state_name: _zod.z.string(),
    zip_code: _zod.z.string(),
    country: _zod.z.string().default('Argentina')
  }),
  weight_kg: _zod.z.number().positive().optional(),
  dimensions_cm: _zod.z.string().optional(),
  special_instructions: _zod.z.string().optional(),
  notes: _zod.z.string().optional(),
  estimated_delivery_date: _zod.z.string().optional()
}));
// =====================================================
// FUNCIONES AUXILIARES
// =====================================================
function generateShipmentNumber() {
  /* istanbul ignore next */
  cov_rqzpocc2().f[3]++;
  const timestamp =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[12]++, Date.now().toString());
  const random =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[13]++, Math.random().toString(36).substr(2, 5).toUpperCase());
  /* istanbul ignore next */
  cov_rqzpocc2().s[14]++;
  return `SHP-${timestamp.slice(-8)}-${random}`;
}
async function validateOrderAccess(orderId, userId) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[4]++;
  const {
    data: order,
    error
  } =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[15]++, await supabase.from('orders').select(`
      id,
      order_number,
      status,
      payment_status,
      total,
      shipping_address,
      user_profiles (
        id,
        name,
        email
      ),
      order_items (
        id,
        product_id,
        quantity,
        unit_price,
        products (
          id,
          name,
          weight_kg,
          dimensions_cm
        )
      )
    `).eq('id', orderId).single());
  /* istanbul ignore next */
  cov_rqzpocc2().s[16]++;
  if (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[0][0]++;
    cov_rqzpocc2().s[17]++;
    throw new Error(`Error obteniendo orden: ${error.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[0][1]++;
  }
  cov_rqzpocc2().s[18]++;
  if (!order) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[1][0]++;
    cov_rqzpocc2().s[19]++;
    throw new Error('Orden no encontrada');
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[1][1]++;
  }
  // Verificar que la orden esté en estado válido para envío
  cov_rqzpocc2().s[20]++;
  if (!['confirmed', 'processing'].includes(order.status)) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[2][0]++;
    cov_rqzpocc2().s[21]++;
    throw new Error(`La orden debe estar confirmada o en procesamiento para crear envío. Estado actual: ${order.status}`);
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[2][1]++;
  }
  cov_rqzpocc2().s[22]++;
  return order;
}
async function createShipmentRecord(orderData, validatedData) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[5]++;
  const shipmentNumber =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[23]++, generateShipmentNumber());
  // Calcular peso total si no se proporciona
  let totalWeight =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[24]++, validatedData.weight_kg);
  /* istanbul ignore next */
  cov_rqzpocc2().s[25]++;
  if (!totalWeight) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[3][0]++;
    cov_rqzpocc2().s[26]++;
    totalWeight = orderData.order_items.reduce((sum, item) => {
      /* istanbul ignore next */
      cov_rqzpocc2().f[6]++;
      const itemWeight =
      /* istanbul ignore next */
      (cov_rqzpocc2().s[27]++,
      /* istanbul ignore next */
      (cov_rqzpocc2().b[4][0]++, item.products?.weight_kg) ||
      /* istanbul ignore next */
      (cov_rqzpocc2().b[4][1]++, 0.5)); // Peso por defecto 500g
      /* istanbul ignore next */
      cov_rqzpocc2().s[28]++;
      return sum + itemWeight * item.quantity;
    }, 0);
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[3][1]++;
  }
  // Usar dirección de envío de la orden si no se proporciona
  const deliveryAddress =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[29]++,
  /* istanbul ignore next */
  (cov_rqzpocc2().b[5][0]++, validatedData.delivery_address) ||
  /* istanbul ignore next */
  (cov_rqzpocc2().b[5][1]++, orderData.shipping_address));
  const {
    data: shipment,
    error
  } =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[30]++, await supabase.from('shipments').insert({
    shipment_number: shipmentNumber,
    order_id: orderData.id,
    status: 'pending',
    carrier_id: validatedData.carrier_id,
    shipping_service: validatedData.shipping_service,
    pickup_address: validatedData.pickup_address,
    delivery_address: deliveryAddress,
    weight_kg: totalWeight,
    dimensions_cm: validatedData.dimensions_cm,
    special_instructions: validatedData.special_instructions,
    notes: validatedData.notes,
    estimated_delivery_date: validatedData.estimated_delivery_date,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString()
  }).select(`
      *,
      carrier:couriers(id, name, code, logo_url)
    `).single());
  /* istanbul ignore next */
  cov_rqzpocc2().s[31]++;
  if (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[6][0]++;
    cov_rqzpocc2().s[32]++;
    throw new Error(`Error creando envío: ${error.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[6][1]++;
  }
  cov_rqzpocc2().s[33]++;
  return shipment;
}
async function createShipmentItems(shipmentId, orderItems, requestedItems) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[7]++;
  const shipmentItems =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[34]++, requestedItems.map(reqItem => {
    /* istanbul ignore next */
    cov_rqzpocc2().f[8]++;
    const orderItem =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[35]++, orderItems.find(oi => {
      /* istanbul ignore next */
      cov_rqzpocc2().f[9]++;
      cov_rqzpocc2().s[36]++;
      return oi.id === reqItem.order_item_id;
    }));
    /* istanbul ignore next */
    cov_rqzpocc2().s[37]++;
    if (!orderItem) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[7][0]++;
      cov_rqzpocc2().s[38]++;
      throw new Error(`Item de orden no encontrado: ${reqItem.order_item_id}`);
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[7][1]++;
    }
    cov_rqzpocc2().s[39]++;
    if (reqItem.quantity > orderItem.quantity) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[8][0]++;
      cov_rqzpocc2().s[40]++;
      throw new Error(`Cantidad solicitada (${reqItem.quantity}) excede cantidad disponible (${orderItem.quantity})`);
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[8][1]++;
    }
    cov_rqzpocc2().s[41]++;
    return {
      shipment_id: shipmentId,
      order_item_id: reqItem.order_item_id,
      product_id: orderItem.product_id,
      quantity: reqItem.quantity,
      weight_kg: (
      /* istanbul ignore next */
      (cov_rqzpocc2().b[9][0]++, orderItem.products?.weight_kg) ||
      /* istanbul ignore next */
      (cov_rqzpocc2().b[9][1]++, 0.5)) * reqItem.quantity,
      created_at: new Date().toISOString()
    };
  }));
  const {
    error
  } =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[42]++, await supabase.from('shipment_items').insert(shipmentItems));
  /* istanbul ignore next */
  cov_rqzpocc2().s[43]++;
  if (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[10][0]++;
    cov_rqzpocc2().s[44]++;
    throw new Error(`Error creando items de envío: ${error.message}`);
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[10][1]++;
  }
}
async function createInitialTrackingEvent(shipmentId) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[10]++;
  const {
    error
  } =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[45]++, await supabase.from('tracking_events').insert({
    shipment_id: shipmentId,
    status: 'pending',
    description: 'Envío creado desde orden - Pendiente de confirmación',
    occurred_at: new Date().toISOString(),
    created_at: new Date().toISOString()
  }));
  /* istanbul ignore next */
  cov_rqzpocc2().s[46]++;
  if (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[11][0]++;
    cov_rqzpocc2().s[47]++;
    console.error('Error creando evento de tracking inicial:', error);
    // No lanzar error, es opcional
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[11][1]++;
  }
}
async function updateOrderStatus(orderId) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[11]++;
  // Actualizar estado de la orden a "shipped" si todos los items tienen envío
  const {
    error
  } =
  /* istanbul ignore next */
  (cov_rqzpocc2().s[48]++, await supabase.from('orders').update({
    status: 'processing',
    updated_at: new Date().toISOString()
  }).eq('id', orderId));
  /* istanbul ignore next */
  cov_rqzpocc2().s[49]++;
  if (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().b[12][0]++;
    cov_rqzpocc2().s[50]++;
    console.error('Error actualizando estado de orden:', error);
    // No lanzar error, es opcional
  } else
  /* istanbul ignore next */
  {
    cov_rqzpocc2().b[12][1]++;
  }
}
async function POST(request, {
  params
}) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[12]++;
  cov_rqzpocc2().s[51]++;
  try {
    // Verificar autenticación
    const session =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[52]++, await (0, _auth.auth)());
    /* istanbul ignore next */
    cov_rqzpocc2().s[53]++;
    if (!session?.user) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[13][0]++;
      cov_rqzpocc2().s[54]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[13][1]++;
    }
    const orderId =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[55]++, params.id);
    // Validar datos de entrada
    const body =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[56]++, await request.json());
    const validationResult =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[57]++, CreateShipmentFromOrderSchema.safeParse(body));
    /* istanbul ignore next */
    cov_rqzpocc2().s[58]++;
    if (!validationResult.success) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[14][0]++;
      cov_rqzpocc2().s[59]++;
      return _server.NextResponse.json({
        error: 'Datos de envío inválidos',
        details: validationResult.error.errors
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[14][1]++;
    }
    const validatedData =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[60]++, validationResult.data);
    // Validar acceso a la orden y obtener datos
    const orderData =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[61]++, await validateOrderAccess(orderId, session.user.id));
    // Verificar que el carrier existe
    const {
      data: carrier,
      error: carrierError
    } =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[62]++, await supabase.from('couriers').select('id, name, is_active').eq('id', validatedData.carrier_id).eq('is_active', true).single());
    /* istanbul ignore next */
    cov_rqzpocc2().s[63]++;
    if (
    /* istanbul ignore next */
    (cov_rqzpocc2().b[16][0]++, carrierError) ||
    /* istanbul ignore next */
    (cov_rqzpocc2().b[16][1]++, !carrier)) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[15][0]++;
      cov_rqzpocc2().s[64]++;
      return _server.NextResponse.json({
        error: 'Carrier no encontrado o inactivo'
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[15][1]++;
    }
    // Crear el envío
    const shipment =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[65]++, await createShipmentRecord(orderData, validatedData));
    // Crear los items del envío
    /* istanbul ignore next */
    cov_rqzpocc2().s[66]++;
    await createShipmentItems(shipment.id, orderData.order_items, validatedData.items);
    // Crear evento de tracking inicial
    /* istanbul ignore next */
    cov_rqzpocc2().s[67]++;
    await createInitialTrackingEvent(shipment.id);
    // Actualizar estado de la orden
    /* istanbul ignore next */
    cov_rqzpocc2().s[68]++;
    await updateOrderStatus(orderId);
    // Obtener el envío completo con todos los datos
    const {
      data: completeShipment,
      error: fetchError
    } =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[69]++, await supabase.from('shipments').select(`
        *,
        carrier:couriers(id, name, code, logo_url),
        items:shipment_items(
          id, quantity, weight_kg,
          order_item:order_items(
            id, quantity, unit_price,
            product:products(id, name, sku)
          )
        ),
        tracking_events(
          id, status, description, occurred_at
        )
      `).eq('id', shipment.id).single());
    /* istanbul ignore next */
    cov_rqzpocc2().s[70]++;
    if (fetchError) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[17][0]++;
      cov_rqzpocc2().s[71]++;
      console.error('Error obteniendo envío completo:', fetchError);
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[17][1]++;
    }
    cov_rqzpocc2().s[72]++;
    console.log('✅ Envío creado exitosamente:', {
      shipment_id: shipment.id,
      shipment_number: shipment.shipment_number,
      order_id: orderId,
      carrier: carrier.name,
      user_id: session.user.id
    });
    /* istanbul ignore next */
    cov_rqzpocc2().s[73]++;
    return _server.NextResponse.json({
      success: true,
      message: 'Envío creado exitosamente',
      data:
      /* istanbul ignore next */
      (cov_rqzpocc2().b[18][0]++, completeShipment) ||
      /* istanbul ignore next */
      (cov_rqzpocc2().b[18][1]++, shipment)
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().s[74]++;
    console.error('❌ Error creando envío desde orden:', error);
    /* istanbul ignore next */
    cov_rqzpocc2().s[75]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_rqzpocc2().b[19][0]++, error.message) :
      /* istanbul ignore next */
      (cov_rqzpocc2().b[19][1]++, 'Unknown error')
    }, {
      status: 500
    });
  }
}
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_rqzpocc2().f[13]++;
  cov_rqzpocc2().s[76]++;
  try {
    // Verificar autenticación
    const session =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[77]++, await (0, _auth.auth)());
    /* istanbul ignore next */
    cov_rqzpocc2().s[78]++;
    if (!session?.user) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[20][0]++;
      cov_rqzpocc2().s[79]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[20][1]++;
    }
    const orderId =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[80]++, params.id);
    // Obtener envíos de la orden
    const {
      data: shipments,
      error
    } =
    /* istanbul ignore next */
    (cov_rqzpocc2().s[81]++, await supabase.from('shipments').select(`
        *,
        carrier:couriers(id, name, code, logo_url),
        items:shipment_items(
          id, quantity, weight_kg,
          order_item:order_items(
            id, quantity, unit_price,
            product:products(id, name, sku)
          )
        ),
        tracking_events(
          id, status, description, occurred_at, location
        )
      `).eq('order_id', orderId).order('created_at', {
      ascending: false
    }));
    /* istanbul ignore next */
    cov_rqzpocc2().s[82]++;
    if (error) {
      /* istanbul ignore next */
      cov_rqzpocc2().b[21][0]++;
      cov_rqzpocc2().s[83]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_rqzpocc2().b[21][1]++;
    }
    cov_rqzpocc2().s[84]++;
    return _server.NextResponse.json({
      success: true,
      data:
      /* istanbul ignore next */
      (cov_rqzpocc2().b[22][0]++, shipments) ||
      /* istanbul ignore next */
      (cov_rqzpocc2().b[22][1]++, [])
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_rqzpocc2().s[85]++;
    console.error('❌ Error obteniendo envíos de orden:', error);
    /* istanbul ignore next */
    cov_rqzpocc2().s[86]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_rqzpocc2().b[23][0]++, error.message) :
      /* istanbul ignore next */
      (cov_rqzpocc2().b[23][1]++, 'Unknown error')
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfcnF6cG9jYzIiLCJmIiwicyIsIlBPU1QiLCJzdXBhYmFzZSIsIl9zdXBhYmFzZWpzIiwiY3JlYXRlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJDcmVhdGVTaGlwbWVudEZyb21PcmRlclNjaGVtYSIsIl96b2QiLCJ6Iiwib2JqZWN0IiwiY2Fycmllcl9pZCIsIm51bWJlciIsImludCIsInBvc2l0aXZlIiwic2hpcHBpbmdfc2VydmljZSIsInN0cmluZyIsIm1pbiIsIml0ZW1zIiwiYXJyYXkiLCJvcmRlcl9pdGVtX2lkIiwidXVpZCIsInF1YW50aXR5IiwicGlja3VwX2FkZHJlc3MiLCJzdHJlZXRfbmFtZSIsInN0cmVldF9udW1iZXIiLCJjaXR5X25hbWUiLCJzdGF0ZV9uYW1lIiwiemlwX2NvZGUiLCJjb3VudHJ5IiwiZGVmYXVsdCIsIm9wdGlvbmFsIiwiZGVsaXZlcnlfYWRkcmVzcyIsImFwYXJ0bWVudCIsIndlaWdodF9rZyIsImRpbWVuc2lvbnNfY20iLCJzcGVjaWFsX2luc3RydWN0aW9ucyIsIm5vdGVzIiwiZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGUiLCJnZW5lcmF0ZVNoaXBtZW50TnVtYmVyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwicmFuZG9tIiwiTWF0aCIsInN1YnN0ciIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJ2YWxpZGF0ZU9yZGVyQWNjZXNzIiwib3JkZXJJZCIsInVzZXJJZCIsImRhdGEiLCJvcmRlciIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiYiIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwic3RhdHVzIiwiY3JlYXRlU2hpcG1lbnRSZWNvcmQiLCJvcmRlckRhdGEiLCJ2YWxpZGF0ZWREYXRhIiwic2hpcG1lbnROdW1iZXIiLCJ0b3RhbFdlaWdodCIsIm9yZGVyX2l0ZW1zIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsIml0ZW1XZWlnaHQiLCJwcm9kdWN0cyIsImRlbGl2ZXJ5QWRkcmVzcyIsInNoaXBwaW5nX2FkZHJlc3MiLCJzaGlwbWVudCIsImluc2VydCIsInNoaXBtZW50X251bWJlciIsIm9yZGVyX2lkIiwiaWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwiY3JlYXRlU2hpcG1lbnRJdGVtcyIsInNoaXBtZW50SWQiLCJvcmRlckl0ZW1zIiwicmVxdWVzdGVkSXRlbXMiLCJzaGlwbWVudEl0ZW1zIiwibWFwIiwicmVxSXRlbSIsIm9yZGVySXRlbSIsImZpbmQiLCJvaSIsInNoaXBtZW50X2lkIiwicHJvZHVjdF9pZCIsImNyZWF0ZUluaXRpYWxUcmFja2luZ0V2ZW50IiwiZGVzY3JpcHRpb24iLCJvY2N1cnJlZF9hdCIsImNvbnNvbGUiLCJ1cGRhdGVPcmRlclN0YXR1cyIsInVwZGF0ZSIsInJlcXVlc3QiLCJwYXJhbXMiLCJzZXNzaW9uIiwiX2F1dGgiLCJhdXRoIiwidXNlciIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiYm9keSIsInZhbGlkYXRpb25SZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZGV0YWlscyIsImVycm9ycyIsImNhcnJpZXIiLCJjYXJyaWVyRXJyb3IiLCJjb21wbGV0ZVNoaXBtZW50IiwiZmV0Y2hFcnJvciIsImxvZyIsIm5hbWUiLCJ1c2VyX2lkIiwic2hpcG1lbnRzIiwiYXNjZW5kaW5nIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcYWRtaW5cXG9yZGVyc1xcW2lkXVxcc2hpcG1lbnRzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBUEk6IElOVEVHUkFDScOTTiDDk1JERU5FUy1MT0fDjVNUSUNBXHJcbi8vIFJ1dGE6IC9hcGkvYWRtaW4vb3JkZXJzL1tpZF0vc2hpcG1lbnRzXHJcbi8vIERlc2NyaXBjacOzbjogQ3JlYXIgeSBnZXN0aW9uYXIgZW52w61vcyBkZXNkZSDDs3JkZW5lc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvYXV0aCc7XHJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5pbXBvcnQgeyBPcmRlckVudGVycHJpc2UsIE9yZGVySXRlbUVudGVycHJpc2UgfSBmcm9tICdAL3R5cGVzL29yZGVycy1lbnRlcnByaXNlJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTkZJR1VSQUNJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcclxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxyXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXHJcbik7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBFU1FVRU1BUyBERSBWQUxJREFDScOTTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgQ3JlYXRlU2hpcG1lbnRGcm9tT3JkZXJTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgY2Fycmllcl9pZDogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLFxyXG4gIHNoaXBwaW5nX3NlcnZpY2U6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gIGl0ZW1zOiB6LmFycmF5KHoub2JqZWN0KHtcclxuICAgIG9yZGVyX2l0ZW1faWQ6IHouc3RyaW5nKCkudXVpZCgpLFxyXG4gICAgcXVhbnRpdHk6IHoubnVtYmVyKCkuaW50KCkucG9zaXRpdmUoKVxyXG4gIH0pKS5taW4oMSksXHJcbiAgcGlja3VwX2FkZHJlc3M6IHoub2JqZWN0KHtcclxuICAgIHN0cmVldF9uYW1lOiB6LnN0cmluZygpLFxyXG4gICAgc3RyZWV0X251bWJlcjogei5zdHJpbmcoKSxcclxuICAgIGNpdHlfbmFtZTogei5zdHJpbmcoKSxcclxuICAgIHN0YXRlX25hbWU6IHouc3RyaW5nKCksXHJcbiAgICB6aXBfY29kZTogei5zdHJpbmcoKSxcclxuICAgIGNvdW50cnk6IHouc3RyaW5nKCkuZGVmYXVsdCgnQXJnZW50aW5hJylcclxuICB9KS5vcHRpb25hbCgpLFxyXG4gIGRlbGl2ZXJ5X2FkZHJlc3M6IHoub2JqZWN0KHtcclxuICAgIHN0cmVldF9uYW1lOiB6LnN0cmluZygpLFxyXG4gICAgc3RyZWV0X251bWJlcjogei5zdHJpbmcoKSxcclxuICAgIGFwYXJ0bWVudDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgY2l0eV9uYW1lOiB6LnN0cmluZygpLFxyXG4gICAgc3RhdGVfbmFtZTogei5zdHJpbmcoKSxcclxuICAgIHppcF9jb2RlOiB6LnN0cmluZygpLFxyXG4gICAgY291bnRyeTogei5zdHJpbmcoKS5kZWZhdWx0KCdBcmdlbnRpbmEnKVxyXG4gIH0pLFxyXG4gIHdlaWdodF9rZzogei5udW1iZXIoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXHJcbiAgZGltZW5zaW9uc19jbTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIHNwZWNpYWxfaW5zdHJ1Y3Rpb25zOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgbm90ZXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBlc3RpbWF0ZWRfZGVsaXZlcnlfZGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpXHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRlVOQ0lPTkVTIEFVWElMSUFSRVNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2hpcG1lbnROdW1iZXIoKTogc3RyaW5nIHtcclxuICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcbiAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpLnRvVXBwZXJDYXNlKCk7XHJcbiAgcmV0dXJuIGBTSFAtJHt0aW1lc3RhbXAuc2xpY2UoLTgpfS0ke3JhbmRvbX1gO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZU9yZGVyQWNjZXNzKG9yZGVySWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHsgZGF0YTogb3JkZXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ29yZGVycycpXHJcbiAgICAuc2VsZWN0KGBcclxuICAgICAgaWQsXHJcbiAgICAgIG9yZGVyX251bWJlcixcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBwYXltZW50X3N0YXR1cyxcclxuICAgICAgdG90YWwsXHJcbiAgICAgIHNoaXBwaW5nX2FkZHJlc3MsXHJcbiAgICAgIHVzZXJfcHJvZmlsZXMgKFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZW1haWxcclxuICAgICAgKSxcclxuICAgICAgb3JkZXJfaXRlbXMgKFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIHByb2R1Y3RfaWQsXHJcbiAgICAgICAgcXVhbnRpdHksXHJcbiAgICAgICAgdW5pdF9wcmljZSxcclxuICAgICAgICBwcm9kdWN0cyAoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICB3ZWlnaHRfa2csXHJcbiAgICAgICAgICBkaW1lbnNpb25zX2NtXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICBgKVxyXG4gICAgLmVxKCdpZCcsIG9yZGVySWQpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBvYnRlbmllbmRvIG9yZGVuOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIW9yZGVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09yZGVuIG5vIGVuY29udHJhZGEnKTtcclxuICB9XHJcblxyXG4gIC8vIFZlcmlmaWNhciBxdWUgbGEgb3JkZW4gZXN0w6kgZW4gZXN0YWRvIHbDoWxpZG8gcGFyYSBlbnbDrW9cclxuICBpZiAoIVsnY29uZmlybWVkJywgJ3Byb2Nlc3NpbmcnXS5pbmNsdWRlcyhvcmRlci5zdGF0dXMpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYExhIG9yZGVuIGRlYmUgZXN0YXIgY29uZmlybWFkYSBvIGVuIHByb2Nlc2FtaWVudG8gcGFyYSBjcmVhciBlbnbDrW8uIEVzdGFkbyBhY3R1YWw6ICR7b3JkZXIuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG9yZGVyO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTaGlwbWVudFJlY29yZChvcmRlckRhdGE6IE9yZGVyRW50ZXJwcmlzZSwgdmFsaWRhdGVkRGF0YTogQ3JlYXRlU2hpcG1lbnRGcm9tT3JkZXJTY2hlbWEpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHNoaXBtZW50TnVtYmVyID0gZ2VuZXJhdGVTaGlwbWVudE51bWJlcigpO1xyXG4gIFxyXG4gIC8vIENhbGN1bGFyIHBlc28gdG90YWwgc2kgbm8gc2UgcHJvcG9yY2lvbmFcclxuICBsZXQgdG90YWxXZWlnaHQgPSB2YWxpZGF0ZWREYXRhLndlaWdodF9rZztcclxuICBpZiAoIXRvdGFsV2VpZ2h0KSB7XHJcbiAgICB0b3RhbFdlaWdodCA9IG9yZGVyRGF0YS5vcmRlcl9pdGVtcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBpdGVtOiBPcmRlckl0ZW1FbnRlcnByaXNlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1XZWlnaHQgPSBpdGVtLnByb2R1Y3RzPy53ZWlnaHRfa2cgfHwgMC41OyAvLyBQZXNvIHBvciBkZWZlY3RvIDUwMGdcclxuICAgICAgcmV0dXJuIHN1bSArIChpdGVtV2VpZ2h0ICogaXRlbS5xdWFudGl0eSk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIC8vIFVzYXIgZGlyZWNjacOzbiBkZSBlbnbDrW8gZGUgbGEgb3JkZW4gc2kgbm8gc2UgcHJvcG9yY2lvbmFcclxuICBjb25zdCBkZWxpdmVyeUFkZHJlc3MgPSB2YWxpZGF0ZWREYXRhLmRlbGl2ZXJ5X2FkZHJlc3MgfHwgb3JkZXJEYXRhLnNoaXBwaW5nX2FkZHJlc3M7XHJcblxyXG4gIGNvbnN0IHsgZGF0YTogc2hpcG1lbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3NoaXBtZW50cycpXHJcbiAgICAuaW5zZXJ0KHtcclxuICAgICAgc2hpcG1lbnRfbnVtYmVyOiBzaGlwbWVudE51bWJlcixcclxuICAgICAgb3JkZXJfaWQ6IG9yZGVyRGF0YS5pZCxcclxuICAgICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICAgIGNhcnJpZXJfaWQ6IHZhbGlkYXRlZERhdGEuY2Fycmllcl9pZCxcclxuICAgICAgc2hpcHBpbmdfc2VydmljZTogdmFsaWRhdGVkRGF0YS5zaGlwcGluZ19zZXJ2aWNlLFxyXG4gICAgICBwaWNrdXBfYWRkcmVzczogdmFsaWRhdGVkRGF0YS5waWNrdXBfYWRkcmVzcyxcclxuICAgICAgZGVsaXZlcnlfYWRkcmVzczogZGVsaXZlcnlBZGRyZXNzLFxyXG4gICAgICB3ZWlnaHRfa2c6IHRvdGFsV2VpZ2h0LFxyXG4gICAgICBkaW1lbnNpb25zX2NtOiB2YWxpZGF0ZWREYXRhLmRpbWVuc2lvbnNfY20sXHJcbiAgICAgIHNwZWNpYWxfaW5zdHJ1Y3Rpb25zOiB2YWxpZGF0ZWREYXRhLnNwZWNpYWxfaW5zdHJ1Y3Rpb25zLFxyXG4gICAgICBub3RlczogdmFsaWRhdGVkRGF0YS5ub3RlcyxcclxuICAgICAgZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGU6IHZhbGlkYXRlZERhdGEuZXN0aW1hdGVkX2RlbGl2ZXJ5X2RhdGUsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KVxyXG4gICAgLnNlbGVjdChgXHJcbiAgICAgICosXHJcbiAgICAgIGNhcnJpZXI6Y291cmllcnMoaWQsIG5hbWUsIGNvZGUsIGxvZ29fdXJsKVxyXG4gICAgYClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGNyZWFuZG8gZW52w61vOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc2hpcG1lbnQ7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNoaXBtZW50SXRlbXMoc2hpcG1lbnRJZDogc3RyaW5nLCBvcmRlckl0ZW1zOiBhbnlbXSwgcmVxdWVzdGVkSXRlbXM6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3Qgc2hpcG1lbnRJdGVtcyA9IHJlcXVlc3RlZEl0ZW1zLm1hcChyZXFJdGVtID0+IHtcclxuICAgIGNvbnN0IG9yZGVySXRlbSA9IG9yZGVySXRlbXMuZmluZChvaSA9PiBvaS5pZCA9PT0gcmVxSXRlbS5vcmRlcl9pdGVtX2lkKTtcclxuICAgIGlmICghb3JkZXJJdGVtKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSXRlbSBkZSBvcmRlbiBubyBlbmNvbnRyYWRvOiAke3JlcUl0ZW0ub3JkZXJfaXRlbV9pZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVxSXRlbS5xdWFudGl0eSA+IG9yZGVySXRlbS5xdWFudGl0eSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbnRpZGFkIHNvbGljaXRhZGEgKCR7cmVxSXRlbS5xdWFudGl0eX0pIGV4Y2VkZSBjYW50aWRhZCBkaXNwb25pYmxlICgke29yZGVySXRlbS5xdWFudGl0eX0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2hpcG1lbnRfaWQ6IHNoaXBtZW50SWQsXHJcbiAgICAgIG9yZGVyX2l0ZW1faWQ6IHJlcUl0ZW0ub3JkZXJfaXRlbV9pZCxcclxuICAgICAgcHJvZHVjdF9pZDogb3JkZXJJdGVtLnByb2R1Y3RfaWQsXHJcbiAgICAgIHF1YW50aXR5OiByZXFJdGVtLnF1YW50aXR5LFxyXG4gICAgICB3ZWlnaHRfa2c6IChvcmRlckl0ZW0ucHJvZHVjdHM/LndlaWdodF9rZyB8fCAwLjUpICogcmVxSXRlbS5xdWFudGl0eSxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3NoaXBtZW50X2l0ZW1zJylcclxuICAgIC5pbnNlcnQoc2hpcG1lbnRJdGVtcyk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBjcmVhbmRvIGl0ZW1zIGRlIGVudsOtbzogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFRyYWNraW5nRXZlbnQoc2hpcG1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCd0cmFja2luZ19ldmVudHMnKVxyXG4gICAgLmluc2VydCh7XHJcbiAgICAgIHNoaXBtZW50X2lkOiBzaGlwbWVudElkLFxyXG4gICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbnbDrW8gY3JlYWRvIGRlc2RlIG9yZGVuIC0gUGVuZGllbnRlIGRlIGNvbmZpcm1hY2nDs24nLFxyXG4gICAgICBvY2N1cnJlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pO1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWFuZG8gZXZlbnRvIGRlIHRyYWNraW5nIGluaWNpYWw6JywgZXJyb3IpO1xyXG4gICAgLy8gTm8gbGFuemFyIGVycm9yLCBlcyBvcGNpb25hbFxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlT3JkZXJTdGF0dXMob3JkZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgLy8gQWN0dWFsaXphciBlc3RhZG8gZGUgbGEgb3JkZW4gYSBcInNoaXBwZWRcIiBzaSB0b2RvcyBsb3MgaXRlbXMgdGllbmVuIGVudsOtb1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnb3JkZXJzJylcclxuICAgIC51cGRhdGUoeyBcclxuICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycsIC8vIENhbWJpYXIgYSBwcm9jZXNzaW5nIG1pZW50cmFzIHNlIGNvbmZpcm1hIGVsIGVudsOtb1xyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pXHJcbiAgICAuZXEoJ2lkJywgb3JkZXJJZCk7XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWN0dWFsaXphbmRvIGVzdGFkbyBkZSBvcmRlbjonLCBlcnJvcik7XHJcbiAgICAvLyBObyBsYW56YXIgZXJyb3IsIGVzIG9wY2lvbmFsXHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIQU5ETEVSIFBPU1QgLSBDUkVBUiBFTlbDjU8gREVTREUgT1JERU5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWZXJpZmljYXIgYXV0ZW50aWNhY2nDs25cclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdObyBhdXRvcml6YWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9yZGVySWQgPSBwYXJhbXMuaWQ7XHJcblxyXG4gICAgLy8gVmFsaWRhciBkYXRvcyBkZSBlbnRyYWRhXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gQ3JlYXRlU2hpcG1lbnRGcm9tT3JkZXJTY2hlbWEuc2FmZVBhcnNlKGJvZHkpO1xyXG5cclxuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgZXJyb3I6ICdEYXRvcyBkZSBlbnbDrW8gaW52w6FsaWRvcycsIFxyXG4gICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvblJlc3VsdC5lcnJvci5lcnJvcnMgXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xyXG5cclxuICAgIC8vIFZhbGlkYXIgYWNjZXNvIGEgbGEgb3JkZW4geSBvYnRlbmVyIGRhdG9zXHJcbiAgICBjb25zdCBvcmRlckRhdGEgPSBhd2FpdCB2YWxpZGF0ZU9yZGVyQWNjZXNzKG9yZGVySWQsIHNlc3Npb24udXNlci5pZCEpO1xyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgY2FycmllciBleGlzdGVcclxuICAgIGNvbnN0IHsgZGF0YTogY2FycmllciwgZXJyb3I6IGNhcnJpZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NvdXJpZXJzJylcclxuICAgICAgLnNlbGVjdCgnaWQsIG5hbWUsIGlzX2FjdGl2ZScpXHJcbiAgICAgIC5lcSgnaWQnLCB2YWxpZGF0ZWREYXRhLmNhcnJpZXJfaWQpXHJcbiAgICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSlcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChjYXJyaWVyRXJyb3IgfHwgIWNhcnJpZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdDYXJyaWVyIG5vIGVuY29udHJhZG8gbyBpbmFjdGl2bycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhciBlbCBlbnbDrW9cclxuICAgIGNvbnN0IHNoaXBtZW50ID0gYXdhaXQgY3JlYXRlU2hpcG1lbnRSZWNvcmQob3JkZXJEYXRhLCB2YWxpZGF0ZWREYXRhKTtcclxuXHJcbiAgICAvLyBDcmVhciBsb3MgaXRlbXMgZGVsIGVudsOtb1xyXG4gICAgYXdhaXQgY3JlYXRlU2hpcG1lbnRJdGVtcyhzaGlwbWVudC5pZCwgb3JkZXJEYXRhLm9yZGVyX2l0ZW1zLCB2YWxpZGF0ZWREYXRhLml0ZW1zKTtcclxuXHJcbiAgICAvLyBDcmVhciBldmVudG8gZGUgdHJhY2tpbmcgaW5pY2lhbFxyXG4gICAgYXdhaXQgY3JlYXRlSW5pdGlhbFRyYWNraW5nRXZlbnQoc2hpcG1lbnQuaWQpO1xyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZXN0YWRvIGRlIGxhIG9yZGVuXHJcbiAgICBhd2FpdCB1cGRhdGVPcmRlclN0YXR1cyhvcmRlcklkKTtcclxuXHJcbiAgICAvLyBPYnRlbmVyIGVsIGVudsOtbyBjb21wbGV0byBjb24gdG9kb3MgbG9zIGRhdG9zXHJcbiAgICBjb25zdCB7IGRhdGE6IGNvbXBsZXRlU2hpcG1lbnQsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnc2hpcG1lbnRzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBjYXJyaWVyOmNvdXJpZXJzKGlkLCBuYW1lLCBjb2RlLCBsb2dvX3VybCksXHJcbiAgICAgICAgaXRlbXM6c2hpcG1lbnRfaXRlbXMoXHJcbiAgICAgICAgICBpZCwgcXVhbnRpdHksIHdlaWdodF9rZyxcclxuICAgICAgICAgIG9yZGVyX2l0ZW06b3JkZXJfaXRlbXMoXHJcbiAgICAgICAgICAgIGlkLCBxdWFudGl0eSwgdW5pdF9wcmljZSxcclxuICAgICAgICAgICAgcHJvZHVjdDpwcm9kdWN0cyhpZCwgbmFtZSwgc2t1KVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICksXHJcbiAgICAgICAgdHJhY2tpbmdfZXZlbnRzKFxyXG4gICAgICAgICAgaWQsIHN0YXR1cywgZGVzY3JpcHRpb24sIG9jY3VycmVkX2F0XHJcbiAgICAgICAgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ2lkJywgc2hpcG1lbnQuaWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZmV0Y2hFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBvYnRlbmllbmRvIGVudsOtbyBjb21wbGV0bzonLCBmZXRjaEVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEVudsOtbyBjcmVhZG8gZXhpdG9zYW1lbnRlOicsIHtcclxuICAgICAgc2hpcG1lbnRfaWQ6IHNoaXBtZW50LmlkLFxyXG4gICAgICBzaGlwbWVudF9udW1iZXI6IHNoaXBtZW50LnNoaXBtZW50X251bWJlcixcclxuICAgICAgb3JkZXJfaWQ6IG9yZGVySWQsXHJcbiAgICAgIGNhcnJpZXI6IGNhcnJpZXIubmFtZSxcclxuICAgICAgdXNlcl9pZDogc2Vzc2lvbi51c2VyLmlkXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnRW52w61vIGNyZWFkbyBleGl0b3NhbWVudGUnLFxyXG4gICAgICBkYXRhOiBjb21wbGV0ZVNoaXBtZW50IHx8IHNoaXBtZW50XHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjcmVhbmRvIGVudsOtbyBkZXNkZSBvcmRlbjonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBcclxuICAgICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIQU5ETEVSIEdFVCAtIE9CVEVORVIgRU5Ww41PUyBERSBVTkEgT1JERU5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFZlcmlmaWNhciBhdXRlbnRpY2FjacOzblxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKTtcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ05vIGF1dG9yaXphZG8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb3JkZXJJZCA9IHBhcmFtcy5pZDtcclxuXHJcbiAgICAvLyBPYnRlbmVyIGVudsOtb3MgZGUgbGEgb3JkZW5cclxuICAgIGNvbnN0IHsgZGF0YTogc2hpcG1lbnRzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3NoaXBtZW50cycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgY2Fycmllcjpjb3VyaWVycyhpZCwgbmFtZSwgY29kZSwgbG9nb191cmwpLFxyXG4gICAgICAgIGl0ZW1zOnNoaXBtZW50X2l0ZW1zKFxyXG4gICAgICAgICAgaWQsIHF1YW50aXR5LCB3ZWlnaHRfa2csXHJcbiAgICAgICAgICBvcmRlcl9pdGVtOm9yZGVyX2l0ZW1zKFxyXG4gICAgICAgICAgICBpZCwgcXVhbnRpdHksIHVuaXRfcHJpY2UsXHJcbiAgICAgICAgICAgIHByb2R1Y3Q6cHJvZHVjdHMoaWQsIG5hbWUsIHNrdSlcclxuICAgICAgICAgIClcclxuICAgICAgICApLFxyXG4gICAgICAgIHRyYWNraW5nX2V2ZW50cyhcclxuICAgICAgICAgIGlkLCBzdGF0dXMsIGRlc2NyaXB0aW9uLCBvY2N1cnJlZF9hdCwgbG9jYXRpb25cclxuICAgICAgICApXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnb3JkZXJfaWQnLCBvcmRlcklkKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHNoaXBtZW50cyB8fCBbXVxyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igb2J0ZW5pZW5kbyBlbnbDrW9zIGRlIG9yZGVuOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IFxyXG4gICAgICAgIGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InLFxyXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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