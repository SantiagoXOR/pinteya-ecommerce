{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\admin\\logistics\\LogisticsAlerts.tsx"],"sourcesContent":["// =====================================================\r\n// COMPONENTE: LOGISTICS ALERTS ENTERPRISE\r\n// Descripción: Sistema de alertas para el dashboard de logística\r\n// Basado en: Patrones WooCommerce + shadcn/ui Alert\r\n// =====================================================\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { \r\n  AlertTriangle, \r\n  AlertCircle, \r\n  Info, \r\n  X, \r\n  Eye, \r\n  ExternalLink,\r\n  Clock,\r\n  Package,\r\n  Truck,\r\n  MapPin\r\n} from 'lucide-react';\r\nimport { LogisticsAlert } from '@/types/logistics';\r\nimport { cn } from '@/lib/core/utils';\r\nimport { formatDate, formatRelativeTime } from '@/lib/utils/consolidated-utils';\r\nimport Link from 'next/link';\r\n\r\n// =====================================================\r\n// INTERFACES\r\n// =====================================================\r\n\r\ninterface LogisticsAlertsProps {\r\n  alerts: LogisticsAlert[];\r\n  maxVisible?: number;\r\n  showAll?: boolean;\r\n  onDismiss?: (alertId: string) => void;\r\n  onMarkAsRead?: (alertId: string) => void;\r\n  className?: string;\r\n}\r\n\r\ninterface AlertItemProps {\r\n  alert: LogisticsAlert;\r\n  onDismiss?: (alertId: string) => void;\r\n  onMarkAsRead?: (alertId: string) => void;\r\n  compact?: boolean;\r\n}\r\n\r\n// =====================================================\r\n// CONFIGURACIÓN DE ALERTAS\r\n// =====================================================\r\n\r\nconst alertConfig = {\r\n  error: {\r\n    icon: AlertTriangle,\r\n    bgColor: 'bg-red-50 border-red-200',\r\n    iconColor: 'text-red-600',\r\n    titleColor: 'text-red-800',\r\n    descriptionColor: 'text-red-700'\r\n  },\r\n  warning: {\r\n    icon: AlertCircle,\r\n    bgColor: 'bg-yellow-50 border-yellow-200',\r\n    iconColor: 'text-yellow-600',\r\n    titleColor: 'text-yellow-800',\r\n    descriptionColor: 'text-yellow-700'\r\n  },\r\n  info: {\r\n    icon: Info,\r\n    bgColor: 'bg-blue-50 border-blue-200',\r\n    iconColor: 'text-blue-600',\r\n    titleColor: 'text-blue-800',\r\n    descriptionColor: 'text-blue-700'\r\n  }\r\n};\r\n\r\n// =====================================================\r\n// COMPONENTE PRINCIPAL\r\n// =====================================================\r\n\r\nexport function LogisticsAlerts({\r\n  alerts,\r\n  maxVisible = 5,\r\n  showAll = false,\r\n  onDismiss,\r\n  onMarkAsRead,\r\n  className\r\n}: LogisticsAlertsProps) {\r\n  \r\n  const [dismissedAlerts, setDismissedAlerts] = useState<Set<string>>(new Set());\r\n  \r\n  // Filtrar alertas no descartadas\r\n  const visibleAlerts = alerts.filter(alert => !dismissedAlerts.has(alert.id));\r\n  \r\n  // Limitar número de alertas visibles\r\n  const displayedAlerts = showAll \r\n    ? visibleAlerts \r\n    : visibleAlerts.slice(0, maxVisible);\r\n  \r\n  const remainingCount = visibleAlerts.length - displayedAlerts.length;\r\n  \r\n  // Categorizar alertas\r\n  const criticalAlerts = visibleAlerts.filter(alert => alert.type === 'error');\r\n  const warningAlerts = visibleAlerts.filter(alert => alert.type === 'warning');\r\n  const infoAlerts = visibleAlerts.filter(alert => alert.type === 'info');\r\n  \r\n  // Handler para descartar alerta\r\n  const handleDismiss = (alertId: string) => {\r\n    setDismissedAlerts(prev => new Set([...prev, alertId]));\r\n    onDismiss?.(alertId);\r\n  };\r\n  \r\n  // Handler para marcar como leída\r\n  const handleMarkAsRead = (alertId: string) => {\r\n    onMarkAsRead?.(alertId);\r\n  };\r\n  \r\n  if (visibleAlerts.length === 0) {\r\n    return null;\r\n  }\r\n  \r\n  return (\r\n    <div className={cn(\"space-y-4\", className)}>\r\n      {/* Resumen de alertas */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <h3 className=\"text-lg font-semibold\">Alertas del Sistema</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            {criticalAlerts.length > 0 && (\r\n              <Badge variant=\"destructive\" className=\"flex items-center gap-1\">\r\n                <AlertTriangle className=\"w-3 h-3\" />\r\n                {criticalAlerts.length} Críticas\r\n              </Badge>\r\n            )}\r\n            {warningAlerts.length > 0 && (\r\n              <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\r\n                <AlertCircle className=\"w-3 h-3\" />\r\n                {warningAlerts.length} Advertencias\r\n              </Badge>\r\n            )}\r\n            {infoAlerts.length > 0 && (\r\n              <Badge variant=\"outline\" className=\"flex items-center gap-1\">\r\n                <Info className=\"w-3 h-3\" />\r\n                {infoAlerts.length} Informativas\r\n              </Badge>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {remainingCount > 0 && (\r\n          <Button variant=\"outline\" size=\"sm\">\r\n            Ver todas ({remainingCount} más)\r\n          </Button>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Lista de alertas */}\r\n      <div className=\"space-y-3\">\r\n        {displayedAlerts.map((alert) => (\r\n          <AlertItem\r\n            key={alert.id}\r\n            alert={alert}\r\n            onDismiss={handleDismiss}\r\n            onMarkAsRead={handleMarkAsRead}\r\n          />\r\n        ))}\r\n      </div>\r\n      \r\n      {/* Alertas agrupadas por tipo */}\r\n      {showAll && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\r\n          {/* Alertas críticas */}\r\n          {criticalAlerts.length > 0 && (\r\n            <Card className=\"border-red-200\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-sm text-red-800 flex items-center gap-2\">\r\n                  <AlertTriangle className=\"w-4 h-4\" />\r\n                  Críticas ({criticalAlerts.length})\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ScrollArea className=\"h-32\">\r\n                  <div className=\"space-y-2\">\r\n                    {criticalAlerts.map((alert) => (\r\n                      <AlertItem\r\n                        key={alert.id}\r\n                        alert={alert}\r\n                        onDismiss={handleDismiss}\r\n                        onMarkAsRead={handleMarkAsRead}\r\n                        compact={true}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n          \r\n          {/* Alertas de advertencia */}\r\n          {warningAlerts.length > 0 && (\r\n            <Card className=\"border-yellow-200\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-sm text-yellow-800 flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-4 h-4\" />\r\n                  Advertencias ({warningAlerts.length})\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ScrollArea className=\"h-32\">\r\n                  <div className=\"space-y-2\">\r\n                    {warningAlerts.map((alert) => (\r\n                      <AlertItem\r\n                        key={alert.id}\r\n                        alert={alert}\r\n                        onDismiss={handleDismiss}\r\n                        onMarkAsRead={handleMarkAsRead}\r\n                        compact={true}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n          \r\n          {/* Alertas informativas */}\r\n          {infoAlerts.length > 0 && (\r\n            <Card className=\"border-blue-200\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-sm text-blue-800 flex items-center gap-2\">\r\n                  <Info className=\"w-4 h-4\" />\r\n                  Informativas ({infoAlerts.length})\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ScrollArea className=\"h-32\">\r\n                  <div className=\"space-y-2\">\r\n                    {infoAlerts.map((alert) => (\r\n                      <AlertItem\r\n                        key={alert.id}\r\n                        alert={alert}\r\n                        onDismiss={handleDismiss}\r\n                        onMarkAsRead={handleMarkAsRead}\r\n                        compact={true}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// COMPONENTE ALERT ITEM\r\n// =====================================================\r\n\r\nfunction AlertItem({\r\n  alert,\r\n  onDismiss,\r\n  onMarkAsRead,\r\n  compact = false\r\n}: AlertItemProps) {\r\n  \r\n  const config = alertConfig[alert.type];\r\n  const Icon = config.icon;\r\n  \r\n  return (\r\n    <Alert className={cn(\r\n      config.bgColor,\r\n      !alert.is_read && \"ring-2 ring-offset-2\",\r\n      alert.type === 'error' && !alert.is_read && \"ring-red-200\",\r\n      alert.type === 'warning' && !alert.is_read && \"ring-yellow-200\",\r\n      alert.type === 'info' && !alert.is_read && \"ring-blue-200\",\r\n      compact && \"p-3\"\r\n    )}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex items-start gap-3 flex-1\">\r\n          <Icon className={cn(\"w-4 h-4 mt-0.5\", config.iconColor)} />\r\n          \r\n          <div className=\"flex-1 space-y-1\">\r\n            <AlertTitle className={cn(\r\n              \"text-sm font-medium\",\r\n              config.titleColor,\r\n              compact && \"text-xs\"\r\n            )}>\r\n              {alert.title}\r\n              {!alert.is_read && (\r\n                <Badge variant=\"outline\" className=\"ml-2 text-xs\">\r\n                  Nuevo\r\n                </Badge>\r\n              )}\r\n            </AlertTitle>\r\n            \r\n            <AlertDescription className={cn(\r\n              \"text-sm\",\r\n              config.descriptionColor,\r\n              compact && \"text-xs\"\r\n            )}>\r\n              {alert.description}\r\n            </AlertDescription>\r\n            \r\n            {!compact && (\r\n              <div className=\"flex items-center gap-4 mt-2 text-xs text-muted-foreground\">\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Clock className=\"w-3 h-3\" />\r\n                  {formatRelativeTime(alert.created_at)}\r\n                </div>\r\n                \r\n                {alert.shipment_id && (\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Package className=\"w-3 h-3\" />\r\n                    Envío #{alert.shipment_id}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Acciones */}\r\n        <div className=\"flex items-center gap-1 ml-2\">\r\n          {!alert.is_read && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => onMarkAsRead?.(alert.id)}\r\n              className=\"h-6 w-6 p-0\"\r\n              title=\"Marcar como leída\"\r\n            >\r\n              <Eye className=\"w-3 h-3\" />\r\n            </Button>\r\n          )}\r\n          \r\n          {alert.action_url && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              asChild\r\n              className=\"h-6 w-6 p-0\"\r\n              title=\"Ver detalles\"\r\n            >\r\n              <Link href={alert.action_url}>\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n              </Link>\r\n            </Button>\r\n          )}\r\n          \r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => onDismiss?.(alert.id)}\r\n            className=\"h-6 w-6 p-0\"\r\n            title=\"Descartar\"\r\n          >\r\n            <X className=\"w-3 h-3\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Alert>\r\n  );\r\n}\r\n\r\n// =====================================================\r\n// COMPONENTE ALERT SUMMARY\r\n// =====================================================\r\n\r\nexport function LogisticsAlertsSummary({ alerts }: { alerts: LogisticsAlert[] }) {\r\n  const unreadAlerts = alerts.filter(alert => !alert.is_read);\r\n  const criticalCount = unreadAlerts.filter(alert => alert.type === 'error').length;\r\n  const warningCount = unreadAlerts.filter(alert => alert.type === 'warning').length;\r\n  \r\n  if (unreadAlerts.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center gap-2 text-sm text-green-600\">\r\n        <CheckCircle className=\"w-4 h-4\" />\r\n        Sin alertas pendientes\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"flex items-center gap-3\">\r\n      {criticalCount > 0 && (\r\n        <Badge variant=\"destructive\" className=\"flex items-center gap-1\">\r\n          <AlertTriangle className=\"w-3 h-3\" />\r\n          {criticalCount}\r\n        </Badge>\r\n      )}\r\n      \r\n      {warningCount > 0 && (\r\n        <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\r\n          <AlertCircle className=\"w-3 h-3\" />\r\n          {warningCount}\r\n        </Badge>\r\n      )}\r\n      \r\n      <span className=\"text-sm text-muted-foreground\">\r\n        {unreadAlerts.length} alertas pendientes\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["LogisticsAlerts","LogisticsAlertsSummary","alertConfig","error","icon","AlertTriangle","bgColor","iconColor","titleColor","descriptionColor","warning","AlertCircle","info","Info","alerts","maxVisible","showAll","onDismiss","onMarkAsRead","className","dismissedAlerts","setDismissedAlerts","useState","Set","visibleAlerts","filter","alert","has","id","displayedAlerts","slice","remainingCount","length","criticalAlerts","type","warningAlerts","infoAlerts","handleDismiss","alertId","prev","handleMarkAsRead","div","cn","h3","Badge","variant","Button","size","map","AlertItem","Card","CardHeader","CardTitle","CardContent","ScrollArea","compact","config","Icon","Alert","is_read","AlertTitle","title","AlertDescription","description","Clock","formatRelativeTime","created_at","shipment_id","Package","onClick","Eye","action_url","asChild","Link","href","ExternalLink","X","unreadAlerts","criticalCount","warningCount","CheckCircle","span"],"mappings":"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"}