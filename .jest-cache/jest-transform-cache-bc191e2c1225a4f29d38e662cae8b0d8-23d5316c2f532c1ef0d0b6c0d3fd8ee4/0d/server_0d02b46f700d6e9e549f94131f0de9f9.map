{"version":3,"names":["createAdminClient","cov_2hw1v6zr2d","f","s","createClient","cookieStore","_headers","cookies","_ssr","createServerClient","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","get","name","value","set","options","error","remove","SUPABASE_SERVICE_ROLE_KEY","undefined"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\integrations\\supabase\\server.ts"],"sourcesContent":["// =====================================================\r\n// SUPABASE SERVER CLIENT\r\n// Descripci√≥n: Cliente de Supabase para uso en servidor\r\n// Basado en: Supabase SSR + NextAuth.js integration\r\n// =====================================================\r\n\r\nimport { createServerClient, type CookieOptions } from '@supabase/ssr';\r\nimport { cookies } from 'next/headers';\r\n\r\nexport async function createClient() {\r\n  const cookieStore = await cookies();\r\n\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        get(name: string) {\r\n          return cookieStore.get(name)?.value;\r\n        },\r\n        set(name: string, value: string, options: CookieOptions) {\r\n          try {\r\n            cookieStore.set({ name, value, ...options });\r\n          } catch (error) {\r\n            // The `set` method was called from a Server Component.\r\n            // This can be ignored if you have middleware refreshing\r\n            // user sessions.\r\n          }\r\n        },\r\n        remove(name: string, options: CookieOptions) {\r\n          try {\r\n            cookieStore.set({ name, value: '', ...options });\r\n          } catch (error) {\r\n            // The `delete` method was called from a Server Component.\r\n            // This can be ignored if you have middleware refreshing\r\n            // user sessions.\r\n          }\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n// Cliente con service role para operaciones administrativas\r\nexport function createAdminClient() {\r\n  return createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n    {\r\n      cookies: {\r\n        get() {\r\n          return undefined;\r\n        },\r\n        set() {\r\n          // No-op for service role client\r\n        },\r\n        remove() {\r\n          // No-op for service role client\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}