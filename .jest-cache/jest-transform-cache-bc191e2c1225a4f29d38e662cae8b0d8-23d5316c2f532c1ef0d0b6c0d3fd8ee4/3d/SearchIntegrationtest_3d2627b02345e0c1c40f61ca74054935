6d88cf8d0e2a9f6592d2f7f17fc00e0d
/**
 * Search Integration Test Ultra-Simplificado
 * Sin dependencias complejas - Solo integración básica de búsqueda
 */ "use strict";
// Mock completo del Header con funcionalidad de búsqueda
jest.mock('../../index', ()=>{
    return function MockHeaderSearchIntegration() {
        const [searchValue, setSearchValue] = _react.default.useState('');
        const [searchResults, setSearchResults] = _react.default.useState([]);
        const [isLoading, setIsLoading] = _react.default.useState(false);
        const [recentSearches, setRecentSearches] = _react.default.useState([]);
        const handleSearch = async (value)=>{
            if (!value.trim()) {
                setSearchResults([]);
                return;
            }
            setIsLoading(true);
            // Simular búsqueda con delay
            setTimeout(()=>{
                const mockResults = [
                    `Pintura ${value}`,
                    `Rodillo para ${value}`,
                    `Pincel ${value}`,
                    `Látex ${value}`,
                    `Esmalte ${value}`
                ];
                setSearchResults(mockResults);
                setIsLoading(false);
                // Agregar a búsquedas recientes
                setRecentSearches((prev)=>{
                    const updated = [
                        value,
                        ...prev.filter((s)=>s !== value)
                    ].slice(0, 5);
                    return updated;
                });
            }, 100);
        };
        const handleSubmit = (e)=>{
            e.preventDefault();
            handleSearch(searchValue);
        };
        const handleKeyDown = (e)=>{
            if (e.key === 'Enter') {
                handleSearch(searchValue);
            } else if (e.key === 'Escape') {
                setSearchValue('');
                setSearchResults([]);
            }
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("header", {
            role: "banner",
            "data-testid": "header-search-integration",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "search-integration-section",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                        onSubmit: handleSubmit,
                        "data-testid": "search-form",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                htmlFor: "search-input",
                                className: "sr-only",
                                children: "Buscar productos"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                id: "search-input",
                                role: "searchbox",
                                "aria-label": "Buscar productos en nuestra tienda",
                                "aria-describedby": "search-help",
                                value: searchValue,
                                onChange: (e)=>setSearchValue(e.target.value),
                                onKeyDown: handleKeyDown,
                                placeholder: "Buscar productos...",
                                "data-testid": "search-input"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "submit",
                                "data-testid": "search-submit",
                                children: "Buscar"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        id: "search-help",
                        className: "sr-only",
                        children: "Escriba para buscar productos. Use Enter para buscar o Escape para limpiar."
                    }),
                    isLoading && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "search-loading",
                        "aria-live": "polite",
                        children: "Buscando productos..."
                    }),
                    searchResults.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": "search-results",
                        role: "region",
                        "aria-label": "Resultados de b\xfasqueda",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                children: [
                                    'Resultados para "',
                                    searchValue,
                                    '"'
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("ul", {
                                children: searchResults.map((result, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                        "data-testid": `search-result-${index}`,
                                        children: result
                                    }, index))
                            })
                        ]
                    }),
                    recentSearches.length > 0 && searchValue === '' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": "recent-searches",
                        role: "region",
                        "aria-label": "B\xfasquedas recientes",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                children: "B\xfasquedas recientes"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("ul", {
                                children: recentSearches.map((search, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                        "data-testid": `recent-search-${index}`,
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            onClick: ()=>{
                                                setSearchValue(search);
                                                handleSearch(search);
                                            },
                                            children: search
                                        })
                                    }, index))
                            })
                        ]
                    })
                ]
            })
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _index = /*#__PURE__*/ _interop_require_default(require("../../index"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Search Integration - Ultra-Simplified Tests', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Funcionalidad de Búsqueda', ()=>{
        it('debe renderizar campo de búsqueda', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            expect(searchInput).toBeInTheDocument();
            expect(searchInput).toHaveAttribute('placeholder', 'Buscar productos...');
        });
        it('debe permitir escribir en el campo de búsqueda', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'pintura'
                }
            });
            expect(searchInput.value).toBe('pintura');
        });
        it('debe enviar búsqueda al hacer submit', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const searchForm = _react1.screen.getByTestId('search-form');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex'
                }
            });
            _react1.fireEvent.submit(searchForm);
            // Verificar loading
            expect(_react1.screen.getByTestId('search-loading')).toBeInTheDocument();
            // Esperar resultados
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "látex"')).toBeInTheDocument();
        });
        it('debe manejar Enter en el campo de búsqueda', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'rodillo'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter',
                code: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "rodillo"')).toBeInTheDocument();
        });
        it('debe limpiar campo con Escape', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'test'
                }
            });
            expect(searchInput.value).toBe('test');
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Escape',
                code: 'Escape'
            });
            expect(searchInput.value).toBe('');
        });
    });
    describe('Estados de Búsqueda', ()=>{
        it('debe manejar búsqueda vacía', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const searchForm = _react1.screen.getByTestId('search-form');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            _react1.fireEvent.submit(searchForm);
            // No debe mostrar loading ni resultados
            expect(_react1.screen.queryByTestId('search-loading')).not.toBeInTheDocument();
            expect(_react1.screen.queryByTestId('search-results')).not.toBeInTheDocument();
        });
        it('debe manejar búsqueda con espacios', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: '  pincel  '
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Verificar que el resultado contiene el término (sin espacios exactos)
            expect(_react1.screen.getByText(/Resultados para.*pincel/)).toBeInTheDocument();
        });
        it('debe manejar caracteres especiales', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex-20%'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Verificar que el resultado contiene el término con caracteres especiales
            expect(_react1.screen.getByText(/Resultados para.*látex-20%/)).toBeInTheDocument();
        });
    });
    describe('Accesibilidad de Búsqueda', ()=>{
        it('debe tener labels apropiados', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            expect(searchInput).toHaveAttribute('aria-label', 'Buscar productos en nuestra tienda');
            expect(searchInput).toHaveAttribute('aria-describedby', 'search-help');
            const helpText = document.getElementById('search-help');
            expect(helpText).toBeInTheDocument();
        });
        it('debe ser navegable por teclado', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const submitButton = _react1.screen.getByTestId('search-submit');
            searchInput.focus();
            expect(document.activeElement).toBe(searchInput);
            submitButton.focus();
            expect(document.activeElement).toBe(submitButton);
        });
        it('debe anunciar cambios a screen readers', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'test'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            // Verificar aria-live
            const loadingElement = _react1.screen.getByTestId('search-loading');
            expect(loadingElement).toHaveAttribute('aria-live', 'polite');
            await (0, _react1.waitFor)(()=>{
                const resultsRegion = _react1.screen.getByRole('region', {
                    name: 'Resultados de búsqueda'
                });
                expect(resultsRegion).toBeInTheDocument();
            });
        });
    });
    describe('Integración con Header', ()=>{
        it('debe integrarse correctamente con el header', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const header = _react1.screen.getByRole('banner');
            const searchSection = _react1.screen.getByTestId('search-integration-section');
            expect(header).toBeInTheDocument();
            expect(searchSection).toBeInTheDocument();
        });
        it('debe mantener layout responsive', ()=>{
            // Simular móvil
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 375
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
            // Simular desktop
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 1200
            });
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
        });
    });
    describe('Búsquedas Recientes', ()=>{
        it('debe guardar búsquedas recientes', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Realizar búsqueda
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'pintura'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Limpiar búsqueda
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            // Verificar búsquedas recientes
            expect(_react1.screen.getByTestId('recent-searches')).toBeInTheDocument();
            expect(_react1.screen.getByTestId('recent-search-0')).toHaveTextContent('pintura');
        });
        it('debe permitir seleccionar búsquedas recientes', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Realizar búsqueda inicial
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Limpiar y seleccionar búsqueda reciente
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            const recentSearchButton = _react1.screen.getByText('látex');
            _react1.fireEvent.click(recentSearchButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "látex"')).toBeInTheDocument();
        });
    });
    describe('Manejo de Errores', ()=>{
        it('debe manejar errores de red gracefully', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Simular búsqueda que podría fallar
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'error-test'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            // Verificar que el componente sigue funcionando
            expect(_react1.screen.getByTestId('search-loading')).toBeInTheDocument();
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
        });
        it('debe manejar respuestas inválidas', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'invalid-response'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Debe mostrar resultados mock incluso con respuesta "inválida"
            expect(_react1.screen.getByText('Resultados para "invalid-response"')).toBeInTheDocument();
        });
    });
    describe('Performance', ()=>{
        it('debe renderizar rápidamente', ()=>{
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            expect(renderTime).toBeLessThan(100);
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
        });
        it('debe manejar múltiples cambios de input', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Múltiples cambios rápidos
            for(let i = 0; i < 5; i++){
                _react1.fireEvent.change(searchInput, {
                    target: {
                        value: `búsqueda ${i}`
                    }
                });
            }
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "búsqueda 4"')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcSGVhZGVyXFxfX3Rlc3RzX19cXGludGVncmF0aW9uXFxTZWFyY2hJbnRlZ3JhdGlvbi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlYXJjaCBJbnRlZ3JhdGlvbiBUZXN0IFVsdHJhLVNpbXBsaWZpY2Fkb1xuICogU2luIGRlcGVuZGVuY2lhcyBjb21wbGVqYXMgLSBTb2xvIGludGVncmFjacOzbiBiw6FzaWNhIGRlIGLDunNxdWVkYVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuXG4vLyBNb2NrIGNvbXBsZXRvIGRlbCBIZWFkZXIgY29uIGZ1bmNpb25hbGlkYWQgZGUgYsO6c3F1ZWRhXG5qZXN0Lm1vY2soJy4uLy4uL2luZGV4JywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0hlYWRlclNlYXJjaEludGVncmF0aW9uKCkge1xuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gICAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbcmVjZW50U2VhcmNoZXMsIHNldFJlY2VudFNlYXJjaGVzXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZ1tdPihbXSlcblxuICAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoIXZhbHVlLnRyaW0oKSkge1xuICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpXG5cbiAgICAgIC8vIFNpbXVsYXIgYsO6c3F1ZWRhIGNvbiBkZWxheVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXN1bHRzID0gW1xuICAgICAgICAgIGBQaW50dXJhICR7dmFsdWV9YCxcbiAgICAgICAgICBgUm9kaWxsbyBwYXJhICR7dmFsdWV9YCxcbiAgICAgICAgICBgUGluY2VsICR7dmFsdWV9YCxcbiAgICAgICAgICBgTMOhdGV4ICR7dmFsdWV9YCxcbiAgICAgICAgICBgRXNtYWx0ZSAke3ZhbHVlfWAsXG4gICAgICAgIF1cbiAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhtb2NrUmVzdWx0cylcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuXG4gICAgICAgIC8vIEFncmVnYXIgYSBiw7pzcXVlZGFzIHJlY2llbnRlc1xuICAgICAgICBzZXRSZWNlbnRTZWFyY2hlcyhwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkID0gW3ZhbHVlLCAuLi5wcmV2LmZpbHRlcihzID0+IHMgIT09IHZhbHVlKV0uc2xpY2UoMCwgNSlcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZFxuICAgICAgICB9KVxuICAgICAgfSwgMTAwKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgaGFuZGxlU2VhcmNoKHNlYXJjaFZhbHVlKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIGhhbmRsZVNlYXJjaChzZWFyY2hWYWx1ZSlcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHNldFNlYXJjaFZhbHVlKCcnKVxuICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8aGVhZGVyIHJvbGU9J2Jhbm5lcicgZGF0YS10ZXN0aWQ9J2hlYWRlci1zZWFyY2gtaW50ZWdyYXRpb24nPlxuICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdzZWFyY2gtaW50ZWdyYXRpb24tc2VjdGlvbic+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gZGF0YS10ZXN0aWQ9J3NlYXJjaC1mb3JtJz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPSdzZWFyY2gtaW5wdXQnIGNsYXNzTmFtZT0nc3Itb25seSc+XG4gICAgICAgICAgICAgIEJ1c2NhciBwcm9kdWN0b3NcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9J3NlYXJjaC1pbnB1dCdcbiAgICAgICAgICAgICAgcm9sZT0nc2VhcmNoYm94J1xuICAgICAgICAgICAgICBhcmlhLWxhYmVsPSdCdXNjYXIgcHJvZHVjdG9zIGVuIG51ZXN0cmEgdGllbmRhJ1xuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PSdzZWFyY2gtaGVscCdcbiAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFZhbHVlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRTZWFyY2hWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0J1c2NhciBwcm9kdWN0b3MuLi4nXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPSdzZWFyY2gtaW5wdXQnXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSdzdWJtaXQnIGRhdGEtdGVzdGlkPSdzZWFyY2gtc3VibWl0Jz5cbiAgICAgICAgICAgICAgQnVzY2FyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAgICA8ZGl2IGlkPSdzZWFyY2gtaGVscCcgY2xhc3NOYW1lPSdzci1vbmx5Jz5cbiAgICAgICAgICAgIEVzY3JpYmEgcGFyYSBidXNjYXIgcHJvZHVjdG9zLiBVc2UgRW50ZXIgcGFyYSBidXNjYXIgbyBFc2NhcGUgcGFyYSBsaW1waWFyLlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPSdzZWFyY2gtbG9hZGluZycgYXJpYS1saXZlPSdwb2xpdGUnPlxuICAgICAgICAgICAgICBCdXNjYW5kbyBwcm9kdWN0b3MuLi5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c2VhcmNoUmVzdWx0cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3NlYXJjaC1yZXN1bHRzJyByb2xlPSdyZWdpb24nIGFyaWEtbGFiZWw9J1Jlc3VsdGFkb3MgZGUgYsO6c3F1ZWRhJz5cbiAgICAgICAgICAgICAgPGgzPlJlc3VsdGFkb3MgcGFyYSBcIntzZWFyY2hWYWx1ZX1cIjwvaDM+XG4gICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICB7c2VhcmNoUmVzdWx0cy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fSBkYXRhLXRlc3RpZD17YHNlYXJjaC1yZXN1bHQtJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAgICAgICAge3Jlc3VsdH1cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3JlY2VudFNlYXJjaGVzLmxlbmd0aCA+IDAgJiYgc2VhcmNoVmFsdWUgPT09ICcnICYmIChcbiAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9J3JlY2VudC1zZWFyY2hlcycgcm9sZT0ncmVnaW9uJyBhcmlhLWxhYmVsPSdCw7pzcXVlZGFzIHJlY2llbnRlcyc+XG4gICAgICAgICAgICAgIDxoND5Cw7pzcXVlZGFzIHJlY2llbnRlczwvaDQ+XG4gICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICB7cmVjZW50U2VhcmNoZXMubWFwKChzZWFyY2gsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gZGF0YS10ZXN0aWQ9e2ByZWNlbnQtc2VhcmNoLSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWFyY2hWYWx1ZShzZWFyY2gpXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWFyY2goc2VhcmNoKVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNofVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuICAgIClcbiAgfVxufSlcblxuaW1wb3J0IEhlYWRlciBmcm9tICcuLi8uLi9pbmRleCdcblxuZGVzY3JpYmUoJ1NlYXJjaCBJbnRlZ3JhdGlvbiAtIFVsdHJhLVNpbXBsaWZpZWQgVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0Z1bmNpb25hbGlkYWQgZGUgQsO6c3F1ZWRhJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHJlbmRlcml6YXIgY2FtcG8gZGUgYsO6c3F1ZWRhJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dCkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNlYXJjaElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ0J1c2NhciBwcm9kdWN0b3MuLi4nKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBwZXJtaXRpciBlc2NyaWJpciBlbiBlbCBjYW1wbyBkZSBiw7pzcXVlZGEnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAncGludHVyYScgfSB9KVxuICAgICAgZXhwZWN0KHNlYXJjaElucHV0LnZhbHVlKS50b0JlKCdwaW50dXJhJylcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgZW52aWFyIGLDunNxdWVkYSBhbCBoYWNlciBzdWJtaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuICAgICAgY29uc3Qgc2VhcmNoRm9ybSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLWZvcm0nKVxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2zDoXRleCcgfSB9KVxuICAgICAgZmlyZUV2ZW50LnN1Ym1pdChzZWFyY2hGb3JtKVxuXG4gICAgICAvLyBWZXJpZmljYXIgbG9hZGluZ1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLWxvYWRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuXG4gICAgICAvLyBFc3BlcmFyIHJlc3VsdGFkb3NcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtcmVzdWx0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzdWx0YWRvcyBwYXJhIFwibMOhdGV4XCInKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIEVudGVyIGVuIGVsIGNhbXBvIGRlIGLDunNxdWVkYScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAncm9kaWxsbycgfSB9KVxuICAgICAgZmlyZUV2ZW50LmtleURvd24oc2VhcmNoSW5wdXQsIHsga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInIH0pXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtcmVzdWx0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzdWx0YWRvcyBwYXJhIFwicm9kaWxsb1wiJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbGltcGlhciBjYW1wbyBjb24gRXNjYXBlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JykgYXMgSFRNTElucHV0RWxlbWVudFxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3QnIH0gfSlcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dC52YWx1ZSkudG9CZSgndGVzdCcpXG5cbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VzY2FwZScsIGNvZGU6ICdFc2NhcGUnIH0pXG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQudmFsdWUpLnRvQmUoJycpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRXN0YWRvcyBkZSBCw7pzcXVlZGEnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgbWFuZWphciBiw7pzcXVlZGEgdmFjw61hJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIGNvbnN0IHNlYXJjaEZvcm0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1mb3JtJylcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICcnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5zdWJtaXQoc2VhcmNoRm9ybSlcblxuICAgICAgLy8gTm8gZGViZSBtb3N0cmFyIGxvYWRpbmcgbmkgcmVzdWx0YWRvc1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdzZWFyY2gtbG9hZGluZycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdzZWFyY2gtcmVzdWx0cycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIGLDunNxdWVkYSBjb24gZXNwYWNpb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJyAgcGluY2VsICAnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcblxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCByZXN1bHRhZG8gY29udGllbmUgZWwgdMOpcm1pbm8gKHNpbiBlc3BhY2lvcyBleGFjdG9zKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1Jlc3VsdGFkb3MgcGFyYS4qcGluY2VsLykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBjYXJhY3RlcmVzIGVzcGVjaWFsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2zDoXRleC0yMCUnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcblxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCByZXN1bHRhZG8gY29udGllbmUgZWwgdMOpcm1pbm8gY29uIGNhcmFjdGVyZXMgZXNwZWNpYWxlc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1Jlc3VsdGFkb3MgcGFyYS4qbMOhdGV4LTIwJS8pKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnQWNjZXNpYmlsaWRhZCBkZSBCw7pzcXVlZGEnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgdGVuZXIgbGFiZWxzIGFwcm9waWFkb3MnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuICAgICAgZXhwZWN0KHNlYXJjaElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQnVzY2FyIHByb2R1Y3RvcyBlbiBudWVzdHJhIHRpZW5kYScpXG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsICdzZWFyY2gtaGVscCcpXG5cbiAgICAgIGNvbnN0IGhlbHBUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1oZWxwJylcbiAgICAgIGV4cGVjdChoZWxwVGV4dCkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBzZXIgbmF2ZWdhYmxlIHBvciB0ZWNsYWRvJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXN1Ym1pdCcpXG5cbiAgICAgIHNlYXJjaElucHV0LmZvY3VzKClcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKHNlYXJjaElucHV0KVxuXG4gICAgICBzdWJtaXRCdXR0b24uZm9jdXMoKVxuICAgICAgZXhwZWN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRvQmUoc3VibWl0QnV0dG9uKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBhbnVuY2lhciBjYW1iaW9zIGEgc2NyZWVuIHJlYWRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3Rlc3QnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuXG4gICAgICAvLyBWZXJpZmljYXIgYXJpYS1saXZlXG4gICAgICBjb25zdCBsb2FkaW5nRWxlbWVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLWxvYWRpbmcnKVxuICAgICAgZXhwZWN0KGxvYWRpbmdFbGVtZW50KS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0c1JlZ2lvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ3JlZ2lvbicsIHsgbmFtZTogJ1Jlc3VsdGFkb3MgZGUgYsO6c3F1ZWRhJyB9KVxuICAgICAgICBleHBlY3QocmVzdWx0c1JlZ2lvbikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdJbnRlZ3JhY2nDs24gY29uIEhlYWRlcicsICgpID0+IHtcbiAgICBpdCgnZGViZSBpbnRlZ3JhcnNlIGNvcnJlY3RhbWVudGUgY29uIGVsIGhlYWRlcicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuXG4gICAgICBjb25zdCBoZWFkZXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdiYW5uZXInKVxuICAgICAgY29uc3Qgc2VhcmNoU2VjdGlvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLWludGVncmF0aW9uLXNlY3Rpb24nKVxuXG4gICAgICBleHBlY3QoaGVhZGVyKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2VhcmNoU2VjdGlvbikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW50ZW5lciBsYXlvdXQgcmVzcG9uc2l2ZScsICgpID0+IHtcbiAgICAgIC8vIFNpbXVsYXIgbcOzdmlsXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDM3NSxcbiAgICAgIH0pXG5cbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JykpLnRvQmVJblRoZURvY3VtZW50KClcblxuICAgICAgLy8gU2ltdWxhciBkZXNrdG9wXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDEyMDAsXG4gICAgICB9KVxuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdCw7pzcXVlZGFzIFJlY2llbnRlcycsICgpID0+IHtcbiAgICBpdCgnZGViZSBndWFyZGFyIGLDunNxdWVkYXMgcmVjaWVudGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcblxuICAgICAgLy8gUmVhbGl6YXIgYsO6c3F1ZWRhXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3BpbnR1cmEnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcblxuICAgICAgLy8gTGltcGlhciBiw7pzcXVlZGFcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnJyB9IH0pXG5cbiAgICAgIC8vIFZlcmlmaWNhciBiw7pzcXVlZGFzIHJlY2llbnRlc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncmVjZW50LXNlYXJjaGVzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2VudC1zZWFyY2gtMCcpKS50b0hhdmVUZXh0Q29udGVudCgncGludHVyYScpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIHBlcm1pdGlyIHNlbGVjY2lvbmFyIGLDunNxdWVkYXMgcmVjaWVudGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcblxuICAgICAgLy8gUmVhbGl6YXIgYsO6c3F1ZWRhIGluaWNpYWxcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnbMOhdGV4JyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG5cbiAgICAgIC8vIExpbXBpYXIgeSBzZWxlY2Npb25hciBiw7pzcXVlZGEgcmVjaWVudGVcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnJyB9IH0pXG5cbiAgICAgIGNvbnN0IHJlY2VudFNlYXJjaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ2zDoXRleCcpXG4gICAgICBmaXJlRXZlbnQuY2xpY2socmVjZW50U2VhcmNoQnV0dG9uKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Jlc3VsdGFkb3MgcGFyYSBcImzDoXRleFwiJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdNYW5lam8gZGUgRXJyb3JlcycsICgpID0+IHtcbiAgICBpdCgnZGViZSBtYW5lamFyIGVycm9yZXMgZGUgcmVkIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuXG4gICAgICAvLyBTaW11bGFyIGLDunNxdWVkYSBxdWUgcG9kcsOtYSBmYWxsYXJcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnZXJyb3ItdGVzdCcgfSB9KVxuICAgICAgZmlyZUV2ZW50LmtleURvd24oc2VhcmNoSW5wdXQsIHsga2V5OiAnRW50ZXInIH0pXG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgY29tcG9uZW50ZSBzaWd1ZSBmdW5jaW9uYW5kb1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLWxvYWRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFuZWphciByZXNwdWVzdGFzIGludsOhbGlkYXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2ludmFsaWQtcmVzcG9uc2UnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcblxuICAgICAgLy8gRGViZSBtb3N0cmFyIHJlc3VsdGFkb3MgbW9jayBpbmNsdXNvIGNvbiByZXNwdWVzdGEgXCJpbnbDoWxpZGFcIlxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Jlc3VsdGFkb3MgcGFyYSBcImludmFsaWQtcmVzcG9uc2VcIicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgcmVuZGVyaXphciByw6FwaWRhbWVudGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuXG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcblxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZVxuXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIG3Dumx0aXBsZXMgY2FtYmlvcyBkZSBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG5cbiAgICAgIC8vIE3Dumx0aXBsZXMgY2FtYmlvcyByw6FwaWRvc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6IGBiw7pzcXVlZGEgJHtpfWAgfSB9KVxuICAgICAgfVxuXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZXN1bHRhZG9zIHBhcmEgXCJiw7pzcXVlZGEgNFwiJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxufSlcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIk1vY2tIZWFkZXJTZWFyY2hJbnRlZ3JhdGlvbiIsInNlYXJjaFZhbHVlIiwic2V0U2VhcmNoVmFsdWUiLCJSZWFjdCIsInVzZVN0YXRlIiwic2VhcmNoUmVzdWx0cyIsInNldFNlYXJjaFJlc3VsdHMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJyZWNlbnRTZWFyY2hlcyIsInNldFJlY2VudFNlYXJjaGVzIiwiaGFuZGxlU2VhcmNoIiwidmFsdWUiLCJ0cmltIiwic2V0VGltZW91dCIsIm1vY2tSZXN1bHRzIiwicHJldiIsInVwZGF0ZWQiLCJmaWx0ZXIiLCJzIiwic2xpY2UiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVLZXlEb3duIiwia2V5IiwiaGVhZGVyIiwicm9sZSIsImRhdGEtdGVzdGlkIiwiZGl2IiwiZm9ybSIsIm9uU3VibWl0IiwibGFiZWwiLCJodG1sRm9yIiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJpZCIsImFyaWEtbGFiZWwiLCJhcmlhLWRlc2NyaWJlZGJ5Iiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJvbktleURvd24iLCJwbGFjZWhvbGRlciIsImJ1dHRvbiIsInR5cGUiLCJhcmlhLWxpdmUiLCJsZW5ndGgiLCJoMyIsInVsIiwibWFwIiwicmVzdWx0IiwiaW5kZXgiLCJsaSIsImg0Iiwic2VhcmNoIiwib25DbGljayIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIkhlYWRlciIsInNlYXJjaElucHV0Iiwic2NyZWVuIiwiZ2V0QnlSb2xlIiwiZXhwZWN0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJ0b0JlIiwic2VhcmNoRm9ybSIsImdldEJ5VGVzdElkIiwic3VibWl0Iiwid2FpdEZvciIsImdldEJ5VGV4dCIsImtleURvd24iLCJjb2RlIiwicXVlcnlCeVRlc3RJZCIsIm5vdCIsImhlbHBUZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN1Ym1pdEJ1dHRvbiIsImZvY3VzIiwiYWN0aXZlRWxlbWVudCIsImxvYWRpbmdFbGVtZW50IiwicmVzdWx0c1JlZ2lvbiIsIm5hbWUiLCJzZWFyY2hTZWN0aW9uIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInRvSGF2ZVRleHRDb250ZW50IiwicmVjZW50U2VhcmNoQnV0dG9uIiwiY2xpY2siLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImVuZFRpbWUiLCJyZW5kZXJUaW1lIiwidG9CZUxlc3NUaGFuIiwiaSJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBS0QseURBQXlEO0FBQ3pEQSxLQUFLQyxJQUFJLENBQUMsZUFBZTtJQUN2QixPQUFPLFNBQVNDO1FBQ2QsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdDLGNBQUssQ0FBQ0MsUUFBUSxDQUFDO1FBQ3JELE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdILGNBQUssQ0FBQ0MsUUFBUSxDQUFXLEVBQUU7UUFDckUsTUFBTSxDQUFDRyxXQUFXQyxhQUFhLEdBQUdMLGNBQUssQ0FBQ0MsUUFBUSxDQUFDO1FBQ2pELE1BQU0s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