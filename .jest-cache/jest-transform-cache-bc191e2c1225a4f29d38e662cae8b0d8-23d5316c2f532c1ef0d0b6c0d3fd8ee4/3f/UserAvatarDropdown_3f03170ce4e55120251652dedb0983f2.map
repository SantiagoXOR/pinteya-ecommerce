{"version":3,"names":["cov_1ov0vtwwa0","actualCoverage","s","LoginButton","f","UserAvatarDropdown","user","signOut","isSignedIn","_useAuth","useAuth","b","handleLogout","callbackUrl","error","console","getUserInitial","name","charAt","toUpperCase","email","getDisplayName","split","_jsxruntime","jsxs","_dropdownmenu","DropdownMenu","jsx","DropdownMenuTrigger","asChild","_button","Button","variant","className","_avatar","Avatar","AvatarImage","src","image","undefined","alt","AvatarFallback","DropdownMenuContent","align","DropdownMenuLabel","DropdownMenuSeparator","DropdownMenuItem","_link","default","href","_lucidereact","Package","MapPin","User","onClick","LogOut","viewBox","fill","d"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Header\\UserAvatarDropdown.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { \r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  User,\r\n  Package,\r\n  Settings,\r\n  LogOut,\r\n  ChevronDown,\r\n  MapPin\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\n/**\r\n * Componente de Avatar + Dropdown Simplificado para Usuario\r\n * Reemplaza el sistema complejo de dashboard con funcionalidad básica\r\n * \r\n * Funcionalidades:\r\n * - Avatar con imagen del usuario (NextAuth.js)\r\n * - Dropdown con información básica\r\n * - Links a órdenes y perfil\r\n * - Logout funcional\r\n * - Responsive design\r\n */\r\nexport function UserAvatarDropdown() {\r\n  const { user, signOut, isSignedIn } = useAuth();\r\n\r\n  // No mostrar nada si no está autenticado\r\n  if (!isSignedIn || !user) {\r\n    return null;\r\n  }\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await signOut({ callbackUrl: '/' });\r\n    } catch (error) {\r\n      console.error('Error al cerrar sesión:', error);\r\n    }\r\n  };\r\n\r\n  // Obtener inicial para fallback del avatar\r\n  const getUserInitial = () => {\r\n    if (user.name) {\r\n      return user.name.charAt(0).toUpperCase();\r\n    }\r\n    if (user.email) {\r\n      return user.email.charAt(0).toUpperCase();\r\n    }\r\n    return 'U';\r\n  };\r\n\r\n  // Obtener nombre para mostrar\r\n  const getDisplayName = () => {\r\n    if (user.name) {\r\n      return user.name;\r\n    }\r\n    if (user.email) {\r\n      return user.email.split('@')[0];\r\n    }\r\n    return 'Usuario';\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button\r\n          variant=\"ghost\"\r\n          className=\"relative h-10 w-10 rounded-full p-0 hover:ring-2 hover:ring-white/50 transition-all duration-200\"\r\n        >\r\n          {/* Solo Avatar del usuario - sin nombre ni icono */}\r\n          <Avatar className=\"h-10 w-10\">\r\n            <AvatarImage\r\n              src={user.image || undefined}\r\n              alt={user.name || 'Usuario'}\r\n            />\r\n            <AvatarFallback className=\"bg-white text-blaze-orange-700 text-sm font-medium\">\r\n              {getUserInitial()}\r\n            </AvatarFallback>\r\n          </Avatar>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent align=\"end\" className=\"w-64\">\r\n        {/* Header con información del usuario */}\r\n        <DropdownMenuLabel className=\"font-normal\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Avatar className=\"h-10 w-10\">\r\n              <AvatarImage \r\n                src={user.image || undefined} \r\n                alt={user.name || 'Usuario'} \r\n              />\r\n              <AvatarFallback className=\"bg-gray-100 text-gray-700 text-lg font-medium\">\r\n                {getUserInitial()}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                {user.name || 'Usuario'}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 truncate\">\r\n                {user.email}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </DropdownMenuLabel>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        {/* Mis Órdenes */}\r\n        <DropdownMenuItem asChild>\r\n          <Link href=\"/orders\" className=\"flex items-center cursor-pointer\">\r\n            <Package className=\"mr-2 h-4 w-4\" />\r\n            <span>Mis Órdenes</span>\r\n          </Link>\r\n        </DropdownMenuItem>\r\n\r\n        {/* Mis Direcciones */}\r\n        <DropdownMenuItem asChild>\r\n          <Link href=\"/addresses\" className=\"flex items-center cursor-pointer\">\r\n            <MapPin className=\"mr-2 h-4 w-4\" />\r\n            <span>Mis Direcciones</span>\r\n          </Link>\r\n        </DropdownMenuItem>\r\n\r\n        {/* Mi Perfil */}\r\n        <DropdownMenuItem asChild>\r\n          <Link href=\"/profile\" className=\"flex items-center cursor-pointer\">\r\n            <User className=\"mr-2 h-4 w-4\" />\r\n            <span>Mi Perfil</span>\r\n          </Link>\r\n        </DropdownMenuItem>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        {/* Cerrar Sesión */}\r\n        <DropdownMenuItem \r\n          onClick={handleLogout}\r\n          className=\"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer\"\r\n        >\r\n          <LogOut className=\"mr-2 h-4 w-4\" />\r\n          <span>Cerrar Sesión</span>\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n/**\r\n * Componente de botón de login para usuarios no autenticados\r\n * Mantiene el estilo consistente con el header\r\n */\r\nexport function LoginButton() {\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      asChild\r\n      className=\"relative bg-white/20 hover:bg-white/30 backdrop-blur-sm border-2 border-white/30 hover:border-white/50 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95 p-2\"\r\n    >\r\n      <Link href=\"/api/auth/signin\" className=\"flex items-center justify-center\">\r\n        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n          <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n          <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n          <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n          <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n        </svg>\r\n      </Link>\r\n    </Button>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}