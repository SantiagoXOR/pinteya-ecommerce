12801745d24583482c080fbb2c392a5d
/**
 * useCategoryData Hook
 * Manages category data fetching, caching, and state
 * Pinteya E-commerce - Enterprise-ready implementation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get clearCategoryCache () {
        return clearCategoryCache;
    },
    get /**
 * Default export for convenience
 */ default () {
        return _default;
    },
    get preloadCategoryImages () {
        return preloadCategoryImages;
    },
    get useCategoryData () {
        return useCategoryData;
    }
});
const _react = require("react");
/**
 * In-memory cache for category data
 */ const categoryCache = new Map();
/**
 * Default categories data (fallback) - ELIMINADO
 * DATOS HARDCODEADOS ELIMINADOS - Ahora usa solo API real de Supabase
 * Las categorías se obtienen dinámicamente desde /api/categories
 */ const DEFAULT_CATEGORIES = [];
const useCategoryData = (options = {})=>{
    const { autoFetch = true, cacheDuration = 5 * 60 * 1000, enableBackgroundRefresh = true, refreshInterval = 30 * 60 * 1000, maxCategories = 20, enableAnalytics = true, fallbackCategories = [], apiEndpoint = '/api/categories' } = options;
    const [categories, setCategories] = (0, _react.useState)(fallbackCategories);
    const [loading, setLoading] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    /**
   * Generate cache key based on options
   */ const cacheKey = (0, _react.useMemo)(()=>{
        return `categories_${maxCategories}_${apiEndpoint}`;
    }, [
        maxCategories,
        apiEndpoint
    ]);
    /**
   * Check if cached data is valid
   */ const isCacheValid = (0, _react.useCallback)((cache)=>{
        return Date.now() < cache.expiresAt;
    }, []);
    /**
   * Get data from cache if valid
   */ const getCachedData = (0, _react.useCallback)(()=>{
        const cached = categoryCache.get(cacheKey);
        if (cached && isCacheValid(cached)) {
            return cached.data;
        }
        return null;
    }, [
        cacheKey,
        isCacheValid
    ]);
    /**
   * Store data in cache
   */ const setCachedData = (0, _react.useCallback)((data)=>{
        const now = Date.now();
        categoryCache.set(cacheKey, {
            data,
            timestamp: now,
            expiresAt: now + cacheDuration
        });
    }, [
        cacheKey,
        cacheDuration
    ]);
    /**
   * Track analytics event
   */ const trackAnalytics = (0, _react.useCallback)((event, data)=>{
        if (!enableAnalytics) {
            return;
        }
        if (typeof window !== 'undefined' && window.gtag) {
            window.gtag('event', 'category_data', {
                event_category: 'data',
                event_label: event,
                custom_parameters: data
            });
        }
        if (process.env.NODE_ENV === 'development') {}
    }, [
        enableAnalytics
    ]);
    /**
   * Fetch categories from API
   */ const fetchCategories = (0, _react.useCallback)(async ()=>{
        try {
            const response = await fetch(apiEndpoint);
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            const result = await response.json();
            // Handle different API response formats
            let categoriesData;
            if (Array.isArray(result)) {
                categoriesData = result;
            } else if (result.data && Array.isArray(result.data)) {
                categoriesData = result.data;
            } else if (result.categories && Array.isArray(result.categories)) {
                categoriesData = result.categories;
            } else {
                throw new Error('Invalid API response format');
            }
            // Validate and transform data
            const validCategories = categoriesData.filter((cat)=>typeof cat === 'object' && cat !== null && (typeof cat.id === 'string' || typeof cat.id === 'number') && typeof cat.name === 'string').slice(0, maxCategories).map((cat)=>({
                    id: cat.slug || cat.id.toString(),
                    name: cat.name,
                    icon: cat.image_url || (cat.icon ? cat.icon : '/images/categories/placeholder.png'),
                    description: cat.description || `Productos de ${cat.name.toLowerCase()}`,
                    isAvailable: cat.isAvailable ?? true,
                    // Keep additional API fields for compatibility
                    products_count: cat.products_count || 0,
                    slug: cat.slug,
                    parent_id: cat.parent_id,
                    image_url: cat.image_url,
                    created_at: cat.created_at,
                    updated_at: cat.updated_at
                }));
            trackAnalytics('fetch_success', {
                count: validCategories.length
            });
            return validCategories;
        } catch (error) {
            const errorMessage = error instanceof Error ? error.message : 'Unknown error';
            trackAnalytics('fetch_error', {
                error: errorMessage
            });
            throw new Error(`Failed to fetch categories: ${errorMessage}`);
        }
    }, [
        apiEndpoint,
        maxCategories,
        trackAnalytics
    ]);
    /**
   * Refresh categories data
   */ const refresh = (0, _react.useCallback)(async ()=>{
        setLoading(true);
        setError(null);
        try {
            // Check cache first
            const cachedData = getCachedData();
            if (cachedData && !enableBackgroundRefresh) {
                setCategories(cachedData);
                setLoading(false);
                return;
            }
            // Fetch fresh data
            const freshData = await fetchCategories();
            // Update state and cache
            setCategories(freshData);
            setCachedData(freshData);
            setError(null);
        } catch (error) {
            const errorMessage = error instanceof Error ? error.message : 'Failed to load categories';
            setError(errorMessage);
            // Use cached data as fallback if available
            const cachedData = getCachedData();
            if (cachedData) {
                setCategories(cachedData);
            } else {
                setCategories(fallbackCategories);
            }
            console.error('Category data error:', error);
        } finally{
            setLoading(false);
        }
    }, [
        getCachedData,
        enableBackgroundRefresh,
        fetchCategories,
        setCachedData,
        fallbackCategories
    ]);
    /**
   * Get category by ID
   */ const getCategoryById = (0, _react.useCallback)((id)=>{
        return categories.find((cat)=>cat.id === id);
    }, [
        categories
    ]);
    /**
   * Initial data load
   */ (0, _react.useEffect)(()=>{
        if (autoFetch) {
            refresh();
        }
    }, [
        autoFetch
    ]); // Removed refresh dependency to prevent infinite loop
    /**
   * Background refresh interval
   */ (0, _react.useEffect)(()=>{
        if (!enableBackgroundRefresh || refreshInterval <= 0) {
            return;
        }
        const interval = setInterval(()=>{
            refresh();
        }, refreshInterval);
        return ()=>clearInterval(interval);
    }, [
        enableBackgroundRefresh,
        refreshInterval
    ]); // Removed refresh dependency to prevent infinite loop
    /**
   * Memoized return object for performance
   */ const returnValue = (0, _react.useMemo)(()=>({
            categories,
            loading,
            error,
            refresh,
            getCategoryById
        }), [
        categories,
        loading,
        error,
        refresh,
        getCategoryById
    ]);
    return returnValue;
};
const preloadCategoryImages = (categories)=>{
    if (typeof window === 'undefined') {
        return;
    }
    categories.forEach((category)=>{
        if (category && category.icon) {
            const img = new Image();
            img.src = category.icon;
        }
    });
};
const clearCategoryCache = ()=>{
    categoryCache.clear();
};
const _default = useCategoryData;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXHVzZUNhdGVnb3J5RGF0YS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHVzZUNhdGVnb3J5RGF0YSBIb29rXG4gKiBNYW5hZ2VzIGNhdGVnb3J5IGRhdGEgZmV0Y2hpbmcsIGNhY2hpbmcsIGFuZCBzdGF0ZVxuICogUGludGV5YSBFLWNvbW1lcmNlIC0gRW50ZXJwcmlzZS1yZWFkeSBpbXBsZW1lbnRhdGlvblxuICovXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgdHlwZSB7IENhdGVnb3J5LCBVc2VDYXRlZ29yeURhdGFSZXR1cm4gfSBmcm9tICdAL3R5cGVzL2NhdGVnb3JpZXMnXG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgY2F0ZWdvcnkgZGF0YSBob29rXG4gKi9cbmludGVyZmFjZSBVc2VDYXRlZ29yeURhdGFPcHRpb25zIHtcbiAgLyoqIFdoZXRoZXIgdG8gZmV0Y2ggZGF0YSBpbW1lZGlhdGVseSBvbiBtb3VudCAqL1xuICBhdXRvRmV0Y2g/OiBib29sZWFuXG4gIC8qKiBDYWNoZSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgKi9cbiAgY2FjaGVEdXJhdGlvbj86IG51bWJlclxuICAvKiogV2hldGhlciB0byBlbmFibGUgYmFja2dyb3VuZCByZWZyZXNoICovXG4gIGVuYWJsZUJhY2tncm91bmRSZWZyZXNoPzogYm9vbGVhblxuICAvKiogUmVmcmVzaCBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgKi9cbiAgcmVmcmVzaEludGVydmFsPzogbnVtYmVyXG4gIC8qKiBNYXhpbXVtIG51bWJlciBvZiBjYXRlZ29yaWVzIHRvIGZldGNoICovXG4gIG1heENhdGVnb3JpZXM/OiBudW1iZXJcbiAgLyoqIFdoZXRoZXIgdG8gZW5hYmxlIGFuYWx5dGljcyB0cmFja2luZyAqL1xuICBlbmFibGVBbmFseXRpY3M/OiBib29sZWFuXG4gIC8qKiBGYWxsYmFjayBjYXRlZ29yaWVzIGlmIEFQSSBmYWlscyAqL1xuICBmYWxsYmFja0NhdGVnb3JpZXM/OiBDYXRlZ29yeVtdXG4gIC8qKiBBUEkgZW5kcG9pbnQgZm9yIGNhdGVnb3JpZXMgKi9cbiAgYXBpRW5kcG9pbnQ/OiBzdHJpbmdcbn1cblxuLyoqXG4gKiBDYWNoZSBpbnRlcmZhY2UgZm9yIHN0b3JpbmcgY2F0ZWdvcnkgZGF0YVxuICovXG5pbnRlcmZhY2UgQ2F0ZWdvcnlDYWNoZSB7XG4gIGRhdGE6IENhdGVnb3J5W11cbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgZXhwaXJlc0F0OiBudW1iZXJcbn1cblxuLyoqXG4gKiBJbi1tZW1vcnkgY2FjaGUgZm9yIGNhdGVnb3J5IGRhdGFcbiAqL1xuY29uc3QgY2F0ZWdvcnlDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBDYXRlZ29yeUNhY2hlPigpXG5cbi8qKlxuICogRGVmYXVsdCBjYXRlZ29yaWVzIGRhdGEgKGZhbGxiYWNrKSAtIEVMSU1JTkFET1xuICogREFUT1MgSEFSRENPREVBRE9TIEVMSU1JTkFET1MgLSBBaG9yYSB1c2Egc29sbyBBUEkgcmVhbCBkZSBTdXBhYmFzZVxuICogTGFzIGNhdGVnb3LDrWFzIHNlIG9idGllbmVuIGRpbsOhbWljYW1lbnRlIGRlc2RlIC9hcGkvY2F0ZWdvcmllc1xuICovXG5jb25zdCBERUZBVUxUX0NBVEVHT1JJRVM6IENhdGVnb3J5W10gPSBbXVxuXG4vKipcbiAqIEN1c3RvbSBob29rIGZvciBtYW5hZ2luZyBjYXRlZ29yeSBkYXRhXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIERhdGEgZmV0Y2hpbmcgd2l0aCBjYWNoaW5nXG4gKiAtIEJhY2tncm91bmQgcmVmcmVzaFxuICogLSBFcnJvciBoYW5kbGluZyBhbmQgZmFsbGJhY2tzXG4gKiAtIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvblxuICogLSBBbmFseXRpY3MgdHJhY2tpbmdcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIENhdGVnb3J5IGRhdGEgc3RhdGUgYW5kIGFjdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNhdGVnb3J5RGF0YSA9IChvcHRpb25zOiBVc2VDYXRlZ29yeURhdGFPcHRpb25zID0ge30pOiBVc2VDYXRlZ29yeURhdGFSZXR1cm4gPT4ge1xuICBjb25zdCB7XG4gICAgYXV0b0ZldGNoID0gdHJ1ZSxcbiAgICBjYWNoZUR1cmF0aW9uID0gNSAqIDYwICogMTAwMCwgLy8gNSBtaW51dGVzXG4gICAgZW5hYmxlQmFja2dyb3VuZFJlZnJlc2ggPSB0cnVlLFxuICAgIHJlZnJlc2hJbnRlcnZhbCA9IDMwICogNjAgKiAxMDAwLCAvLyAzMCBtaW51dGVzXG4gICAgbWF4Q2F0ZWdvcmllcyA9IDIwLFxuICAgIGVuYWJsZUFuYWx5dGljcyA9IHRydWUsXG4gICAgZmFsbGJhY2tDYXRlZ29yaWVzID0gW10sIC8vIFNpbiBmYWxsYmFjayAtIHVzYXIgc29sbyBkYXRvcyBkZSBBUElcbiAgICBhcGlFbmRwb2ludCA9ICcvYXBpL2NhdGVnb3JpZXMnLFxuICB9ID0gb3B0aW9uc1xuXG4gIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlPENhdGVnb3J5W10+KGZhbGxiYWNrQ2F0ZWdvcmllcylcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAvKipcbiAgICogR2VuZXJhdGUgY2FjaGUga2V5IGJhc2VkIG9uIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0IGNhY2hlS2V5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGBjYXRlZ29yaWVzXyR7bWF4Q2F0ZWdvcmllc31fJHthcGlFbmRwb2ludH1gXG4gIH0sIFttYXhDYXRlZ29yaWVzLCBhcGlFbmRwb2ludF0pXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNhY2hlZCBkYXRhIGlzIHZhbGlkXG4gICAqL1xuICBjb25zdCBpc0NhY2hlVmFsaWQgPSB1c2VDYWxsYmFjaygoY2FjaGU6IENhdGVnb3J5Q2FjaGUpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSA8IGNhY2hlLmV4cGlyZXNBdFxuICB9LCBbXSlcblxuICAvKipcbiAgICogR2V0IGRhdGEgZnJvbSBjYWNoZSBpZiB2YWxpZFxuICAgKi9cbiAgY29uc3QgZ2V0Q2FjaGVkRGF0YSA9IHVzZUNhbGxiYWNrKCgpOiBDYXRlZ29yeVtdIHwgbnVsbCA9PiB7XG4gICAgY29uc3QgY2FjaGVkID0gY2F0ZWdvcnlDYWNoZS5nZXQoY2FjaGVLZXkpXG4gICAgaWYgKGNhY2hlZCAmJiBpc0NhY2hlVmFsaWQoY2FjaGVkKSkge1xuICAgICAgcmV0dXJuIGNhY2hlZC5kYXRhXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH0sIFtjYWNoZUtleSwgaXNDYWNoZVZhbGlkXSlcblxuICAvKipcbiAgICogU3RvcmUgZGF0YSBpbiBjYWNoZVxuICAgKi9cbiAgY29uc3Qgc2V0Q2FjaGVkRGF0YSA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhOiBDYXRlZ29yeVtdKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgICBjYXRlZ29yeUNhY2hlLnNldChjYWNoZUtleSwge1xuICAgICAgICBkYXRhLFxuICAgICAgICB0aW1lc3RhbXA6IG5vdyxcbiAgICAgICAgZXhwaXJlc0F0OiBub3cgKyBjYWNoZUR1cmF0aW9uLFxuICAgICAgfSlcbiAgICB9LFxuICAgIFtjYWNoZUtleSwgY2FjaGVEdXJhdGlvbl1cbiAgKVxuXG4gIC8qKlxuICAgKiBUcmFjayBhbmFseXRpY3MgZXZlbnRcbiAgICovXG4gIGNvbnN0IHRyYWNrQW5hbHl0aWNzID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IHtcbiAgICAgIGlmICghZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lmd0YWcpIHtcbiAgICAgICAgd2luZG93Lmd0YWcoJ2V2ZW50JywgJ2NhdGVnb3J5X2RhdGEnLCB7XG4gICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdkYXRhJyxcbiAgICAgICAgICBldmVudF9sYWJlbDogZXZlbnQsXG4gICAgICAgICAgY3VzdG9tX3BhcmFtZXRlcnM6IGRhdGEsXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgfVxuICAgIH0sXG4gICAgW2VuYWJsZUFuYWx5dGljc11cbiAgKVxuXG4gIC8qKlxuICAgKiBGZXRjaCBjYXRlZ29yaWVzIGZyb20gQVBJXG4gICAqL1xuICBjb25zdCBmZXRjaENhdGVnb3JpZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxDYXRlZ29yeVtdPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpRW5kcG9pbnQpXG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IEFQSSByZXNwb25zZSBmb3JtYXRzXG4gICAgICBsZXQgY2F0ZWdvcmllc0RhdGE6IENhdGVnb3J5W11cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgY2F0ZWdvcmllc0RhdGEgPSByZXN1bHRcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEgJiYgQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpIHtcbiAgICAgICAgY2F0ZWdvcmllc0RhdGEgPSByZXN1bHQuZGF0YVxuICAgICAgfSBlbHNlIGlmIChyZXN1bHQuY2F0ZWdvcmllcyAmJiBBcnJheS5pc0FycmF5KHJlc3VsdC5jYXRlZ29yaWVzKSkge1xuICAgICAgICBjYXRlZ29yaWVzRGF0YSA9IHJlc3VsdC5jYXRlZ29yaWVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQVBJIHJlc3BvbnNlIGZvcm1hdCcpXG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGFuZCB0cmFuc2Zvcm0gZGF0YVxuICAgICAgY29uc3QgdmFsaWRDYXRlZ29yaWVzID0gY2F0ZWdvcmllc0RhdGFcbiAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAoY2F0KTogY2F0IGlzIGFueSA9PlxuICAgICAgICAgICAgdHlwZW9mIGNhdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGNhdCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgKHR5cGVvZiBjYXQuaWQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjYXQuaWQgPT09ICdudW1iZXInKSAmJlxuICAgICAgICAgICAgdHlwZW9mIGNhdC5uYW1lID09PSAnc3RyaW5nJ1xuICAgICAgICApXG4gICAgICAgIC5zbGljZSgwLCBtYXhDYXRlZ29yaWVzKVxuICAgICAgICAubWFwKGNhdCA9PiAoe1xuICAgICAgICAgIGlkOiBjYXQuc2x1ZyB8fCBjYXQuaWQudG9TdHJpbmcoKSwgLy8gVXNlIHNsdWcgYXMgSUQsIGZhbGxiYWNrIHRvIHN0cmluZyBJRFxuICAgICAgICAgIG5hbWU6IGNhdC5uYW1lLFxuICAgICAgICAgIGljb246IGNhdC5pbWFnZV91cmwgfHwgKGNhdC5pY29uID8gY2F0Lmljb24gOiAnL2ltYWdlcy9jYXRlZ29yaWVzL3BsYWNlaG9sZGVyLnBuZycpLCAvLyBTYWZlIGFjY2VzcyB0byBpY29uIHByb3BlcnR5XG4gICAgICAgICAgZGVzY3JpcHRpb246IGNhdC5kZXNjcmlwdGlvbiB8fCBgUHJvZHVjdG9zIGRlICR7Y2F0Lm5hbWUudG9Mb3dlckNhc2UoKX1gLCAvLyBHZW5lcmF0ZSBkZXNjcmlwdGlvbiBpZiBtaXNzaW5nXG4gICAgICAgICAgaXNBdmFpbGFibGU6IGNhdC5pc0F2YWlsYWJsZSA/PyB0cnVlLFxuICAgICAgICAgIC8vIEtlZXAgYWRkaXRpb25hbCBBUEkgZmllbGRzIGZvciBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgcHJvZHVjdHNfY291bnQ6IGNhdC5wcm9kdWN0c19jb3VudCB8fCAwLFxuICAgICAgICAgIHNsdWc6IGNhdC5zbHVnLFxuICAgICAgICAgIHBhcmVudF9pZDogY2F0LnBhcmVudF9pZCxcbiAgICAgICAgICBpbWFnZV91cmw6IGNhdC5pbWFnZV91cmwsXG4gICAgICAgICAgY3JlYXRlZF9hdDogY2F0LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgdXBkYXRlZF9hdDogY2F0LnVwZGF0ZWRfYXQsXG4gICAgICAgIH0pKVxuXG4gICAgICB0cmFja0FuYWx5dGljcygnZmV0Y2hfc3VjY2VzcycsIHsgY291bnQ6IHZhbGlkQ2F0ZWdvcmllcy5sZW5ndGggfSlcbiAgICAgIHJldHVybiB2YWxpZENhdGVnb3JpZXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIHRyYWNrQW5hbHl0aWNzKCdmZXRjaF9lcnJvcicsIHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggY2F0ZWdvcmllczogJHtlcnJvck1lc3NhZ2V9YClcbiAgICB9XG4gIH0sIFthcGlFbmRwb2ludCwgbWF4Q2F0ZWdvcmllcywgdHJhY2tBbmFseXRpY3NdKVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIGNhdGVnb3JpZXMgZGF0YVxuICAgKi9cbiAgY29uc3QgcmVmcmVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgc2V0RXJyb3IobnVsbClcblxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICAgICAgY29uc3QgY2FjaGVkRGF0YSA9IGdldENhY2hlZERhdGEoKVxuICAgICAgaWYgKGNhY2hlZERhdGEgJiYgIWVuYWJsZUJhY2tncm91bmRSZWZyZXNoKSB7XG4gICAgICAgIHNldENhdGVnb3JpZXMoY2FjaGVkRGF0YSlcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGZyZXNoIGRhdGFcbiAgICAgIGNvbnN0IGZyZXNoRGF0YSA9IGF3YWl0IGZldGNoQ2F0ZWdvcmllcygpXG5cbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBhbmQgY2FjaGVcbiAgICAgIHNldENhdGVnb3JpZXMoZnJlc2hEYXRhKVxuICAgICAgc2V0Q2FjaGVkRGF0YShmcmVzaERhdGEpXG4gICAgICBzZXRFcnJvcihudWxsKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gbG9hZCBjYXRlZ29yaWVzJ1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuXG4gICAgICAvLyBVc2UgY2FjaGVkIGRhdGEgYXMgZmFsbGJhY2sgaWYgYXZhaWxhYmxlXG4gICAgICBjb25zdCBjYWNoZWREYXRhID0gZ2V0Q2FjaGVkRGF0YSgpXG4gICAgICBpZiAoY2FjaGVkRGF0YSkge1xuICAgICAgICBzZXRDYXRlZ29yaWVzKGNhY2hlZERhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDYXRlZ29yaWVzKGZhbGxiYWNrQ2F0ZWdvcmllcylcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5lcnJvcignQ2F0ZWdvcnkgZGF0YSBlcnJvcjonLCBlcnJvcilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtnZXRDYWNoZWREYXRhLCBlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCwgZmV0Y2hDYXRlZ29yaWVzLCBzZXRDYWNoZWREYXRhLCBmYWxsYmFja0NhdGVnb3JpZXNdKVxuXG4gIC8qKlxuICAgKiBHZXQgY2F0ZWdvcnkgYnkgSURcbiAgICovXG4gIGNvbnN0IGdldENhdGVnb3J5QnlJZCA9IHVzZUNhbGxiYWNrKFxuICAgIChpZDogc3RyaW5nKTogQ2F0ZWdvcnkgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgcmV0dXJuIGNhdGVnb3JpZXMuZmluZChjYXQgPT4gY2F0LmlkID09PSBpZClcbiAgICB9LFxuICAgIFtjYXRlZ29yaWVzXVxuICApXG5cbiAgLyoqXG4gICAqIEluaXRpYWwgZGF0YSBsb2FkXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRvRmV0Y2gpIHtcbiAgICAgIHJlZnJlc2goKVxuICAgIH1cbiAgfSwgW2F1dG9GZXRjaF0pIC8vIFJlbW92ZWQgcmVmcmVzaCBkZXBlbmRlbmN5IHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcFxuXG4gIC8qKlxuICAgKiBCYWNrZ3JvdW5kIHJlZnJlc2ggaW50ZXJ2YWxcbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlbmFibGVCYWNrZ3JvdW5kUmVmcmVzaCB8fCByZWZyZXNoSW50ZXJ2YWwgPD0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICByZWZyZXNoKClcbiAgICB9LCByZWZyZXNoSW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcbiAgfSwgW2VuYWJsZUJhY2tncm91bmRSZWZyZXNoLCByZWZyZXNoSW50ZXJ2YWxdKSAvLyBSZW1vdmVkIHJlZnJlc2ggZGVwZW5kZW5jeSB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BcblxuICAvKipcbiAgICogTWVtb2l6ZWQgcmV0dXJuIG9iamVjdCBmb3IgcGVyZm9ybWFuY2VcbiAgICovXG4gIGNvbnN0IHJldHVyblZhbHVlID0gdXNlTWVtbyhcbiAgICAoKTogVXNlQ2F0ZWdvcnlEYXRhUmV0dXJuID0+ICh7XG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgbG9hZGluZyxcbiAgICAgIGVycm9yLFxuICAgICAgcmVmcmVzaCxcbiAgICAgIGdldENhdGVnb3J5QnlJZCxcbiAgICB9KSxcbiAgICBbY2F0ZWdvcmllcywgbG9hZGluZywgZXJyb3IsIHJlZnJlc2gsIGdldENhdGVnb3J5QnlJZF1cbiAgKVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZVxufVxuXG4vKipcbiAqIFV0aWxpdHkgdG8gcHJlbG9hZCBjYXRlZ29yeSBpbWFnZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHByZWxvYWRDYXRlZ29yeUltYWdlcyA9IChjYXRlZ29yaWVzOiBDYXRlZ29yeVtdKTogdm9pZCA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICBpZiAoY2F0ZWdvcnkgJiYgY2F0ZWdvcnkuaWNvbikge1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKClcbiAgICAgIGltZy5zcmMgPSBjYXRlZ29yeS5pY29uXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIFV0aWxpdHkgdG8gY2xlYXIgY2F0ZWdvcnkgY2FjaGVcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFyQ2F0ZWdvcnlDYWNoZSA9ICgpOiB2b2lkID0+IHtcbiAgY2F0ZWdvcnlDYWNoZS5jbGVhcigpXG59XG5cbi8qKlxuICogRGVmYXVsdCBleHBvcnQgZm9yIGNvbnZlbmllbmNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHVzZUNhdGVnb3J5RGF0YVxuIl0sIm5hbWVzIjpbImNsZWFyQ2F0ZWdvcnlDYWNoZSIsInByZWxvYWRDYXRlZ29yeUltYWdlcyIsInVzZUNhdGVnb3J5RGF0YSIsImNhdGVnb3J5Q2FjaGUiLCJNYXAiLCJERUZBVUxUX0NBVEVHT1JJRVMiLCJvcHRpb25zIiwiYXV0b0ZldGNoIiwiY2FjaGVEdXJhdGlvbiIsImVuYWJsZUJhY2tncm91bmRSZWZyZXNoIiwicmVmcmVzaEludGVydmFsIiwibWF4Q2F0ZWdvcmllcyIsImVuYWJsZUFuYWx5dGljcyIsImZhbGxiYWNrQ2F0ZWdvcmllcyIsImFwaUVuZHBvaW50IiwiY2F0ZWdvcmllcyIsInNldENhdGVnb3JpZXMiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNhY2hlS2V5IiwidXNlTWVtbyIsImlzQ2FjaGVWYWxpZCIsInVzZUNhbGxiYWNrIiwiY2FjaGUiLCJEYXRlIiwibm93IiwiZXhwaXJlc0F0IiwiZ2V0Q2FjaGVkRGF0YSIsImNhY2hlZCIsImdldCIsImRhdGEiLCJzZXRDYWNoZWREYXRhIiwic2V0IiwidGltZXN0YW1wIiwidHJhY2tBbmFseXRpY3MiLCJldmVudCIsIndpbmRvdyIsImd0YWciLCJldmVudF9jYXRlZ29yeSIsImV2ZW50X2xhYmVsIiwiY3VzdG9tX3BhcmFtZXRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJmZXRjaENhdGVnb3JpZXMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJyZXN1bHQiLCJqc29uIiwiY2F0ZWdvcmllc0RhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWxpZENhdGVnb3JpZXMiLCJmaWx0ZXIiLCJjYXQiLCJpZCIsIm5hbWUiLCJzbGljZSIsIm1hcCIsInNsdWciLCJ0b1N0cmluZyIsImljb24iLCJpbWFnZV91cmwiLCJkZXNjcmlwdGlvbiIsInRvTG93ZXJDYXNlIiwiaXNBdmFpbGFibGUiLCJwcm9kdWN0c19jb3VudCIsInBhcmVudF9pZCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiY291bnQiLCJsZW5ndGgiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwicmVmcmVzaCIsImNhY2hlZERhdGEiLCJmcmVzaERhdGEiLCJjb25zb2xlIiwiZ2V0Q2F0ZWdvcnlCeUlkIiwiZmluZCIsInVzZUVmZmVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicmV0dXJuVmFsdWUiLCJmb3JFYWNoIiwiY2F0ZWdvcnkiLCJpbWciLCJJbWFnZSIsInNyYyIsImNsZWFyIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztRQXNUWUE7ZUFBQUE7O1FBSWI7O0NBRUMsR0FDRDtlQUFBOztRQXZCYUM7ZUFBQUE7O1FBek9BQztlQUFBQTs7O3VCQTNENkM7QUFrQzFEOztDQUVDLEdBQ0QsTUFBTUMsZ0JBQWdCLElBQUlDO0FBRTFCOzs7O0NBSUMsR0FDRCxNQUFNQyxxQkFBaUMsRUFBRTtBQWVsQyxNQUFNSCxrQkFBa0IsQ0FBQ0ksVUFBa0MsQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sRUFDSkMsWUFBWSxJQUFJLEVBQ2hCQyxnQkFBZ0IsSUFBSSxLQUFLLElBQUksRUFDN0JDLDBCQUEwQixJQUFJLEVBQzlCQyxrQkFBa0IsS0FBSyxLQUFLLElBQUksRUFDaENDLGdCQUFnQixFQUFFLEVBQ2xCQyxrQkFBa0IsSUFBSSxFQUN0QkMscUJBQXFCLEVBQUUsRUFDdkJDLGNBQWMsaUJBQWlCLEVBQ2hDLEdBQUdSO0lBRUosTUFBTSxDQUFDUyxZQUFZQyxjQUFjLEdBQUdDLElBQUFBLGVBQVEsRUFBYUo7SUFDekQsTUFBTSxDQUFDSyxT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