0be49f1dbd569128d912af686afe2663
// =====================================================
// HOOK: LOGISTICS DASHBOARD ENTERPRISE
// Descripción: Hook para dashboard de logística con métricas tiempo real
// Basado en: Patrones WooCommerce Activity Panels + TanStack Query
// =====================================================
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useCarrierPerformance () {
        return useCarrierPerformance;
    },
    get useLogisticsAlerts () {
        return useLogisticsAlerts;
    },
    get useLogisticsDashboard () {
        return useLogisticsDashboard;
    },
    get useLogisticsRealTimeMetrics () {
        return useLogisticsRealTimeMetrics;
    }
});
const _reactquery = require("@tanstack/react-query");
const _react = require("react");
// =====================================================
// CONFIGURACIÓN DE QUERY
// =====================================================
const QUERY_KEY = [
    'admin',
    'logistics',
    'dashboard'
];
const REFETCH_INTERVAL = 30000 // 30 segundos
;
const STALE_TIME = 20000 // 20 segundos
;
// =====================================================
// FUNCIÓN DE FETCH
// =====================================================
async function fetchLogisticsDashboard() {
    const response = await fetch('/api/admin/logistics/dashboard', {
        method: 'GET',
        headers: {
            'Content-Type': 'application/json'
        },
        cache: 'no-store'
    });
    if (!response.ok) {
        const errorData = await response.json().catch(()=>({}));
        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);
    }
    const data = await response.json();
    return data.data;
}
function useLogisticsDashboard(options) {
    const queryClient = (0, _reactquery.useQueryClient)();
    const [isRefreshing, setIsRefreshing] = (0, _react.useState)(false);
    const { data, isLoading, error, refetch: queryRefetch, isRefetching } = (0, _reactquery.useQuery)({
        queryKey: QUERY_KEY,
        queryFn: fetchLogisticsDashboard,
        enabled: options?.enabled ?? true,
        refetchInterval: options?.refetchInterval ?? REFETCH_INTERVAL,
        staleTime: STALE_TIME,
        retry: 3,
        retryDelay: (attemptIndex)=>Math.min(1000 * 2 ** attemptIndex, 30000),
        onError: options?.onError
    });
    // =====================================================
    // FUNCIONES AUXILIARES
    // =====================================================
    const refetch = (0, _react.useCallback)(async ()=>{
        setIsRefreshing(true);
        try {
            await queryRefetch();
        } finally{
            setIsRefreshing(false);
        }
    }, [
        queryRefetch
    ]);
    const invalidateCache = (0, _react.useCallback)(()=>{
        queryClient.invalidateQueries({
            queryKey: QUERY_KEY
        });
    }, [
        queryClient
    ]);
    const updateCache = (0, _react.useCallback)((updater)=>{
        queryClient.setQueryData(QUERY_KEY, updater);
    }, [
        queryClient
    ]);
    // =====================================================
    // MÉTRICAS DERIVADAS
    // =====================================================
    const derivedMetrics = data ? {
        // Tasa de envíos activos
        active_shipments_rate: data.stats.total_shipments > 0 ? (data.stats.in_transit_shipments + data.stats.pending_shipments) / data.stats.total_shipments * 100 : 0,
        // Tasa de excepciones
        exception_rate: data.stats.total_shipments > 0 ? data.stats.exception_shipments / data.stats.total_shipments * 100 : 0,
        // Costo promedio por envío
        average_shipping_cost: data.stats.total_shipments > 0 ? data.stats.total_shipping_cost / data.stats.total_shipments : 0,
        // Tendencia de envíos (últimos 7 días vs anteriores)
        shipments_trend: data.performance_metrics.length >= 14 ? (()=>{
            const last7Days = data.performance_metrics.slice(-7);
            const previous7Days = data.performance_metrics.slice(-14, -7);
            const last7Total = last7Days.reduce((acc, day)=>acc + day.shipments_count, 0);
            const previous7Total = previous7Days.reduce((acc, day)=>acc + day.shipments_count, 0);
            return previous7Total > 0 ? (last7Total - previous7Total) / previous7Total * 100 : 0;
        })() : 0,
        // Mejor courier por performance
        best_performing_courier: data.carrier_performance.length > 0 ? data.carrier_performance.reduce((best, current)=>current.on_time_rate > best.on_time_rate ? current : best) : null
    } : null;
    // =====================================================
    // ALERTAS CRÍTICAS
    // =====================================================
    const criticalAlerts = data?.alerts.filter((alert)=>alert.type === 'error') || [];
    const warningAlerts = data?.alerts.filter((alert)=>alert.type === 'warning') || [];
    // =====================================================
    // ESTADO DE SALUD DEL SISTEMA
    // =====================================================
    const systemHealth = data ? {
        status: (()=>{
            if (criticalAlerts.length > 0) {
                return 'critical';
            }
            if (warningAlerts.length > 3) {
                return 'warning';
            }
            if (data.stats.on_time_delivery_rate < 80) {
                return 'warning';
            }
            return 'healthy';
        })(),
        score: Math.round(data.stats.on_time_delivery_rate * 0.4 + (100 - (derivedMetrics?.exception_rate || 0)) * 0.3 + (data.stats.active_couriers > 0 ? 20 : 0) + (criticalAlerts.length === 0 ? 10 : 0))
    } : null;
    return {
        // Datos principales
        data,
        isLoading: isLoading || isRefreshing,
        error: error,
        refetch,
        // Estados adicionales
        isRefetching: isRefetching || isRefreshing,
        // Funciones de cache
        invalidateCache,
        updateCache,
        // Métricas derivadas
        derivedMetrics,
        // Alertas categorizadas
        criticalAlerts,
        warningAlerts,
        // Estado de salud
        systemHealth
    };
}
function useLogisticsRealTimeMetrics() {
    const { data, refetch } = useLogisticsDashboard({
        refetchInterval: 10000
    });
    return {
        metrics: data?.stats,
        recentShipments: data?.recent_shipments,
        alerts: data?.alerts,
        refetch
    };
}
function useCarrierPerformance() {
    const { data } = useLogisticsDashboard();
    const sortedCarriers = data?.carrier_performance.sort((a, b)=>b.on_time_rate - a.on_time_rate) || [];
    const topPerformer = sortedCarriers[0];
    const worstPerformer = sortedCarriers[sortedCarriers.length - 1];
    return {
        carriers: sortedCarriers,
        topPerformer,
        worstPerformer,
        averageOnTimeRate: sortedCarriers.length > 0 ? sortedCarriers.reduce((acc, carrier)=>acc + carrier.on_time_rate, 0) / sortedCarriers.length : 0
    };
}
function useLogisticsAlerts() {
    const { data, refetch } = useLogisticsDashboard();
    const unreadAlerts = data?.alerts.filter((alert)=>!alert.is_read) || [];
    const criticalCount = unreadAlerts.filter((alert)=>alert.type === 'error').length;
    const warningCount = unreadAlerts.filter((alert)=>alert.type === 'warning').length;
    return {
        alerts: data?.alerts || [],
        unreadAlerts,
        criticalCount,
        warningCount,
        totalUnread: unreadAlerts.length,
        refetch
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXGFkbWluXFx1c2VMb2dpc3RpY3NEYXNoYm9hcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhPT0s6IExPR0lTVElDUyBEQVNIQk9BUkQgRU5URVJQUklTRVxuLy8gRGVzY3JpcGNpw7NuOiBIb29rIHBhcmEgZGFzaGJvYXJkIGRlIGxvZ8Otc3RpY2EgY29uIG3DqXRyaWNhcyB0aWVtcG8gcmVhbFxuLy8gQmFzYWRvIGVuOiBQYXRyb25lcyBXb29Db21tZXJjZSBBY3Rpdml0eSBQYW5lbHMgKyBUYW5TdGFjayBRdWVyeVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVF1ZXJ5LCB1c2VRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSdcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTG9naXN0aWNzRGFzaGJvYXJkUmVzcG9uc2UsIFVzZUxvZ2lzdGljc0Rhc2hib2FyZFJldHVybiB9IGZyb20gJ0AvdHlwZXMvbG9naXN0aWNzJ1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ09ORklHVVJBQ0nDk04gREUgUVVFUllcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IFFVRVJZX0tFWSA9IFsnYWRtaW4nLCAnbG9naXN0aWNzJywgJ2Rhc2hib2FyZCddXG5jb25zdCBSRUZFVENIX0lOVEVSVkFMID0gMzAwMDAgLy8gMzAgc2VndW5kb3NcbmNvbnN0IFNUQUxFX1RJTUUgPSAyMDAwMCAvLyAyMCBzZWd1bmRvc1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRlVOQ0nDk04gREUgRkVUQ0hcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTG9naXN0aWNzRGFzaGJvYXJkKCk6IFByb21pc2U8TG9naXN0aWNzRGFzaGJvYXJkUmVzcG9uc2VbJ2RhdGEnXT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL2xvZ2lzdGljcy9kYXNoYm9hcmQnLCB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgY2FjaGU6ICduby1zdG9yZScsXG4gIH0pXG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKVxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YClcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgcmV0dXJuIGRhdGEuZGF0YVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSE9PSyBQUklOQ0lQQUxcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb2dpc3RpY3NEYXNoYm9hcmQob3B0aW9ucz86IHtcbiAgZW5hYmxlZD86IGJvb2xlYW5cbiAgcmVmZXRjaEludGVydmFsPzogbnVtYmVyXG4gIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkXG59KTogVXNlTG9naXN0aWNzRGFzaGJvYXJkUmV0dXJuIHtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpXG4gIGNvbnN0IFtpc1JlZnJlc2hpbmcsIHNldElzUmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgcmVmZXRjaDogcXVlcnlSZWZldGNoLFxuICAgIGlzUmVmZXRjaGluZyxcbiAgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogUVVFUllfS0VZLFxuICAgIHF1ZXJ5Rm46IGZldGNoTG9naXN0aWNzRGFzaGJvYXJkLFxuICAgIGVuYWJsZWQ6IG9wdGlvbnM/LmVuYWJsZWQgPz8gdHJ1ZSxcbiAgICByZWZldGNoSW50ZXJ2YWw6IG9wdGlvbnM/LnJlZmV0Y2hJbnRlcnZhbCA/PyBSRUZFVENIX0lOVEVSVkFMLFxuICAgIHN0YWxlVGltZTogU1RBTEVfVElNRSxcbiAgICByZXRyeTogMyxcbiAgICByZXRyeURlbGF5OiBhdHRlbXB0SW5kZXggPT4gTWF0aC5taW4oMTAwMCAqIDIgKiogYXR0ZW1wdEluZGV4LCAzMDAwMCksXG4gICAgb25FcnJvcjogb3B0aW9ucz8ub25FcnJvcixcbiAgfSlcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBGVU5DSU9ORVMgQVVYSUxJQVJFU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHJlZmV0Y2ggPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNSZWZyZXNoaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHF1ZXJ5UmVmZXRjaCgpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUmVmcmVzaGluZyhmYWxzZSlcbiAgICB9XG4gIH0sIFtxdWVyeVJlZmV0Y2hdKVxuXG4gIGNvbnN0IGludmFsaWRhdGVDYWNoZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBRVUVSWV9LRVkgfSlcbiAgfSwgW3F1ZXJ5Q2xpZW50XSlcblxuICBjb25zdCB1cGRhdGVDYWNoZSA9IHVzZUNhbGxiYWNrKFxuICAgIChcbiAgICAgIHVwZGF0ZXI6IChcbiAgICAgICAgb2xkRGF0YTogTG9naXN0aWNzRGFzaGJvYXJkUmVzcG9uc2VbJ2RhdGEnXSB8IHVuZGVmaW5lZFxuICAgICAgKSA9PiBMb2dpc3RpY3NEYXNoYm9hcmRSZXNwb25zZVsnZGF0YSddXG4gICAgKSA9PiB7XG4gICAgICBxdWVyeUNsaWVudC5zZXRRdWVyeURhdGEoUVVFUllfS0VZLCB1cGRhdGVyKVxuICAgIH0sXG4gICAgW3F1ZXJ5Q2xpZW50XVxuICApXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTcOJVFJJQ0FTIERFUklWQURBU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IGRlcml2ZWRNZXRyaWNzID0gZGF0YVxuICAgID8ge1xuICAgICAgICAvLyBUYXNhIGRlIGVudsOtb3MgYWN0aXZvc1xuICAgICAgICBhY3RpdmVfc2hpcG1lbnRzX3JhdGU6XG4gICAgICAgICAgZGF0YS5zdGF0cy50b3RhbF9zaGlwbWVudHMgPiAwXG4gICAgICAgICAgICA/ICgoZGF0YS5zdGF0cy5pbl90cmFuc2l0X3NoaXBtZW50cyArIGRhdGEuc3RhdHMucGVuZGluZ19zaGlwbWVudHMpIC9cbiAgICAgICAgICAgICAgICBkYXRhLnN0YXRzLnRvdGFsX3NoaXBtZW50cykgKlxuICAgICAgICAgICAgICAxMDBcbiAgICAgICAgICAgIDogMCxcblxuICAgICAgICAvLyBUYXNhIGRlIGV4Y2VwY2lvbmVzXG4gICAgICAgIGV4Y2VwdGlvbl9yYXRlOlxuICAgICAgICAgIGRhdGEuc3RhdHMudG90YWxfc2hpcG1lbnRzID4gMFxuICAgICAgICAgICAgPyAoZGF0YS5zdGF0cy5leGNlcHRpb25fc2hpcG1lbnRzIC8gZGF0YS5zdGF0cy50b3RhbF9zaGlwbWVudHMpICogMTAwXG4gICAgICAgICAgICA6IDAsXG5cbiAgICAgICAgLy8gQ29zdG8gcHJvbWVkaW8gcG9yIGVudsOtb1xuICAgICAgICBhdmVyYWdlX3NoaXBwaW5nX2Nvc3Q6XG4gICAgICAgICAgZGF0YS5zdGF0cy50b3RhbF9zaGlwbWVudHMgPiAwXG4gICAgICAgICAgICA/IGRhdGEuc3RhdHMudG90YWxfc2hpcHBpbmdfY29zdCAvIGRhdGEuc3RhdHMudG90YWxfc2hpcG1lbnRzXG4gICAgICAgICAgICA6IDAsXG5cbiAgICAgICAgLy8gVGVuZGVuY2lhIGRlIGVudsOtb3MgKMO6bHRpbW9zIDcgZMOtYXMgdnMgYW50ZXJpb3JlcylcbiAgICAgICAgc2hpcG1lbnRzX3RyZW5kOlxuICAgICAgICAgIGRhdGEucGVyZm9ybWFuY2VfbWV0cmljcy5sZW5ndGggPj0gMTRcbiAgICAgICAgICAgID8gKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0N0RheXMgPSBkYXRhLnBlcmZvcm1hbmNlX21ldHJpY3Muc2xpY2UoLTcpXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXM3RGF5cyA9IGRhdGEucGVyZm9ybWFuY2VfbWV0cmljcy5zbGljZSgtMTQsIC03KVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdDdUb3RhbCA9IGxhc3Q3RGF5cy5yZWR1Y2UoKGFjYywgZGF5KSA9PiBhY2MgKyBkYXkuc2hpcG1lbnRzX2NvdW50LCAwKVxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzN1RvdGFsID0gcHJldmlvdXM3RGF5cy5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAoYWNjLCBkYXkpID0+IGFjYyArIGRheS5zaGlwbWVudHNfY291bnQsXG4gICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzN1RvdGFsID4gMFxuICAgICAgICAgICAgICAgICAgPyAoKGxhc3Q3VG90YWwgLSBwcmV2aW91czdUb3RhbCkgLyBwcmV2aW91czdUb3RhbCkgKiAxMDBcbiAgICAgICAgICAgICAgICAgIDogMFxuICAgICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICA6IDAsXG5cbiAgICAgICAgLy8gTWVqb3IgY291cmllciBwb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgYmVzdF9wZXJmb3JtaW5nX2NvdXJpZXI6XG4gICAgICAgICAgZGF0YS5jYXJyaWVyX3BlcmZvcm1hbmNlLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gZGF0YS5jYXJyaWVyX3BlcmZvcm1hbmNlLnJlZHVjZSgoYmVzdCwgY3VycmVudCkgPT5cbiAgICAgICAgICAgICAgICBjdXJyZW50Lm9uX3RpbWVfcmF0ZSA+IGJlc3Qub25fdGltZV9yYXRlID8gY3VycmVudCA6IGJlc3RcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgfVxuICAgIDogbnVsbFxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIEFMRVJUQVMgQ1LDjVRJQ0FTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3QgY3JpdGljYWxBbGVydHMgPSBkYXRhPy5hbGVydHMuZmlsdGVyKGFsZXJ0ID0+IGFsZXJ0LnR5cGUgPT09ICdlcnJvcicpIHx8IFtdXG4gIGNvbnN0IHdhcm5pbmdBbGVydHMgPSBkYXRhPy5hbGVydHMuZmlsdGVyKGFsZXJ0ID0+IGFsZXJ0LnR5cGUgPT09ICd3YXJuaW5nJykgfHwgW11cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBFU1RBRE8gREUgU0FMVUQgREVMIFNJU1RFTUFcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBjb25zdCBzeXN0ZW1IZWFsdGggPSBkYXRhXG4gICAgPyB7XG4gICAgICAgIHN0YXR1czogKCgpID0+IHtcbiAgICAgICAgICBpZiAoY3JpdGljYWxBbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdjcml0aWNhbCdcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdhcm5pbmdBbGVydHMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5zdGF0cy5vbl90aW1lX2RlbGl2ZXJ5X3JhdGUgPCA4MCkge1xuICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJ1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gJ2hlYWx0aHknXG4gICAgICAgIH0pKCksXG4gICAgICAgIHNjb3JlOiBNYXRoLnJvdW5kKFxuICAgICAgICAgIGRhdGEuc3RhdHMub25fdGltZV9kZWxpdmVyeV9yYXRlICogMC40ICtcbiAgICAgICAgICAgICgxMDAgLSAoZGVyaXZlZE1ldHJpY3M/LmV4Y2VwdGlvbl9yYXRlIHx8IDApKSAqIDAuMyArXG4gICAgICAgICAgICAoZGF0YS5zdGF0cy5hY3RpdmVfY291cmllcnMgPiAwID8gMjAgOiAwKSArXG4gICAgICAgICAgICAoY3JpdGljYWxBbGVydHMubGVuZ3RoID09PSAwID8gMTAgOiAwKVxuICAgICAgICApLFxuICAgICAgfVxuICAgIDogbnVsbFxuXG4gIHJldHVybiB7XG4gICAgLy8gRGF0b3MgcHJpbmNpcGFsZXNcbiAgICBkYXRhLFxuICAgIGlzTG9hZGluZzogaXNMb2FkaW5nIHx8IGlzUmVmcmVzaGluZyxcbiAgICBlcnJvcjogZXJyb3IgYXMgRXJyb3IgfCBudWxsLFxuICAgIHJlZmV0Y2gsXG5cbiAgICAvLyBFc3RhZG9zIGFkaWNpb25hbGVzXG4gICAgaXNSZWZldGNoaW5nOiBpc1JlZmV0Y2hpbmcgfHwgaXNSZWZyZXNoaW5nLFxuXG4gICAgLy8gRnVuY2lvbmVzIGRlIGNhY2hlXG4gICAgaW52YWxpZGF0ZUNhY2hlLFxuICAgIHVwZGF0ZUNhY2hlLFxuXG4gICAgLy8gTcOpdHJpY2FzIGRlcml2YWRhc1xuICAgIGRlcml2ZWRNZXRyaWNzLFxuXG4gICAgLy8gQWxlcnRhcyBjYXRlZ29yaXphZGFzXG4gICAgY3JpdGljYWxBbGVydHMsXG4gICAgd2FybmluZ0FsZXJ0cyxcblxuICAgIC8vIEVzdGFkbyBkZSBzYWx1ZFxuICAgIHN5c3RlbUhlYWx0aCxcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSE9PSyBQQVJBIE3DiVRSSUNBUyBFTiBUSUVNUE8gUkVBTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvZ2lzdGljc1JlYWxUaW1lTWV0cmljcygpIHtcbiAgY29uc3QgeyBkYXRhLCByZWZldGNoIH0gPSB1c2VMb2dpc3RpY3NEYXNoYm9hcmQoe1xuICAgIHJlZmV0Y2hJbnRlcnZhbDogMTAwMDAsIC8vIDEwIHNlZ3VuZG9zIHBhcmEgdGllbXBvIHJlYWxcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIG1ldHJpY3M6IGRhdGE/LnN0YXRzLFxuICAgIHJlY2VudFNoaXBtZW50czogZGF0YT8ucmVjZW50X3NoaXBtZW50cyxcbiAgICBhbGVydHM6IGRhdGE/LmFsZXJ0cyxcbiAgICByZWZldGNoLFxuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIT09LIFBBUkEgUEVSRk9STUFOQ0UgREUgQ09VUklFUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDYXJyaWVyUGVyZm9ybWFuY2UoKSB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gdXNlTG9naXN0aWNzRGFzaGJvYXJkKClcblxuICBjb25zdCBzb3J0ZWRDYXJyaWVycyA9XG4gICAgZGF0YT8uY2Fycmllcl9wZXJmb3JtYW5jZS5zb3J0KChhLCBiKSA9PiBiLm9uX3RpbWVfcmF0ZSAtIGEub25fdGltZV9yYXRlKSB8fCBbXVxuXG4gIGNvbnN0IHRvcFBlcmZvcm1lciA9IHNvcnRlZENhcnJpZXJzWzBdXG4gIGNvbnN0IHdvcnN0UGVyZm9ybWVyID0gc29ydGVkQ2FycmllcnNbc29ydGVkQ2FycmllcnMubGVuZ3RoIC0gMV1cblxuICByZXR1cm4ge1xuICAgIGNhcnJpZXJzOiBzb3J0ZWRDYXJyaWVycyxcbiAgICB0b3BQZXJmb3JtZXIsXG4gICAgd29yc3RQZXJmb3JtZXIsXG4gICAgYXZlcmFnZU9uVGltZVJhdGU6XG4gICAgICBzb3J0ZWRDYXJyaWVycy5sZW5ndGggPiAwXG4gICAgICAgID8gc29ydGVkQ2FycmllcnMucmVkdWNlKChhY2MsIGNhcnJpZXIpID0+IGFjYyArIGNhcnJpZXIub25fdGltZV9yYXRlLCAwKSAvXG4gICAgICAgICAgc29ydGVkQ2FycmllcnMubGVuZ3RoXG4gICAgICAgIDogMCxcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSE9PSyBQQVJBIEFMRVJUQVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb2dpc3RpY3NBbGVydHMoKSB7XG4gIGNvbnN0IHsgZGF0YSwgcmVmZXRjaCB9ID0gdXNlTG9naXN0aWNzRGFzaGJvYXJkKClcblxuICBjb25zdCB1bnJlYWRBbGVydHMgPSBkYXRhPy5hbGVydHMuZmlsdGVyKGFsZXJ0ID0+ICFhbGVydC5pc19yZWFkKSB8fCBbXVxuICBjb25zdCBjcml0aWNhbENvdW50ID0gdW5yZWFkQWxlcnRzLmZpbHRlcihhbGVydCA9PiBhbGVydC50eXBlID09PSAnZXJyb3InKS5sZW5ndGhcbiAgY29uc3Qgd2FybmluZ0NvdW50ID0gdW5yZWFkQWxlcnRzLmZpbHRlcihhbGVydCA9PiBhbGVydC50eXBlID09PSAnd2FybmluZycpLmxlbmd0aFxuXG4gIHJldHVybiB7XG4gICAgYWxlcnRzOiBkYXRhPy5hbGVydHMgfHwgW10sXG4gICAgdW5yZWFkQWxlcnRzLFxuICAgIGNyaXRpY2FsQ291bnQsXG4gICAgd2FybmluZ0NvdW50LFxuICAgIHRvdGFsVW5yZWFkOiB1bnJlYWRBbGVydHMubGVuZ3RoLFxuICAgIHJlZmV0Y2gsXG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRJUE9TIEVYVEVORElET1MgUEFSQSBFTCBIT09LXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxvZ2lzdGljc0Rhc2hib2FyZEV4dGVuZGVkUmV0dXJuIGV4dGVuZHMgVXNlTG9naXN0aWNzRGFzaGJvYXJkUmV0dXJuIHtcbiAgaXNSZWZldGNoaW5nOiBib29sZWFuXG4gIGludmFsaWRhdGVDYWNoZTogKCkgPT4gdm9pZFxuICB1cGRhdGVDYWNoZTogKFxuICAgIHVwZGF0ZXI6IChcbiAgICAgIG9sZERhdGE6IExvZ2lzdGljc0Rhc2hib2FyZFJlc3BvbnNlWydkYXRhJ10gfCB1bmRlZmluZWRcbiAgICApID0+IExvZ2lzdGljc0Rhc2hib2FyZFJlc3BvbnNlWydkYXRhJ11cbiAgKSA9PiB2b2lkXG4gIGRlcml2ZWRNZXRyaWNzOiB7XG4gICAgYWN0aXZlX3NoaXBtZW50c19yYXRlOiBudW1iZXJcbiAgICBleGNlcHRpb25fcmF0ZTogbnVtYmVyXG4gICAgYXZlcmFnZV9zaGlwcGluZ19jb3N0OiBudW1iZXJcbiAgICBzaGlwbWVudHNfdHJlbmQ6IG51bWJlclxuICAgIGJlc3RfcGVyZm9ybWluZ19jb3VyaWVyOiBhbnlcbiAgfSB8IG51bGxcbiAgY3JpdGljYWxBbGVydHM6IGFueVtdXG4gIHdhcm5pbmdBbGVydHM6IGFueVtdXG4gIHN5c3RlbUhlYWx0aDoge1xuICAgIHN0YXR1czogJ2hlYWx0aHknIHwgJ3dhcm5pbmcnIHwgJ2NyaXRpY2FsJ1xuICAgIHNjb3JlOiBudW1iZXJcbiAgfSB8IG51bGxcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYXJyaWVyUGVyZm9ybWFuY2UiLCJ1c2VMb2dpc3RpY3NBbGVydHMiLCJ1c2VMb2dpc3RpY3NEYXNoYm9hcmQiLCJ1c2VMb2dpc3RpY3NSZWFsVGltZU1ldHJpY3MiLCJRVUVSWV9LRVkiLCJSRUZFVENIX0lOVEVSVkFMIiwiU1RBTEVfVElNRSIsImZldGNoTG9naXN0aWNzRGFzaGJvYXJkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJjYWNoZSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJkYXRhIiwib3B0aW9ucyIsInF1ZXJ5Q2xpZW50IiwidXNlUXVlcnlDbGllbnQiLCJpc1JlZnJlc2hpbmciLCJzZXRJc1JlZnJlc2hpbmciLCJ1c2VTdGF0ZSIsImlzTG9hZGluZyIsInJlZmV0Y2giLCJxdWVyeVJlZmV0Y2giLCJpc1JlZmV0Y2hpbmciLCJ1c2VRdWVyeSIsInF1ZXJ5S2V5IiwicXVlcnlGbiIsImVuYWJsZWQiLCJyZWZldGNoSW50ZXJ2YWwiLCJzdGFsZVRpbWUiLCJyZXRyeSIsInJldHJ5RGVsYXkiLCJhdHRlbXB0SW5kZXgiLCJNYXRoIiwibWluIiwib25FcnJvciIsInVzZUNhbGxiYWNrIiwiaW52YWxpZGF0ZUNhY2hlIiwiaW52YWxpZGF0ZVF1ZXJpZXMiLCJ1cGRhdGVDYWNoZSIsInVwZGF0ZXIiLCJzZXRRdWVyeURhdGEiLCJkZXJpdmVkTWV0cmljcyIsImFjdGl2ZV9zaGlwbWVudHNfcmF0ZSIsInN0YXRzIiwidG90YWxfc2hpcG1lbnRzIiwiaW5fdHJhbnNpdF9zaGlwbWVudHMiLCJwZW5kaW5nX3NoaXBtZW50cyIsImV4Y2VwdGlvbl9yYXRlIiwiZXhjZXB0aW9uX3NoaXBtZW50cyIsImF2ZXJhZ2Vfc2hpcHBpbmdfY29zdCIsInRvdGFsX3NoaXBwaW5nX2Nvc3QiLCJzaGlwbWVudHNfdHJlbmQiLCJwZXJmb3JtYW5jZV9tZXRyaWNzIiwibGVuZ3RoIiwibGFzdDdEYXlzIiwic2xpY2UiLCJwcmV2aW91czdEYXlzIiwibGFzdDdUb3RhbCIsInJlZHVjZSIsImFjYyIsImRheSIsInNoaXBtZW50c19jb3VudCIsInByZXZpb3VzN1RvdGFsIiwiYmVzdF9wZXJmb3JtaW5nX2NvdXJpZXIiLCJjYXJyaWVyX3BlcmZvcm1hbmNlIiwiYmVzdCIsImN1cnJlbnQiLCJvbl90aW1lX3JhdGUiLCJjcml0aWNhbEFsZXJ0cyIsImFsZXJ0cyIsImZpbHRlciIsImFsZXJ0IiwidHlwZSIsIndhcm5pbmdBbGVydHMiLCJzeXN0ZW1IZWFsdGgiLCJvbl90aW1lX2RlbGl2ZXJ5X3JhdGUiLCJzY29yZSIsInJvdW5kIiwiYWN0aXZlX2NvdXJpZXJzIiwibWV0cmljcyIsInJlY2VudFNoaXBtZW50cyIsInJlY2VudF9zaGlwbWVudHMiLCJzb3J0ZWRDYXJyaWVycyIsInNvcnQiLCJhIiwiYiIsInRvcFBlcmZvcm1lciIsIndvcnN0UGVyZm9ybWVyIiwiY2FycmllcnMiLCJhdmVyYWdlT25UaW1lUmF0ZSIsImNhcnJpZXIiLCJ1bnJlYWRBbGVydHMiLCJpc19yZWFkIiwiY3JpdGljYWxDb3VudCIsIndhcm5pbmdDb3VudCIsInRvdGFsVW5yZWFkIl0sIm1hcHBpbmdzIjoiQUFBQSx3REFBd0Q7QUFDeEQsdUNBQXVDO0FBQ3ZDLHlFQUF5RTtBQUN6RSxtRUFBbUU7QUFDbkUsd0RBQXdEO0FBRXhEOzs7Ozs7Ozs7Ozs7UUFxT2dCQTtlQUFBQTs7UUF5QkFDO2VBQUFBOztRQXROQUM7ZUFBQUE7O1FBNEtBQztlQUFBQTs7OzRCQWxOeUI7dUJBQ0g7QUFHdEMsd0RBQXdEO0FBQ3hELHlCQUF5QjtBQUN6Qix3REFBd0Q7QUFFeEQsTUFBTUMsWUFBWTtJQUFDO0lBQVM7SUFBYTtDQUFZO0FBQ3JELE1BQU1DLG1CQUFtQixNQUFNLGNBQWM7O0FBQzdDLE1BQU1DLGFBQWEsTUFBTSxjQUFjOztBQUV2Qyx3REFBd0Q7QUFDeEQsbUJBQW1CO0FBQ25CLHdEQUF3RDtBQUV4RCxlQUFlQztJQUNiLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSxrQ0FBa0M7UUFDN0RDLFFBQVE7UUFDUkMsU0FBUztZQUNQLGdCQUFnQjtRQUNsQjtRQUNBQyxPQUFPO0lBQ1Q7SUFFQSxJQUFJLENBQUNKLFNBQVNLLEVBQUUsRUFBRTtRQUNoQixNQUFNQyxZQUFZLE1BQU1OLFNBQVNPLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU8sQ0FBQSxDQUFDLENBQUE7UUFDdEQsTUFBTSxJQUFJQyxNQUFNSCxVQUFVSSxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUVWLFNBQVNXLE1BQU0sQ0FBQyxFQUFFLEVBQUVYLFNBQVNZLFVBQVUsRUFBRTtJQUN0RjtJQUVBLE1BQU1DLE9BQU8sTUFBTWIsU0FBU08sSUFBSTtJQUNoQyxPQUFPTSxLQUFLQSxJQUFJO0FBQ2xCO0FBTU8sU0FBU25CLHNCQUFzQm9CLE9BSXJDO0lBQ0MsTUFBTUMsY0FBY0MsSUFBQUEsMEJBQWM7SUFDbEMsTUFB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