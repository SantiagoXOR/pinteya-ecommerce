17d36455a06afc8b3850e825d80047bc
// ===================================
// HOOK: useSearchOptimized - Sistema de b√∫squeda con TanStack Query
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get default () {
        return _default;
    },
    get useSearchOptimized () {
        return useSearchOptimized;
    }
});
const _react = require("react");
const _reactquery = require("@tanstack/react-query");
const _usedebounce = require("use-debounce");
const _products = require("../lib/api/products");
const _queryclient = require("../lib/query-client");
const _useSearchErrorHandler = require("./useSearchErrorHandler");
const _useSearchToast = require("./useSearchToast");
const _useSearchNavigation = require("./useSearchNavigation");
const _useTrendingSearches = require("./useTrendingSearches");
const _useRecentSearches = require("./useRecentSearches");
const _shop = require("../constants/shop");
function useSearchOptimized(options = {}) {
    const { debounceMs = 150, maxSuggestions = 6, searchLimit = 12, saveRecentSearches = true, enablePrefetch = true, onSearch, onSuggestionSelect } = options;
    // Estados locales
    const [query, setQuery] = (0, _react.useState)('');
    const [debouncedQuery, setDebouncedQuery] = (0, _react.useState)('');
    const [recentSearches, setRecentSearches] = (0, _react.useState)([]);
    const [hasSearched, setHasSearched] = (0, _react.useState)(false);
    // Hooks externos
    const queryClient = (0, _reactquery.useQueryClient)();
    const errorHandler = (0, _useSearchErrorHandler.useSearchErrorHandler)();
    const toastHandler = (0, _useSearchToast.useSearchToast)();
    const navigation = (0, _useSearchNavigation.useSearchNavigation)({
        scrollToTop: true,
        onBeforeNavigate: (url)=>console.log('üîç Navegando a:', url),
        onAfterNavigate: (url)=>console.log('‚úÖ Navegaci√≥n completada:', url)
    });
    // Hooks para trending y recent searches
    const { trendingSearches, trackSearch } = (0, _useTrendingSearches.useTrendingSearches)({
        limit: 4,
        enabled: true
    });
    // Debug para trending searches
    if (process.env.NODE_ENV === 'development') {
        console.log('üî• useSearchOptimized: Trending searches state:', {
            trendingSearches: trendingSearches?.length || 0,
            trendingSearchesData: trendingSearches?.map((t)=>({
                    id: t.id,
                    query: t.query
                })) || []
        });
    }
    const { recentSearches: recentSearchesList, addSearch: addRecentSearch, getRecentSearches } = (0, _useRecentSearches.useRecentSearches)({
        maxSearches: _shop.SEARCH_CONSTANTS.MAX_RECENT_SEARCHES,
        enablePersistence: saveRecentSearches,
        expirationDays: _shop.SEARCH_CONSTANTS.RECENT_SEARCHES_EXPIRATION_DAYS
    });
    // ===================================
    // DEBOUNCED QUERY UPDATE
    // ===================================
    const updateDebouncedQuery = (0, _usedebounce.useDebouncedCallback)((value)=>{
        setDebouncedQuery(value);
        // Analytics tracking
        if (value.trim() && process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_DEBUG_SEARCH === 'true') {
            console.log('üîç useSearchOptimized: Query enabled condition will be:', !!value?.trim());
        }
    }, debounceMs, {
        maxWait: 2000,
        leading: false,
        trailing: true
    });
    // ===================================
    // TANSTACK QUERY INTEGRATION
    // ===================================
    // Query principal para b√∫squedas
    const { data: searchResults, isLoading, error, isFetching, isStale, dataUpdatedAt } = (0, _reactquery.useQuery)({
        queryKey: _queryclient.searchQueryKeys.search(debouncedQuery),
        queryFn: async ({ queryKey, signal })=>{
            const [, , searchQuery] = queryKey;
            if (!searchQuery?.trim()) {
                return [];
            }
            try {
                // Usar la API de b√∫squeda correcta
                const url = `/api/search?q=${encodeURIComponent(searchQuery)}&limit=${maxSuggestions}`;
                const response = await fetch(url, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    signal
                });
                if (!response.ok) {
                    console.error('üîç useSearchOptimized: API response not ok:', response.status);
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                return data.products || [];
            } catch (error) {
                console.error('üîç useSearchOptimized: API call failed:', error);
                throw error;
            }
        },
        enabled: !!debouncedQuery?.trim() && debouncedQuery.length >= 2,
        ..._queryclient.searchQueryConfig
    });
    // ===================================
    // SUGGESTIONS GENERATION
    // ===================================
    if (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_DEBUG_SEARCH === 'true') {
        console.log('üîç useSearchOptimized: Current state before suggestions:', {
            query,
            debouncedQuery,
            searchResults: searchResults?.length || 0,
            isLoading,
            error: !!error
        });
    }
    const suggestions = (0, _react.useMemo)(()=>{
        const allSuggestions = [];
        const hasQuery = !!debouncedQuery?.trim();
        if (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_DEBUG_SEARCH === 'true') {
            console.log('üîç useSearchOptimized: query (current):', `"${query}"`);
            console.log('üîç useSearchOptimized: searchResults isArray:', Array.isArray(searchResults));
        }
        if (hasQuery) {
            // CUANDO HAY TEXTO: Priorizar productos SIEMPRE
            // Extraer productos de la respuesta de la API
            let products = [];
            // Si searchResults es un array directamente
            if (Array.isArray(searchResults)) {
                products = searchResults;
            } else if (searchResults && typeof searchResults === 'object' && Array.isArray(searchResults.data)) {
                products = searchResults.data;
            } else if (searchResults && typeof searchResults === 'object' && Array.isArray(searchResults.products)) {
                products = searchResults.products;
            }
            if (products.length > 0) {
                const productSuggestions = products.map((product)=>{
                    return {
                        id: product.id.toString(),
                        type: 'product',
                        title: product.name,
                        subtitle: product.category?.name,
                        image: product.images?.previews?.[0] || product.images?.thumbnails?.[0],
                        badge: product.stock > 0 ? 'En stock' : 'Sin stock',
                        href: `/products/${product.id}`
                    };
                });
                allSuggestions.push(...productSuggestions);
            } else {
                if (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_DEBUG_SEARCH === 'true') {
                    console.log('üîç useSearchOptimized: searchResults structure:', {
                        isArray: Array.isArray(searchResults),
                        hasData: searchResults?.data ? 'yes' : 'no',
                        hasProducts: searchResults?.products ? 'yes' : 'no',
                        dataLength: searchResults?.data?.length,
                        productsLength: searchResults?.products?.length,
                        keys: searchResults ? Object.keys(searchResults) : 'null'
                    });
                }
            }
            // Solo agregar recent/trending si hay muy pocos productos
            if (allSuggestions.length < 2) {
                const recentSuggestions = getRecentSearches(2).map((search, index)=>({
                        id: `recent-${index}`,
                        type: 'recent',
                        title: search,
                        href: `/shop?q=${encodeURIComponent(search)}`
                    }));
                allSuggestions.push(...recentSuggestions);
            }
        } else {
            // CUANDO NO HAY TEXTO: Mostrar trending y recent
            // Agregar b√∫squedas recientes primero
            const recentSuggestions = getRecentSearches(3).map((search, index)=>({
                    id: `recent-${index}`,
                    type: 'recent',
                    title: search,
                    href: `/shop?q=${encodeURIComponent(search)}`
                }));
            allSuggestions.push(...recentSuggestions);
            // Agregar trending searches
            if (allSuggestions.length < maxSuggestions) {
                const remainingSlots = maxSuggestions - allSuggestions.length;
                const trendingSuggestions = trendingSearches.slice(0, remainingSlots).map((trending)=>({
                        id: trending.id,
                        type: 'trending',
                        title: trending.query,
                        href: trending.href,
                        badge: trending.count ? `${trending.count}` : undefined
                    }));
                allSuggestions.push(...trendingSuggestions);
            }
        }
        const finalSuggestions = allSuggestions.slice(0, maxSuggestions);
        if (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_DEBUG_SEARCH === 'true') {
            console.log('üîç useSearchOptimized: Final suggestions types:', finalSuggestions.map((s)=>s.type));
            console.log('üîç useSearchOptimized: Final suggestions titles:', finalSuggestions.map((s)=>s.title));
        }
        return finalSuggestions;
    }, [
        debouncedQuery,
        searchResults,
        isLoading,
        error,
        maxSuggestions,
        trendingSearches
    ]);
    // ===================================
    // SEARCH FUNCTIONS
    // ===================================
    const searchWithDebounce = (0, _react.useCallback)((searchQuery)=>{
        setQuery(searchQuery);
        updateDebouncedQuery(searchQuery);
        // Prefetch si est√° habilitado y la query es v√°lida
        if (enablePrefetch && searchQuery.trim().length >= 1) {
            // Prefetch de datos de b√∫squeda
            queryClient.prefetchQuery({
                queryKey: _queryclient.searchQueryKeys.search(searchQuery),
                queryFn: ()=>(0, _products.searchProducts)(searchQuery, maxSuggestions),
                ..._queryclient.searchQueryConfig
            });
            // Prefetch de p√°gina de resultados
            navigation.prefetchSearch(searchQuery.trim());
        }
    }, [
        updateDebouncedQuery,
        enablePrefetch,
        queryClient,
        maxSuggestions,
        navigation
    ]);
    const executeSearch = (0, _react.useCallback)(async (searchQuery)=>{
        if (!searchQuery.trim()) {
            return;
        }
        try {
            setHasSearched(true);
            // Guardar en historial usando el hook
            if (saveRecentSearches) {
                addRecentSearch(searchQuery.trim());
            }
            // Registrar en trending searches
            trackSearch(searchQuery.trim()).catch(console.warn);
            // Navegar a p√°gina de resultados usando navegaci√≥n optimizada
            navigation.navigateToSearch(searchQuery.trim());
            // Callback externo
            if (onSearch && searchResults) {
                onSearch(searchQuery, searchResults);
            }
            toastHandler.showSuccessToast(searchQuery, searchResults?.length || 0);
        } catch (error) {
            console.error('‚ùå useSearchOptimized: Error en executeSearch:', error);
            errorHandler.handleError(error);
        }
    }, [
        saveRecentSearches,
        recentSearches,
        navigation,
        onSearch,
        searchResults,
        toastHandler,
        errorHandler
    ]);
    const selectSuggestion = (0, _react.useCallback)((suggestion)=>{
        // Navegar seg√∫n el tipo de sugerencia
        if (suggestion.type === 'product') {
            navigation.navigateToProduct(suggestion.id);
        } else {
            // Para b√∫squedas recientes o trending, navegar a b√∫squeda
            navigation.navigateToSearch(suggestion.title);
        }
        // Callback externo
        if (onSuggestionSelect) {
            onSuggestionSelect(suggestion);
        }
        toastHandler.showInfoToast(`${suggestion.type === 'product' ? 'Producto' : 'B√∫squeda'} seleccionado`, suggestion.title);
    }, [
        navigation,
        onSuggestionSelect,
        toastHandler
    ]);
    const clearSearch = (0, _react.useCallback)(()=>{
        setQuery('');
        setDebouncedQuery('');
        setHasSearched(false);
        // Limpiar cache de b√∫squedas si es necesario
        queryClient.removeQueries({
            queryKey: _queryclient.searchQueryKeys.searches()
        });
    }, [
        queryClient
    ]);
    // ===================================
    // LIFECYCLE
    // ===================================
    const initialize = (0, _react.useCallback)(()=>{
        // Cargar b√∫squedas recientes
        if (saveRecentSearches) {
            try {
                const saved = localStorage.getItem('pinteya-recent-searches');
                if (saved && saved.trim() !== '' && saved !== '""' && saved !== "''") {
                    // Validar que no est√© corrupto
                    if (saved.includes('""') && saved.length < 5) {
                        console.warn('Detected corrupted recent searches data, cleaning up');
                        localStorage.removeItem('pinteya-recent-searches');
                        return;
                    }
                    const parsed = JSON.parse(saved);
                    // Verificar que sea un array v√°lido
                    if (Array.isArray(parsed)) {
                        setRecentSearches(parsed);
                    } else {
                        console.warn('Invalid recent searches format, resetting');
                        localStorage.removeItem('pinteya-recent-searches');
                    }
                }
            } catch (error) {
                console.warn('Error cargando b√∫squedas recientes:', error);
                // Limpiar datos corruptos
                localStorage.removeItem('pinteya-recent-searches');
            }
        }
    }, [
        saveRecentSearches
    ]);
    const cleanup = (0, _react.useCallback)(()=>{
        // Limpiar debounce y cache si es necesario
        updateDebouncedQuery.cancel();
    }, [
        updateDebouncedQuery
    ]);
    // Inicializar al montar
    (0, _react.useEffect)(()=>{
        initialize();
        return cleanup;
    }, [
        initialize,
        cleanup
    ]);
    // ===================================
    // RETURN
    // ===================================
    return {
        // Estado de b√∫squeda
        query,
        results: searchResults || [],
        suggestions,
        isLoading,
        error: error?.message || null,
        hasSearched,
        recentSearches: recentSearchesList,
        trendingSearches,
        // Estados de TanStack Query
        isFetching,
        isStale,
        dataUpdatedAt,
        // Estado de errores y toasts
        searchError: errorHandler.currentError,
        isRetrying: errorHandler.isRetrying,
        retryCount: errorHandler.retryCount,
        toasts: toastHandler.toasts,
        // Funciones principales
        searchWithDebounce,
        executeSearch,
        selectSuggestion,
        clearSearch,
        initialize,
        cleanup,
        // Funciones de manejo de errores
        clearError: errorHandler.clearError,
        retryManually: errorHandler.retryManually,
        // Funciones de toast
        removeToast: toastHandler.removeToast,
        clearToasts: toastHandler.clearToasts,
        // Utilidades de cache
        invalidateSearch: (searchQuery)=>queryClient.invalidateQueries({
                queryKey: _queryclient.searchQueryKeys.search(searchQuery)
            }),
        prefetchSearch: (searchQuery)=>queryClient.prefetchQuery({
                queryKey: _queryclient.searchQueryKeys.search(searchQuery),
                queryFn: ()=>(0, _products.searchProducts)(searchQuery, maxSuggestions),
                ..._queryclient.searchQueryConfig
            }),
        // Funciones de navegaci√≥n optimizada
        navigateToSearch: navigation.navigateToSearch,
        navigateToProduct: navigation.navigateToProduct,
        navigateToCategory: navigation.navigateToCategory,
        prefetchSearchPage: navigation.prefetchSearch,
        prefetchProductPage: navigation.prefetchProduct,
        getCurrentSearchQuery: navigation.getCurrentSearchQuery,
        buildSearchUrl: navigation.buildSearchUrl
    };
}
const _default = useSearchOptimized;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXHVzZVNlYXJjaE9wdGltaXplZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSE9PSzogdXNlU2VhcmNoT3B0aW1pemVkIC0gU2lzdGVtYSBkZSBiw7pzcXVlZGEgY29uIFRhblN0YWNrIFF1ZXJ5XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlUXVlcnlDbGllbnQgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknXG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRDYWxsYmFjayB9IGZyb20gJ3VzZS1kZWJvdW5jZSdcbmltcG9ydCB7IHNlYXJjaFByb2R1Y3RzIH0gZnJvbSAnQC9saWIvYXBpL3Byb2R1Y3RzJ1xuaW1wb3J0IHsgUHJvZHVjdFdpdGhDYXRlZ29yeSB9IGZyb20gJ0AvdHlwZXMvYXBpJ1xuaW1wb3J0IHsgc2VhcmNoUXVlcnlLZXlzLCBzZWFyY2hRdWVyeUNvbmZpZyB9IGZyb20gJ0AvbGliL3F1ZXJ5LWNsaWVudCdcbmltcG9ydCB7IHVzZVNlYXJjaEVycm9ySGFuZGxlciB9IGZyb20gJy4vdXNlU2VhcmNoRXJyb3JIYW5kbGVyJ1xuaW1wb3J0IHsgdXNlU2VhcmNoVG9hc3QgfSBmcm9tICcuL3VzZVNlYXJjaFRvYXN0J1xuaW1wb3J0IHsgdXNlU2VhcmNoTmF2aWdhdGlvbiB9IGZyb20gJy4vdXNlU2VhcmNoTmF2aWdhdGlvbidcbmltcG9ydCB7IHVzZVRyZW5kaW5nU2VhcmNoZXMgfSBmcm9tICcuL3VzZVRyZW5kaW5nU2VhcmNoZXMnXG5pbXBvcnQgeyB1c2VSZWNlbnRTZWFyY2hlcyB9IGZyb20gJy4vdXNlUmVjZW50U2VhcmNoZXMnXG5pbXBvcnQgeyBTRUFSQ0hfQ09OU1RBTlRTIH0gZnJvbSAnQC9jb25zdGFudHMvc2hvcCdcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRJUE9TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaFN1Z2dlc3Rpb24ge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6ICdwcm9kdWN0JyB8ICdjYXRlZ29yeScgfCAncmVjZW50JyB8ICd0cmVuZGluZydcbiAgdGl0bGU6IHN0cmluZ1xuICBzdWJ0aXRsZT86IHN0cmluZ1xuICBpbWFnZT86IHN0cmluZ1xuICBiYWRnZT86IHN0cmluZ1xuICBocmVmOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VTZWFyY2hPcHRpbWl6ZWRPcHRpb25zIHtcbiAgLyoqIFRpZW1wbyBkZSBkZWJvdW5jZSBlbiBtaWxpc2VndW5kb3MgKi9cbiAgZGVib3VuY2VNcz86IG51bWJlclxuICAvKiogTsO6bWVybyBtw6F4aW1vIGRlIHN1Z2VyZW5jaWFzICovXG4gIG1heFN1Z2dlc3Rpb25zPzogbnVtYmVyXG4gIC8qKiBMw61taXRlIGRlIHJlc3VsdGFkb3MgZGUgYsO6c3F1ZWRhICovXG4gIHNlYXJjaExpbWl0PzogbnVtYmVyXG4gIC8qKiBHdWFyZGFyIGLDunNxdWVkYXMgcmVjaWVudGVzICovXG4gIHNhdmVSZWNlbnRTZWFyY2hlcz86IGJvb2xlYW5cbiAgLyoqIEhhYmlsaXRhciBwcmVmZXRjaCBkZSBzdWdlcmVuY2lhcyAqL1xuICBlbmFibGVQcmVmZXRjaD86IGJvb2xlYW5cbiAgLyoqIENhbGxiYWNrIGN1YW5kbyBzZSByZWFsaXphIHVuYSBiw7pzcXVlZGEgKi9cbiAgb25TZWFyY2g/OiAocXVlcnk6IHN0cmluZywgcmVzdWx0czogUHJvZHVjdFdpdGhDYXRlZ29yeVtdKSA9PiB2b2lkXG4gIC8qKiBDYWxsYmFjayBjdWFuZG8gc2Ugc2VsZWNjaW9uYSB1bmEgc3VnZXJlbmNpYSAqL1xuICBvblN1Z2dlc3Rpb25TZWxlY3Q/OiAoc3VnZ2VzdGlvbjogU2VhcmNoU3VnZ2VzdGlvbikgPT4gdm9pZFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSE9PSyBQUklOQ0lQQUxcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZWFyY2hPcHRpbWl6ZWQob3B0aW9uczogVXNlU2VhcmNoT3B0aW1pemVkT3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWJvdW5jZU1zID0gMTUwLFxuICAgIG1heFN1Z2dlc3Rpb25zID0gNixcbiAgICBzZWFyY2hMaW1pdCA9IDEyLFxuICAgIHNhdmVSZWNlbnRTZWFyY2hlcyA9IHRydWUsXG4gICAgZW5hYmxlUHJlZmV0Y2ggPSB0cnVlLFxuICAgIG9uU2VhcmNoLFxuICAgIG9uU3VnZ2VzdGlvblNlbGVjdCxcbiAgfSA9IG9wdGlvbnNcblxuICAvLyBFc3RhZG9zIGxvY2FsZXNcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2RlYm91bmNlZFF1ZXJ5LCBzZXREZWJvdW5jZWRRdWVyeV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW3JlY2VudFNlYXJjaGVzLCBzZXRSZWNlbnRTZWFyY2hlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pXG4gIGNvbnN0IFtoYXNTZWFyY2hlZCwgc2V0SGFzU2VhcmNoZWRdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgLy8gSG9va3MgZXh0ZXJub3NcbiAgY29uc3QgcXVlcnlDbGllbnQgPSB1c2VRdWVyeUNsaWVudCgpXG4gIGNvbnN0IGVycm9ySGFuZGxlciA9IHVzZVNlYXJjaEVycm9ySGFuZGxlcigpXG4gIGNvbnN0IHRvYXN0SGFuZGxlciA9IHVzZVNlYXJjaFRvYXN0KClcbiAgY29uc3QgbmF2aWdhdGlvbiA9IHVzZVNlYXJjaE5hdmlnYXRpb24oe1xuICAgIHNjcm9sbFRvVG9wOiB0cnVlLFxuICAgIG9uQmVmb3JlTmF2aWdhdGU6IHVybCA9PiBjb25zb2xlLmxvZygn8J+UjSBOYXZlZ2FuZG8gYTonLCB1cmwpLFxuICAgIG9uQWZ0ZXJOYXZpZ2F0ZTogdXJsID0+IGNvbnNvbGUubG9nKCfinIUgTmF2ZWdhY2nDs24gY29tcGxldGFkYTonLCB1cmwpLFxuICB9KVxuXG4gIC8vIEhvb2tzIHBhcmEgdHJlbmRpbmcgeSByZWNlbnQgc2VhcmNoZXNcbiAgY29uc3QgeyB0cmVuZGluZ1NlYXJjaGVzLCB0cmFja1NlYXJjaCB9ID0gdXNlVHJlbmRpbmdTZWFyY2hlcyh7XG4gICAgbGltaXQ6IDQsXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgfSlcblxuICAvLyBEZWJ1ZyBwYXJhIHRyZW5kaW5nIHNlYXJjaGVzXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgIGNvbnNvbGUubG9nKCfwn5SlIHVzZVNlYXJjaE9wdGltaXplZDogVHJlbmRpbmcgc2VhcmNoZXMgc3RhdGU6Jywge1xuICAgICAgdHJlbmRpbmdTZWFyY2hlczogdHJlbmRpbmdTZWFyY2hlcz8ubGVuZ3RoIHx8IDAsXG4gICAgICB0cmVuZGluZ1NlYXJjaGVzRGF0YTogdHJlbmRpbmdTZWFyY2hlcz8ubWFwKHQgPT4gKHsgaWQ6IHQuaWQsIHF1ZXJ5OiB0LnF1ZXJ5IH0pKSB8fCBbXSxcbiAgICB9KVxuICB9XG5cbiAgY29uc3Qge1xuICAgIHJlY2VudFNlYXJjaGVzOiByZWNlbnRTZWFyY2hlc0xpc3QsXG4gICAgYWRkU2VhcmNoOiBhZGRSZWNlbnRTZWFyY2gsXG4gICAgZ2V0UmVjZW50U2VhcmNoZXMsXG4gIH0gPSB1c2VSZWNlbnRTZWFyY2hlcyh7XG4gICAgbWF4U2VhcmNoZXM6IFNFQVJDSF9DT05TVEFOVFMuTUFYX1JFQ0VOVF9TRUFSQ0hFUyxcbiAgICBlbmFibGVQZXJzaXN0ZW5jZTogc2F2ZVJlY2VudFNlYXJjaGVzLFxuICAgIGV4cGlyYXRpb25EYXlzOiBTRUFSQ0hfQ09OU1RBTlRTLlJFQ0VOVF9TRUFSQ0hFU19FWFBJUkFUSU9OX0RBWVMsXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gREVCT1VOQ0VEIFFVRVJZIFVQREFURVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHVwZGF0ZURlYm91bmNlZFF1ZXJ5ID0gdXNlRGVib3VuY2VkQ2FsbGJhY2soXG4gICAgKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldERlYm91bmNlZFF1ZXJ5KHZhbHVlKVxuXG4gICAgICAvLyBBbmFseXRpY3MgdHJhY2tpbmdcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUudHJpbSgpICYmXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0RFQlVHX1NFQVJDSCA9PT0gJ3RydWUnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gdXNlU2VhcmNoT3B0aW1pemVkOiBRdWVyeSBlbmFibGVkIGNvbmRpdGlvbiB3aWxsIGJlOicsICEhdmFsdWU/LnRyaW0oKSlcbiAgICAgIH1cbiAgICB9LFxuICAgIGRlYm91bmNlTXMsXG4gICAge1xuICAgICAgbWF4V2FpdDogMjAwMCxcbiAgICAgIGxlYWRpbmc6IGZhbHNlLFxuICAgICAgdHJhaWxpbmc6IHRydWUsXG4gICAgfVxuICApXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEFOU1RBQ0sgUVVFUlkgSU5URUdSQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvLyBRdWVyeSBwcmluY2lwYWwgcGFyYSBiw7pzcXVlZGFzXG4gIGNvbnN0IHtcbiAgICBkYXRhOiBzZWFyY2hSZXN1bHRzLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBpc0ZldGNoaW5nLFxuICAgIGlzU3RhbGUsXG4gICAgZGF0YVVwZGF0ZWRBdCxcbiAgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogc2VhcmNoUXVlcnlLZXlzLnNlYXJjaChkZWJvdW5jZWRRdWVyeSksXG4gICAgcXVlcnlGbjogYXN5bmMgKHsgcXVlcnlLZXksIHNpZ25hbCB9KSA9PiB7XG4gICAgICBjb25zdCBbLCAsIHNlYXJjaFF1ZXJ5XSA9IHF1ZXJ5S2V5XG4gICAgICBpZiAoIXNlYXJjaFF1ZXJ5Py50cmltKCkpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVzYXIgbGEgQVBJIGRlIGLDunNxdWVkYSBjb3JyZWN0YVxuICAgICAgICBjb25zdCB1cmwgPSBgL2FwaS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2hRdWVyeSl9JmxpbWl0PSR7bWF4U3VnZ2VzdGlvbnN9YFxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2lnbmFsLCAvLyBVc2FyIEFib3J0Q29udHJvbGxlclxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SNIHVzZVNlYXJjaE9wdGltaXplZDogQVBJIHJlc3BvbnNlIG5vdCBvazonLCByZXNwb25zZS5zdGF0dXMpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgICAgcmV0dXJuIGRhdGEucHJvZHVjdHMgfHwgW11cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflI0gdXNlU2VhcmNoT3B0aW1pemVkOiBBUEkgY2FsbCBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgfSxcbiAgICBlbmFibGVkOiAhIWRlYm91bmNlZFF1ZXJ5Py50cmltKCkgJiYgZGVib3VuY2VkUXVlcnkubGVuZ3RoID49IDIsXG4gICAgLi4uc2VhcmNoUXVlcnlDb25maWcsXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1VHR0VTVElPTlMgR0VORVJBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ERUJVR19TRUFSQ0ggPT09ICd0cnVlJykge1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIHVzZVNlYXJjaE9wdGltaXplZDogQ3VycmVudCBzdGF0ZSBiZWZvcmUgc3VnZ2VzdGlvbnM6Jywge1xuICAgICAgcXVlcnksXG4gICAgICBkZWJvdW5jZWRRdWVyeSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IHNlYXJjaFJlc3VsdHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgaXNMb2FkaW5nLFxuICAgICAgZXJyb3I6ICEhZXJyb3IsXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHN1Z2dlc3Rpb25zOiBTZWFyY2hTdWdnZXN0aW9uW10gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBhbGxTdWdnZXN0aW9uczogU2VhcmNoU3VnZ2VzdGlvbltdID0gW11cbiAgICBjb25zdCBoYXNRdWVyeSA9ICEhZGVib3VuY2VkUXVlcnk/LnRyaW0oKVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0RFQlVHX1NFQVJDSCA9PT0gJ3RydWUnKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSB1c2VTZWFyY2hPcHRpbWl6ZWQ6IHF1ZXJ5IChjdXJyZW50KTonLCBgXCIke3F1ZXJ5fVwiYClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIHVzZVNlYXJjaE9wdGltaXplZDogc2VhcmNoUmVzdWx0cyBpc0FycmF5OicsIEFycmF5LmlzQXJyYXkoc2VhcmNoUmVzdWx0cykpXG4gICAgfVxuXG4gICAgaWYgKGhhc1F1ZXJ5KSB7XG4gICAgICAvLyBDVUFORE8gSEFZIFRFWFRPOiBQcmlvcml6YXIgcHJvZHVjdG9zIFNJRU1QUkVcblxuICAgICAgLy8gRXh0cmFlciBwcm9kdWN0b3MgZGUgbGEgcmVzcHVlc3RhIGRlIGxhIEFQSVxuICAgICAgbGV0IHByb2R1Y3RzID0gW11cblxuICAgICAgLy8gU2kgc2VhcmNoUmVzdWx0cyBlcyB1biBhcnJheSBkaXJlY3RhbWVudGVcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlYXJjaFJlc3VsdHMpKSB7XG4gICAgICAgIHByb2R1Y3RzID0gc2VhcmNoUmVzdWx0c1xuICAgICAgfVxuICAgICAgLy8gU2kgc2VhcmNoUmVzdWx0cyBlcyB1biBvYmpldG8gY29uIHByb3BpZWRhZCBkYXRhIChyZXNwdWVzdGEgZGUgQVBJKVxuICAgICAgZWxzZSBpZiAoXG4gICAgICAgIHNlYXJjaFJlc3VsdHMgJiZcbiAgICAgICAgdHlwZW9mIHNlYXJjaFJlc3VsdHMgPT09ICdvYmplY3QnICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoc2VhcmNoUmVzdWx0cy5kYXRhKVxuICAgICAgKSB7XG4gICAgICAgIHByb2R1Y3RzID0gc2VhcmNoUmVzdWx0cy5kYXRhXG4gICAgICB9XG4gICAgICAvLyBTaSBzZWFyY2hSZXN1bHRzIGVzIHVuIG9iamV0byBjb24gcHJvcGllZGFkIHByb2R1Y3RzXG4gICAgICBlbHNlIGlmIChcbiAgICAgICAgc2VhcmNoUmVzdWx0cyAmJlxuICAgICAgICB0eXBlb2Ygc2VhcmNoUmVzdWx0cyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShzZWFyY2hSZXN1bHRzLnByb2R1Y3RzKVxuICAgICAgKSB7XG4gICAgICAgIHByb2R1Y3RzID0gc2VhcmNoUmVzdWx0cy5wcm9kdWN0c1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvZHVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwcm9kdWN0U3VnZ2VzdGlvbnMgPSBwcm9kdWN0cy5tYXAoKHByb2R1Y3Q6IFByb2R1Y3RXaXRoQ2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHR5cGU6ICdwcm9kdWN0JyBhcyBjb25zdCxcbiAgICAgICAgICAgIHRpdGxlOiBwcm9kdWN0Lm5hbWUsXG4gICAgICAgICAgICBzdWJ0aXRsZTogcHJvZHVjdC5jYXRlZ29yeT8ubmFtZSxcbiAgICAgICAgICAgIGltYWdlOiBwcm9kdWN0LmltYWdlcz8ucHJldmlld3M/LlswXSB8fCBwcm9kdWN0LmltYWdlcz8udGh1bWJuYWlscz8uWzBdLFxuICAgICAgICAgICAgYmFkZ2U6IHByb2R1Y3Quc3RvY2sgPiAwID8gJ0VuIHN0b2NrJyA6ICdTaW4gc3RvY2snLFxuICAgICAgICAgICAgaHJlZjogYC9wcm9kdWN0cy8ke3Byb2R1Y3QuaWR9YCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGFsbFN1Z2dlc3Rpb25zLnB1c2goLi4ucHJvZHVjdFN1Z2dlc3Rpb25zKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREVCVUdfU0VBUkNIID09PSAndHJ1ZSdcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gdXNlU2VhcmNoT3B0aW1pemVkOiBzZWFyY2hSZXN1bHRzIHN0cnVjdHVyZTonLCB7XG4gICAgICAgICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5KHNlYXJjaFJlc3VsdHMpLFxuICAgICAgICAgICAgaGFzRGF0YTogc2VhcmNoUmVzdWx0cz8uZGF0YSA/ICd5ZXMnIDogJ25vJyxcbiAgICAgICAgICAgIGhhc1Byb2R1Y3RzOiBzZWFyY2hSZXN1bHRzPy5wcm9kdWN0cyA/ICd5ZXMnIDogJ25vJyxcbiAgICAgICAgICAgIGRhdGFMZW5ndGg6IHNlYXJjaFJlc3VsdHM/LmRhdGE/Lmxlbmd0aCxcbiAgICAgICAgICAgIHByb2R1Y3RzTGVuZ3RoOiBzZWFyY2hSZXN1bHRzPy5wcm9kdWN0cz8ubGVuZ3RoLFxuICAgICAgICAgICAga2V5czogc2VhcmNoUmVzdWx0cyA/IE9iamVjdC5rZXlzKHNlYXJjaFJlc3VsdHMpIDogJ251bGwnLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU29sbyBhZ3JlZ2FyIHJlY2VudC90cmVuZGluZyBzaSBoYXkgbXV5IHBvY29zIHByb2R1Y3Rvc1xuICAgICAgaWYgKGFsbFN1Z2dlc3Rpb25zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgY29uc3QgcmVjZW50U3VnZ2VzdGlvbnMgPSBnZXRSZWNlbnRTZWFyY2hlcygyKS5tYXAoKHNlYXJjaCwgaW5kZXgpID0+ICh7XG4gICAgICAgICAgaWQ6IGByZWNlbnQtJHtpbmRleH1gLFxuICAgICAgICAgIHR5cGU6ICdyZWNlbnQnIGFzIGNvbnN0LFxuICAgICAgICAgIHRpdGxlOiBzZWFyY2gsXG4gICAgICAgICAgaHJlZjogYC9zaG9wP3E9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoKX1gLFxuICAgICAgICB9KSlcbiAgICAgICAgYWxsU3VnZ2VzdGlvbnMucHVzaCguLi5yZWNlbnRTdWdnZXN0aW9ucylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ1VBTkRPIE5PIEhBWSBURVhUTzogTW9zdHJhciB0cmVuZGluZyB5IHJlY2VudFxuXG4gICAgICAvLyBBZ3JlZ2FyIGLDunNxdWVkYXMgcmVjaWVudGVzIHByaW1lcm9cbiAgICAgIGNvbnN0IHJlY2VudFN1Z2dlc3Rpb25zID0gZ2V0UmVjZW50U2VhcmNoZXMoMykubWFwKChzZWFyY2gsIGluZGV4KSA9PiAoe1xuICAgICAgICBpZDogYHJlY2VudC0ke2luZGV4fWAsXG4gICAgICAgIHR5cGU6ICdyZWNlbnQnIGFzIGNvbnN0LFxuICAgICAgICB0aXRsZTogc2VhcmNoLFxuICAgICAgICBocmVmOiBgL3Nob3A/cT0ke2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2gpfWAsXG4gICAgICB9KSlcbiAgICAgIGFsbFN1Z2dlc3Rpb25zLnB1c2goLi4ucmVjZW50U3VnZ2VzdGlvbnMpXG5cbiAgICAgIC8vIEFncmVnYXIgdHJlbmRpbmcgc2VhcmNoZXNcbiAgICAgIGlmIChhbGxTdWdnZXN0aW9ucy5sZW5ndGggPCBtYXhTdWdnZXN0aW9ucykge1xuICAgICAgICBjb25zdCByZW1haW5pbmdTbG90cyA9IG1heFN1Z2dlc3Rpb25zIC0gYWxsU3VnZ2VzdGlvbnMubGVuZ3RoXG4gICAgICAgIGNvbnN0IHRyZW5kaW5nU3VnZ2VzdGlvbnMgPSB0cmVuZGluZ1NlYXJjaGVzLnNsaWNlKDAsIHJlbWFpbmluZ1Nsb3RzKS5tYXAodHJlbmRpbmcgPT4gKHtcbiAgICAgICAgICBpZDogdHJlbmRpbmcuaWQsXG4gICAgICAgICAgdHlwZTogJ3RyZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICB0aXRsZTogdHJlbmRpbmcucXVlcnksXG4gICAgICAgICAgaHJlZjogdHJlbmRpbmcuaHJlZixcbiAgICAgICAgICBiYWRnZTogdHJlbmRpbmcuY291bnQgPyBgJHt0cmVuZGluZy5jb3VudH1gIDogdW5kZWZpbmVkLFxuICAgICAgICB9KSlcbiAgICAgICAgYWxsU3VnZ2VzdGlvbnMucHVzaCguLi50cmVuZGluZ1N1Z2dlc3Rpb25zKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsU3VnZ2VzdGlvbnMgPSBhbGxTdWdnZXN0aW9ucy5zbGljZSgwLCBtYXhTdWdnZXN0aW9ucylcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREVCVUdfU0VBUkNIID09PSAndHJ1ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAn8J+UjSB1c2VTZWFyY2hPcHRpbWl6ZWQ6IEZpbmFsIHN1Z2dlc3Rpb25zIHR5cGVzOicsXG4gICAgICAgIGZpbmFsU3VnZ2VzdGlvbnMubWFwKHMgPT4gcy50eXBlKVxuICAgICAgKVxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICfwn5SNIHVzZVNlYXJjaE9wdGltaXplZDogRmluYWwgc3VnZ2VzdGlvbnMgdGl0bGVzOicsXG4gICAgICAgIGZpbmFsU3VnZ2VzdGlvbnMubWFwKHMgPT4gcy50aXRsZSlcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gZmluYWxTdWdnZXN0aW9uc1xuICB9LCBbZGVib3VuY2VkUXVlcnksIHNlYXJjaFJlc3VsdHMsIGlzTG9hZGluZywgZXJyb3IsIG1heFN1Z2dlc3Rpb25zLCB0cmVuZGluZ1NlYXJjaGVzXSlcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBTRUFSQ0ggRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3Qgc2VhcmNoV2l0aERlYm91bmNlID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlYXJjaFF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFF1ZXJ5KHNlYXJjaFF1ZXJ5KVxuICAgICAgdXBkYXRlRGVib3VuY2VkUXVlcnkoc2VhcmNoUXVlcnkpXG5cbiAgICAgIC8vIFByZWZldGNoIHNpIGVzdMOhIGhhYmlsaXRhZG8geSBsYSBxdWVyeSBlcyB2w6FsaWRhXG4gICAgICBpZiAoZW5hYmxlUHJlZmV0Y2ggJiYgc2VhcmNoUXVlcnkudHJpbSgpLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIC8vIFByZWZldGNoIGRlIGRhdG9zIGRlIGLDunNxdWVkYVxuICAgICAgICBxdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KHtcbiAgICAgICAgICBxdWVyeUtleTogc2VhcmNoUXVlcnlLZXlzLnNlYXJjaChzZWFyY2hRdWVyeSksXG4gICAgICAgICAgcXVlcnlGbjogKCkgPT4gc2VhcmNoUHJvZHVjdHMoc2VhcmNoUXVlcnksIG1heFN1Z2dlc3Rpb25zKSxcbiAgICAgICAgICAuLi5zZWFyY2hRdWVyeUNvbmZpZyxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBQcmVmZXRjaCBkZSBww6FnaW5hIGRlIHJlc3VsdGFkb3NcbiAgICAgICAgbmF2aWdhdGlvbi5wcmVmZXRjaFNlYXJjaChzZWFyY2hRdWVyeS50cmltKCkpXG4gICAgICB9XG4gICAgfSxcbiAgICBbdXBkYXRlRGVib3VuY2VkUXVlcnksIGVuYWJsZVByZWZldGNoLCBxdWVyeUNsaWVudCwgbWF4U3VnZ2VzdGlvbnMsIG5hdmlnYXRpb25dXG4gIClcblxuICBjb25zdCBleGVjdXRlU2VhcmNoID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHNlYXJjaFF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICghc2VhcmNoUXVlcnkudHJpbSgpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRIYXNTZWFyY2hlZCh0cnVlKVxuXG4gICAgICAgIC8vIEd1YXJkYXIgZW4gaGlzdG9yaWFsIHVzYW5kbyBlbCBob29rXG4gICAgICAgIGlmIChzYXZlUmVjZW50U2VhcmNoZXMpIHtcbiAgICAgICAgICBhZGRSZWNlbnRTZWFyY2goc2VhcmNoUXVlcnkudHJpbSgpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVnaXN0cmFyIGVuIHRyZW5kaW5nIHNlYXJjaGVzXG4gICAgICAgIHRyYWNrU2VhcmNoKHNlYXJjaFF1ZXJ5LnRyaW0oKSkuY2F0Y2goY29uc29sZS53YXJuKVxuXG4gICAgICAgIC8vIE5hdmVnYXIgYSBww6FnaW5hIGRlIHJlc3VsdGFkb3MgdXNhbmRvIG5hdmVnYWNpw7NuIG9wdGltaXphZGFcbiAgICAgICAgbmF2aWdhdGlvbi5uYXZpZ2F0ZVRvU2VhcmNoKHNlYXJjaFF1ZXJ5LnRyaW0oKSlcblxuICAgICAgICAvLyBDYWxsYmFjayBleHRlcm5vXG4gICAgICAgIGlmIChvblNlYXJjaCAmJiBzZWFyY2hSZXN1bHRzKSB7XG4gICAgICAgICAgb25TZWFyY2goc2VhcmNoUXVlcnksIHNlYXJjaFJlc3VsdHMpXG4gICAgICAgIH1cblxuICAgICAgICB0b2FzdEhhbmRsZXIuc2hvd1N1Y2Nlc3NUb2FzdChzZWFyY2hRdWVyeSwgc2VhcmNoUmVzdWx0cz8ubGVuZ3RoIHx8IDApXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgdXNlU2VhcmNoT3B0aW1pemVkOiBFcnJvciBlbiBleGVjdXRlU2VhcmNoOicsIGVycm9yKVxuICAgICAgICBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpXG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBzYXZlUmVjZW50U2VhcmNoZXMsXG4gICAgICByZWNlbnRTZWFyY2hlcyxcbiAgICAgIG5hdmlnYXRpb24sXG4gICAgICBvblNlYXJjaCxcbiAgICAgIHNlYXJjaFJlc3VsdHMsXG4gICAgICB0b2FzdEhhbmRsZXIsXG4gICAgICBlcnJvckhhbmRsZXIsXG4gICAgXVxuICApXG5cbiAgY29uc3Qgc2VsZWN0U3VnZ2VzdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgIChzdWdnZXN0aW9uOiBTZWFyY2hTdWdnZXN0aW9uKSA9PiB7XG4gICAgICAvLyBOYXZlZ2FyIHNlZ8O6biBlbCB0aXBvIGRlIHN1Z2VyZW5jaWFcbiAgICAgIGlmIChzdWdnZXN0aW9uLnR5cGUgPT09ICdwcm9kdWN0Jykge1xuICAgICAgICBuYXZpZ2F0aW9uLm5hdmlnYXRlVG9Qcm9kdWN0KHN1Z2dlc3Rpb24uaWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQYXJhIGLDunNxdWVkYXMgcmVjaWVudGVzIG8gdHJlbmRpbmcsIG5hdmVnYXIgYSBiw7pzcXVlZGFcbiAgICAgICAgbmF2aWdhdGlvbi5uYXZpZ2F0ZVRvU2VhcmNoKHN1Z2dlc3Rpb24udGl0bGUpXG4gICAgICB9XG5cbiAgICAgIC8vIENhbGxiYWNrIGV4dGVybm9cbiAgICAgIGlmIChvblN1Z2dlc3Rpb25TZWxlY3QpIHtcbiAgICAgICAgb25TdWdnZXN0aW9uU2VsZWN0KHN1Z2dlc3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHRvYXN0SGFuZGxlci5zaG93SW5mb1RvYXN0KFxuICAgICAgICBgJHtzdWdnZXN0aW9uLnR5cGUgPT09ICdwcm9kdWN0JyA/ICdQcm9kdWN0bycgOiAnQsO6c3F1ZWRhJ30gc2VsZWNjaW9uYWRvYCxcbiAgICAgICAgc3VnZ2VzdGlvbi50aXRsZVxuICAgICAgKVxuICAgIH0sXG4gICAgW25hdmlnYXRpb24sIG9uU3VnZ2VzdGlvblNlbGVjdCwgdG9hc3RIYW5kbGVyXVxuICApXG5cbiAgY29uc3QgY2xlYXJTZWFyY2ggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0UXVlcnkoJycpXG4gICAgc2V0RGVib3VuY2VkUXVlcnkoJycpXG4gICAgc2V0SGFzU2VhcmNoZWQoZmFsc2UpXG5cbiAgICAvLyBMaW1waWFyIGNhY2hlIGRlIGLDunNxdWVkYXMgc2kgZXMgbmVjZXNhcmlvXG4gICAgcXVlcnlDbGllbnQucmVtb3ZlUXVlcmllcyh7IHF1ZXJ5S2V5OiBzZWFyY2hRdWVyeUtleXMuc2VhcmNoZXMoKSB9KVxuICB9LCBbcXVlcnlDbGllbnRdKVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIExJRkVDWUNMRVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IGluaXRpYWxpemUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gQ2FyZ2FyIGLDunNxdWVkYXMgcmVjaWVudGVzXG4gICAgaWYgKHNhdmVSZWNlbnRTZWFyY2hlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGludGV5YS1yZWNlbnQtc2VhcmNoZXMnKVxuICAgICAgICBpZiAoc2F2ZWQgJiYgc2F2ZWQudHJpbSgpICE9PSAnJyAmJiBzYXZlZCAhPT0gJ1wiXCInICYmIHNhdmVkICE9PSBcIicnXCIpIHtcbiAgICAgICAgICAvLyBWYWxpZGFyIHF1ZSBubyBlc3TDqSBjb3JydXB0b1xuICAgICAgICAgIGlmIChzYXZlZC5pbmNsdWRlcygnXCJcIicpICYmIHNhdmVkLmxlbmd0aCA8IDUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV0ZWN0ZWQgY29ycnVwdGVkIHJlY2VudCBzZWFyY2hlcyBkYXRhLCBjbGVhbmluZyB1cCcpXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGludGV5YS1yZWNlbnQtc2VhcmNoZXMnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzYXZlZClcbiAgICAgICAgICAvLyBWZXJpZmljYXIgcXVlIHNlYSB1biBhcnJheSB2w6FsaWRvXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgc2V0UmVjZW50U2VhcmNoZXMocGFyc2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgcmVjZW50IHNlYXJjaGVzIGZvcm1hdCwgcmVzZXR0aW5nJylcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwaW50ZXlhLXJlY2VudC1zZWFyY2hlcycpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGNhcmdhbmRvIGLDunNxdWVkYXMgcmVjaWVudGVzOicsIGVycm9yKVxuICAgICAgICAvLyBMaW1waWFyIGRhdG9zIGNvcnJ1cHRvc1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGludGV5YS1yZWNlbnQtc2VhcmNoZXMnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3NhdmVSZWNlbnRTZWFyY2hlc10pXG5cbiAgY29uc3QgY2xlYW51cCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBMaW1waWFyIGRlYm91bmNlIHkgY2FjaGUgc2kgZXMgbmVjZXNhcmlvXG4gICAgdXBkYXRlRGVib3VuY2VkUXVlcnkuY2FuY2VsKClcbiAgfSwgW3VwZGF0ZURlYm91bmNlZFF1ZXJ5XSlcblxuICAvLyBJbmljaWFsaXphciBhbCBtb250YXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbml0aWFsaXplKClcbiAgICByZXR1cm4gY2xlYW51cFxuICB9LCBbaW5pdGlhbGl6ZSwgY2xlYW51cF0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUkVUVVJOXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBFc3RhZG8gZGUgYsO6c3F1ZWRhXG4gICAgcXVlcnksXG4gICAgcmVzdWx0czogc2VhcmNoUmVzdWx0cyB8fCBbXSxcbiAgICBzdWdnZXN0aW9ucyxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3I6IGVycm9yPy5tZXNzYWdlIHx8IG51bGwsXG4gICAgaGFzU2VhcmNoZWQsXG4gICAgcmVjZW50U2VhcmNoZXM6IHJlY2VudFNlYXJjaGVzTGlzdCxcbiAgICB0cmVuZGluZ1NlYXJjaGVzLFxuXG4gICAgLy8gRXN0YWRvcyBkZSBUYW5TdGFjayBRdWVyeVxuICAgIGlzRmV0Y2hpbmcsXG4gICAgaXNTdGFsZSxcbiAgICBkYXRhVXBkYXRlZEF0LFxuXG4gICAgLy8gRXN0YWRvIGRlIGVycm9yZXMgeSB0b2FzdHNcbiAgICBzZWFyY2hFcnJvcjogZXJyb3JIYW5kbGVyLmN1cnJlbnRFcnJvcixcbiAgICBpc1JldHJ5aW5nOiBlcnJvckhhbmRsZXIuaXNSZXRyeWluZyxcbiAgICByZXRyeUNvdW50OiBlcnJvckhhbmRsZXIucmV0cnlDb3VudCxcbiAgICB0b2FzdHM6IHRvYXN0SGFuZGxlci50b2FzdHMsXG5cbiAgICAvLyBGdW5jaW9uZXMgcHJpbmNpcGFsZXNcbiAgICBzZWFyY2hXaXRoRGVib3VuY2UsXG4gICAgZXhlY3V0ZVNlYXJjaCxcbiAgICBzZWxlY3RTdWdnZXN0aW9uLFxuICAgIGNsZWFyU2VhcmNoLFxuICAgIGluaXRpYWxpemUsXG4gICAgY2xlYW51cCxcblxuICAgIC8vIEZ1bmNpb25lcyBkZSBtYW5lam8gZGUgZXJyb3Jlc1xuICAgIGNsZWFyRXJyb3I6IGVycm9ySGFuZGxlci5jbGVhckVycm9yLFxuICAgIHJldHJ5TWFudWFsbHk6IGVycm9ySGFuZGxlci5yZXRyeU1hbnVhbGx5LFxuXG4gICAgLy8gRnVuY2lvbmVzIGRlIHRvYXN0XG4gICAgcmVtb3ZlVG9hc3Q6IHRvYXN0SGFuZGxlci5yZW1vdmVUb2FzdCxcbiAgICBjbGVhclRvYXN0czogdG9hc3RIYW5kbGVyLmNsZWFyVG9hc3RzLFxuXG4gICAgLy8gVXRpbGlkYWRlcyBkZSBjYWNoZVxuICAgIGludmFsaWRhdGVTZWFyY2g6IChzZWFyY2hRdWVyeTogc3RyaW5nKSA9PlxuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogc2VhcmNoUXVlcnlLZXlzLnNlYXJjaChzZWFyY2hRdWVyeSkgfSksXG4gICAgcHJlZmV0Y2hTZWFyY2g6IChzZWFyY2hRdWVyeTogc3RyaW5nKSA9PlxuICAgICAgcXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeSh7XG4gICAgICAgIHF1ZXJ5S2V5OiBzZWFyY2hRdWVyeUtleXMuc2VhcmNoKHNlYXJjaFF1ZXJ5KSxcbiAgICAgICAgcXVlcnlGbjogKCkgPT4gc2VhcmNoUHJvZHVjdHMoc2VhcmNoUXVlcnksIG1heFN1Z2dlc3Rpb25zKSxcbiAgICAgICAgLi4uc2VhcmNoUXVlcnlDb25maWcsXG4gICAgICB9KSxcblxuICAgIC8vIEZ1bmNpb25lcyBkZSBuYXZlZ2FjacOzbiBvcHRpbWl6YWRhXG4gICAgbmF2aWdhdGVUb1NlYXJjaDogbmF2aWdhdGlvbi5uYXZpZ2F0ZVRvU2VhcmNoLFxuICAgIG5hdmlnYXRlVG9Qcm9kdWN0OiBuYXZpZ2F0aW9uLm5hdmlnYXRlVG9Qcm9kdWN0LFxuICAgIG5hdmlnYXRlVG9DYXRlZ29yeTogbmF2aWdhdGlvbi5uYXZpZ2F0ZVRvQ2F0ZWdvcnksXG4gICAgcHJlZmV0Y2hTZWFyY2hQYWdlOiBuYXZpZ2F0aW9uLnByZWZldGNoU2VhcmNoLFxuICAgIHByZWZldGNoUHJvZHVjdFBhZ2U6IG5hdmlnYXRpb24ucHJlZmV0Y2hQcm9kdWN0LFxuICAgIGdldEN1cnJlbnRTZWFyY2hRdWVyeTogbmF2aWdhdGlvbi5nZXRDdXJyZW50U2VhcmNoUXVlcnksXG4gICAgYnVpbGRTZWFyY2hVcmw6IG5hdmlnYXRpb24uYnVpbGRTZWFyY2hVcmwsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlU2VhcmNoT3B0aW1pemVkXG4iXSwibmFtZXMiOlsidXNlU2VhcmNoT3B0aW1pemVkIiwib3B0aW9ucyIsImRlYm91bmNlTXMiLCJtYXhTdWdnZXN0aW9ucyIsInNlYXJjaExpbWl0Iiwic2F2ZVJlY2VudFNlYXJjaGVzIiwiZW5hYmxlUHJlZmV0Y2giLCJvblNlYXJjaCIsIm9uU3VnZ2VzdGlvblNlbGVjdCIsInF1ZXJ5Iiwic2V0UXVlcnkiLCJ1c2VTdGF0ZSIsImRlYm91bmNlZFF1ZXJ5Iiwic2V0RGVib3VuY2VkUXVlcnkiLCJyZWNlbnRTZWFyY2hlcyIsInNldFJlY2VudFNlYXJjaGVzIiwiaGFzU2VhcmNoZWQiLCJzZXRIYXNTZWFyY2hlZCIsInF1ZXJ5Q2xpZW50IiwidXNlUXVlcnlDbGllbnQiLCJlcnJvckhhbmRsZXIiLCJ1c2VTZWFyY2hFcnJvckhhbmRsZXIiLCJ0b2FzdEhhbmRsZXIiLCJ1c2VTZWFyY2hUb2FzdCIsIm5hdmlnYXRpb24iLCJ1c2VTZWFyY2hOYXZpZ2F0aW9uIiwic2Nyb2xsVG9Ub3AiLCJvbkJlZm9yZU5hdmlnYXRlIiwidXJsIiwiY29uc29sZSIsImxvZyIsIm9uQWZ0ZXJOYXZpZ2F0ZSIsInRyZW5kaW5nU2VhcmNoZXMiLCJ0cmFja1NlYXJjaCIsInVzZVRyZW5kaW5nU2VhcmNoZXMiLCJsaW1pdCIsImVuYWJsZWQiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJsZW5ndGgiLCJ0cmVuZGluZ1NlYXJjaGVzRGF0YSIsIm1hcCIsInQiLCJpZCIsInJlY2VudFNlYXJjaGVzTGlzdCIsImFkZFNlYXJjaCIsImFkZFJlY2VudFNlYXJjaCIsImdldFJlY2VudFNlYXJjaGVzIiwidXNlUmVjZW50U2VhcmNoZXMiLCJtYXhTZWFyY2hlcyIsIlNFQVJDSF9DT05TVEFOVFMiLCJNQVhfUkVDRU5UX1NFQVJDSEVTIiwiZW5hYmxlUGVyc2lzdGVuY2UiLCJleHBpcmF0aW9uRGF5cyIsIlJFQ0VOVF9TRUFSQ0hFU19FWFBJUkFUSU9OX0RBWVMiLCJ1cGRhdGVEZWJvdW5jZWRRdWVyeSIsInVzZURlYm91bmNlZENhbGxiYWNrIiwidmFsdWUiLCJ0cmltIiwiTkVYVF9QVUJMSUNfREVCVUdfU0VBUkNIIiwibWF4V2FpdCIsImxlYWRpbmciLCJ0cmFpbGluZyIsImRhdGEiLCJzZWFyY2hSZXN1bHRzIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJpc0ZldGNoaW5nIiwiaXNTdGFsZSIsImRhdGFVcGRhdGVkQXQiLCJ1c2VRdWVyeSIsInF1ZXJ5S2V5Iiwic2VhcmNoUXVlcnlLZXlzIiwic2VhcmNoIiwicXVlcnlGbiIsInNpZ25hbCIsInNlYXJjaFF1ZXJ5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsInN0YXR1cyIsIkVycm9yIiwianNvbiIsInByb2R1Y3RzIiwic2VhcmNoUXVlcnlDb25maWciLCJzdWdnZXN0aW9ucyIsInVzZU1lbW8iLCJhbGxTdWdnZXN0aW9ucyIsImhhc1F1ZXJ5IiwiQXJyYXkiLCJpc0FycmF5IiwicHJvZHVjdFN1Z2dlc3Rpb25zIiwicHJvZHVjdCIsInRvU3RyaW5nIiwidHlwZSIsInRpdGxlIiwibmFtZSIsInN1YnRpdGxlIiwiY2F0ZWdvcnkiLCJpbWFnZSIsImltYWdlcyIsInByZXZpZXdzIiwidGh1bWJuYWlscyIsImJhZGdlIiwic3RvY2siLCJocmVmIiwicHVzaCIsImhhc0RhdGEiLCJoYXNQcm9kdWN0cyIsImRhdGFMZW5ndGgiLCJwcm9kdWN0c0xlbmd0aCIsImtleXMiLCJPYmplY3QiLCJyZWNlbnRTdWdnZXN0aW9ucyIsImluZGV4IiwicmVtYWluaW5nU2xvdHMiLCJ0cmVuZGluZ1N1Z2dlc3Rpb25zIiwic2xpY2UiLCJ0cmVuZGluZyIsImNvdW50IiwidW5kZWZpbmVkIiwiZmluYWxTdWdnZXN0aW9ucyIsInMiLCJzZWFyY2hXaXRoRGVib3VuY2UiLCJ1c2VDYWxsYmFjayIsInByZWZldGNoUXVlcnkiLCJzZWFyY2hQcm9kdWN0cyIsInByZWZldGNoU2VhcmNoIiwiZXhlY3V0ZVNlYXJjaCIsImNhdGNoIiwid2FybiIsIm5hdmlnYXRlVG9TZWFyY2giLCJzaG93U3VjY2Vzc1RvYXN0IiwiaGFuZGxlRXJyb3IiLCJzZWxlY3RTdWdnZXN0aW9uIiwic3VnZ2VzdGlvbiIsIm5hdmlnYXRlVG9Qcm9kdWN0Iiwic2hvd0luZm9Ub2FzdCIsImNsZWFyU2VhcmNoIiwicmVtb3ZlUXVlcmllcyIsInNlYXJjaGVzIiwiaW5pdGlhbGl6ZSIsInNhdmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImluY2x1ZGVzIiwicmVtb3ZlSXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImNsZWFudXAiLCJjYW5jZWwiLCJ1c2VFZmZlY3QiLCJyZXN1bHRzIiwibWVzc2FnZSIsInNlYXJjaEVycm9yIiwiY3VycmVudEVycm9yIiwiaXNSZXRyeWluZyIsInJldHJ5Q291bnQiLCJ0b2FzdHMiLCJjbGVhckVycm9yIiwicmV0cnlNYW51YWxseSIsInJlbW92ZVRvYXN0IiwiY2xlYXJUb2FzdHMiLCJpbnZhbGlkYXRlU2VhcmNoIiwiaW52YWxpZGF0ZVF1ZXJpZXMiLCJuYXZpZ2F0ZVRvQ2F0ZWdvcnkiLCJwcmVmZXRjaFNlYXJjaFBhZ2UiLCJwcmVmZXRjaFByb2R1Y3RQYWdlIiwicHJlZmV0Y2hQcm9kdWN0IiwiZ2V0Q3VycmVudFNlYXJjaFF1ZXJ5IiwiYnVpbGRTZWFyY2hVcmwiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QyxvRUFBb0U7QUFDcEUsc0NBQXNDOzs7Ozs7Ozs7Ozs7UUFnZ0J0QztlQUFBOztRQTljZ0JBO2VBQUFBOzs7dUJBaERrRDs0QkFDekI7NkJBQ0o7MEJBQ047NkJBRW9CO3VDQUNiO2dDQUNQO3FDQUNLO3FDQUNBO21DQUNGO3NCQUNEO0FBcUMxQixTQUFTQSxtQkFBbUJDLFVBQXFDLENBQUMsQ0FBQztJQUN4RSxNQUFNLEVBQ0pDLGFBQWEsR0FBRyxFQUNoQkMsaUJBQWlCLENBQUMsRUFDbEJDLGNBQWMsRUFBRSxFQUNoQkMscUJBQXFCLElBQUksRUFDekJDLGlCQUFpQixJQUFJLEVBQ3JCQyxRQUFRLEVBQ1JDLGtCQUFrQixFQUNuQixHQUFHUDtJQUVKLGtCQUFrQjtJQUNsQixNQUFNLENBQUNRLE9BQU9DLFNBQVMsR0FBR0MsSUFBQUEs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