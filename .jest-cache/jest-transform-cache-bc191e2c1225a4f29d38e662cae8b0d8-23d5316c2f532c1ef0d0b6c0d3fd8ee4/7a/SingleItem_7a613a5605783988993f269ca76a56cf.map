{"version":3,"names":["_default","SingleItem","item","cov_1j7ey2cjda","f","quantity","setQuantity","s","_react","useState","dispatch","_reactredux","useDispatch","handleRemoveFromCart","_cartslice","removeItemFromCart","id","handleIncreaseQuantity","updateCartItemQuantity","handleDecreaseQuantity","b","_jsxruntime","jsxs","className","jsx","_image","default","src","_productadapter","getValidImageUrl","imgs","thumbnails","alt","title","width","height","style","color","discountedPrice","toLocaleString","price","_button","Button","variant","size","onClick","_optimizedimports","Trash2","disabled","Minus","Plus"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Common\\CartSidebarModal\\SingleItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AppDispatch } from \"@/redux/store\";\r\nimport { removeItemFromCart, updateCartItemQuantity } from \"@/redux/features/cart-slice\";\r\nimport { getValidImageUrl } from \"@/lib/adapters/product-adapter\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Minus, Plus, Trash2 } from \"@/lib/optimized-imports\";\r\n\r\nconst SingleItem = ({ item }: { item: any }) => {\r\n  const [quantity, setQuantity] = useState(item.quantity);\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const handleRemoveFromCart = () => {\r\n    dispatch(removeItemFromCart(item.id));\r\n  };\r\n\r\n  const handleIncreaseQuantity = () => {\r\n    setQuantity(quantity + 1);\r\n    dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity + 1 }));\r\n  };\r\n\r\n  const handleDecreaseQuantity = () => {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n      dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity - 1 }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl border border-gray-200 p-4 shadow-sm hover:shadow-md transition-all duration-200\" data-testid=\"cart-item\">\r\n      {/* Product Info */}\r\n      <div className=\"flex items-start gap-4 mb-4\">\r\n        <div className=\"relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0\">\r\n          <Image\r\n            src={getValidImageUrl(item.imgs?.thumbnails?.[0])}\r\n            alt={item.title}\r\n            width={64}\r\n            height={64}\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h3 className=\"font-semibold text-gray-900 text-sm line-clamp-2 mb-1\">\r\n            {item.title}\r\n          </h3>\r\n          <p className=\"font-bold text-lg\" style={{ color: '#ea5a17' }}>\r\n            ${item.discountedPrice.toLocaleString()}\r\n          </p>\r\n          {item.price && item.discountedPrice && item.discountedPrice < item.price && (\r\n            <p className=\"text-xs text-gray-500 line-through\">\r\n              ${item.price.toLocaleString()}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Remove Button */}\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={handleRemoveFromCart}\r\n          aria-label=\"Eliminar producto del carrito\"\r\n          data-testid=\"remove-from-cart\"\r\n          className=\"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 h-8 w-8\"\r\n        >\r\n          <Trash2 className=\"w-4 h-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Quantity Controls */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center rounded-lg border-2 border-yellow-400 bg-white shadow-sm overflow-hidden\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={handleDecreaseQuantity}\r\n            disabled={quantity <= 1}\r\n            aria-label=\"Disminuir cantidad\"\r\n            className=\"h-8 w-8 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold disabled:opacity-50 disabled:bg-gray-200\"\r\n          >\r\n            <Minus className=\"w-3 h-3\" />\r\n          </Button>\r\n\r\n          <div className=\"flex items-center justify-center w-12 h-8 bg-white font-bold text-sm text-gray-900 border-x-2 border-yellow-400\">\r\n            {quantity}\r\n          </div>\r\n\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={handleIncreaseQuantity}\r\n            aria-label=\"Aumentar cantidad\"\r\n            className=\"h-8 w-8 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold\"\r\n          >\r\n            <Plus className=\"w-3 h-3\" />\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Subtotal */}\r\n        <div className=\"text-right\">\r\n          <p className=\"font-bold text-sm\" style={{ color: '#ea5a17' }}>\r\n            ${(item.discountedPrice * quantity).toLocaleString()}\r\n          </p>\r\n          {item.price && item.discountedPrice && item.discountedPrice < item.price && (\r\n            <p className=\"text-xs text-green-600 font-semibold\">\r\n              Ahorro: ${((item.price - item.discountedPrice) * quantity).toLocaleString()}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleItem;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}