{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\admin\\products\\ProductActions.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport {\n  Plus,\n  Download,\n  Upload,\n  Trash2,\n  Edit,\n  Eye,\n  MoreHorizontal,\n  Copy,\n  Archive,\n  AlertTriangle,\n  Settings,\n  Tag,\n  Package,\n  CheckCircle,\n  XCircle,\n  FileText,\n  BarChart3,\n} from 'lucide-react'\nimport { cn } from '@/lib/core/utils'\nimport { useProductNotifications } from '@/hooks/admin/useProductNotifications'\n\ninterface Product {\n  id: string\n  name: string\n  status: 'active' | 'inactive' | 'draft'\n}\n\ninterface ProductActionsProps {\n  selectedProducts?: Product[]\n  onCreateProduct?: () => void\n  onEditProduct?: (productId: string) => void\n  onViewProduct?: (productId: string) => void\n  onDeleteProduct?: (productId: string) => void\n  onBulkDelete?: (productIds: string[]) => void\n  onBulkEdit?: (productIds: string[], updates: Partial<Product>) => void\n  onBulkStatusChange?: (productIds: string[], status: Product['status']) => void\n  onBulkCategoryChange?: (productIds: string[], categoryId: number) => void\n  onBulkPriceUpdate?: (\n    productIds: string[],\n    priceChange: { type: 'percentage' | 'fixed'; value: number }\n  ) => void\n  onDuplicateProduct?: (productId: string) => void\n  onExportProducts?: (format?: 'csv' | 'xlsx' | 'json') => void\n  onImportProducts?: () => void\n  onBulkArchive?: (productIds: string[]) => void\n  onGenerateReport?: () => void\n  isLoading?: boolean\n  className?: string\n}\n\nexport function ProductActions({\n  selectedProducts = [],\n  onCreateProduct,\n  onEditProduct,\n  onViewProduct,\n  onDeleteProduct,\n  onBulkDelete,\n  onBulkEdit,\n  onBulkStatusChange,\n  onBulkCategoryChange,\n  onBulkPriceUpdate,\n  onDuplicateProduct,\n  onExportProducts,\n  onImportProducts,\n  onBulkArchive,\n  onGenerateReport,\n  isLoading = false,\n  className,\n}: ProductActionsProps) {\n  const notifications = useProductNotifications()\n  const [showBulkActions, setShowBulkActions] = useState(false)\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false)\n  const [showBulkEditModal, setShowBulkEditModal] = useState(false)\n  const [showExportOptions, setShowExportOptions] = useState(false)\n  const [bulkEditData, setBulkEditData] = useState({\n    status: '',\n    categoryId: '',\n    priceChange: { type: 'percentage' as const, value: 0 },\n  })\n\n  const selectedCount = selectedProducts.length\n  const hasSelection = selectedCount > 0\n\n  const handleBulkDelete = async () => {\n    if (onBulkDelete && selectedProducts.length > 0) {\n      try {\n        await onBulkDelete(selectedProducts.map(p => p.id))\n        notifications.bulkDeleteSuccess(selectedProducts.length)\n        setShowDeleteConfirm(false)\n      } catch (error) {\n        notifications.bulkDeleteError(error as Error)\n      }\n    }\n  }\n\n  const handleBulkStatusChange = async (status: Product['status']) => {\n    if (onBulkStatusChange && selectedProducts.length > 0) {\n      try {\n        await onBulkStatusChange(\n          selectedProducts.map(p => p.id),\n          status\n        )\n        notifications.bulkStatusChangeSuccess(selectedProducts.length, status)\n        setShowBulkActions(false)\n      } catch (error) {\n        notifications.bulkStatusChangeError(error as Error)\n      }\n    }\n  }\n\n  const handleBulkArchive = async () => {\n    if (onBulkArchive && selectedProducts.length > 0) {\n      try {\n        await onBulkArchive(selectedProducts.map(p => p.id))\n        notifications.bulkArchiveSuccess(selectedProducts.length)\n        setShowBulkActions(false)\n      } catch (error) {\n        notifications.bulkArchiveError(error as Error)\n      }\n    }\n  }\n\n  const handleExport = async (format: 'csv' | 'xlsx' | 'json') => {\n    if (onExportProducts) {\n      try {\n        notifications.exportStarted(format)\n        await onExportProducts(format)\n        notifications.exportSuccess(format)\n        setShowExportOptions(false)\n      } catch (error) {\n        notifications.exportError(error as Error, format)\n      }\n    }\n  }\n\n  const handleImport = async () => {\n    if (onImportProducts) {\n      try {\n        notifications.importStarted()\n        await onImportProducts()\n        notifications.importSuccess()\n      } catch (error) {\n        notifications.importError(error as Error)\n      }\n    }\n  }\n\n  const handleCreateProduct = async () => {\n    if (onCreateProduct) {\n      try {\n        await onCreateProduct()\n        notifications.createSuccess()\n      } catch (error) {\n        notifications.createError(error as Error)\n      }\n    }\n  }\n\n  return (\n    <div className={cn('flex items-center justify-between', className)}>\n      {/* Bulk Actions */}\n      {hasSelection && (\n        <div className='flex items-center space-x-3'>\n          <span className='text-sm text-gray-600 font-medium'>\n            {selectedCount} producto{selectedCount !== 1 ? 's' : ''} seleccionado\n            {selectedCount !== 1 ? 's' : ''}\n          </span>\n\n          <div className='relative'>\n            <button\n              onClick={() => setShowBulkActions(!showBulkActions)}\n              className='flex items-center space-x-2 px-4 py-2 text-sm bg-blaze-orange-100 text-blaze-orange-800 hover:bg-blaze-orange-200 rounded-lg transition-colors font-medium'\n            >\n              <Settings className='w-4 h-4' />\n              <span>Acciones masivas</span>\n            </button>\n\n            {showBulkActions && (\n              <div className='absolute left-0 top-full mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50'>\n                <div className='py-2'>\n                  {/* Status Changes */}\n                  <div className='px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b'>\n                    Cambiar Estado\n                  </div>\n                  <button\n                    onClick={() => handleBulkStatusChange('active')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <CheckCircle className='w-4 h-4 text-green-500' />\n                    <span>Activar productos</span>\n                  </button>\n                  <button\n                    onClick={() => handleBulkStatusChange('inactive')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <XCircle className='w-4 h-4 text-red-500' />\n                    <span>Desactivar productos</span>\n                  </button>\n                  <button\n                    onClick={() => handleBulkStatusChange('draft')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <FileText className='w-4 h-4 text-yellow-500' />\n                    <span>Marcar como borrador</span>\n                  </button>\n\n                  <div className='border-t border-gray-200 my-2'></div>\n\n                  {/* Other Actions */}\n                  <div className='px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b'>\n                    Otras Acciones\n                  </div>\n                  <button\n                    onClick={() => setShowBulkEditModal(true)}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <Edit className='w-4 h-4 text-blue-500' />\n                    <span>Edición masiva</span>\n                  </button>\n                  <button\n                    onClick={handleBulkArchive}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <Archive className='w-4 h-4 text-purple-500' />\n                    <span>Archivar productos</span>\n                  </button>\n\n                  <div className='border-t border-gray-200 my-2'></div>\n\n                  {/* Danger Zone */}\n                  <button\n                    onClick={() => {\n                      setShowDeleteConfirm(true)\n                      setShowBulkActions(false)\n                    }}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50'\n                  >\n                    <Trash2 className='w-4 h-4' />\n                    <span>Eliminar seleccionados</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Primary Actions */}\n      <div className='flex items-center space-x-3 ml-auto'>\n        {/* Import/Export */}\n        <div className='flex items-center space-x-2'>\n          <button\n            onClick={handleImport}\n            disabled={isLoading}\n            className='flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50'\n          >\n            <Upload className='w-4 h-4' />\n            <span className='hidden sm:inline'>Importar</span>\n          </button>\n\n          <div className='relative'>\n            <button\n              onClick={() => setShowExportOptions(!showExportOptions)}\n              disabled={isLoading}\n              className='flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50'\n            >\n              <Download className='w-4 h-4' />\n              <span className='hidden sm:inline'>Exportar</span>\n            </button>\n\n            {showExportOptions && (\n              <div className='absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50'>\n                <div className='py-2'>\n                  <button\n                    onClick={() => handleExport('csv')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <FileText className='w-4 h-4 text-green-500' />\n                    <span>Exportar como CSV</span>\n                  </button>\n                  <button\n                    onClick={() => handleExport('xlsx')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <Package className='w-4 h-4 text-blue-500' />\n                    <span>Exportar como Excel</span>\n                  </button>\n                  <button\n                    onClick={() => handleExport('json')}\n                    className='flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n                  >\n                    <FileText className='w-4 h-4 text-purple-500' />\n                    <span>Exportar como JSON</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {onGenerateReport && (\n            <button\n              onClick={onGenerateReport}\n              disabled={isLoading}\n              className='flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50'\n            >\n              <BarChart3 className='w-4 h-4' />\n              <span className='hidden sm:inline'>Reporte</span>\n            </button>\n          )}\n        </div>\n\n        {/* Create Product */}\n        <button\n          onClick={handleCreateProduct}\n          disabled={isLoading}\n          className='flex items-center space-x-2 px-4 py-2 bg-blaze-orange-600 hover:bg-blaze-orange-700 text-white rounded-lg transition-colors disabled:opacity-50'\n        >\n          <Plus className='w-4 h-4' />\n          <span>Nuevo Producto</span>\n        </button>\n      </div>\n\n      {/* Bulk Actions Dropdown */}\n      {showBulkActions && hasSelectedProducts && (\n        <div className='absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50'>\n          <div className='py-1'>\n            <button\n              onClick={() => {\n                // Handle bulk status change\n                setShowBulkActions(false)\n              }}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n            >\n              <Archive className='w-4 h-4' />\n              <span>Cambiar estado</span>\n            </button>\n\n            <button\n              onClick={() => {\n                // Handle bulk duplicate\n                setShowBulkActions(false)\n              }}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n            >\n              <Copy className='w-4 h-4' />\n              <span>Duplicar</span>\n            </button>\n\n            <div className='border-t border-gray-200 my-1'></div>\n\n            <button\n              onClick={() => {\n                setShowDeleteConfirm(true)\n                setShowBulkActions(false)\n              }}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50'\n            >\n              <Trash2 className='w-4 h-4' />\n              <span>Eliminar seleccionados</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteConfirm && (\n        <div className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'>\n          <div className='bg-white rounded-lg p-6 max-w-md w-full mx-4'>\n            <div className='flex items-center space-x-3 mb-4'>\n              <div className='w-10 h-10 bg-red-100 rounded-full flex items-center justify-center'>\n                <AlertTriangle className='w-5 h-5 text-red-600' />\n              </div>\n              <div>\n                <h3 className='text-lg font-medium text-gray-900'>Confirmar eliminación</h3>\n                <p className='text-sm text-gray-600'>Esta acción no se puede deshacer.</p>\n              </div>\n            </div>\n\n            <p className='text-sm text-gray-700 mb-6'>\n              ¿Estás seguro de que quieres eliminar {selectedCount} producto\n              {selectedCount !== 1 ? 's' : ''}?\n            </p>\n\n            <div className='flex items-center justify-end space-x-3'>\n              <button\n                onClick={() => setShowDeleteConfirm(false)}\n                className='px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors'\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={handleBulkDelete}\n                disabled={isLoading}\n                className='px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50'\n              >\n                {isLoading ? 'Eliminando...' : 'Eliminar'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Bulk Edit Modal */}\n      {showBulkEditModal && (\n        <div className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'>\n          <div className='bg-white rounded-lg p-6 max-w-lg w-full mx-4'>\n            <div className='flex items-center justify-between mb-4'>\n              <h3 className='text-lg font-medium text-gray-900'>Editar productos masivamente</h3>\n              <button\n                onClick={() => setShowBulkEditModal(false)}\n                className='text-gray-400 hover:text-gray-600'\n              >\n                <X className='w-5 h-5' />\n              </button>\n            </div>\n\n            <div className='space-y-4'>\n              <div>\n                <label className='block text-sm font-medium text-gray-700 mb-2'>Categoría</label>\n                <select\n                  value={bulkEditData.categoryId || ''}\n                  onChange={e => setBulkEditData(prev => ({ ...prev, categoryId: e.target.value }))}\n                  className='w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent'\n                >\n                  <option value=''>Sin cambios</option>\n                  <option value='1'>Electrónicos</option>\n                  <option value='2'>Ropa</option>\n                  <option value='3'>Hogar</option>\n                </select>\n              </div>\n\n              <div>\n                <label className='block text-sm font-medium text-gray-700 mb-2'>Estado</label>\n                <select\n                  value={bulkEditData.status || ''}\n                  onChange={e =>\n                    setBulkEditData(prev => ({\n                      ...prev,\n                      status: e.target.value as 'active' | 'inactive' | 'draft' | '',\n                    }))\n                  }\n                  className='w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent'\n                >\n                  <option value=''>Sin cambios</option>\n                  <option value='active'>Activo</option>\n                  <option value='inactive'>Inactivo</option>\n                  <option value='draft'>Borrador</option>\n                </select>\n              </div>\n\n              <div>\n                <label className='block text-sm font-medium text-gray-700 mb-2'>\n                  Ajuste de precio\n                </label>\n                <div className='flex space-x-2'>\n                  <select\n                    value={bulkEditData.priceChange.type}\n                    onChange={e =>\n                      setBulkEditData(prev => ({\n                        ...prev,\n                        priceChange: {\n                          ...prev.priceChange,\n                          type: e.target.value as 'percentage' | 'fixed',\n                        },\n                      }))\n                    }\n                    className='px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent'\n                  >\n                    <option value='percentage'>Porcentaje</option>\n                    <option value='fixed'>Cantidad fija</option>\n                  </select>\n                  <input\n                    type='number'\n                    value={bulkEditData.priceChange.value}\n                    onChange={e =>\n                      setBulkEditData(prev => ({\n                        ...prev,\n                        priceChange: {\n                          ...prev.priceChange,\n                          value: parseFloat(e.target.value) || 0,\n                        },\n                      }))\n                    }\n                    className='flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent'\n                    placeholder='0'\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className='flex justify-end space-x-3 mt-6'>\n              <button\n                onClick={() => setShowBulkEditModal(false)}\n                className='px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors'\n              >\n                Cancelar\n              </button>\n              <button\n                onClick={() => {\n                  if (onBulkEdit && selectedProducts.length > 0) {\n                    const updates: any = {}\n                    if (bulkEditData.status) {\n                      updates.status = bulkEditData.status\n                    }\n                    if (bulkEditData.categoryId) {\n                      onBulkCategoryChange?.(\n                        selectedProducts.map(p => p.id),\n                        parseInt(bulkEditData.categoryId)\n                      )\n                    }\n                    if (bulkEditData.priceChange.value !== 0) {\n                      onBulkPriceUpdate?.(\n                        selectedProducts.map(p => p.id),\n                        bulkEditData.priceChange\n                      )\n                    }\n                    onBulkEdit(\n                      selectedProducts.map(p => p.id),\n                      updates\n                    )\n                  }\n                  setShowBulkEditModal(false)\n                  setBulkEditData({\n                    status: '',\n                    categoryId: '',\n                    priceChange: { type: 'percentage' as const, value: 0 },\n                  })\n                }}\n                className='px-4 py-2 text-sm text-white bg-blaze-orange-600 hover:bg-blaze-orange-700 rounded-lg transition-colors'\n              >\n                Aplicar cambios\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Individual Product Actions Component\ninterface ProductRowActionsProps {\n  product: Product\n  onEdit?: (productId: string) => void\n  onView?: (productId: string) => void\n  onDelete?: (productId: string) => void\n  onDuplicate?: (productId: string) => void\n  onToggleStatus?: (productId: string) => void\n  onManageInventory?: (productId: string) => void\n  isLoading?: boolean\n}\n\nexport function ProductRowActions({\n  product,\n  onEdit,\n  onView,\n  onDelete,\n  onDuplicate,\n  onToggleStatus,\n  onManageInventory,\n  isLoading = false,\n}: ProductRowActionsProps) {\n  const notifications = useProductNotifications()\n  const [showActions, setShowActions] = useState(false)\n\n  const handleEdit = async () => {\n    if (onEdit) {\n      try {\n        await onEdit(product.id)\n        notifications.updateSuccess(product.name)\n        setShowActions(false)\n      } catch (error) {\n        notifications.updateError(error as Error)\n      }\n    }\n  }\n\n  const handleDelete = async () => {\n    if (onDelete) {\n      try {\n        await onDelete(product.id)\n        notifications.deleteSuccess(product.name)\n        setShowActions(false)\n      } catch (error) {\n        notifications.deleteError(error as Error)\n      }\n    }\n  }\n\n  const handleDuplicate = async () => {\n    if (onDuplicate) {\n      try {\n        await onDuplicate(product.id)\n        notifications.duplicateSuccess(product.name)\n        setShowActions(false)\n      } catch (error) {\n        notifications.duplicateError(error as Error)\n      }\n    }\n  }\n\n  const handleToggleStatus = async () => {\n    if (onToggleStatus) {\n      try {\n        await onToggleStatus(product.id)\n        const newStatus = product.status === 'active' ? 'inactive' : 'active'\n        notifications.statusChangeSuccess(product.name, newStatus)\n        setShowActions(false)\n      } catch (error) {\n        notifications.statusChangeError(error as Error)\n      }\n    }\n  }\n\n  const handleManageInventory = async () => {\n    if (onManageInventory) {\n      try {\n        await onManageInventory(product.id)\n        notifications.inventoryUpdateSuccess(product.name)\n        setShowActions(false)\n      } catch (error) {\n        notifications.inventoryUpdateError(error as Error)\n      }\n    }\n  }\n\n  return (\n    <div className='relative'>\n      <button\n        onClick={() => setShowActions(!showActions)}\n        className='p-1 rounded hover:bg-gray-100 transition-colors'\n      >\n        <MoreHorizontal className='w-4 h-4 text-gray-500' />\n      </button>\n\n      {showActions && (\n        <div className='absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50'>\n          <div className='py-1'>\n            <button\n              onClick={() => {\n                onView?.(product.id)\n                setShowActions(false)\n              }}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n            >\n              <Eye className='w-4 h-4' />\n              <span>Ver detalles</span>\n            </button>\n\n            <button\n              onClick={handleEdit}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n            >\n              <Edit className='w-4 h-4' />\n              <span>Editar</span>\n            </button>\n\n            {onToggleStatus && (\n              <button\n                onClick={handleToggleStatus}\n                className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n              >\n                {product.status === 'active' ? (\n                  <>\n                    <XCircle className='w-4 h-4 text-red-500' />\n                    <span>Desactivar</span>\n                  </>\n                ) : (\n                  <>\n                    <CheckCircle className='w-4 h-4 text-green-500' />\n                    <span>Activar</span>\n                  </>\n                )}\n              </button>\n            )}\n\n            {onManageInventory && (\n              <button\n                onClick={handleManageInventory}\n                className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n              >\n                <Package className='w-4 h-4 text-blue-500' />\n                <span>Gestionar stock</span>\n              </button>\n            )}\n\n            <button\n              onClick={handleDuplicate}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50'\n            >\n              <Copy className='w-4 h-4' />\n              <span>Duplicar</span>\n            </button>\n\n            <div className='border-t border-gray-200 my-1'></div>\n\n            <button\n              onClick={handleDelete}\n              disabled={isLoading}\n              className='flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50 disabled:opacity-50'\n            >\n              <Trash2 className='w-4 h-4' />\n              <span>Eliminar</span>\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":["ProductActions","ProductRowActions","selectedProducts","onCreateProduct","onEditProduct","onViewProduct","onDeleteProduct","onBulkDelete","onBulkEdit","onBulkStatusChange","onBulkCategoryChange","onBulkPriceUpdate","onDuplicateProduct","onExportProducts","onImportProducts","onBulkArchive","onGenerateReport","isLoading","className","notifications","useProductNotifications","showBulkActions","setShowBulkActions","useState","showDeleteConfirm","setShowDeleteConfirm","showBulkEditModal","setShowBulkEditModal","showExportOptions","setShowExportOptions","bulkEditData","setBulkEditData","status","categoryId","priceChange","type","value","selectedCount","length","hasSelection","handleBulkDelete","map","p","id","bulkDeleteSuccess","error","bulkDeleteError","handleBulkStatusChange","bulkStatusChangeSuccess","bulkStatusChangeError","handleBulkArchive","bulkArchiveSuccess","bulkArchiveError","handleExport","format","exportStarted","exportSuccess","exportError","handleImport","importStarted","importSuccess","importError","handleCreateProduct","createSuccess","createError","div","cn","span","button","onClick","Settings","CheckCircle","XCircle","FileText","Edit","Archive","Trash2","disabled","Upload","Download","Package","BarChart3","Plus","hasSelectedProducts","Copy","AlertTriangle","h3","X","label","select","onChange","e","prev","target","option","input","parseFloat","placeholder","updates","parseInt","product","onEdit","onView","onDelete","onDuplicate","onToggleStatus","onManageInventory","showActions","setShowActions","handleEdit","updateSuccess","name","updateError","handleDelete","deleteSuccess","deleteError","handleDuplicate","duplicateSuccess","duplicateError","handleToggleStatus","newStatus","statusChangeSuccess","statusChangeError","handleManageInventory","inventoryUpdateSuccess","inventoryUpdateError","MoreHorizontal","Eye"],"mappings":"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"}