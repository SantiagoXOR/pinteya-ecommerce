d1e88a3a442f1929de7dbcf85e05d5b8
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ProactiveMonitoringService () {
        return ProactiveMonitoringService;
    },
    get proactiveMonitoring () {
        return proactiveMonitoring;
    },
    get reportError () {
        return reportError;
    },
    get startMonitoring () {
        return startMonitoring;
    },
    get stopMonitoring () {
        return stopMonitoring;
    }
});
const _logger = require("../enterprise/logger");
const _alertsystem = require("./alert-system");
const _enterprisemetrics = require("./enterprise-metrics");
const _email = require("../notifications/email");
const _slack = require("../notifications/slack");
class ProactiveMonitoringService {
    static getInstance() {
        if (!ProactiveMonitoringService.instance) {
            ProactiveMonitoringService.instance = new ProactiveMonitoringService();
        }
        return ProactiveMonitoringService.instance;
    }
    constructor(){
        this.errorPatterns = new Map();
        this.errorCounts = new Map();
        this.healthChecks = new Map();
        this.monitoringInterval = null;
        // Solo inicializar en el servidor
        if (typeof window === 'undefined') {
            this.alertSystem = _alertsystem.EnterpriseAlertSystem.getInstance();
            this.metricsCollector = _enterprisemetrics.EnterpriseMetricsCollector.getInstance();
        }
        this.config = {
            enabled: true,
            checkInterval: 30,
            errorThreshold: 5,
            responseTimeThreshold: 2000,
            memoryThreshold: 80,
            cpuThreshold: 70,
            enableAutoRecovery: true,
            notificationChannels: [
                'email',
                'slack'
            ]
        };
        this.initializeDefaultPatterns();
    }
    initializeDefaultPatterns() {
        const defaultPatterns = [
            {
                id: 'database_connection_error',
                name: 'Database Connection Error',
                pattern: /database.*connection.*failed|connection.*timeout|pool.*exhausted/i,
                severity: 'critical',
                threshold: 3,
                timeWindow: 5,
                description: 'Errores de conexi칩n a la base de datos',
                isActive: true
            },
            {
                id: 'payment_processing_error',
                name: 'Payment Processing Error',
                pattern: /payment.*failed|transaction.*error|mercadopago.*error/i,
                severity: 'high',
                threshold: 5,
                timeWindow: 10,
                description: 'Errores en el procesamiento de pagos',
                isActive: true
            },
            {
                id: 'authentication_error',
                name: 'Authentication Error',
                pattern: /auth.*failed|unauthorized|invalid.*token|session.*expired/i,
                severity: 'medium',
                threshold: 10,
                timeWindow: 15,
                description: 'Errores de autenticaci칩n',
                isActive: true
            },
            {
                id: 'api_rate_limit',
                name: 'API Rate Limit Exceeded',
                pattern: /rate.*limit.*exceeded|too.*many.*requests|429/i,
                severity: 'medium',
                threshold: 20,
                timeWindow: 5,
                description: 'L칤mite de velocidad de API excedido',
                isActive: true
            },
            {
                id: 'server_error',
                name: 'Internal Server Error',
                pattern: /internal.*server.*error|500.*error|unhandled.*exception/i,
                severity: 'high',
                threshold: 5,
                timeWindow: 10,
                description: 'Errores internos del servidor',
                isActive: true
            }
        ];
        defaultPatterns.forEach((pattern)=>{
            this.errorPatterns.set(pattern.id, pattern);
        });
    }
    /**
   * Inicia el monitoreo proactivo
   */ start() {
        // Solo ejecutar en el servidor
        if (typeof window !== 'undefined') {
            return;
        }
        if (!this.config.enabled) {
            _logger.logger.info(_logger.LogLevel.INFO, 'Proactive monitoring is disabled', {}, _logger.LogCategory.SYSTEM);
            return;
        }
        if (this.monitoringInterval) {
            this.stop();
        }
        this.monitoringInterval = setInterval(()=>{
            this.performHealthCheck();
        }, this.config.checkInterval * 1000);
        _logger.logger.info(_logger.LogLevel.INFO, 'Proactive monitoring started', {
            interval: this.config.checkInterval,
            patterns: this.errorPatterns.size
        }, _logger.LogCategory.SYSTEM);
    }
    /**
   * Detiene el monitoreo proactivo
   */ stop() {
        if (this.monitoringInterval) {
            clearInterval(this.monitoringInterval);
            this.monitoringInterval = null;
            _logger.logger.info(_logger.LogLevel.INFO, 'Proactive monitoring stopped', {}, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Registra un error para an치lisis
   */ async reportError(error, context) {
        const errorMessage = error instanceof Error ? error.message : error;
        const errorStack = error instanceof Error ? error.stack : undefined;
        // Solo procesar en el servidor
        if (typeof window === 'undefined') {
            // Analizar patrones de error
            for (const [patternId, pattern] of this.errorPatterns){
                if (!pattern.isActive) {
                    continue;
                }
                const regex = pattern.pattern instanceof RegExp ? pattern.pattern : new RegExp(pattern.pattern, 'i');
                if (regex.test(errorMessage)) {
                    await this.handlePatternMatch(patternId, pattern, errorMessage, context);
                }
            }
            // Registrar m칠tricas si est치 disponible
            if (this.metricsCollector) {
                await this.metricsCollector.recordMetric('errors_total', 1, undefined, undefined, {
                    type: 'application_error',
                    ...context
                });
            }
        }
        // Log del error
        _logger.logger.error(_logger.LogLevel.ERROR, 'Error reported to monitoring', {
            error: errorMessage,
            stack: errorStack,
            context
        }, _logger.LogCategory.SYSTEM);
    }
    async handlePatternMatch(patternId, pattern, errorMessage, context) {
        const now = new Date();
        const key = `${patternId}_${Math.floor(now.getTime() / (pattern.timeWindow * 60 * 1000))}`;
        const existing = this.errorCounts.get(key);
        if (existing) {
            existing.count++;
            existing.lastSeen = now;
        } else {
            this.errorCounts.set(key, {
                count: 1,
                firstSeen: now,
                lastSeen: now
            });
        }
        const errorCount = this.errorCounts.get(key);
        // Verificar si se alcanz칩 el umbral (solo en servidor)
        if (errorCount.count >= pattern.threshold && this.alertSystem) {
            await this.triggerAlert(pattern, errorCount, errorMessage, context);
            // Limpiar contador para evitar spam de alertas
            this.errorCounts.delete(key);
        }
    }
    async triggerAlert(pattern, errorCount, errorMessage, context) {
        const alert = {
            id: `pattern_${pattern.id}_${Date.now()}`,
            title: `Error Pattern Detected: ${pattern.name}`,
            message: `Pattern "${pattern.name}" detected ${errorCount.count} times in ${pattern.timeWindow} minutes`,
            severity: pattern.severity,
            details: {
                pattern: pattern.name,
                description: pattern.description,
                count: errorCount.count,
                threshold: pattern.threshold,
                timeWindow: pattern.timeWindow,
                firstSeen: errorCount.firstSeen.toISOString(),
                lastSeen: errorCount.lastSeen.toISOString(),
                lastError: errorMessage,
                context
            }
        };
        // Enviar notificaciones
        if (this.config.notificationChannels.includes('email')) {
            await this.sendEmailAlert(alert);
        }
        if (this.config.notificationChannels.includes('slack')) {
            await this.sendSlackAlert(alert);
        }
        _logger.logger.warn(_logger.LogLevel.WARN, 'Error pattern alert triggered', alert, _logger.LogCategory.SYSTEM);
    }
    async sendEmailAlert(alert) {
        try {
            await _email.emailService.sendNotification({
                to: [
                    'admin@example.com'
                ],
                subject: `游뚿 ${alert.title}`,
                template: 'error-pattern-alert',
                data: alert,
                priority: alert.severity === 'critical' ? 'high' : 'normal'
            });
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to send email alert', {
                error
            }, _logger.LogCategory.SYSTEM);
        }
    }
    async sendSlackAlert(alert) {
        try {
            await _slack.slackService.sendErrorAlert({
                error: alert.message,
                context: alert.title,
                timestamp: new Date(),
                severity: alert.severity
            });
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to send Slack alert', {
                error
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Realiza verificaci칩n de salud del sistema
   */ async performHealthCheck() {
        try {
            const health = await this.getSystemHealth();
            // Verificar umbrales cr칤ticos
            if (health.status === 'critical' || health.status === 'down') {
                await this.handleCriticalHealth(health);
            } else if (health.status === 'warning') {
                await this.handleWarningHealth(health);
            }
            // Actualizar m칠tricas si est치 disponible
            if (this.metricsCollector) {
                await this.metricsCollector.recordMetric('system_health_score', this.calculateHealthScore(health));
                await this.metricsCollector.recordMetric('system_response_time', health.responseTime);
                await this.metricsCollector.recordMetric('system_error_rate', health.errorRate);
                await this.metricsCollector.recordMetric('system_memory_usage', health.memoryUsage);
                await this.metricsCollector.recordMetric('system_cpu_usage', health.cpuUsage);
            }
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Health check failed', {
                error: error instanceof Error ? error.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    }
    async getSystemHealth() {
        const issues = [];
        let status = 'healthy';
        // Simular verificaciones de salud (en producci칩n, estas ser칤an verificaciones reales)
        const responseTime = Math.random() * 1000 + 200 // 200-1200ms
        ;
        const errorRate = Math.random() * 5 // 0-5%
        ;
        const memoryUsage = Math.random() * 40 + 40 // 40-80%
        ;
        const cpuUsage = Math.random() * 30 + 20 // 20-50%
        ;
        const activeConnections = Math.floor(Math.random() * 100) + 50;
        // Verificar umbrales
        if (responseTime > this.config.responseTimeThreshold) {
            issues.push({
                id: 'high_response_time',
                type: 'performance',
                severity: 'medium',
                message: 'High response time detected',
                details: {
                    responseTime,
                    threshold: this.config.responseTimeThreshold
                },
                firstDetected: new Date(),
                lastSeen: new Date(),
                count: 1
            });
            status = 'warning';
        }
        if (errorRate > this.config.errorThreshold) {
            issues.push({
                id: 'high_error_rate',
                type: 'error',
                severity: 'high',
                message: 'High error rate detected',
                details: {
                    errorRate,
                    threshold: this.config.errorThreshold
                },
                firstDetected: new Date(),
                lastSeen: new Date(),
                count: 1
            });
            status = 'critical';
        }
        if (memoryUsage > this.config.memoryThreshold) {
            issues.push({
                id: 'high_memory_usage',
                type: 'resource',
                severity: 'medium',
                message: 'High memory usage detected',
                details: {
                    memoryUsage,
                    threshold: this.config.memoryThreshold
                },
                firstDetected: new Date(),
                lastSeen: new Date(),
                count: 1
            });
            if (status === 'healthy') {
                status = 'warning';
            }
        }
        return {
            status,
            uptime: typeof process !== 'undefined' && process.uptime ? process.uptime() : Date.now() / 1000,
            responseTime,
            errorRate,
            memoryUsage,
            cpuUsage,
            activeConnections,
            lastCheck: new Date(),
            issues
        };
    }
    calculateHealthScore(health) {
        let score = 100;
        health.issues.forEach((issue)=>{
            switch(issue.severity){
                case 'critical':
                    score -= 30;
                    break;
                case 'high':
                    score -= 20;
                    break;
                case 'medium':
                    score -= 10;
                    break;
                case 'low':
                    score -= 5;
                    break;
            }
        });
        return Math.max(0, score);
    }
    async handleCriticalHealth(health) {
        _logger.logger.error(_logger.LogLevel.ERROR, 'Critical system health detected', {
            health
        }, _logger.LogCategory.SYSTEM);
        // Enviar alertas cr칤ticas
        await this.sendSlackAlert({
            title: '游뚿 CRITICAL: System Health Alert',
            message: 'System health is critical - immediate attention required',
            severity: 'critical',
            details: health
        });
        // Auto-recovery si est치 habilitado
        if (this.config.enableAutoRecovery) {
            await this.attemptAutoRecovery(health);
        }
    }
    async handleWarningHealth(health) {
        _logger.logger.warn(_logger.LogLevel.WARN, 'System health warning', {
            health
        }, _logger.LogCategory.SYSTEM);
    }
    async attemptAutoRecovery(health) {
        _logger.logger.info(_logger.LogLevel.INFO, 'Attempting auto-recovery', {
            health
        }, _logger.LogCategory.SYSTEM);
    // Implementar l칩gica de auto-recuperaci칩n
    // Por ejemplo: reiniciar servicios, limpiar cache, etc.
    }
    /**
   * Configuraci칩n del servicio
   */ updateConfig(newConfig) {
        this.config = {
            ...this.config,
            ...newConfig
        };
        if (this.config.enabled && !this.monitoringInterval) {
            this.start();
        } else if (!this.config.enabled && this.monitoringInterval) {
            this.stop();
        }
    }
    getConfig() {
        return {
            ...this.config
        };
    }
    /**
   * Gesti칩n de patrones de error
   */ addErrorPattern(pattern) {
        this.errorPatterns.set(pattern.id, pattern);
        _logger.logger.info(_logger.LogLevel.INFO, 'Error pattern added', {
            patternId: pattern.id
        }, _logger.LogCategory.SYSTEM);
    }
    removeErrorPattern(patternId) {
        this.errorPatterns.delete(patternId);
        _logger.logger.info(_logger.LogLevel.INFO, 'Error pattern removed', {
            patternId
        }, _logger.LogCategory.SYSTEM);
    }
    getErrorPatterns() {
        return Array.from(this.errorPatterns.values());
    }
    /**
   * Obtener estad칤sticas de monitoreo
   */ async getMonitoringStats() {
        const totalErrors = Array.from(this.errorCounts.values()).reduce((sum, count)=>sum + count.count, 0);
        const activePatterns = Array.from(this.errorPatterns.values()).filter((p)=>p.isActive).length;
        const recentAlerts = this.alertSystem ? Array.from(this.errorCounts.values()).filter((count)=>Date.now() - count.lastSeen.getTime() < 24 * 60 * 60 * 1000).length : 0;
        const systemHealth = await this.getSystemHealth();
        return {
            totalErrors,
            activePatterns,
            recentAlerts,
            systemHealth
        };
    }
}
const proactiveMonitoring = ProactiveMonitoringService.getInstance();
const reportError = (error, context)=>proactiveMonitoring.reportError(error, context);
const startMonitoring = ()=>proactiveMonitoring.start();
const stopMonitoring = ()=>proactiveMonitoring.stop();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxtb25pdG9yaW5nXFxwcm9hY3RpdmUtbW9uaXRvcmluZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICcuLi9lbnRlcnByaXNlL2xvZ2dlcidcbmltcG9ydCB7IEVudGVycHJpc2VBbGVydFN5c3RlbSB9IGZyb20gJy4vYWxlcnQtc3lzdGVtJ1xuaW1wb3J0IHsgRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IgfSBmcm9tICcuL2VudGVycHJpc2UtbWV0cmljcydcbmltcG9ydCB7IGVtYWlsU2VydmljZSB9IGZyb20gJy4uL25vdGlmaWNhdGlvbnMvZW1haWwnXG5pbXBvcnQgeyBzbGFja1NlcnZpY2UgfSBmcm9tICcuLi9ub3RpZmljYXRpb25zL3NsYWNrJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yUGF0dGVybiB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHBhdHRlcm46IFJlZ0V4cCB8IHN0cmluZ1xuICBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCdcbiAgdGhyZXNob2xkOiBudW1iZXIgLy8gTsO6bWVybyBkZSBvY3VycmVuY2lhcyBhbnRlcyBkZSBhbGVydGFyXG4gIHRpbWVXaW5kb3c6IG51bWJlciAvLyBWZW50YW5hIGRlIHRpZW1wbyBlbiBtaW51dG9zXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTeXN0ZW1IZWFsdGgge1xuICBzdGF0dXM6ICdoZWFsdGh5JyB8ICd3YXJuaW5nJyB8ICdjcml0aWNhbCcgfCAnZG93bidcbiAgdXB0aW1lOiBudW1iZXJcbiAgcmVzcG9uc2VUaW1lOiBudW1iZXJcbiAgZXJyb3JSYXRlOiBudW1iZXJcbiAgbWVtb3J5VXNhZ2U6IG51bWJlclxuICBjcHVVc2FnZTogbnVtYmVyXG4gIGFjdGl2ZUNvbm5lY3Rpb25zOiBudW1iZXJcbiAgbGFzdENoZWNrOiBEYXRlXG4gIGlzc3VlczogSGVhbHRoSXNzdWVbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aElzc3VlIHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAncGVyZm9ybWFuY2UnIHwgJ2Vycm9yJyB8ICdyZXNvdXJjZScgfCAnc2VjdXJpdHknXG4gIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJ1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgZGV0YWlsczogUmVjb3JkPHN0cmluZywgYW55PlxuICBmaXJzdERldGVjdGVkOiBEYXRlXG4gIGxhc3RTZWVuOiBEYXRlXG4gIGNvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb25pdG9yaW5nQ29uZmlnIHtcbiAgZW5hYmxlZDogYm9vbGVhblxuICBjaGVja0ludGVydmFsOiBudW1iZXIgLy8gZW4gc2VndW5kb3NcbiAgZXJyb3JUaHJlc2hvbGQ6IG51bWJlclxuICByZXNwb25zZVRpbWVUaHJlc2hvbGQ6IG51bWJlclxuICBtZW1vcnlUaHJlc2hvbGQ6IG51bWJlclxuICBjcHVUaHJlc2hvbGQ6IG51bWJlclxuICBlbmFibGVBdXRvUmVjb3Zlcnk6IGJvb2xlYW5cbiAgbm90aWZpY2F0aW9uQ2hhbm5lbHM6IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9hY3RpdmVNb25pdG9yaW5nU2VydmljZSB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBQcm9hY3RpdmVNb25pdG9yaW5nU2VydmljZVxuICBwcml2YXRlIGFsZXJ0U3lzdGVtOiBFbnRlcnByaXNlQWxlcnRTeXN0ZW1cbiAgcHJpdmF0ZSBtZXRyaWNzQ29sbGVjdG9yOiBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvclxuICBwcml2YXRlIGVycm9yUGF0dGVybnM6IE1hcDxzdHJpbmcsIEVycm9yUGF0dGVybj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBlcnJvckNvdW50czogTWFwPHN0cmluZywgeyBjb3VudDogbnVtYmVyOyBmaXJzdFNlZW46IERhdGU7IGxhc3RTZWVuOiBEYXRlIH0+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgaGVhbHRoQ2hlY2tzOiBNYXA8c3RyaW5nLCAoKSA9PiBQcm9taXNlPGFueT4+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbW9uaXRvcmluZ0ludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgY29uZmlnOiBNb25pdG9yaW5nQ29uZmlnXG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IFByb2FjdGl2ZU1vbml0b3JpbmdTZXJ2aWNlIHtcbiAgICBpZiAoIVByb2FjdGl2ZU1vbml0b3JpbmdTZXJ2aWNlLmluc3RhbmNlKSB7XG4gICAgICBQcm9hY3RpdmVNb25pdG9yaW5nU2VydmljZS5pbnN0YW5jZSA9IG5ldyBQcm9hY3RpdmVNb25pdG9yaW5nU2VydmljZSgpXG4gICAgfVxuICAgIHJldHVybiBQcm9hY3RpdmVNb25pdG9yaW5nU2VydmljZS5pbnN0YW5jZVxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gU29sbyBpbmljaWFsaXphciBlbiBlbCBzZXJ2aWRvclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5hbGVydFN5c3RlbSA9IEVudGVycHJpc2VBbGVydFN5c3RlbS5nZXRJbnN0YW5jZSgpXG4gICAgICB0aGlzLm1ldHJpY3NDb2xsZWN0b3IgPSBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3Rvci5nZXRJbnN0YW5jZSgpXG4gICAgfVxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIGNoZWNrSW50ZXJ2YWw6IDMwLCAvLyAzMCBzZWd1bmRvc1xuICAgICAgZXJyb3JUaHJlc2hvbGQ6IDUsIC8vIDUlIGVycm9yIHJhdGVcbiAgICAgIHJlc3BvbnNlVGltZVRocmVzaG9sZDogMjAwMCwgLy8gMiBzZWd1bmRvc1xuICAgICAgbWVtb3J5VGhyZXNob2xkOiA4MCwgLy8gODAlIG1lbW9yaWFcbiAgICAgIGNwdVRocmVzaG9sZDogNzAsIC8vIDcwJSBDUFVcbiAgICAgIGVuYWJsZUF1dG9SZWNvdmVyeTogdHJ1ZSxcbiAgICAgIG5vdGlmaWNhdGlvbkNoYW5uZWxzOiBbJ2VtYWlsJywgJ3NsYWNrJ10sXG4gICAgfVxuICAgIHRoaXMuaW5pdGlhbGl6ZURlZmF1bHRQYXR0ZXJucygpXG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVEZWZhdWx0UGF0dGVybnMoKTogdm9pZCB7XG4gICAgY29uc3QgZGVmYXVsdFBhdHRlcm5zOiBFcnJvclBhdHRlcm5bXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdkYXRhYmFzZV9jb25uZWN0aW9uX2Vycm9yJyxcbiAgICAgICAgbmFtZTogJ0RhdGFiYXNlIENvbm5lY3Rpb24gRXJyb3InLFxuICAgICAgICBwYXR0ZXJuOiAvZGF0YWJhc2UuKmNvbm5lY3Rpb24uKmZhaWxlZHxjb25uZWN0aW9uLip0aW1lb3V0fHBvb2wuKmV4aGF1c3RlZC9pLFxuICAgICAgICBzZXZlcml0eTogJ2NyaXRpY2FsJyxcbiAgICAgICAgdGhyZXNob2xkOiAzLFxuICAgICAgICB0aW1lV2luZG93OiA1LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Vycm9yZXMgZGUgY29uZXhpw7NuIGEgbGEgYmFzZSBkZSBkYXRvcycsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwYXltZW50X3Byb2Nlc3NpbmdfZXJyb3InLFxuICAgICAgICBuYW1lOiAnUGF5bWVudCBQcm9jZXNzaW5nIEVycm9yJyxcbiAgICAgICAgcGF0dGVybjogL3BheW1lbnQuKmZhaWxlZHx0cmFuc2FjdGlvbi4qZXJyb3J8bWVyY2Fkb3BhZ28uKmVycm9yL2ksXG4gICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIHRocmVzaG9sZDogNSxcbiAgICAgICAgdGltZVdpbmRvdzogMTAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRXJyb3JlcyBlbiBlbCBwcm9jZXNhbWllbnRvIGRlIHBhZ29zJyxcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2F1dGhlbnRpY2F0aW9uX2Vycm9yJyxcbiAgICAgICAgbmFtZTogJ0F1dGhlbnRpY2F0aW9uIEVycm9yJyxcbiAgICAgICAgcGF0dGVybjogL2F1dGguKmZhaWxlZHx1bmF1dGhvcml6ZWR8aW52YWxpZC4qdG9rZW58c2Vzc2lvbi4qZXhwaXJlZC9pLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHRpbWVXaW5kb3c6IDE1LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Vycm9yZXMgZGUgYXV0ZW50aWNhY2nDs24nLFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnYXBpX3JhdGVfbGltaXQnLFxuICAgICAgICBuYW1lOiAnQVBJIFJhdGUgTGltaXQgRXhjZWVkZWQnLFxuICAgICAgICBwYXR0ZXJuOiAvcmF0ZS4qbGltaXQuKmV4Y2VlZGVkfHRvby4qbWFueS4qcmVxdWVzdHN8NDI5L2ksXG4gICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgdGhyZXNob2xkOiAyMCxcbiAgICAgICAgdGltZVdpbmRvdzogNSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMw61taXRlIGRlIHZlbG9jaWRhZCBkZSBBUEkgZXhjZWRpZG8nLFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnc2VydmVyX2Vycm9yJyxcbiAgICAgICAgbmFtZTogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgICAgIHBhdHRlcm46IC9pbnRlcm5hbC4qc2VydmVyLiplcnJvcnw1MDAuKmVycm9yfHVuaGFuZGxlZC4qZXhjZXB0aW9uL2ksXG4gICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIHRocmVzaG9sZDogNSxcbiAgICAgICAgdGltZVdpbmRvdzogMTAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRXJyb3JlcyBpbnRlcm5vcyBkZWwgc2Vydmlkb3InLFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgXVxuXG4gICAgZGVmYXVsdFBhdHRlcm5zLmZvckVhY2gocGF0dGVybiA9PiB7XG4gICAgICB0aGlzLmVycm9yUGF0dGVybnMuc2V0KHBhdHRlcm4uaWQsIHBhdHRlcm4pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmljaWEgZWwgbW9uaXRvcmVvIHByb2FjdGl2b1xuICAgKi9cbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgLy8gU29sbyBlamVjdXRhciBlbiBlbCBzZXJ2aWRvclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5lbmFibGVkKSB7XG4gICAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCAnUHJvYWN0aXZlIG1vbml0b3JpbmcgaXMgZGlzYWJsZWQnLCB7fSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICB0aGlzLnN0b3AoKVxuICAgIH1cblxuICAgIHRoaXMubW9uaXRvcmluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5wZXJmb3JtSGVhbHRoQ2hlY2soKVxuICAgIH0sIHRoaXMuY29uZmlnLmNoZWNrSW50ZXJ2YWwgKiAxMDAwKVxuXG4gICAgbG9nZ2VyLmluZm8oXG4gICAgICBMb2dMZXZlbC5JTkZPLFxuICAgICAgJ1Byb2FjdGl2ZSBtb25pdG9yaW5nIHN0YXJ0ZWQnLFxuICAgICAge1xuICAgICAgICBpbnRlcnZhbDogdGhpcy5jb25maWcuY2hlY2tJbnRlcnZhbCxcbiAgICAgICAgcGF0dGVybnM6IHRoaXMuZXJyb3JQYXR0ZXJucy5zaXplLFxuICAgICAgfSxcbiAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRpZW5lIGVsIG1vbml0b3JlbyBwcm9hY3Rpdm9cbiAgICovXG4gIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMubW9uaXRvcmluZ0ludGVydmFsKVxuICAgICAgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwgPSBudWxsXG4gICAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCAnUHJvYWN0aXZlIG1vbml0b3Jpbmcgc3RvcHBlZCcsIHt9LCBMb2dDYXRlZ29yeS5TWVNURU0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdHJhIHVuIGVycm9yIHBhcmEgYW7DoWxpc2lzXG4gICAqL1xuICBhc3luYyByZXBvcnRFcnJvcihlcnJvcjogRXJyb3IgfCBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvclxuICAgIGNvbnN0IGVycm9yU3RhY2sgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWRcblxuICAgIC8vIFNvbG8gcHJvY2VzYXIgZW4gZWwgc2Vydmlkb3JcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIEFuYWxpemFyIHBhdHJvbmVzIGRlIGVycm9yXG4gICAgICBmb3IgKGNvbnN0IFtwYXR0ZXJuSWQsIHBhdHRlcm5dIG9mIHRoaXMuZXJyb3JQYXR0ZXJucykge1xuICAgICAgICBpZiAoIXBhdHRlcm4uaXNBY3RpdmUpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVnZXggPVxuICAgICAgICAgIHBhdHRlcm4ucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCA/IHBhdHRlcm4ucGF0dGVybiA6IG5ldyBSZWdFeHAocGF0dGVybi5wYXR0ZXJuLCAnaScpXG4gICAgICAgIGlmIChyZWdleC50ZXN0KGVycm9yTWVzc2FnZSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVBhdHRlcm5NYXRjaChwYXR0ZXJuSWQsIHBhdHRlcm4sIGVycm9yTWVzc2FnZSwgY29udGV4dClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzIHNpIGVzdMOhIGRpc3BvbmlibGVcbiAgICAgIGlmICh0aGlzLm1ldHJpY3NDb2xsZWN0b3IpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tZXRyaWNzQ29sbGVjdG9yLnJlY29yZE1ldHJpYygnZXJyb3JzX3RvdGFsJywgMSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb25fZXJyb3InLFxuICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTG9nIGRlbCBlcnJvclxuICAgIGxvZ2dlci5lcnJvcihcbiAgICAgIExvZ0xldmVsLkVSUk9SLFxuICAgICAgJ0Vycm9yIHJlcG9ydGVkIHRvIG1vbml0b3JpbmcnLFxuICAgICAge1xuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3JTdGFjayxcbiAgICAgICAgY29udGV4dCxcbiAgICAgIH0sXG4gICAgICBMb2dDYXRlZ29yeS5TWVNURU1cbiAgICApXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZVBhdHRlcm5NYXRjaChcbiAgICBwYXR0ZXJuSWQ6IHN0cmluZyxcbiAgICBwYXR0ZXJuOiBFcnJvclBhdHRlcm4sXG4gICAgZXJyb3JNZXNzYWdlOiBzdHJpbmcsXG4gICAgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IGtleSA9IGAke3BhdHRlcm5JZH1fJHtNYXRoLmZsb29yKG5vdy5nZXRUaW1lKCkgLyAocGF0dGVybi50aW1lV2luZG93ICogNjAgKiAxMDAwKSl9YFxuXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmVycm9yQ291bnRzLmdldChrZXkpXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBleGlzdGluZy5jb3VudCsrXG4gICAgICBleGlzdGluZy5sYXN0U2VlbiA9IG5vd1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVycm9yQ291bnRzLnNldChrZXksIHtcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIGZpcnN0U2Vlbjogbm93LFxuICAgICAgICBsYXN0U2Vlbjogbm93LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvckNvdW50ID0gdGhpcy5lcnJvckNvdW50cy5nZXQoa2V5KSFcblxuICAgIC8vIFZlcmlmaWNhciBzaSBzZSBhbGNhbnrDsyBlbCB1bWJyYWwgKHNvbG8gZW4gc2Vydmlkb3IpXG4gICAgaWYgKGVycm9yQ291bnQuY291bnQgPj0gcGF0dGVybi50aHJlc2hvbGQgJiYgdGhpcy5hbGVydFN5c3RlbSkge1xuICAgICAgYXdhaXQgdGhpcy50cmlnZ2VyQWxlcnQocGF0dGVybiwgZXJyb3JDb3VudCwgZXJyb3JNZXNzYWdlLCBjb250ZXh0KVxuXG4gICAgICAvLyBMaW1waWFyIGNvbnRhZG9yIHBhcmEgZXZpdGFyIHNwYW0gZGUgYWxlcnRhc1xuICAgICAgdGhpcy5lcnJvckNvdW50cy5kZWxldGUoa2V5KVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdHJpZ2dlckFsZXJ0KFxuICAgIHBhdHRlcm46IEVycm9yUGF0dGVybixcbiAgICBlcnJvckNvdW50OiB7IGNvdW50OiBudW1iZXI7IGZpcnN0U2VlbjogRGF0ZTsgbGFzdFNlZW46IERhdGUgfSxcbiAgICBlcnJvck1lc3NhZ2U6IHN0cmluZyxcbiAgICBjb250ZXh0PzogUmVjb3JkPHN0cmluZywgYW55PlxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhbGVydCA9IHtcbiAgICAgIGlkOiBgcGF0dGVybl8ke3BhdHRlcm4uaWR9XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdGl0bGU6IGBFcnJvciBQYXR0ZXJuIERldGVjdGVkOiAke3BhdHRlcm4ubmFtZX1gLFxuICAgICAgbWVzc2FnZTogYFBhdHRlcm4gXCIke3BhdHRlcm4ubmFtZX1cIiBkZXRlY3RlZCAke2Vycm9yQ291bnQuY291bnR9IHRpbWVzIGluICR7cGF0dGVybi50aW1lV2luZG93fSBtaW51dGVzYCxcbiAgICAgIHNldmVyaXR5OiBwYXR0ZXJuLnNldmVyaXR5LFxuICAgICAgZGV0YWlsczoge1xuICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwYXR0ZXJuLmRlc2NyaXB0aW9uLFxuICAgICAgICBjb3VudDogZXJyb3JDb3VudC5jb3VudCxcbiAgICAgICAgdGhyZXNob2xkOiBwYXR0ZXJuLnRocmVzaG9sZCxcbiAgICAgICAgdGltZVdpbmRvdzogcGF0dGVybi50aW1lV2luZG93LFxuICAgICAgICBmaXJzdFNlZW46IGVycm9yQ291bnQuZmlyc3RTZWVuLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGxhc3RTZWVuOiBlcnJvckNvdW50Lmxhc3RTZWVuLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGxhc3RFcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgfSxcbiAgICB9XG5cbiAgICAvLyBFbnZpYXIgbm90aWZpY2FjaW9uZXNcbiAgICBpZiAodGhpcy5jb25maWcubm90aWZpY2F0aW9uQ2hhbm5lbHMuaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2VuZEVtYWlsQWxlcnQoYWxlcnQpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLm5vdGlmaWNhdGlvbkNoYW5uZWxzLmluY2x1ZGVzKCdzbGFjaycpKSB7XG4gICAgICBhd2FpdCB0aGlzLnNlbmRTbGFja0FsZXJ0KGFsZXJ0KVxuICAgIH1cblxuICAgIGxvZ2dlci53YXJuKExvZ0xldmVsLldBUk4sICdFcnJvciBwYXR0ZXJuIGFsZXJ0IHRyaWdnZXJlZCcsIGFsZXJ0LCBMb2dDYXRlZ29yeS5TWVNURU0pXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNlbmRFbWFpbEFsZXJ0KGFsZXJ0OiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZW1haWxTZXJ2aWNlLnNlbmROb3RpZmljYXRpb24oe1xuICAgICAgICB0bzogWydhZG1pbkBleGFtcGxlLmNvbSddLCAvLyBDb25maWd1cmFyIGVtYWlscyBkZSBhZG1pblxuICAgICAgICBzdWJqZWN0OiBg8J+aqCAke2FsZXJ0LnRpdGxlfWAsXG4gICAgICAgIHRlbXBsYXRlOiAnZXJyb3ItcGF0dGVybi1hbGVydCcsXG4gICAgICAgIGRhdGE6IGFsZXJ0LFxuICAgICAgICBwcmlvcml0eTogYWxlcnQuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcgPyAnaGlnaCcgOiAnbm9ybWFsJyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgJ0ZhaWxlZCB0byBzZW5kIGVtYWlsIGFsZXJ0JywgeyBlcnJvciB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kU2xhY2tBbGVydChhbGVydDogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNsYWNrU2VydmljZS5zZW5kRXJyb3JBbGVydCh7XG4gICAgICAgIGVycm9yOiBhbGVydC5tZXNzYWdlLFxuICAgICAgICBjb250ZXh0OiBhbGVydC50aXRsZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzZXZlcml0eTogYWxlcnQuc2V2ZXJpdHksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gc2VuZCBTbGFjayBhbGVydCcsIHsgZXJyb3IgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFsaXphIHZlcmlmaWNhY2nDs24gZGUgc2FsdWQgZGVsIHNpc3RlbWFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcGVyZm9ybUhlYWx0aENoZWNrKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBoZWFsdGggPSBhd2FpdCB0aGlzLmdldFN5c3RlbUhlYWx0aCgpXG5cbiAgICAgIC8vIFZlcmlmaWNhciB1bWJyYWxlcyBjcsOtdGljb3NcbiAgICAgIGlmIChoZWFsdGguc3RhdHVzID09PSAnY3JpdGljYWwnIHx8IGhlYWx0aC5zdGF0dXMgPT09ICdkb3duJykge1xuICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUNyaXRpY2FsSGVhbHRoKGhlYWx0aClcbiAgICAgIH0gZWxzZSBpZiAoaGVhbHRoLnN0YXR1cyA9PT0gJ3dhcm5pbmcnKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlV2FybmluZ0hlYWx0aChoZWFsdGgpXG4gICAgICB9XG5cbiAgICAgIC8vIEFjdHVhbGl6YXIgbcOpdHJpY2FzIHNpIGVzdMOhIGRpc3BvbmlibGVcbiAgICAgIGlmICh0aGlzLm1ldHJpY3NDb2xsZWN0b3IpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tZXRyaWNzQ29sbGVjdG9yLnJlY29yZE1ldHJpYyhcbiAgICAgICAgICAnc3lzdGVtX2hlYWx0aF9zY29yZScsXG4gICAgICAgICAgdGhpcy5jYWxjdWxhdGVIZWFsdGhTY29yZShoZWFsdGgpXG4gICAgICAgIClcbiAgICAgICAgYXdhaXQgdGhpcy5tZXRyaWNzQ29sbGVjdG9yLnJlY29yZE1ldHJpYygnc3lzdGVtX3Jlc3BvbnNlX3RpbWUnLCBoZWFsdGgucmVzcG9uc2VUaW1lKVxuICAgICAgICBhd2FpdCB0aGlzLm1ldHJpY3NDb2xsZWN0b3IucmVjb3JkTWV0cmljKCdzeXN0ZW1fZXJyb3JfcmF0ZScsIGhlYWx0aC5lcnJvclJhdGUpXG4gICAgICAgIGF3YWl0IHRoaXMubWV0cmljc0NvbGxlY3Rvci5yZWNvcmRNZXRyaWMoJ3N5c3RlbV9tZW1vcnlfdXNhZ2UnLCBoZWFsdGgubWVtb3J5VXNhZ2UpXG4gICAgICAgIGF3YWl0IHRoaXMubWV0cmljc0NvbGxlY3Rvci5yZWNvcmRNZXRyaWMoJ3N5c3RlbV9jcHVfdXNhZ2UnLCBoZWFsdGguY3B1VXNhZ2UpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcbiAgICAgICAgTG9nTGV2ZWwuRVJST1IsXG4gICAgICAgICdIZWFsdGggY2hlY2sgZmFpbGVkJyxcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgfSxcbiAgICAgICAgTG9nQ2F0ZWdvcnkuU1lTVEVNXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRTeXN0ZW1IZWFsdGgoKTogUHJvbWlzZTxTeXN0ZW1IZWFsdGg+IHtcbiAgICBjb25zdCBpc3N1ZXM6IEhlYWx0aElzc3VlW10gPSBbXVxuICAgIGxldCBzdGF0dXM6IFN5c3RlbUhlYWx0aFsnc3RhdHVzJ10gPSAnaGVhbHRoeSdcblxuICAgIC8vIFNpbXVsYXIgdmVyaWZpY2FjaW9uZXMgZGUgc2FsdWQgKGVuIHByb2R1Y2Npw7NuLCBlc3RhcyBzZXLDrWFuIHZlcmlmaWNhY2lvbmVzIHJlYWxlcylcbiAgICBjb25zdCByZXNwb25zZVRpbWUgPSBNYXRoLnJhbmRvbSgpICogMTAwMCArIDIwMCAvLyAyMDAtMTIwMG1zXG4gICAgY29uc3QgZXJyb3JSYXRlID0gTWF0aC5yYW5kb20oKSAqIDUgLy8gMC01JVxuICAgIGNvbnN0IG1lbW9yeVVzYWdlID0gTWF0aC5yYW5kb20oKSAqIDQwICsgNDAgLy8gNDAtODAlXG4gICAgY29uc3QgY3B1VXNhZ2UgPSBNYXRoLnJhbmRvbSgpICogMzAgKyAyMCAvLyAyMC01MCVcbiAgICBjb25zdCBhY3RpdmVDb25uZWN0aW9ucyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyA1MFxuXG4gICAgLy8gVmVyaWZpY2FyIHVtYnJhbGVzXG4gICAgaWYgKHJlc3BvbnNlVGltZSA+IHRoaXMuY29uZmlnLnJlc3BvbnNlVGltZVRocmVzaG9sZCkge1xuICAgICAgaXNzdWVzLnB1c2goe1xuICAgICAgICBpZDogJ2hpZ2hfcmVzcG9uc2VfdGltZScsXG4gICAgICAgIHR5cGU6ICdwZXJmb3JtYW5jZScsXG4gICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgbWVzc2FnZTogJ0hpZ2ggcmVzcG9uc2UgdGltZSBkZXRlY3RlZCcsXG4gICAgICAgIGRldGFpbHM6IHsgcmVzcG9uc2VUaW1lLCB0aHJlc2hvbGQ6IHRoaXMuY29uZmlnLnJlc3BvbnNlVGltZVRocmVzaG9sZCB9LFxuICAgICAgICBmaXJzdERldGVjdGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgICBsYXN0U2VlbjogbmV3IERhdGUoKSxcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICB9KVxuICAgICAgc3RhdHVzID0gJ3dhcm5pbmcnXG4gICAgfVxuXG4gICAgaWYgKGVycm9yUmF0ZSA+IHRoaXMuY29uZmlnLmVycm9yVGhyZXNob2xkKSB7XG4gICAgICBpc3N1ZXMucHVzaCh7XG4gICAgICAgIGlkOiAnaGlnaF9lcnJvcl9yYXRlJyxcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJyxcbiAgICAgICAgbWVzc2FnZTogJ0hpZ2ggZXJyb3IgcmF0ZSBkZXRlY3RlZCcsXG4gICAgICAgIGRldGFpbHM6IHsgZXJyb3JSYXRlLCB0aHJlc2hvbGQ6IHRoaXMuY29uZmlnLmVycm9yVGhyZXNob2xkIH0sXG4gICAgICAgIGZpcnN0RGV0ZWN0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGxhc3RTZWVuOiBuZXcgRGF0ZSgpLFxuICAgICAgICBjb3VudDogMSxcbiAgICAgIH0pXG4gICAgICBzdGF0dXMgPSAnY3JpdGljYWwnXG4gICAgfVxuXG4gICAgaWYgKG1lbW9yeVVzYWdlID4gdGhpcy5jb25maWcubWVtb3J5VGhyZXNob2xkKSB7XG4gICAgICBpc3N1ZXMucHVzaCh7XG4gICAgICAgIGlkOiAnaGlnaF9tZW1vcnlfdXNhZ2UnLFxuICAgICAgICB0eXBlOiAncmVzb3VyY2UnLFxuICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIG1lc3NhZ2U6ICdIaWdoIG1lbW9yeSB1c2FnZSBkZXRlY3RlZCcsXG4gICAgICAgIGRldGFpbHM6IHsgbWVtb3J5VXNhZ2UsIHRocmVzaG9sZDogdGhpcy5jb25maWcubWVtb3J5VGhyZXNob2xkIH0sXG4gICAgICAgIGZpcnN0RGV0ZWN0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGxhc3RTZWVuOiBuZXcgRGF0ZSgpLFxuICAgICAgICBjb3VudDogMSxcbiAgICAgIH0pXG4gICAgICBpZiAoc3RhdHVzID09PSAnaGVhbHRoeScpIHtcbiAgICAgICAgc3RhdHVzID0gJ3dhcm5pbmcnXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIHVwdGltZTpcbiAgICAgICAgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudXB0aW1lID8gcHJvY2Vzcy51cHRpbWUoKSA6IERhdGUubm93KCkgLyAxMDAwLFxuICAgICAgcmVzcG9uc2VUaW1lLFxuICAgICAgZXJyb3JSYXRlLFxuICAgICAgbWVtb3J5VXNhZ2UsXG4gICAgICBjcHVVc2FnZSxcbiAgICAgIGFjdGl2ZUNvbm5lY3Rpb25zLFxuICAgICAgbGFzdENoZWNrOiBuZXcgRGF0ZSgpLFxuICAgICAgaXNzdWVzLFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlSGVhbHRoU2NvcmUoaGVhbHRoOiBTeXN0ZW1IZWFsdGgpOiBudW1iZXIge1xuICAgIGxldCBzY29yZSA9IDEwMFxuXG4gICAgaGVhbHRoLmlzc3Vlcy5mb3JFYWNoKGlzc3VlID0+IHtcbiAgICAgIHN3aXRjaCAoaXNzdWUuc2V2ZXJpdHkpIHtcbiAgICAgICAgY2FzZSAnY3JpdGljYWwnOlxuICAgICAgICAgIHNjb3JlIC09IDMwXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnaGlnaCc6XG4gICAgICAgICAgc2NvcmUgLT0gMjBcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgICAgIHNjb3JlIC09IDEwXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnbG93JzpcbiAgICAgICAgICBzY29yZSAtPSA1XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIHNjb3JlKVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVDcml0aWNhbEhlYWx0aChoZWFsdGg6IFN5c3RlbUhlYWx0aCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgJ0NyaXRpY2FsIHN5c3RlbSBoZWFsdGggZGV0ZWN0ZWQnLCB7IGhlYWx0aCB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXG5cbiAgICAvLyBFbnZpYXIgYWxlcnRhcyBjcsOtdGljYXNcbiAgICBhd2FpdCB0aGlzLnNlbmRTbGFja0FsZXJ0KHtcbiAgICAgIHRpdGxlOiAn8J+aqCBDUklUSUNBTDogU3lzdGVtIEhlYWx0aCBBbGVydCcsXG4gICAgICBtZXNzYWdlOiAnU3lzdGVtIGhlYWx0aCBpcyBjcml0aWNhbCAtIGltbWVkaWF0ZSBhdHRlbnRpb24gcmVxdWlyZWQnLFxuICAgICAgc2V2ZXJpdHk6ICdjcml0aWNhbCcsXG4gICAgICBkZXRhaWxzOiBoZWFsdGgsXG4gICAgfSlcblxuICAgIC8vIEF1dG8tcmVjb3Zlcnkgc2kgZXN0w6EgaGFiaWxpdGFkb1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBdXRvUmVjb3ZlcnkpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXR0ZW1wdEF1dG9SZWNvdmVyeShoZWFsdGgpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVXYXJuaW5nSGVhbHRoKGhlYWx0aDogU3lzdGVtSGVhbHRoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbG9nZ2VyLndhcm4oTG9nTGV2ZWwuV0FSTiwgJ1N5c3RlbSBoZWFsdGggd2FybmluZycsIHsgaGVhbHRoIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSlcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYXR0ZW1wdEF1dG9SZWNvdmVyeShoZWFsdGg6IFN5c3RlbUhlYWx0aCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxvZ2dlci5pbmZvKExvZ0xldmVsLklORk8sICdBdHRlbXB0aW5nIGF1dG8tcmVjb3ZlcnknLCB7IGhlYWx0aCB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXG5cbiAgICAvLyBJbXBsZW1lbnRhciBsw7NnaWNhIGRlIGF1dG8tcmVjdXBlcmFjacOzblxuICAgIC8vIFBvciBlamVtcGxvOiByZWluaWNpYXIgc2VydmljaW9zLCBsaW1waWFyIGNhY2hlLCBldGMuXG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJhY2nDs24gZGVsIHNlcnZpY2lvXG4gICAqL1xuICB1cGRhdGVDb25maWcobmV3Q29uZmlnOiBQYXJ0aWFsPE1vbml0b3JpbmdDb25maWc+KTogdm9pZCB7XG4gICAgdGhpcy5jb25maWcgPSB7IC4uLnRoaXMuY29uZmlnLCAuLi5uZXdDb25maWcgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZWQgJiYgIXRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICB0aGlzLnN0YXJ0KClcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbmZpZy5lbmFibGVkICYmIHRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICB0aGlzLnN0b3AoKVxuICAgIH1cbiAgfVxuXG4gIGdldENvbmZpZygpOiBNb25pdG9yaW5nQ29uZmlnIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmNvbmZpZyB9XG4gIH1cblxuICAvKipcbiAgICogR2VzdGnDs24gZGUgcGF0cm9uZXMgZGUgZXJyb3JcbiAgICovXG4gIGFkZEVycm9yUGF0dGVybihwYXR0ZXJuOiBFcnJvclBhdHRlcm4pOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yUGF0dGVybnMuc2V0KHBhdHRlcm4uaWQsIHBhdHRlcm4pXG4gICAgbG9nZ2VyLmluZm8oTG9nTGV2ZWwuSU5GTywgJ0Vycm9yIHBhdHRlcm4gYWRkZWQnLCB7IHBhdHRlcm5JZDogcGF0dGVybi5pZCB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXG4gIH1cblxuICByZW1vdmVFcnJvclBhdHRlcm4ocGF0dGVybklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yUGF0dGVybnMuZGVsZXRlKHBhdHRlcm5JZClcbiAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCAnRXJyb3IgcGF0dGVybiByZW1vdmVkJywgeyBwYXR0ZXJuSWQgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxuICB9XG5cbiAgZ2V0RXJyb3JQYXR0ZXJucygpOiBFcnJvclBhdHRlcm5bXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lcnJvclBhdHRlcm5zLnZhbHVlcygpKVxuICB9XG5cbiAgLyoqXG4gICAqIE9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZSBtb25pdG9yZW9cbiAgICovXG4gIGFzeW5jIGdldE1vbml0b3JpbmdTdGF0cygpOiBQcm9taXNlPHtcbiAgICB0b3RhbEVycm9yczogbnVtYmVyXG4gICAgYWN0aXZlUGF0dGVybnM6IG51bWJlclxuICAgIHJlY2VudEFsZXJ0czogbnVtYmVyXG4gICAgc3lzdGVtSGVhbHRoOiBTeXN0ZW1IZWFsdGhcbiAgfT4ge1xuICAgIGNvbnN0IHRvdGFsRXJyb3JzID0gQXJyYXkuZnJvbSh0aGlzLmVycm9yQ291bnRzLnZhbHVlcygpKS5yZWR1Y2UoXG4gICAgICAoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQuY291bnQsXG4gICAgICAwXG4gICAgKVxuXG4gICAgY29uc3QgYWN0aXZlUGF0dGVybnMgPSBBcnJheS5mcm9tKHRoaXMuZXJyb3JQYXR0ZXJucy52YWx1ZXMoKSkuZmlsdGVyKHAgPT4gcC5pc0FjdGl2ZSkubGVuZ3RoXG5cbiAgICBjb25zdCByZWNlbnRBbGVydHMgPSB0aGlzLmFsZXJ0U3lzdGVtXG4gICAgICA/IEFycmF5LmZyb20odGhpcy5lcnJvckNvdW50cy52YWx1ZXMoKSkuZmlsdGVyKFxuICAgICAgICAgIGNvdW50ID0+IERhdGUubm93KCkgLSBjb3VudC5sYXN0U2Vlbi5nZXRUaW1lKCkgPCAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgICAgICkubGVuZ3RoXG4gICAgICA6IDBcblxuICAgIGNvbnN0IHN5c3RlbUhlYWx0aCA9IGF3YWl0IHRoaXMuZ2V0U3lzdGVtSGVhbHRoKClcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEVycm9ycyxcbiAgICAgIGFjdGl2ZVBhdHRlcm5zLFxuICAgICAgcmVjZW50QWxlcnRzLFxuICAgICAgc3lzdGVtSGVhbHRoLFxuICAgIH1cbiAgfVxufVxuXG4vLyBJbnN0YW5jaWEgc2luZ2xldG9uXG5leHBvcnQgY29uc3QgcHJvYWN0aXZlTW9uaXRvcmluZyA9IFByb2FjdGl2ZU1vbml0b3JpbmdTZXJ2aWNlLmdldEluc3RhbmNlKClcblxuLy8gRnVuY2lvbmVzIGRlIGNvbnZlbmllbmNpYVxuZXhwb3J0IGNvbnN0IHJlcG9ydEVycm9yID0gKGVycm9yOiBFcnJvciB8IHN0cmluZywgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT4pID0+XG4gIHByb2FjdGl2ZU1vbml0b3JpbmcucmVwb3J0RXJyb3IoZXJyb3IsIGNvbnRleHQpXG5cbmV4cG9ydCBjb25zdCBzdGFydE1vbml0b3JpbmcgPSAoKSA9PiBwcm9hY3RpdmVNb25pdG9yaW5nLnN0YXJ0KClcbmV4cG9ydCBjb25zdCBzdG9wTW9uaXRvcmluZyA9ICgpID0+IHByb2FjdGl2ZU1vbml0b3Jpbmcuc3RvcCgpXG4iXSwibmFtZXMiOlsiUHJvYWN0aXZlTW9uaXRvcmluZ1NlcnZpY2UiLCJwcm9hY3RpdmVNb25pdG9yaW5nIiwicmVwb3J0RXJyb3IiLCJzdGFydE1vbml0b3JpbmciLCJzdG9wTW9uaXRvcmluZyIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJlcnJvclBhdHRlcm5zIiwiTWFwIiwiZXJyb3JDb3VudHMiLCJoZWFsdGhDaGVja3MiLCJtb25pdG9yaW5nSW50ZXJ2YWwiLCJ3aW5kb3ciLCJhbGVydFN5c3RlbSIsIkVudGVycHJpc2VBbGVydFN5c3RlbSIsIm1ldHJpY3NDb2xsZWN0b3IiLCJFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvciIsImNvbmZpZyIsImVuYWJsZWQiLCJjaGVja0ludGVydmFsIiwiZXJyb3JUaHJlc2hvbGQiLCJyZXNwb25zZVRpbWVUaHJlc2hvbGQiLCJtZW1vcnlUaHJlc2hvbGQiLCJjcHVUaHJlc2hvbGQiLCJlbmFibGVBdXRvUmVjb3ZlcnkiLCJub3RpZmljYXRpb25DaGFubmVscyIsImluaXRpYWxpemVEZWZhdWx0UGF0dGVybnMiLCJkZWZhdWx0UGF0dGVybnMiLCJpZCIsIm5hbWUiLCJwYXR0ZXJuIiwic2V2ZXJpdHkiLCJ0aHJlc2hvbGQiLCJ0aW1lV2luZG93IiwiZGVzY3JpcHRpb24iLCJpc0FjdGl2ZSIsImZvckVhY2giLCJzZXQiLCJzdGFydCIsImxvZ2dlciIsImluZm8iLCJMb2dMZXZlbCIsIklORk8iLCJMb2dDYXRlZ29yeSIsIlNZU1RFTSIsInN0b3AiLCJzZXRJbnRlcnZhbCIsInBlcmZvcm1IZWFsdGhDaGVjayIsImludGVydmFsIiwicGF0dGVybnMiLCJzaXplIiwiY2xlYXJJbnRlcnZhbCIsImVycm9yIiwiY29udGV4dCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsImVycm9yU3RhY2siLCJzdGFjayIsInVuZGVmaW5lZCIsInBhdHRlcm5JZCIsInJlZ2V4IiwiUmVnRXhwIiwidGVzdCIsImhhbmRsZVBhdHRlcm5NYXRjaCIsInJlY29yZE1ldHJpYyIsInR5cGUiLCJFUlJPUiIsIm5vdyIsIkRhdGUiLCJrZXkiLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwiZXhpc3RpbmciLCJnZXQiLCJjb3VudCIsImxhc3RTZWVuIiwiZmlyc3RTZWVuIiwiZXJyb3JDb3VudCIsInRyaWdnZXJBbGVydCIsImRlbGV0ZSIsImFsZXJ0IiwidGl0bGUiLCJkZXRhaWxzIiwidG9JU09TdHJpbmciLCJsYXN0RXJyb3IiLCJpbmNsdWRlcyIsInNlbmRFbWFpbEFsZXJ0Iiwic2VuZFNsYWNrQWxlcnQiLCJ3YXJuIiwiV0FSTiIsImVtYWlsU2VydmljZSIsInNlbmROb3RpZmljYXRpb24iLCJ0byIsInN1YmplY3QiLCJ0ZW1wbGF0ZSIsImRhdGEiLCJwcmlvcml0eSIsInNsYWNrU2VydmljZSIsInNlbmRFcnJvckFsZXJ0IiwidGltZXN0YW1wIiwiaGVhbHRoIiwiZ2V0U3lzdGVtSGVhbHRoIiwic3RhdHVzIiwiaGFuZGxlQ3JpdGljYWxIZWFsdGgiLCJoYW5kbGVXYXJuaW5nSGVhbHRoIiwiY2FsY3VsYXRlSGVhbHRoU2NvcmUiLCJyZXNwb25zZVRpbWUiLCJlcnJvclJhdGUiLCJtZW1vcnlVc2FnZSIsImNwdVVzYWdlIiwiaXNzdWVzIiwicmFuZG9tIiwiYWN0aXZlQ29ubmVjdGlvbnMiLCJwdXNoIiwiZmlyc3REZXRlY3RlZCIsInVwdGltZSIsInByb2Nlc3MiLCJsYXN0Q2hlY2siLCJzY29yZSIsImlzc3VlIiwibWF4IiwiYXR0ZW1wdEF1dG9SZWNvdmVyeSIsInVwZGF0ZUNvbmZpZyIsIm5ld0NvbmZpZyIsImdldENvbmZpZyIsImFkZEVycm9yUGF0dGVybiIsInJlbW92ZUVycm9yUGF0dGVybiIsImdldEVycm9yUGF0dGVybnMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJnZXRNb25pdG9yaW5nU3RhdHMiLCJ0b3RhbEVycm9ycyIsInJlZHVjZSIsInN1bSIsImFjdGl2ZVBhdHRlcm5zIiwiZmlsdGVyIiwicCIsImxlbmd0aCIsInJlY2VudEFsZXJ0cyIsInN5c3RlbUhlYWx0aCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztRQXFEYUE7ZUFBQUE7O1FBd2ZBQztlQUFBQTs7UUFHQUM7ZUFBQUE7O1FBR0FDO2VBQUFBOztRQUNBQztlQUFBQTs7O3dCQWxqQmlDOzZCQUNSO21DQUNLO3VCQUNkO3VCQUNBO0FBK0N0QixNQUFNSjtJQVVYLE9BQU9LLGNBQTBDO1FBQy9DLElBQUksQ0FBQ0wsMkJBQTJCTSxRQUFRLEVBQUU7WUFDeENOLDJCQUEyQk0sUUFBUSxHQUFHLElBQUlOO1FBQzVDO1FBQ0EsT0FBT0EsMkJBQTJCTSxRQUFRO0lBQzVDO0lBRUEsYUFBYzthQWJOQyxnQkFBMkMsSUFBSUM7YUFDL0NDLGNBQStFLElBQUlEO2FBQ25GRSxlQUFnRCxJQUFJRjthQUNwREcscUJBQTRDO1FBV2xELGtDQUFrQztRQUNsQyxJQUFJLE9BQU9DLFdBQVcsYUFBYTtZQUNqQyxJQUFJLENBQUNDLFdBQVcsR0FBR0Msa0NBQXFCLENBQUNULFdBQVc7WUFDcEQsSUFBSSxDQUFDVSxnQkFBZ0IsR0FBR0MsNkNBQTBCLENBQUNYLFdBQVc7UUFDaEU7UUFDQSxJQUFJ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