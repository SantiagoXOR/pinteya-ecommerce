{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\bottom-navigation.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { cn } from '@/lib/utils'\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport {\n  Tag,\n  Package,\n  Calculator,\n  Menu,\n  ShoppingCart,\n  User,\n  Percent,\n  ClipboardList,\n} from 'lucide-react'\nimport { Home } from 'lucide-react'\nimport { useAppSelector } from '@/redux/store'\n\nconst bottomNavigationVariants = cva(\n  'fixed bottom-0 left-0 right-0 z-bottom-nav border-t shadow-lg backdrop-blur-sm',\n  {\n    variants: {\n      variant: {\n        default: 'bg-white/95 border-gray-200',\n        warm: 'bg-orange-50/95 border-orange-100',\n        dark: 'bg-gray-900/95 border-gray-700',\n        primary: 'bg-primary/5 border-primary/20',\n      },\n    },\n    defaultVariants: {\n      variant: 'warm',\n    },\n  }\n)\n\nconst bottomNavigationItemVariants = cva(\n  'flex flex-col items-center justify-center py-3 px-2 min-h-[68px] transition-all duration-300 relative group',\n  {\n    variants: {\n      active: {\n        true: 'text-primary-700', // Texto más oscuro para mejor contraste\n        false: 'text-gray-700 hover:text-gray-900', // Texto más oscuro por defecto\n      },\n    },\n    defaultVariants: {\n      active: false,\n    },\n  }\n)\n\nexport interface BottomNavigationItem {\n  id: string\n  label: string\n  href: string\n  icon: React.ReactNode\n  badge?: number\n  disabled?: boolean\n}\n\nexport interface BottomNavigationProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof bottomNavigationVariants> {\n  items?: BottomNavigationItem[]\n  showLabels?: boolean\n  maxItems?: number\n}\n\n// Items por defecto para Pinteya E-commerce\nconst defaultItems: BottomNavigationItem[] = [\n  {\n    id: 'home',\n    label: 'Inicio',\n    href: '/',\n    icon: <Home className='w-5 h-5 fill-current' strokeWidth={1.5} />,\n  },\n  {\n    id: 'offers',\n    label: 'Ofertas',\n    href: '/shop',\n    icon: <Percent className='w-5 h-5' strokeWidth={2} />,\n  },\n  {\n    id: 'orders',\n    label: 'Órdenes',\n    href: '/orders',\n    icon: <ClipboardList className='w-5 h-5' strokeWidth={1.5} />,\n  },\n  {\n    id: 'calculator',\n    label: 'Cotizador',\n    href: '/calculator',\n    icon: <Calculator className='w-5 h-5' strokeWidth={1.5} />,\n  },\n  {\n    id: 'menu',\n    label: 'Menú',\n    href: '/menu',\n    icon: <Menu className='w-5 h-5' strokeWidth={2} />,\n  },\n]\n\nconst BottomNavigation = React.forwardRef<HTMLDivElement, BottomNavigationProps>(\n  (\n    { className, variant, items = defaultItems, showLabels = true, maxItems = 5, ...props },\n    ref\n  ) => {\n    const pathname = usePathname()\n    const cartItems = useAppSelector(state => state.cartReducer.items)\n\n    // Limitar items al máximo especificado\n    const displayItems = items.slice(0, maxItems)\n\n    // Función para determinar si un item está activo\n    const isActive = (href: string) => {\n      if (href === '/') {\n        return pathname === '/'\n      }\n      // Evitar que /menu active otros paths y viceversa\n      if (href === '/menu') {\n        return pathname === '/menu'\n      }\n      // Para otros paths, verificar que no sea menu y que coincida\n      if (pathname === '/menu') {\n        return false\n      }\n      return pathname.startsWith(href)\n    }\n\n    return (\n      <nav ref={ref} className={cn(bottomNavigationVariants({ variant }), className)} {...props}>\n        <div className='flex items-center justify-around max-w-md mx-auto w-full bottom-nav-container'>\n          {displayItems.map(item => {\n            const active = isActive(item.href)\n            const badge = item.id === 'orders' ? cartItems.length : item.badge\n            const showBadge = badge && badge > 0\n            const showDot = !showBadge && item.id === 'orders' && cartItems.length === 0\n\n            return (\n              <Link\n                key={item.id}\n                href={item.href}\n                className={cn(\n                  bottomNavigationItemVariants({ active }),\n                  item.disabled && 'opacity-50 pointer-events-none',\n                  'flex-1 max-w-[85px] bottom-nav-item',\n                  active && 'bottom-nav-item-active'\n                )}\n                aria-label={item.label}\n              >\n                {/* Contenedor del ícono con fondo circular para estado activo */}\n                <div\n                  className={cn(\n                    'relative flex items-center justify-center transition-all duration-300',\n                    active\n                      ? 'bg-primary/15 rounded-full p-2 mb-1 shadow-sm'\n                      : 'mb-2 hover:bg-gray-100/50 rounded-full p-2'\n                  )}\n                >\n                  {/* Ícono con tamaño dinámico */}\n                  <div\n                    className={cn(\n                      'transition-all duration-300',\n                      active ? 'scale-110' : 'scale-100'\n                    )}\n                  >\n                    {React.cloneElement(item.icon as React.ReactElement, {\n                      className: cn(\n                        'transition-all duration-300',\n                        active ? 'w-6 h-6 text-primary-700' : 'w-5 h-5'\n                      ),\n                    })}\n                  </div>\n\n                  {/* Badge para notificaciones */}\n                  {showBadge && (\n                    <span\n                      className={cn(\n                        'absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 shadow-sm',\n                        badge && badge > 0 && 'bottom-nav-badge-pulse'\n                      )}\n                    >\n                      {badge && badge > 99 ? '99+' : badge}\n                    </span>\n                  )}\n\n                  {/* Dot indicator sutil para items sin badge */}\n                  {showDot && (\n                    <div className='absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary/60 rounded-full' />\n                  )}\n                </div>\n\n                {/* Label con tipografía mejorada */}\n                {showLabels && (\n                  <span\n                    className={cn(\n                      'text-xs leading-tight font-medium transition-all duration-300 bottom-nav-text-shadow',\n                      active\n                        ? 'text-primary-800 font-bold' // Texto más oscuro y bold para mejor contraste\n                        : 'text-gray-700 group-hover:text-gray-900'\n                    )}\n                  >\n                    {item.label}\n                  </span>\n                )}\n              </Link>\n            )\n          })}\n        </div>\n      </nav>\n    )\n  }\n)\n\nBottomNavigation.displayName = 'BottomNavigation'\n\nexport { BottomNavigation, bottomNavigationVariants }\n"],"names":["BottomNavigation","bottomNavigationVariants","cva","variants","variant","default","warm","dark","primary","defaultVariants","bottomNavigationItemVariants","active","true","false","defaultItems","id","label","href","icon","Home","className","strokeWidth","Percent","ClipboardList","Calculator","Menu","React","forwardRef","items","showLabels","maxItems","props","ref","pathname","usePathname","cartItems","useAppSelector","state","cartReducer","displayItems","slice","isActive","startsWith","nav","cn","div","map","item","badge","length","showBadge","showDot","Link","disabled","aria-label","cloneElement","span","displayName"],"mappings":"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"}