5c99e7f0dbb69bf9ef5bf43db1dc313e
"use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush
            })
    }));
// Mock API
jest.mock('@/lib/api/products', ()=>({
        searchProducts: jest.fn()
    }));
// Patrón 3 exitoso: Comportamientos testing - Mock completo del hook useTrendingSearches
jest.mock('@/hooks/useTrendingSearches', ()=>({
        useTrendingSearches: ()=>({
                trendingSearches: [
                    {
                        id: 'trending-1',
                        query: 'Pintura látex',
                        href: '/shop?search=pintura+latex',
                        count: 150
                    },
                    {
                        id: 'trending-2',
                        query: 'Sherwin Williams',
                        href: '/shop?search=sherwin+williams',
                        count: 120
                    },
                    {
                        id: 'trending-3',
                        query: 'Rodillos premium',
                        href: '/shop?search=rodillos+premium',
                        count: 95
                    },
                    {
                        id: 'trending-4',
                        query: 'Pinceles',
                        href: '/shop?search=pinceles',
                        count: 80
                    }
                ],
                trackSearch: jest.fn().mockResolvedValue(undefined),
                isLoading: false,
                error: null
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _searchautocomplete = require("../../../components/ui/search-autocomplete");
const _products = require("../../../lib/api/products");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock Next.js router
const mockPush = jest.fn();
const mockSearchProducts = _products.searchProducts;
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
describe('SearchAutocomplete', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        localStorageMock.getItem.mockReturnValue(null);
    });
    it('renders with default placeholder', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        expect(_react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')).toBeInTheDocument();
    });
    it('renders with custom placeholder', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            placeholder: "Buscar productos..."
        }));
        expect(_react1.screen.getByPlaceholderText('Buscar productos...')).toBeInTheDocument();
    });
    it('shows trending searches when focused without query', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showTrendingSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas populares')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pintura látex')).toBeInTheDocument();
            expect(_react1.screen.getByText('Sherwin Williams')).toBeInTheDocument();
        });
    });
    it('shows recent searches when available', async ()=>{
        const user = _userevent.default.setup();
        const recentSearches = [
            'pintura blanca',
            'rodillos'
        ];
        localStorageMock.getItem.mockReturnValue(JSON.stringify(recentSearches));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showRecentSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas recientes')).toBeInTheDocument();
            expect(_react1.screen.getByText('pintura blanca')).toBeInTheDocument();
            expect(_react1.screen.getByText('rodillos')).toBeInTheDocument();
        });
    });
    it('searches products when typing', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Pintura Látex Blanca',
                category: {
                    name: 'Pinturas'
                },
                image_url: '/test-image.jpg',
                stock: 10
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'pintura');
        await (0, _react1.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 6);
        }, {
            timeout: 500
        });
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Productos')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pintura Látex Blanca')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pinturas')).toBeInTheDocument();
        });
    });
    it('handles API errors gracefully', async ()=>{
        const user = _userevent.default.setup();
        mockSearchProducts.mockRejectedValue(new Error('API Error'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test');
        await (0, _react1.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalled();
        }, {
            timeout: 500
        });
        // Should not crash and should clear suggestions
        expect(_react1.screen.queryByText('Productos')).not.toBeInTheDocument();
    });
    it('navigates to product when suggestion is clicked', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Pintura Test',
                category: {
                    name: 'Pinturas'
                },
                image_url: '/test.jpg',
                stock: 5
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'pintura');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Pintura Test')).toBeInTheDocument();
        });
        await user.click(_react1.screen.getByText('Pintura Test'));
        expect(mockPush).toHaveBeenCalledWith('/product/1');
    });
    it('submits search on Enter key', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        // Patrón 2 exitoso: Expectativas específicas - usar URL real que genera el componente
        expect(mockPush).toHaveBeenCalledWith('/search?q=test%20search');
    });
    it('saves recent searches', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showRecentSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        // Patrón 2 exitoso: Expectativas específicas - usar formato real que genera el componente
        expect(localStorageMock.setItem).toHaveBeenCalledWith('pinteya-recent-searches', expect.stringContaining('"searches":["test search"]'));
    });
    it('clears input when X button is clicked', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test');
        const clearButton = _react1.screen.getByRole('button', {
            name: /clear/i
        });
        await user.click(clearButton);
        expect(input).toHaveValue('');
    });
    it('handles keyboard navigation', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Product 1',
                category: {
                    name: 'Category'
                },
                stock: 5
            },
            {
                id: '2',
                name: 'Product 2',
                category: {
                    name: 'Category'
                },
                stock: 3
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100,
            showTrendingSearches: false,
            showRecentSearches: false
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'product');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Product 1')).toBeInTheDocument();
        });
        // Navigate down to first product
        await user.keyboard('{ArrowDown}');
        // Select with Enter
        await user.keyboard('{Enter}');
        expect(mockPush).toHaveBeenCalledWith('/product/1');
    });
    it('closes dropdown on Escape key', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas populares')).toBeInTheDocument();
        });
        await user.keyboard('{Escape}');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.queryByText('Búsquedas populares')).not.toBeInTheDocument();
        });
    });
    it('respects maxSuggestions prop', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = Array.from({
            length: 10
        }, (_, i)=>({
                id: `${i + 1}`,
                name: `Product ${i + 1}`,
                category: {
                    name: 'Category'
                },
                stock: 5
            }));
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            maxSuggestions: 3,
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'product');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Product 1')).toBeInTheDocument();
            expect(_react1.screen.getByText('Product 2')).toBeInTheDocument();
            expect(_react1.screen.getByText('Product 3')).toBeInTheDocument();
            expect(_react1.screen.queryByText('Product 4')).not.toBeInTheDocument();
        });
    });
    it('calls custom onSearch callback', async ()=>{
        const user = _userevent.default.setup();
        const onSearch = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            onSearch: onSearch
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        expect(onSearch).toHaveBeenCalledWith('test search');
        expect(mockPush).not.toHaveBeenCalled();
    });
    it('calls custom onSuggestionSelect callback', async ()=>{
        const user = _userevent.default.setup();
        const onSuggestionSelect = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            onSuggestionSelect: onSuggestionSelect,
            showTrendingSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Pintura látex')).toBeInTheDocument();
        });
        await user.click(_react1.screen.getByText('Pintura látex'));
        expect(onSuggestionSelect).toHaveBeenCalledWith(expect.objectContaining({
            title: 'Pintura látex',
            type: 'trending'
        }));
        expect(mockPush).not.toHaveBeenCalled();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFx1aVxcU2VhcmNoQXV0b2NvbXBsZXRlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5pbXBvcnQgeyBTZWFyY2hBdXRvY29tcGxldGUsIHR5cGUgU2VhcmNoU3VnZ2VzdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWFyY2gtYXV0b2NvbXBsZXRlJ1xuaW1wb3J0IHsgc2VhcmNoUHJvZHVjdHMgfSBmcm9tICdAL2xpYi9hcGkvcHJvZHVjdHMnXG5cbi8vIE1vY2sgTmV4dC5qcyByb3V0ZXJcbmNvbnN0IG1vY2tQdXNoID0gamVzdC5mbigpXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBtb2NrUHVzaCxcbiAgfSksXG59KSlcblxuLy8gTW9jayBBUElcbmplc3QubW9jaygnQC9saWIvYXBpL3Byb2R1Y3RzJywgKCkgPT4gKHtcbiAgc2VhcmNoUHJvZHVjdHM6IGplc3QuZm4oKSxcbn0pKVxuXG5jb25zdCBtb2NrU2VhcmNoUHJvZHVjdHMgPSBzZWFyY2hQcm9kdWN0cyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBzZWFyY2hQcm9kdWN0cz5cblxuLy8gUGF0csOzbiAzIGV4aXRvc286IENvbXBvcnRhbWllbnRvcyB0ZXN0aW5nIC0gTW9jayBjb21wbGV0byBkZWwgaG9vayB1c2VUcmVuZGluZ1NlYXJjaGVzXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlVHJlbmRpbmdTZWFyY2hlcycsICgpID0+ICh7XG4gIHVzZVRyZW5kaW5nU2VhcmNoZXM6ICgpID0+ICh7XG4gICAgdHJlbmRpbmdTZWFyY2hlczogW1xuICAgICAgeyBpZDogJ3RyZW5kaW5nLTEnLCBxdWVyeTogJ1BpbnR1cmEgbMOhdGV4JywgaHJlZjogJy9zaG9wP3NlYXJjaD1waW50dXJhK2xhdGV4JywgY291bnQ6IDE1MCB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3RyZW5kaW5nLTInLFxuICAgICAgICBxdWVyeTogJ1NoZXJ3aW4gV2lsbGlhbXMnLFxuICAgICAgICBocmVmOiAnL3Nob3A/c2VhcmNoPXNoZXJ3aW4rd2lsbGlhbXMnLFxuICAgICAgICBjb3VudDogMTIwLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICd0cmVuZGluZy0zJyxcbiAgICAgICAgcXVlcnk6ICdSb2RpbGxvcyBwcmVtaXVtJyxcbiAgICAgICAgaHJlZjogJy9zaG9wP3NlYXJjaD1yb2RpbGxvcytwcmVtaXVtJyxcbiAgICAgICAgY291bnQ6IDk1LFxuICAgICAgfSxcbiAgICAgIHsgaWQ6ICd0cmVuZGluZy00JywgcXVlcnk6ICdQaW5jZWxlcycsIGhyZWY6ICcvc2hvcD9zZWFyY2g9cGluY2VsZXMnLCBjb3VudDogODAgfSxcbiAgICBdLFxuICAgIHRyYWNrU2VhcmNoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSwgLy8gUGF0csOzbiAzIGV4aXRvc286IHJldG9ybmFyIFByb21pc2VcbiAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIGVycm9yOiBudWxsLFxuICB9KSxcbn0pKVxuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XG4gIHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrLFxufSlcblxuZGVzY3JpYmUoJ1NlYXJjaEF1dG9jb21wbGV0ZScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlKG51bGwpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgd2l0aCBkZWZhdWx0IHBsYWNlaG9sZGVyJywgKCkgPT4ge1xuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIC8+KVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBleHBlY3QoXG4gICAgICBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgd2l0aCBjdXN0b20gcGxhY2Vob2xkZXInLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgcGxhY2Vob2xkZXI9J0J1c2NhciBwcm9kdWN0b3MuLi4nIC8+KVxuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY2FyIHByb2R1Y3Rvcy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3Nob3dzIHRyZW5kaW5nIHNlYXJjaGVzIHdoZW4gZm9jdXNlZCB3aXRob3V0IHF1ZXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIHNob3dUcmVuZGluZ1NlYXJjaGVzPXt0cnVlfSAvPilcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgYXdhaXQgdXNlci5jbGljayhpbnB1dClcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0LDunNxdWVkYXMgcG9wdWxhcmVzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIGzDoXRleCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2hlcndpbiBXaWxsaWFtcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnc2hvd3MgcmVjZW50IHNlYXJjaGVzIHdoZW4gYXZhaWxhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIGNvbnN0IHJlY2VudFNlYXJjaGVzID0gWydwaW50dXJhIGJsYW5jYScsICdyb2RpbGxvcyddXG4gICAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShKU09OLnN0cmluZ2lmeShyZWNlbnRTZWFyY2hlcykpXG5cbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBzaG93UmVjZW50U2VhcmNoZXM9e3RydWV9IC8+KVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJylcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGlucHV0KVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQsO6c3F1ZWRhcyByZWNpZW50ZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3BpbnR1cmEgYmxhbmNhJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdyb2RpbGxvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnc2VhcmNoZXMgcHJvZHVjdHMgd2hlbiB0eXBpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgY29uc3QgbW9ja1Byb2R1Y3RzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnUGludHVyYSBMw6F0ZXggQmxhbmNhJyxcbiAgICAgICAgY2F0ZWdvcnk6IHsgbmFtZTogJ1BpbnR1cmFzJyB9LFxuICAgICAgICBpbWFnZV91cmw6ICcvdGVzdC1pbWFnZS5qcGcnLFxuICAgICAgICBzdG9jazogMTAsXG4gICAgICB9LFxuICAgIF1cblxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogbW9ja1Byb2R1Y3RzLFxuICAgIH0pXG5cbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBkZWJvdW5jZU1zPXsxMDB9IC8+KVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJylcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdwaW50dXJhJylcblxuICAgIGF3YWl0IHdhaXRGb3IoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrU2VhcmNoUHJvZHVjdHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdwaW50dXJhJywgNilcbiAgICAgIH0sXG4gICAgICB7IHRpbWVvdXQ6IDUwMCB9XG4gICAgKVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdG9zJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIEzDoXRleCBCbGFuY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BpbnR1cmFzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdoYW5kbGVzIEFQSSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICBtb2NrU2VhcmNoUHJvZHVjdHMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBUEkgRXJyb3InKSlcblxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIGRlYm91bmNlTXM9ezEwMH0gLz4pXG5cbiAgICAvLyBQYXRyw7NuIDIgZXhpdG9zbzogRXhwZWN0YXRpdmFzIGVzcGVjw61maWNhcyAtIHVzYXIgcGxhY2Vob2xkZXIgcmVhbCBkZWwgY29tcG9uZW50ZVxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdMw6F0ZXggaW50ZXJpb3IgYmxhbmNvIDIwbHRzLCByb2RpbGxvcywgcGluY2VsZXMuLi4nKVxuICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ3Rlc3QnKVxuXG4gICAgYXdhaXQgd2FpdEZvcihcbiAgICAgICgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgICB9LFxuICAgICAgeyB0aW1lb3V0OiA1MDAgfVxuICAgIClcblxuICAgIC8vIFNob3VsZCBub3QgY3Jhc2ggYW5kIHNob3VsZCBjbGVhciBzdWdnZXN0aW9uc1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1Byb2R1Y3RvcycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIGl0KCduYXZpZ2F0ZXMgdG8gcHJvZHVjdCB3aGVuIHN1Z2dlc3Rpb24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICBjb25zdCBtb2NrUHJvZHVjdHMgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnMScsXG4gICAgICAgIG5hbWU6ICdQaW50dXJhIFRlc3QnLFxuICAgICAgICBjYXRlZ29yeTogeyBuYW1lOiAnUGludHVyYXMnIH0sXG4gICAgICAgIGltYWdlX3VybDogJy90ZXN0LmpwZycsXG4gICAgICAgIHN0b2NrOiA1LFxuICAgICAgfSxcbiAgICBdXG5cbiAgICBtb2NrU2VhcmNoUHJvZHVjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IG1vY2tQcm9kdWN0cyxcbiAgICB9KVxuXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgZGVib3VuY2VNcz17MTAwfSAvPilcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAncGludHVyYScpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIFRlc3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1BpbnR1cmEgVGVzdCcpKVxuXG4gICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Byb2R1Y3QvMScpXG4gIH0pXG5cbiAgaXQoJ3N1Ym1pdHMgc2VhcmNoIG9uIEVudGVyIGtleScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSAvPilcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAndGVzdCBzZWFyY2gnKVxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFbnRlcn0nKVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIFVSTCByZWFsIHF1ZSBnZW5lcmEgZWwgY29tcG9uZW50ZVxuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9zZWFyY2g/cT10ZXN0JTIwc2VhcmNoJylcbiAgfSlcblxuICBpdCgnc2F2ZXMgcmVjZW50IHNlYXJjaGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIHNob3dSZWNlbnRTZWFyY2hlcz17dHJ1ZX0gLz4pXG5cbiAgICAvLyBQYXRyw7NuIDIgZXhpdG9zbzogRXhwZWN0YXRpdmFzIGVzcGVjw61maWNhcyAtIHVzYXIgcGxhY2Vob2xkZXIgcmVhbCBkZWwgY29tcG9uZW50ZVxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdMw6F0ZXggaW50ZXJpb3IgYmxhbmNvIDIwbHRzLCByb2RpbGxvcywgcGluY2VsZXMuLi4nKVxuICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ3Rlc3Qgc2VhcmNoJylcbiAgICBhd2FpdCB1c2VyLmtleWJvYXJkKCd7RW50ZXJ9JylcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBmb3JtYXRvIHJlYWwgcXVlIGdlbmVyYSBlbCBjb21wb25lbnRlXG4gICAgZXhwZWN0KGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAncGludGV5YS1yZWNlbnQtc2VhcmNoZXMnLFxuICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wic2VhcmNoZXNcIjpbXCJ0ZXN0IHNlYXJjaFwiXScpXG4gICAgKVxuICB9KVxuXG4gIGl0KCdjbGVhcnMgaW5wdXQgd2hlbiBYIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIC8+KVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJylcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICd0ZXN0JylcblxuICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xlYXIvaSB9KVxuICAgIGF3YWl0IHVzZXIuY2xpY2soY2xlYXJCdXR0b24pXG5cbiAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKCcnKVxuICB9KVxuXG4gIGl0KCdoYW5kbGVzIGtleWJvYXJkIG5hdmlnYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgY29uc3QgbW9ja1Byb2R1Y3RzID0gW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnUHJvZHVjdCAxJyxcbiAgICAgICAgY2F0ZWdvcnk6IHsgbmFtZTogJ0NhdGVnb3J5JyB9LFxuICAgICAgICBzdG9jazogNSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMicsXG4gICAgICAgIG5hbWU6ICdQcm9kdWN0IDInLFxuICAgICAgICBjYXRlZ29yeTogeyBuYW1lOiAnQ2F0ZWdvcnknIH0sXG4gICAgICAgIHN0b2NrOiAzLFxuICAgICAgfSxcbiAgICBdXG5cbiAgICBtb2NrU2VhcmNoUHJvZHVjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IG1vY2tQcm9kdWN0cyxcbiAgICB9KVxuXG4gICAgcmVuZGVyKFxuICAgICAgPFNlYXJjaEF1dG9jb21wbGV0ZVxuICAgICAgICBkZWJvdW5jZU1zPXsxMDB9XG4gICAgICAgIHNob3dUcmVuZGluZ1NlYXJjaGVzPXtmYWxzZX1cbiAgICAgICAgc2hvd1JlY2VudFNlYXJjaGVzPXtmYWxzZX1cbiAgICAgIC8+XG4gICAgKVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJylcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdwcm9kdWN0JylcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3QgMScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIC8vIE5hdmlnYXRlIGRvd24gdG8gZmlyc3QgcHJvZHVjdFxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tBcnJvd0Rvd259JylcblxuICAgIC8vIFNlbGVjdCB3aXRoIEVudGVyXG4gICAgYXdhaXQgdXNlci5rZXlib2FyZCgne0VudGVyfScpXG5cbiAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvcHJvZHVjdC8xJylcbiAgfSlcblxuICBpdCgnY2xvc2VzIGRyb3Bkb3duIG9uIEVzY2FwZSBrZXknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgLz4pXG5cbiAgICAvLyBQYXRyw7NuIDIgZXhpdG9zbzogRXhwZWN0YXRpdmFzIGVzcGVjw61maWNhcyAtIHVzYXIgcGxhY2Vob2xkZXIgcmVhbCBkZWwgY29tcG9uZW50ZVxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdMw6F0ZXggaW50ZXJpb3IgYmxhbmNvIDIwbHRzLCByb2RpbGxvcywgcGluY2VsZXMuLi4nKVxuICAgIGF3YWl0IHVzZXIuY2xpY2soaW5wdXQpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCw7pzcXVlZGFzIHBvcHVsYXJlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFc2NhcGV9JylcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQsO6c3F1ZWRhcyBwb3B1bGFyZXMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdyZXNwZWN0cyBtYXhTdWdnZXN0aW9ucyBwcm9wJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIGNvbnN0IG1vY2tQcm9kdWN0cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgaWQ6IGAke2kgKyAxfWAsXG4gICAgICBuYW1lOiBgUHJvZHVjdCAke2kgKyAxfWAsXG4gICAgICBjYXRlZ29yeTogeyBuYW1lOiAnQ2F0ZWdvcnknIH0sXG4gICAgICBzdG9jazogNSxcbiAgICB9KSlcblxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogbW9ja1Byb2R1Y3RzLFxuICAgIH0pXG5cbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBtYXhTdWdnZXN0aW9ucz17M30gZGVib3VuY2VNcz17MTAwfSAvPilcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAncHJvZHVjdCcpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0IDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3QgMicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdCAzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1Byb2R1Y3QgNCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG5cbiAgaXQoJ2NhbGxzIGN1c3RvbSBvblNlYXJjaCBjYWxsYmFjaycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcbiAgICBjb25zdCBvblNlYXJjaCA9IGplc3QuZm4oKVxuXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgb25TZWFyY2g9e29uU2VhcmNofSAvPilcblxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0zDoXRleCBpbnRlcmlvciBibGFuY28gMjBsdHMsIHJvZGlsbG9zLCBwaW5jZWxlcy4uLicpXG4gICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAndGVzdCBzZWFyY2gnKVxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFbnRlcn0nKVxuXG4gICAgZXhwZWN0KG9uU2VhcmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdCBzZWFyY2gnKVxuICAgIGV4cGVjdChtb2NrUHVzaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICB9KVxuXG4gIGl0KCdjYWxscyBjdXN0b20gb25TdWdnZXN0aW9uU2VsZWN0IGNhbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIGNvbnN0IG9uU3VnZ2VzdGlvblNlbGVjdCA9IGplc3QuZm4oKVxuXG4gICAgcmVuZGVyKFxuICAgICAgPFNlYXJjaEF1dG9jb21wbGV0ZSBvblN1Z2dlc3Rpb25TZWxlY3Q9e29uU3VnZ2VzdGlvblNlbGVjdH0gc2hvd1RyZW5kaW5nU2VhcmNoZXM9e3RydWV9IC8+XG4gICAgKVxuXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJylcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGlucHV0KVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBsw6F0ZXgnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG5cbiAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1BpbnR1cmEgbMOhdGV4JykpXG5cbiAgICBleHBlY3Qob25TdWdnZXN0aW9uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgdGl0bGU6ICdQaW50dXJhIGzDoXRleCcsXG4gICAgICAgIHR5cGU6ICd0cmVuZGluZycsXG4gICAgICB9KVxuICAgIClcbiAgICBleHBlY3QobW9ja1B1c2gpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJwdXNoIiwibW9ja1B1c2giLCJzZWFyY2hQcm9kdWN0cyIsImZuIiwidXNlVHJlbmRpbmdTZWFyY2hlcyIsInRyZW5kaW5nU2VhcmNoZXMiLCJpZCIsInF1ZXJ5IiwiaHJlZiIsImNvdW50IiwidHJhY2tTZWFyY2giLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsImlzTG9hZGluZyIsImVycm9yIiwibW9ja1NlYXJjaFByb2R1Y3RzIiwibG9jYWxTdG9yYWdlTW9jayIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJpdCIsInJlbmRlciIsIlNlYXJjaEF1dG9jb21wbGV0ZSIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJwbGFjZWhvbGRlciIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsInNob3dUcmVuZGluZ1NlYXJjaGVzIiwiaW5wdXQiLCJjbGljayIsIndhaXRGb3IiLCJnZXRCeVRleHQiLCJyZWNlbnRTZWFyY2hlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaG93UmVjZW50U2VhcmNoZXMiLCJtb2NrUHJvZHVjdHMiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZV91cmwiLCJzdG9jayIsInN1Y2Nlc3MiLCJkYXRhIiwiZGVib3VuY2VNcyIsInR5cGUiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRpbWVvdXQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwidG9IYXZlQmVlbkNhbGxlZCIsInF1ZXJ5QnlUZXh0Iiwibm90Iiwia2V5Ym9hcmQiLCJzdHJpbmdDb250YWluaW5nIiwiY2xlYXJCdXR0b24iLCJnZXRCeVJvbGUiLCJ0b0hhdmVWYWx1ZSIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwibWF4U3VnZ2VzdGlvbnMiLCJvblNlYXJjaCIsIm9uU3VnZ2VzdGlvblNlbGVjdCIsIm9iamVjdENvbnRhaW5pbmciLCJ0aXRsZSJdLCJtYXBwaW5ncyI6IjtBQVNBQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBVyxJQUFPLENBQUE7Z0JBQ2hCQyxNQUFNQztZQUNSLENBQUE7SUFDRixDQUFBO0FBRUEsV0FBVztBQUNYSixLQUFLQyxJQUFJLENBQUMsc0JBQXNCLElBQU8sQ0FBQTtRQUNyQ0ksZ0JBQWdCTCxLQUFLTSxFQUFFO0lBQ3pCLENBQUE7QUFJQSx5RkFBeUY7QUFDekZOLEtBQUtDLElBQUksQ0FBQywrQkFBK0IsSUFBTyxDQUFBO1FBQzlDTSxxQkFBcUIsSUFBTyxDQUFBO2dCQUMxQkMsa0JBQWtCO29CQUNoQjt3QkFBRUMsSUFBSTt3QkFBY0MsT0FBTzt3QkFBaUJDLE1BQU07d0JBQThCQyxPQUFPO29CQUFJO29CQUMzRjt3QkFDRUgsSUFBSTt3QkFDSkMsT0FBTzt3QkFDUEMsTUFBTTt3QkFDTkMsT0FBTztvQkFDVDtvQkFDQTt3QkFDRUgsSUFBSTt3QkFDSkMsT0FBTzt3QkFDUEMsTUFBTTt3QkFDTkMsT0FBTztvQkFDVDtvQkFDQTt3QkFBRUgsSUFBSTt3QkFBY0MsT0FBTzt3QkFBWUMsTUFBTTt3QkFBeUJDLE9BQU87b0JBQUc7aUJBQ2pGO2dCQUNEQyxhQUFhYixLQUFLTSxF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