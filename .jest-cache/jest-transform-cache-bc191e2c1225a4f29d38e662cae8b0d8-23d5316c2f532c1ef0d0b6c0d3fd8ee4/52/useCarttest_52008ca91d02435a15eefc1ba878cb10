94b56b8223ace0b4a4cb0a4f765ad104
// ===================================
// PINTEYA E-COMMERCE - TESTS PARA USECART HOOK
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactredux = require("react-redux");
const _toolkit = require("@reduxjs/toolkit");
const _cartslice = /*#__PURE__*/ _interop_require_wildcard(require("../../redux/features/cart-slice"));
const _store = require("../../redux/store");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Selector personalizado para contar items del carrito
const selectCartCount = (state)=>state.cartReducer.items.length;
// Mock del hook personalizado useCart
const useCart = ()=>{
    const dispatch = (0, _store.useAppDispatch)();
    const cartItems = (0, _store.useAppSelector)(_cartslice.selectCartItems);
    const totalPrice = (0, _store.useAppSelector)(_cartslice.selectTotalPrice);
    const cartCount = (0, _store.useAppSelector)(selectCartCount);
    const addToCart = (item)=>{
        dispatch((0, _cartslice.addItemToCart)(item));
    };
    const removeFromCart = (id)=>{
        dispatch((0, _cartslice.removeItemFromCart)(id));
    };
    const updateQuantity = (id, quantity)=>{
        dispatch((0, _cartslice.updateCartItemQuantity)({
            id,
            quantity
        }));
    };
    const clearCart = ()=>{
        dispatch((0, _cartslice.removeAllItemsFromCart)());
    };
    return {
        cartItems,
        totalPrice,
        cartCount,
        addToCart,
        removeFromCart,
        updateQuantity,
        clearCart
    };
};
// Producto de prueba
const mockProduct = {
    id: 1,
    title: 'Pintura Latex Interior Blanco 4L',
    price: 18000,
    discountedPrice: 15000,
    quantity: 1,
    imgs: {
        thumbnails: [
            '/images/products/pintura-latex-blanco-sm.jpg'
        ],
        previews: [
            '/images/products/pintura-latex-blanco.jpg'
        ]
    }
};
// Función helper para renderizar hook con Redux store
const renderHookWithStore = (initialState = {})=>{
    const store = (0, _toolkit.configureStore)({
        reducer: {
            cartReducer: _cartslice.default
        },
        preloadedState: initialState
    });
    const wrapper = ({ children })=>_react.default.createElement(_reactredux.Provider, {
            store
        }, children);
    return {
        ...(0, _react1.renderHook)(()=>useCart(), {
            wrapper
        }),
        store
    };
};
describe('useCart Hook', ()=>{
    it('should initialize with empty cart', ()=>{
        const { result } = renderHookWithStore();
        expect(result.current.cartItems).toEqual([]);
        expect(result.current.totalPrice).toBe(0);
        expect(result.current.cartCount).toBe(0);
    });
    it('should add item to cart', ()=>{
        const { result } = renderHookWithStore();
        (0, _react1.act)(()=>{
            result.current.addToCart(mockProduct);
        });
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].id).toBe(mockProduct.id);
        expect(result.current.cartItems[0].quantity).toBe(1);
        expect(result.current.cartCount).toBe(1);
    });
    it('should increase quantity when adding existing item', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.addToCart(mockProduct);
        });
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].quantity).toBe(2);
        expect(result.current.cartCount).toBe(1); // Número de productos únicos
    });
    it('should remove item from cart', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.removeFromCart(mockProduct.id);
        });
        expect(result.current.cartItems).toHaveLength(0);
        expect(result.current.cartCount).toBe(0);
        expect(result.current.totalPrice).toBe(0);
    });
    it('should update item quantity', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.updateQuantity(mockProduct.id, 3);
        });
        expect(result.current.cartItems[0].quantity).toBe(3);
    });
    it('should set item quantity to 0 (but not remove from cart)', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.updateQuantity(mockProduct.id, 0);
        });
        // El reducer actual no elimina automáticamente items con cantidad 0
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].quantity).toBe(0);
    });
    it('should clear entire cart', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct,
                    {
                        ...mockProduct,
                        id: 2,
                        title: 'Otro producto'
                    }
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.clearCart();
        });
        expect(result.current.cartItems).toHaveLength(0);
        expect(result.current.cartCount).toBe(0);
        expect(result.current.totalPrice).toBe(0);
    });
    it('should calculate total price correctly', ()=>{
        const product1 = {
            ...mockProduct,
            quantity: 2
        }; // 15000 * 2 = 30000
        const product2 = {
            ...mockProduct,
            id: 2,
            discountedPrice: 10000,
            quantity: 1
        }; // 10000 * 1 = 10000
        const initialState = {
            cartReducer: {
                items: [
                    product1,
                    product2
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        expect(result.current.totalPrice).toBe(40000); // 30000 + 10000
    });
    it('should handle multiple different products', ()=>{
        const { result } = renderHookWithStore();
        const product1 = mockProduct;
        const product2 = {
            ...mockProduct,
            id: 2,
            title: 'Esmalte Azul'
        };
        const product3 = {
            ...mockProduct,
            id: 3,
            title: 'Barniz Transparente'
        };
        (0, _react1.act)(()=>{
            result.current.addToCart(product1);
            result.current.addToCart(product2);
            result.current.addToCart(product3);
        });
        expect(result.current.cartItems).toHaveLength(3);
        expect(result.current.cartCount).toBe(3);
    });
    it('should handle edge cases with invalid quantities', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        // Intentar establecer cantidad negativa
        (0, _react1.act)(()=>{
            result.current.updateQuantity(mockProduct.id, -1);
        });
        // El reducer actual permite cantidades negativas
        expect(result.current.cartItems[0].quantity).toBe(-1);
        // Verificar que el item sigue en el carrito
        expect(result.current.cartItems).toHaveLength(1);
    });
    it('should handle removing non-existent item', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.removeFromCart(999); // ID que no existe
        });
        // El carrito debería permanecer sin cambios
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].id).toBe(mockProduct.id);
    });
    it('should handle updating quantity of non-existent item', ()=>{
        const initialState = {
            cartReducer: {
                items: [
                    mockProduct
                ]
            }
        };
        const { result } = renderHookWithStore(initialState);
        (0, _react1.act)(()=>{
            result.current.updateQuantity(999, 5); // ID que no existe
        });
        // El carrito debería permanecer sin cambios
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].quantity).toBe(mockProduct.quantity);
    });
    it('should maintain cart state consistency', ()=>{
        const { result } = renderHookWithStore();
        // Agregar varios productos y realizar operaciones
        (0, _react1.act)(()=>{
            result.current.addToCart(mockProduct);
            result.current.addToCart({
                ...mockProduct,
                id: 2
            });
            result.current.updateQuantity(1, 3);
            result.current.removeFromCart(2);
        });
        expect(result.current.cartItems).toHaveLength(1);
        expect(result.current.cartItems[0].id).toBe(1);
        expect(result.current.cartItems[0].quantity).toBe(3);
        expect(result.current.cartCount).toBe(1);
    });
    it('should handle products with different price structures', ()=>{
        const productWithoutDiscount = {
            ...mockProduct,
            id: 2,
            price: 20000,
            discountedPrice: 20000
        };
        const { result } = renderHookWithStore();
        (0, _react1.act)(()=>{
            result.current.addToCart(mockProduct); // Con descuento
            result.current.addToCart(productWithoutDiscount); // Sin descuento
        });
        expect(result.current.cartItems).toHaveLength(2);
        expect(result.current.totalPrice).toBe(35000); // 15000 + 20000
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQ2FydC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIFRFU1RTIFBBUkEgVVNFQ0FSVCBIT09LXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XHJcbmltcG9ydCBjYXJ0UmVkdWNlciwge1xyXG4gIGFkZEl0ZW1Ub0NhcnQsXHJcbiAgcmVtb3ZlSXRlbUZyb21DYXJ0LFxyXG4gIHVwZGF0ZUNhcnRJdGVtUXVhbnRpdHksXHJcbiAgcmVtb3ZlQWxsSXRlbXNGcm9tQ2FydCxcclxuICBzZWxlY3RDYXJ0SXRlbXMsXHJcbiAgc2VsZWN0VG90YWxQcmljZVxyXG59IGZyb20gJ0AvcmVkdXgvZmVhdHVyZXMvY2FydC1zbGljZSc7XHJcbmltcG9ydCB7IHVzZUFwcFNlbGVjdG9yLCB1c2VBcHBEaXNwYXRjaCB9IGZyb20gJ0AvcmVkdXgvc3RvcmUnO1xyXG5cclxuLy8gU2VsZWN0b3IgcGVyc29uYWxpemFkbyBwYXJhIGNvbnRhciBpdGVtcyBkZWwgY2Fycml0b1xyXG5jb25zdCBzZWxlY3RDYXJ0Q291bnQgPSAoc3RhdGU6IGFueSkgPT4gc3RhdGUuY2FydFJlZHVjZXIuaXRlbXMubGVuZ3RoO1xyXG5cclxuLy8gTW9jayBkZWwgaG9vayBwZXJzb25hbGl6YWRvIHVzZUNhcnRcclxuY29uc3QgdXNlQ2FydCA9ICgpID0+IHtcclxuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcERpc3BhdGNoKCk7XHJcbiAgY29uc3QgY2FydEl0ZW1zID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0Q2FydEl0ZW1zKTtcclxuICBjb25zdCB0b3RhbFByaWNlID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0VG90YWxQcmljZSk7XHJcbiAgY29uc3QgY2FydENvdW50ID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0Q2FydENvdW50KTtcclxuXHJcbiAgY29uc3QgYWRkVG9DYXJ0ID0gKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgZGlzcGF0Y2goYWRkSXRlbVRvQ2FydChpdGVtKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlRnJvbUNhcnQgPSAoaWQ6IG51bWJlcikgPT4ge1xyXG4gICAgZGlzcGF0Y2gocmVtb3ZlSXRlbUZyb21DYXJ0KGlkKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdXBkYXRlUXVhbnRpdHkgPSAoaWQ6IG51bWJlciwgcXVhbnRpdHk6IG51bWJlcikgPT4ge1xyXG4gICAgZGlzcGF0Y2godXBkYXRlQ2FydEl0ZW1RdWFudGl0eSh7IGlkLCBxdWFudGl0eSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xlYXJDYXJ0ID0gKCkgPT4ge1xyXG4gICAgZGlzcGF0Y2gocmVtb3ZlQWxsSXRlbXNGcm9tQ2FydCgpKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY2FydEl0ZW1zLFxyXG4gICAgdG90YWxQcmljZSxcclxuICAgIGNhcnRDb3VudCxcclxuICAgIGFkZFRvQ2FydCxcclxuICAgIHJlbW92ZUZyb21DYXJ0LFxyXG4gICAgdXBkYXRlUXVhbnRpdHksXHJcbiAgICBjbGVhckNhcnQsXHJcbiAgfTtcclxufTtcclxuXHJcbi8vIFByb2R1Y3RvIGRlIHBydWViYVxyXG5jb25zdCBtb2NrUHJvZHVjdCA9IHtcclxuICBpZDogMSxcclxuICB0aXRsZTogJ1BpbnR1cmEgTGF0ZXggSW50ZXJpb3IgQmxhbmNvIDRMJyxcclxuICBwcmljZTogMTgwMDAsXHJcbiAgZGlzY291bnRlZFByaWNlOiAxNTAwMCxcclxuICBxdWFudGl0eTogMSxcclxuICBpbWdzOiB7XHJcbiAgICB0aHVtYm5haWxzOiBbJy9pbWFnZXMvcHJvZHVjdHMvcGludHVyYS1sYXRleC1ibGFuY28tc20uanBnJ10sXHJcbiAgICBwcmV2aWV3czogWycvaW1hZ2VzL3Byb2R1Y3RzL3BpbnR1cmEtbGF0ZXgtYmxhbmNvLmpwZyddLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBGdW5jacOzbiBoZWxwZXIgcGFyYSByZW5kZXJpemFyIGhvb2sgY29uIFJlZHV4IHN0b3JlXHJcbmNvbnN0IHJlbmRlckhvb2tXaXRoU3RvcmUgPSAoaW5pdGlhbFN0YXRlID0ge30pID0+IHtcclxuICBjb25zdCBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHtcclxuICAgIHJlZHVjZXI6IHtcclxuICAgICAgY2FydFJlZHVjZXIsXHJcbiAgICB9LFxyXG4gICAgcHJlbG9hZGVkU3RhdGU6IGluaXRpYWxTdGF0ZSxcclxuICB9KTtcclxuXHJcbiAgY29uc3Qgd3JhcHBlciA9ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiAoXHJcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7IHN0b3JlIH0sIGNoaWxkcmVuKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yZW5kZXJIb29rKCgpID0+IHVzZUNhcnQoKSwgeyB3cmFwcGVyIH0pLFxyXG4gICAgc3RvcmUsXHJcbiAgfTtcclxufTtcclxuXHJcbmRlc2NyaWJlKCd1c2VDYXJ0IEhvb2snLCAoKSA9PiB7XHJcbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggZW1wdHkgY2FydCcsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKCk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtcykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudG90YWxQcmljZSkudG9CZSgwKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0Q291bnQpLnRvQmUoMCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgYWRkIGl0ZW0gdG8gY2FydCcsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKCk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuYWRkVG9DYXJ0KG1vY2tQcm9kdWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0uaWQpLnRvQmUobW9ja1Byb2R1Y3QuaWQpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtc1swXS5xdWFudGl0eSkudG9CZSgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0Q291bnQpLnRvQmUoMSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaW5jcmVhc2UgcXVhbnRpdHkgd2hlbiBhZGRpbmcgZXhpc3RpbmcgaXRlbScsICgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICAgICAgY2FydFJlZHVjZXI6IHtcclxuICAgICAgICBpdGVtczogW21vY2tQcm9kdWN0XSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2tXaXRoU3RvcmUoaW5pdGlhbFN0YXRlKTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5hZGRUb0NhcnQobW9ja1Byb2R1Y3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtcykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtc1swXS5xdWFudGl0eSkudG9CZSgyKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0Q291bnQpLnRvQmUoMSk7IC8vIE7Dum1lcm8gZGUgcHJvZHVjdG9zIMO6bmljb3NcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZW1vdmUgaXRlbSBmcm9tIGNhcnQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XHJcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XHJcbiAgICAgICAgaXRlbXM6IFttb2NrUHJvZHVjdF0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKGluaXRpYWxTdGF0ZSk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQucmVtb3ZlRnJvbUNhcnQobW9ja1Byb2R1Y3QuaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtcykudG9IYXZlTGVuZ3RoKDApO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRDb3VudCkudG9CZSgwKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFByaWNlKS50b0JlKDApO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHVwZGF0ZSBpdGVtIHF1YW50aXR5JywgKCkgPT4ge1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xyXG4gICAgICBjYXJ0UmVkdWNlcjoge1xyXG4gICAgICAgIGl0ZW1zOiBbbW9ja1Byb2R1Y3RdLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9va1dpdGhTdG9yZShpbml0aWFsU3RhdGUpO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnVwZGF0ZVF1YW50aXR5KG1vY2tQcm9kdWN0LmlkLCAzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0ucXVhbnRpdHkpLnRvQmUoMyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgc2V0IGl0ZW0gcXVhbnRpdHkgdG8gMCAoYnV0IG5vdCByZW1vdmUgZnJvbSBjYXJ0KScsICgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICAgICAgY2FydFJlZHVjZXI6IHtcclxuICAgICAgICBpdGVtczogW21vY2tQcm9kdWN0XSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2tXaXRoU3RvcmUoaW5pdGlhbFN0YXRlKTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC51cGRhdGVRdWFudGl0eShtb2NrUHJvZHVjdC5pZCwgMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbCByZWR1Y2VyIGFjdHVhbCBubyBlbGltaW5hIGF1dG9tw6F0aWNhbWVudGUgaXRlbXMgY29uIGNhbnRpZGFkIDBcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0ucXVhbnRpdHkpLnRvQmUoMCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgY2xlYXIgZW50aXJlIGNhcnQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XHJcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XHJcbiAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgIG1vY2tQcm9kdWN0LFxyXG4gICAgICAgICAgeyAuLi5tb2NrUHJvZHVjdCwgaWQ6IDIsIHRpdGxlOiAnT3RybyBwcm9kdWN0bycgfSxcclxuICAgICAgICBdLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9va1dpdGhTdG9yZShpbml0aWFsU3RhdGUpO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsZWFyQ2FydCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtcykudG9IYXZlTGVuZ3RoKDApO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRDb3VudCkudG9CZSgwKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFByaWNlKS50b0JlKDApO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSB0b3RhbCBwcmljZSBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0MSA9IHsgLi4ubW9ja1Byb2R1Y3QsIHF1YW50aXR5OiAyIH07IC8vIDE1MDAwICogMiA9IDMwMDAwXHJcbiAgICBjb25zdCBwcm9kdWN0MiA9IHsgLi4ubW9ja1Byb2R1Y3QsIGlkOiAyLCBkaXNjb3VudGVkUHJpY2U6IDEwMDAwLCBxdWFudGl0eTogMSB9OyAvLyAxMDAwMCAqIDEgPSAxMDAwMFxyXG5cclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICAgICAgY2FydFJlZHVjZXI6IHtcclxuICAgICAgICBpdGVtczogW3Byb2R1Y3QxLCBwcm9kdWN0Ml0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKGluaXRpYWxTdGF0ZSk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnRvdGFsUHJpY2UpLnRvQmUoNDAwMDApOyAvLyAzMDAwMCArIDEwMDAwXHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGRpZmZlcmVudCBwcm9kdWN0cycsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKCk7XHJcblxyXG4gICAgY29uc3QgcHJvZHVjdDEgPSBtb2NrUHJvZHVjdDtcclxuICAgIGNvbnN0IHByb2R1Y3QyID0geyAuLi5tb2NrUHJvZHVjdCwgaWQ6IDIsIHRpdGxlOiAnRXNtYWx0ZSBBenVsJyB9O1xyXG4gICAgY29uc3QgcHJvZHVjdDMgPSB7IC4uLm1vY2tQcm9kdWN0LCBpZDogMywgdGl0bGU6ICdCYXJuaXogVHJhbnNwYXJlbnRlJyB9O1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmFkZFRvQ2FydChwcm9kdWN0MSk7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmFkZFRvQ2FydChwcm9kdWN0Mik7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmFkZFRvQ2FydChwcm9kdWN0Myk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FydEl0ZW1zKS50b0hhdmVMZW5ndGgoMyk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FydENvdW50KS50b0JlKDMpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSBlZGdlIGNhc2VzIHdpdGggaW52YWxpZCBxdWFudGl0aWVzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xyXG4gICAgICBjYXJ0UmVkdWNlcjoge1xyXG4gICAgICAgIGl0ZW1zOiBbbW9ja1Byb2R1Y3RdLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9va1dpdGhTdG9yZShpbml0aWFsU3RhdGUpO1xyXG5cclxuICAgIC8vIEludGVudGFyIGVzdGFibGVjZXIgY2FudGlkYWQgbmVnYXRpdmFcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnVwZGF0ZVF1YW50aXR5KG1vY2tQcm9kdWN0LmlkLCAtMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbCByZWR1Y2VyIGFjdHVhbCBwZXJtaXRlIGNhbnRpZGFkZXMgbmVnYXRpdmFzXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FydEl0ZW1zWzBdLnF1YW50aXR5KS50b0JlKC0xKTtcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIGVsIGl0ZW0gc2lndWUgZW4gZWwgY2Fycml0b1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRJdGVtcykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSByZW1vdmluZyBub24tZXhpc3RlbnQgaXRlbScsICgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICAgICAgY2FydFJlZHVjZXI6IHtcclxuICAgICAgICBpdGVtczogW21vY2tQcm9kdWN0XSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2tXaXRoU3RvcmUoaW5pdGlhbFN0YXRlKTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5yZW1vdmVGcm9tQ2FydCg5OTkpOyAvLyBJRCBxdWUgbm8gZXhpc3RlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbCBjYXJyaXRvIGRlYmVyw61hIHBlcm1hbmVjZXIgc2luIGNhbWJpb3NcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0uaWQpLnRvQmUobW9ja1Byb2R1Y3QuaWQpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSB1cGRhdGluZyBxdWFudGl0eSBvZiBub24tZXhpc3RlbnQgaXRlbScsICgpID0+IHtcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICAgICAgY2FydFJlZHVjZXI6IHtcclxuICAgICAgICBpdGVtczogW21vY2tQcm9kdWN0XSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2tXaXRoU3RvcmUoaW5pdGlhbFN0YXRlKTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC51cGRhdGVRdWFudGl0eSg5OTksIDUpOyAvLyBJRCBxdWUgbm8gZXhpc3RlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFbCBjYXJyaXRvIGRlYmVyw61hIHBlcm1hbmVjZXIgc2luIGNhbWJpb3NcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0ucXVhbnRpdHkpLnRvQmUobW9ja1Byb2R1Y3QucXVhbnRpdHkpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIG1haW50YWluIGNhcnQgc3RhdGUgY29uc2lzdGVuY3knLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9va1dpdGhTdG9yZSgpO1xyXG5cclxuICAgIC8vIEFncmVnYXIgdmFyaW9zIHByb2R1Y3RvcyB5IHJlYWxpemFyIG9wZXJhY2lvbmVzXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5hZGRUb0NhcnQobW9ja1Byb2R1Y3QpO1xyXG4gICAgICByZXN1bHQuY3VycmVudC5hZGRUb0NhcnQoeyAuLi5tb2NrUHJvZHVjdCwgaWQ6IDIgfSk7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnVwZGF0ZVF1YW50aXR5KDEsIDMpO1xyXG4gICAgICByZXN1bHQuY3VycmVudC5yZW1vdmVGcm9tQ2FydCgyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXNbMF0uaWQpLnRvQmUoMSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FydEl0ZW1zWzBdLnF1YW50aXR5KS50b0JlKDMpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnRDb3VudCkudG9CZSgxKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJvZHVjdHMgd2l0aCBkaWZmZXJlbnQgcHJpY2Ugc3RydWN0dXJlcycsICgpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RXaXRob3V0RGlzY291bnQgPSB7XHJcbiAgICAgIC4uLm1vY2tQcm9kdWN0LFxyXG4gICAgICBpZDogMixcclxuICAgICAgcHJpY2U6IDIwMDAwLFxyXG4gICAgICBkaXNjb3VudGVkUHJpY2U6IDIwMDAwLCAvLyBTaW4gZGVzY3VlbnRvXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rV2l0aFN0b3JlKCk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuYWRkVG9DYXJ0KG1vY2tQcm9kdWN0KTsgLy8gQ29uIGRlc2N1ZW50b1xyXG4gICAgICByZXN1bHQuY3VycmVudC5hZGRUb0NhcnQocHJvZHVjdFdpdGhvdXREaXNjb3VudCk7IC8vIFNpbiBkZXNjdWVudG9cclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJ0SXRlbXMpLnRvSGF2ZUxlbmd0aCgyKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFByaWNlKS50b0JlKDM1MDAwKTsgLy8gMTUwMDAgKyAyMDAwMFxyXG4gIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbInNlbGVjdENhcnRDb3VudCIsInN0YXRlIiwiY2FydFJlZHVjZXIiLCJpdGVtcyIsImxlbmd0aCIsInVzZUNhcnQiLCJkaXNwYXRjaCIsInVzZUFwcERpc3BhdGNoIiwiY2FydEl0ZW1zIiwidXNlQXBwU2VsZWN0b3IiLCJzZWxlY3RDYXJ0SXRlbXMiLCJ0b3RhbFByaWNlIiwic2VsZWN0VG90YWxQcmljZSIsImNhcnRDb3VudCIsImFkZFRvQ2FydCIsIml0ZW0iLCJhZGRJdGVtVG9DYXJ0IiwicmVtb3ZlRnJvbUNhcnQiLCJpZCIsInJlbW92ZUl0ZW1Gcm9tQ2FydCIsInVwZGF0ZVF1YW50aXR5IiwicXVhbnRpdHkiLCJ1cGRhdGVDYXJ0SXRlbVF1YW50aXR5IiwiY2xlYXJDYXJ0IiwicmVtb3ZlQWxsSXRlbXNGcm9tQ2FydCIsIm1vY2tQcm9kdWN0IiwidGl0bGUiLCJwcmljZSIsImRpc2NvdW50ZWRQcmljZSIsImltZ3MiLCJ0aHVtYm5haWxzIiwicHJldmlld3MiLCJyZW5kZXJIb29rV2l0aFN0b3JlIiwiaW5pdGlhbFN0YXRlIiwic3RvcmUiLCJjb25maWd1cmVTdG9yZSIsInJlZHVjZXIiLCJwcmVsb2FkZWRTdGF0ZSIsIndyYXBwZXIiLCJjaGlsZHJlbiIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwicmVuZGVySG9vayIsImRlc2NyaWJlIiwiaXQiLCJyZXN1bHQiLCJleHBlY3QiLCJjdXJyZW50IiwidG9FcXVhbCIsInRvQmUiLCJhY3QiLCJ0b0hhdmVMZW5ndGgiLCJwcm9kdWN0MSIsInByb2R1Y3QyIiwicHJvZHVjdDMiLCJwcm9kdWN0V2l0aG91dERpc2NvdW50Il0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsK0NBQStDO0FBQy9DLHNDQUFzQzs7Ozs7OERBRXBCO3dCQUNjOzRCQUNQO3lCQUNNO21FQVF4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