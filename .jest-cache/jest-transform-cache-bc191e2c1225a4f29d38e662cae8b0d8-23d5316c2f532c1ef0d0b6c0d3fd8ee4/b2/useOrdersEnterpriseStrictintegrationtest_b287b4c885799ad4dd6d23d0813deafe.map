{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\admin\\useOrdersEnterpriseStrict.integration.test.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - USEORDERSENTERPRISE INTEGRATION TESTS\r\n// Tests de integración para el hook principal de órdenes\r\n// ===================================\r\n\r\nimport { renderHook, act, waitFor } from '@testing-library/react';\r\nimport { describe, it, expect, beforeEach, afterEach, jest } from '@jest/globals';\r\nimport { useOrdersEnterpriseStrict } from '@/hooks/admin/useOrdersEnterpriseStrict';\r\n\r\n// ===================================\r\n// MOCKS GLOBALES\r\n// ===================================\r\n\r\n// Mock de fetch\r\nconst mockFetch = jest.fn();\r\nglobal.fetch = mockFetch;\r\n\r\n// Mock de localStorage\r\nconst mockLocalStorage = {\r\n  getItem: jest.fn(),\r\n  setItem: jest.fn(),\r\n  removeItem: jest.fn(),\r\n  clear: jest.fn(),\r\n  length: 0,\r\n  key: jest.fn()\r\n};\r\nObject.defineProperty(window, 'localStorage', { value: mockLocalStorage });\r\n\r\n// Mock de AbortController\r\nconst mockAbort = jest.fn();\r\nglobal.AbortController = jest.fn(() => ({\r\n  abort: mockAbort,\r\n  signal: { aborted: false }\r\n})) as any;\r\n\r\n// ===================================\r\n// DATOS DE PRUEBA\r\n// ===================================\r\n\r\nconst mockOrdersResponse = {\r\n  orders: [\r\n    { id: '1', order_number: 'ORD-001', status: 'pending', total: 100 },\r\n    { id: '2', order_number: 'ORD-002', status: 'confirmed', total: 200 },\r\n  ],\r\n  pagination: { page: 1, totalPages: 5, hasNextPage: true },\r\n  analytics: { totalOrders: 2, totalRevenue: 300 }\r\n};\r\n\r\nconst initialFilters = {\r\n  page: 1,\r\n  limit: 20,\r\n  sort_by: 'created_at',\r\n  sort_order: 'desc' as const\r\n};\r\n\r\nconst options = {\r\n  autoFetch: true,\r\n  maxRetries: 3,\r\n  timeout: 10000,\r\n  enableCache: true\r\n};\r\n\r\n// ===================================\r\n// SETUP Y CLEANUP\r\n// ===================================\r\n\r\nbeforeEach(() => {\r\n  jest.clearAllMocks();\r\n  mockLocalStorage.getItem.mockReturnValue(null);\r\n  \r\n  // Mock de respuesta exitosa por defecto\r\n  mockFetch.mockResolvedValue({\r\n    ok: true,\r\n    status: 200,\r\n    json: jest.fn().mockResolvedValue(mockOrdersResponse),\r\n    headers: new Headers(),\r\n    statusText: 'OK'\r\n  });\r\n});\r\n\r\nafterEach(() => {\r\n  jest.clearAllTimers();\r\n});\r\n\r\n// ===================================\r\n// TESTS DE INTEGRACIÓN\r\n// ===================================\r\n\r\ndescribe('useOrdersEnterpriseStrict Integration', () => {\r\n  it('debe inicializarse correctamente con todos los hooks', () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Verificar estado inicial\r\n    expect(result.current.orders).toEqual([]);\r\n    expect(result.current.pagination).toBeNull();\r\n    expect(result.current.analytics).toBeNull();\r\n    expect(result.current.filters).toEqual(initialFilters);\r\n    expect(result.current.isLoading).toBe(false);\r\n    expect(result.current.error).toBeNull();\r\n\r\n    // Verificar funciones disponibles\r\n    expect(result.current.fetchOrders).toBeDefined();\r\n    expect(result.current.updateFilters).toBeDefined();\r\n    expect(result.current.refreshOrders).toBeDefined();\r\n    expect(result.current.clearError).toBeDefined();\r\n    expect(result.current.retryLastRequest).toBeDefined();\r\n  });\r\n\r\n  it('debe realizar fetch automático al inicializar cuando autoFetch está habilitado', async () => {\r\n    renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, { ...options, autoFetch: true })\r\n    );\r\n\r\n    await waitFor(() => {\r\n      expect(mockFetch).toHaveBeenCalledWith(\r\n        '/api/admin/orders?page=1&limit=20&sort_by=created_at&sort_order=desc',\r\n        expect.any(Object)\r\n      );\r\n    });\r\n  });\r\n\r\n  it('debe NO realizar fetch automático cuando autoFetch está deshabilitado', async () => {\r\n    renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, { ...options, autoFetch: false })\r\n    );\r\n\r\n    // Esperar un poco para asegurar que no se haga fetch\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n\r\n    expect(mockFetch).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('debe manejar el flujo completo de fetch exitoso', async () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.orders).toEqual(mockOrdersResponse.orders);\r\n      expect(result.current.pagination).toEqual(mockOrdersResponse.pagination);\r\n      expect(result.current.analytics).toEqual(mockOrdersResponse.analytics);\r\n      expect(result.current.isLoading).toBe(false);\r\n      expect(result.current.error).toBeNull();\r\n    });\r\n  });\r\n\r\n  it('debe manejar errores de fetch correctamente', async () => {\r\n    const errorMessage = 'Network error';\r\n    mockFetch.mockRejectedValue(new Error(errorMessage));\r\n\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.error).toBeTruthy();\r\n      expect(result.current.error?.message).toBe(errorMessage);\r\n      expect(result.current.isLoading).toBe(false);\r\n      expect(result.current.orders).toEqual([]);\r\n    });\r\n  });\r\n\r\n  it('debe usar cache cuando está disponible', async () => {\r\n    // Configurar cache con datos válidos\r\n    const cacheData = {\r\n      data: mockOrdersResponse,\r\n      timestamp: Date.now() - 30000, // 30 segundos atrás\r\n      filters: initialFilters\r\n    };\r\n    mockLocalStorage.getItem.mockReturnValue(JSON.stringify(cacheData));\r\n\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, { ...options, enableCache: true })\r\n    );\r\n\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    // Debe usar datos del cache sin hacer fetch\r\n    expect(result.current.orders).toEqual(mockOrdersResponse.orders);\r\n    expect(mockFetch).not.toHaveBeenCalled();\r\n  });\r\n\r\n  it('debe actualizar filtros y refetch automáticamente', async () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    const newFilters = { page: 2, status: 'confirmed' };\r\n\r\n    await act(async () => {\r\n      result.current.updateFilters(newFilters);\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.filters).toEqual({\r\n        ...initialFilters,\r\n        ...newFilters\r\n      });\r\n      expect(mockFetch).toHaveBeenCalledWith(\r\n        expect.stringContaining('page=2'),\r\n        expect.any(Object)\r\n      );\r\n    });\r\n  });\r\n\r\n  it('debe implementar retry logic en caso de fallo', async () => {\r\n    // Fallar las primeras 2 llamadas, exitosa en la 3ra\r\n    mockFetch\r\n      .mockRejectedValueOnce(new Error('Network error'))\r\n      .mockRejectedValueOnce(new Error('Network error'))\r\n      .mockResolvedValueOnce({\r\n        ok: true,\r\n        status: 200,\r\n        json: jest.fn().mockResolvedValue(mockOrdersResponse)\r\n      });\r\n\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, { ...options, maxRetries: 3 })\r\n    );\r\n\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(mockFetch).toHaveBeenCalledTimes(3);\r\n      expect(result.current.orders).toEqual(mockOrdersResponse.orders);\r\n      expect(result.current.error).toBeNull();\r\n    });\r\n  });\r\n\r\n  it('debe manejar refresh correctamente', async () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Fetch inicial\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    // Limpiar mocks para el refresh\r\n    jest.clearAllMocks();\r\n\r\n    // Refresh\r\n    await act(async () => {\r\n      result.current.refreshOrders();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(mockFetch).toHaveBeenCalledTimes(1);\r\n    });\r\n  });\r\n\r\n  it('debe limpiar errores correctamente', async () => {\r\n    mockFetch.mockRejectedValue(new Error('Test error'));\r\n\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Generar error\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    expect(result.current.error).toBeTruthy();\r\n\r\n    // Limpiar error\r\n    act(() => {\r\n      result.current.clearError();\r\n    });\r\n\r\n    expect(result.current.error).toBeNull();\r\n  });\r\n\r\n  it('debe implementar retry de último request', async () => {\r\n    mockFetch.mockRejectedValue(new Error('Network error'));\r\n\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Fetch que falla\r\n    await act(async () => {\r\n      await result.current.fetchOrders();\r\n    });\r\n\r\n    expect(result.current.error).toBeTruthy();\r\n\r\n    // Configurar fetch exitoso para retry\r\n    mockFetch.mockResolvedValue({\r\n      ok: true,\r\n      status: 200,\r\n      json: jest.fn().mockResolvedValue(mockOrdersResponse)\r\n    });\r\n\r\n    // Retry\r\n    await act(async () => {\r\n      await result.current.retryLastRequest();\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.orders).toEqual(mockOrdersResponse.orders);\r\n      expect(result.current.error).toBeNull();\r\n    });\r\n  });\r\n\r\n  it('debe abortar requests al desmontar', () => {\r\n    const { unmount } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Iniciar un request\r\n    act(() => {\r\n      // El fetch se inicia automáticamente con autoFetch\r\n    });\r\n\r\n    // Desmontar\r\n    unmount();\r\n\r\n    // Debe haber abortado el request\r\n    expect(mockAbort).toHaveBeenCalled();\r\n  });\r\n\r\n  it('debe manejar múltiples actualizaciones de filtros sin race conditions', async () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Múltiples actualizaciones rápidas\r\n    await act(async () => {\r\n      result.current.updateFilters({ page: 2 });\r\n      result.current.updateFilters({ page: 3 });\r\n      result.current.updateFilters({ page: 4 });\r\n    });\r\n\r\n    await waitFor(() => {\r\n      expect(result.current.filters.page).toBe(4);\r\n    });\r\n  });\r\n\r\n  it('debe mantener consistencia de estado durante operaciones asíncronas', async () => {\r\n    const { result } = renderHook(() => \r\n      useOrdersEnterpriseStrict(initialFilters, options)\r\n    );\r\n\r\n    // Iniciar fetch\r\n    act(() => {\r\n      result.current.fetchOrders();\r\n    });\r\n\r\n    // Verificar estado de loading\r\n    expect(result.current.isLoading).toBe(true);\r\n\r\n    // Esperar a que termine\r\n    await waitFor(() => {\r\n      expect(result.current.isLoading).toBe(false);\r\n    });\r\n\r\n    // Verificar estado final\r\n    expect(result.current.orders).toEqual(mockOrdersResponse.orders);\r\n  });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["mockFetch","jest","fn","global","fetch","mockLocalStorage","getItem","setItem","removeItem","clear","length","key","Object","defineProperty","window","value","mockAbort","AbortController","abort","signal","aborted","mockOrdersResponse","orders","id","order_number","status","total","pagination","page","totalPages","hasNextPage","analytics","totalOrders","totalRevenue","initialFilters","limit","sort_by","sort_order","options","autoFetch","maxRetries","timeout","enableCache","beforeEach","clearAllMocks","mockReturnValue","mockResolvedValue","ok","json","headers","Headers","statusText","afterEach","clearAllTimers","describe","it","result","renderHook","useOrdersEnterpriseStrict","expect","current","toEqual","toBeNull","filters","isLoading","toBe","error","fetchOrders","toBeDefined","updateFilters","refreshOrders","clearError","retryLastRequest","waitFor","toHaveBeenCalledWith","any","Promise","resolve","setTimeout","not","toHaveBeenCalled","act","errorMessage","mockRejectedValue","Error","toBeTruthy","message","cacheData","data","timestamp","Date","now","JSON","stringify","newFilters","stringContaining","mockRejectedValueOnce","mockResolvedValueOnce","toHaveBeenCalledTimes","unmount"],"mappings":"AAAA,sCAAsC;AACtC,6DAA6D;AAC7D,yDAAyD;AACzD,sCAAsC;;;;;uBAEG;yBACyB;2CACxB;AAE1C,sCAAsC;AACtC,iBAAiB;AACjB,sCAAsC;AAEtC,gBAAgB;AAChB,MAAMA,YAAYC,aAAI,CAACC,EAAE;AACzBC,OAAOC,KAAK,GAAGJ;AAEf,uBAAuB;AACvB,MAAMK,mBAAmB;IACvBC,SAASL,aAAI,CAACC,EAAE;IAChBK,SAASN,aAAI,CAACC,EAAE;IAChBM,YAAYP,aAAI,CAACC,EAAE;IACnBO,OAAOR,aAAI,CAACC,EAAE;IACdQ,QAAQ;IACRC,KAAKV,aAAI,CAACC,EAAE;AACd;AACAU,OAAOC,cAAc,CAACC,QAAQ,gBAAgB;IAAEC,OAAOV;AAAiB;AAExE,0BAA0B;AAC1B,MAAMW,YAAYf,aAAI,CAACC,EAAE;AACzBC,OAAOc,eAAe,GAAGhB,aAAI,CAACC,EAAE,CAAC,IAAO,CAAA;QACtCgB,OAAOF;QACPG,QAAQ;YAAEC,SAAS;QAAM;IAC3B,CAAA;AAEA,sCAAsC;AACtC,kBAAkB;AAClB,sCAAsC;AAEtC,MAAMC,qBAAqB;IACzBC,QAAQ;QACN;YAAEC,IAAI;YAAKC,cAAc;YAAWC,QAAQ;YAAWC,OAAO;QAAI;QAClE;YAAEH,IAAI;YAAKC,cAAc;YAAWC,QAAQ;YAAaC,OAAO;QAAI;KACrE;IACDC,YAAY;QAAEC,MAAM;QAAGC,YAAY;QAAGC,aAAa;IAAK;IACxDC,WAAW;QAAEC,aAAa;QAAGC,cAAc;IAAI;AACjD;AAEA,MAAMC,iBAAiB;IACrBN,MAAM;IACNO,OAAO;IACPC,SAAS;IACTC,YAAY;AACd;AAEA,MAAMC,UAAU;IACdC,WAAW;IACXC,YAAY;IACZC,SAAS;IACTC,aAAa;AACf;AAEA,sCAAsC;AACtC,kBAAkB;AAClB,sCAAsC;AAEtCC,IAAAA,mBAAU,EAAC;IACT1C,aAAI,CAAC2C,aAAa;IAClBvC,iBAAiBC,OAAO,CAACuC,eAAe,CAAC;IAEzC,wCAAwC;IACxC7C,UAAU8C,iBAAiB,CAAC;QAC1BC,IAAI;QACJtB,QAAQ;QACRuB,MAAM/C,aAAI,CAACC,EAAE,GAAG4C,iBAAiB,CAACzB;QAClC4B,SAAS,IAAIC;QACbC,YAAY;IACd;AACF;AAEAC,IAAAA,kBAAS,EAAC;IACRnD,aAAI,CAACoD,cAAc;AACrB;AAEA,sCAAsC;AACtC,uBAAuB;AACvB,sCAAsC;AAEtCC,IAAAA,iBAAQ,EAAC,yCAAyC;IAChDC,IAAAA,WAAE,EAAC,wDAAwD;QACzD,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,2BAA2B;QAC3BqB,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAAC,EAAE;QACxCF,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACjC,UAAU,EAAEmC,QAAQ;QAC1CH,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAAC7B,SAAS,EAAE+B,QAAQ;QACzCH,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACG,OAAO,EAAEF,OAAO,CAAC3B;QACvCyB,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACI,SAAS,EAAEC,IAAI,CAAC;QACtCN,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEJ,QAAQ;QAErC,kCAAkC;QAClCH,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACO,WAAW,EAAEC,WAAW;QAC9CT,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACS,aAAa,EAAED,WAAW;QAChDT,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACU,aAAa,EAAEF,WAAW;QAChDT,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACW,UAAU,EAAEH,WAAW;QAC7CT,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACY,gBAAgB,EAAEJ,WAAW;IACrD;IAEAb,IAAAA,WAAE,EAAC,kFAAkF;QACnFE,IAAAA,iBAAU,EAAC,IACTC,IAAAA,oDAAyB,EAACxB,gBAAgB;gBAAE,GAAGI,OAAO;gBAAEC,WAAW;YAAK;QAG1E,MAAMkC,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAAC3D,WAAW0E,oBAAoB,CACpC,wEACAf,eAAM,CAACgB,GAAG,CAAC/D;QAEf;IACF;IAEA2C,IAAAA,WAAE,EAAC,yEAAyE;QAC1EE,IAAAA,iBAAU,EAAC,IACTC,IAAAA,oDAAyB,EAACxB,gBAAgB;gBAAE,GAAGI,OAAO;gBAAEC,WAAW;YAAM;QAG3E,qDAAqD;QACrD,MAAM,IAAIqC,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;QAEjDlB,IAAAA,eAAM,EAAC3D,WAAW+E,GAAG,CAACC,gBAAgB;IACxC;IAEAzB,IAAAA,WAAE,EAAC,mDAAmD;QACpD,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,MAAM2C,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEA,MAAMM,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAACxC,mBAAmBC,MAAM;YAC/DqC,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACjC,UAAU,EAAEkC,OAAO,CAACxC,mBAAmBM,UAAU;YACvEgC,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAAC7B,SAAS,EAAE8B,OAAO,CAACxC,mBAAmBU,SAAS;YACrE4B,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACI,SAAS,EAAEC,IAAI,CAAC;YACtCN,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEJ,QAAQ;QACvC;IACF;IAEAP,IAAAA,WAAE,EAAC,+CAA+C;QAChD,MAAM2B,eAAe;QACrBlF,UAAUmF,iBAAiB,CAAC,IAAIC,MAAMF;QAEtC,MAAM,EAAE1B,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,MAAM2C,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEA,MAAMM,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEmB,UAAU;YACvC1B,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEoB,SAASrB,IAAI,CAACiB;YAC3CvB,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACI,SAAS,EAAEC,IAAI,CAAC;YACtCN,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAAC,EAAE;QAC1C;IACF;IAEAN,IAAAA,WAAE,EAAC,0CAA0C;QAC3C,qCAAqC;QACrC,MAAMgC,YAAY;YAChBC,MAAMnE;YACNoE,WAAWC,KAAKC,GAAG,KAAK;YACxB5B,SAAS7B;QACX;QACA7B,iBAAiBC,OAAO,CAACuC,eAAe,CAAC+C,KAAKC,SAAS,CAACN;QAExD,MAAM,EAAE/B,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgB;gBAAE,GAAGI,OAAO;gBAAEI,aAAa;YAAK;QAG5E,MAAMuC,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEA,4CAA4C;QAC5CR,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAACxC,mBAAmBC,MAAM;QAC/DqC,IAAAA,eAAM,EAAC3D,WAAW+E,GAAG,CAACC,gBAAgB;IACxC;IAEAzB,IAAAA,WAAE,EAAC,qDAAqD;QACtD,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,MAAMwD,aAAa;YAAElE,MAAM;YAAGH,QAAQ;QAAY;QAElD,MAAMwD,IAAAA,UAAG,EAAC;YACRzB,OAAOI,OAAO,CAACS,aAAa,CAACyB;QAC/B;QAEA,MAAMrB,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACG,OAAO,EAAEF,OAAO,CAAC;gBACrC,GAAG3B,cAAc;gBACjB,GAAG4D,UAAU;YACf;YACAnC,IAAAA,eAAM,EAAC3D,WAAW0E,oBAAoB,CACpCf,eAAM,CAACoC,gBAAgB,CAAC,WACxBpC,eAAM,CAACgB,GAAG,CAAC/D;QAEf;IACF;IAEA2C,IAAAA,WAAE,EAAC,iDAAiD;QAClD,oDAAoD;QACpDvD,UACGgG,qBAAqB,CAAC,IAAIZ,MAAM,kBAChCY,qBAAqB,CAAC,IAAIZ,MAAM,kBAChCa,qBAAqB,CAAC;YACrBlD,IAAI;YACJtB,QAAQ;YACRuB,MAAM/C,aAAI,CAACC,EAAE,GAAG4C,iBAAiB,CAACzB;QACpC;QAEF,MAAM,EAAEmC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgB;gBAAE,GAAGI,OAAO;gBAAEE,YAAY;YAAE;QAGxE,MAAMyC,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEA,MAAMM,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAAC3D,WAAWkG,qBAAqB,CAAC;YACxCvC,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAACxC,mBAAmBC,MAAM;YAC/DqC,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEJ,QAAQ;QACvC;IACF;IAEAP,IAAAA,WAAE,EAAC,sCAAsC;QACvC,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,gBAAgB;QAChB,MAAM2C,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEA,gCAAgC;QAChClE,aAAI,CAAC2C,aAAa;QAElB,UAAU;QACV,MAAMqC,IAAAA,UAAG,EAAC;YACRzB,OAAOI,OAAO,CAACU,aAAa;QAC9B;QAEA,MAAMG,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAAC3D,WAAWkG,qBAAqB,CAAC;QAC1C;IACF;IAEA3C,IAAAA,WAAE,EAAC,sCAAsC;QACvCvD,UAAUmF,iBAAiB,CAAC,IAAIC,MAAM;QAEtC,MAAM,EAAE5B,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,gBAAgB;QAChB,MAAM2C,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEAR,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEmB,UAAU;QAEvC,gBAAgB;QAChBJ,IAAAA,UAAG,EAAC;YACFzB,OAAOI,OAAO,CAACW,UAAU;QAC3B;QAEAZ,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEJ,QAAQ;IACvC;IAEAP,IAAAA,WAAE,EAAC,4CAA4C;QAC7CvD,UAAUmF,iBAAiB,CAAC,IAAIC,MAAM;QAEtC,MAAM,EAAE5B,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,kBAAkB;QAClB,MAAM2C,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACO,WAAW;QAClC;QAEAR,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEmB,UAAU;QAEvC,sCAAsC;QACtCrF,UAAU8C,iBAAiB,CAAC;YAC1BC,IAAI;YACJtB,QAAQ;YACRuB,MAAM/C,aAAI,CAACC,EAAE,GAAG4C,iBAAiB,CAACzB;QACpC;QAEA,QAAQ;QACR,MAAM4D,IAAAA,UAAG,EAAC;YACR,MAAMzB,OAAOI,OAAO,CAACY,gBAAgB;QACvC;QAEA,MAAMC,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAACxC,mBAAmBC,MAAM;YAC/DqC,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACM,KAAK,EAAEJ,QAAQ;QACvC;IACF;IAEAP,IAAAA,WAAE,EAAC,sCAAsC;QACvC,MAAM,EAAE4C,OAAO,EAAE,GAAG1C,IAAAA,iBAAU,EAAC,IAC7BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,qBAAqB;QACrB2C,IAAAA,UAAG,EAAC;QACF,mDAAmD;QACrD;QAEA,YAAY;QACZkB;QAEA,iCAAiC;QACjCxC,IAAAA,eAAM,EAAC3C,WAAWgE,gBAAgB;IACpC;IAEAzB,IAAAA,WAAE,EAAC,yEAAyE;QAC1E,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,oCAAoC;QACpC,MAAM2C,IAAAA,UAAG,EAAC;YACRzB,OAAOI,OAAO,CAACS,aAAa,CAAC;gBAAEzC,MAAM;YAAE;YACvC4B,OAAOI,OAAO,CAACS,aAAa,CAAC;gBAAEzC,MAAM;YAAE;YACvC4B,OAAOI,OAAO,CAACS,aAAa,CAAC;gBAAEzC,MAAM;YAAE;QACzC;QAEA,MAAM6C,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACG,OAAO,CAACnC,IAAI,EAAEqC,IAAI,CAAC;QAC3C;IACF;IAEAV,IAAAA,WAAE,EAAC,uEAAuE;QACxE,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,iBAAU,EAAC,IAC5BC,IAAAA,oDAAyB,EAACxB,gBAAgBI;QAG5C,gBAAgB;QAChB2C,IAAAA,UAAG,EAAC;YACFzB,OAAOI,OAAO,CAACO,WAAW;QAC5B;QAEA,8BAA8B;QAC9BR,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACI,SAAS,EAAEC,IAAI,CAAC;QAEtC,wBAAwB;QACxB,MAAMQ,IAAAA,cAAO,EAAC;YACZd,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACI,SAAS,EAAEC,IAAI,CAAC;QACxC;QAEA,yBAAyB;QACzBN,IAAAA,eAAM,EAACH,OAAOI,OAAO,CAACtC,MAAM,EAAEuC,OAAO,CAACxC,mBAAmBC,MAAM;IACjE;AACF"}