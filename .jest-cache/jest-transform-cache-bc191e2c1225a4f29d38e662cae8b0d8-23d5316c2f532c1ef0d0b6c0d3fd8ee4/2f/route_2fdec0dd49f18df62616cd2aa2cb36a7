111e1922b1d21fbdbf85dd2d313aa31a
// Configuración para Node.js Runtime
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get GET () {
        return GET;
    },
    get POST () {
        return POST;
    },
    get runtime () {
        return runtime;
    }
});
const _server = require("next/server");
const _supabase = require("../../../lib/integrations/supabase");
const _validations = require("../../../lib/validations");
const _ratelimiter = require("../../../lib/rate-limiting/rate-limiter");
const _apitimeouts = require("../../../lib/config/api-timeouts");
const _securitylogger = require("../../../lib/logging/security-logger");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const runtime = 'nodejs';
async function GET(request) {
    // Crear logger de seguridad con contexto
    const securityLogger = (0, _securitylogger.createSecurityLogger)(request);
    // Aplicar rate limiting para APIs de categorías
    const rateLimitResult = await (0, _ratelimiter.withRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.products, async ()=>{
        // Log de acceso a la API
        securityLogger.log({
            type: 'data_access',
            severity: 'low',
            message: 'Categories API accessed',
            context: securityLogger.context,
            metadata: {
                endpoint: '/api/categories',
                method: 'GET',
                userAgent: request.headers.get('user-agent')
            }
        });
        try {
            const { searchParams } = new URL(request.url);
            // Extraer parámetros de query
            const queryParams = {
                search: searchParams.get('search') || undefined
            };
            // Validar parámetros (simplificado para la estructura actual)
            const filters = {
                search: queryParams.search
            };
            const supabase = (0, _supabase.getSupabaseClient)();
            // Verificar que el cliente de Supabase esté disponible
            if (!supabase) {
                console.error('Cliente de Supabase no disponible en GET /api/categories');
                const errorResponse = {
                    data: null,
                    success: false,
                    error: 'Servicio de base de datos no disponible'
                };
                return _server.NextResponse.json(errorResponse, {
                    status: 503
                });
            }
            // Construir query base - simplificado para la estructura actual
            const baseQuery = supabase.from('categories').select(`
        *,
        products_count:products(count)
      `).order('name');
            // Aplicar filtros
            let query = baseQuery;
            if (filters.search) {
                query = query.ilike('name', `%${filters.search}%`);
            }
            // Ejecutar query con timeout de base de datos
            const { data: categories, error } = await (0, _apitimeouts.withDatabaseTimeout)(async (signal)=>{
                return await query.abortSignal(signal);
            }, _apitimeouts.API_TIMEOUTS.database);
            if (error) {
                console.error('Error en GET /api/categories:', error);
                // Log de error de seguridad
                securityLogger.logApiError(securityLogger.context, new Error(`Database error: ${error.message}`), {
                    endpoint: '/api/categories',
                    operation: 'select_categories'
                });
                const errorResponse = {
                    data: null,
                    success: false,
                    error: error.message || 'Error obteniendo categorías'
                };
                return _server.NextResponse.json(errorResponse, {
                    status: 500
                });
            }
            // Procesar datos para incluir conteo de productos
            const processedCategories = categories?.map((category)=>({
                    ...category,
                    products_count: category.products_count?.[0]?.count || 0
                })) || [];
            // Log de operación exitosa
            securityLogger.log({
                type: 'data_access',
                severity: 'low',
                message: 'Categories retrieved successfully',
                context: securityLogger.context,
                metadata: {
                    categoriesCount: processedCategories.length,
                    hasSearch: !!filters.search,
                    searchTerm: filters.search
                }
            });
            const response = {
                data: processedCategories,
                success: true,
                message: `${processedCategories.length} categorías encontradas`
            };
            return _server.NextResponse.json(response);
        } catch (error) {
            console.error('Error en GET /api/categories:', error);
            // Log de error de seguridad
            securityLogger.logApiError(securityLogger.context, error instanceof Error ? error : new Error('Unknown error'), {
                endpoint: '/api/categories'
            });
            const errorResponse = {
                data: null,
                success: false,
                error: error.message || 'Error interno del servidor'
            };
            return _server.NextResponse.json(errorResponse, {
                status: 500
            });
        }
    });
    // Manejar rate limit excedido
    if (rateLimitResult instanceof _server.NextResponse) {
        securityLogger.logRateLimitExceeded(securityLogger.context, {
            endpoint: '/api/categories',
            method: 'GET'
        });
        return rateLimitResult;
    }
    return rateLimitResult;
}
async function POST(request) {
    try {
        // ENTERPRISE: Usar nueva autenticación enterprise para admin
        const { requireAdminAuth } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/auth/enterprise-auth-utils")));
        const authResult = await requireAdminAuth(request, [
            'categories_create'
        ]);
        if (!authResult.success) {
            return _server.NextResponse.json({
                error: authResult.error,
                code: authResult.code,
                enterprise: true,
                timestamp: new Date().toISOString()
            }, {
                status: authResult.status || 401
            });
        }
        const context = authResult.context;
        const body = await request.json();
        // Validar datos de la categoría
        const categoryData = (0, _validations.validateData)(_validations.CategorySchema, body);
        const supabase = (0, _supabase.getSupabaseClient)(true); // Usar cliente admin
        // Verificar que el cliente administrativo esté disponible
        if (!supabase) {
            console.error('Cliente administrativo de Supabase no disponible en POST /api/categories');
            const errorResponse = {
                data: null,
                success: false,
                error: 'Servicio administrativo no disponible'
            };
            return _server.NextResponse.json(errorResponse, {
                status: 503
            });
        }
        // Crear slug si no se proporciona
        if (!categoryData.slug) {
            categoryData.slug = categoryData.name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
        }
        // Insertar categoría
        const { data: category, error } = await supabase.from('categories').insert(categoryData).select().single();
        if (error) {
            (0, _supabase.handleSupabaseError)(error, 'POST /api/categories');
        }
        const response = {
            data: category,
            success: true,
            message: 'Categoría creada exitosamente'
        };
        return _server.NextResponse.json(response, {
            status: 201
        });
    } catch (error) {
        console.error('Error en POST /api/categories:', error);
        const errorResponse = {
            data: null,
            success: false,
            error: error.message || 'Error interno del servidor'
        };
        return _server.NextResponse.json(errorResponse, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXGNhdGVnb3JpZXNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbmZpZ3VyYWNpw7NuIHBhcmEgTm9kZS5qcyBSdW50aW1lXHJcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBBUEkgREUgQ0FURUdPUsONQVNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50LCBoYW5kbGVTdXBhYmFzZUVycm9yIH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgdmFsaWRhdGVEYXRhLCBDYXRlZ29yeUZpbHRlcnNTY2hlbWEsIENhdGVnb3J5U2NoZW1hIH0gZnJvbSAnQC9saWIvdmFsaWRhdGlvbnMnO1xyXG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMvYXBpJztcclxuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tICdAL3R5cGVzL2RhdGFiYXNlJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1FSk9SQVMgREUgU0VHVVJJREFEIC0gQUxUQSBQUklPUklEQURcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuaW1wb3J0IHtcclxuICB3aXRoUmF0ZUxpbWl0LFxyXG4gIFJBVEVfTElNSVRfQ09ORklHU1xyXG59IGZyb20gJ0AvbGliL3JhdGUtbGltaXRpbmcvcmF0ZS1saW1pdGVyJztcclxuaW1wb3J0IHtcclxuICBBUElfVElNRU9VVFMsXHJcbiAgd2l0aERhdGFiYXNlVGltZW91dCxcclxuICBnZXRFbmRwb2ludFRpbWVvdXRzXHJcbn0gZnJvbSAnQC9saWIvY29uZmlnL2FwaS10aW1lb3V0cyc7XHJcbmltcG9ydCB7IGNyZWF0ZVNlY3VyaXR5TG9nZ2VyIH0gZnJvbSAnQC9saWIvbG9nZ2luZy9zZWN1cml0eS1sb2dnZXInO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0VUIC9hcGkvY2F0ZWdvcmllcyAtIE9idGVuZXIgY2F0ZWdvcsOtYXNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIC8vIENyZWFyIGxvZ2dlciBkZSBzZWd1cmlkYWQgY29uIGNvbnRleHRvXHJcbiAgY29uc3Qgc2VjdXJpdHlMb2dnZXIgPSBjcmVhdGVTZWN1cml0eUxvZ2dlcihyZXF1ZXN0KTtcclxuXHJcbiAgLy8gQXBsaWNhciByYXRlIGxpbWl0aW5nIHBhcmEgQVBJcyBkZSBjYXRlZ29yw61hc1xyXG4gIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IGF3YWl0IHdpdGhSYXRlTGltaXQoXHJcbiAgICByZXF1ZXN0LFxyXG4gICAgUkFURV9MSU1JVF9DT05GSUdTLnByb2R1Y3RzLCAvLyBVc2FyIGNvbmZpZyBkZSBwcm9kdWN0b3MgcGFyYSBjYXRlZ29yw61hc1xyXG4gICAgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBMb2cgZGUgYWNjZXNvIGEgbGEgQVBJXHJcbiAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZyh7XHJcbiAgICAgICAgdHlwZTogJ2RhdGFfYWNjZXNzJyxcclxuICAgICAgICBzZXZlcml0eTogJ2xvdycsXHJcbiAgICAgICAgbWVzc2FnZTogJ0NhdGVnb3JpZXMgQVBJIGFjY2Vzc2VkJyxcclxuICAgICAgICBjb250ZXh0OiBzZWN1cml0eUxvZ2dlci5jb250ZXh0LFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICBlbmRwb2ludDogJy9hcGkvY2F0ZWdvcmllcycsXHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JylcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhZXIgcGFyw6FtZXRyb3MgZGUgcXVlcnlcclxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xyXG4gICAgICBzZWFyY2g6IHNlYXJjaFBhcmFtcy5nZXQoJ3NlYXJjaCcpIHx8IHVuZGVmaW5lZCxcclxuICAgIH07XHJcblxyXG4gICAgLy8gVmFsaWRhciBwYXLDoW1ldHJvcyAoc2ltcGxpZmljYWRvIHBhcmEgbGEgZXN0cnVjdHVyYSBhY3R1YWwpXHJcbiAgICBjb25zdCBmaWx0ZXJzID0ge1xyXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1zLnNlYXJjaCxcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQoKTtcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIGVsIGNsaWVudGUgZGUgU3VwYWJhc2UgZXN0w6kgZGlzcG9uaWJsZVxyXG4gICAgaWYgKCFzdXBhYmFzZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDbGllbnRlIGRlIFN1cGFiYXNlIG5vIGRpc3BvbmlibGUgZW4gR0VUIC9hcGkvY2F0ZWdvcmllcycpO1xyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAnU2VydmljaW8gZGUgYmFzZSBkZSBkYXRvcyBubyBkaXNwb25pYmxlJyxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uc3RydWlyIHF1ZXJ5IGJhc2UgLSBzaW1wbGlmaWNhZG8gcGFyYSBsYSBlc3RydWN0dXJhIGFjdHVhbFxyXG4gICAgY29uc3QgYmFzZVF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NhdGVnb3JpZXMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICAqLFxyXG4gICAgICAgIHByb2R1Y3RzX2NvdW50OnByb2R1Y3RzKGNvdW50KVxyXG4gICAgICBgKVxyXG4gICAgICAub3JkZXIoJ25hbWUnKTtcclxuXHJcbiAgICAvLyBBcGxpY2FyIGZpbHRyb3NcclxuICAgIGxldCBxdWVyeSA9IGJhc2VRdWVyeTtcclxuICAgIGlmIChmaWx0ZXJzLnNlYXJjaCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmlsaWtlKCduYW1lJywgYCUke2ZpbHRlcnMuc2VhcmNofSVgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFamVjdXRhciBxdWVyeSBjb24gdGltZW91dCBkZSBiYXNlIGRlIGRhdG9zXHJcbiAgICBjb25zdCB7IGRhdGE6IGNhdGVnb3JpZXMsIGVycm9yIH0gPSBhd2FpdCB3aXRoRGF0YWJhc2VUaW1lb3V0KFxyXG4gICAgICBhc3luYyAoc2lnbmFsKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHF1ZXJ5LmFib3J0U2lnbmFsKHNpZ25hbCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIEFQSV9USU1FT1VUUy5kYXRhYmFzZVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gR0VUIC9hcGkvY2F0ZWdvcmllczonLCBlcnJvcik7XHJcblxyXG4gICAgICAvLyBMb2cgZGUgZXJyb3IgZGUgc2VndXJpZGFkXHJcbiAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ0FwaUVycm9yKFxyXG4gICAgICAgIHNlY3VyaXR5TG9nZ2VyLmNvbnRleHQsXHJcbiAgICAgICAgbmV3IEVycm9yKGBEYXRhYmFzZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVuZHBvaW50OiAnL2FwaS9jYXRlZ29yaWVzJyxcclxuICAgICAgICAgIG9wZXJhdGlvbjogJ3NlbGVjdF9jYXRlZ29yaWVzJ1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yIG9idGVuaWVuZG8gY2F0ZWdvcsOtYXMnLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9jZXNhciBkYXRvcyBwYXJhIGluY2x1aXIgY29udGVvIGRlIHByb2R1Y3Rvc1xyXG4gICAgY29uc3QgcHJvY2Vzc2VkQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM/Lm1hcChjYXRlZ29yeSA9PiAoe1xyXG4gICAgICAuLi5jYXRlZ29yeSxcclxuICAgICAgcHJvZHVjdHNfY291bnQ6IGNhdGVnb3J5LnByb2R1Y3RzX2NvdW50Py5bMF0/LmNvdW50IHx8IDAsXHJcbiAgICB9KSkgfHwgW107XHJcblxyXG4gICAgLy8gTG9nIGRlIG9wZXJhY2nDs24gZXhpdG9zYVxyXG4gICAgc2VjdXJpdHlMb2dnZXIubG9nKHtcclxuICAgICAgdHlwZTogJ2RhdGFfYWNjZXNzJyxcclxuICAgICAgc2V2ZXJpdHk6ICdsb3cnLFxyXG4gICAgICBtZXNzYWdlOiAnQ2F0ZWdvcmllcyByZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgY29udGV4dDogc2VjdXJpdHlMb2dnZXIuY29udGV4dCxcclxuICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICBjYXRlZ29yaWVzQ291bnQ6IHByb2Nlc3NlZENhdGVnb3JpZXMubGVuZ3RoLFxyXG4gICAgICAgIGhhc1NlYXJjaDogISFmaWx0ZXJzLnNlYXJjaCxcclxuICAgICAgICBzZWFyY2hUZXJtOiBmaWx0ZXJzLnNlYXJjaFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8Q2F0ZWdvcnlbXT4gPSB7XHJcbiAgICAgIGRhdGE6IHByb2Nlc3NlZENhdGVnb3JpZXMsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IGAke3Byb2Nlc3NlZENhdGVnb3JpZXMubGVuZ3RofSBjYXRlZ29yw61hcyBlbmNvbnRyYWRhc2AsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBHRVQgL2FwaS9jYXRlZ29yaWVzOicsIGVycm9yKTtcclxuXHJcbiAgICAgIC8vIExvZyBkZSBlcnJvciBkZSBzZWd1cmlkYWRcclxuICAgICAgc2VjdXJpdHlMb2dnZXIubG9nQXBpRXJyb3IoXHJcbiAgICAgICAgc2VjdXJpdHlMb2dnZXIuY29udGV4dCxcclxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoJ1Vua25vd24gZXJyb3InKSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlbmRwb2ludDogJy9hcGkvY2F0ZWdvcmllcydcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gTWFuZWphciByYXRlIGxpbWl0IGV4Y2VkaWRvXHJcbiAgaWYgKHJhdGVMaW1pdFJlc3VsdCBpbnN0YW5jZW9mIE5leHRSZXNwb25zZSkge1xyXG4gICAgc2VjdXJpdHlMb2dnZXIubG9nUmF0ZUxpbWl0RXhjZWVkZWQoXHJcbiAgICAgIHNlY3VyaXR5TG9nZ2VyLmNvbnRleHQsXHJcbiAgICAgIHsgZW5kcG9pbnQ6ICcvYXBpL2NhdGVnb3JpZXMnLCBtZXRob2Q6ICdHRVQnIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmF0ZUxpbWl0UmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJhdGVMaW1pdFJlc3VsdDtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUE9TVCAvYXBpL2NhdGVnb3JpZXMgLSBDcmVhciBjYXRlZ29yw61hIChBZG1pbilcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gRU5URVJQUklTRTogVXNhciBudWV2YSBhdXRlbnRpY2FjacOzbiBlbnRlcnByaXNlIHBhcmEgYWRtaW5cclxuICAgIGNvbnN0IHsgcmVxdWlyZUFkbWluQXV0aCB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9hdXRoL2VudGVycHJpc2UtYXV0aC11dGlscycpO1xyXG5cclxuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCByZXF1aXJlQWRtaW5BdXRoKHJlcXVlc3QsIFsnY2F0ZWdvcmllc19jcmVhdGUnXSk7XHJcblxyXG4gICAgaWYgKCFhdXRoUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGVycm9yOiBhdXRoUmVzdWx0LmVycm9yLFxyXG4gICAgICAgICAgY29kZTogYXV0aFJlc3VsdC5jb2RlLFxyXG4gICAgICAgICAgZW50ZXJwcmlzZTogdHJ1ZSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IHN0YXR1czogYXV0aFJlc3VsdC5zdGF0dXMgfHwgNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gYXV0aFJlc3VsdC5jb250ZXh0ITtcclxuXHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXIgZGF0b3MgZGUgbGEgY2F0ZWdvcsOtYVxyXG4gICAgY29uc3QgY2F0ZWdvcnlEYXRhID0gdmFsaWRhdGVEYXRhKENhdGVnb3J5U2NoZW1hLCBib2R5KTtcclxuICAgIFxyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCh0cnVlKTsgLy8gVXNhciBjbGllbnRlIGFkbWluXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBjbGllbnRlIGFkbWluaXN0cmF0aXZvIGVzdMOpIGRpc3BvbmlibGVcclxuICAgIGlmICghc3VwYWJhc2UpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50ZSBhZG1pbmlzdHJhdGl2byBkZSBTdXBhYmFzZSBubyBkaXNwb25pYmxlIGVuIFBPU1QgL2FwaS9jYXRlZ29yaWVzJyk7XHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdTZXJ2aWNpbyBhZG1pbmlzdHJhdGl2byBubyBkaXNwb25pYmxlJyxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDMgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXIgc2x1ZyBzaSBubyBzZSBwcm9wb3JjaW9uYVxyXG4gICAgaWYgKCFjYXRlZ29yeURhdGEuc2x1Zykge1xyXG4gICAgICBjYXRlZ29yeURhdGEuc2x1ZyA9IGNhdGVnb3J5RGF0YS5uYW1lXHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpXHJcbiAgICAgICAgLnJlcGxhY2UoLyheLXwtJCkvZywgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluc2VydGFyIGNhdGVnb3LDrWFcclxuICAgIGNvbnN0IHsgZGF0YTogY2F0ZWdvcnksIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2F0ZWdvcmllcycpXHJcbiAgICAgIC5pbnNlcnQoY2F0ZWdvcnlEYXRhKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBoYW5kbGVTdXBhYmFzZUVycm9yKGVycm9yLCAnUE9TVCAvYXBpL2NhdGVnb3JpZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8Q2F0ZWdvcnk+ID0ge1xyXG4gICAgICBkYXRhOiBjYXRlZ29yeSxcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0NhdGVnb3LDrWEgY3JlYWRhIGV4aXRvc2FtZW50ZScsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSwgeyBzdGF0dXM6IDIwMSB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gUE9TVCAvYXBpL2NhdGVnb3JpZXM6JywgZXJyb3IpO1xyXG4gICAgXHJcbiAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiR0VUIiwiUE9TVCIsInJ1bnRpbWUiLCJyZXF1ZXN0Iiwic2VjdXJpdHlMb2dnZXIiLCJjcmVhdGVTZWN1cml0eUxvZ2dlciIsInJhdGVMaW1pdFJlc3VsdCIsIndpdGhSYXRlTGltaXQiLCJSQVRFX0xJTUlUX0NPTkZJR1MiLCJwcm9kdWN0cyIsImxvZyIsInR5cGUiLCJzZXZlcml0eSIsIm1lc3NhZ2UiLCJjb250ZXh0IiwibWV0YWRhdGEiLCJlbmRwb2ludCIsIm1ldGhvZCIsInVzZXJBZ2VudCIsImhlYWRlcnMiLCJnZXQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJxdWVyeVBhcmFtcyIsInNlYXJjaCIsInVuZGVmaW5lZCIsImZpbHRlcnMiLCJzdXBhYmFzZSIsImdldFN1cGFiYXNlQ2xpZW50IiwiY29uc29sZSIsImVycm9yIiwiZXJyb3JSZXNwb25zZSIsImRhdGEiLCJzdWNjZXNzIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN0YXR1cyIsImJhc2VRdWVyeSIsImZyb20iLCJzZWxlY3QiLCJvcmRlciIsInF1ZXJ5IiwiaWxpa2UiLCJjYXRlZ29yaWVzIiwid2l0aERhdGFiYXNlVGltZW91dCIsInNpZ25hbCIsImFib3J0U2lnbmFsIiwiQVBJX1RJTUVPVVRTIiwiZGF0YWJhc2UiLCJsb2dBcGlFcnJvciIsIkVycm9yIiwib3BlcmF0aW9uIiwicHJvY2Vzc2VkQ2F0ZWdvcmllcyIsIm1hcCIsImNhdGVnb3J5IiwicHJvZHVjdHNfY291bnQiLCJjb3VudCIsImNhdGVnb3JpZXNDb3VudCIsImxlbmd0aCIsImhhc1NlYXJjaCIsInNlYXJjaFRlcm0iLCJyZXNwb25zZSIsImxvZ1JhdGVMaW1pdEV4Y2VlZGVkIiwicmVxdWlyZUFkbWluQXV0aCIsImF1dGhSZXN1bHQiLCJjb2RlIiwiZW50ZXJwcmlzZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImJvZHkiLCJjYXRlZ29yeURhdGEiLCJ2YWxpZGF0ZURhdGEiLCJDYXRlZ29yeVNjaGVtYSIsInNsdWciLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiaW5zZXJ0Iiwic2luZ2xlIiwiaGFuZGxlU3VwYWJhc2VFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDOzs7Ozs7Ozs7Ozs7UUE4QmZBO2VBQUFBOztRQTRKQUM7ZUFBQUE7O1FBekxUQztlQUFBQTs7O3dCQU02QjswQkFDYTs2QkFDYTs2QkFVN0Q7NkJBS0E7Z0NBQzhCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF4QjlCLE1BQU1BLFVBQVU7QUE2QmhCLGVBQWVGLElBQUlHLE9BQW9CO0lBQzVDLHlDQUF5QztJQUN6QyxNQUFNQyxpQkFBaUJDLElBQUFB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