{"version":3,"names":["OptimizedImage","cov_1twd8zedi0","f","s","useImagePreload","src","alt","width","b","height","className","priority","placeholder","blurDataURL","sizes","quality","props","isLoading","setIsLoading","_react","useState","hasError","setHasError","defaultBlurDataURL","generateBlurDataURL","_jsxruntime","jsxs","jsx","style","_image","default","onLoad","onError","canvas","document","createElement","ctx","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","toDataURL","link","rel","as","href","head","appendChild","removeChild"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\optimized-image.tsx"],"sourcesContent":["import Image from 'next/image';\r\nimport { useState } from 'react';\r\n\r\ninterface OptimizedImageProps {\r\n  src: string;\r\n  alt: string;\r\n  width?: number;\r\n  height?: number;\r\n  className?: string;\r\n  priority?: boolean;\r\n  placeholder?: 'blur' | 'empty';\r\n  blurDataURL?: string;\r\n  sizes?: string;\r\n  quality?: number;\r\n}\r\n\r\n/**\r\n * Componente de imagen optimizada para Pinteya E-commerce\r\n * Incluye lazy loading, WebP/AVIF, y placeholders optimizados\r\n */\r\nexport function OptimizedImage({\r\n  src,\r\n  alt,\r\n  width = 400,\r\n  height = 400,\r\n  className = '',\r\n  priority = false,\r\n  placeholder = 'blur',\r\n  blurDataURL,\r\n  sizes = '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',\r\n  quality = 85,\r\n  ...props\r\n}: OptimizedImageProps) {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  // Generar blur placeholder automático si no se proporciona\r\n  const defaultBlurDataURL = blurDataURL || generateBlurDataURL(width, height);\r\n\r\n  return (\r\n    <div className={`relative overflow-hidden ${className}`}>\r\n      {isLoading && (\r\n        <div \r\n          className=\"absolute inset-0 bg-gray-200 animate-pulse rounded\"\r\n          style={{ width, height }}\r\n        />\r\n      )}\r\n      \r\n      {hasError ? (\r\n        <div \r\n          className=\"flex items-center justify-center bg-gray-100 text-gray-400 rounded\"\r\n          style={{ width, height }}\r\n        >\r\n          <span className=\"text-sm\">Imagen no disponible</span>\r\n        </div>\r\n      ) : (\r\n        <Image\r\n          src={src}\r\n          alt={alt}\r\n          width={width}\r\n          height={height}\r\n          priority={priority}\r\n          placeholder={placeholder}\r\n          blurDataURL={defaultBlurDataURL}\r\n          sizes={sizes}\r\n          quality={quality}\r\n          className={`transition-opacity duration-300 ${isLoading ? 'opacity-0' : 'opacity-100'}`}\r\n          onLoad={() => setIsLoading(false)}\r\n          onError={() => {\r\n            setIsLoading(false);\r\n            setHasError(true);\r\n          }}\r\n          {...props}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Generar blur placeholder automático\r\n */\r\nfunction generateBlurDataURL(width: number, height: number): string {\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = width;\r\n  canvas.height = height;\r\n  \r\n  const ctx = canvas.getContext('2d');\r\n  if (!ctx) {return '';}\r\n  \r\n  // Crear gradiente suave\r\n  const gradient = ctx.createLinearGradient(0, 0, width, height);\r\n  gradient.addColorStop(0, '#f3f4f6');\r\n  gradient.addColorStop(1, '#e5e7eb');\r\n  \r\n  ctx.fillStyle = gradient;\r\n  ctx.fillRect(0, 0, width, height);\r\n  \r\n  return canvas.toDataURL();\r\n}\r\n\r\n/**\r\n * Hook para precargar imágenes críticas\r\n */\r\nexport function useImagePreload(src: string) {\r\n  useState(() => {\r\n    const link = document.createElement('link');\r\n    link.rel = 'preload';\r\n    link.as = 'image';\r\n    link.href = src;\r\n    document.head.appendChild(link);\r\n    \r\n    return () => {\r\n      document.head.removeChild(link);\r\n    };\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAoBgBA,eAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA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","ignoreList":[]}