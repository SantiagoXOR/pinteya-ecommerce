9fdc586c551c1f866765c7a76b4a3ca8
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ProductVariantManager", {
    enumerable: true,
    get: function() {
        return ProductVariantManager;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _AdminCard = require("../ui/AdminCard");
const _lucidereact = require("lucide-react");
const _utils = require("../../../lib/core/utils");
function ProductVariantManager({ variants = [], onChange, error, className }) {
    const [editingVariant, setEditingVariant] = (0, _react.useState)(null);
    const [newVariantName, setNewVariantName] = (0, _react.useState)('');
    const [newOption, setNewOption] = (0, _react.useState)('');
    // Predefined variant types
    const variantTypes = [
        {
            name: 'Color',
            icon: _lucidereact.Palette,
            options: [
                'Blanco',
                'Negro',
                'Rojo',
                'Azul',
                'Verde'
            ]
        },
        {
            name: 'Tamaño',
            icon: _lucidereact.Package,
            options: [
                'XS',
                'S',
                'M',
                'L',
                'XL'
            ]
        },
        {
            name: 'Material',
            icon: _lucidereact.Package,
            options: [
                'Algodón',
                'Poliéster',
                'Lana',
                'Seda'
            ]
        },
        {
            name: 'Capacidad',
            icon: _lucidereact.Package,
            options: [
                '1L',
                '4L',
                '10L',
                '20L'
            ]
        }
    ];
    // Add new variant
    const addVariant = (name, initialOptions = [])=>{
        const newVariant = {
            name,
            options: initialOptions
        };
        onChange([
            ...variants,
            newVariant
        ]);
        setNewVariantName('');
    };
    // Remove variant
    const removeVariant = (index)=>{
        const newVariants = variants.filter((_, i)=>i !== index);
        onChange(newVariants);
    };
    // Update variant name
    const updateVariantName = (index, name)=>{
        const newVariants = [
            ...variants
        ];
        newVariants[index] = {
            ...newVariants[index],
            name
        };
        onChange(newVariants);
    };
    // Add option to variant
    const addOption = (variantIndex, option)=>{
        if (!option.trim()) {
            return;
        }
        const newVariants = [
            ...variants
        ];
        const variant = newVariants[variantIndex];
        if (!variant.options.includes(option.trim())) {
            variant.options.push(option.trim());
            onChange(newVariants);
        }
        setNewOption('');
    };
    // Remove option from variant
    const removeOption = (variantIndex, optionIndex)=>{
        const newVariants = [
            ...variants
        ];
        newVariants[variantIndex].options.splice(optionIndex, 1);
        onChange(newVariants);
    };
    // Generate variant combinations
    const generateCombinations = ()=>{
        if (variants.length === 0) {
            return [];
        }
        const combinations = [
            []
        ];
        variants.forEach((variant)=>{
            const newCombinations = [];
            combinations.forEach((combination)=>{
                variant.options.forEach((option)=>{
                    newCombinations.push([
                        ...combination,
                        option
                    ]);
                });
            });
            combinations.length = 0;
            combinations.push(...newCombinations);
        });
        return combinations;
    };
    const combinations = generateCombinations();
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: (0, _utils.cn)('space-y-6', className),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AdminCard.AdminCard, {
            title: "Gesti\xf3n de Variantes",
            className: "p-6",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "bg-blue-50 border border-blue-200 rounded-lg p-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h5", {
                                className: "text-sm font-medium text-blue-800 mb-2",
                                children: "\xbfQu\xe9 son las variantes?"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-xs text-blue-700",
                                children: "Las variantes permiten ofrecer el mismo producto en diferentes opciones como color, tama\xf1o, material, etc. Cada combinaci\xf3n de variantes crear\xe1 un producto \xfanico con su propio precio y stock."
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                className: "text-sm font-medium text-gray-900 mb-3",
                                children: "Tipos de Variantes Comunes"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "grid grid-cols-2 md:grid-cols-4 gap-3",
                                children: variantTypes.map((type, index)=>{
                                    const Icon = type.icon;
                                    const exists = variants.some((v)=>v.name.toLowerCase() === type.name.toLowerCase());
                                    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                        type: "button",
                                        onClick: ()=>!exists && addVariant(type.name, type.options),
                                        disabled: exists,
                                        className: (0, _utils.cn)('p-3 border rounded-lg text-left transition-colors', exists ? 'border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed' : 'border-gray-300 hover:border-blaze-orange-300 hover:bg-blaze-orange-50'),
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(Icon, {
                                                className: "w-5 h-5 mb-2"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-sm font-medium",
                                                children: type.name
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-xs text-gray-500",
                                                children: exists ? 'Ya agregado' : `${type.options.length} opciones`
                                            })
                                        ]
                                    }, index);
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                className: "text-sm font-medium text-gray-900 mb-3",
                                children: "Agregar Variante Personalizada"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex space-x-3",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "text",
                                        value: newVariantName,
                                        onChange: (e)=>setNewVariantName(e.target.value),
                                        placeholder: "Nombre de la variante (ej: Acabado)",
                                        className: "flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                        type: "button",
                                        onClick: ()=>newVariantName.trim() && addVariant(newVariantName.trim()),
                                        disabled: !newVariantName.trim(),
                                        className: "px-4 py-2 bg-blaze-orange-600 text-white rounded-lg hover:bg-blaze-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Plus, {
                                            className: "w-4 h-4"
                                        })
                                    })
                                ]
                            })
                        ]
                    }),
                    error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-red-600 text-sm",
                        children: error instanceof Error ? error.message : String(error) || 'Ha ocurrido un error'
                    }),
                    variants.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h4", {
                                className: "text-sm font-medium text-gray-900",
                                children: [
                                    "Variantes Configuradas (",
                                    variants.length,
                                    ")"
                                ]
                            }),
                            variants.map((variant, variantIndex)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "border border-gray-200 rounded-lg p-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center justify-between mb-3",
                                            children: [
                                                editingVariant === variantIndex ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center space-x-2 flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                            type: "text",
                                                            value: variant.name,
                                                            onChange: (e)=>updateVariantName(variantIndex, e.target.value),
                                                            className: "flex-1 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blaze-orange-500"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                            type: "button",
                                                            onClick: ()=>setEditingVariant(null),
                                                            className: "text-green-600 hover:text-green-700",
                                                            children: "✓"
                                                        })
                                                    ]
                                                }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center space-x-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h5", {
                                                            className: "font-medium text-gray-900",
                                                            children: variant.name
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                            type: "button",
                                                            onClick: ()=>setEditingVariant(variantIndex),
                                                            className: "text-gray-400 hover:text-gray-600",
                                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Edit, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                    type: "button",
                                                    onClick: ()=>removeVariant(variantIndex),
                                                    className: "text-red-500 hover:text-red-700",
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Trash2, {
                                                        className: "w-4 h-4"
                                                    })
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "space-y-3",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "flex flex-wrap gap-2",
                                                    children: variant.options.map((option, optionIndex)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                            className: "inline-flex items-center space-x-1 px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    children: option
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                                    type: "button",
                                                                    onClick: ()=>removeOption(variantIndex, optionIndex),
                                                                    className: "text-gray-500 hover:text-red-500",
                                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.X, {
                                                                        className: "w-3 h-3"
                                                                    })
                                                                })
                                                            ]
                                                        }, optionIndex))
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex space-x-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                            type: "text",
                                                            value: newOption,
                                                            onChange: (e)=>setNewOption(e.target.value),
                                                            placeholder: `Nueva opción para ${variant.name}`,
                                                            className: "flex-1 px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blaze-orange-500",
                                                            onKeyPress: (e)=>{
                                                                if (e.key === 'Enter') {
                                                                    addOption(variantIndex, newOption);
                                                                }
                                                            }
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                            type: "button",
                                                            onClick: ()=>addOption(variantIndex, newOption),
                                                            disabled: !newOption.trim(),
                                                            className: "px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50",
                                                            children: "Agregar"
                                                        })
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }, variantIndex))
                        ]
                    }),
                    combinations.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h4", {
                                className: "text-sm font-medium text-gray-900",
                                children: [
                                    "Combinaciones Generadas (",
                                    combinations.length,
                                    ")"
                                ]
                            }),
                            combinations.length <= 20 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-2 max-h-40 overflow-y-auto",
                                children: combinations.map((combination, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "px-3 py-2 bg-gray-50 rounded text-sm text-gray-700",
                                        children: combination.join(' / ')
                                    }, index))
                            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "p-4 bg-yellow-50 border border-yellow-200 rounded-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                    className: "text-sm text-yellow-800",
                                    children: [
                                        "Se generar\xe1n ",
                                        combinations.length,
                                        " combinaciones. Considera reducir las opciones si es demasiado complejo de gestionar."
                                    ]
                                })
                            })
                        ]
                    }),
                    variants.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center py-8 text-gray-500",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Package, {
                                className: "w-12 h-12 mx-auto mb-4 text-gray-300"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sm",
                                children: "No hay variantes configuradas. Agrega variantes si tu producto tiene diferentes opciones."
                            })
                        ]
                    })
                ]
            })
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXHByb2R1Y3RzXFxQcm9kdWN0VmFyaWFudE1hbmFnZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQWRtaW5DYXJkIH0gZnJvbSAnLi4vdWkvQWRtaW5DYXJkJ1xuaW1wb3J0IHsgUGx1cywgWCwgRWRpdCwgVHJhc2gyLCBQYWxldHRlLCBQYWNrYWdlIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi9jb3JlL3V0aWxzJ1xuXG5pbnRlcmZhY2UgUHJvZHVjdFZhcmlhbnQge1xuICBuYW1lOiBzdHJpbmdcbiAgb3B0aW9uczogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIFByb2R1Y3RWYXJpYW50TWFuYWdlclByb3BzIHtcbiAgdmFyaWFudHM6IFByb2R1Y3RWYXJpYW50W11cbiAgb25DaGFuZ2U6ICh2YXJpYW50czogUHJvZHVjdFZhcmlhbnRbXSkgPT4gdm9pZFxuICBlcnJvcj86IHN0cmluZ1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb2R1Y3RWYXJpYW50TWFuYWdlcih7XG4gIHZhcmlhbnRzID0gW10sXG4gIG9uQ2hhbmdlLFxuICBlcnJvcixcbiAgY2xhc3NOYW1lLFxufTogUHJvZHVjdFZhcmlhbnRNYW5hZ2VyUHJvcHMpIHtcbiAgY29uc3QgW2VkaXRpbmdWYXJpYW50LCBzZXRFZGl0aW5nVmFyaWFudF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBbbmV3VmFyaWFudE5hbWUsIHNldE5ld1ZhcmlhbnROYW1lXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbbmV3T3B0aW9uLCBzZXROZXdPcHRpb25dID0gdXNlU3RhdGUoJycpXG5cbiAgLy8gUHJlZGVmaW5lZCB2YXJpYW50IHR5cGVzXG4gIGNvbnN0IHZhcmlhbnRUeXBlcyA9IFtcbiAgICB7IG5hbWU6ICdDb2xvcicsIGljb246IFBhbGV0dGUsIG9wdGlvbnM6IFsnQmxhbmNvJywgJ05lZ3JvJywgJ1Jvam8nLCAnQXp1bCcsICdWZXJkZSddIH0sXG4gICAgeyBuYW1lOiAnVGFtYcOxbycsIGljb246IFBhY2thZ2UsIG9wdGlvbnM6IFsnWFMnLCAnUycsICdNJywgJ0wnLCAnWEwnXSB9LFxuICAgIHsgbmFtZTogJ01hdGVyaWFsJywgaWNvbjogUGFja2FnZSwgb3B0aW9uczogWydBbGdvZMOzbicsICdQb2xpw6lzdGVyJywgJ0xhbmEnLCAnU2VkYSddIH0sXG4gICAgeyBuYW1lOiAnQ2FwYWNpZGFkJywgaWNvbjogUGFja2FnZSwgb3B0aW9uczogWycxTCcsICc0TCcsICcxMEwnLCAnMjBMJ10gfSxcbiAgXVxuXG4gIC8vIEFkZCBuZXcgdmFyaWFudFxuICBjb25zdCBhZGRWYXJpYW50ID0gKG5hbWU6IHN0cmluZywgaW5pdGlhbE9wdGlvbnM6IHN0cmluZ1tdID0gW10pID0+IHtcbiAgICBjb25zdCBuZXdWYXJpYW50OiBQcm9kdWN0VmFyaWFudCA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBvcHRpb25zOiBpbml0aWFsT3B0aW9ucyxcbiAgICB9XG4gICAgb25DaGFuZ2UoWy4uLnZhcmlhbnRzLCBuZXdWYXJpYW50XSlcbiAgICBzZXROZXdWYXJpYW50TmFtZSgnJylcbiAgfVxuXG4gIC8vIFJlbW92ZSB2YXJpYW50XG4gIGNvbnN0IHJlbW92ZVZhcmlhbnQgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld1ZhcmlhbnRzID0gdmFyaWFudHMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleClcbiAgICBvbkNoYW5nZShuZXdWYXJpYW50cylcbiAgfVxuXG4gIC8vIFVwZGF0ZSB2YXJpYW50IG5hbWVcbiAgY29uc3QgdXBkYXRlVmFyaWFudE5hbWUgPSAoaW5kZXg6IG51bWJlciwgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbmV3VmFyaWFudHMgPSBbLi4udmFyaWFudHNdXG4gICAgbmV3VmFyaWFudHNbaW5kZXhdID0geyAuLi5uZXdWYXJpYW50c1tpbmRleF0sIG5hbWUgfVxuICAgIG9uQ2hhbmdlKG5ld1ZhcmlhbnRzKVxuICB9XG5cbiAgLy8gQWRkIG9wdGlvbiB0byB2YXJpYW50XG4gIGNvbnN0IGFkZE9wdGlvbiA9ICh2YXJpYW50SW5kZXg6IG51bWJlciwgb3B0aW9uOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIW9wdGlvbi50cmltKCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG5ld1ZhcmlhbnRzID0gWy4uLnZhcmlhbnRzXVxuICAgIGNvbnN0IHZhcmlhbnQgPSBuZXdWYXJpYW50c1t2YXJpYW50SW5kZXhdXG5cbiAgICBpZiAoIXZhcmlhbnQub3B0aW9ucy5pbmNsdWRlcyhvcHRpb24udHJpbSgpKSkge1xuICAgICAgdmFyaWFudC5vcHRpb25zLnB1c2gob3B0aW9uLnRyaW0oKSlcbiAgICAgIG9uQ2hhbmdlKG5ld1ZhcmlhbnRzKVxuICAgIH1cblxuICAgIHNldE5ld09wdGlvbignJylcbiAgfVxuXG4gIC8vIFJlbW92ZSBvcHRpb24gZnJvbSB2YXJpYW50XG4gIGNvbnN0IHJlbW92ZU9wdGlvbiA9ICh2YXJpYW50SW5kZXg6IG51bWJlciwgb3B0aW9uSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld1ZhcmlhbnRzID0gWy4uLnZhcmlhbnRzXVxuICAgIG5ld1ZhcmlhbnRzW3ZhcmlhbnRJbmRleF0ub3B0aW9ucy5zcGxpY2Uob3B0aW9uSW5kZXgsIDEpXG4gICAgb25DaGFuZ2UobmV3VmFyaWFudHMpXG4gIH1cblxuICAvLyBHZW5lcmF0ZSB2YXJpYW50IGNvbWJpbmF0aW9uc1xuICBjb25zdCBnZW5lcmF0ZUNvbWJpbmF0aW9ucyA9ICgpID0+IHtcbiAgICBpZiAodmFyaWFudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBjb25zdCBjb21iaW5hdGlvbnM6IHN0cmluZ1tdW10gPSBbW11dXG5cbiAgICB2YXJpYW50cy5mb3JFYWNoKHZhcmlhbnQgPT4ge1xuICAgICAgY29uc3QgbmV3Q29tYmluYXRpb25zOiBzdHJpbmdbXVtdID0gW11cbiAgICAgIGNvbWJpbmF0aW9ucy5mb3JFYWNoKGNvbWJpbmF0aW9uID0+IHtcbiAgICAgICAgdmFyaWFudC5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICBuZXdDb21iaW5hdGlvbnMucHVzaChbLi4uY29tYmluYXRpb24sIG9wdGlvbl0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgY29tYmluYXRpb25zLmxlbmd0aCA9IDBcbiAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKC4uLm5ld0NvbWJpbmF0aW9ucylcbiAgICB9KVxuXG4gICAgcmV0dXJuIGNvbWJpbmF0aW9uc1xuICB9XG5cbiAgY29uc3QgY29tYmluYXRpb25zID0gZ2VuZXJhdGVDb21iaW5hdGlvbnMoKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKCdzcGFjZS15LTYnLCBjbGFzc05hbWUpfT5cbiAgICAgIDxBZG1pbkNhcmQgdGl0bGU9J0dlc3Rpw7NuIGRlIFZhcmlhbnRlcycgY2xhc3NOYW1lPSdwLTYnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgICAgICB7LyogSW5mbyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmctYmx1ZS01MCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIHJvdW5kZWQtbGcgcC00Jz5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTgwMCBtYi0yJz7Cv1F1w6kgc29uIGxhcyB2YXJpYW50ZXM/PC9oNT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC14cyB0ZXh0LWJsdWUtNzAwJz5cbiAgICAgICAgICAgICAgTGFzIHZhcmlhbnRlcyBwZXJtaXRlbiBvZnJlY2VyIGVsIG1pc21vIHByb2R1Y3RvIGVuIGRpZmVyZW50ZXMgb3BjaW9uZXMgY29tbyBjb2xvcixcbiAgICAgICAgICAgICAgdGFtYcOxbywgbWF0ZXJpYWwsIGV0Yy4gQ2FkYSBjb21iaW5hY2nDs24gZGUgdmFyaWFudGVzIGNyZWFyw6EgdW4gcHJvZHVjdG8gw7puaWNvIGNvbiBzdVxuICAgICAgICAgICAgICBwcm9waW8gcHJlY2lvIHkgc3RvY2suXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogUXVpY2sgQWRkIFZhcmlhbnRzICovfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMyc+VGlwb3MgZGUgVmFyaWFudGVzIENvbXVuZXM8L2g0PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTMnPlxuICAgICAgICAgICAgICB7dmFyaWFudFR5cGVzLm1hcCgodHlwZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBJY29uID0gdHlwZS5pY29uXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gdmFyaWFudHMuc29tZSh2ID0+IHYubmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlLm5hbWUudG9Mb3dlckNhc2UoKSlcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gIWV4aXN0cyAmJiBhZGRWYXJpYW50KHR5cGUubmFtZSwgdHlwZS5vcHRpb25zKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2V4aXN0c31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgICAncC0zIGJvcmRlciByb3VuZGVkLWxnIHRleHQtbGVmdCB0cmFuc2l0aW9uLWNvbG9ycycsXG4gICAgICAgICAgICAgICAgICAgICAgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCB0ZXh0LWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCBob3Zlcjpib3JkZXItYmxhemUtb3JhbmdlLTMwMCBob3ZlcjpiZy1ibGF6ZS1vcmFuZ2UtNTAnXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT0ndy01IGgtNSBtYi0yJyAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1zbSBmb250LW1lZGl1bSc+e3R5cGUubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQteHMgdGV4dC1ncmF5LTUwMCc+XG4gICAgICAgICAgICAgICAgICAgICAge2V4aXN0cyA/ICdZYSBhZ3JlZ2FkbycgOiBgJHt0eXBlLm9wdGlvbnMubGVuZ3RofSBvcGNpb25lc2B9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEN1c3RvbSBWYXJpYW50ICovfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMyc+XG4gICAgICAgICAgICAgIEFncmVnYXIgVmFyaWFudGUgUGVyc29uYWxpemFkYVxuICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IHNwYWNlLXgtMyc+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgdmFsdWU9e25ld1ZhcmlhbnROYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld1ZhcmlhbnROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0nTm9tYnJlIGRlIGxhIHZhcmlhbnRlIChlajogQWNhYmFkbyknXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4LTEgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmxhemUtb3JhbmdlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQnXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmV3VmFyaWFudE5hbWUudHJpbSgpICYmIGFkZFZhcmlhbnQobmV3VmFyaWFudE5hbWUudHJpbSgpKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IW5ld1ZhcmlhbnROYW1lLnRyaW0oKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3B4LTQgcHktMiBiZy1ibGF6ZS1vcmFuZ2UtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ibGF6ZS1vcmFuZ2UtNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPSd3LTQgaC00JyAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEVycm9yIE1lc3NhZ2UgKi99XG4gICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LXJlZC02MDAgdGV4dC1zbSc+XG4gICAgICAgICAgICAgIHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcikgfHwgJ0hhIG9jdXJyaWRvIHVuIGVycm9yJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogRXhpc3RpbmcgVmFyaWFudHMgKi99XG4gICAgICAgICAge3ZhcmlhbnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9J3RleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCc+XG4gICAgICAgICAgICAgICAgVmFyaWFudGVzIENvbmZpZ3VyYWRhcyAoe3ZhcmlhbnRzLmxlbmd0aH0pXG4gICAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgICAge3ZhcmlhbnRzLm1hcCgodmFyaWFudCwgdmFyaWFudEluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e3ZhcmlhbnRJbmRleH0gY2xhc3NOYW1lPSdib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgcC00Jz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMyc+XG4gICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nVmFyaWFudCA9PT0gdmFyaWFudEluZGV4ID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgZmxleC0xJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFyaWFudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1cGRhdGVWYXJpYW50TmFtZSh2YXJpYW50SW5kZXgsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4LTEgcHgtMyBweS0xIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmxhemUtb3JhbmdlLTUwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ1ZhcmlhbnQobnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGV4dC1ncmVlbi02MDAgaG92ZXI6dGV4dC1ncmVlbi03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIOKck1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMic+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPSdmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwJz57dmFyaWFudC5uYW1lfTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ1ZhcmlhbnQodmFyaWFudEluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0IGNsYXNzTmFtZT0ndy00IGgtNCcgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPSdidXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlVmFyaWFudCh2YXJpYW50SW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTcwMCdcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPSd3LTQgaC00JyAvPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICB7LyogT3B0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTMnPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBmbGV4LXdyYXAgZ2FwLTInPlxuICAgICAgICAgICAgICAgICAgICAgIHt2YXJpYW50Lm9wdGlvbnMubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e29wdGlvbkluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgcHgtMyBweS0xIGJnLWdyYXktMTAwIHRleHQtZ3JheS04MDAgcm91bmRlZC1mdWxsIHRleHQtc20nXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntvcHRpb259PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZU9wdGlvbih2YXJpYW50SW5kZXgsIG9wdGlvbkluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1yZWQtNTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPSd3LTMgaC0zJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIEFkZCBPcHRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IHNwYWNlLXgtMic+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld09wdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld09wdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YE51ZXZhIG9wY2nDs24gcGFyYSAke3ZhcmlhbnQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdmbGV4LTEgcHgtMyBweS0xIHRleHQtc20gYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibGF6ZS1vcmFuZ2UtNTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE9wdGlvbih2YXJpYW50SW5kZXgsIG5ld09wdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J2J1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGFkZE9wdGlvbih2YXJpYW50SW5kZXgsIG5ld09wdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IW5ld09wdGlvbi50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3B4LTMgcHktMSB0ZXh0LXNtIGJnLWdyYXktMjAwIHRleHQtZ3JheS03MDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTMwMCBkaXNhYmxlZDpvcGFjaXR5LTUwJ1xuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFncmVnYXJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFZhcmlhbnQgQ29tYmluYXRpb25zIFByZXZpZXcgKi99XG4gICAgICAgICAge2NvbWJpbmF0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzcGFjZS15LTMnPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPSd0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAnPlxuICAgICAgICAgICAgICAgIENvbWJpbmFjaW9uZXMgR2VuZXJhZGFzICh7Y29tYmluYXRpb25zLmxlbmd0aH0pXG4gICAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgICAge2NvbWJpbmF0aW9ucy5sZW5ndGggPD0gMjAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTIgbWF4LWgtNDAgb3ZlcmZsb3cteS1hdXRvJz5cbiAgICAgICAgICAgICAgICAgIHtjb21iaW5hdGlvbnMubWFwKChjb21iaW5hdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9J3B4LTMgcHktMiBiZy1ncmF5LTUwIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwJz5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29tYmluYXRpb24uam9pbignIC8gJyl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3AtNCBiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHJvdW5kZWQtbGcnPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQteWVsbG93LTgwMCc+XG4gICAgICAgICAgICAgICAgICAgIFNlIGdlbmVyYXLDoW4ge2NvbWJpbmF0aW9ucy5sZW5ndGh9IGNvbWJpbmFjaW9uZXMuIENvbnNpZGVyYSByZWR1Y2lyIGxhcyBvcGNpb25lc1xuICAgICAgICAgICAgICAgICAgICBzaSBlcyBkZW1hc2lhZG8gY29tcGxlam8gZGUgZ2VzdGlvbmFyLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBUaXBzICovfVxuICAgICAgICAgIHt2YXJpYW50cy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHB5LTggdGV4dC1ncmF5LTUwMCc+XG4gICAgICAgICAgICAgIDxQYWNrYWdlIGNsYXNzTmFtZT0ndy0xMiBoLTEyIG14LWF1dG8gbWItNCB0ZXh0LWdyYXktMzAwJyAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20nPlxuICAgICAgICAgICAgICAgIE5vIGhheSB2YXJpYW50ZXMgY29uZmlndXJhZGFzLiBBZ3JlZ2EgdmFyaWFudGVzIHNpIHR1IHByb2R1Y3RvIHRpZW5lIGRpZmVyZW50ZXNcbiAgICAgICAgICAgICAgICBvcGNpb25lcy5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0FkbWluQ2FyZD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlByb2R1Y3RWYXJpYW50TWFuYWdlciIsInZhcmlhbnRzIiwib25DaGFuZ2UiLCJlcnJvciIsImNsYXNzTmFtZSIsImVkaXRpbmdWYXJpYW50Iiwic2V0RWRpdGluZ1ZhcmlhbnQiLCJ1c2VTdGF0ZSIsIm5ld1ZhcmlhbnROYW1lIiwic2V0TmV3VmFyaWFudE5hbWUiLCJuZXdPcHRpb24iLCJzZXROZXdPcHRpb24iLCJ2YXJpYW50VHlwZXMiLCJuYW1lIiwiaWNvbiIsIlBhbGV0dGUiLCJvcHRpb25zIiwiUGFja2FnZSIsImFkZFZhcmlhbnQiLCJpbml0aWFsT3B0aW9ucyIsIm5ld1ZhcmlhbnQiLCJyZW1vdmVWYXJpYW50IiwiaW5kZXgiLCJuZXdWYXJpYW50cyIsImZpbHRlciIsIl8iLCJpIiwidXBkYXRlVmFyaWFudE5hbWUiLCJhZGRPcHRpb24iLCJ2YXJpYW50SW5kZXgiLCJvcHRpb24iLCJ0cmltIiwidmFyaWFudCIsImluY2x1ZGVzIiwicHVzaCIsInJlbW92ZU9wdGlvbiIsIm9wdGlvbkluZGV4Iiwic3BsaWNlIiwiZ2VuZXJhdGVDb21iaW5hdGlvbnMiLCJsZW5ndGgiLCJjb21iaW5hdGlvbnMiLCJmb3JFYWNoIiwibmV3Q29tYmluYXRpb25zIiwiY29tYmluYXRpb24iLCJkaXYiLCJjbiIsIkFkbWluQ2FyZCIsInRpdGxlIiwiaDUiLCJwIiwiaDQiLCJtYXAiLCJ0eXBlIiwiSWNvbiIsImV4aXN0cyIsInNvbWUiLCJ2IiwidG9Mb3dlckNhc2UiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJpbnB1dCIsInZhbHVlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiUGx1cyIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsIkVkaXQiLCJUcmFzaDIiLCJzcGFuIiwiWCIsIm9uS2V5UHJlc3MiLCJrZXkiLCJqb2luIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBbUJnQkE7OztlQUFBQTs7Ozt1QkFqQlM7MkJBQ0M7NkJBQzhCO3VCQUNyQztBQWNaLFNBQVNBLHNCQUFzQixFQUNwQ0MsV0FBVyxFQUFFLEVBQ2JDLFFBQVEsRUFDUkMsS0FBSyxFQUNMQyxTQUFTLEVBQ2tCO0lBQzNCLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR0MsSUFBQUEsZUFBUSxFQUFnQjtJQUNwRSxNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUNyRCxNQUFNLENBQUNHLFdBQVdDLGFBQWEsR0FBR0osSUFBQUEsZUFBUSxFQUFDO0lBRTNDLDJCQUEyQjtJQUMzQixNQUFNSyxlQUFlO1FBQ25CO1lBQUVDLE1BQU07WUFBU0MsTUFBTUMsb0JBQU87WUFBRUMsU0FBUztnQkFBQztnQkFBVTtnQkFBUztnQkFBUTtnQkFBUTthQUFRO1FBQUM7UUFDdEY7WUFBRUgsTUFBTTtZQUFVQyxNQUFNRyxvQkFBTztZQUFFRCxTQUFTO2dCQUFDO2dCQUFNO2dCQUFLO2dCQUFLO2dCQUFLO2FBQUs7UUFBQztRQUN0RTtZQUFFSCxNQUFNO1lBQVlDLE1BQU1HLG9CQUFPO1lBQUVELFNBQVM7Z0JBQUM7Z0JBQVc7Z0JBQWE7Z0JBQVE7YUFBTztRQUFDO1FBQ3JGO1lBQUVILE1BQU07WUFBYUMsTUFBTUcsb0JBQU87WUFBRUQsU0FBUztnQkFBQztnQkFBTTtnQkFBTTtnQkFBTzthQUFNO1FBQUM7S0FDekU7SUFFRCxrQkFBa0I7SUFDbEIsTUFBTUUsYUFBYSxDQUFDTCxNQUFjTSxp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