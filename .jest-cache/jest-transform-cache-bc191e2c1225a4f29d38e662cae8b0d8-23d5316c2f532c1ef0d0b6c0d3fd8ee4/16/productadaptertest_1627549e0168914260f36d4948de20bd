1e1bc6759d600cd23fedf4975ccb71ec
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _productadapter = require("../../../lib/adapters/product-adapter");
describe('Product Image Validation Functions', ()=>{
    describe('getValidImageUrl', ()=>{
        it('should return the image URL when it is valid', ()=>{
            const validUrl = 'https://example.com/image.jpg';
            expect((0, _productadapter.getValidImageUrl)(validUrl)).toBe(validUrl);
        });
        it('should return placeholder when image URL is empty string', ()=>{
            const emptyUrl = '';
            const result = (0, _productadapter.getValidImageUrl)(emptyUrl);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when image URL is only whitespace', ()=>{
            const whitespaceUrl = '   ';
            const result = (0, _productadapter.getValidImageUrl)(whitespaceUrl);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when image URL is undefined', ()=>{
            const result = (0, _productadapter.getValidImageUrl)(undefined);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when image URL is null', ()=>{
            const result = (0, _productadapter.getValidImageUrl)(null);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should trim whitespace from valid URLs', ()=>{
            const urlWithWhitespace = '  https://example.com/image.jpg  ';
            const result = (0, _productadapter.getValidImageUrl)(urlWithWhitespace);
            expect(result).toBe('https://example.com/image.jpg');
        });
        it('should use custom fallback when provided', ()=>{
            const customFallback = '/custom/placeholder.png';
            const result = (0, _productadapter.getValidImageUrl)('', customFallback);
            expect(result).toBe(customFallback);
        });
    });
    describe('getThumbnailImage', ()=>{
        it('should return valid thumbnail from imgs property', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        'https://example.com/thumb.jpg'
                    ],
                    previews: [
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            const result = (0, _productadapter.getThumbnailImage)(product);
            expect(result).toBe('https://example.com/thumb.jpg');
        });
        it('should return placeholder when thumbnail is empty string', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        ''
                    ],
                    previews: [
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            const result = (0, _productadapter.getThumbnailImage)(product);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when no thumbnails exist', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [],
                    previews: [
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            const result = (0, _productadapter.getThumbnailImage)(product);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when imgs is undefined', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5
            };
            const result = (0, _productadapter.getThumbnailImage)(product);
            expect(result).toBe('/images/products/placeholder.svg');
        });
    });
    describe('getPreviewImage', ()=>{
        it('should return valid preview from imgs property', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        'https://example.com/thumb.jpg'
                    ],
                    previews: [
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            const result = (0, _productadapter.getPreviewImage)(product);
            expect(result).toBe('https://example.com/preview.jpg');
        });
        it('should return placeholder when preview is empty string', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        'https://example.com/thumb.jpg'
                    ],
                    previews: [
                        ''
                    ]
                }
            };
            const result = (0, _productadapter.getPreviewImage)(product);
            expect(result).toBe('/images/products/placeholder.svg');
        });
        it('should return placeholder when no previews exist', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        'https://example.com/thumb.jpg'
                    ],
                    previews: []
                }
            };
            const result = (0, _productadapter.getPreviewImage)(product);
            expect(result).toBe('/images/products/placeholder.svg');
        });
    });
    describe('Edge Cases', ()=>{
        it('should handle products with images property instead of imgs', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                images: {
                    thumbnails: [
                        'https://example.com/thumb.jpg'
                    ],
                    previews: [
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            const thumbnailResult = (0, _productadapter.getThumbnailImage)(product);
            const previewResult = (0, _productadapter.getPreviewImage)(product);
            expect(thumbnailResult).toBe('https://example.com/thumb.jpg');
            expect(previewResult).toBe('https://example.com/preview.jpg');
        });
        it('should handle mixed empty and valid URLs in arrays', ()=>{
            const product = {
                id: 1,
                title: 'Test Product',
                price: 100,
                discountedPrice: 90,
                reviews: 5,
                imgs: {
                    thumbnails: [
                        '',
                        '  ',
                        'https://example.com/thumb.jpg'
                    ],
                    previews: [
                        '',
                        'https://example.com/preview.jpg'
                    ]
                }
            };
            // Should still return placeholder because first element is empty
            const thumbnailResult = (0, _productadapter.getThumbnailImage)(product);
            const previewResult = (0, _productadapter.getPreviewImage)(product);
            expect(thumbnailResult).toBe('/images/products/placeholder.svg');
            expect(previewResult).toBe('/images/products/placeholder.svg');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxsaWJcXGFkYXB0ZXJzXFxwcm9kdWN0LWFkYXB0ZXIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXRWYWxpZEltYWdlVXJsLFxuICBnZXRUaHVtYm5haWxJbWFnZSxcbiAgZ2V0UHJldmlld0ltYWdlLFxufSBmcm9tICdAL2xpYi9hZGFwdGVycy9wcm9kdWN0LWFkYXB0ZXInXG5cbmRlc2NyaWJlKCdQcm9kdWN0IEltYWdlIFZhbGlkYXRpb24gRnVuY3Rpb25zJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZ2V0VmFsaWRJbWFnZVVybCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0aGUgaW1hZ2UgVVJMIHdoZW4gaXQgaXMgdmFsaWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFVybCA9ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZydcbiAgICAgIGV4cGVjdChnZXRWYWxpZEltYWdlVXJsKHZhbGlkVXJsKSkudG9CZSh2YWxpZFVybClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGxhY2Vob2xkZXIgd2hlbiBpbWFnZSBVUkwgaXMgZW1wdHkgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHlVcmwgPSAnJ1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VmFsaWRJbWFnZVVybChlbXB0eVVybClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJy9pbWFnZXMvcHJvZHVjdHMvcGxhY2Vob2xkZXIuc3ZnJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGxhY2Vob2xkZXIgd2hlbiBpbWFnZSBVUkwgaXMgb25seSB3aGl0ZXNwYWNlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgd2hpdGVzcGFjZVVybCA9ICcgICAnXG4gICAgICBjb25zdCByZXN1bHQgPSBnZXRWYWxpZEltYWdlVXJsKHdoaXRlc3BhY2VVcmwpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCcvaW1hZ2VzL3Byb2R1Y3RzL3BsYWNlaG9sZGVyLnN2ZycpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHBsYWNlaG9sZGVyIHdoZW4gaW1hZ2UgVVJMIGlzIHVuZGVmaW5lZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFZhbGlkSW1hZ2VVcmwodW5kZWZpbmVkKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFjZWhvbGRlciB3aGVuIGltYWdlIFVSTCBpcyBudWxsJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VmFsaWRJbWFnZVVybChudWxsKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHRyaW0gd2hpdGVzcGFjZSBmcm9tIHZhbGlkIFVSTHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB1cmxXaXRoV2hpdGVzcGFjZSA9ICcgIGh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnICAnXG4gICAgICBjb25zdCByZXN1bHQgPSBnZXRWYWxpZEltYWdlVXJsKHVybFdpdGhXaGl0ZXNwYWNlKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHVzZSBjdXN0b20gZmFsbGJhY2sgd2hlbiBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbUZhbGxiYWNrID0gJy9jdXN0b20vcGxhY2Vob2xkZXIucG5nJ1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VmFsaWRJbWFnZVVybCgnJywgY3VzdG9tRmFsbGJhY2spXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGN1c3RvbUZhbGxiYWNrKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ2dldFRodW1ibmFpbEltYWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkIHRodW1ibmFpbCBmcm9tIGltZ3MgcHJvcGVydHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0ge1xuICAgICAgICBpZDogMSxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFByb2R1Y3QnLFxuICAgICAgICBwcmljZTogMTAwLFxuICAgICAgICBkaXNjb3VudGVkUHJpY2U6IDkwLFxuICAgICAgICByZXZpZXdzOiA1LFxuICAgICAgICBpbWdzOiB7XG4gICAgICAgICAgdGh1bWJuYWlsczogWydodHRwczovL2V4YW1wbGUuY29tL3RodW1iLmpwZyddLFxuICAgICAgICAgIHByZXZpZXdzOiBbJ2h0dHBzOi8vZXhhbXBsZS5jb20vcHJldmlldy5qcGcnXSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VGh1bWJuYWlsSW1hZ2UocHJvZHVjdClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ2h0dHBzOi8vZXhhbXBsZS5jb20vdGh1bWIuanBnJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGxhY2Vob2xkZXIgd2hlbiB0aHVtYm5haWwgaXMgZW1wdHkgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgcHJpY2U6IDEwMCxcbiAgICAgICAgZGlzY291bnRlZFByaWNlOiA5MCxcbiAgICAgICAgcmV2aWV3czogNSxcbiAgICAgICAgaW1nczoge1xuICAgICAgICAgIHRodW1ibmFpbHM6IFsnJ10sXG4gICAgICAgICAgcHJldmlld3M6IFsnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcmV2aWV3LmpwZyddLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBnZXRUaHVtYm5haWxJbWFnZShwcm9kdWN0KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFjZWhvbGRlciB3aGVuIG5vIHRodW1ibmFpbHMgZXhpc3QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0ge1xuICAgICAgICBpZDogMSxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFByb2R1Y3QnLFxuICAgICAgICBwcmljZTogMTAwLFxuICAgICAgICBkaXNjb3VudGVkUHJpY2U6IDkwLFxuICAgICAgICByZXZpZXdzOiA1LFxuICAgICAgICBpbWdzOiB7XG4gICAgICAgICAgdGh1bWJuYWlsczogW10sXG4gICAgICAgICAgcHJldmlld3M6IFsnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcmV2aWV3LmpwZyddLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBnZXRUaHVtYm5haWxJbWFnZShwcm9kdWN0KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFjZWhvbGRlciB3aGVuIGltZ3MgaXMgdW5kZWZpbmVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgcHJpY2U6IDEwMCxcbiAgICAgICAgZGlzY291bnRlZFByaWNlOiA5MCxcbiAgICAgICAgcmV2aWV3czogNSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VGh1bWJuYWlsSW1hZ2UocHJvZHVjdClcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJy9pbWFnZXMvcHJvZHVjdHMvcGxhY2Vob2xkZXIuc3ZnJylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdnZXRQcmV2aWV3SW1hZ2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdmFsaWQgcHJldmlldyBmcm9tIGltZ3MgcHJvcGVydHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0ge1xuICAgICAgICBpZDogMSxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFByb2R1Y3QnLFxuICAgICAgICBwcmljZTogMTAwLFxuICAgICAgICBkaXNjb3VudGVkUHJpY2U6IDkwLFxuICAgICAgICByZXZpZXdzOiA1LFxuICAgICAgICBpbWdzOiB7XG4gICAgICAgICAgdGh1bWJuYWlsczogWydodHRwczovL2V4YW1wbGUuY29tL3RodW1iLmpwZyddLFxuICAgICAgICAgIHByZXZpZXdzOiBbJ2h0dHBzOi8vZXhhbXBsZS5jb20vcHJldmlldy5qcGcnXSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0UHJldmlld0ltYWdlKHByb2R1Y3QpXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdodHRwczovL2V4YW1wbGUuY29tL3ByZXZpZXcuanBnJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGxhY2Vob2xkZXIgd2hlbiBwcmV2aWV3IGlzIGVtcHR5IHN0cmluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgUHJvZHVjdCcsXG4gICAgICAgIHByaWNlOiAxMDAsXG4gICAgICAgIGRpc2NvdW50ZWRQcmljZTogOTAsXG4gICAgICAgIHJldmlld3M6IDUsXG4gICAgICAgIGltZ3M6IHtcbiAgICAgICAgICB0aHVtYm5haWxzOiBbJ2h0dHBzOi8vZXhhbXBsZS5jb20vdGh1bWIuanBnJ10sXG4gICAgICAgICAgcHJldmlld3M6IFsnJ10sXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFByZXZpZXdJbWFnZShwcm9kdWN0KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwbGFjZWhvbGRlciB3aGVuIG5vIHByZXZpZXdzIGV4aXN0JywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgcHJpY2U6IDEwMCxcbiAgICAgICAgZGlzY291bnRlZFByaWNlOiA5MCxcbiAgICAgICAgcmV2aWV3czogNSxcbiAgICAgICAgaW1nczoge1xuICAgICAgICAgIHRodW1ibmFpbHM6IFsnaHR0cHM6Ly9leGFtcGxlLmNvbS90aHVtYi5qcGcnXSxcbiAgICAgICAgICBwcmV2aWV3czogW10sXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFByZXZpZXdJbWFnZShwcm9kdWN0KVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJvZHVjdHMgd2l0aCBpbWFnZXMgcHJvcGVydHkgaW5zdGVhZCBvZiBpbWdzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdCA9IHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgcHJpY2U6IDEwMCxcbiAgICAgICAgZGlzY291bnRlZFByaWNlOiA5MCxcbiAgICAgICAgcmV2aWV3czogNSxcbiAgICAgICAgaW1hZ2VzOiB7XG4gICAgICAgICAgdGh1bWJuYWlsczogWydodHRwczovL2V4YW1wbGUuY29tL3RodW1iLmpwZyddLFxuICAgICAgICAgIHByZXZpZXdzOiBbJ2h0dHBzOi8vZXhhbXBsZS5jb20vcHJldmlldy5qcGcnXSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGh1bWJuYWlsUmVzdWx0ID0gZ2V0VGh1bWJuYWlsSW1hZ2UocHJvZHVjdCBhcyBhbnkpXG4gICAgICBjb25zdCBwcmV2aWV3UmVzdWx0ID0gZ2V0UHJldmlld0ltYWdlKHByb2R1Y3QgYXMgYW55KVxuXG4gICAgICBleHBlY3QodGh1bWJuYWlsUmVzdWx0KS50b0JlKCdodHRwczovL2V4YW1wbGUuY29tL3RodW1iLmpwZycpXG4gICAgICBleHBlY3QocHJldmlld1Jlc3VsdCkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcmV2aWV3LmpwZycpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1peGVkIGVtcHR5IGFuZCB2YWxpZCBVUkxzIGluIGFycmF5cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgUHJvZHVjdCcsXG4gICAgICAgIHByaWNlOiAxMDAsXG4gICAgICAgIGRpc2NvdW50ZWRQcmljZTogOTAsXG4gICAgICAgIHJldmlld3M6IDUsXG4gICAgICAgIGltZ3M6IHtcbiAgICAgICAgICB0aHVtYm5haWxzOiBbJycsICcgICcsICdodHRwczovL2V4YW1wbGUuY29tL3RodW1iLmpwZyddLFxuICAgICAgICAgIHByZXZpZXdzOiBbJycsICdodHRwczovL2V4YW1wbGUuY29tL3ByZXZpZXcuanBnJ10sXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCBzdGlsbCByZXR1cm4gcGxhY2Vob2xkZXIgYmVjYXVzZSBmaXJzdCBlbGVtZW50IGlzIGVtcHR5XG4gICAgICBjb25zdCB0aHVtYm5haWxSZXN1bHQgPSBnZXRUaHVtYm5haWxJbWFnZShwcm9kdWN0KVxuICAgICAgY29uc3QgcHJldmlld1Jlc3VsdCA9IGdldFByZXZpZXdJbWFnZShwcm9kdWN0KVxuXG4gICAgICBleHBlY3QodGh1bWJuYWlsUmVzdWx0KS50b0JlKCcvaW1hZ2VzL3Byb2R1Y3RzL3BsYWNlaG9sZGVyLnN2ZycpXG4gICAgICBleHBlY3QocHJldmlld1Jlc3VsdCkudG9CZSgnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5zdmcnKVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJ2YWxpZFVybCIsImV4cGVjdCIsImdldFZhbGlkSW1hZ2VVcmwiLCJ0b0JlIiwiZW1wdHlVcmwiLCJyZXN1bHQiLCJ3aGl0ZXNwYWNlVXJsIiwidW5kZWZpbmVkIiwidXJsV2l0aFdoaXRlc3BhY2UiLCJjdXN0b21GYWxsYmFjayIsInByb2R1Y3QiLCJpZCIsInRpdGxlIiwicHJpY2UiLCJkaXNjb3VudGVkUHJpY2UiLCJyZXZpZXdzIiwiaW1ncyIsInRodW1ibmFpbHMiLCJwcmV2aWV3cyIsImdldFRodW1ibmFpbEltYWdlIiwiZ2V0UHJldmlld0ltYWdlIiwiaW1hZ2VzIiwidGh1bWJuYWlsUmVzdWx0IiwicHJldmlld1Jlc3VsdCJdLCJtYXBwaW5ncyI6Ijs7OztnQ0FJTztBQUVQQSxTQUFTLHNDQUFzQztJQUM3Q0EsU0FBUyxvQkFBb0I7UUFDM0JDLEdBQUcsZ0RBQWdEO1lBQ2pELE1BQU1DLFdBQVc7WUFDakJDLE9BQU9DLElBQUFBLGdDQUFnQixFQUFDRixXQUFXRyxJQUFJLENBQUNIO1FBQzFDO1FBRUFELEdBQUcsNERBQTREO1lBQzdELE1BQU1LLFdBQVc7WUFDakIsTUFBTUMsU0FBU0gsSUFBQUEsZ0NBQWdCLEVBQUNFO1lBQ2hDSCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7UUFFQUosR0FBRywrREFBK0Q7WUFDaEUsTUFBTU8sZ0JBQWdCO1lBQ3RCLE1BQU1ELFNBQVNILElBQUFBLGdDQUFnQixFQUFDSTtZQUNoQ0wsT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO1FBRUFKLEdBQUcseURBQXlEO1lBQzFELE1BQU1NLFNBQVNILElBQUFBLGdDQUFnQixFQUFDSztZQUNoQ04sT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO1FBRUFKLEdBQUcsb0RBQW9EO1lBQ3JELE1BQU1NLFNBQVNILElBQUFBLGdDQUFnQixFQUFDO1lBQ2hDRCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7UUFFQUosR0FBRywwQ0FBMEM7WUFDM0MsTUFBTVMsb0JBQW9CO1lBQzFCLE1BQU1ILFNBQVNILElBQUFBLGdDQUFnQixFQUFDTTtZQUNoQ1AsT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO1FBRUFKLEdBQUcsNENBQTRDO1lBQzdDLE1BQU1VLGlCQUFpQjtZQUN2QixNQUFNSixTQUFTSCxJQUFBQSxnQ0FBZ0IsRUFBQyxJQUFJTztZQUNwQ1IsT0FBT0ksUUFBUUYsSUFBSSxDQUFDTTtRQUN0QjtJQUNGO0lBRUFYLFNBQVMscUJBQXFCO1FBQzVCQyxHQUFHLG9EQUFvRDtZQUNyRCxNQUFNVyxVQUFVO2dCQUNkQyxJQUFJO2dCQUNKQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxpQkFBaUI7Z0JBQ2pCQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKQyxZQUFZO3dCQUFDO3FCQUFnQztvQkFDN0NDLFVBQVU7d0JBQUM7cUJBQWtDO2dCQUMvQztZQUNGO1lBRUEsTUFBTWIsU0FBU2MsSUFBQUEsaUNBQWlCLEVBQUNUO1lBQ2pDVCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7UUFFQUosR0FBRyw0REFBNEQ7WUFDN0QsTUFBTVcsVUFBVTtnQkFDZEMsSUFBSTtnQkFDSkMsT0FBTztnQkFDUEMsT0FBTztnQkFDUEMsaUJBQWlCO2dCQUNqQkMsU0FBUztnQkFDVEMsTUFBTTtvQkFDSkMsWUFBWTt3QkFBQztxQkFBRztvQkFDaEJDLFVBQVU7d0JBQUM7cUJBQWtDO2dCQUMvQztZQUNGO1lBRUEsTUFBTWIsU0FBU2MsSUFBQUEsaUNBQWlCLEVBQUNUO1lBQ2pDVCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7UUFFQUosR0FBRyxzREFBc0Q7WUFDdkQsTUFBTVcsVUFBVTtnQkFDZEMsSUFBSTtnQkFDSkMsT0FBTztnQkFDUEMsT0FBTztnQkFDUEMsaUJBQWlCO2dCQUNqQkMsU0FBUztnQkFDVEMsTUFBTTtvQkFDSkMsWUFBWSxFQUFFO29CQUNkQyxVQUFVO3dCQUFDO3FCQUFrQztnQkFDL0M7WUFDRjtZQUVBLE1BQU1iLFNBQVNjLElBQUFBLGlDQUFpQixFQUFDVDtZQUNqQ1QsT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO1FBRUFKLEdBQUcsb0RBQW9EO1lBQ3JELE1BQU1XLFVBQVU7Z0JBQ2RDLElBQUk7Z0JBQ0pDLE9BQU87Z0JBQ1BDLE9BQU87Z0JBQ1BDLGlCQUFpQjtnQkFDakJDLFNBQVM7WUFDWDtZQUVBLE1BQU1WLFNBQVNjLElBQUFBLGlDQUFpQixFQUFDVDtZQUNqQ1QsT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO0lBQ0Y7SUFFQUwsU0FBUyxtQkFBbUI7UUFDMUJDLEdBQUcsa0RBQWtEO1lBQ25ELE1BQU1XLFVBQVU7Z0JBQ2RDLElBQUk7Z0JBQ0pDLE9BQU87Z0JBQ1BDLE9BQU87Z0JBQ1BDLGlCQUFpQjtnQkFDakJDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0pDLFlBQVk7d0JBQUM7cUJBQWdDO29CQUM3Q0MsVUFBVTt3QkFBQztxQkFBa0M7Z0JBQy9DO1lBQ0Y7WUFFQSxNQUFNYixTQUFTZSxJQUFBQSwrQkFBZSxFQUFDVjtZQUMvQlQsT0FBT0ksUUFBUUYsSUFBSSxDQUFDO1FBQ3RCO1FBRUFKLEdBQUcsMERBQTBEO1lBQzNELE1BQU1XLFVBQVU7Z0JBQ2RDLElBQUk7Z0JBQ0pDLE9BQU87Z0JBQ1BDLE9BQU87Z0JBQ1BDLGlCQUFpQjtnQkFDakJDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0pDLFlBQVk7d0JBQUM7cUJBQWdDO29CQUM3Q0MsVUFBVTt3QkFBQztxQkFBRztnQkFDaEI7WUFDRjtZQUVBLE1BQU1iLFNBQVNlLElBQUFBLCtCQUFlLEVBQUNWO1lBQy9CVCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7UUFFQUosR0FBRyxvREFBb0Q7WUFDckQsTUFBTVcsVUFBVTtnQkFDZEMsSUFBSTtnQkFDSkMsT0FBTztnQkFDUEMsT0FBTztnQkFDUEMsaUJBQWlCO2dCQUNqQkMsU0FBUztnQkFDVEMsTUFBTTtvQkFDSkMsWUFBWTt3QkFBQztxQkFBZ0M7b0JBQzdDQyxVQUFVLEVBQUU7Z0JBQ2Q7WUFDRjtZQUVBLE1BQU1iLFNBQVNlLElBQUFBLCtCQUFlLEVBQUNWO1lBQy9CVCxPQUFPSSxRQUFRRixJQUFJLENBQUM7UUFDdEI7SUFDRjtJQUVBTCxTQUFTLGNBQWM7UUFDckJDLEdBQUcsK0RBQStEO1lBQ2hFLE1BQU1XLFVBQVU7Z0JBQ2RDLElBQUk7Z0JBQ0pDLE9BQU87Z0JBQ1BDLE9BQU87Z0JBQ1BDLGlCQUFpQjtnQkFDakJDLFNBQVM7Z0JBQ1RNLFFBQVE7b0JBQ05KLFlBQVk7d0JBQUM7cUJBQWdDO29CQUM3Q0MsVUFBVTt3QkFBQztxQkFBa0M7Z0JBQy9DO1lBQ0Y7WUFFQSxNQUFNSSxrQkFBa0JILElBQUFBLGlDQUFpQixFQUFDVDtZQUMxQyxNQUFNYSxnQkFBZ0JILElBQUFBLCtCQUFlLEVBQUNWO1lBRXRDVCxPQUFPcUIsaUJBQWlCbkIsSUFBSSxDQUFDO1lBQzdCRixPQUFPc0IsZUFBZXBCLElBQUksQ0FBQztRQUM3QjtRQUVBSixHQUFHLHNEQUFzRDtZQUN2RCxNQUFNVyxVQUFVO2dCQUNkQyxJQUFJO2dCQUNKQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxpQkFBaUI7Z0JBQ2pCQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKQyxZQUFZO3dCQUFDO3dCQUFJO3dCQUFNO3FCQUFnQztvQkFDdkRDLFVBQVU7d0JBQUM7d0JBQUk7cUJBQWtDO2dCQUNuRDtZQUNGO1lBRUEsaUVBQWlFO1lBQ2pFLE1BQU1JLGtCQUFrQkgsSUFBQUEsaUNBQWlCLEVBQUNUO1lBQzFDLE1BQU1hLGdCQUFnQkgsSUFBQUEsK0JBQWUsRUFBQ1Y7WUFFdENULE9BQU9xQixpQkFBaUJuQixJQUFJLENBQUM7WUFDN0JGLE9BQU9zQixlQUFlcEIsSUFBSSxDQUFDO1FBQzdCO0lBQ0Y7QUFDRiJ9