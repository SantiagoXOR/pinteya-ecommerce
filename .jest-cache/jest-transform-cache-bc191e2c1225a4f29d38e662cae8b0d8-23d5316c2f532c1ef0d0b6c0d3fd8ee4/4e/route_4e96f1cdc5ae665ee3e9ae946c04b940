0e61cfd0228e67456eb9a7c69cbe3e9c
// ConfiguraciÃ³n para Node.js Runtime
"use strict";

/* istanbul ignore next */
function cov_20pkrbsnd2() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\payments\\preferences\\route.ts";
  var hash = "0294150bd0529535ce5c40c9c320dd0ea551f400";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\payments\\preferences\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 19,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 19
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 23
        }
      },
      "6": {
        start: {
          line: 20,
          column: 16
        },
        end: {
          line: 20,
          column: 38
        }
      },
      "7": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 54
        }
      },
      "8": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 60
        }
      },
      "9": {
        start: {
          line: 23,
          column: 21
        },
        end: {
          line: 23,
          column: 71
        }
      },
      "10": {
        start: {
          line: 24,
          column: 17
        },
        end: {
          line: 24,
          column: 62
        }
      },
      "11": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 24
        }
      },
      "12": {
        start: {
          line: 27,
          column: 22
        },
        end: {
          line: 27,
          column: 32
        }
      },
      "13": {
        start: {
          line: 28,
          column: 21
        },
        end: {
          line: 28,
          column: 72
        }
      },
      "14": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 242,
          column: 5
        }
      },
      "15": {
        start: {
          line: 31,
          column: 24
        },
        end: {
          line: 31,
          column: 49
        }
      },
      "16": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "17": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 38,
          column: 15
        }
      },
      "18": {
        start: {
          line: 41,
          column: 33
        },
        end: {
          line: 41,
          column: 123
        }
      },
      "19": {
        start: {
          line: 42,
          column: 8
        },
        end: {
          line: 51,
          column: 9
        }
      },
      "20": {
        start: {
          line: 43,
          column: 29
        },
        end: {
          line: 48,
          column: 14
        }
      },
      "21": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 49,
          column: 121
        }
      },
      "22": {
        start: {
          line: 50,
          column: 12
        },
        end: {
          line: 50,
          column: 28
        }
      },
      "23": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 55,
          column: 11
        }
      },
      "24": {
        start: {
          line: 57,
          column: 40
        },
        end: {
          line: 171,
          column: 9
        }
      },
      "25": {
        start: {
          line: 173,
          column: 30
        },
        end: {
          line: 194,
          column: 9
        }
      },
      "26": {
        start: {
          line: 196,
          column: 8
        },
        end: {
          line: 198,
          column: 11
        }
      },
      "27": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 202,
          column: 11
        }
      },
      "28": {
        start: {
          line: 203,
          column: 25
        },
        end: {
          line: 221,
          column: 10
        }
      },
      "29": {
        start: {
          line: 222,
          column: 8
        },
        end: {
          line: 222,
          column: 117
        }
      },
      "30": {
        start: {
          line: 223,
          column: 8
        },
        end: {
          line: 223,
          column: 24
        }
      },
      "31": {
        start: {
          line: 225,
          column: 31
        },
        end: {
          line: 225,
          column: 53
        }
      },
      "32": {
        start: {
          line: 226,
          column: 8
        },
        end: {
          line: 232,
          column: 11
        }
      },
      "33": {
        start: {
          line: 233,
          column: 8
        },
        end: {
          line: 235,
          column: 11
        }
      },
      "34": {
        start: {
          line: 236,
          column: 8
        },
        end: {
          line: 241,
          column: 11
        }
      },
      "35": {
        start: {
          line: 247,
          column: 24
        },
        end: {
          line: 333,
          column: 1
        }
      },
      "36": {
        start: {
          line: 248,
          column: 22
        },
        end: {
          line: 248,
          column: 32
        }
      },
      "37": {
        start: {
          line: 249,
          column: 21
        },
        end: {
          line: 249,
          column: 72
        }
      },
      "38": {
        start: {
          line: 250,
          column: 4
        },
        end: {
          line: 332,
          column: 5
        }
      },
      "39": {
        start: {
          line: 252,
          column: 27
        },
        end: {
          line: 257,
          column: 10
        }
      },
      "40": {
        start: {
          line: 258,
          column: 8
        },
        end: {
          line: 266,
          column: 9
        }
      },
      "41": {
        start: {
          line: 259,
          column: 12
        },
        end: {
          line: 265,
          column: 15
        }
      },
      "42": {
        start: {
          line: 267,
          column: 24
        },
        end: {
          line: 267,
          column: 42
        }
      },
      "43": {
        start: {
          line: 268,
          column: 24
        },
        end: {
          line: 268,
          column: 38
        }
      },
      "44": {
        start: {
          line: 270,
          column: 23
        },
        end: {
          line: 270,
          column: 43
        }
      },
      "45": {
        start: {
          line: 271,
          column: 8
        },
        end: {
          line: 275,
          column: 11
        }
      },
      "46": {
        start: {
          line: 277,
          column: 33
        },
        end: {
          line: 277,
          column: 65
        }
      },
      "47": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 285,
          column: 9
        }
      },
      "48": {
        start: {
          line: 279,
          column: 12
        },
        end: {
          line: 284,
          column: 15
        }
      },
      "49": {
        start: {
          line: 288,
          column: 30
        },
        end: {
          line: 292,
          column: 9
        }
      },
      "50": {
        start: {
          line: 294,
          column: 8
        },
        end: {
          line: 297,
          column: 11
        }
      },
      "51": {
        start: {
          line: 298,
          column: 8
        },
        end: {
          line: 302,
          column: 11
        }
      },
      "52": {
        start: {
          line: 303,
          column: 25
        },
        end: {
          line: 311,
          column: 10
        }
      },
      "53": {
        start: {
          line: 312,
          column: 8
        },
        end: {
          line: 312,
          column: 118
        }
      },
      "54": {
        start: {
          line: 313,
          column: 8
        },
        end: {
          line: 313,
          column: 24
        }
      },
      "55": {
        start: {
          line: 315,
          column: 31
        },
        end: {
          line: 315,
          column: 53
        }
      },
      "56": {
        start: {
          line: 316,
          column: 8
        },
        end: {
          line: 322,
          column: 11
        }
      },
      "57": {
        start: {
          line: 323,
          column: 8
        },
        end: {
          line: 325,
          column: 11
        }
      },
      "58": {
        start: {
          line: 326,
          column: 8
        },
        end: {
          line: 331,
          column: 11
        }
      },
      "59": {
        start: {
          line: 338,
          column: 4
        },
        end: {
          line: 370,
          column: 5
        }
      },
      "60": {
        start: {
          line: 339,
          column: 77
        },
        end: {
          line: 339,
          column: 96
        }
      },
      "61": {
        start: {
          line: 340,
          column: 8
        },
        end: {
          line: 345,
          column: 9
        }
      },
      "62": {
        start: {
          line: 341,
          column: 12
        },
        end: {
          line: 344,
          column: 14
        }
      },
      "63": {
        start: {
          line: 346,
          column: 8
        },
        end: {
          line: 351,
          column: 9
        }
      },
      "64": {
        start: {
          line: 347,
          column: 12
        },
        end: {
          line: 350,
          column: 14
        }
      },
      "65": {
        start: {
          line: 352,
          column: 8
        },
        end: {
          line: 357,
          column: 9
        }
      },
      "66": {
        start: {
          line: 353,
          column: 12
        },
        end: {
          line: 356,
          column: 14
        }
      },
      "67": {
        start: {
          line: 358,
          column: 8
        },
        end: {
          line: 363,
          column: 9
        }
      },
      "68": {
        start: {
          line: 359,
          column: 12
        },
        end: {
          line: 362,
          column: 14
        }
      },
      "69": {
        start: {
          line: 364,
          column: 8
        },
        end: {
          line: 369,
          column: 9
        }
      },
      "70": {
        start: {
          line: 365,
          column: 12
        },
        end: {
          line: 368,
          column: 14
        }
      },
      "71": {
        start: {
          line: 372,
          column: 4
        },
        end: {
          line: 390,
          column: 5
        }
      },
      "72": {
        start: {
          line: 373,
          column: 31
        },
        end: {
          line: 373,
          column: 47
        }
      },
      "73": {
        start: {
          line: 374,
          column: 8
        },
        end: {
          line: 383,
          column: 9
        }
      },
      "74": {
        start: {
          line: 379,
          column: 12
        },
        end: {
          line: 382,
          column: 14
        }
      },
      "75": {
        start: {
          line: 384,
          column: 8
        },
        end: {
          line: 389,
          column: 9
        }
      },
      "76": {
        start: {
          line: 385,
          column: 12
        },
        end: {
          line: 388,
          column: 14
        }
      },
      "77": {
        start: {
          line: 392,
          column: 4
        },
        end: {
          line: 407,
          column: 5
        }
      },
      "78": {
        start: {
          line: 393,
          column: 25
        },
        end: {
          line: 393,
          column: 62
        }
      },
      "79": {
        start: {
          line: 394,
          column: 23
        },
        end: {
          line: 394,
          column: 58
        }
      },
      "80": {
        start: {
          line: 395,
          column: 8
        },
        end: {
          line: 400,
          column: 9
        }
      },
      "81": {
        start: {
          line: 396,
          column: 12
        },
        end: {
          line: 399,
          column: 14
        }
      },
      "82": {
        start: {
          line: 401,
          column: 8
        },
        end: {
          line: 406,
          column: 9
        }
      },
      "83": {
        start: {
          line: 402,
          column: 12
        },
        end: {
          line: 405,
          column: 14
        }
      },
      "84": {
        start: {
          line: 409,
          column: 4
        },
        end: {
          line: 414,
          column: 5
        }
      },
      "85": {
        start: {
          line: 410,
          column: 8
        },
        end: {
          line: 413,
          column: 10
        }
      },
      "86": {
        start: {
          line: 415,
          column: 4
        },
        end: {
          line: 417,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 19
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "GET",
        decl: {
          start: {
            line: 26,
            column: 15
          },
          end: {
            line: 26,
            column: 18
          }
        },
        loc: {
          start: {
            line: 26,
            column: 28
          },
          end: {
            line: 243,
            column: 1
          }
        },
        line: 26
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 247,
            column: 24
          },
          end: {
            line: 247,
            column: 25
          }
        },
        loc: {
          start: {
            line: 247,
            column: 41
          },
          end: {
            line: 333,
            column: 1
          }
        },
        line: 247
      },
      "5": {
        name: "validatePreferenceConfig",
        decl: {
          start: {
            line: 336,
            column: 13
          },
          end: {
            line: 336,
            column: 37
          }
        },
        loc: {
          start: {
            line: 336,
            column: 46
          },
          end: {
            line: 418,
            column: 1
          }
        },
        line: 336
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 28,
            column: 21
          },
          end: {
            line: 28,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 28,
            column: 21
          },
          end: {
            line: 28,
            column: 59
          }
        }, {
          start: {
            line: 28,
            column: 63
          },
          end: {
            line: 28,
            column: 72
          }
        }],
        line: 28
      },
      "1": {
        loc: {
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "2": {
        loc: {
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 51,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 51,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 42
      },
      "3": {
        loc: {
          start: {
            line: 249,
            column: 21
          },
          end: {
            line: 249,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 249,
            column: 21
          },
          end: {
            line: 249,
            column: 59
          }
        }, {
          start: {
            line: 249,
            column: 63
          },
          end: {
            line: 249,
            column: 72
          }
        }],
        line: 249
      },
      "4": {
        loc: {
          start: {
            line: 258,
            column: 8
          },
          end: {
            line: 266,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 258,
            column: 8
          },
          end: {
            line: 266,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 258
      },
      "5": {
        loc: {
          start: {
            line: 264,
            column: 24
          },
          end: {
            line: 264,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 264,
            column: 24
          },
          end: {
            line: 264,
            column: 41
          }
        }, {
          start: {
            line: 264,
            column: 45
          },
          end: {
            line: 264,
            column: 48
          }
        }],
        line: 264
      },
      "6": {
        loc: {
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 285,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 285,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 278
      },
      "7": {
        loc: {
          start: {
            line: 338,
            column: 4
          },
          end: {
            line: 370,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 338,
            column: 4
          },
          end: {
            line: 370,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 338
      },
      "8": {
        loc: {
          start: {
            line: 340,
            column: 8
          },
          end: {
            line: 345,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 340,
            column: 8
          },
          end: {
            line: 345,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 340
      },
      "9": {
        loc: {
          start: {
            line: 340,
            column: 12
          },
          end: {
            line: 340,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 340,
            column: 12
          },
          end: {
            line: 340,
            column: 28
          }
        }, {
          start: {
            line: 340,
            column: 32
          },
          end: {
            line: 340,
            column: 52
          }
        }],
        line: 340
      },
      "10": {
        loc: {
          start: {
            line: 346,
            column: 8
          },
          end: {
            line: 351,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 346,
            column: 8
          },
          end: {
            line: 351,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 346
      },
      "11": {
        loc: {
          start: {
            line: 346,
            column: 12
          },
          end: {
            line: 346,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 346,
            column: 12
          },
          end: {
            line: 346,
            column: 28
          }
        }, {
          start: {
            line: 346,
            column: 32
          },
          end: {
            line: 346,
            column: 53
          }
        }],
        line: 346
      },
      "12": {
        loc: {
          start: {
            line: 352,
            column: 8
          },
          end: {
            line: 357,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 352,
            column: 8
          },
          end: {
            line: 357,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 352
      },
      "13": {
        loc: {
          start: {
            line: 352,
            column: 12
          },
          end: {
            line: 352,
            column: 87
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 352,
            column: 12
          },
          end: {
            line: 352,
            column: 28
          }
        }, {
          start: {
            line: 352,
            column: 32
          },
          end: {
            line: 352,
            column: 48
          }
        }, {
          start: {
            line: 352,
            column: 52
          },
          end: {
            line: 352,
            column: 87
          }
        }],
        line: 352
      },
      "14": {
        loc: {
          start: {
            line: 358,
            column: 8
          },
          end: {
            line: 363,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 358,
            column: 8
          },
          end: {
            line: 363,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 358
      },
      "15": {
        loc: {
          start: {
            line: 358,
            column: 12
          },
          end: {
            line: 358,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 358,
            column: 12
          },
          end: {
            line: 358,
            column: 32
          }
        }, {
          start: {
            line: 358,
            column: 36
          },
          end: {
            line: 358,
            column: 52
          }
        }, {
          start: {
            line: 358,
            column: 56
          },
          end: {
            line: 358,
            column: 95
          }
        }],
        line: 358
      },
      "16": {
        loc: {
          start: {
            line: 364,
            column: 8
          },
          end: {
            line: 369,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 364,
            column: 8
          },
          end: {
            line: 369,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 364
      },
      "17": {
        loc: {
          start: {
            line: 364,
            column: 12
          },
          end: {
            line: 364,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 364,
            column: 12
          },
          end: {
            line: 364,
            column: 32
          }
        }, {
          start: {
            line: 364,
            column: 36
          },
          end: {
            line: 364,
            column: 52
          }
        }, {
          start: {
            line: 364,
            column: 56
          },
          end: {
            line: 364,
            column: 95
          }
        }],
        line: 364
      },
      "18": {
        loc: {
          start: {
            line: 372,
            column: 4
          },
          end: {
            line: 390,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 372,
            column: 4
          },
          end: {
            line: 390,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 372
      },
      "19": {
        loc: {
          start: {
            line: 374,
            column: 8
          },
          end: {
            line: 383,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 374,
            column: 8
          },
          end: {
            line: 383,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 374
      },
      "20": {
        loc: {
          start: {
            line: 374,
            column: 12
          },
          end: {
            line: 378,
            column: 24
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 374,
            column: 12
          },
          end: {
            line: 374,
            column: 16
          }
        }, {
          start: {
            line: 374,
            column: 20
          },
          end: {
            line: 378,
            column: 24
          }
        }],
        line: 374
      },
      "21": {
        loc: {
          start: {
            line: 384,
            column: 8
          },
          end: {
            line: 389,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 384,
            column: 8
          },
          end: {
            line: 389,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 384
      },
      "22": {
        loc: {
          start: {
            line: 384,
            column: 12
          },
          end: {
            line: 384,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 384,
            column: 12
          },
          end: {
            line: 384,
            column: 16
          }
        }, {
          start: {
            line: 384,
            column: 20
          },
          end: {
            line: 384,
            column: 28
          }
        }],
        line: 384
      },
      "23": {
        loc: {
          start: {
            line: 392,
            column: 4
          },
          end: {
            line: 407,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 392,
            column: 4
          },
          end: {
            line: 407,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 392
      },
      "24": {
        loc: {
          start: {
            line: 392,
            column: 8
          },
          end: {
            line: 392,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 392,
            column: 8
          },
          end: {
            line: 392,
            column: 35
          }
        }, {
          start: {
            line: 392,
            column: 39
          },
          end: {
            line: 392,
            column: 64
          }
        }],
        line: 392
      },
      "25": {
        loc: {
          start: {
            line: 395,
            column: 8
          },
          end: {
            line: 400,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 395,
            column: 8
          },
          end: {
            line: 400,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 395
      },
      "26": {
        loc: {
          start: {
            line: 401,
            column: 8
          },
          end: {
            line: 406,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 401,
            column: 8
          },
          end: {
            line: 406,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 401
      },
      "27": {
        loc: {
          start: {
            line: 409,
            column: 4
          },
          end: {
            line: 414,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 409,
            column: 4
          },
          end: {
            line: 414,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 409
      },
      "28": {
        loc: {
          start: {
            line: 409,
            column: 8
          },
          end: {
            line: 409,
            column: 94
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 409,
            column: 8
          },
          end: {
            line: 409,
            column: 30
          }
        }, {
          start: {
            line: 409,
            column: 35
          },
          end: {
            line: 409,
            column: 61
          }
        }, {
          start: {
            line: 409,
            column: 65
          },
          end: {
            line: 409,
            column: 93
          }
        }],
        line: 409
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0, 0],
      "14": [0, 0],
      "15": [0, 0, 0],
      "16": [0, 0],
      "17": [0, 0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\payments\\preferences\\route.ts"],
      sourcesContent: ["// Configuraci\xF3n para Node.js Runtime\r\nexport const runtime = 'nodejs';\r\n\r\n// ===================================\r\n// PINTEYA E-COMMERCE - MERCADOPAGO ADVANCED PREFERENCES API\r\n// ===================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { auth } from '@/lib/auth/config';\r\nimport { logger, LogLevel, LogCategory } from '@/lib/enterprise/logger';\r\nimport { checkRateLimit, addRateLimitHeaders, RATE_LIMIT_CONFIGS } from '@/lib/enterprise/rate-limiter';\r\nimport { metricsCollector } from '@/lib/enterprise/metrics';\r\n\r\n// Configuraciones avanzadas de preferencias seg\xFAn documentaci\xF3n oficial\r\ninterface AdvancedPreferenceConfig {\r\n  // Exclusi\xF3n de medios de pago\r\n  excluded_payment_methods?: Array<{\r\n    id: string;\r\n  }>;\r\n  excluded_payment_types?: Array<{\r\n    id: string;\r\n  }>;\r\n  \r\n  // Configuraci\xF3n de cuotas\r\n  installments?: {\r\n    default_installments?: number;\r\n    max_installments?: number;\r\n    min_installments?: number;\r\n  };\r\n  \r\n  // Configuraci\xF3n de env\xEDo\r\n  shipments?: {\r\n    mode?: 'not_specified' | 'custom' | 'me2';\r\n    cost?: number;\r\n    free_shipping?: boolean;\r\n    receiver_address?: {\r\n      zip_code?: string;\r\n      street_name?: string;\r\n      street_number?: string;\r\n      floor?: string;\r\n      apartment?: string;\r\n      city_name?: string;\r\n      state_name?: string;\r\n      country_name?: string;\r\n    };\r\n  };\r\n  \r\n  // Configuraci\xF3n de descuentos\r\n  differential_pricing?: {\r\n    id: number;\r\n  };\r\n  \r\n  // Configuraci\xF3n de marketplace\r\n  marketplace_fee?: number;\r\n  \r\n  // Configuraci\xF3n de notificaciones\r\n  notification_url?: string;\r\n  \r\n  // Configuraci\xF3n de URLs de retorno\r\n  back_urls?: {\r\n    success?: string;\r\n    failure?: string;\r\n    pending?: string;\r\n  };\r\n  \r\n  // Configuraci\xF3n de expiraci\xF3n\r\n  expires?: boolean;\r\n  expiration_date_from?: string;\r\n  expiration_date_to?: string;\r\n  \r\n  // Configuraci\xF3n de modo binario\r\n  binary_mode?: boolean;\r\n  \r\n  // Configuraci\xF3n de procesamiento externo\r\n  processing_modes?: string[];\r\n  \r\n  // Configuraci\xF3n de prop\xF3sito\r\n  purpose?: string;\r\n  \r\n  // Configuraci\xF3n de sponsor\r\n  sponsor_id?: number;\r\n}\r\n\r\n/**\r\n * GET /api/payments/preferences\r\n * Obtiene configuraciones de preferencias disponibles\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  const startTime = Date.now();\r\n  const clientIP = request.headers.get('x-forwarded-for') || 'unknown';\r\n\r\n  try {\r\n    // Verificar autenticaci\xF3n\r\n    const session = await auth();\r\n    if (!session?.user) {\r\n      return NextResponse.json(\r\n        { success: false, error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      RATE_LIMIT_CONFIGS.QUERY_API\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { success: false, error: 'Demasiadas solicitudes' },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult, RATE_LIMIT_CONFIGS.QUERY_API);\r\n      return response;\r\n    }\r\n\r\n    logger.info(LogCategory.API, 'Preferences config request', {\r\n      userId,\r\n      clientIP,\r\n    });\r\n\r\n    // Configuraciones disponibles seg\xFAn documentaci\xF3n de MercadoPago\r\n    const availableConfigurations = {\r\n      payment_methods: {\r\n        excluded_payment_methods: [\r\n          { id: 'visa', name: 'Visa' },\r\n          { id: 'master', name: 'Mastercard' },\r\n          { id: 'amex', name: 'American Express' },\r\n          { id: 'naranja', name: 'Naranja' },\r\n          { id: 'cabal', name: 'Cabal' },\r\n          { id: 'cencosud', name: 'Cencosud' },\r\n          { id: 'cordobesa', name: 'Cordobesa' },\r\n          { id: 'argencard', name: 'Argencard' },\r\n        ],\r\n        excluded_payment_types: [\r\n          { id: 'credit_card', name: 'Tarjetas de Cr\xE9dito' },\r\n          { id: 'debit_card', name: 'Tarjetas de D\xE9bito' },\r\n          { id: 'ticket', name: 'Efectivo' },\r\n          { id: 'bank_transfer', name: 'Transferencia Bancaria' },\r\n          { id: 'digital_currency', name: 'Dinero en Cuenta' },\r\n        ],\r\n      },\r\n      installments: {\r\n        options: [1, 3, 6, 9, 12, 18, 24],\r\n        default: 1,\r\n        max_allowed: 24,\r\n      },\r\n      shipments: {\r\n        modes: [\r\n          { id: 'not_specified', name: 'No especificado' },\r\n          { id: 'custom', name: 'Personalizado' },\r\n          { id: 'me2', name: 'MercadoEnv\xEDos' },\r\n        ],\r\n        free_shipping_threshold: 50000, // ARS\r\n      },\r\n      expiration: {\r\n        min_hours: 1,\r\n        max_hours: 720, // 30 d\xEDas\r\n        default_hours: 24,\r\n      },\r\n      processing_modes: [\r\n        { id: 'aggregator', name: 'Agregador' },\r\n        { id: 'gateway', name: 'Gateway' },\r\n      ],\r\n      purposes: [\r\n        { id: 'onboarding_credits', name: 'Cr\xE9ditos de Onboarding' },\r\n        { id: 'wallet_purchase', name: 'Compra con Wallet' },\r\n      ],\r\n    };\r\n\r\n    // Configuraci\xF3n actual del sistema\r\n    const currentConfig: AdvancedPreferenceConfig = {\r\n      excluded_payment_methods: [],\r\n      excluded_payment_types: [],\r\n      installments: {\r\n        default_installments: 1,\r\n        max_installments: 12,\r\n        min_installments: 1,\r\n      },\r\n      shipments: {\r\n        mode: 'custom',\r\n        free_shipping: true,\r\n      },\r\n      expires: true,\r\n      expiration_date_to: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\r\n      binary_mode: false,\r\n      back_urls: {\r\n        success: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/success`,\r\n        failure: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/failure`,\r\n        pending: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/pending`,\r\n      },\r\n      notification_url: `${process.env.NEXT_PUBLIC_BASE_URL}/api/payments/webhook`,\r\n    };\r\n\r\n    // Registrar m\xE9tricas\r\n    await metricsCollector.recordRequest(\r\n      '/api/payments/preferences',\r\n      'GET',\r\n      200,\r\n      Date.now() - startTime,\r\n      { userId }\r\n    );\r\n\r\n    logger.info(LogCategory.API, 'Preferences config retrieved', {\r\n      userId,\r\n      processingTime: Date.now() - startTime,\r\n    });\r\n\r\n    const response = NextResponse.json({\r\n      success: true,\r\n      data: {\r\n        available_configurations: availableConfigurations,\r\n        current_config: currentConfig,\r\n        documentation: {\r\n          excluded_payment_methods: 'Excluir m\xE9todos de pago espec\xEDficos (ej: Visa, Mastercard)',\r\n          excluded_payment_types: 'Excluir tipos de pago (ej: tarjetas de cr\xE9dito, efectivo)',\r\n          installments: 'Configurar cuotas m\xEDnimas, m\xE1ximas y por defecto',\r\n          shipments: 'Configurar env\xEDos y costos de shipping',\r\n          expiration: 'Configurar fecha de expiraci\xF3n de preferencias',\r\n          binary_mode: 'Modo binario para aprobaci\xF3n/rechazo inmediato',\r\n          back_urls: 'URLs de retorno despu\xE9s del pago',\r\n          notification_url: 'URL para recibir notificaciones de webhook',\r\n        },\r\n      },\r\n      timestamp: Date.now(),\r\n      processing_time: Date.now() - startTime,\r\n    });\r\n\r\n    addRateLimitHeaders(response, rateLimitResult, RATE_LIMIT_CONFIGS.QUERY_API);\r\n    return response;\r\n\r\n  } catch (error) {\r\n    const processingTime = Date.now() - startTime;\r\n    \r\n    logger.performance(LogLevel.ERROR, 'Preferences config failed', {\r\n      operation: 'preferences-config-api',\r\n      duration: processingTime,\r\n      statusCode: 500,\r\n    }, {\r\n      clientIP,\r\n    });\r\n\r\n    await metricsCollector.recordRequest(\r\n      '/api/payments/preferences',\r\n      'GET',\r\n      500,\r\n      processingTime,\r\n      { error: (error as Error).message }\r\n    );\r\n\r\n    return NextResponse.json(\r\n      { success: false, error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * POST /api/payments/preferences\r\n * Actualiza configuraciones de preferencias (ENTERPRISE)\r\n */\r\nconst postHandler = async (request: NextRequest) => {\r\n  const startTime = Date.now();\r\n  const clientIP = request.headers.get('x-forwarded-for') || 'unknown';\r\n\r\n  try {\r\n    // ENTERPRISE: Verificar autenticaci\xF3n con contexto completo\r\n    const authResult = await getEnterpriseAuthContext(request, {\r\n      securityLevel: 'high',\r\n      enableJWTValidation: true,\r\n      enableCSRFProtection: true,\r\n      enableRateLimit: false // Rate limiting manejado por middleware\r\n    });\r\n\r\n    if (!authResult.success) {\r\n      return NextResponse.json(\r\n        {\r\n          error: authResult.error,\r\n          code: authResult.code,\r\n          enterprise: true\r\n        },\r\n        { status: authResult.status || 401 }\r\n      );\r\n    }\r\n\r\n    const context = authResult.context!;\r\n    const userId = context.userId;\r\n\r\n    // Rate limiting manejado por middleware enterprise\r\n\r\n    const config: AdvancedPreferenceConfig = await request.json();\r\n\r\n    logger.info(LogCategory.API, 'Preferences config update started', {\r\n      userId,\r\n      config: JSON.stringify(config),\r\n      clientIP,\r\n    });\r\n\r\n    // Validar configuraci\xF3n\r\n    const validationResult = validatePreferenceConfig(config);\r\n    if (!validationResult.valid) {\r\n      return NextResponse.json(\r\n        { success: false, error: validationResult.error },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // En una implementaci\xF3n real, aqu\xED se guardar\xEDa la configuraci\xF3n en base de datos\r\n    // Por ahora simulamos la actualizaci\xF3n\r\n    const updatedConfig = {\r\n      ...config,\r\n      updated_at: new Date().toISOString(),\r\n      updated_by: userId,\r\n    };\r\n\r\n    // Registrar m\xE9tricas\r\n    await metricsCollector.recordRequest(\r\n      '/api/payments/preferences',\r\n      'POST',\r\n      200,\r\n      Date.now() - startTime,\r\n      { userId, configKeys: Object.keys(config).join(',') }\r\n    );\r\n\r\n    logger.info(LogCategory.API, 'Preferences config updated successfully', {\r\n      userId,\r\n      configKeys: Object.keys(config),\r\n      processingTime: Date.now() - startTime,\r\n    });\r\n\r\n    const response = NextResponse.json({\r\n      success: true,\r\n      data: {\r\n        config: updatedConfig,\r\n        message: 'Configuraci\xF3n actualizada exitosamente',\r\n      },\r\n      timestamp: Date.now(),\r\n      processing_time: Date.now() - startTime,\r\n    });\r\n\r\n    addRateLimitHeaders(response, rateLimitResult, RATE_LIMIT_CONFIGS.PAYMENT_API);\r\n    return response;\r\n\r\n  } catch (error) {\r\n    const processingTime = Date.now() - startTime;\r\n    \r\n    logger.performance(LogLevel.ERROR, 'Preferences config update failed', {\r\n      operation: 'preferences-config-update-api',\r\n      duration: processingTime,\r\n      statusCode: 500,\r\n    }, {\r\n      clientIP,\r\n    });\r\n\r\n    await metricsCollector.recordRequest(\r\n      '/api/payments/preferences',\r\n      'POST',\r\n      500,\r\n      processingTime,\r\n      { error: (error as Error).message }\r\n    );\r\n\r\n    return NextResponse.json(\r\n      { success: false, error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Valida la configuraci\xF3n de preferencias\r\n */\r\nfunction validatePreferenceConfig(config: AdvancedPreferenceConfig): { valid: boolean; error?: string } {\r\n  // Validar cuotas\r\n  if (config.installments) {\r\n    const { min_installments, max_installments, default_installments } = config.installments;\r\n    \r\n    if (min_installments && min_installments < 1) {\r\n      return { valid: false, error: 'Las cuotas m\xEDnimas deben ser al menos 1' };\r\n    }\r\n    \r\n    if (max_installments && max_installments > 24) {\r\n      return { valid: false, error: 'Las cuotas m\xE1ximas no pueden ser m\xE1s de 24' };\r\n    }\r\n    \r\n    if (min_installments && max_installments && min_installments > max_installments) {\r\n      return { valid: false, error: 'Las cuotas m\xEDnimas no pueden ser mayores a las m\xE1ximas' };\r\n    }\r\n    \r\n    if (default_installments && min_installments && default_installments < min_installments) {\r\n      return { valid: false, error: 'Las cuotas por defecto no pueden ser menores a las m\xEDnimas' };\r\n    }\r\n    \r\n    if (default_installments && max_installments && default_installments > max_installments) {\r\n      return { valid: false, error: 'Las cuotas por defecto no pueden ser mayores a las m\xE1ximas' };\r\n    }\r\n  }\r\n\r\n  // Validar env\xEDos\r\n  if (config.shipments) {\r\n    const { mode, cost } = config.shipments;\r\n    \r\n    if (mode && !['not_specified', 'custom', 'me2'].includes(mode)) {\r\n      return { valid: false, error: 'Modo de env\xEDo inv\xE1lido' };\r\n    }\r\n    \r\n    if (cost && cost < 0) {\r\n      return { valid: false, error: 'El costo de env\xEDo no puede ser negativo' };\r\n    }\r\n  }\r\n\r\n  // Validar fechas de expiraci\xF3n\r\n  if (config.expiration_date_from && config.expiration_date_to) {\r\n    const dateFrom = new Date(config.expiration_date_from);\r\n    const dateTo = new Date(config.expiration_date_to);\r\n    \r\n    if (dateFrom >= dateTo) {\r\n      return { valid: false, error: 'La fecha de inicio debe ser anterior a la fecha de fin' };\r\n    }\r\n    \r\n    if (dateTo <= new Date()) {\r\n      return { valid: false, error: 'La fecha de expiraci\xF3n debe ser futura' };\r\n    }\r\n  }\r\n\r\n  // Validar marketplace fee\r\n  if (config.marketplace_fee && (config.marketplace_fee < 0 || config.marketplace_fee > 100)) {\r\n    return { valid: false, error: 'La comisi\xF3n de marketplace debe estar entre 0 y 100%' };\r\n  }\r\n\r\n  return { valid: true };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["GET", "runtime", "request", "startTime", "Date", "now", "clientIP", "headers", "get", "session", "auth", "user", "NextResponse", "json", "success", "error", "status", "rateLimitResult", "checkRateLimit", "RATE_LIMIT_CONFIGS", "QUERY_API", "response", "addRateLimitHeaders", "logger", "info", "LogCategory", "API", "userId", "availableConfigurations", "payment_methods", "excluded_payment_methods", "id", "name", "excluded_payment_types", "installments", "options", "default", "max_allowed", "shipments", "modes", "free_shipping_threshold", "expiration", "min_hours", "max_hours", "default_hours", "processing_modes", "purposes", "currentConfig", "default_installments", "max_installments", "min_installments", "mode", "free_shipping", "expires", "expiration_date_to", "toISOString", "binary_mode", "back_urls", "process", "env", "NEXT_PUBLIC_BASE_URL", "failure", "pending", "notification_url", "metricsCollector", "recordRequest", "processingTime", "data", "available_configurations", "current_config", "documentation", "timestamp", "processing_time", "performance", "LogLevel", "ERROR", "operation", "duration", "statusCode", "message", "postHandler", "authResult", "getEnterpriseAuthContext", "securityLevel", "enableJWTValidation", "enableCSRFProtection", "enableRateLimit", "code", "enterprise", "context", "config", "JSON", "stringify", "validationResult", "validatePreferenceConfig", "valid", "updatedConfig", "updated_at", "updated_by", "configKeys", "Object", "keys", "join", "PAYMENT_API", "cost", "includes", "expiration_date_from", "dateFrom", "dateTo", "marketplace_fee"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "0294150bd0529535ce5c40c9c320dd0ea551f400"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_20pkrbsnd2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_20pkrbsnd2();
cov_20pkrbsnd2().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_20pkrbsnd2().f[0]++;
  cov_20pkrbsnd2().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_20pkrbsnd2().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_20pkrbsnd2().f[1]++;
    cov_20pkrbsnd2().s[4]++;
    return GET;
  },
  get runtime() {
    /* istanbul ignore next */
    cov_20pkrbsnd2().f[2]++;
    cov_20pkrbsnd2().s[5]++;
    return runtime;
  }
});
const _server =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[6]++, require("next/server"));
const _config =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[7]++, require("../../../../lib/auth/config"));
const _logger =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[8]++, require("../../../../lib/enterprise/logger"));
const _ratelimiter =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[9]++, require("../../../../lib/enterprise/rate-limiter"));
const _metrics =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[10]++, require("../../../../lib/enterprise/metrics"));
const runtime =
/* istanbul ignore next */
(cov_20pkrbsnd2().s[11]++, 'nodejs');
async function GET(request) {
  /* istanbul ignore next */
  cov_20pkrbsnd2().f[3]++;
  const startTime =
  /* istanbul ignore next */
  (cov_20pkrbsnd2().s[12]++, Date.now());
  const clientIP =
  /* istanbul ignore next */
  (cov_20pkrbsnd2().s[13]++,
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[0][0]++, request.headers.get('x-forwarded-for')) ||
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[0][1]++, 'unknown'));
  /* istanbul ignore next */
  cov_20pkrbsnd2().s[14]++;
  try {
    // Verificar autenticaciÃ³n
    const session =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[15]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[16]++;
    if (!session?.user) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[1][0]++;
      cov_20pkrbsnd2().s[17]++;
      return _server.NextResponse.json({
        success: false,
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[1][1]++;
    }
    // Rate limiting
    const rateLimitResult1 =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[18]++, await (0, _ratelimiter.checkRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.QUERY_API));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[19]++;
    if (!rateLimitResult1.success) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[2][0]++;
      const response =
      /* istanbul ignore next */
      (cov_20pkrbsnd2().s[20]++, _server.NextResponse.json({
        success: false,
        error: 'Demasiadas solicitudes'
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_20pkrbsnd2().s[21]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult1, _ratelimiter.RATE_LIMIT_CONFIGS.QUERY_API);
      /* istanbul ignore next */
      cov_20pkrbsnd2().s[22]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[2][1]++;
    }
    cov_20pkrbsnd2().s[23]++;
    _logger.logger.info(_logger.LogCategory.API, 'Preferences config request', {
      userId,
      clientIP
    });
    // Configuraciones disponibles segÃºn documentaciÃ³n de MercadoPago
    const availableConfigurations =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[24]++, {
      payment_methods: {
        excluded_payment_methods: [{
          id: 'visa',
          name: 'Visa'
        }, {
          id: 'master',
          name: 'Mastercard'
        }, {
          id: 'amex',
          name: 'American Express'
        }, {
          id: 'naranja',
          name: 'Naranja'
        }, {
          id: 'cabal',
          name: 'Cabal'
        }, {
          id: 'cencosud',
          name: 'Cencosud'
        }, {
          id: 'cordobesa',
          name: 'Cordobesa'
        }, {
          id: 'argencard',
          name: 'Argencard'
        }],
        excluded_payment_types: [{
          id: 'credit_card',
          name: 'Tarjetas de CrÃ©dito'
        }, {
          id: 'debit_card',
          name: 'Tarjetas de DÃ©bito'
        }, {
          id: 'ticket',
          name: 'Efectivo'
        }, {
          id: 'bank_transfer',
          name: 'Transferencia Bancaria'
        }, {
          id: 'digital_currency',
          name: 'Dinero en Cuenta'
        }]
      },
      installments: {
        options: [1, 3, 6, 9, 12, 18, 24],
        default: 1,
        max_allowed: 24
      },
      shipments: {
        modes: [{
          id: 'not_specified',
          name: 'No especificado'
        }, {
          id: 'custom',
          name: 'Personalizado'
        }, {
          id: 'me2',
          name: 'MercadoEnvÃ­os'
        }],
        free_shipping_threshold: 50000
      },
      expiration: {
        min_hours: 1,
        max_hours: 720,
        default_hours: 24
      },
      processing_modes: [{
        id: 'aggregator',
        name: 'Agregador'
      }, {
        id: 'gateway',
        name: 'Gateway'
      }],
      purposes: [{
        id: 'onboarding_credits',
        name: 'CrÃ©ditos de Onboarding'
      }, {
        id: 'wallet_purchase',
        name: 'Compra con Wallet'
      }]
    });
    // ConfiguraciÃ³n actual del sistema
    const currentConfig =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[25]++, {
      excluded_payment_methods: [],
      excluded_payment_types: [],
      installments: {
        default_installments: 1,
        max_installments: 12,
        min_installments: 1
      },
      shipments: {
        mode: 'custom',
        free_shipping: true
      },
      expires: true,
      expiration_date_to: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
      binary_mode: false,
      back_urls: {
        success: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/success`,
        failure: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/failure`,
        pending: `${process.env.NEXT_PUBLIC_BASE_URL}/checkout/pending`
      },
      notification_url: `${process.env.NEXT_PUBLIC_BASE_URL}/api/payments/webhook`
    });
    // Registrar mÃ©tricas
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[26]++;
    await _metrics.metricsCollector.recordRequest('/api/payments/preferences', 'GET', 200, Date.now() - startTime, {
      userId
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[27]++;
    _logger.logger.info(_logger.LogCategory.API, 'Preferences config retrieved', {
      userId,
      processingTime: Date.now() - startTime
    });
    const response =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[28]++, _server.NextResponse.json({
      success: true,
      data: {
        available_configurations: availableConfigurations,
        current_config: currentConfig,
        documentation: {
          excluded_payment_methods: 'Excluir mÃ©todos de pago especÃ­ficos (ej: Visa, Mastercard)',
          excluded_payment_types: 'Excluir tipos de pago (ej: tarjetas de crÃ©dito, efectivo)',
          installments: 'Configurar cuotas mÃ­nimas, mÃ¡ximas y por defecto',
          shipments: 'Configurar envÃ­os y costos de shipping',
          expiration: 'Configurar fecha de expiraciÃ³n de preferencias',
          binary_mode: 'Modo binario para aprobaciÃ³n/rechazo inmediato',
          back_urls: 'URLs de retorno despuÃ©s del pago',
          notification_url: 'URL para recibir notificaciones de webhook'
        }
      },
      timestamp: Date.now(),
      processing_time: Date.now() - startTime
    }));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[29]++;
    (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult1, _ratelimiter.RATE_LIMIT_CONFIGS.QUERY_API);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[30]++;
    return response;
  } catch (error) {
    const processingTime =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[31]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[32]++;
    _logger.logger.performance(_logger.LogLevel.ERROR, 'Preferences config failed', {
      operation: 'preferences-config-api',
      duration: processingTime,
      statusCode: 500
    }, {
      clientIP
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[33]++;
    await _metrics.metricsCollector.recordRequest('/api/payments/preferences', 'GET', 500, processingTime, {
      error: error.message
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[34]++;
    return _server.NextResponse.json({
      success: false,
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
}
/**
 * POST /api/payments/preferences
 * Actualiza configuraciones de preferencias (ENTERPRISE)
 */
/* istanbul ignore next */
cov_20pkrbsnd2().s[35]++;
const postHandler = async request => {
  /* istanbul ignore next */
  cov_20pkrbsnd2().f[4]++;
  const startTime =
  /* istanbul ignore next */
  (cov_20pkrbsnd2().s[36]++, Date.now());
  const clientIP =
  /* istanbul ignore next */
  (cov_20pkrbsnd2().s[37]++,
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[3][0]++, request.headers.get('x-forwarded-for')) ||
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[3][1]++, 'unknown'));
  /* istanbul ignore next */
  cov_20pkrbsnd2().s[38]++;
  try {
    // ENTERPRISE: Verificar autenticaciÃ³n con contexto completo
    const authResult =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[39]++, await getEnterpriseAuthContext(request, {
      securityLevel: 'high',
      enableJWTValidation: true,
      enableCSRFProtection: true,
      enableRateLimit: false // Rate limiting manejado por middleware
    }));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[40]++;
    if (!authResult.success) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[4][0]++;
      cov_20pkrbsnd2().s[41]++;
      return _server.NextResponse.json({
        error: authResult.error,
        code: authResult.code,
        enterprise: true
      }, {
        status:
        /* istanbul ignore next */
        (cov_20pkrbsnd2().b[5][0]++, authResult.status) ||
        /* istanbul ignore next */
        (cov_20pkrbsnd2().b[5][1]++, 401)
      });
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[4][1]++;
    }
    const context =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[42]++, authResult.context);
    const userId1 =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[43]++, context.userId);
    // Rate limiting manejado por middleware enterprise
    const config =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[44]++, await request.json());
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[45]++;
    _logger.logger.info(_logger.LogCategory.API, 'Preferences config update started', {
      userId: userId1,
      config: JSON.stringify(config),
      clientIP
    });
    // Validar configuraciÃ³n
    const validationResult =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[46]++, validatePreferenceConfig(config));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[47]++;
    if (!validationResult.valid) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[6][0]++;
      cov_20pkrbsnd2().s[48]++;
      return _server.NextResponse.json({
        success: false,
        error: validationResult.error
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[6][1]++;
    }
    // En una implementaciÃ³n real, aquÃ­ se guardarÃ­a la configuraciÃ³n en base de datos
    // Por ahora simulamos la actualizaciÃ³n
    const updatedConfig =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[49]++, {
      ...config,
      updated_at: new Date().toISOString(),
      updated_by: userId1
    });
    // Registrar mÃ©tricas
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[50]++;
    await _metrics.metricsCollector.recordRequest('/api/payments/preferences', 'POST', 200, Date.now() - startTime, {
      userId: userId1,
      configKeys: Object.keys(config).join(',')
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[51]++;
    _logger.logger.info(_logger.LogCategory.API, 'Preferences config updated successfully', {
      userId: userId1,
      configKeys: Object.keys(config),
      processingTime: Date.now() - startTime
    });
    const response =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[52]++, _server.NextResponse.json({
      success: true,
      data: {
        config: updatedConfig,
        message: 'ConfiguraciÃ³n actualizada exitosamente'
      },
      timestamp: Date.now(),
      processing_time: Date.now() - startTime
    }));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[53]++;
    (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult, _ratelimiter.RATE_LIMIT_CONFIGS.PAYMENT_API);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[54]++;
    return response;
  } catch (error) {
    const processingTime =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[55]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[56]++;
    _logger.logger.performance(_logger.LogLevel.ERROR, 'Preferences config update failed', {
      operation: 'preferences-config-update-api',
      duration: processingTime,
      statusCode: 500
    }, {
      clientIP
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[57]++;
    await _metrics.metricsCollector.recordRequest('/api/payments/preferences', 'POST', 500, processingTime, {
      error: error.message
    });
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[58]++;
    return _server.NextResponse.json({
      success: false,
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
};
/**
 * Valida la configuraciÃ³n de preferencias
 */
function validatePreferenceConfig(config) {
  /* istanbul ignore next */
  cov_20pkrbsnd2().f[5]++;
  cov_20pkrbsnd2().s[59]++;
  // Validar cuotas
  if (config.installments) {
    /* istanbul ignore next */
    cov_20pkrbsnd2().b[7][0]++;
    const {
      min_installments,
      max_installments,
      default_installments
    } =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[60]++, config.installments);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[61]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[9][0]++, min_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[9][1]++, min_installments < 1)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[8][0]++;
      cov_20pkrbsnd2().s[62]++;
      return {
        valid: false,
        error: 'Las cuotas mÃ­nimas deben ser al menos 1'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[8][1]++;
    }
    cov_20pkrbsnd2().s[63]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[11][0]++, max_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[11][1]++, max_installments > 24)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[10][0]++;
      cov_20pkrbsnd2().s[64]++;
      return {
        valid: false,
        error: 'Las cuotas mÃ¡ximas no pueden ser mÃ¡s de 24'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[10][1]++;
    }
    cov_20pkrbsnd2().s[65]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[13][0]++, min_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[13][1]++, max_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[13][2]++, min_installments > max_installments)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[12][0]++;
      cov_20pkrbsnd2().s[66]++;
      return {
        valid: false,
        error: 'Las cuotas mÃ­nimas no pueden ser mayores a las mÃ¡ximas'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[12][1]++;
    }
    cov_20pkrbsnd2().s[67]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[15][0]++, default_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[15][1]++, min_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[15][2]++, default_installments < min_installments)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[14][0]++;
      cov_20pkrbsnd2().s[68]++;
      return {
        valid: false,
        error: 'Las cuotas por defecto no pueden ser menores a las mÃ­nimas'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[14][1]++;
    }
    cov_20pkrbsnd2().s[69]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[17][0]++, default_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[17][1]++, max_installments) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[17][2]++, default_installments > max_installments)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[16][0]++;
      cov_20pkrbsnd2().s[70]++;
      return {
        valid: false,
        error: 'Las cuotas por defecto no pueden ser mayores a las mÃ¡ximas'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[16][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_20pkrbsnd2().b[7][1]++;
  }
  // Validar envÃ­os
  cov_20pkrbsnd2().s[71]++;
  if (config.shipments) {
    /* istanbul ignore next */
    cov_20pkrbsnd2().b[18][0]++;
    const {
      mode,
      cost
    } =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[72]++, config.shipments);
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[73]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[20][0]++, mode) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[20][1]++, !['not_specified', 'custom', 'me2'].includes(mode))) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[19][0]++;
      cov_20pkrbsnd2().s[74]++;
      return {
        valid: false,
        error: 'Modo de envÃ­o invÃ¡lido'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[19][1]++;
    }
    cov_20pkrbsnd2().s[75]++;
    if (
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[22][0]++, cost) &&
    /* istanbul ignore next */
    (cov_20pkrbsnd2().b[22][1]++, cost < 0)) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[21][0]++;
      cov_20pkrbsnd2().s[76]++;
      return {
        valid: false,
        error: 'El costo de envÃ­o no puede ser negativo'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[21][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_20pkrbsnd2().b[18][1]++;
  }
  // Validar fechas de expiraciÃ³n
  cov_20pkrbsnd2().s[77]++;
  if (
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[24][0]++, config.expiration_date_from) &&
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[24][1]++, config.expiration_date_to)) {
    /* istanbul ignore next */
    cov_20pkrbsnd2().b[23][0]++;
    const dateFrom =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[78]++, new Date(config.expiration_date_from));
    const dateTo =
    /* istanbul ignore next */
    (cov_20pkrbsnd2().s[79]++, new Date(config.expiration_date_to));
    /* istanbul ignore next */
    cov_20pkrbsnd2().s[80]++;
    if (dateFrom >= dateTo) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[25][0]++;
      cov_20pkrbsnd2().s[81]++;
      return {
        valid: false,
        error: 'La fecha de inicio debe ser anterior a la fecha de fin'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[25][1]++;
    }
    cov_20pkrbsnd2().s[82]++;
    if (dateTo <= new Date()) {
      /* istanbul ignore next */
      cov_20pkrbsnd2().b[26][0]++;
      cov_20pkrbsnd2().s[83]++;
      return {
        valid: false,
        error: 'La fecha de expiraciÃ³n debe ser futura'
      };
    } else
    /* istanbul ignore next */
    {
      cov_20pkrbsnd2().b[26][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_20pkrbsnd2().b[23][1]++;
  }
  // Validar marketplace fee
  cov_20pkrbsnd2().s[84]++;
  if (
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[28][0]++, config.marketplace_fee) && (
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[28][1]++, config.marketplace_fee < 0) ||
  /* istanbul ignore next */
  (cov_20pkrbsnd2().b[28][2]++, config.marketplace_fee > 100))) {
    /* istanbul ignore next */
    cov_20pkrbsnd2().b[27][0]++;
    cov_20pkrbsnd2().s[85]++;
    return {
      valid: false,
      error: 'La comisiÃ³n de marketplace debe estar entre 0 y 100%'
    };
  } else
  /* istanbul ignore next */
  {
    cov_20pkrbsnd2().b[27][1]++;
  }
  cov_20pkrbsnd2().s[86]++;
  return {
    valid: true
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjBwa3Jic25kMiIsImFjdHVhbENvdmVyYWdlIiwicyIsIkdFVCIsImYiLCJydW50aW1lIiwicmVxdWVzdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJjbGllbnRJUCIsImIiLCJoZWFkZXJzIiwiZ2V0Iiwic2Vzc2lvbiIsIl9jb25maWciLCJhdXRoIiwidXNlciIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwicmF0ZUxpbWl0UmVzdWx0MSIsIl9yYXRlbGltaXRlciIsImNoZWNrUmF0ZUxpbWl0IiwiUkFURV9MSU1JVF9DT05GSUdTIiwiUVVFUllfQVBJIiwicmVzcG9uc2UiLCJhZGRSYXRlTGltaXRIZWFkZXJzIiwiX2xvZ2dlciIsImxvZ2dlciIsImluZm8iLCJMb2dDYXRlZ29yeSIsIkFQSSIsInVzZXJJZCIsImF2YWlsYWJsZUNvbmZpZ3VyYXRpb25zIiwicGF5bWVudF9tZXRob2RzIiwiZXhjbHVkZWRfcGF5bWVudF9tZXRob2RzIiwiaWQiLCJuYW1lIiwiZXhjbHVkZWRfcGF5bWVudF90eXBlcyIsImluc3RhbGxtZW50cyIsIm9wdGlvbnMiLCJkZWZhdWx0IiwibWF4X2FsbG93ZWQiLCJzaGlwbWVudHMiLCJtb2RlcyIsImZyZWVfc2hpcHBpbmdfdGhyZXNob2xkIiwiZXhwaXJhdGlvbiIsIm1pbl9ob3VycyIsIm1heF9ob3VycyIsImRlZmF1bHRfaG91cnMiLCJwcm9jZXNzaW5nX21vZGVzIiwicHVycG9zZXMiLCJjdXJyZW50Q29uZmlnIiwiZGVmYXVsdF9pbnN0YWxsbWVudHMiLCJtYXhfaW5zdGFsbG1lbnRzIiwibWluX2luc3RhbGxtZW50cyIsIm1vZGUiLCJmcmVlX3NoaXBwaW5nIiwiZXhwaXJlcyIsImV4cGlyYXRpb25fZGF0ZV90byIsInRvSVNPU3RyaW5nIiwiYmluYXJ5X21vZGUiLCJiYWNrX3VybHMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFTRV9VUkwiLCJmYWlsdXJlIiwicGVuZGluZyIsIm5vdGlmaWNhdGlvbl91cmwiLCJfbWV0cmljcyIsIm1ldHJpY3NDb2xsZWN0b3IiLCJyZWNvcmRSZXF1ZXN0IiwicHJvY2Vzc2luZ1RpbWUiLCJkYXRhIiwiYXZhaWxhYmxlX2NvbmZpZ3VyYXRpb25zIiwiY3VycmVudF9jb25maWciLCJkb2N1bWVudGF0aW9uIiwidGltZXN0YW1wIiwicHJvY2Vzc2luZ190aW1lIiwicGVyZm9ybWFuY2UiLCJMb2dMZXZlbCIsIkVSUk9SIiwib3BlcmF0aW9uIiwiZHVyYXRpb24iLCJzdGF0dXNDb2RlIiwibWVzc2FnZSIsInBvc3RIYW5kbGVyIiwiYXV0aFJlc3VsdCIsImdldEVudGVycHJpc2VBdXRoQ29udGV4dCIsInNlY3VyaXR5TGV2ZWwiLCJlbmFibGVKV1RWYWxpZGF0aW9uIiwiZW5hYmxlQ1NSRlByb3RlY3Rpb24iLCJlbmFibGVSYXRlTGltaXQiLCJjb2RlIiwiZW50ZXJwcmlzZSIsImNvbnRleHQiLCJ1c2VySWQxIiwiY29uZmlnIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRpb25SZXN1bHQiLCJ2YWxpZGF0ZVByZWZlcmVuY2VDb25maWciLCJ2YWxpZCIsInVwZGF0ZWRDb25maWciLCJ1cGRhdGVkX2F0IiwidXBkYXRlZF9ieSIsImNvbmZpZ0tleXMiLCJPYmplY3QiLCJrZXlzIiwiam9pbiIsInJhdGVMaW1pdFJlc3VsdCIsIlBBWU1FTlRfQVBJIiwiY29zdCIsImluY2x1ZGVzIiwiZXhwaXJhdGlvbl9kYXRlX2Zyb20iLCJkYXRlRnJvbSIsImRhdGVUbyIsIm1hcmtldHBsYWNlX2ZlZSJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXHBheW1lbnRzXFxwcmVmZXJlbmNlc1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29uZmlndXJhY2nDs24gcGFyYSBOb2RlLmpzIFJ1bnRpbWVcclxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIE1FUkNBRE9QQUdPIEFEVkFOQ0VEIFBSRUZFUkVOQ0VTIEFQSVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvbGliL2F1dGgvY29uZmlnJztcclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL2xvZ2dlcic7XHJcbmltcG9ydCB7IGNoZWNrUmF0ZUxpbWl0LCBhZGRSYXRlTGltaXRIZWFkZXJzLCBSQVRFX0xJTUlUX0NPTkZJR1MgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL3JhdGUtbGltaXRlcic7XHJcbmltcG9ydCB7IG1ldHJpY3NDb2xsZWN0b3IgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL21ldHJpY3MnO1xyXG5cclxuLy8gQ29uZmlndXJhY2lvbmVzIGF2YW56YWRhcyBkZSBwcmVmZXJlbmNpYXMgc2Vnw7puIGRvY3VtZW50YWNpw7NuIG9maWNpYWxcclxuaW50ZXJmYWNlIEFkdmFuY2VkUHJlZmVyZW5jZUNvbmZpZyB7XHJcbiAgLy8gRXhjbHVzacOzbiBkZSBtZWRpb3MgZGUgcGFnb1xyXG4gIGV4Y2x1ZGVkX3BheW1lbnRfbWV0aG9kcz86IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgfT47XHJcbiAgZXhjbHVkZWRfcGF5bWVudF90eXBlcz86IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgfT47XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgY3VvdGFzXHJcbiAgaW5zdGFsbG1lbnRzPzoge1xyXG4gICAgZGVmYXVsdF9pbnN0YWxsbWVudHM/OiBudW1iZXI7XHJcbiAgICBtYXhfaW5zdGFsbG1lbnRzPzogbnVtYmVyO1xyXG4gICAgbWluX2luc3RhbGxtZW50cz86IG51bWJlcjtcclxuICB9O1xyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGVudsOtb1xyXG4gIHNoaXBtZW50cz86IHtcclxuICAgIG1vZGU/OiAnbm90X3NwZWNpZmllZCcgfCAnY3VzdG9tJyB8ICdtZTInO1xyXG4gICAgY29zdD86IG51bWJlcjtcclxuICAgIGZyZWVfc2hpcHBpbmc/OiBib29sZWFuO1xyXG4gICAgcmVjZWl2ZXJfYWRkcmVzcz86IHtcclxuICAgICAgemlwX2NvZGU/OiBzdHJpbmc7XHJcbiAgICAgIHN0cmVldF9uYW1lPzogc3RyaW5nO1xyXG4gICAgICBzdHJlZXRfbnVtYmVyPzogc3RyaW5nO1xyXG4gICAgICBmbG9vcj86IHN0cmluZztcclxuICAgICAgYXBhcnRtZW50Pzogc3RyaW5nO1xyXG4gICAgICBjaXR5X25hbWU/OiBzdHJpbmc7XHJcbiAgICAgIHN0YXRlX25hbWU/OiBzdHJpbmc7XHJcbiAgICAgIGNvdW50cnlfbmFtZT86IHN0cmluZztcclxuICAgIH07XHJcbiAgfTtcclxuICBcclxuICAvLyBDb25maWd1cmFjacOzbiBkZSBkZXNjdWVudG9zXHJcbiAgZGlmZmVyZW50aWFsX3ByaWNpbmc/OiB7XHJcbiAgICBpZDogbnVtYmVyO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgbWFya2V0cGxhY2VcclxuICBtYXJrZXRwbGFjZV9mZWU/OiBudW1iZXI7XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgbm90aWZpY2FjaW9uZXNcclxuICBub3RpZmljYXRpb25fdXJsPzogc3RyaW5nO1xyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIFVSTHMgZGUgcmV0b3Jub1xyXG4gIGJhY2tfdXJscz86IHtcclxuICAgIHN1Y2Nlc3M/OiBzdHJpbmc7XHJcbiAgICBmYWlsdXJlPzogc3RyaW5nO1xyXG4gICAgcGVuZGluZz86IHN0cmluZztcclxuICB9O1xyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGV4cGlyYWNpw7NuXHJcbiAgZXhwaXJlcz86IGJvb2xlYW47XHJcbiAgZXhwaXJhdGlvbl9kYXRlX2Zyb20/OiBzdHJpbmc7XHJcbiAgZXhwaXJhdGlvbl9kYXRlX3RvPzogc3RyaW5nO1xyXG4gIFxyXG4gIC8vIENvbmZpZ3VyYWNpw7NuIGRlIG1vZG8gYmluYXJpb1xyXG4gIGJpbmFyeV9tb2RlPzogYm9vbGVhbjtcclxuICBcclxuICAvLyBDb25maWd1cmFjacOzbiBkZSBwcm9jZXNhbWllbnRvIGV4dGVybm9cclxuICBwcm9jZXNzaW5nX21vZGVzPzogc3RyaW5nW107XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgcHJvcMOzc2l0b1xyXG4gIHB1cnBvc2U/OiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gQ29uZmlndXJhY2nDs24gZGUgc3BvbnNvclxyXG4gIHNwb25zb3JfaWQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9wYXltZW50cy9wcmVmZXJlbmNlc1xyXG4gKiBPYnRpZW5lIGNvbmZpZ3VyYWNpb25lcyBkZSBwcmVmZXJlbmNpYXMgZGlzcG9uaWJsZXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gIGNvbnN0IGNsaWVudElQID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgJ3Vua25vd24nO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gVmVyaWZpY2FyIGF1dGVudGljYWNpw7NuXHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIGF1dG9yaXphZG8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmF0ZSBsaW1pdGluZ1xyXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgY2hlY2tSYXRlTGltaXQoXHJcbiAgICAgIHJlcXVlc3QsXHJcbiAgICAgIFJBVEVfTElNSVRfQ09ORklHUy5RVUVSWV9BUElcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFyYXRlTGltaXRSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGVtYXNpYWRhcyBzb2xpY2l0dWRlcycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDI5IH1cclxuICAgICAgKTtcclxuICAgICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhyZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0LCBSQVRFX0xJTUlUX0NPTkZJR1MuUVVFUllfQVBJKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ2dlci5pbmZvKExvZ0NhdGVnb3J5LkFQSSwgJ1ByZWZlcmVuY2VzIGNvbmZpZyByZXF1ZXN0Jywge1xyXG4gICAgICB1c2VySWQsXHJcbiAgICAgIGNsaWVudElQLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29uZmlndXJhY2lvbmVzIGRpc3BvbmlibGVzIHNlZ8O6biBkb2N1bWVudGFjacOzbiBkZSBNZXJjYWRvUGFnb1xyXG4gICAgY29uc3QgYXZhaWxhYmxlQ29uZmlndXJhdGlvbnMgPSB7XHJcbiAgICAgIHBheW1lbnRfbWV0aG9kczoge1xyXG4gICAgICAgIGV4Y2x1ZGVkX3BheW1lbnRfbWV0aG9kczogW1xyXG4gICAgICAgICAgeyBpZDogJ3Zpc2EnLCBuYW1lOiAnVmlzYScgfSxcclxuICAgICAgICAgIHsgaWQ6ICdtYXN0ZXInLCBuYW1lOiAnTWFzdGVyY2FyZCcgfSxcclxuICAgICAgICAgIHsgaWQ6ICdhbWV4JywgbmFtZTogJ0FtZXJpY2FuIEV4cHJlc3MnIH0sXHJcbiAgICAgICAgICB7IGlkOiAnbmFyYW5qYScsIG5hbWU6ICdOYXJhbmphJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ2NhYmFsJywgbmFtZTogJ0NhYmFsJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ2NlbmNvc3VkJywgbmFtZTogJ0NlbmNvc3VkJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ2NvcmRvYmVzYScsIG5hbWU6ICdDb3Jkb2Jlc2EnIH0sXHJcbiAgICAgICAgICB7IGlkOiAnYXJnZW5jYXJkJywgbmFtZTogJ0FyZ2VuY2FyZCcgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGV4Y2x1ZGVkX3BheW1lbnRfdHlwZXM6IFtcclxuICAgICAgICAgIHsgaWQ6ICdjcmVkaXRfY2FyZCcsIG5hbWU6ICdUYXJqZXRhcyBkZSBDcsOpZGl0bycgfSxcclxuICAgICAgICAgIHsgaWQ6ICdkZWJpdF9jYXJkJywgbmFtZTogJ1RhcmpldGFzIGRlIETDqWJpdG8nIH0sXHJcbiAgICAgICAgICB7IGlkOiAndGlja2V0JywgbmFtZTogJ0VmZWN0aXZvJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ2JhbmtfdHJhbnNmZXInLCBuYW1lOiAnVHJhbnNmZXJlbmNpYSBCYW5jYXJpYScgfSxcclxuICAgICAgICAgIHsgaWQ6ICdkaWdpdGFsX2N1cnJlbmN5JywgbmFtZTogJ0RpbmVybyBlbiBDdWVudGEnIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgaW5zdGFsbG1lbnRzOiB7XHJcbiAgICAgICAgb3B0aW9uczogWzEsIDMsIDYsIDksIDEyLCAxOCwgMjRdLFxyXG4gICAgICAgIGRlZmF1bHQ6IDEsXHJcbiAgICAgICAgbWF4X2FsbG93ZWQ6IDI0LFxyXG4gICAgICB9LFxyXG4gICAgICBzaGlwbWVudHM6IHtcclxuICAgICAgICBtb2RlczogW1xyXG4gICAgICAgICAgeyBpZDogJ25vdF9zcGVjaWZpZWQnLCBuYW1lOiAnTm8gZXNwZWNpZmljYWRvJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ2N1c3RvbScsIG5hbWU6ICdQZXJzb25hbGl6YWRvJyB9LFxyXG4gICAgICAgICAgeyBpZDogJ21lMicsIG5hbWU6ICdNZXJjYWRvRW52w61vcycgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGZyZWVfc2hpcHBpbmdfdGhyZXNob2xkOiA1MDAwMCwgLy8gQVJTXHJcbiAgICAgIH0sXHJcbiAgICAgIGV4cGlyYXRpb246IHtcclxuICAgICAgICBtaW5faG91cnM6IDEsXHJcbiAgICAgICAgbWF4X2hvdXJzOiA3MjAsIC8vIDMwIGTDrWFzXHJcbiAgICAgICAgZGVmYXVsdF9ob3VyczogMjQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHByb2Nlc3NpbmdfbW9kZXM6IFtcclxuICAgICAgICB7IGlkOiAnYWdncmVnYXRvcicsIG5hbWU6ICdBZ3JlZ2Fkb3InIH0sXHJcbiAgICAgICAgeyBpZDogJ2dhdGV3YXknLCBuYW1lOiAnR2F0ZXdheScgfSxcclxuICAgICAgXSxcclxuICAgICAgcHVycG9zZXM6IFtcclxuICAgICAgICB7IGlkOiAnb25ib2FyZGluZ19jcmVkaXRzJywgbmFtZTogJ0Nyw6lkaXRvcyBkZSBPbmJvYXJkaW5nJyB9LFxyXG4gICAgICAgIHsgaWQ6ICd3YWxsZXRfcHVyY2hhc2UnLCBuYW1lOiAnQ29tcHJhIGNvbiBXYWxsZXQnIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENvbmZpZ3VyYWNpw7NuIGFjdHVhbCBkZWwgc2lzdGVtYVxyXG4gICAgY29uc3QgY3VycmVudENvbmZpZzogQWR2YW5jZWRQcmVmZXJlbmNlQ29uZmlnID0ge1xyXG4gICAgICBleGNsdWRlZF9wYXltZW50X21ldGhvZHM6IFtdLFxyXG4gICAgICBleGNsdWRlZF9wYXltZW50X3R5cGVzOiBbXSxcclxuICAgICAgaW5zdGFsbG1lbnRzOiB7XHJcbiAgICAgICAgZGVmYXVsdF9pbnN0YWxsbWVudHM6IDEsXHJcbiAgICAgICAgbWF4X2luc3RhbGxtZW50czogMTIsXHJcbiAgICAgICAgbWluX2luc3RhbGxtZW50czogMSxcclxuICAgICAgfSxcclxuICAgICAgc2hpcG1lbnRzOiB7XHJcbiAgICAgICAgbW9kZTogJ2N1c3RvbScsXHJcbiAgICAgICAgZnJlZV9zaGlwcGluZzogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgZXhwaXJlczogdHJ1ZSxcclxuICAgICAgZXhwaXJhdGlvbl9kYXRlX3RvOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgYmluYXJ5X21vZGU6IGZhbHNlLFxyXG4gICAgICBiYWNrX3VybHM6IHtcclxuICAgICAgICBzdWNjZXNzOiBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQVNFX1VSTH0vY2hlY2tvdXQvc3VjY2Vzc2AsXHJcbiAgICAgICAgZmFpbHVyZTogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkx9L2NoZWNrb3V0L2ZhaWx1cmVgLFxyXG4gICAgICAgIHBlbmRpbmc6IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBU0VfVVJMfS9jaGVja291dC9wZW5kaW5nYCxcclxuICAgICAgfSxcclxuICAgICAgbm90aWZpY2F0aW9uX3VybDogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkx9L2FwaS9wYXltZW50cy93ZWJob29rYCxcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG3DqXRyaWNhc1xyXG4gICAgYXdhaXQgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRSZXF1ZXN0KFxyXG4gICAgICAnL2FwaS9wYXltZW50cy9wcmVmZXJlbmNlcycsXHJcbiAgICAgICdHRVQnLFxyXG4gICAgICAyMDAsXHJcbiAgICAgIERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIHsgdXNlcklkIH1cclxuICAgICk7XHJcblxyXG4gICAgbG9nZ2VyLmluZm8oTG9nQ2F0ZWdvcnkuQVBJLCAnUHJlZmVyZW5jZXMgY29uZmlnIHJldHJpZXZlZCcsIHtcclxuICAgICAgdXNlcklkLFxyXG4gICAgICBwcm9jZXNzaW5nVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgYXZhaWxhYmxlX2NvbmZpZ3VyYXRpb25zOiBhdmFpbGFibGVDb25maWd1cmF0aW9ucyxcclxuICAgICAgICBjdXJyZW50X2NvbmZpZzogY3VycmVudENvbmZpZyxcclxuICAgICAgICBkb2N1bWVudGF0aW9uOiB7XHJcbiAgICAgICAgICBleGNsdWRlZF9wYXltZW50X21ldGhvZHM6ICdFeGNsdWlyIG3DqXRvZG9zIGRlIHBhZ28gZXNwZWPDrWZpY29zIChlajogVmlzYSwgTWFzdGVyY2FyZCknLFxyXG4gICAgICAgICAgZXhjbHVkZWRfcGF5bWVudF90eXBlczogJ0V4Y2x1aXIgdGlwb3MgZGUgcGFnbyAoZWo6IHRhcmpldGFzIGRlIGNyw6lkaXRvLCBlZmVjdGl2byknLFxyXG4gICAgICAgICAgaW5zdGFsbG1lbnRzOiAnQ29uZmlndXJhciBjdW90YXMgbcOtbmltYXMsIG3DoXhpbWFzIHkgcG9yIGRlZmVjdG8nLFxyXG4gICAgICAgICAgc2hpcG1lbnRzOiAnQ29uZmlndXJhciBlbnbDrW9zIHkgY29zdG9zIGRlIHNoaXBwaW5nJyxcclxuICAgICAgICAgIGV4cGlyYXRpb246ICdDb25maWd1cmFyIGZlY2hhIGRlIGV4cGlyYWNpw7NuIGRlIHByZWZlcmVuY2lhcycsXHJcbiAgICAgICAgICBiaW5hcnlfbW9kZTogJ01vZG8gYmluYXJpbyBwYXJhIGFwcm9iYWNpw7NuL3JlY2hhem8gaW5tZWRpYXRvJyxcclxuICAgICAgICAgIGJhY2tfdXJsczogJ1VSTHMgZGUgcmV0b3JubyBkZXNwdcOpcyBkZWwgcGFnbycsXHJcbiAgICAgICAgICBub3RpZmljYXRpb25fdXJsOiAnVVJMIHBhcmEgcmVjaWJpciBub3RpZmljYWNpb25lcyBkZSB3ZWJob29rJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgIHByb2Nlc3NpbmdfdGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZFJhdGVMaW1pdEhlYWRlcnMocmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCwgUkFURV9MSU1JVF9DT05GSUdTLlFVRVJZX0FQSSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICBcclxuICAgIGxvZ2dlci5wZXJmb3JtYW5jZShMb2dMZXZlbC5FUlJPUiwgJ1ByZWZlcmVuY2VzIGNvbmZpZyBmYWlsZWQnLCB7XHJcbiAgICAgIG9wZXJhdGlvbjogJ3ByZWZlcmVuY2VzLWNvbmZpZy1hcGknLFxyXG4gICAgICBkdXJhdGlvbjogcHJvY2Vzc2luZ1RpbWUsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDUwMCxcclxuICAgIH0sIHtcclxuICAgICAgY2xpZW50SVAsXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZFJlcXVlc3QoXHJcbiAgICAgICcvYXBpL3BheW1lbnRzL3ByZWZlcmVuY2VzJyxcclxuICAgICAgJ0dFVCcsXHJcbiAgICAgIDUwMCxcclxuICAgICAgcHJvY2Vzc2luZ1RpbWUsXHJcbiAgICAgIHsgZXJyb3I6IChlcnJvciBhcyBFcnJvcikubWVzc2FnZSB9XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9wYXltZW50cy9wcmVmZXJlbmNlc1xyXG4gKiBBY3R1YWxpemEgY29uZmlndXJhY2lvbmVzIGRlIHByZWZlcmVuY2lhcyAoRU5URVJQUklTRSlcclxuICovXHJcbmNvbnN0IHBvc3RIYW5kbGVyID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XHJcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCBjbGllbnRJUCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJztcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIEVOVEVSUFJJU0U6IFZlcmlmaWNhciBhdXRlbnRpY2FjacOzbiBjb24gY29udGV4dG8gY29tcGxldG9cclxuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCBnZXRFbnRlcnByaXNlQXV0aENvbnRleHQocmVxdWVzdCwge1xyXG4gICAgICBzZWN1cml0eUxldmVsOiAnaGlnaCcsXHJcbiAgICAgIGVuYWJsZUpXVFZhbGlkYXRpb246IHRydWUsXHJcbiAgICAgIGVuYWJsZUNTUkZQcm90ZWN0aW9uOiB0cnVlLFxyXG4gICAgICBlbmFibGVSYXRlTGltaXQ6IGZhbHNlIC8vIFJhdGUgbGltaXRpbmcgbWFuZWphZG8gcG9yIG1pZGRsZXdhcmVcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghYXV0aFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7XHJcbiAgICAgICAgICBlcnJvcjogYXV0aFJlc3VsdC5lcnJvcixcclxuICAgICAgICAgIGNvZGU6IGF1dGhSZXN1bHQuY29kZSxcclxuICAgICAgICAgIGVudGVycHJpc2U6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiBhdXRoUmVzdWx0LnN0YXR1cyB8fCA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRleHQgPSBhdXRoUmVzdWx0LmNvbnRleHQhO1xyXG4gICAgY29uc3QgdXNlcklkID0gY29udGV4dC51c2VySWQ7XHJcblxyXG4gICAgLy8gUmF0ZSBsaW1pdGluZyBtYW5lamFkbyBwb3IgbWlkZGxld2FyZSBlbnRlcnByaXNlXHJcblxyXG4gICAgY29uc3QgY29uZmlnOiBBZHZhbmNlZFByZWZlcmVuY2VDb25maWcgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICBsb2dnZXIuaW5mbyhMb2dDYXRlZ29yeS5BUEksICdQcmVmZXJlbmNlcyBjb25maWcgdXBkYXRlIHN0YXJ0ZWQnLCB7XHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgY29uZmlnOiBKU09OLnN0cmluZ2lmeShjb25maWcpLFxyXG4gICAgICBjbGllbnRJUCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFZhbGlkYXIgY29uZmlndXJhY2nDs25cclxuICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZVByZWZlcmVuY2VDb25maWcoY29uZmlnKTtcclxuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC52YWxpZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbiB1bmEgaW1wbGVtZW50YWNpw7NuIHJlYWwsIGFxdcOtIHNlIGd1YXJkYXLDrWEgbGEgY29uZmlndXJhY2nDs24gZW4gYmFzZSBkZSBkYXRvc1xyXG4gICAgLy8gUG9yIGFob3JhIHNpbXVsYW1vcyBsYSBhY3R1YWxpemFjacOzblxyXG4gICAgY29uc3QgdXBkYXRlZENvbmZpZyA9IHtcclxuICAgICAgLi4uY29uZmlnLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHVwZGF0ZWRfYnk6IHVzZXJJZCxcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG3DqXRyaWNhc1xyXG4gICAgYXdhaXQgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRSZXF1ZXN0KFxyXG4gICAgICAnL2FwaS9wYXltZW50cy9wcmVmZXJlbmNlcycsXHJcbiAgICAgICdQT1NUJyxcclxuICAgICAgMjAwLFxyXG4gICAgICBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxyXG4gICAgICB7IHVzZXJJZCwgY29uZmlnS2V5czogT2JqZWN0LmtleXMoY29uZmlnKS5qb2luKCcsJykgfVxyXG4gICAgKTtcclxuXHJcbiAgICBsb2dnZXIuaW5mbyhMb2dDYXRlZ29yeS5BUEksICdQcmVmZXJlbmNlcyBjb25maWcgdXBkYXRlZCBzdWNjZXNzZnVsbHknLCB7XHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgY29uZmlnS2V5czogT2JqZWN0LmtleXMoY29uZmlnKSxcclxuICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIGNvbmZpZzogdXBkYXRlZENvbmZpZyxcclxuICAgICAgICBtZXNzYWdlOiAnQ29uZmlndXJhY2nDs24gYWN0dWFsaXphZGEgZXhpdG9zYW1lbnRlJyxcclxuICAgICAgfSxcclxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICBwcm9jZXNzaW5nX3RpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRSYXRlTGltaXRIZWFkZXJzKHJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQsIFJBVEVfTElNSVRfQ09ORklHUy5QQVlNRU5UX0FQSSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICBcclxuICAgIGxvZ2dlci5wZXJmb3JtYW5jZShMb2dMZXZlbC5FUlJPUiwgJ1ByZWZlcmVuY2VzIGNvbmZpZyB1cGRhdGUgZmFpbGVkJywge1xyXG4gICAgICBvcGVyYXRpb246ICdwcmVmZXJlbmNlcy1jb25maWctdXBkYXRlLWFwaScsXHJcbiAgICAgIGR1cmF0aW9uOiBwcm9jZXNzaW5nVGltZSxcclxuICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgfSwge1xyXG4gICAgICBjbGllbnRJUCxcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkUmVxdWVzdChcclxuICAgICAgJy9hcGkvcGF5bWVudHMvcHJlZmVyZW5jZXMnLFxyXG4gICAgICAnUE9TVCcsXHJcbiAgICAgIDUwMCxcclxuICAgICAgcHJvY2Vzc2luZ1RpbWUsXHJcbiAgICAgIHsgZXJyb3I6IChlcnJvciBhcyBFcnJvcikubWVzc2FnZSB9XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYSBsYSBjb25maWd1cmFjacOzbiBkZSBwcmVmZXJlbmNpYXNcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUHJlZmVyZW5jZUNvbmZpZyhjb25maWc6IEFkdmFuY2VkUHJlZmVyZW5jZUNvbmZpZyk6IHsgdmFsaWQ6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0ge1xyXG4gIC8vIFZhbGlkYXIgY3VvdGFzXHJcbiAgaWYgKGNvbmZpZy5pbnN0YWxsbWVudHMpIHtcclxuICAgIGNvbnN0IHsgbWluX2luc3RhbGxtZW50cywgbWF4X2luc3RhbGxtZW50cywgZGVmYXVsdF9pbnN0YWxsbWVudHMgfSA9IGNvbmZpZy5pbnN0YWxsbWVudHM7XHJcbiAgICBcclxuICAgIGlmIChtaW5faW5zdGFsbG1lbnRzICYmIG1pbl9pbnN0YWxsbWVudHMgPCAxKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYXMgY3VvdGFzIG3DrW5pbWFzIGRlYmVuIHNlciBhbCBtZW5vcyAxJyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAobWF4X2luc3RhbGxtZW50cyAmJiBtYXhfaW5zdGFsbG1lbnRzID4gMjQpIHtcclxuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ0xhcyBjdW90YXMgbcOheGltYXMgbm8gcHVlZGVuIHNlciBtw6FzIGRlIDI0JyB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAobWluX2luc3RhbGxtZW50cyAmJiBtYXhfaW5zdGFsbG1lbnRzICYmIG1pbl9pbnN0YWxsbWVudHMgPiBtYXhfaW5zdGFsbG1lbnRzKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYXMgY3VvdGFzIG3DrW5pbWFzIG5vIHB1ZWRlbiBzZXIgbWF5b3JlcyBhIGxhcyBtw6F4aW1hcycgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGRlZmF1bHRfaW5zdGFsbG1lbnRzICYmIG1pbl9pbnN0YWxsbWVudHMgJiYgZGVmYXVsdF9pbnN0YWxsbWVudHMgPCBtaW5faW5zdGFsbG1lbnRzKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYXMgY3VvdGFzIHBvciBkZWZlY3RvIG5vIHB1ZWRlbiBzZXIgbWVub3JlcyBhIGxhcyBtw61uaW1hcycgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGRlZmF1bHRfaW5zdGFsbG1lbnRzICYmIG1heF9pbnN0YWxsbWVudHMgJiYgZGVmYXVsdF9pbnN0YWxsbWVudHMgPiBtYXhfaW5zdGFsbG1lbnRzKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYXMgY3VvdGFzIHBvciBkZWZlY3RvIG5vIHB1ZWRlbiBzZXIgbWF5b3JlcyBhIGxhcyBtw6F4aW1hcycgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFZhbGlkYXIgZW52w61vc1xyXG4gIGlmIChjb25maWcuc2hpcG1lbnRzKSB7XHJcbiAgICBjb25zdCB7IG1vZGUsIGNvc3QgfSA9IGNvbmZpZy5zaGlwbWVudHM7XHJcbiAgICBcclxuICAgIGlmIChtb2RlICYmICFbJ25vdF9zcGVjaWZpZWQnLCAnY3VzdG9tJywgJ21lMiddLmluY2x1ZGVzKG1vZGUpKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdNb2RvIGRlIGVudsOtbyBpbnbDoWxpZG8nIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChjb3N0ICYmIGNvc3QgPCAwKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdFbCBjb3N0byBkZSBlbnbDrW8gbm8gcHVlZGUgc2VyIG5lZ2F0aXZvJyB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBmZWNoYXMgZGUgZXhwaXJhY2nDs25cclxuICBpZiAoY29uZmlnLmV4cGlyYXRpb25fZGF0ZV9mcm9tICYmIGNvbmZpZy5leHBpcmF0aW9uX2RhdGVfdG8pIHtcclxuICAgIGNvbnN0IGRhdGVGcm9tID0gbmV3IERhdGUoY29uZmlnLmV4cGlyYXRpb25fZGF0ZV9mcm9tKTtcclxuICAgIGNvbnN0IGRhdGVUbyA9IG5ldyBEYXRlKGNvbmZpZy5leHBpcmF0aW9uX2RhdGVfdG8pO1xyXG4gICAgXHJcbiAgICBpZiAoZGF0ZUZyb20gPj0gZGF0ZVRvKSB7XHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYSBmZWNoYSBkZSBpbmljaW8gZGViZSBzZXIgYW50ZXJpb3IgYSBsYSBmZWNoYSBkZSBmaW4nIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChkYXRlVG8gPD0gbmV3IERhdGUoKSkge1xyXG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnTGEgZmVjaGEgZGUgZXhwaXJhY2nDs24gZGViZSBzZXIgZnV0dXJhJyB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhciBtYXJrZXRwbGFjZSBmZWVcclxuICBpZiAoY29uZmlnLm1hcmtldHBsYWNlX2ZlZSAmJiAoY29uZmlnLm1hcmtldHBsYWNlX2ZlZSA8IDAgfHwgY29uZmlnLm1hcmtldHBsYWNlX2ZlZSA+IDEwMCkpIHtcclxuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdMYSBjb21pc2nDs24gZGUgbWFya2V0cGxhY2UgZGViZSBlc3RhciBlbnRyZSAwIHkgMTAwJScgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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