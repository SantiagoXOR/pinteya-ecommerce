9191918b118a6ead31b412cda52e14af
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _productcardcommercial = require("../product-card-commercial");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('CommercialProductCard', ()=>{
    const defaultProps = {
        image: '/test-image.jpg',
        title: 'Barniz Campbell 4L',
        brand: 'Petrilac',
        price: 19350,
        originalPrice: 21500,
        discount: '10%',
        stock: 12,
        onAddToCart: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('renders correctly with all props', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps
        }));
        expect(_react1.screen.getByTestId('commercial-product-card')).toBeInTheDocument();
        expect(_react1.screen.getByText('Barniz Campbell 4L')).toBeInTheDocument();
        expect(_react1.screen.getByText('Petrilac')).toBeInTheDocument();
        expect(_react1.screen.getByText('$19.350')).toBeInTheDocument();
        expect(_react1.screen.getByText('$21.500')).toBeInTheDocument();
    });
    it('shows "Nuevo" badge when isNew is true', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            isNew: true
        }));
        expect(_react1.screen.getByText('Nuevo')).toBeInTheDocument();
    });
    it('shows discount badge when discount is provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('10%')).toBeInTheDocument();
        expect(_react1.screen.getByText('Descuento')).toBeInTheDocument();
        expect(_react1.screen.getByText('especial')).toBeInTheDocument();
    });
    it('shows installments information when provided', ()=>{
        const installments = {
            quantity: 3,
            amount: 6450,
            interestFree: true
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            installments: installments
        }));
        expect(_react1.screen.getByText('3x de $6.450 sin interés')).toBeInTheDocument();
    });
    it('shows free shipping when freeShipping is true', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            freeShipping: true
        }));
        expect(_react1.screen.getByAltText('Envío gratis')).toBeInTheDocument();
    });
    it('shows free shipping automatically for prices >= 15000', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            price: 20000
        }));
        expect(_react1.screen.getByAltText('Envío gratis')).toBeInTheDocument();
    });
    it('shows delivery location when provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            freeShipping: true,
            deliveryLocation: "Llega gratis hoy en C\xf3rdoba Capital"
        }));
        // Ahora solo muestra el ícono, no el texto de ubicación
        expect(_react1.screen.getByAltText('Envío gratis')).toBeInTheDocument();
    });
    it('calls onAddToCart when button is clicked', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps
        }));
        const button = _react1.screen.getByTestId('add-to-cart-btn');
        _react1.fireEvent.click(button);
        expect(defaultProps.onAddToCart).toHaveBeenCalledTimes(1);
    });
    it('shows loading state when adding to cart', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            showCartAnimation: true
        }));
        const button = _react1.screen.getByTestId('add-to-cart-btn');
        _react1.fireEvent.click(button);
        // Verificar que el botón está deshabilitado durante la carga
        expect(button).toBeDisabled();
        // Verificar que aparece el texto "Agregando..." (puede estar oculto en mobile)
        await (0, _react1.waitFor)(()=>{
            const loadingTexts = _react1.screen.getAllByText(/Agregando|\.\.\./);
            expect(loadingTexts.length).toBeGreaterThan(0);
        }, {
            timeout: 100
        });
        // Verificar que después de 1 segundo el botón vuelve a estar habilitado
        await (0, _react1.waitFor)(()=>{
            expect(button).not.toBeDisabled();
        }, {
            timeout: 1200
        });
    });
    it('disables button when stock is 0', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            stock: 0
        }));
        const button = _react1.screen.getByTestId('add-to-cart-btn');
        expect(button).toBeDisabled();
        expect(_react1.screen.getByText('Sin stock')).toBeInTheDocument();
    });
    it('shows placeholder when no image is provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            image: undefined
        }));
        const placeholder = _react1.screen.getByAltText('Sin imagen');
        expect(placeholder).toBeInTheDocument();
    });
    it('handles image error by showing placeholder', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps
        }));
        const image = _react1.screen.getByAltText('Barniz Campbell 4L');
        _react1.fireEvent.error(image);
        expect(image).toHaveAttribute('src', '/images/products/placeholder.svg');
    });
    it('applies custom className', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            className: "custom-class"
        }));
        const card = _react1.screen.getByTestId('commercial-product-card');
        expect(card).toHaveClass('custom-class');
    });
    it('renders without brand when not provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            brand: undefined
        }));
        expect(_react1.screen.queryByText('Petrilac')).not.toBeInTheDocument();
    });
    it('renders without original price when not provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            originalPrice: undefined
        }));
        expect(_react1.screen.queryByText('$21.500')).not.toBeInTheDocument();
    });
    it('renders without discount badge when not provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            discount: undefined
        }));
        expect(_react1.screen.queryByText('10%')).not.toBeInTheDocument();
        expect(_react1.screen.queryByText('Descuento')).not.toBeInTheDocument();
        expect(_react1.screen.queryByText('especial')).not.toBeInTheDocument();
    });
    it('uses custom CTA text', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            cta: "Comprar ahora"
        }));
        expect(_react1.screen.getByText('Comprar ahora')).toBeInTheDocument();
    });
    it('renders children when provided', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "custom-child",
                children: "Custom content"
            })
        }));
        expect(_react1.screen.getByTestId('custom-child')).toBeInTheDocument();
        expect(_react1.screen.getByText('Custom content')).toBeInTheDocument();
    });
    it('handles zero price correctly', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            price: 0
        }));
        expect(_react1.screen.getByText('$0')).toBeInTheDocument();
    });
    it('formats large prices correctly', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
            ...defaultProps,
            price: 123456
        }));
        expect(_react1.screen.getByText('$123.456')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXF9fdGVzdHNfX1xcY29tbWVyY2lhbC1wcm9kdWN0LWNhcmQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcclxuaW1wb3J0IHsgQ29tbWVyY2lhbFByb2R1Y3RDYXJkIH0gZnJvbSAnLi4vcHJvZHVjdC1jYXJkLWNvbW1lcmNpYWwnXHJcblxyXG5kZXNjcmliZSgnQ29tbWVyY2lhbFByb2R1Y3RDYXJkJywgKCkgPT4ge1xyXG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGltYWdlOiAnL3Rlc3QtaW1hZ2UuanBnJyxcclxuICAgIHRpdGxlOiAnQmFybml6IENhbXBiZWxsIDRMJyxcclxuICAgIGJyYW5kOiAnUGV0cmlsYWMnLFxyXG4gICAgcHJpY2U6IDE5MzUwLFxyXG4gICAgb3JpZ2luYWxQcmljZTogMjE1MDAsXHJcbiAgICBkaXNjb3VudDogJzEwJScsXHJcbiAgICBzdG9jazogMTIsXHJcbiAgICBvbkFkZFRvQ2FydDogamVzdC5mbigpLFxyXG4gIH1cclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdyZW5kZXJzIGNvcnJlY3RseSB3aXRoIGFsbCBwcm9wcycsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IC8+KVxyXG4gICAgXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb21tZXJjaWFsLXByb2R1Y3QtY2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQmFybml6IENhbXBiZWxsIDRMJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQZXRyaWxhYycpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnJDE5LjM1MCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnJDIxLjUwMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3Nob3dzIFwiTnVldm9cIiBiYWRnZSB3aGVuIGlzTmV3IGlzIHRydWUnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENvbW1lcmNpYWxQcm9kdWN0Q2FyZCB7Li4uZGVmYXVsdFByb3BzfSBpc05ldz17dHJ1ZX0gLz4pXHJcbiAgICBcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOdWV2bycpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3Nob3dzIGRpc2NvdW50IGJhZGdlIHdoZW4gZGlzY291bnQgaXMgcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENvbW1lcmNpYWxQcm9kdWN0Q2FyZCB7Li4uZGVmYXVsdFByb3BzfSAvPilcclxuXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMTAlJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEZXNjdWVudG8nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ2VzcGVjaWFsJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgaW5zdGFsbG1lbnRzIGluZm9ybWF0aW9uIHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnN0YWxsbWVudHMgPSB7XHJcbiAgICAgIHF1YW50aXR5OiAzLFxyXG4gICAgICBhbW91bnQ6IDY0NTAsXHJcbiAgICAgIGludGVyZXN0RnJlZTogdHJ1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxDb21tZXJjaWFsUHJvZHVjdENhcmQgXHJcbiAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXHJcbiAgICAgICAgaW5zdGFsbG1lbnRzPXtpbnN0YWxsbWVudHN9XHJcbiAgICAgIC8+XHJcbiAgICApXHJcbiAgICBcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCczeCBkZSAkNi40NTAgc2luIGludGVyw6lzJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgZnJlZSBzaGlwcGluZyB3aGVuIGZyZWVTaGlwcGluZyBpcyB0cnVlJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKFxyXG4gICAgICA8Q29tbWVyY2lhbFByb2R1Y3RDYXJkXHJcbiAgICAgICAgey4uLmRlZmF1bHRQcm9wc31cclxuICAgICAgICBmcmVlU2hpcHBpbmc9e3RydWV9XHJcbiAgICAgIC8+XHJcbiAgICApXHJcblxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeUFsdFRleHQoJ0VudsOtbyBncmF0aXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdzaG93cyBmcmVlIHNoaXBwaW5nIGF1dG9tYXRpY2FsbHkgZm9yIHByaWNlcyA+PSAxNTAwMCcsICgpID0+IHtcclxuICAgIHJlbmRlcihcclxuICAgICAgPENvbW1lcmNpYWxQcm9kdWN0Q2FyZFxyXG4gICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9XHJcbiAgICAgICAgcHJpY2U9ezIwMDAwfVxyXG4gICAgICAvPlxyXG4gICAgKVxyXG5cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlBbHRUZXh0KCdFbnbDrW8gZ3JhdGlzJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgZGVsaXZlcnkgbG9jYXRpb24gd2hlbiBwcm92aWRlZCcsICgpID0+IHtcclxuICAgIHJlbmRlcihcclxuICAgICAgPENvbW1lcmNpYWxQcm9kdWN0Q2FyZFxyXG4gICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9XHJcbiAgICAgICAgZnJlZVNoaXBwaW5nPXt0cnVlfVxyXG4gICAgICAgIGRlbGl2ZXJ5TG9jYXRpb249XCJMbGVnYSBncmF0aXMgaG95IGVuIEPDs3Jkb2JhIENhcGl0YWxcIlxyXG4gICAgICAvPlxyXG4gICAgKVxyXG5cclxuICAgIC8vIEFob3JhIHNvbG8gbXVlc3RyYSBlbCDDrWNvbm8sIG5vIGVsIHRleHRvIGRlIHViaWNhY2nDs25cclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlBbHRUZXh0KCdFbnbDrW8gZ3JhdGlzJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnY2FsbHMgb25BZGRUb0NhcnQgd2hlbiBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IC8+KVxyXG4gICAgXHJcbiAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FkZC10by1jYXJ0LWJ0bicpXHJcbiAgICBmaXJlRXZlbnQuY2xpY2soYnV0dG9uKVxyXG4gICAgXHJcbiAgICBleHBlY3QoZGVmYXVsdFByb3BzLm9uQWRkVG9DYXJ0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSlcclxuICB9KVxyXG5cclxuICBpdCgnc2hvd3MgbG9hZGluZyBzdGF0ZSB3aGVuIGFkZGluZyB0byBjYXJ0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDb21tZXJjaWFsUHJvZHVjdENhcmQgey4uLmRlZmF1bHRQcm9wc30gc2hvd0NhcnRBbmltYXRpb249e3RydWV9IC8+KVxyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnYWRkLXRvLWNhcnQtYnRuJylcclxuICAgIGZpcmVFdmVudC5jbGljayhidXR0b24pXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBib3TDs24gZXN0w6EgZGVzaGFiaWxpdGFkbyBkdXJhbnRlIGxhIGNhcmdhXHJcbiAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKVxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgYXBhcmVjZSBlbCB0ZXh0byBcIkFncmVnYW5kby4uLlwiIChwdWVkZSBlc3RhciBvY3VsdG8gZW4gbW9iaWxlKVxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxvYWRpbmdUZXh0cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL0FncmVnYW5kb3xcXC5cXC5cXC4vKVxyXG4gICAgICBleHBlY3QobG9hZGluZ1RleHRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApXHJcbiAgICB9LCB7IHRpbWVvdXQ6IDEwMCB9KVxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgZGVzcHXDqXMgZGUgMSBzZWd1bmRvIGVsIGJvdMOzbiB2dWVsdmUgYSBlc3RhciBoYWJpbGl0YWRvXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KGJ1dHRvbikubm90LnRvQmVEaXNhYmxlZCgpXHJcbiAgICB9LCB7IHRpbWVvdXQ6IDEyMDAgfSlcclxuICB9KVxyXG5cclxuICBpdCgnZGlzYWJsZXMgYnV0dG9uIHdoZW4gc3RvY2sgaXMgMCcsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IHN0b2NrPXswfSAvPilcclxuICAgIFxyXG4gICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdhZGQtdG8tY2FydC1idG4nKVxyXG4gICAgZXhwZWN0KGJ1dHRvbikudG9CZURpc2FibGVkKClcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTaW4gc3RvY2snKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdzaG93cyBwbGFjZWhvbGRlciB3aGVuIG5vIGltYWdlIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDb21tZXJjaWFsUHJvZHVjdENhcmQgey4uLmRlZmF1bHRQcm9wc30gaW1hZ2U9e3VuZGVmaW5lZH0gLz4pXHJcbiAgICBcclxuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gc2NyZWVuLmdldEJ5QWx0VGV4dCgnU2luIGltYWdlbicpXHJcbiAgICBleHBlY3QocGxhY2Vob2xkZXIpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnaGFuZGxlcyBpbWFnZSBlcnJvciBieSBzaG93aW5nIHBsYWNlaG9sZGVyJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDb21tZXJjaWFsUHJvZHVjdENhcmQgey4uLmRlZmF1bHRQcm9wc30gLz4pXHJcbiAgICBcclxuICAgIGNvbnN0IGltYWdlID0gc2NyZWVuLmdldEJ5QWx0VGV4dCgnQmFybml6IENhbXBiZWxsIDRMJylcclxuICAgIGZpcmVFdmVudC5lcnJvcihpbWFnZSlcclxuICAgIFxyXG4gICAgZXhwZWN0KGltYWdlKS50b0hhdmVBdHRyaWJ1dGUoJ3NyYycsICcvaW1hZ2VzL3Byb2R1Y3RzL3BsYWNlaG9sZGVyLnN2ZycpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2FwcGxpZXMgY3VzdG9tIGNsYXNzTmFtZScsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+KVxyXG4gICAgXHJcbiAgICBjb25zdCBjYXJkID0gc2NyZWVuLmdldEJ5VGVzdElkKCdjb21tZXJjaWFsLXByb2R1Y3QtY2FyZCcpXHJcbiAgICBleHBlY3QoY2FyZCkudG9IYXZlQ2xhc3MoJ2N1c3RvbS1jbGFzcycpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aG91dCBicmFuZCB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IGJyYW5kPXt1bmRlZmluZWR9IC8+KVxyXG4gICAgXHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdQZXRyaWxhYycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdyZW5kZXJzIHdpdGhvdXQgb3JpZ2luYWwgcHJpY2Ugd2hlbiBub3QgcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPENvbW1lcmNpYWxQcm9kdWN0Q2FyZCB7Li4uZGVmYXVsdFByb3BzfSBvcmlnaW5hbFByaWNlPXt1bmRlZmluZWR9IC8+KVxyXG4gICAgXHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCckMjEuNTAwJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ3JlbmRlcnMgd2l0aG91dCBkaXNjb3VudCBiYWRnZSB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IGRpc2NvdW50PXt1bmRlZmluZWR9IC8+KVxyXG5cclxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJzEwJScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnRGVzY3VlbnRvJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdlc3BlY2lhbCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCd1c2VzIGN1c3RvbSBDVEEgdGV4dCcsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IGN0YT1cIkNvbXByYXIgYWhvcmFcIiAvPilcclxuICAgIFxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbXByYXIgYWhvcmEnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdyZW5kZXJzIGNoaWxkcmVuIHdoZW4gcHJvdmlkZWQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoXHJcbiAgICAgIDxDb21tZXJjaWFsUHJvZHVjdENhcmQgey4uLmRlZmF1bHRQcm9wc30+XHJcbiAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImN1c3RvbS1jaGlsZFwiPkN1c3RvbSBjb250ZW50PC9kaXY+XHJcbiAgICAgIDwvQ29tbWVyY2lhbFByb2R1Y3RDYXJkPlxyXG4gICAgKVxyXG4gICAgXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjdXN0b20tY2hpbGQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0N1c3RvbSBjb250ZW50JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnaGFuZGxlcyB6ZXJvIHByaWNlIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgIHJlbmRlcig8Q29tbWVyY2lhbFByb2R1Y3RDYXJkIHsuLi5kZWZhdWx0UHJvcHN9IHByaWNlPXswfSAvPilcclxuICAgIFxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJyQwJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICB9KVxyXG5cclxuICBpdCgnZm9ybWF0cyBsYXJnZSBwcmljZXMgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxDb21tZXJjaWFsUHJvZHVjdENhcmQgey4uLmRlZmF1bHRQcm9wc30gcHJpY2U9ezEyMzQ1Nn0gLz4pXHJcbiAgICBcclxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCckMTIzLjQ1NicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiZGVmYXVsdFByb3BzIiwiaW1hZ2UiLCJ0aXRsZSIsImJyYW5kIiwicHJpY2UiLCJvcmlnaW5hbFByaWNlIiwiZGlzY291bnQiLCJzdG9jayIsIm9uQWRkVG9DYXJ0IiwiamVzdCIsImZuIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIkNvbW1lcmNpYWxQcm9kdWN0Q2FyZCIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGVzdElkIiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVRleHQiLCJpc05ldyIsImluc3RhbGxtZW50cyIsInF1YW50aXR5IiwiYW1vdW50IiwiaW50ZXJlc3RGcmVlIiwiZnJlZVNoaXBwaW5nIiwiZ2V0QnlBbHRUZXh0IiwiZGVsaXZlcnlMb2NhdGlvbiIsImJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwic2hvd0NhcnRBbmltYXRpb24iLCJ0b0JlRGlzYWJsZWQiLCJ3YWl0Rm9yIiwibG9hZGluZ1RleHRzIiwiZ2V0QWxsQnlUZXh0IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidGltZW91dCIsIm5vdCIsInVuZGVmaW5lZCIsInBsYWNlaG9sZGVyIiwiZXJyb3IiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJjbGFzc05hbWUiLCJjYXJkIiwidG9IYXZlQ2xhc3MiLCJxdWVyeUJ5VGV4dCIsImN0YSIsImRpdiIsImRhdGEtdGVzdGlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs4REFBa0I7d0JBQ2lDO3VDQUNiOzs7Ozs7QUFFdENBLFNBQVMseUJBQXlCO0lBQ2hDLE1BQU1DLGVBQWU7UUFDbkJDLE9BQU87UUFDUEMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMs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