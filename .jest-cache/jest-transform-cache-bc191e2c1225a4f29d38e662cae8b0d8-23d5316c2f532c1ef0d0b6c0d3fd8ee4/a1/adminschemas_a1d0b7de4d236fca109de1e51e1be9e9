f7f1cf6211ec9778fc42f80f3ce496f6
// ğŸ”§ Enterprise Validation Schemas
"use strict";

/* istanbul ignore next */
function cov_wk84njj5r() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts";
  var hash = "b5c4059aec21e61f66da31b3184958cd99abe26f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 25,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 36
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 35
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 29
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 30
        }
      },
      "8": {
        start: {
          line: 26,
          column: 13
        },
        end: {
          line: 26,
          column: 27
        }
      },
      "9": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 38
        }
      },
      "10": {
        start: {
          line: 28,
          column: 22
        },
        end: {
          line: 50,
          column: 2
        }
      },
      "11": {
        start: {
          line: 51,
          column: 29
        },
        end: {
          line: 70,
          column: 2
        }
      },
      "12": {
        start: {
          line: 71,
          column: 28
        },
        end: {
          line: 73,
          column: 2
        }
      },
      "13": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 125,
          column: 6
        }
      },
      "14": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 124,
          column: 10
        }
      },
      "15": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 123,
          column: 13
        }
      },
      "16": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 96,
          column: 17
        }
      },
      "17": {
        start: {
          line: 81,
          column: 45
        },
        end: {
          line: 81,
          column: 65
        }
      },
      "18": {
        start: {
          line: 82,
          column: 20
        },
        end: {
          line: 82,
          column: 70
        }
      },
      "19": {
        start: {
          line: 84,
          column: 20
        },
        end: {
          line: 92,
          column: 23
        }
      },
      "20": {
        start: {
          line: 85,
          column: 24
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "21": {
        start: {
          line: 86,
          column: 28
        },
        end: {
          line: 86,
          column: 45
        }
      },
      "22": {
        start: {
          line: 87,
          column: 31
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "23": {
        start: {
          line: 88,
          column: 28
        },
        end: {
          line: 88,
          column: 46
        }
      },
      "24": {
        start: {
          line: 89,
          column: 31
        },
        end: {
          line: 91,
          column: 25
        }
      },
      "25": {
        start: {
          line: 90,
          column: 28
        },
        end: {
          line: 90,
          column: 58
        }
      },
      "26": {
        start: {
          line: 95,
          column: 20
        },
        end: {
          line: 95,
          column: 48
        }
      },
      "27": {
        start: {
          line: 97,
          column: 41
        },
        end: {
          line: 97,
          column: 63
        }
      },
      "28": {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 109,
          column: 17
        }
      },
      "29": {
        start: {
          line: 99,
          column: 20
        },
        end: {
          line: 108,
          column: 23
        }
      },
      "30": {
        start: {
          line: 110,
          column: 16
        },
        end: {
          line: 110,
          column: 62
        }
      },
      "31": {
        start: {
          line: 111,
          column: 16
        },
        end: {
          line: 111,
          column: 55
        }
      },
      "32": {
        start: {
          line: 113,
          column: 16
        },
        end: {
          line: 113,
          column: 69
        }
      },
      "33": {
        start: {
          line: 114,
          column: 16
        },
        end: {
          line: 122,
          column: 19
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 32
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 31
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 25
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 26
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      },
      "5": {
        name: "withValidation",
        decl: {
          start: {
            line: 74,
            column: 9
          },
          end: {
            line: 74,
            column: 23
          }
        },
        loc: {
          start: {
            line: 74,
            column: 32
          },
          end: {
            line: 126,
            column: 1
          }
        },
        line: 74
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 75,
            column: 11
          },
          end: {
            line: 75,
            column: 12
          }
        },
        loc: {
          start: {
            line: 75,
            column: 29
          },
          end: {
            line: 125,
            column: 5
          }
        },
        line: 75
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 76,
            column: 15
          },
          end: {
            line: 76,
            column: 16
          }
        },
        loc: {
          start: {
            line: 76,
            column: 48
          },
          end: {
            line: 124,
            column: 9
          }
        },
        line: 76
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 84,
            column: 46
          },
          end: {
            line: 84,
            column: 47
          }
        },
        loc: {
          start: {
            line: 84,
            column: 53
          },
          end: {
            line: 92,
            column: 21
          }
        },
        line: 84
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 96,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 96,
            column: 17
          }
        }, {
          start: {
            line: 93,
            column: 23
          },
          end: {
            line: 96,
            column: 17
          }
        }],
        line: 79
      },
      "1": {
        loc: {
          start: {
            line: 85,
            column: 24
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 24
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }],
        line: 85
      },
      "2": {
        loc: {
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }],
        line: 87
      },
      "3": {
        loc: {
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 31
          },
          end: {
            line: 91,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "4": {
        loc: {
          start: {
            line: 89,
            column: 35
          },
          end: {
            line: 89,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 89,
            column: 35
          },
          end: {
            line: 89,
            column: 60
          }
        }, {
          start: {
            line: 89,
            column: 64
          },
          end: {
            line: 89,
            column: 80
          }
        }],
        line: 89
      },
      "5": {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 98
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validation\\admin-schemas.ts"],
      sourcesContent: ["// \uD83D\uDD27 Enterprise Validation Schemas\r\n\r\nimport { z } from 'zod';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport const ProductSchema = z.object({\r\n  name: z.string().min(1, 'Nombre requerido').max(255),\r\n  description: z.string().optional(),\r\n  short_description: z.string().max(500).optional(),\r\n  price: z.number().positive('Precio debe ser positivo'),\r\n  discounted_price: z.number().positive().optional(),\r\n  stock: z.number().int().min(0, 'Stock no puede ser negativo'),\r\n  low_stock_threshold: z.number().int().min(0).optional(),\r\n  category_id: z.string().uuid('ID de categor\xEDa inv\xE1lido'),\r\n  brand: z.string().optional(),\r\n  images: z.array(z.object({\r\n    url: z.string().url(),\r\n    alt_text: z.string().optional(),\r\n    is_primary: z.boolean().default(false)\r\n  })).optional(),\r\n  is_active: z.boolean().default(true),\r\n  is_featured: z.boolean().default(false),\r\n  status: z.enum(['active', 'inactive', 'draft']).default('draft')\r\n});\r\n\r\nexport const ProductFiltersSchema = z.object({\r\n  page: z.coerce.number().int().positive().default(1),\r\n  limit: z.coerce.number().int().min(1).max(100).default(10),\r\n  search: z.string().optional(),\r\n  category_id: z.string().uuid().optional(),\r\n  is_active: z.boolean().optional(),\r\n  is_featured: z.boolean().optional(),\r\n  price_min: z.coerce.number().positive().optional(),\r\n  price_max: z.coerce.number().positive().optional(),\r\n  sort_by: z.enum(['name', 'price', 'stock', 'created_at']).default('created_at'),\r\n  sort_order: z.enum(['asc', 'desc']).default('desc')\r\n});\r\n\r\nexport const ProductParamsSchema = z.object({\r\n  id: z.string().uuid('ID de producto inv\xE1lido')\r\n});\r\n\r\n// Middleware de validaci\xF3n\r\nexport function withValidation(schema: z.ZodSchema) {\r\n  return function (handler: Function) {\r\n    return async function (request: NextRequest, context: any) {\r\n      try {\r\n        let data;\r\n        \r\n        if (request.method === 'GET') {\r\n          // Validar query parameters\r\n          const { searchParams } = new URL(request.url);\r\n          data = Object.fromEntries(searchParams.entries());\r\n          \r\n          // Convertir tipos para n\xFAmeros y booleans\r\n          Object.keys(data).forEach(key => {\r\n            if (data[key] === 'true') {data[key] = true;}\r\n            else if (data[key] === 'false') {data[key] = false;}\r\n            else if (!isNaN(Number(data[key])) && data[key] !== '') {\r\n              data[key] = Number(data[key]);\r\n            }\r\n          });\r\n        } else {\r\n          // Validar body para POST/PUT\r\n          data = await request.json();\r\n        }\r\n\r\n        const validationResult = schema.safeParse(data);\r\n\r\n        if (!validationResult.success) {\r\n          return NextResponse.json(\r\n            {\r\n              success: false,\r\n              error: 'Datos de entrada inv\xE1lidos',\r\n              code: 'VALIDATION_ERROR',\r\n              details: validationResult.error.errors,\r\n              timestamp: new Date().toISOString(),\r\n              path: request.url\r\n            },\r\n            { status: 422 }\r\n          );\r\n        }\r\n\r\n        (request as any).validatedData = validationResult.data;\r\n        return await handler(request, context);\r\n      } catch (error) {\r\n        console.error('Validation middleware error:', error);\r\n        return NextResponse.json(\r\n          {\r\n            success: false,\r\n            error: 'Error de validaci\xF3n',\r\n            code: 'VALIDATION_MIDDLEWARE_ERROR',\r\n            timestamp: new Date().toISOString(),\r\n            path: request.url\r\n          },\r\n          { status: 500 }\r\n        );\r\n      }\r\n    };\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["ProductFiltersSchema", "ProductParamsSchema", "ProductSchema", "withValidation", "z", "object", "name", "string", "min", "max", "description", "optional", "short_description", "price", "number", "positive", "discounted_price", "stock", "int", "low_stock_threshold", "category_id", "uuid", "brand", "images", "array", "url", "alt_text", "is_primary", "boolean", "default", "is_active", "is_featured", "status", "enum", "page", "coerce", "limit", "search", "price_min", "price_max", "sort_by", "sort_order", "id", "schema", "handler", "request", "context", "data", "method", "searchParams", "URL", "Object", "fromEntries", "entries", "keys", "forEach", "key", "isNaN", "Number", "json", "validationResult", "safeParse", "success", "NextResponse", "error", "code", "details", "errors", "timestamp", "Date", "toISOString", "path", "validatedData", "console"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "b5c4059aec21e61f66da31b3184958cd99abe26f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_wk84njj5r = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_wk84njj5r();
cov_wk84njj5r().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_wk84njj5r().f[0]++;
  cov_wk84njj5r().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_wk84njj5r().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_wk84njj5r().s[3]++;
_export(exports, {
  get ProductFiltersSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[1]++;
    cov_wk84njj5r().s[4]++;
    return ProductFiltersSchema;
  },
  get ProductParamsSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[2]++;
    cov_wk84njj5r().s[5]++;
    return ProductParamsSchema;
  },
  get ProductSchema() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[3]++;
    cov_wk84njj5r().s[6]++;
    return ProductSchema;
  },
  get withValidation() {
    /* istanbul ignore next */
    cov_wk84njj5r().f[4]++;
    cov_wk84njj5r().s[7]++;
    return withValidation;
  }
});
const _zod =
/* istanbul ignore next */
(cov_wk84njj5r().s[8]++, require("zod"));
const _server =
/* istanbul ignore next */
(cov_wk84njj5r().s[9]++, require("next/server"));
const ProductSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[10]++, _zod.z.object({
  name: _zod.z.string().min(1, 'Nombre requerido').max(255),
  description: _zod.z.string().optional(),
  short_description: _zod.z.string().max(500).optional(),
  price: _zod.z.number().positive('Precio debe ser positivo'),
  discounted_price: _zod.z.number().positive().optional(),
  stock: _zod.z.number().int().min(0, 'Stock no puede ser negativo'),
  low_stock_threshold: _zod.z.number().int().min(0).optional(),
  category_id: _zod.z.string().uuid('ID de categorÃ­a invÃ¡lido'),
  brand: _zod.z.string().optional(),
  images: _zod.z.array(_zod.z.object({
    url: _zod.z.string().url(),
    alt_text: _zod.z.string().optional(),
    is_primary: _zod.z.boolean().default(false)
  })).optional(),
  is_active: _zod.z.boolean().default(true),
  is_featured: _zod.z.boolean().default(false),
  status: _zod.z.enum(['active', 'inactive', 'draft']).default('draft')
}));
const ProductFiltersSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[11]++, _zod.z.object({
  page: _zod.z.coerce.number().int().positive().default(1),
  limit: _zod.z.coerce.number().int().min(1).max(100).default(10),
  search: _zod.z.string().optional(),
  category_id: _zod.z.string().uuid().optional(),
  is_active: _zod.z.boolean().optional(),
  is_featured: _zod.z.boolean().optional(),
  price_min: _zod.z.coerce.number().positive().optional(),
  price_max: _zod.z.coerce.number().positive().optional(),
  sort_by: _zod.z.enum(['name', 'price', 'stock', 'created_at']).default('created_at'),
  sort_order: _zod.z.enum(['asc', 'desc']).default('desc')
}));
const ProductParamsSchema =
/* istanbul ignore next */
(cov_wk84njj5r().s[12]++, _zod.z.object({
  id: _zod.z.string().uuid('ID de producto invÃ¡lido')
}));
function withValidation(schema) {
  /* istanbul ignore next */
  cov_wk84njj5r().f[5]++;
  cov_wk84njj5r().s[13]++;
  return function (handler) {
    /* istanbul ignore next */
    cov_wk84njj5r().f[6]++;
    cov_wk84njj5r().s[14]++;
    return async function (request, context) {
      /* istanbul ignore next */
      cov_wk84njj5r().f[7]++;
      cov_wk84njj5r().s[15]++;
      try {
        let data;
        /* istanbul ignore next */
        cov_wk84njj5r().s[16]++;
        if (request.method === 'GET') {
          /* istanbul ignore next */
          cov_wk84njj5r().b[0][0]++;
          // Validar query parameters
          const {
            searchParams
          } =
          /* istanbul ignore next */
          (cov_wk84njj5r().s[17]++, new URL(request.url));
          /* istanbul ignore next */
          cov_wk84njj5r().s[18]++;
          data = Object.fromEntries(searchParams.entries());
          // Convertir tipos para nÃºmeros y booleans
          /* istanbul ignore next */
          cov_wk84njj5r().s[19]++;
          Object.keys(data).forEach(key => {
            /* istanbul ignore next */
            cov_wk84njj5r().f[8]++;
            cov_wk84njj5r().s[20]++;
            if (data[key] === 'true') {
              /* istanbul ignore next */
              cov_wk84njj5r().b[1][0]++;
              cov_wk84njj5r().s[21]++;
              data[key] = true;
            } else {
              /* istanbul ignore next */
              cov_wk84njj5r().b[1][1]++;
              cov_wk84njj5r().s[22]++;
              if (data[key] === 'false') {
                /* istanbul ignore next */
                cov_wk84njj5r().b[2][0]++;
                cov_wk84njj5r().s[23]++;
                data[key] = false;
              } else {
                /* istanbul ignore next */
                cov_wk84njj5r().b[2][1]++;
                cov_wk84njj5r().s[24]++;
                if (
                /* istanbul ignore next */
                (cov_wk84njj5r().b[4][0]++, !isNaN(Number(data[key]))) &&
                /* istanbul ignore next */
                (cov_wk84njj5r().b[4][1]++, data[key] !== '')) {
                  /* istanbul ignore next */
                  cov_wk84njj5r().b[3][0]++;
                  cov_wk84njj5r().s[25]++;
                  data[key] = Number(data[key]);
                } else
                /* istanbul ignore next */
                {
                  cov_wk84njj5r().b[3][1]++;
                }
              }
            }
          });
        } else {
          /* istanbul ignore next */
          cov_wk84njj5r().b[0][1]++;
          cov_wk84njj5r().s[26]++;
          // Validar body para POST/PUT
          data = await request.json();
        }
        const validationResult =
        /* istanbul ignore next */
        (cov_wk84njj5r().s[27]++, schema.safeParse(data));
        /* istanbul ignore next */
        cov_wk84njj5r().s[28]++;
        if (!validationResult.success) {
          /* istanbul ignore next */
          cov_wk84njj5r().b[5][0]++;
          cov_wk84njj5r().s[29]++;
          return _server.NextResponse.json({
            success: false,
            error: 'Datos de entrada invÃ¡lidos',
            code: 'VALIDATION_ERROR',
            details: validationResult.error.errors,
            timestamp: new Date().toISOString(),
            path: request.url
          }, {
            status: 422
          });
        } else
        /* istanbul ignore next */
        {
          cov_wk84njj5r().b[5][1]++;
        }
        cov_wk84njj5r().s[30]++;
        request.validatedData = validationResult.data;
        /* istanbul ignore next */
        cov_wk84njj5r().s[31]++;
        return await handler(request, context);
      } catch (error) {
        /* istanbul ignore next */
        cov_wk84njj5r().s[32]++;
        console.error('Validation middleware error:', error);
        /* istanbul ignore next */
        cov_wk84njj5r().s[33]++;
        return _server.NextResponse.json({
          success: false,
          error: 'Error de validaciÃ³n',
          code: 'VALIDATION_MIDDLEWARE_ERROR',
          timestamp: new Date().toISOString(),
          path: request.url
        }, {
          status: 500
        });
      }
    };
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfd2s4NG5qajVyIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiUHJvZHVjdEZpbHRlcnNTY2hlbWEiLCJmIiwiUHJvZHVjdFBhcmFtc1NjaGVtYSIsIlByb2R1Y3RTY2hlbWEiLCJ3aXRoVmFsaWRhdGlvbiIsIl96b2QiLCJ6Iiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsIm1heCIsImRlc2NyaXB0aW9uIiwib3B0aW9uYWwiLCJzaG9ydF9kZXNjcmlwdGlvbiIsInByaWNlIiwibnVtYmVyIiwicG9zaXRpdmUiLCJkaXNjb3VudGVkX3ByaWNlIiwic3RvY2siLCJpbnQiLCJsb3dfc3RvY2tfdGhyZXNob2xkIiwiY2F0ZWdvcnlfaWQiLCJ1dWlkIiwiYnJhbmQiLCJpbWFnZXMiLCJhcnJheSIsInVybCIsImFsdF90ZXh0IiwiaXNfcHJpbWFyeSIsImJvb2xlYW4iLCJkZWZhdWx0IiwiaXNfYWN0aXZlIiwiaXNfZmVhdHVyZWQiLCJzdGF0dXMiLCJlbnVtIiwicGFnZSIsImNvZXJjZSIsImxpbWl0Iiwic2VhcmNoIiwicHJpY2VfbWluIiwicHJpY2VfbWF4Iiwic29ydF9ieSIsInNvcnRfb3JkZXIiLCJpZCIsInNjaGVtYSIsImhhbmRsZXIiLCJyZXF1ZXN0IiwiY29udGV4dCIsImRhdGEiLCJtZXRob2QiLCJiIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpc05hTiIsIk51bWJlciIsImpzb24iLCJ2YWxpZGF0aW9uUmVzdWx0Iiwic2FmZVBhcnNlIiwic3VjY2VzcyIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJlcnJvciIsImNvZGUiLCJkZXRhaWxzIiwiZXJyb3JzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGF0aCIsInZhbGlkYXRlZERhdGEiLCJjb25zb2xlIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxsaWJcXHZhbGlkYXRpb25cXGFkbWluLXNjaGVtYXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g8J+UpyBFbnRlcnByaXNlIFZhbGlkYXRpb24gU2NoZW1hc1xyXG5cclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcblxyXG5leHBvcnQgY29uc3QgUHJvZHVjdFNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBuYW1lOiB6LnN0cmluZygpLm1pbigxLCAnTm9tYnJlIHJlcXVlcmlkbycpLm1heCgyNTUpLFxyXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgc2hvcnRfZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWF4KDUwMCkub3B0aW9uYWwoKSxcclxuICBwcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgnUHJlY2lvIGRlYmUgc2VyIHBvc2l0aXZvJyksXHJcbiAgZGlzY291bnRlZF9wcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLm9wdGlvbmFsKCksXHJcbiAgc3RvY2s6IHoubnVtYmVyKCkuaW50KCkubWluKDAsICdTdG9jayBubyBwdWVkZSBzZXIgbmVnYXRpdm8nKSxcclxuICBsb3dfc3RvY2tfdGhyZXNob2xkOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxyXG4gIGNhdGVnb3J5X2lkOiB6LnN0cmluZygpLnV1aWQoJ0lEIGRlIGNhdGVnb3LDrWEgaW52w6FsaWRvJyksXHJcbiAgYnJhbmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBpbWFnZXM6IHouYXJyYXkoei5vYmplY3Qoe1xyXG4gICAgdXJsOiB6LnN0cmluZygpLnVybCgpLFxyXG4gICAgYWx0X3RleHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICAgIGlzX3ByaW1hcnk6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpXHJcbiAgfSkpLm9wdGlvbmFsKCksXHJcbiAgaXNfYWN0aXZlOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxyXG4gIGlzX2ZlYXR1cmVkOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcclxuICBzdGF0dXM6IHouZW51bShbJ2FjdGl2ZScsICdpbmFjdGl2ZScsICdkcmFmdCddKS5kZWZhdWx0KCdkcmFmdCcpXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFByb2R1Y3RGaWx0ZXJzU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIHBhZ2U6IHouY29lcmNlLm51bWJlcigpLmludCgpLnBvc2l0aXZlKCkuZGVmYXVsdCgxKSxcclxuICBsaW1pdDogei5jb2VyY2UubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgxMDApLmRlZmF1bHQoMTApLFxyXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGNhdGVnb3J5X2lkOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLFxyXG4gIGlzX2FjdGl2ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBpc19mZWF0dXJlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBwcmljZV9taW46IHouY29lcmNlLm51bWJlcigpLnBvc2l0aXZlKCkub3B0aW9uYWwoKSxcclxuICBwcmljZV9tYXg6IHouY29lcmNlLm51bWJlcigpLnBvc2l0aXZlKCkub3B0aW9uYWwoKSxcclxuICBzb3J0X2J5OiB6LmVudW0oWyduYW1lJywgJ3ByaWNlJywgJ3N0b2NrJywgJ2NyZWF0ZWRfYXQnXSkuZGVmYXVsdCgnY3JlYXRlZF9hdCcpLFxyXG4gIHNvcnRfb3JkZXI6IHouZW51bShbJ2FzYycsICdkZXNjJ10pLmRlZmF1bHQoJ2Rlc2MnKVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBQcm9kdWN0UGFyYW1zU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIGlkOiB6LnN0cmluZygpLnV1aWQoJ0lEIGRlIHByb2R1Y3RvIGludsOhbGlkbycpXHJcbn0pO1xyXG5cclxuLy8gTWlkZGxld2FyZSBkZSB2YWxpZGFjacOzblxyXG5leHBvcnQgZnVuY3Rpb24gd2l0aFZhbGlkYXRpb24oc2NoZW1hOiB6LlpvZFNjaGVtYSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcjogRnVuY3Rpb24pIHtcclxuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAocmVxdWVzdDogTmV4dFJlcXVlc3QsIGNvbnRleHQ6IGFueSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxldCBkYXRhO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgICAgIC8vIFZhbGlkYXIgcXVlcnkgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgICAgICAgZGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhzZWFyY2hQYXJhbXMuZW50cmllcygpKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ29udmVydGlyIHRpcG9zIHBhcmEgbsO6bWVyb3MgeSBib29sZWFuc1xyXG4gICAgICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVtrZXldID09PSAndHJ1ZScpIHtkYXRhW2tleV0gPSB0cnVlO31cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtrZXldID09PSAnZmFsc2UnKSB7ZGF0YVtrZXldID0gZmFsc2U7fVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNOYU4oTnVtYmVyKGRhdGFba2V5XSkpICYmIGRhdGFba2V5XSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICBkYXRhW2tleV0gPSBOdW1iZXIoZGF0YVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFZhbGlkYXIgYm9keSBwYXJhIFBPU1QvUFVUXHJcbiAgICAgICAgICBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gc2NoZW1hLnNhZmVQYXJzZShkYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGVycm9yOiAnRGF0b3MgZGUgZW50cmFkYSBpbnbDoWxpZG9zJyxcclxuICAgICAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXHJcbiAgICAgICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvblJlc3VsdC5lcnJvci5lcnJvcnMsXHJcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdC51cmxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQyMiB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKHJlcXVlc3QgYXMgYW55KS52YWxpZGF0ZWREYXRhID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVyKHJlcXVlc3QsIGNvbnRleHQpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gbWlkZGxld2FyZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdFcnJvciBkZSB2YWxpZGFjacOzbicsXHJcbiAgICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX01JRERMRVdBUkVfRVJST1InLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgcGF0aDogcmVxdWVzdC51cmxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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O1VBQUF0RCxhQUFBLEdBQUFFLENBQUE7VUFDTDtVQUNBa0QsSUFBQSxHQUFPLE1BQU1GLE9BQUEsQ0FBUWUsSUFBSTtRQUMzQjtRQUVBLE1BQU1DLGdCQUFBO1FBQUE7UUFBQSxDQUFBbEUsYUFBQSxHQUFBRSxDQUFBLFFBQW1COEMsTUFBQSxDQUFPbUIsU0FBUyxDQUFDZixJQUFBO1FBQUE7UUFBQXBELGFBQUEsR0FBQUUsQ0FBQTtRQUUxQyxJQUFJLENBQUNnRSxnQkFBQSxDQUFpQkUsT0FBTyxFQUFFO1VBQUE7VUFBQXBFLGFBQUEsR0FBQXNELENBQUE7VUFBQXRELGFBQUEsR0FBQUUsQ0FBQTtVQUM3QixPQUFPbUUsT0FBQSxDQUFBQyxZQUFZLENBQUNMLElBQUksQ0FDdEI7WUFDRUcsT0FBQSxFQUFTO1lBQ1RHLEtBQUEsRUFBTztZQUNQQyxJQUFBLEVBQU07WUFDTkMsT0FBQSxFQUFTUCxnQkFBQSxDQUFpQkssS0FBSyxDQUFDRyxNQUFNO1lBQ3RDQyxTQUFBLEVBQVcsSUFBSUMsSUFBQSxHQUFPQyxXQUFXO1lBQ2pDQyxJQUFBLEVBQU01QixPQUFBLENBQVFwQjtVQUNoQixHQUNBO1lBQUVPLE1BQUEsRUFBUTtVQUFJO1FBRWxCO1FBQUE7UUFBQTtVQUFBckMsYUFBQSxHQUFBc0QsQ0FBQTtRQUFBO1FBQUF0RCxhQUFBLEdBQUFFLENBQUE7UUFFQ2dELE9BQUEsQ0FBZ0I2QixhQUFhLEdBQUdiLGdCQUFBLENBQWlCZCxJQUFJO1FBQUE7UUFBQXBELGFBQUEsR0FBQUUsQ0FBQTtRQUN0RCxPQUFPLE1BQU0rQyxPQUFBLENBQVFDLE9BQUEsRUFBU0MsT0FBQTtNQUNoQyxFQUFFLE9BQU9vQixLQUFBLEVBQU87UUFBQTtRQUFBdkUsYUFBQSxHQUFBRSxDQUFBO1FBQ2Q4RSxPQUFBLENBQVFULEtBQUssQ0FBQyxnQ0FBZ0NBLEtBQUE7UUFBQTtRQUFBdkUsYUFBQSxHQUFBRSxDQUFBO1FBQzlDLE9BQU9tRSxPQUFBLENBQUFDLFlBQVksQ0FBQ0wsSUFBSSxDQUN0QjtVQUNFRyxPQUFBLEVBQVM7VUFDVEcsS0FBQSxFQUFPO1VBQ1BDLElBQUEsRUFBTTtVQUNORyxTQUFBLEVBQVcsSUFBSUMsSUFBQSxHQUFPQyxXQUFXO1VBQ2pDQyxJQUFBLEVBQU01QixPQUFBLENBQVFwQjtRQUNoQixHQUNBO1VBQUVPLE1BQUEsRUFBUTtRQUFJO01BRWxCO0lBQ0Y7RUFDRjtBQUNGIiwiaWdub3JlTGlzdCI6W119