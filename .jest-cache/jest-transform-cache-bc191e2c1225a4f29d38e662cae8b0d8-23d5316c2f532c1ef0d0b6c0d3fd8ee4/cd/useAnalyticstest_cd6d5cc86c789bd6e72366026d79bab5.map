{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useAnalytics.test.ts"],"sourcesContent":["/**\r\n * useAnalytics Hook Tests\r\n * Enterprise-ready test suite for analytics tracking\r\n * Pinteya E-commerce\r\n */\r\n\r\nimport { renderHook, act } from '@testing-library/react';\r\nimport { useAnalytics, useRealTimeMetrics } from '@/hooks/useAnalytics';\r\nimport { analytics } from '@/lib/integrations/analytics';\r\n\r\n// Mock useAuth hook\r\njest.mock('@/hooks/useAuth', () => ({\r\n  useAuth: () => ({\r\n    user: { id: 'test-user-123', email: 'test@example.com' },\r\n    isLoaded: true,\r\n  }),\r\n}));\r\n\r\n// Mock usePathname\r\njest.mock('next/navigation', () => ({\r\n  usePathname: () => '/test-page',\r\n}));\r\n\r\n// Mock analytics lib\r\njest.mock('@/lib/analytics', () => ({\r\n  analytics: {\r\n    trackEvent: jest.fn().mockResolvedValue(undefined),\r\n    trackEcommerceEvent: jest.fn().mockResolvedValue(undefined),\r\n    trackPageView: jest.fn().mockResolvedValue(undefined),\r\n    trackConversion: jest.fn().mockResolvedValue(undefined),\r\n    trackProductView: jest.fn().mockResolvedValue(undefined),\r\n    trackAddToCart: jest.fn().mockResolvedValue(undefined),\r\n    trackRemoveFromCart: jest.fn().mockResolvedValue(undefined),\r\n    trackCheckoutStart: jest.fn().mockResolvedValue(undefined),\r\n    trackPurchase: jest.fn().mockResolvedValue(undefined),\r\n    trackSearch: jest.fn().mockResolvedValue(undefined),\r\n    getEvents: jest.fn(() => []),\r\n    getInteractions: jest.fn(() => []),\r\n    getConversionMetrics: jest.fn(() => ({\r\n      cartAdditions: 5,\r\n      cartRemovals: 1,\r\n      checkoutStarts: 3,\r\n      checkoutCompletions: 2,\r\n      productViews: 25,\r\n      categoryViews: 8,\r\n      searchQueries: 12,\r\n      conversionRate: 0.08,\r\n      averageOrderValue: 150.75,\r\n      cartAbandonmentRate: 0.33,\r\n    })),\r\n    getSessionId: jest.fn(() => 'test-session-123'),\r\n    initialize: jest.fn().mockResolvedValue(undefined),\r\n    enable: jest.fn(),\r\n    disable: jest.fn(),\r\n    getMetrics: jest.fn(() => ({\r\n      pageViews: 100,\r\n      uniqueVisitors: 50,\r\n      bounceRate: 0.3,\r\n      avgSessionDuration: 180,\r\n      conversionRate: 0.05,\r\n      totalRevenue: 1000\r\n    })),\r\n    isEnabled: true\r\n  }\r\n}));\r\n\r\n// Mock optimized analytics\r\njest.mock('@/lib/integrations/analytics/analytics-optimized', () => ({\r\n  optimizedAnalytics: {\r\n    trackEvent: jest.fn().mockResolvedValue(undefined),\r\n  }\r\n}));\r\n\r\n// Mock window.gtag\r\nObject.defineProperty(window, 'gtag', {\r\n  value: jest.fn(),\r\n  writable: true,\r\n});\r\n\r\ndescribe('useAnalytics Hook', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n\r\n  describe('Initialization', () => {\r\n    it('should initialize with correct default state', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      expect(result.current.isEnabled).toBe(true);\r\n      expect(result.current.sessionMetrics).toBeDefined();\r\n      expect(typeof result.current.trackEvent).toBe('function');\r\n      expect(typeof result.current.trackPageView).toBe('function');\r\n      expect(typeof result.current.getSessionId).toBe('function');\r\n    });\r\n\r\n    it('should provide all required tracking functions', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      const expectedFunctions = [\r\n        'trackEvent',\r\n        'trackEcommerceEvent',\r\n        'trackPageView',\r\n        'trackConversion',\r\n        'trackProductView',\r\n        'trackAddToCart',\r\n        'trackRemoveFromCart',\r\n        'trackCheckoutStart',\r\n        'trackPurchase',\r\n        'trackSearch',\r\n      ];\r\n\r\n      expectedFunctions.forEach(funcName => {\r\n        expect(typeof result.current[funcName]).toBe('function');\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Event Tracking', () => {\r\n    it('should track generic events correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);\r\n      });\r\n\r\n      expect(analytics.trackEvent).toHaveBeenCalledWith(\r\n        'test_event',\r\n        'test_category',\r\n        'test_action',\r\n        'test_label',\r\n        100,\r\n        {\r\n          userEmail: undefined,\r\n          userId: 'test-user-123'\r\n        }\r\n      );\r\n    });\r\n\r\n    it('should track product view events', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);\r\n      });\r\n\r\n      expect(analytics.trackEcommerceEvent).toHaveBeenCalledWith('view_item', {\r\n        item_id: 'prod-123',\r\n        item_name: 'Test Product',\r\n        item_category: 'Electronics',\r\n        price: 99.99,\r\n        currency: 'ARS',\r\n        userId: 'test-user-123',\r\n        userEmail: undefined\r\n      });\r\n    });\r\n\r\n    it('should track add to cart events', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);\r\n      });\r\n\r\n      expect(analytics.trackEcommerceEvent).toHaveBeenCalledWith('add_to_cart', {\r\n        item_id: 'prod-123',\r\n        item_name: 'Test Product',\r\n        price: 99.99,\r\n        quantity: 2,\r\n        currency: 'ARS',\r\n        value: 199.98,\r\n        userId: 'test-user-123',\r\n        userEmail: undefined\r\n      });\r\n    });\r\n\r\n    it('should track checkout start events', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.trackCheckoutStart(299.98, 3);\r\n      });\r\n\r\n      expect(analytics.trackEcommerceEvent).toHaveBeenCalledWith('begin_checkout', {\r\n        value: 299.98,\r\n        currency: 'ARS',\r\n        num_items: 3,\r\n        userId: 'test-user-123',\r\n        userEmail: undefined\r\n      });\r\n    });\r\n\r\n    it('should track purchase events', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n      const mockItems = [{ id: 'item1', name: 'Product 1', price: 99.99 }];\r\n\r\n      act(() => {\r\n        result.current.trackPurchase('order-123', 299.98, mockItems);\r\n      });\r\n\r\n      expect(analytics.trackEcommerceEvent).toHaveBeenCalledWith('purchase', {\r\n        transaction_id: 'order-123',\r\n        value: 299.98,\r\n        currency: 'ARS',\r\n        items: mockItems,\r\n        userId: 'test-user-123',\r\n        userEmail: undefined\r\n      });\r\n    });\r\n\r\n    it('should track search events', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.trackSearch('test query', 15);\r\n      });\r\n\r\n      expect(analytics.trackEcommerceEvent).toHaveBeenCalledWith('search', {\r\n        search_term: 'test query',\r\n        results_count: 15,\r\n        userId: 'test-user-123',\r\n        userEmail: undefined\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Data Retrieval', () => {\r\n    it('should get events correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      const events = result.current.getEvents();\r\n      expect(analytics.getEvents).toHaveBeenCalled();\r\n      expect(Array.isArray(events)).toBe(true);\r\n    });\r\n\r\n    it('should get session ID correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      const sessionId = result.current.getSessionId();\r\n      expect(analytics.getSessionId).toHaveBeenCalled();\r\n      expect(sessionId).toBe('test-session-123');\r\n    });\r\n\r\n    it('should get conversion metrics correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      const metrics = result.current.getConversionMetrics();\r\n      expect(analytics.getConversionMetrics).toHaveBeenCalled();\r\n      expect(metrics).toEqual({\r\n        cartAdditions: 5,\r\n        cartRemovals: 1,\r\n        checkoutStarts: 3,\r\n        checkoutCompletions: 2,\r\n        productViews: 25,\r\n        categoryViews: 8,\r\n        searchQueries: 12,\r\n        conversionRate: 0.08,\r\n        averageOrderValue: 150.75,\r\n        cartAbandonmentRate: 0.33,\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('State Management', () => {\r\n    it('should toggle enabled state correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      expect(result.current.isEnabled).toBe(true);\r\n\r\n      act(() => {\r\n        result.current.setEnabled(false);\r\n      });\r\n\r\n      expect(result.current.isEnabled).toBe(false);\r\n\r\n      act(() => {\r\n        result.current.setEnabled(true);\r\n      });\r\n\r\n      expect(result.current.isEnabled).toBe(true);\r\n    });\r\n\r\n    it('should refresh metrics correctly', () => {\r\n      const { result } = renderHook(() => useAnalytics());\r\n\r\n      act(() => {\r\n        result.current.refreshMetrics();\r\n      });\r\n\r\n      expect(analytics.getConversionMetrics).toHaveBeenCalled();\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('useRealTimeMetrics Hook', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    jest.useFakeTimers();\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.useRealTimers();\r\n  });\r\n\r\n  it('should initialize with metrics from analytics', () => {\r\n    const { result } = renderHook(() => useRealTimeMetrics());\r\n\r\n    expect(result.current).toEqual({\r\n      cartAdditions: 5,\r\n      cartRemovals: 1,\r\n      checkoutStarts: 3,\r\n      checkoutCompletions: 2,\r\n      productViews: 25,\r\n      categoryViews: 8,\r\n      searchQueries: 12,\r\n      conversionRate: 0.08,\r\n      averageOrderValue: 150.75,\r\n      cartAbandonmentRate: 0.33,\r\n    });\r\n  });\r\n\r\n  it('should update metrics at specified interval', () => {\r\n    renderHook(() => useRealTimeMetrics(1000));\r\n\r\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(1);\r\n\r\n    act(() => {\r\n      jest.advanceTimersByTime(1000);\r\n    });\r\n\r\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(2);\r\n\r\n    act(() => {\r\n      jest.advanceTimersByTime(1000);\r\n    });\r\n\r\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(3);\r\n  });\r\n});\r\n\r\n// useComponentTracking tests skipped due to dependency on useOptimizedAnalytics\r\n// This hook will be tested separately when useOptimizedAnalytics is properly mocked\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["jest","mock","useAuth","user","id","email","isLoaded","usePathname","analytics","trackEvent","fn","mockResolvedValue","undefined","trackEcommerceEvent","trackPageView","trackConversion","trackProductView","trackAddToCart","trackRemoveFromCart","trackCheckoutStart","trackPurchase","trackSearch","getEvents","getInteractions","getConversionMetrics","cartAdditions","cartRemovals","checkoutStarts","checkoutCompletions","productViews","categoryViews","searchQueries","conversionRate","averageOrderValue","cartAbandonmentRate","getSessionId","initialize","enable","disable","getMetrics","pageViews","uniqueVisitors","bounceRate","avgSessionDuration","totalRevenue","isEnabled","optimizedAnalytics","Object","defineProperty","window","value","writable","describe","beforeEach","clearAllMocks","it","result","renderHook","useAnalytics","expect","current","toBe","sessionMetrics","toBeDefined","expectedFunctions","forEach","funcName","act","toHaveBeenCalledWith","userEmail","userId","item_id","item_name","item_category","price","currency","quantity","num_items","mockItems","name","transaction_id","items","search_term","results_count","events","toHaveBeenCalled","Array","isArray","sessionId","metrics","toEqual","setEnabled","refreshMetrics","useFakeTimers","afterEach","useRealTimers","useRealTimeMetrics","toHaveBeenCalledTimes","advanceTimersByTime"],"mappings":"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"}