{"version":3,"names":["cov_1cpflep2df","actualCoverage","s","getFullName","user","f","b","first_name","last_name","email","split"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\types\\database.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - TIPOS DE BASE DE DATOS\r\n// ===================================\r\n\r\nexport interface Database {\r\n  public: {\r\n    Tables: {\r\n      user_profiles: {\r\n        Row: {\r\n          id: string;\r\n          email: string;\r\n          first_name: string | null;\r\n          last_name: string | null;\r\n          role_id: string | null;\r\n          is_active: boolean;\r\n          metadata: any; // JSONB\r\n          created_at: string;\r\n          updated_at: string;\r\n        };\r\n        Insert: {\r\n          id?: string;\r\n          email: string;\r\n          first_name?: string | null;\r\n          last_name?: string | null;\r\n          role_id?: string | null;\r\n          is_active?: boolean;\r\n          metadata?: any;\r\n          created_at?: string;\r\n          updated_at?: string;\r\n        };\r\n        Update: {\r\n          id?: string;\r\n          email?: string;\r\n          first_name?: string | null;\r\n          last_name?: string | null;\r\n          role_id?: string | null;\r\n          is_active?: boolean;\r\n          metadata?: any;\r\n          updated_at?: string;\r\n        };\r\n      };\r\n      categories: {\r\n        Row: {\r\n          id: number;\r\n          name: string;\r\n          slug: string;\r\n          description: string | null;\r\n          icon: string | null;\r\n          created_at: string;\r\n          updated_at: string | null;\r\n          products_count?: number; // Campo calculado desde la API\r\n        };\r\n        Insert: {\r\n          id?: number;\r\n          name: string;\r\n          slug: string;\r\n          description?: string | null;\r\n          icon?: string | null;\r\n          created_at?: string;\r\n          updated_at?: string | null;\r\n        };\r\n        Update: {\r\n          id?: number;\r\n          name?: string;\r\n          slug?: string;\r\n          description?: string | null;\r\n          icon?: string | null;\r\n          created_at?: string;\r\n          updated_at?: string | null;\r\n        };\r\n      };\r\n      products: {\r\n        Row: {\r\n          id: number;\r\n          name: string;\r\n          brand: string | null;\r\n          slug: string;\r\n          description: string | null;\r\n          price: number;\r\n          discounted_price: number | null;\r\n          stock: number;\r\n          category_id: number | null;\r\n          images: any | null; // JSONB\r\n          created_at: string;\r\n          updated_at: string | null;\r\n        };\r\n        Insert: {\r\n          id?: number;\r\n          name: string;\r\n          brand?: string | null;\r\n          slug: string;\r\n          description?: string | null;\r\n          price: number;\r\n          discounted_price?: number | null;\r\n          stock?: number;\r\n          category_id?: number | null;\r\n          images?: any | null;\r\n          created_at?: string;\r\n          updated_at?: string | null;\r\n        };\r\n        Update: {\r\n          id?: number;\r\n          name?: string;\r\n          brand?: string | null;\r\n          slug?: string;\r\n          description?: string | null;\r\n          price?: number;\r\n          discounted_price?: number | null;\r\n          stock?: number;\r\n          category_id?: number | null;\r\n          images?: any | null;\r\n          created_at?: string;\r\n          updated_at?: string | null;\r\n        };\r\n      };\r\n      orders: {\r\n        Row: {\r\n          id: number;\r\n          user_id: string;\r\n          total: number;\r\n          status: string;\r\n          payment_id: string | null;\r\n          created_at: string;\r\n        };\r\n        Insert: {\r\n          id?: number;\r\n          user_id: string;\r\n          total: number;\r\n          status?: string;\r\n          payment_id?: string | null;\r\n          created_at?: string;\r\n        };\r\n        Update: {\r\n          id?: number;\r\n          user_id?: string;\r\n          total?: number;\r\n          status?: string;\r\n          payment_id?: string | null;\r\n          created_at?: string;\r\n        };\r\n      };\r\n      order_items: {\r\n        Row: {\r\n          id: number;\r\n          order_id: number;\r\n          product_id: number;\r\n          quantity: number;\r\n          price: number;\r\n        };\r\n        Insert: {\r\n          id?: number;\r\n          order_id: number;\r\n          product_id: number;\r\n          quantity: number;\r\n          price: number;\r\n        };\r\n        Update: {\r\n          id?: number;\r\n          order_id?: number;\r\n          product_id?: number;\r\n          quantity?: number;\r\n          price?: number;\r\n        };\r\n      };\r\n    };\r\n  };\r\n}\r\n\r\n// Tipos auxiliares\r\nexport type UserProfile = Database['public']['Tables']['user_profiles']['Row'];\r\nexport type Category = Database['public']['Tables']['categories']['Row'];\r\nexport type Product = Database['public']['Tables']['products']['Row'];\r\nexport type Order = Database['public']['Tables']['orders']['Row'];\r\nexport type OrderItem = Database['public']['Tables']['order_items']['Row'];\r\n\r\n// Tipos para inserción\r\nexport type UserProfileInsert = Database['public']['Tables']['user_profiles']['Insert'];\r\nexport type CategoryInsert = Database['public']['Tables']['categories']['Insert'];\r\nexport type ProductInsert = Database['public']['Tables']['products']['Insert'];\r\nexport type OrderInsert = Database['public']['Tables']['orders']['Insert'];\r\nexport type OrderItemInsert = Database['public']['Tables']['order_items']['Insert'];\r\n\r\n// Tipos para actualización\r\nexport type UserProfileUpdate = Database['public']['Tables']['user_profiles']['Update'];\r\nexport type CategoryUpdate = Database['public']['Tables']['categories']['Update'];\r\nexport type ProductUpdate = Database['public']['Tables']['products']['Update'];\r\nexport type OrderUpdate = Database['public']['Tables']['orders']['Update'];\r\nexport type OrderItemUpdate = Database['public']['Tables']['order_items']['Update'];\r\n\r\n// Función helper para nombre completo\r\nexport function getFullName(user: UserProfile): string {\r\n  if (user.first_name && user.last_name) {\r\n    return `${user.first_name} ${user.last_name}`;\r\n  }\r\n  return user.first_name || user.email.split('@')[0];\r\n}\r\n\r\n// Compatibilidad legacy (deprecated)\r\nexport type User = UserProfile;\r\nexport type UserInsert = UserProfileInsert;\r\nexport type UserUpdate = UserProfileUpdate;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8LI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAFY;;;;;;WAAAC,WAAA;;;AAAT,SAASA,YAAYC,IAAiB;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EAAAL,cAAA,GAAAE,CAAA;EAC3C;EAAI;EAAA,CAAAF,cAAA,GAAAM,CAAA,UAAAF,IAAA,CAAKG,UAAU;EAAA;EAAA,CAAAP,cAAA,GAAAM,CAAA,UAAIF,IAAA,CAAKI,SAAS,GAAE;IAAA;IAAAR,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACrC,OAAO,GAAGE,IAAA,CAAKG,UAAU,IAAIH,IAAA,CAAKI,SAAS,EAAE;EAC/C;EAAA;EAAA;IAAAR,cAAA,GAAAM,CAAA;EAAA;EAAAN,cAAA,GAAAE,CAAA;EACA,OAAO,2BAAAF,cAAA,GAAAM,CAAA,UAAAF,IAAA,CAAKG,UAAU;EAAA;EAAA,CAAAP,cAAA,GAAAM,CAAA,UAAIF,IAAA,CAAKK,KAAK,CAACC,KAAK,CAAC,IAAI,CAAC,EAAE;AACpD","ignoreList":[]}