{"version":3,"names":["ProtectedRoute","children","fallback","cov_1nn8dxz1qp","f","isLoaded","isSignedIn","s","_useAuth","useAuth","router","_navigation","useRouter","isMounted","setIsMounted","_react","useState","useEffect","b","push","_jsxruntime","jsx","className","jsxs","onClick","Fragment"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Auth\\ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ReactNode;\r\n}\r\n\r\n/**\r\n * Componente para proteger rutas que requieren autenticación\r\n * Se ejecuta solo en el cliente para evitar problemas con SSG\r\n */\r\nexport default function ProtectedRoute({ children, fallback }: ProtectedRouteProps) {\r\n  const { isLoaded, isSignedIn } = useAuth();\r\n  const router = useRouter();\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted && isLoaded && !isSignedIn) {\r\n      router.push('/signin');\r\n    }\r\n  }, [isMounted, isLoaded, isSignedIn, router]);\r\n\r\n  // Durante SSG o antes de montar, mostrar fallback\r\n  if (!isMounted || !isLoaded) {\r\n    return fallback || (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-tahiti-gold-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Si no está autenticado, mostrar fallback\r\n  if (!isSignedIn) {\r\n    return fallback || (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n            Acceso Restringido\r\n          </h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Necesitas iniciar sesión para acceder a esta página.\r\n          </p>\r\n          <button\r\n            onClick={() => router.push('/signin')}\r\n            className=\"bg-tahiti-gold-600 text-white px-6 py-2 rounded-md hover:bg-tahiti-gold-700 transition-colors\"\r\n          >\r\n            Iniciar Sesión\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Usuario autenticado, mostrar contenido\r\n  return <>{children}</>;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}