ea5dbfdd89df387cf1662a53f718dc68
/**
 * useCategoryFilter Hook Tests
 * Enterprise-ready test suite for category filter logic
 * Pinteya E-commerce
 */ "use strict";
// Mock Next.js navigation hooks
jest.mock('next/navigation', ()=>({
        useSearchParams: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _useCategoryFilter = require("../../hooks/useCategoryFilter");
// Mock analytics
const mockGtag = jest.fn();
Object.defineProperty(window, 'gtag', {
    value: mockGtag,
    writable: true
});
describe('useCategoryFilter Hook', ()=>{
    const mockGet = jest.fn();
    const mockOnCategoryChange = jest.fn();
    beforeEach(()=>{
        jest.clearAllMocks();
        _navigation.useSearchParams.mockReturnValue({
            get: mockGet,
            forEach: jest.fn()
        });
        // Reset analytics mock
        mockGtag.mockClear();
    });
    describe('Initialization', ()=>{
        it('initializes with empty array by default', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)());
            expect(result.current.selectedCategories).toEqual([]);
            expect(result.current.selectedCount).toBe(0);
        });
        it('initializes with provided initial categories', ()=>{
            mockGet.mockReturnValue(null);
            const initialCategories = [
                'cat1',
                'cat2'
            ];
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    initialCategories,
                    syncWithUrl: false
                }));
            expect(result.current.selectedCategories).toEqual(initialCategories);
            expect(result.current.selectedCount).toBe(2);
        });
        it('initializes from URL when syncWithUrl is enabled', ()=>{
            const urlCategories = 'cat1,cat2,cat3';
            mockGet.mockReturnValue(urlCategories);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: true
                }));
            expect(result.current.selectedCategories).toEqual([
                'cat1',
                'cat2',
                'cat3'
            ]);
            expect(result.current.selectedCount).toBe(3);
        });
        it('filters out empty categories from URL', ()=>{
            const urlCategories = 'cat1,,cat2,';
            mockGet.mockReturnValue(urlCategories);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: true
                }));
            expect(result.current.selectedCategories).toEqual([
                'cat1',
                'cat2'
            ]);
        });
    });
    describe('Category Selection', ()=>{
        it('toggles category selection correctly', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false,
                    onCategoryChange: mockOnCategoryChange
                }));
            // Select category
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat1');
            });
            expect(result.current.selectedCategories).toEqual([
                'cat1'
            ]);
            expect(result.current.isSelected('cat1')).toBe(true);
            expect(result.current.selectedCount).toBe(1);
            // Verify callback was called
            expect(mockOnCategoryChange).toHaveBeenCalledWith(expect.objectContaining({
                type: 'select',
                categoryId: 'cat1',
                selectedCategories: [
                    'cat1'
                ],
                previousCategories: []
            }));
        });
        it('deselects already selected category', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    initialCategories: [
                        'cat1'
                    ],
                    syncWithUrl: false,
                    onCategoryChange: mockOnCategoryChange
                }));
            // Deselect category
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat1');
            });
            expect(result.current.selectedCategories).toEqual([]);
            expect(result.current.isSelected('cat1')).toBe(false);
            expect(result.current.selectedCount).toBe(0);
            // Verify callback was called
            expect(mockOnCategoryChange).toHaveBeenCalledWith(expect.objectContaining({
                type: 'deselect',
                categoryId: 'cat1',
                selectedCategories: [],
                previousCategories: [
                    'cat1'
                ]
            }));
        });
        it('respects maximum selections limit', ()=>{
            mockGet.mockReturnValue(null);
            const consoleSpy = jest.spyOn(console, 'warn').mockImplementation();
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    maxSelections: 2,
                    syncWithUrl: false
                }));
            // Select up to limit
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat1');
                result.current.toggleCategory('cat2');
            });
            expect(result.current.selectedCategories).toEqual([
                'cat1',
                'cat2'
            ]);
            // Try to exceed limit
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat3');
            });
            expect(result.current.selectedCategories).toEqual([
                'cat1',
                'cat2'
            ]);
            expect(consoleSpy).toHaveBeenCalledWith('Maximum 2 categories can be selected');
            consoleSpy.mockRestore();
        });
        it('checks if category is selected correctly', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    initialCategories: [
                        'cat1',
                        'cat2'
                    ],
                    syncWithUrl: false
                }));
            expect(result.current.isSelected('cat1')).toBe(true);
            expect(result.current.isSelected('cat2')).toBe(true);
            expect(result.current.isSelected('cat3')).toBe(false);
        });
    });
    describe('Bulk Operations', ()=>{
        it('clears all selections', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    initialCategories: [
                        'cat1',
                        'cat2'
                    ],
                    syncWithUrl: false,
                    onCategoryChange: mockOnCategoryChange
                }));
            (0, _react.act)(()=>{
                result.current.clearAll();
            });
            expect(result.current.selectedCategories).toEqual([]);
            expect(result.current.selectedCount).toBe(0);
            // Verify callback was called
            expect(mockOnCategoryChange).toHaveBeenCalledWith(expect.objectContaining({
                type: 'clear',
                categoryId: undefined,
                selectedCategories: [],
                previousCategories: [
                    'cat1',
                    'cat2'
                ]
            }));
        });
        it('does not call callback when clearing empty selection', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false,
                    onCategoryChange: mockOnCategoryChange
                }));
            (0, _react.act)(()=>{
                result.current.clearAll();
            });
            expect(mockOnCategoryChange).not.toHaveBeenCalled();
        });
        it('selects all provided categories', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false,
                    onCategoryChange: mockOnCategoryChange
                }));
            const categoriesToSelect = [
                'cat1',
                'cat2',
                'cat3'
            ];
            (0, _react.act)(()=>{
                result.current.selectAll(categoriesToSelect);
            });
            expect(result.current.selectedCategories).toEqual(categoriesToSelect);
            expect(result.current.selectedCount).toBe(3);
            // Verify callback was called
            expect(mockOnCategoryChange).toHaveBeenCalledWith(expect.objectContaining({
                type: 'selectAll',
                categoryId: undefined,
                selectedCategories: categoriesToSelect,
                previousCategories: []
            }));
        });
        it('respects max selections when selecting all', ()=>{
            mockGet.mockReturnValue(null);
            const consoleSpy = jest.spyOn(console, 'warn').mockImplementation();
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    maxSelections: 2,
                    syncWithUrl: false
                }));
            const categoriesToSelect = [
                'cat1',
                'cat2',
                'cat3',
                'cat4'
            ];
            (0, _react.act)(()=>{
                result.current.selectAll(categoriesToSelect);
            });
            expect(result.current.selectedCategories).toEqual([
                'cat1',
                'cat2'
            ]);
            expect(consoleSpy).toHaveBeenCalledWith('Only first 2 categories will be selected');
            consoleSpy.mockRestore();
        });
    });
    describe('Analytics Tracking', ()=>{
        it('tracks analytics when enabled', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false,
                    enableAnalytics: true
                }));
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat1');
            });
            expect(mockGtag).toHaveBeenCalledWith('event', 'category_filter_change', expect.objectContaining({
                event_category: 'filters',
                event_label: 'cat1',
                value: 1
            }));
        });
        it('does not track analytics when disabled', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false,
                    enableAnalytics: false
                }));
            (0, _react.act)(()=>{
                result.current.toggleCategory('cat1');
            });
            expect(mockGtag).not.toHaveBeenCalled();
        });
    });
    describe('Performance', ()=>{
        it('maintains referential equality for stable functions', ()=>{
            mockGet.mockReturnValue(null);
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: false
                }));
            const firstRender = {
                toggleCategory: result.current.toggleCategory,
                clearAll: result.current.clearAll,
                selectAll: result.current.selectAll,
                isSelected: result.current.isSelected
            };
            rerender();
            const secondRender = {
                toggleCategory: result.current.toggleCategory,
                clearAll: result.current.clearAll,
                selectAll: result.current.selectAll,
                isSelected: result.current.isSelected
            };
            // Functions should maintain referential equality
            expect(firstRender.toggleCategory).toBe(secondRender.toggleCategory);
            expect(firstRender.clearAll).toBe(secondRender.clearAll);
            expect(firstRender.selectAll).toBe(secondRender.selectAll);
            expect(firstRender.isSelected).toBe(secondRender.isSelected);
        });
    });
    describe('Edge Cases', ()=>{
        it('handles invalid URL parameters gracefully', ()=>{
            mockGet.mockReturnValue('');
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: true
                }));
            expect(result.current.selectedCategories).toEqual([]);
        });
        it('handles null URL parameters', ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryFilter.useCategoryFilter)({
                    syncWithUrl: true
                }));
            expect(result.current.selectedCategories).toEqual([]);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQ2F0ZWdvcnlGaWx0ZXIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHVzZUNhdGVnb3J5RmlsdGVyIEhvb2sgVGVzdHNcbiAqIEVudGVycHJpc2UtcmVhZHkgdGVzdCBzdWl0ZSBmb3IgY2F0ZWdvcnkgZmlsdGVyIGxvZ2ljXG4gKiBQaW50ZXlhIEUtY29tbWVyY2VcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IHsgdXNlQ2F0ZWdvcnlGaWx0ZXIgfSBmcm9tICdAL2hvb2tzL3VzZUNhdGVnb3J5RmlsdGVyJ1xuaW1wb3J0IHR5cGUgeyBDYXRlZ29yeUNoYW5nZUV2ZW50IH0gZnJvbSAnQC90eXBlcy9jYXRlZ29yaWVzJ1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvbiBob29rc1xuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VTZWFyY2hQYXJhbXM6IGplc3QuZm4oKSxcbn0pKVxuXG4vLyBNb2NrIGFuYWx5dGljc1xuY29uc3QgbW9ja0d0YWcgPSBqZXN0LmZuKClcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdndGFnJywge1xuICB2YWx1ZTogbW9ja0d0YWcsXG4gIHdyaXRhYmxlOiB0cnVlLFxufSlcblxuZGVzY3JpYmUoJ3VzZUNhdGVnb3J5RmlsdGVyIEhvb2snLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tHZXQgPSBqZXN0LmZuKClcbiAgY29uc3QgbW9ja09uQ2F0ZWdvcnlDaGFuZ2UgPSBqZXN0LmZuKClcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuXG4gICAgLy8gU2V0dXAgc2VhcmNoIHBhcmFtcyBtb2NrXG4gICAgOyh1c2VTZWFyY2hQYXJhbXMgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgZ2V0OiBtb2NrR2V0LFxuICAgICAgZm9yRWFjaDogamVzdC5mbigpLFxuICAgIH0pXG5cbiAgICAvLyBSZXNldCBhbmFseXRpY3MgbW9ja1xuICAgIG1vY2tHdGFnLm1vY2tDbGVhcigpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdpbml0aWFsaXplcyB3aXRoIGVtcHR5IGFycmF5IGJ5IGRlZmF1bHQnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDYXRlZ29yeUZpbHRlcigpKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKFtdKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ291bnQpLnRvQmUoMClcbiAgICB9KVxuXG4gICAgaXQoJ2luaXRpYWxpemVzIHdpdGggcHJvdmlkZWQgaW5pdGlhbCBjYXRlZ29yaWVzJywgKCkgPT4ge1xuICAgICAgbW9ja0dldC5tb2NrUmV0dXJuVmFsdWUobnVsbClcblxuICAgICAgY29uc3QgaW5pdGlhbENhdGVnb3JpZXMgPSBbJ2NhdDEnLCAnY2F0MiddXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgaW5pdGlhbENhdGVnb3JpZXMsXG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKGluaXRpYWxDYXRlZ29yaWVzKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ291bnQpLnRvQmUoMilcbiAgICB9KVxuXG4gICAgaXQoJ2luaXRpYWxpemVzIGZyb20gVVJMIHdoZW4gc3luY1dpdGhVcmwgaXMgZW5hYmxlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHVybENhdGVnb3JpZXMgPSAnY2F0MSxjYXQyLGNhdDMnXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZSh1cmxDYXRlZ29yaWVzKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDYXRlZ29yeUZpbHRlcih7IHN5bmNXaXRoVXJsOiB0cnVlIH0pKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKFsnY2F0MScsICdjYXQyJywgJ2NhdDMnXSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENvdW50KS50b0JlKDMpXG4gICAgfSlcblxuICAgIGl0KCdmaWx0ZXJzIG91dCBlbXB0eSBjYXRlZ29yaWVzIGZyb20gVVJMJywgKCkgPT4ge1xuICAgICAgY29uc3QgdXJsQ2F0ZWdvcmllcyA9ICdjYXQxLCxjYXQyLCdcbiAgICAgIG1vY2tHZXQubW9ja1JldHVyblZhbHVlKHVybENhdGVnb3JpZXMpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNhdGVnb3J5RmlsdGVyKHsgc3luY1dpdGhVcmw6IHRydWUgfSkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENhdGVnb3JpZXMpLnRvRXF1YWwoWydjYXQxJywgJ2NhdDInXSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdDYXRlZ29yeSBTZWxlY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3RvZ2dsZXMgY2F0ZWdvcnkgc2VsZWN0aW9uIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIG1vY2tHZXQubW9ja1JldHVyblZhbHVlKG51bGwpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNhdGVnb3J5RmlsdGVyKHtcbiAgICAgICAgICBzeW5jV2l0aFVybDogZmFsc2UsXG4gICAgICAgICAgb25DYXRlZ29yeUNoYW5nZTogbW9ja09uQ2F0ZWdvcnlDaGFuZ2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIC8vIFNlbGVjdCBjYXRlZ29yeVxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudG9nZ2xlQ2F0ZWdvcnkoJ2NhdDEnKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ2F0ZWdvcmllcykudG9FcXVhbChbJ2NhdDEnXSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1NlbGVjdGVkKCdjYXQxJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENvdW50KS50b0JlKDEpXG5cbiAgICAgIC8vIFZlcmlmeSBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja09uQ2F0ZWdvcnlDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgY2F0ZWdvcnlJZDogJ2NhdDEnLFxuICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcmllczogWydjYXQxJ10sXG4gICAgICAgICAgcHJldmlvdXNDYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ2Rlc2VsZWN0cyBhbHJlYWR5IHNlbGVjdGVkIGNhdGVnb3J5JywgKCkgPT4ge1xuICAgICAgbW9ja0dldC5tb2NrUmV0dXJuVmFsdWUobnVsbClcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ2F0ZWdvcnlGaWx0ZXIoe1xuICAgICAgICAgIGluaXRpYWxDYXRlZ29yaWVzOiBbJ2NhdDEnXSxcbiAgICAgICAgICBzeW5jV2l0aFVybDogZmFsc2UsXG4gICAgICAgICAgb25DYXRlZ29yeUNoYW5nZTogbW9ja09uQ2F0ZWdvcnlDaGFuZ2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIC8vIERlc2VsZWN0IGNhdGVnb3J5XG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50b2dnbGVDYXRlZ29yeSgnY2F0MScpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKFtdKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzU2VsZWN0ZWQoJ2NhdDEnKSkudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENvdW50KS50b0JlKDApXG5cbiAgICAgIC8vIFZlcmlmeSBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja09uQ2F0ZWdvcnlDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgdHlwZTogJ2Rlc2VsZWN0JyxcbiAgICAgICAgICBjYXRlZ29yeUlkOiAnY2F0MScsXG4gICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICBwcmV2aW91c0NhdGVnb3JpZXM6IFsnY2F0MSddLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgncmVzcGVjdHMgbWF4aW11bSBzZWxlY3Rpb25zIGxpbWl0JywgKCkgPT4ge1xuICAgICAgbW9ja0dldC5tb2NrUmV0dXJuVmFsdWUobnVsbClcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKClcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ2F0ZWdvcnlGaWx0ZXIoe1xuICAgICAgICAgIG1heFNlbGVjdGlvbnM6IDIsXG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICAvLyBTZWxlY3QgdXAgdG8gbGltaXRcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRvZ2dsZUNhdGVnb3J5KCdjYXQxJylcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudG9nZ2xlQ2F0ZWdvcnkoJ2NhdDInKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ2F0ZWdvcmllcykudG9FcXVhbChbJ2NhdDEnLCAnY2F0MiddKVxuXG4gICAgICAvLyBUcnkgdG8gZXhjZWVkIGxpbWl0XG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50b2dnbGVDYXRlZ29yeSgnY2F0MycpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKFsnY2F0MScsICdjYXQyJ10pXG4gICAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ01heGltdW0gMiBjYXRlZ29yaWVzIGNhbiBiZSBzZWxlY3RlZCcpXG5cbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKVxuICAgIH0pXG5cbiAgICBpdCgnY2hlY2tzIGlmIGNhdGVnb3J5IGlzIHNlbGVjdGVkIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIG1vY2tHZXQubW9ja1JldHVyblZhbHVlKG51bGwpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNhdGVnb3J5RmlsdGVyKHtcbiAgICAgICAgICBpbml0aWFsQ2F0ZWdvcmllczogWydjYXQxJywgJ2NhdDInXSxcbiAgICAgICAgICBzeW5jV2l0aFVybDogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1NlbGVjdGVkKCdjYXQxJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1NlbGVjdGVkKCdjYXQyJykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1NlbGVjdGVkKCdjYXQzJykpLnRvQmUoZmFsc2UpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnQnVsayBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdjbGVhcnMgYWxsIHNlbGVjdGlvbnMnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgaW5pdGlhbENhdGVnb3JpZXM6IFsnY2F0MScsICdjYXQyJ10sXG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICAgIG9uQ2F0ZWdvcnlDaGFuZ2U6IG1vY2tPbkNhdGVnb3J5Q2hhbmdlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5jbGVhckFsbCgpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2VsZWN0ZWRDYXRlZ29yaWVzKS50b0VxdWFsKFtdKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ291bnQpLnRvQmUoMClcblxuICAgICAgLy8gVmVyaWZ5IGNhbGxiYWNrIHdhcyBjYWxsZWRcbiAgICAgIGV4cGVjdChtb2NrT25DYXRlZ29yeUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB0eXBlOiAnY2xlYXInLFxuICAgICAgICAgIGNhdGVnb3J5SWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzZWxlY3RlZENhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgIHByZXZpb3VzQ2F0ZWdvcmllczogWydjYXQxJywgJ2NhdDInXSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ2RvZXMgbm90IGNhbGwgY2FsbGJhY2sgd2hlbiBjbGVhcmluZyBlbXB0eSBzZWxlY3Rpb24nLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICAgIG9uQ2F0ZWdvcnlDaGFuZ2U6IG1vY2tPbkNhdGVnb3J5Q2hhbmdlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5jbGVhckFsbCgpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QobW9ja09uQ2F0ZWdvcnlDaGFuZ2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuXG4gICAgaXQoJ3NlbGVjdHMgYWxsIHByb3ZpZGVkIGNhdGVnb3JpZXMnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICAgIG9uQ2F0ZWdvcnlDaGFuZ2U6IG1vY2tPbkNhdGVnb3J5Q2hhbmdlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBjb25zdCBjYXRlZ29yaWVzVG9TZWxlY3QgPSBbJ2NhdDEnLCAnY2F0MicsICdjYXQzJ11cblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2VsZWN0QWxsKGNhdGVnb3JpZXNUb1NlbGVjdClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENhdGVnb3JpZXMpLnRvRXF1YWwoY2F0ZWdvcmllc1RvU2VsZWN0KVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ291bnQpLnRvQmUoMylcblxuICAgICAgLy8gVmVyaWZ5IGNhbGxiYWNrIHdhcyBjYWxsZWRcbiAgICAgIGV4cGVjdChtb2NrT25DYXRlZ29yeUNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB0eXBlOiAnc2VsZWN0QWxsJyxcbiAgICAgICAgICBjYXRlZ29yeUlkOiB1bmRlZmluZWQsXG4gICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yaWVzOiBjYXRlZ29yaWVzVG9TZWxlY3QsXG4gICAgICAgICAgcHJldmlvdXNDYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Jlc3BlY3RzIG1heCBzZWxlY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGFsbCcsICgpID0+IHtcbiAgICAgIG1vY2tHZXQubW9ja1JldHVyblZhbHVlKG51bGwpXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnd2FybicpLm1vY2tJbXBsZW1lbnRhdGlvbigpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNhdGVnb3J5RmlsdGVyKHtcbiAgICAgICAgICBtYXhTZWxlY3Rpb25zOiAyLFxuICAgICAgICAgIHN5bmNXaXRoVXJsOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgY29uc3QgY2F0ZWdvcmllc1RvU2VsZWN0ID0gWydjYXQxJywgJ2NhdDInLCAnY2F0MycsICdjYXQ0J11cblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2VsZWN0QWxsKGNhdGVnb3JpZXNUb1NlbGVjdClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENhdGVnb3JpZXMpLnRvRXF1YWwoWydjYXQxJywgJ2NhdDInXSlcbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnT25seSBmaXJzdCAyIGNhdGVnb3JpZXMgd2lsbCBiZSBzZWxlY3RlZCcpXG5cbiAgICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0FuYWx5dGljcyBUcmFja2luZycsICgpID0+IHtcbiAgICBpdCgndHJhY2tzIGFuYWx5dGljcyB3aGVuIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICAgIGVuYWJsZUFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudG9nZ2xlQ2F0ZWdvcnkoJ2NhdDEnKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KG1vY2tHdGFnKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2V2ZW50JyxcbiAgICAgICAgJ2NhdGVnb3J5X2ZpbHRlcl9jaGFuZ2UnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdmaWx0ZXJzJyxcbiAgICAgICAgICBldmVudF9sYWJlbDogJ2NhdDEnLFxuICAgICAgICAgIHZhbHVlOiAxLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgnZG9lcyBub3QgdHJhY2sgYW5hbHl0aWNzIHdoZW4gZGlzYWJsZWQnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDYXRlZ29yeUZpbHRlcih7XG4gICAgICAgICAgc3luY1dpdGhVcmw6IGZhbHNlLFxuICAgICAgICAgIGVuYWJsZUFuYWx5dGljczogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRvZ2dsZUNhdGVnb3J5KCdjYXQxJylcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChtb2NrR3RhZykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdtYWludGFpbnMgcmVmZXJlbnRpYWwgZXF1YWxpdHkgZm9yIHN0YWJsZSBmdW5jdGlvbnMnLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2F0ZWdvcnlGaWx0ZXIoeyBzeW5jV2l0aFVybDogZmFsc2UgfSkpXG5cbiAgICAgIGNvbnN0IGZpcnN0UmVuZGVyID0ge1xuICAgICAgICB0b2dnbGVDYXRlZ29yeTogcmVzdWx0LmN1cnJlbnQudG9nZ2xlQ2F0ZWdvcnksXG4gICAgICAgIGNsZWFyQWxsOiByZXN1bHQuY3VycmVudC5jbGVhckFsbCxcbiAgICAgICAgc2VsZWN0QWxsOiByZXN1bHQuY3VycmVudC5zZWxlY3RBbGwsXG4gICAgICAgIGlzU2VsZWN0ZWQ6IHJlc3VsdC5jdXJyZW50LmlzU2VsZWN0ZWQsXG4gICAgICB9XG5cbiAgICAgIHJlcmVuZGVyKClcblxuICAgICAgY29uc3Qgc2Vjb25kUmVuZGVyID0ge1xuICAgICAgICB0b2dnbGVDYXRlZ29yeTogcmVzdWx0LmN1cnJlbnQudG9nZ2xlQ2F0ZWdvcnksXG4gICAgICAgIGNsZWFyQWxsOiByZXN1bHQuY3VycmVudC5jbGVhckFsbCxcbiAgICAgICAgc2VsZWN0QWxsOiByZXN1bHQuY3VycmVudC5zZWxlY3RBbGwsXG4gICAgICAgIGlzU2VsZWN0ZWQ6IHJlc3VsdC5jdXJyZW50LmlzU2VsZWN0ZWQsXG4gICAgICB9XG5cbiAgICAgIC8vIEZ1bmN0aW9ucyBzaG91bGQgbWFpbnRhaW4gcmVmZXJlbnRpYWwgZXF1YWxpdHlcbiAgICAgIGV4cGVjdChmaXJzdFJlbmRlci50b2dnbGVDYXRlZ29yeSkudG9CZShzZWNvbmRSZW5kZXIudG9nZ2xlQ2F0ZWdvcnkpXG4gICAgICBleHBlY3QoZmlyc3RSZW5kZXIuY2xlYXJBbGwpLnRvQmUoc2Vjb25kUmVuZGVyLmNsZWFyQWxsKVxuICAgICAgZXhwZWN0KGZpcnN0UmVuZGVyLnNlbGVjdEFsbCkudG9CZShzZWNvbmRSZW5kZXIuc2VsZWN0QWxsKVxuICAgICAgZXhwZWN0KGZpcnN0UmVuZGVyLmlzU2VsZWN0ZWQpLnRvQmUoc2Vjb25kUmVuZGVyLmlzU2VsZWN0ZWQpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnaGFuZGxlcyBpbnZhbGlkIFVSTCBwYXJhbWV0ZXJzIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZSgnJylcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ2F0ZWdvcnlGaWx0ZXIoeyBzeW5jV2l0aFVybDogdHJ1ZSB9KSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkQ2F0ZWdvcmllcykudG9FcXVhbChbXSlcbiAgICB9KVxuXG4gICAgaXQoJ2hhbmRsZXMgbnVsbCBVUkwgcGFyYW1ldGVycycsICgpID0+IHtcbiAgICAgIG1vY2tHZXQubW9ja1JldHVyblZhbHVlKG51bGwpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNhdGVnb3J5RmlsdGVyKHsgc3luY1dpdGhVcmw6IHRydWUgfSkpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZWxlY3RlZENhdGVnb3JpZXMpLnRvRXF1YWwoW10pXG4gICAgfSlcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VTZWFyY2hQYXJhbXMiLCJmbiIsIm1vY2tHdGFnIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIndyaXRhYmxlIiwiZGVzY3JpYmUiLCJtb2NrR2V0IiwibW9ja09uQ2F0ZWdvcnlDaGFuZ2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImdldCIsImZvckVhY2giLCJtb2NrQ2xlYXIiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VDYXRlZ29yeUZpbHRlciIsImV4cGVjdCIsImN1cnJlbnQiLCJzZWxlY3RlZENhdGVnb3JpZXMiLCJ0b0VxdWFsIiwic2VsZWN0ZWRDb3VudCIsInRvQmUiLCJpbml0aWFsQ2F0ZWdvcmllcyIsInN5bmNXaXRoVXJsIiwidXJsQ2F0ZWdvcmllcyIsIm9uQ2F0ZWdvcnlDaGFuZ2UiLCJhY3QiLCJ0b2dnbGVDYXRlZ29yeSIsImlzU2VsZWN0ZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm9iamVjdENvbnRhaW5pbmciLCJ0eXBlIiwiY2F0ZWdvcnlJZCIsInByZXZpb3VzQ2F0ZWdvcmllcyIsImNvbnNvbGVTcHkiLCJzcHlPbiIsImNvbnNvbGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtYXhTZWxlY3Rpb25zIiwibW9ja1Jlc3RvcmUiLCJjbGVhckFsbCIsInVuZGVmaW5lZCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJjYXRlZ29yaWVzVG9TZWxlY3QiLCJzZWxlY3RBbGwiLCJlbmFibGVBbmFseXRpY3MiLCJldmVudF9jYXRlZ29yeSIsImV2ZW50X2xhYmVsIiwicmVyZW5kZXIiLCJmaXJzdFJlbmRlciIsInNlY29uZFJlbmRlciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Q0FJQztBQU9ELGdDQUFnQztBQUNoQ0EsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLGlCQUFpQkYsS0FBS0csRUFBRTtJQUMxQixDQUFBOzs7O3VCQVJnQzs0QkFDQTttQ0FDRTtBQVFsQyxpQkFBaUI7QUFDakIsTUFBTUMsV0FBV0osS0FBS0csRUFBRTtBQUN4QkUsT0FBT0MsY0FBYyxDQUFDQyxRQUFRLFFBQVE7SUFDcENDLE9BQU9KO0lBQ1BLLFVBQVU7QUFDWjtBQUVBQyxTQUFTLDBCQUEwQjtJQUNqQyxNQUFNQyxVQUFVWCxLQUFLRyxFQUFFO0lBQ3ZCLE1BQU1TLHVCQUF1QlosS0FBS0csRUFBRTtJQUVwQ1UsV0FBVztRQUNUYixLQUFLYyxhQUFhO1FBR2hCWiwyQkFBZSxDQUFlYSxlQUFlLENBQUM7WUFDOUNDLEtBQUtMO1lBQ0xNLFNBQVNqQixLQUFLRyxFQUFFO1FBQ2xCO1FBRUEsdUJBQXVCO1FBQ3ZCQyxTQUFTYyxTQUFTO0lBQ3BCO0lBRUFSLFNBQVMsa0JBQWtCO1FBQ3pCUyxHQUFHLDJDQUEyQztZQUM1Q1IsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsb0NBQWlCO1lBRXJEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLGtCQUFrQixFQUFFQyxPQUFPLENBQUMsRUFBRTtZQUNwREgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxhQUFhLEVBQUVDLElBQUksQ0FBQztRQUM1QztRQUVBVCxHQUFHLGdEQUFnRDtZQUNqRFIsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU1jLG9CQUFvQjtnQkFBQztnQkFBUTthQUFPO1lBQzFDLE1BQU0sRUFBRVQsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFDNUJDLElBQUFBLG9DQUFpQixFQUFDO29CQUNoQk87b0JBQ0FDLGFBQWE7Z0JBQ2Y7WUFHRlAsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxrQkFBa0IsRUFBRUMsT0FBTyxDQUFDRztZQUNsRE4sT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxhQUFhLEVBQUVDLElBQUksQ0FBQztRQUM1QztRQUVBVCxHQUFHLG9EQUFvRDtZQUNyRCxNQUFNWSxnQkFBZ0I7WUFDdEJwQixRQUFRSSxlQUFlLENBQUNnQjtZQUV4QixNQUFNLEVBQUVYLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLG9DQUFpQixFQUFDO29CQUFFUSxhQUFhO2dCQUFLO1lBRTFFUCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLGtCQUFrQixFQUFFQyxPQUFPLENBQUM7Z0JBQUM7Z0JBQVE7Z0JBQVE7YUFBTztZQUMxRUgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxhQUFhLEVBQUVDLElBQUksQ0FBQztRQUM1QztRQUVBVCxHQUFHLHlDQUF5QztZQUMxQyxNQUFNWSxnQkFBZ0I7WUFDdEJwQixRQUFRSSxlQUFlLENBQUNnQjtZQUV4QixNQUFNLEVBQUVYLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLG9DQUFpQixFQUFDO29CQUFFUSxhQUFhO2dCQUFLO1lBRTFFUCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLGtCQUFrQixFQUFFQyxPQUFPLENBQUM7Z0JBQUM7Z0JBQVE7YUFBTztRQUNwRTtJQUNGO0lBRUFoQixTQUFTLHNCQUFzQjtRQUM3QlMsR0FBRyx3Q0FBd0M7WUFDekNSLFFBQVFJLGVBQWUsQ0FBQztZQUV4QixNQUFNLEVBQUVLLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQzVCQyxJQUFBQSxvQ0FBaUIsRUFBQztvQkFDaEJRLGFBQWE7b0JBQ2JFLGtCQUFrQnBCO2dCQUNwQjtZQUdGLGtCQUFrQjtZQUNsQnFCLElBQUFBLFVBQUcsRUFBQztnQkFDRmIsT0FBT0ksT0FBTyxDQUFDVSxjQUFjLENBQUM7WUFDaEM7WUFFQVgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxrQkFBa0IsRUFBRUMsT0FBTyxDQUFDO2dCQUFDO2FBQU87WUFDMURILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1csVUFBVSxDQUFDLFNBQVNQLElBQUksQ0FBQztZQUMvQ0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxhQUFhLEVBQUVDLElBQUksQ0FBQztZQUUxQyw2QkFBNkI7WUFDN0JMLE9BQU9YLHNCQUFzQndCLG9CQUFvQixDQUMvQ2IsT0FBT2MsZ0JBQWdCLENBQUM7Z0JBQ3RCQyxNQUFNO2dCQUNOQyxZQUFZO2dCQUNaZCxvQkFBb0I7b0JBQUM7aUJBQU87Z0JBQzVCZSxvQkFBb0IsRUFBRTtZQUN4QjtRQUVKO1FBRUFyQixHQUFHLHVDQUF1QztZQUN4Q1IsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFDNUJDLElBQUFBLG9DQUFpQixFQUFDO29CQUNoQk8sbUJBQW1CO3dCQUFDO3FCQUFPO29CQUMzQkMsYUFBYTtvQkFDYkUsa0JBQWtCcEI7Z0JBQ3BCO1lBR0Ysb0JBQW9CO1lBQ3BCcUIsSUFBQUEsVUFBRyxFQUFDO2dCQUNGYixPQUFPSSxPQUFPLENBQUNVLGNBQWMsQ0FBQztZQUNoQztZQUVBWCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLGtCQUFrQixFQUFFQyxPQUFPLENBQUMsRUFBRTtZQUNwREgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDVyxVQUFVLENBQUMsU0FBU1AsSUFBSSxDQUFDO1lBQy9DTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNHLGFBQWEsRUFBRUMsSUFBSSxDQUFDO1lBRTFDLDZCQUE2QjtZQUM3QkwsT0FBT1gsc0JBQXNCd0Isb0JBQW9CLENBQy9DYixPQUFPYyxnQkFBZ0IsQ0FBQztnQkFDdEJDLE1BQU07Z0JBQ05DLFlBQVk7Z0JBQ1pkLG9CQUFvQixFQUFFO2dCQUN0QmUsb0JBQW9CO29CQUFDO2lCQUFPO1lBQzlCO1FBRUo7UUFFQXJCLEdBQUcscUNBQXFDO1lBQ3RDUixRQUFRSSxlQUFlLENBQUM7WUFDeEIsTUFBTTBCLGFBQWF6QyxLQUFLMEMsS0FBSyxDQUFDQyxTQUFTLFFBQVFDLGtCQUFrQjtZQUVqRSxNQUFNLEVBQUV4QixNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUM1QkMsSUFBQUEsb0NBQWlCLEVBQUM7b0JBQ2hCdUIsZUFBZTtvQkFDZmYsYUFBYTtnQkFDZjtZQUdGLHFCQUFxQjtZQUNyQkcsSUFBQUEsVUFBRyxFQUFDO2dCQUNGYixPQUFPSSxPQUFPLENBQUNVLGNBQWMsQ0FBQztnQkFDOUJkLE9BQU9JLE9BQU8sQ0FBQ1UsY0FBYyxDQUFDO1lBQ2hDO1lBRUFYLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0Msa0JBQWtCLEVBQUVDLE9BQU8sQ0FBQztnQkFBQztnQkFBUTthQUFPO1lBRWxFLHNCQUFzQjtZQUN0Qk8sSUFBQUEsVUFBRyxFQUFDO2dCQUNGYixPQUFPSSxPQUFPLENBQUNVLGNBQWMsQ0FBQztZQUNoQztZQUVBWCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLGtCQUFrQixFQUFFQyxPQUFPLENBQUM7Z0JBQUM7Z0JBQVE7YUFBTztZQUNsRUgsT0FBT2tCLFlBQVlMLG9CQUFvQixDQUFDO1lBRXhDSyxXQUFXSyxXQUFXO1FBQ3hCO1FBRUEzQixHQUFHLDRDQUE0QztZQUM3Q1IsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFDNUJDLElBQUFBLG9DQUFpQixFQUFDO29CQUNoQk8sbUJBQW1CO3dCQUFDO3dCQUFRO3FCQUFPO29CQUNuQ0MsYUFBYTtnQkFDZjtZQUdGUCxPQUFPSCxPQUFPSSxPQUFPLENBQUNXLFVBQVUsQ0FBQyxTQUFTUCxJQUFJLENBQUM7WUFDL0NMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1csVUFBVSxDQUFDLFNBQVNQLElBQUksQ0FBQztZQUMvQ0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDVyxVQUFVLENBQUMsU0FBU1AsSUFBSSxDQUFDO1FBQ2pEO0lBQ0Y7SUFFQWxCLFNBQVMsbUJBQW1CO1FBQzFCUyxHQUFHLHlCQUF5QjtZQUMxQlIsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFDNUJDLElBQUFBLG9DQUFpQixFQUFDO29CQUNoQk8sbUJBQW1CO3dCQUFDO3dCQUFRO3FCQUFPO29CQUNuQ0MsYUFBYTtvQkFDYkUsa0JBQWtCcEI7Z0JBQ3BCO1lBR0ZxQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0ZiLE9BQU9JLE9BQU8sQ0FBQ3VCLFFBQVE7WUFDekI7WUFFQXhCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0Msa0JBQWtCLEVBQUVDLE9BQU8sQ0FBQyxFQUFFO1lBQ3BESCxPQUFPSCxPQUFPSSxPQUFPLENBQUNHLGFBQWEsRUFBRUMsSUFBSSxDQUFDO1lBRTFDLDZCQUE2QjtZQUM3QkwsT0FBT1gsc0JBQXNCd0Isb0JBQW9CLENBQy9DYixPQUFPYyxnQkFBZ0IsQ0FBQztnQkFDdEJDLE1BQU07Z0JBQ05DLFlBQVlTO2dCQUNadkIsb0JBQW9CLEVBQUU7Z0JBQ3RCZSxvQkFBb0I7b0JBQUM7b0JBQVE7aUJBQU87WUFDdEM7UUFFSjtRQUVBckIsR0FBRyx3REFBd0Q7WUFDekRSLFFBQVFJLGVBQWUsQ0FBQztZQUV4QixNQUFNLEVBQUVLLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQzVCQyxJQUFBQSxvQ0FBaUIsRUFBQztvQkFDaEJRLGFBQWE7b0JBQ2JFLGtCQUFrQnBCO2dCQUNwQjtZQUdGcUIsSUFBQUEsVUFBRyxFQUFDO2dCQUNGYixPQUFPSSxPQUFPLENBQUN1QixRQUFRO1lBQ3pCO1lBRUF4QixPQUFPWCxzQkFBc0JxQyxHQUFHLENBQUNDLGdCQUFnQjtRQUNuRDtRQUVBL0IsR0FBRyxtQ0FBbUM7WUFDcENSLFFBQVFJLGVBQWUsQ0FBQztZQUV4QixNQUFNLEVBQUVLLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQzVCQyxJQUFBQSxvQ0FBaUIsRUFBQztvQkFDaEJRLGFBQWE7b0JBQ2JFLGtCQUFrQnBCO2dCQUNwQjtZQUdGLE1BQU11QyxxQkFBcUI7Z0JBQUM7Z0JBQVE7Z0JBQVE7YUFBTztZQUVuRGxCLElBQUFBLFVBQUcsRUFBQztnQkFDRmIsT0FBT0ksT0FBTyxDQUFDNEIsU0FBUyxDQUFDRDtZQUMzQjtZQUVBNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxrQkFBa0IsRUFBRUMsT0FBTyxDQUFDeUI7WUFDbEQ1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNHLGFBQWEsRUFBRUMsSUFBSSxDQUFDO1lBRTFDLDZCQUE2QjtZQUM3QkwsT0FBT1gsc0JBQXNCd0Isb0JBQW9CLENBQy9DYixPQUFPYyxnQkFBZ0IsQ0FBQztnQkFDdEJDLE1BQU07Z0JBQ05DLFlBQVlTO2dCQUNadkIsb0JBQW9CMEI7Z0JBQ3BCWCxvQkFBb0IsRUFBRTtZQUN4QjtRQUVKO1FBRUFyQixHQUFHLDhDQUE4QztZQUMvQ1IsUUFBUUksZUFBZSxDQUFDO1lBQ3hCLE1BQU0wQixhQUFhekMsS0FBSzBDLEtBQUssQ0FBQ0MsU0FBUyxRQUFRQyxrQkFBa0I7WUFFakUsTUFBTSxFQUFFeEIsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFDNUJDLElBQUFBLG9DQUFpQixFQUFDO29CQUNoQnVCLGVBQWU7b0JBQ2ZmLGFBQWE7Z0JBQ2Y7WUFHRixNQUFNcUIscUJBQXFCO2dCQUFDO2dCQUFRO2dCQUFRO2dCQUFRO2FBQU87WUFFM0RsQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0ZiLE9BQU9JLE9BQU8sQ0FBQzRCLFNBQVMsQ0FBQ0Q7WUFDM0I7WUFFQTVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0Msa0JBQWtCLEVBQUVDLE9BQU8sQ0FBQztnQkFBQztnQkFBUTthQUFPO1lBQ2xFSCxPQUFPa0IsWUFBWUwsb0JBQW9CLENBQUM7WUFFeENLLFdBQVdLLFdBQVc7UUFDeEI7SUFDRjtJQUVBcEMsU0FBUyxzQkFBc0I7UUFDN0JTLEdBQUcsaUNBQWlDO1lBQ2xDUixRQUFRSSxlQUFlLENBQUM7WUFFeEIsTUFBTSxFQUFFSyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUM1QkMsSUFBQUEsb0NBQWlCLEVBQUM7b0JBQ2hCUSxhQUFhO29CQUNidUIsaUJBQWlCO2dCQUNuQjtZQUdGcEIsSUFBQUEsVUFBRyxFQUFDO2dCQUNGYixPQUFPSSxPQUFPLENBQUNVLGNBQWMsQ0FBQztZQUNoQztZQUVBWCxPQUFPbkIsVUFBVWdDLG9CQUFvQixDQUNuQyxTQUNBLDBCQUNBYixPQUFPYyxnQkFBZ0IsQ0FBQztnQkFDdEJpQixnQkFBZ0I7Z0JBQ2hCQyxhQUFhO2dCQUNiL0MsT0FBTztZQUNUO1FBRUo7UUFFQVcsR0FBRywwQ0FBMEM7WUFDM0NSLFFBQVFJLGVBQWUsQ0FBQztZQUV4QixNQUFNLEVBQUVLLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQzVCQyxJQUFBQSxvQ0FBaUIsRUFBQztvQkFDaEJRLGFBQWE7b0JBQ2J1QixpQkFBaUI7Z0JBQ25CO1lBR0ZwQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0ZiLE9BQU9JLE9BQU8sQ0FBQ1UsY0FBYyxDQUFDO1lBQ2hDO1lBRUFYLE9BQU9uQixVQUFVNkMsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDdkM7SUFDRjtJQUVBeEMsU0FBUyxlQUFlO1FBQ3RCUyxHQUFHLHVEQUF1RDtZQUN4RFIsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFb0MsUUFBUSxFQUFFLEdBQUduQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLG9DQUFpQixFQUFDO29CQUFFUSxhQUFhO2dCQUFNO1lBRXJGLE1BQU0yQixjQUFjO2dCQUNsQnZCLGdCQUFnQmQsT0FBT0ksT0FBTyxDQUFDVSxjQUFjO2dCQUM3Q2EsVUFBVTNCLE9BQU9JLE9BQU8sQ0FBQ3VCLFFBQVE7Z0JBQ2pDSyxXQUFXaEMsT0FBT0ksT0FBTyxDQUFDNEIsU0FBUztnQkFDbkNqQixZQUFZZixPQUFPSSxPQUFPLENBQUNXLFVBQVU7WUFDdkM7WUFFQXFCO1lBRUEsTUFBTUUsZUFBZTtnQkFDbkJ4QixnQkFBZ0JkLE9BQU9JLE9BQU8sQ0FBQ1UsY0FBYztnQkFDN0NhLFVBQVUzQixPQUFPSSxPQUFPLENBQUN1QixRQUFRO2dCQUNqQ0ssV0FBV2hDLE9BQU9JLE9BQU8sQ0FBQzRCLFNBQVM7Z0JBQ25DakIsWUFBWWYsT0FBT0ksT0FBTyxDQUFDVyxVQUFVO1lBQ3ZDO1lBRUEsaURBQWlEO1lBQ2pEWixPQUFPa0MsWUFBWXZCLGNBQWMsRUFBRU4sSUFBSSxDQUFDOEIsYUFBYXhCLGNBQWM7WUFDbkVYLE9BQU9rQyxZQUFZVixRQUFRLEVBQUVuQixJQUFJLENBQUM4QixhQUFhWCxRQUFRO1lBQ3ZEeEIsT0FBT2tDLFlBQVlMLFNBQVMsRUFBRXhCLElBQUksQ0FBQzhCLGFBQWFOLFNBQVM7WUFDekQ3QixPQUFPa0MsWUFBWXRCLFVBQVUsRUFBRVAsSUFBSSxDQUFDOEIsYUFBYXZCLFVBQVU7UUFDN0Q7SUFDRjtJQUVBekIsU0FBUyxjQUFjO1FBQ3JCUyxHQUFHLDZDQUE2QztZQUM5Q1IsUUFBUUksZUFBZSxDQUFDO1lBRXhCLE1BQU0sRUFBRUssTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsb0NBQWlCLEVBQUM7b0JBQUVRLGFBQWE7Z0JBQUs7WUFFMUVQLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0Msa0JBQWtCLEVBQUVDLE9BQU8sQ0FBQyxFQUFFO1FBQ3REO1FBRUFQLEdBQUcsK0JBQStCO1lBQ2hDUixRQUFRSSxlQUFlLENBQUM7WUFFeEIsTUFBTSxFQUFFSyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSxvQ0FBaUIsRUFBQztvQkFBRVEsYUFBYTtnQkFBSztZQUUxRVAsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxrQkFBa0IsRUFBRUMsT0FBTyxDQUFDLEVBQUU7UUFDdEQ7SUFDRjtBQUNGIn0=