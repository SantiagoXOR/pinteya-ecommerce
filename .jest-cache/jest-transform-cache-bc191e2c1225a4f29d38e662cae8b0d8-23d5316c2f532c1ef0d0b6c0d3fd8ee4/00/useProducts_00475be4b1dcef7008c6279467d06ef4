aea0c252d45b7ea5e9c884660430274b
// ===================================
// PINTEYA E-COMMERCE - HOOK PARA PRODUCTOS
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useProducts", {
    enumerable: true,
    get: function() {
        return useProducts;
    }
});
const _react = require("react");
const _products = require("../lib/api/products");
const _productAdapter = require("../lib/adapters/productAdapter");
function useProducts(options = {}) {
    const { initialFilters = {}, autoFetch = true } = options;
    // Referencias para evitar re-renders innecesarios
    const abortControllerRef = (0, _react.useRef)(null);
    const lastRequestRef = (0, _react.useRef)('');
    // DEBUG: Log básico para verificar que el hook se ejecuta (solo en desarrollo)
    if (process.env.NODE_ENV === 'development') {}
    const [state, setState] = (0, _react.useState)({
        products: [],
        loading: false,
        error: null,
        pagination: {
            page: 1,
            limit: 12,
            total: 0,
            totalPages: 0
        }
    });
    const [filters, setFilters] = (0, _react.useState)(initialFilters);
    /**
   * Obtiene productos desde la API con optimizaciones de performance
   */ const fetchProducts = (0, _react.useCallback)(async (newFilters)=>{
        const filtersToUse = newFilters || filters;
        try {
            setState((prev)=>({
                    ...prev,
                    loading: true,
                    error: null
                }));
            const response = await (0, _products.getProducts)(filtersToUse);
            if (response.success) {
                const adaptedProducts = (0, _productAdapter.adaptApiProductsToLegacy)(response.data);
                setState((prev)=>({
                        ...prev,
                        products: adaptedProducts,
                        loading: false,
                        pagination: response.pagination
                    }));
            } else {
                setState((prev)=>({
                        ...prev,
                        loading: false,
                        error: response.error || 'Error obteniendo productos'
                    }));
            }
        } catch (error) {
            const errorMessage = error instanceof Error ? error.message : 'Error inesperado';
            setState((prev)=>({
                    ...prev,
                    loading: false,
                    error: errorMessage
                }));
        }
    }, [
        filters
    ]);
    /**
   * Actualiza los filtros y obtiene productos
   */ const updateFilters = (0, _react.useCallback)((newFilters)=>{
        const updatedFilters = {
            ...filters,
            ...newFilters
        };
        setFilters(updatedFilters);
        fetchProducts(updatedFilters);
    }, [
        filters,
        fetchProducts
    ]);
    /**
   * Cambia la página
   */ const changePage = (0, _react.useCallback)((page)=>{
        updateFilters({
            page
        });
    }, [
        updateFilters
    ]);
    /**
   * Cambia el límite de productos por página
   */ const changeLimit = (0, _react.useCallback)((limit)=>{
        updateFilters({
            limit,
            page: 1
        });
    }, [
        updateFilters
    ]);
    /**
   * Cambia el ordenamiento
   */ const changeSorting = (0, _react.useCallback)((sortBy, sortOrder)=>{
        updateFilters({
            sortBy,
            sortOrder,
            page: 1
        });
    }, [
        updateFilters
    ]);
    /**
   * Busca productos por término
   */ const searchProducts = (0, _react.useCallback)((searchTerm)=>{
        updateFilters({
            search: searchTerm,
            page: 1
        });
    }, [
        updateFilters
    ]);
    /**
   * Filtra por categoría
   */ const filterByCategory = (0, _react.useCallback)((category)=>{
        updateFilters({
            category,
            page: 1
        });
    }, [
        updateFilters
    ]);
    /**
   * Filtra por rango de precios
   */ const filterByPriceRange = (0, _react.useCallback)((priceMin, priceMax)=>{
        updateFilters({
            priceMin,
            priceMax,
            page: 1
        });
    }, [
        updateFilters
    ]);
    /**
   * Limpia todos los filtros
   */ const clearFilters = (0, _react.useCallback)(()=>{
        const clearedFilters = {
            page: 1,
            limit: filters.limit || 12,
            sortBy: 'created_at',
            sortOrder: 'desc'
        };
        setFilters(clearedFilters);
        fetchProducts(clearedFilters);
    }, [
        filters.limit,
        fetchProducts
    ]);
    /**
   * Refresca los productos
   */ const refresh = (0, _react.useCallback)(()=>{
        fetchProducts();
    }, [
        fetchProducts
    ]);
    // Auto-fetch al montar el componente
    (0, _react.useEffect)(()=>{
        if (autoFetch) {
            fetchProducts();
        }
    }, [
        autoFetch
    ]); // Removido fetchProducts de las dependencias para evitar bucles
    // Cleanup effect para cancelar requests pendientes
    (0, _react.useEffect)(()=>{
        return ()=>{
            if (abortControllerRef.current) {
                abortControllerRef.current.abort();
            }
        };
    }, []);
    // Memoized helpers para optimizar renders
    const helpers = (0, _react.useMemo)(()=>({
            hasProducts: state.products.length > 0,
            isEmpty: !state.loading && state.products.length === 0,
            hasError: !!state.error,
            hasNextPage: state.pagination.page < state.pagination.totalPages,
            hasPrevPage: state.pagination.page > 1
        }), [
        state.products.length,
        state.loading,
        state.error,
        state.pagination.page,
        state.pagination.totalPages
    ]);
    return {
        // Estado
        products: state.products,
        loading: state.loading,
        error: state.error,
        pagination: state.pagination,
        filters,
        // Acciones
        fetchProducts,
        updateFilters,
        changePage,
        changeLimit,
        changeSorting,
        searchProducts,
        filterByCategory,
        filterByPriceRange,
        clearFilters,
        refresh,
        // Helpers memoizados
        ...helpers
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXHVzZVByb2R1Y3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBIT09LIFBBUkEgUFJPRFVDVE9TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnQC90eXBlcy9wcm9kdWN0J1xuaW1wb3J0IHsgUHJvZHVjdEZpbHRlcnMsIFBhZ2luYXRlZFJlc3BvbnNlLCBQcm9kdWN0V2l0aENhdGVnb3J5IH0gZnJvbSAnQC90eXBlcy9hcGknXG5pbXBvcnQgeyBnZXRQcm9kdWN0cyB9IGZyb20gJ0AvbGliL2FwaS9wcm9kdWN0cydcbmltcG9ydCB7IGFkYXB0QXBpUHJvZHVjdHNUb0xlZ2FjeSwgRXh0ZW5kZWRQcm9kdWN0IH0gZnJvbSAnQC9saWIvYWRhcHRlcnMvcHJvZHVjdEFkYXB0ZXInXG5cbmludGVyZmFjZSBVc2VQcm9kdWN0c1N0YXRlIHtcbiAgcHJvZHVjdHM6IEV4dGVuZGVkUHJvZHVjdFtdXG4gIGxvYWRpbmc6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgcGFnaW5hdGlvbjoge1xuICAgIHBhZ2U6IG51bWJlclxuICAgIGxpbWl0OiBudW1iZXJcbiAgICB0b3RhbDogbnVtYmVyXG4gICAgdG90YWxQYWdlczogbnVtYmVyXG4gIH1cbn1cblxuaW50ZXJmYWNlIFVzZVByb2R1Y3RzT3B0aW9ucyB7XG4gIGluaXRpYWxGaWx0ZXJzPzogUHJvZHVjdEZpbHRlcnNcbiAgYXV0b0ZldGNoPzogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJvZHVjdHMob3B0aW9uczogVXNlUHJvZHVjdHNPcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBpbml0aWFsRmlsdGVycyA9IHt9LCBhdXRvRmV0Y2ggPSB0cnVlIH0gPSBvcHRpb25zXG5cbiAgLy8gUmVmZXJlbmNpYXMgcGFyYSBldml0YXIgcmUtcmVuZGVycyBpbm5lY2VzYXJpb3NcbiAgY29uc3QgYWJvcnRDb250cm9sbGVyUmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGxhc3RSZXF1ZXN0UmVmID0gdXNlUmVmPHN0cmluZz4oJycpXG5cbiAgLy8gREVCVUc6IExvZyBiw6FzaWNvIHBhcmEgdmVyaWZpY2FyIHF1ZSBlbCBob29rIHNlIGVqZWN1dGEgKHNvbG8gZW4gZGVzYXJyb2xsbylcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIH1cblxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPFVzZVByb2R1Y3RzU3RhdGU+KHtcbiAgICBwcm9kdWN0czogW10sXG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgcGFnZTogMSxcbiAgICAgIGxpbWl0OiAxMixcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgdG90YWxQYWdlczogMCxcbiAgICB9LFxuICB9KVxuXG4gIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlPFByb2R1Y3RGaWx0ZXJzPihpbml0aWFsRmlsdGVycylcblxuICAvKipcbiAgICogT2J0aWVuZSBwcm9kdWN0b3MgZGVzZGUgbGEgQVBJIGNvbiBvcHRpbWl6YWNpb25lcyBkZSBwZXJmb3JtYW5jZVxuICAgKi9cbiAgY29uc3QgZmV0Y2hQcm9kdWN0cyA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChuZXdGaWx0ZXJzPzogUHJvZHVjdEZpbHRlcnMpID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlcnNUb1VzZSA9IG5ld0ZpbHRlcnMgfHwgZmlsdGVyc1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pKVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UHJvZHVjdHMoZmlsdGVyc1RvVXNlKVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgY29uc3QgYWRhcHRlZFByb2R1Y3RzID0gYWRhcHRBcGlQcm9kdWN0c1RvTGVnYWN5KHJlc3BvbnNlLmRhdGEpXG5cbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgcHJvZHVjdHM6IGFkYXB0ZWRQcm9kdWN0cyxcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogcmVzcG9uc2UucGFnaW5hdGlvbixcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogcmVzcG9uc2UuZXJyb3IgfHwgJ0Vycm9yIG9idGVuaWVuZG8gcHJvZHVjdG9zJyxcbiAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3IgaW5lc3BlcmFkbydcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfSxcbiAgICBbZmlsdGVyc11cbiAgKVxuXG4gIC8qKlxuICAgKiBBY3R1YWxpemEgbG9zIGZpbHRyb3MgeSBvYnRpZW5lIHByb2R1Y3Rvc1xuICAgKi9cbiAgY29uc3QgdXBkYXRlRmlsdGVycyA9IHVzZUNhbGxiYWNrKFxuICAgIChuZXdGaWx0ZXJzOiBQYXJ0aWFsPFByb2R1Y3RGaWx0ZXJzPikgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZEZpbHRlcnMgPSB7IC4uLmZpbHRlcnMsIC4uLm5ld0ZpbHRlcnMgfVxuICAgICAgc2V0RmlsdGVycyh1cGRhdGVkRmlsdGVycylcbiAgICAgIGZldGNoUHJvZHVjdHModXBkYXRlZEZpbHRlcnMpXG4gICAgfSxcbiAgICBbZmlsdGVycywgZmV0Y2hQcm9kdWN0c11cbiAgKVxuXG4gIC8qKlxuICAgKiBDYW1iaWEgbGEgcMOhZ2luYVxuICAgKi9cbiAgY29uc3QgY2hhbmdlUGFnZSA9IHVzZUNhbGxiYWNrKFxuICAgIChwYWdlOiBudW1iZXIpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcnMoeyBwYWdlIH0pXG4gICAgfSxcbiAgICBbdXBkYXRlRmlsdGVyc11cbiAgKVxuXG4gIC8qKlxuICAgKiBDYW1iaWEgZWwgbMOtbWl0ZSBkZSBwcm9kdWN0b3MgcG9yIHDDoWdpbmFcbiAgICovXG4gIGNvbnN0IGNoYW5nZUxpbWl0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGxpbWl0OiBudW1iZXIpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcnMoeyBsaW1pdCwgcGFnZTogMSB9KVxuICAgIH0sXG4gICAgW3VwZGF0ZUZpbHRlcnNdXG4gIClcblxuICAvKipcbiAgICogQ2FtYmlhIGVsIG9yZGVuYW1pZW50b1xuICAgKi9cbiAgY29uc3QgY2hhbmdlU29ydGluZyA9IHVzZUNhbGxiYWNrKFxuICAgIChzb3J0Qnk6ICdwcmljZScgfCAnbmFtZScgfCAnY3JlYXRlZF9hdCcsIHNvcnRPcmRlcjogJ2FzYycgfCAnZGVzYycpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcnMoeyBzb3J0QnksIHNvcnRPcmRlciwgcGFnZTogMSB9KVxuICAgIH0sXG4gICAgW3VwZGF0ZUZpbHRlcnNdXG4gIClcblxuICAvKipcbiAgICogQnVzY2EgcHJvZHVjdG9zIHBvciB0w6lybWlub1xuICAgKi9cbiAgY29uc3Qgc2VhcmNoUHJvZHVjdHMgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VhcmNoVGVybTogc3RyaW5nKSA9PiB7XG4gICAgICB1cGRhdGVGaWx0ZXJzKHsgc2VhcmNoOiBzZWFyY2hUZXJtLCBwYWdlOiAxIH0pXG4gICAgfSxcbiAgICBbdXBkYXRlRmlsdGVyc11cbiAgKVxuXG4gIC8qKlxuICAgKiBGaWx0cmEgcG9yIGNhdGVnb3LDrWFcbiAgICovXG4gIGNvbnN0IGZpbHRlckJ5Q2F0ZWdvcnkgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcnk6IHN0cmluZykgPT4ge1xuICAgICAgdXBkYXRlRmlsdGVycyh7IGNhdGVnb3J5LCBwYWdlOiAxIH0pXG4gICAgfSxcbiAgICBbdXBkYXRlRmlsdGVyc11cbiAgKVxuXG4gIC8qKlxuICAgKiBGaWx0cmEgcG9yIHJhbmdvIGRlIHByZWNpb3NcbiAgICovXG4gIGNvbnN0IGZpbHRlckJ5UHJpY2VSYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIChwcmljZU1pbj86IG51bWJlciwgcHJpY2VNYXg/OiBudW1iZXIpID0+IHtcbiAgICAgIHVwZGF0ZUZpbHRlcnMoeyBwcmljZU1pbiwgcHJpY2VNYXgsIHBhZ2U6IDEgfSlcbiAgICB9LFxuICAgIFt1cGRhdGVGaWx0ZXJzXVxuICApXG5cbiAgLyoqXG4gICAqIExpbXBpYSB0b2RvcyBsb3MgZmlsdHJvc1xuICAgKi9cbiAgY29uc3QgY2xlYXJGaWx0ZXJzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFyZWRGaWx0ZXJzOiBQcm9kdWN0RmlsdGVycyA9IHtcbiAgICAgIHBhZ2U6IDEsXG4gICAgICBsaW1pdDogZmlsdGVycy5saW1pdCB8fCAxMixcbiAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxuICAgICAgc29ydE9yZGVyOiAnZGVzYycsXG4gICAgfVxuICAgIHNldEZpbHRlcnMoY2xlYXJlZEZpbHRlcnMpXG4gICAgZmV0Y2hQcm9kdWN0cyhjbGVhcmVkRmlsdGVycylcbiAgfSwgW2ZpbHRlcnMubGltaXQsIGZldGNoUHJvZHVjdHNdKVxuXG4gIC8qKlxuICAgKiBSZWZyZXNjYSBsb3MgcHJvZHVjdG9zXG4gICAqL1xuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGZldGNoUHJvZHVjdHMoKVxuICB9LCBbZmV0Y2hQcm9kdWN0c10pXG5cbiAgLy8gQXV0by1mZXRjaCBhbCBtb250YXIgZWwgY29tcG9uZW50ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRvRmV0Y2gpIHtcbiAgICAgIGZldGNoUHJvZHVjdHMoKVxuICAgIH1cbiAgfSwgW2F1dG9GZXRjaF0pIC8vIFJlbW92aWRvIGZldGNoUHJvZHVjdHMgZGUgbGFzIGRlcGVuZGVuY2lhcyBwYXJhIGV2aXRhciBidWNsZXNcblxuICAvLyBDbGVhbnVwIGVmZmVjdCBwYXJhIGNhbmNlbGFyIHJlcXVlc3RzIHBlbmRpZW50ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50LmFib3J0KClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIE1lbW9pemVkIGhlbHBlcnMgcGFyYSBvcHRpbWl6YXIgcmVuZGVyc1xuICBjb25zdCBoZWxwZXJzID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgaGFzUHJvZHVjdHM6IHN0YXRlLnByb2R1Y3RzLmxlbmd0aCA+IDAsXG4gICAgICBpc0VtcHR5OiAhc3RhdGUubG9hZGluZyAmJiBzdGF0ZS5wcm9kdWN0cy5sZW5ndGggPT09IDAsXG4gICAgICBoYXNFcnJvcjogISFzdGF0ZS5lcnJvcixcbiAgICAgIGhhc05leHRQYWdlOiBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2UgPCBzdGF0ZS5wYWdpbmF0aW9uLnRvdGFsUGFnZXMsXG4gICAgICBoYXNQcmV2UGFnZTogc3RhdGUucGFnaW5hdGlvbi5wYWdlID4gMSxcbiAgICB9KSxcbiAgICBbXG4gICAgICBzdGF0ZS5wcm9kdWN0cy5sZW5ndGgsXG4gICAgICBzdGF0ZS5sb2FkaW5nLFxuICAgICAgc3RhdGUuZXJyb3IsXG4gICAgICBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2UsXG4gICAgICBzdGF0ZS5wYWdpbmF0aW9uLnRvdGFsUGFnZXMsXG4gICAgXVxuICApXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBFc3RhZG9cbiAgICBwcm9kdWN0czogc3RhdGUucHJvZHVjdHMsXG4gICAgbG9hZGluZzogc3RhdGUubG9hZGluZyxcbiAgICBlcnJvcjogc3RhdGUuZXJyb3IsXG4gICAgcGFnaW5hdGlvbjogc3RhdGUucGFnaW5hdGlvbixcbiAgICBmaWx0ZXJzLFxuXG4gICAgLy8gQWNjaW9uZXNcbiAgICBmZXRjaFByb2R1Y3RzLFxuICAgIHVwZGF0ZUZpbHRlcnMsXG4gICAgY2hhbmdlUGFnZSxcbiAgICBjaGFuZ2VMaW1pdCxcbiAgICBjaGFuZ2VTb3J0aW5nLFxuICAgIHNlYXJjaFByb2R1Y3RzLFxuICAgIGZpbHRlckJ5Q2F0ZWdvcnksXG4gICAgZmlsdGVyQnlQcmljZVJhbmdlLFxuICAgIGNsZWFyRmlsdGVycyxcbiAgICByZWZyZXNoLFxuXG4gICAgLy8gSGVscGVycyBtZW1vaXphZG9zXG4gICAgLi4uaGVscGVycyxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVByb2R1Y3RzIiwib3B0aW9ucyIsImluaXRpYWxGaWx0ZXJzIiwiYXV0b0ZldGNoIiwiYWJvcnRDb250cm9sbGVyUmVmIiwidXNlUmVmIiwibGFzdFJlcXVlc3RSZWYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJzdGF0ZSIsInNldFN0YXRlIiwidXNlU3RhdGUiLCJwcm9kdWN0cyIsImxvYWRpbmciLCJlcnJvciIsInBhZ2luYXRpb24iLCJwYWdlIiwibGltaXQiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJmaWx0ZXJzIiwic2V0RmlsdGVycyIsImZldGNoUHJvZHVjdHMiLCJ1c2VDYWxsYmFjayIsIm5ld0ZpbHRlcnMiLCJmaWx0ZXJzVG9Vc2UiLCJwcmV2IiwicmVzcG9uc2UiLCJnZXRQcm9kdWN0cyIsInN1Y2Nlc3MiLCJhZGFwdGVkUHJvZHVjdHMiLCJhZGFwdEFwaVByb2R1Y3RzVG9MZWdhY3kiLCJkYXRhIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwidXBkYXRlRmlsdGVycyIsInVwZGF0ZWRGaWx0ZXJzIiwiY2hhbmdlUGFnZSIsImNoYW5nZUxpbWl0IiwiY2hhbmdlU29ydGluZyIsInNvcnRCeSIsInNvcnRPcmRlciIsInNlYXJjaFByb2R1Y3RzIiwic2VhcmNoVGVybSIsInNlYXJjaCIsImZpbHRlckJ5Q2F0ZWdvcnkiLCJjYXRlZ29yeSIsImZpbHRlckJ5UHJpY2VSYW5nZSIsInByaWNlTWluIiwicHJpY2VNYXgiLCJjbGVhckZpbHRlcnMiLCJjbGVhcmVkRmlsdGVycyIsInJlZnJlc2giLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiYWJvcnQiLCJoZWxwZXJzIiwidXNlTWVtbyIsImhhc1Byb2R1Y3RzIiwibGVuZ3RoIiwiaXNFbXB0eSIsImhhc0Vycm9yIiwiaGFzTmV4dFBhZ2UiLCJoYXNQcmV2UGFnZSJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDJDQUEyQztBQUMzQyxzQ0FBc0M7Ozs7OytCQXlCdEJBOzs7ZUFBQUE7Ozt1QkF2QmtEOzBCQUd0QztnQ0FDOEI7QUFtQm5ELFNBQVNBLFlBQVlDLFVBQThCLENBQUMsQ0FBQztJQUMxRCxNQUFNLEVBQUVDLGlCQUFpQixDQUFDLENBQUMsRUFB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