643d1a335c6d7c06f924a3f9beee9eac
/**
 * useCategoryNavigation Hook Tests
 * Enterprise-ready test suite for category navigation logic
 * Pinteya E-commerce
 */ "use strict";
// Mock Next.js navigation hooks
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn(),
        useSearchParams: jest.fn(),
        usePathname: jest.fn(()=>'/')
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _useCategoryNavigation = require("../../hooks/useCategoryNavigation");
// Mock analytics
const mockGtag = jest.fn();
Object.defineProperty(window, 'gtag', {
    value: mockGtag,
    writable: true
});
describe('useCategoryNavigation Hook', ()=>{
    const mockPush = jest.fn();
    const mockGet = jest.fn();
    const mockForEach = jest.fn();
    beforeEach(()=>{
        jest.clearAllMocks();
        // Setup router mock
        _navigation.useRouter.mockReturnValue({
            push: mockPush
        });
        // Setup search params mock
        _navigation.useSearchParams.mockReturnValue({
            get: mockGet,
            forEach: mockForEach
        });
        // Setup pathname mock
        _navigation.usePathname.mockReturnValue('/');
        // Reset analytics mock
        mockGtag.mockClear();
    });
    describe('Navigation Functions', ()=>{
        it('navigates to filtered view with categories', async ()=>{
            mockGet.mockReturnValue(null);
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    enableAnalytics: true
                }));
            const categories = [
                'cat1',
                'cat2'
            ];
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered(categories);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/?categories=cat1%2Ccat2');
        });
        it('navigates to home (clears filters)', async ()=>{
            mockGet.mockReturnValue('cat1,cat2');
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    enableAnalytics: true
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToHome();
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/');
        });
        it('preserves other URL parameters when enabled', async ()=>{
            mockGet.mockImplementation((key)=>{
                if (key === 'categories') {
                    return null;
                }
                if (key === 'search') {
                    return 'test';
                }
                return null;
            });
            mockForEach.mockImplementation((callback)=>{
                callback('test', 'search');
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    preserveParams: true,
                    enableAnalytics: true
                }));
            const categories = [
                'cat1'
            ];
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered(categories);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/?search=test&categories=cat1');
        });
        it('does not preserve other parameters when disabled', async ()=>{
            mockGet.mockImplementation((key)=>{
                if (key === 'categories') {
                    return null;
                }
                if (key === 'search') {
                    return 'test';
                }
                return null;
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    preserveParams: false,
                    enableAnalytics: true
                }));
            const categories = [
                'cat1'
            ];
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered(categories);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/?categories=cat1');
        });
    });
    describe('URL Building', ()=>{
        it('builds correct URL with single category', ()=>{
            mockGet.mockReturnValue(null);
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            const url = result.current.getCurrentUrl();
            expect(url).toBe('/');
        });
        it('builds correct URL with multiple categories', ()=>{
            mockGet.mockReturnValue('cat1,cat2,cat3');
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            const url = result.current.getCurrentUrl();
            expect(url).toBe('/?categories=cat1%2Ccat2%2Ccat3');
        });
        it('handles empty categories correctly', ()=>{
            mockGet.mockReturnValue('');
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            const url = result.current.getCurrentUrl();
            expect(url).toBe('/');
        });
    });
    describe('Navigation State', ()=>{
        it('tracks navigation state correctly', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            expect(result.current.isNavigating).toBe(false);
            (0, _react.act)(()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
            });
            expect(result.current.isNavigating).toBe(true);
            // Wait for navigation to complete
            await (0, _react.act)(async ()=>{
                await new Promise((resolve)=>setTimeout(resolve, 500));
            });
            expect(result.current.isNavigating).toBe(false);
        });
    });
    describe('Analytics Tracking', ()=>{
        it('tracks navigation analytics when enabled', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    enableAnalytics: true
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered([
                    'cat1',
                    'cat2'
                ]);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockGtag).toHaveBeenCalledWith('event', 'category_navigation', expect.objectContaining({
                event_category: 'navigation',
                event_label: 'filter',
                value: 2
            }));
        });
        it('tracks clear navigation analytics', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    enableAnalytics: true
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToHome();
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockGtag).toHaveBeenCalledWith('event', 'category_navigation', expect.objectContaining({
                event_category: 'navigation',
                event_label: 'clear',
                value: 0
            }));
        });
        it('does not track analytics when disabled', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    enableAnalytics: false
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockGtag).not.toHaveBeenCalled();
        });
    });
    describe('Configuration Options', ()=>{
        it('uses custom parameter name', async ()=>{
            mockGet.mockReturnValue(null);
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    paramName: 'filters'
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/?filters=cat1');
        });
        it('uses custom base path', async ()=>{
            mockGet.mockReturnValue(null);
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    basePath: '/shop'
                }));
            await (0, _react.act)(async ()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
                // Wait for debounce
                await new Promise((resolve)=>setTimeout(resolve, 400));
            });
            expect(mockPush).toHaveBeenCalledWith('/shop?categories=cat1');
        });
        it('respects custom debounce delay', async ()=>{
            jest.useFakeTimers();
            mockGet.mockReturnValue(null);
            mockForEach.mockImplementation(()=>{}); // No other params
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)({
                    debounceDelay: 100
                }));
            (0, _react.act)(()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
            });
            expect(mockPush).not.toHaveBeenCalled();
            (0, _react.act)(()=>{
                jest.advanceTimersByTime(100);
            });
            expect(mockPush).toHaveBeenCalledWith('/?categories=cat1');
            jest.useRealTimers();
        });
    });
    describe('Error Handling', ()=>{
        it('handles navigation errors gracefully', ()=>{
            // Test that the hook doesn't crash when navigation fails
            mockPush.mockImplementation(()=>{
                throw new Error('Navigation failed');
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            // Should not throw when navigation fails
            expect(()=>{
                result.current.navigateToFiltered([
                    'cat1'
                ]);
            }).not.toThrow();
        });
    });
    describe('Cleanup', ()=>{
        it('cleans up debounce timer on unmount', ()=>{
            // This test verifies that the hook cleans up properly
            // The actual cleanup is handled internally by the hook
            const { unmount } = (0, _react.renderHook)(()=>(0, _useCategoryNavigation.useCategoryNavigation)());
            // Should unmount without errors
            expect(()=>unmount()).not.toThrow();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQ2F0ZWdvcnlOYXZpZ2F0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZUNhdGVnb3J5TmF2aWdhdGlvbiBIb29rIFRlc3RzXHJcbiAqIEVudGVycHJpc2UtcmVhZHkgdGVzdCBzdWl0ZSBmb3IgY2F0ZWdvcnkgbmF2aWdhdGlvbiBsb2dpY1xyXG4gKiBQaW50ZXlhIEUtY29tbWVyY2VcclxuICovXHJcblxyXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMsIHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IHsgdXNlQ2F0ZWdvcnlOYXZpZ2F0aW9uIH0gZnJvbSAnQC9ob29rcy91c2VDYXRlZ29yeU5hdmlnYXRpb24nO1xyXG5cclxuLy8gTW9jayBOZXh0LmpzIG5hdmlnYXRpb24gaG9va3NcclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVJvdXRlcjogamVzdC5mbigpLFxyXG4gIHVzZVNlYXJjaFBhcmFtczogamVzdC5mbigpLFxyXG4gIHVzZVBhdGhuYW1lOiBqZXN0LmZuKCgpID0+ICcvJyksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgYW5hbHl0aWNzXHJcbmNvbnN0IG1vY2tHdGFnID0gamVzdC5mbigpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZ3RhZycsIHtcclxuICB2YWx1ZTogbW9ja0d0YWcsXHJcbiAgd3JpdGFibGU6IHRydWUsXHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ3VzZUNhdGVnb3J5TmF2aWdhdGlvbiBIb29rJywgKCkgPT4ge1xyXG4gIGNvbnN0IG1vY2tQdXNoID0gamVzdC5mbigpO1xyXG4gIGNvbnN0IG1vY2tHZXQgPSBqZXN0LmZuKCk7XHJcbiAgY29uc3QgbW9ja0ZvckVhY2ggPSBqZXN0LmZuKCk7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBcclxuICAgIC8vIFNldHVwIHJvdXRlciBtb2NrXHJcbiAgICAodXNlUm91dGVyIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgcHVzaDogbW9ja1B1c2gsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZXR1cCBzZWFyY2ggcGFyYW1zIG1vY2tcclxuICAgICh1c2VTZWFyY2hQYXJhbXMgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBnZXQ6IG1vY2tHZXQsXHJcbiAgICAgIGZvckVhY2g6IG1vY2tGb3JFYWNoLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2V0dXAgcGF0aG5hbWUgbW9ja1xyXG4gICAgKHVzZVBhdGhuYW1lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKCcvJyk7XHJcblxyXG4gICAgLy8gUmVzZXQgYW5hbHl0aWNzIG1vY2tcclxuICAgIG1vY2tHdGFnLm1vY2tDbGVhcigpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTmF2aWdhdGlvbiBGdW5jdGlvbnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnbmF2aWdhdGVzIHRvIGZpbHRlcmVkIHZpZXcgd2l0aCBjYXRlZ29yaWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbih7IGVuYWJsZUFuYWx5dGljczogdHJ1ZSB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IFsnY2F0MScsICdjYXQyJ107XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9GaWx0ZXJlZChjYXRlZ29yaWVzKTtcclxuICAgICAgICAvLyBXYWl0IGZvciBkZWJvdW5jZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA0MDApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvP2NhdGVnb3JpZXM9Y2F0MSUyQ2NhdDInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCduYXZpZ2F0ZXMgdG8gaG9tZSAoY2xlYXJzIGZpbHRlcnMpJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZSgnY2F0MSxjYXQyJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oeyBlbmFibGVBbmFseXRpY3M6IHRydWUgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQubmF2aWdhdGVUb0hvbWUoKTtcclxuICAgICAgICAvLyBXYWl0IGZvciBkZWJvdW5jZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA0MDApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgncHJlc2VydmVzIG90aGVyIFVSTCBwYXJhbWV0ZXJzIHdoZW4gZW5hYmxlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0dldC5tb2NrSW1wbGVtZW50YXRpb24oKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NhdGVnb3JpZXMnKSB7cmV0dXJuIG51bGw7fVxyXG4gICAgICAgIGlmIChrZXkgPT09ICdzZWFyY2gnKSB7cmV0dXJuICd0ZXN0Jzt9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgbW9ja0ZvckVhY2gubW9ja0ltcGxlbWVudGF0aW9uKChjYWxsYmFjazogKHZhbHVlOiBzdHJpbmcsIGtleTogc3RyaW5nKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soJ3Rlc3QnLCAnc2VhcmNoJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXHJcbiAgICAgICAgdXNlQ2F0ZWdvcnlOYXZpZ2F0aW9uKHsgXHJcbiAgICAgICAgICBwcmVzZXJ2ZVBhcmFtczogdHJ1ZSxcclxuICAgICAgICAgIGVuYWJsZUFuYWx5dGljczogdHJ1ZSBcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IFsnY2F0MSddO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5uYXZpZ2F0ZVRvRmlsdGVyZWQoY2F0ZWdvcmllcyk7XHJcbiAgICAgICAgLy8gV2FpdCBmb3IgZGVib3VuY2VcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNDAwKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnLz9zZWFyY2g9dGVzdCZjYXRlZ29yaWVzPWNhdDEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkb2VzIG5vdCBwcmVzZXJ2ZSBvdGhlciBwYXJhbWV0ZXJzIHdoZW4gZGlzYWJsZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG1vY2tHZXQubW9ja0ltcGxlbWVudGF0aW9uKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGlmIChrZXkgPT09ICdjYXRlZ29yaWVzJykge3JldHVybiBudWxsO31cclxuICAgICAgICBpZiAoa2V5ID09PSAnc2VhcmNoJykge3JldHVybiAndGVzdCc7fVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbih7IFxyXG4gICAgICAgICAgcHJlc2VydmVQYXJhbXM6IGZhbHNlLFxyXG4gICAgICAgICAgZW5hYmxlQW5hbHl0aWNzOiB0cnVlIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gWydjYXQxJ107XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9GaWx0ZXJlZChjYXRlZ29yaWVzKTtcclxuICAgICAgICAvLyBXYWl0IGZvciBkZWJvdW5jZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA0MDApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvP2NhdGVnb3JpZXM9Y2F0MScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdVUkwgQnVpbGRpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnYnVpbGRzIGNvcnJlY3QgVVJMIHdpdGggc2luZ2xlIGNhdGVnb3J5JywgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgICAgbW9ja0ZvckVhY2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTsgLy8gTm8gb3RoZXIgcGFyYW1zXHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbigpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSByZXN1bHQuY3VycmVudC5nZXRDdXJyZW50VXJsKCk7XHJcbiAgICAgIGV4cGVjdCh1cmwpLnRvQmUoJy8nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdidWlsZHMgY29ycmVjdCBVUkwgd2l0aCBtdWx0aXBsZSBjYXRlZ29yaWVzJywgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZSgnY2F0MSxjYXQyLGNhdDMnKTtcclxuICAgICAgbW9ja0ZvckVhY2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTsgLy8gTm8gb3RoZXIgcGFyYW1zXHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbigpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSByZXN1bHQuY3VycmVudC5nZXRDdXJyZW50VXJsKCk7XHJcbiAgICAgIGV4cGVjdCh1cmwpLnRvQmUoJy8/Y2F0ZWdvcmllcz1jYXQxJTJDY2F0MiUyQ2NhdDMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdoYW5kbGVzIGVtcHR5IGNhdGVnb3JpZXMgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZSgnJyk7XHJcbiAgICAgIG1vY2tGb3JFYWNoLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7IC8vIE5vIG90aGVyIHBhcmFtc1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgdXJsID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q3VycmVudFVybCgpO1xyXG4gICAgICBleHBlY3QodXJsKS50b0JlKCcvJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ05hdmlnYXRpb24gU3RhdGUnLCAoKSA9PiB7XHJcbiAgICBpdCgndHJhY2tzIG5hdmlnYXRpb24gc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTmF2aWdhdGluZykudG9CZShmYWxzZSk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9GaWx0ZXJlZChbJ2NhdDEnXSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTmF2aWdhdGluZykudG9CZSh0cnVlKTtcclxuXHJcbiAgICAgIC8vIFdhaXQgZm9yIG5hdmlnYXRpb24gdG8gY29tcGxldGVcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTmF2aWdhdGluZykudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0FuYWx5dGljcyBUcmFja2luZycsICgpID0+IHtcclxuICAgIGl0KCd0cmFja3MgbmF2aWdhdGlvbiBhbmFseXRpY3Mgd2hlbiBlbmFibGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oeyBlbmFibGVBbmFseXRpY3M6IHRydWUgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQubmF2aWdhdGVUb0ZpbHRlcmVkKFsnY2F0MScsICdjYXQyJ10pO1xyXG4gICAgICAgIC8vIFdhaXQgZm9yIGRlYm91bmNlXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDQwMCkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrR3RhZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ2V2ZW50JyxcclxuICAgICAgICAnY2F0ZWdvcnlfbmF2aWdhdGlvbicsXHJcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICduYXZpZ2F0aW9uJyxcclxuICAgICAgICAgIGV2ZW50X2xhYmVsOiAnZmlsdGVyJyxcclxuICAgICAgICAgIHZhbHVlOiAyLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgndHJhY2tzIGNsZWFyIG5hdmlnYXRpb24gYW5hbHl0aWNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oeyBlbmFibGVBbmFseXRpY3M6IHRydWUgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQubmF2aWdhdGVUb0hvbWUoKTtcclxuICAgICAgICAvLyBXYWl0IGZvciBkZWJvdW5jZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA0MDApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja0d0YWcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdldmVudCcsXHJcbiAgICAgICAgJ2NhdGVnb3J5X25hdmlnYXRpb24nLFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnbmF2aWdhdGlvbicsXHJcbiAgICAgICAgICBldmVudF9sYWJlbDogJ2NsZWFyJyxcclxuICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZG9lcyBub3QgdHJhY2sgYW5hbHl0aWNzIHdoZW4gZGlzYWJsZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbih7IGVuYWJsZUFuYWx5dGljczogZmFsc2UgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQubmF2aWdhdGVUb0ZpbHRlcmVkKFsnY2F0MSddKTtcclxuICAgICAgICAvLyBXYWl0IGZvciBkZWJvdW5jZVxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA0MDApKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja0d0YWcpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NvbmZpZ3VyYXRpb24gT3B0aW9ucycsICgpID0+IHtcclxuICAgIGl0KCd1c2VzIGN1c3RvbSBwYXJhbWV0ZXIgbmFtZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0dldC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICAgIG1vY2tGb3JFYWNoLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7IC8vIE5vIG90aGVyIHBhcmFtc1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oeyBwYXJhbU5hbWU6ICdmaWx0ZXJzJyB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5uYXZpZ2F0ZVRvRmlsdGVyZWQoWydjYXQxJ10pO1xyXG4gICAgICAgIC8vIFdhaXQgZm9yIGRlYm91bmNlXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDQwMCkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy8/ZmlsdGVycz1jYXQxJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgndXNlcyBjdXN0b20gYmFzZSBwYXRoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrR2V0Lm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxuICAgICAgbW9ja0ZvckVhY2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTsgLy8gTm8gb3RoZXIgcGFyYW1zXHJcblxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxyXG4gICAgICAgIHVzZUNhdGVnb3J5TmF2aWdhdGlvbih7IGJhc2VQYXRoOiAnL3Nob3AnIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9GaWx0ZXJlZChbJ2NhdDEnXSk7XHJcbiAgICAgICAgLy8gV2FpdCBmb3IgZGVib3VuY2VcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNDAwKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Nob3A/Y2F0ZWdvcmllcz1jYXQxJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgncmVzcGVjdHMgY3VzdG9tIGRlYm91bmNlIGRlbGF5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcclxuICAgICAgbW9ja0dldC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICAgIG1vY2tGb3JFYWNoLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7IC8vIE5vIG90aGVyIHBhcmFtc1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oeyBkZWJvdW5jZURlbGF5OiAxMDAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQubmF2aWdhdGVUb0ZpbHRlcmVkKFsnY2F0MSddKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobW9ja1B1c2gpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy8/Y2F0ZWdvcmllcz1jYXQxJyk7XHJcblxyXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnaGFuZGxlcyBuYXZpZ2F0aW9uIGVycm9ycyBncmFjZWZ1bGx5JywgKCkgPT4ge1xyXG4gICAgICAvLyBUZXN0IHRoYXQgdGhlIGhvb2sgZG9lc24ndCBjcmFzaCB3aGVuIG5hdmlnYXRpb24gZmFpbHNcclxuICAgICAgbW9ja1B1c2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdmlnYXRpb24gZmFpbGVkJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyB3aGVuIG5hdmlnYXRpb24gZmFpbHNcclxuICAgICAgZXhwZWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5uYXZpZ2F0ZVRvRmlsdGVyZWQoWydjYXQxJ10pO1xyXG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdDbGVhbnVwJywgKCkgPT4ge1xyXG4gICAgaXQoJ2NsZWFucyB1cCBkZWJvdW5jZSB0aW1lciBvbiB1bm1vdW50JywgKCkgPT4ge1xyXG4gICAgICAvLyBUaGlzIHRlc3QgdmVyaWZpZXMgdGhhdCB0aGUgaG9vayBjbGVhbnMgdXAgcHJvcGVybHlcclxuICAgICAgLy8gVGhlIGFjdHVhbCBjbGVhbnVwIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBieSB0aGUgaG9va1xyXG4gICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlckhvb2soKCkgPT5cclxuICAgICAgICB1c2VDYXRlZ29yeU5hdmlnYXRpb24oKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gU2hvdWxkIHVubW91bnQgd2l0aG91dCBlcnJvcnNcclxuICAgICAgZXhwZWN0KCgpID0+IHVubW91bnQoKSkubm90LnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwiZm4iLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VQYXRobmFtZSIsIm1vY2tHdGFnIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIndyaXRhYmxlIiwiZGVzY3JpYmUiLCJtb2NrUHVzaCIsIm1vY2tHZXQiLCJtb2NrRm9yRWFjaCIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwicHVzaCIsImdldCIsImZvckVhY2giLCJtb2NrQ2xlYXIiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VDYXRlZ29yeU5hdmlnYXRpb24iLCJlbmFibGVBbmFseXRpY3MiLCJjYXRlZ29yaWVzIiwiYWN0IiwiY3VycmVudCIsIm5hdmlnYXRlVG9GaWx0ZXJlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibmF2aWdhdGVUb0hvbWUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJrZXkiLCJjYWxsYmFjayIsInByZXNlcnZlUGFyYW1zIiwidXJsIiwiZ2V0Q3VycmVudFVybCIsInRvQmUiLCJpc05hdmlnYXRpbmciLCJvYmplY3RDb250YWluaW5nIiwiZXZlbnRfY2F0ZWdvcnkiLCJldmVudF9sYWJlbCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJwYXJhbU5hbWUiLCJiYXNlUGF0aCIsInVzZUZha2VUaW1lcnMiLCJkZWJvdW5jZURlbGF5IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsInVzZVJlYWxUaW1lcnMiLCJFcnJvciIsInRvVGhyb3ciLCJ1bm1vdW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDO0FBTUQsZ0NBQWdDO0FBQ2hDQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBV0YsS0FBS0csRUFBRTtRQUNsQkMsaUJBQWlCSixLQUFLRyxFQUFFO1FBQ3hCRSxhQUFhTCxLQUFLRyxFQUFFLENBQUMsSUFBTTtJQUM3QixDQUFBOzs7O3VCQVRnQzs0QkFDd0I7dUNBQ2xCO0FBU3RDLGlCQUFpQjtBQUNqQixNQUFNRyxXQUFXTixLQUFLRyxFQUFFO0FBQ3hCSSxPQUFPQyxjQUFjLENBQUNDLFFBQVEsUUFBUTtJQUNwQ0MsT0FBT0o7SUFDUEssVUFBVTtBQUNaO0FBRUFDLFNBQVMsOEJBQThCO0lBQ3JDLE1BQU1DLFdBQVdiLEtBQUtHLEVBQUU7SUFDeEIsTUFBTVcsVUFBVWQsS0FBS0csRUFBRTtJQUN2QixNQUFNWSxjQUFjZixLQUFLRyxFQUFFO0lBRTNCYSxXQUFXO1FBQ1RoQixLQUFLaUIsYUFBYTtRQUVsQixvQkFBb0I7UUFDbkJmLHFCQUFTLENBQWVnQixlQUFlLENBQUM7WUFDdkNDLE1BQU1OO1FBQ1I7UUFFQSwyQkFBMkI7UUFDMUJULDJCQUFlLENBQWVjLGVBQWUsQ0FBQztZQUM3Q0UsS0FBS047WUFDTE8sU0FBU047UUFDWDtRQUVBLHNCQUFzQjtRQUNyQlYsdUJBQVcsQ0FBZWEsZUFBZSxDQUFDO1FBRTNDLHVCQUF1QjtRQUN2QlosU0FBU2dCLFNBQVM7SUFDcEI7SUFFQVYsU0FBUyx3QkFBd0I7UUFDL0JXLEdBQUcsOENBQThDO1lBQy9DVCxRQUFRSSxlQUFlLENBQUM7WUFFeEIsTUFBTSxFQUFFTSxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUM1QkMsSUFBQUEsNENBQXFCLEVBQUM7b0JBQUVDLGlCQUFpQjtn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