808d408a78e2ea5b1124980d29dd4cfd
// ===================================
// PINTEYA E-COMMERCE - LAZY PRODUCT COMPONENTS
// Componentes con lazy loading para gestión de productos
// ===================================
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get LazyProductBulkActions () {
        return LazyProductBulkActions;
    },
    get LazyProductFilters () {
        return LazyProductFilters;
    },
    get LazyProductForm () {
        return LazyProductForm;
    },
    get LazyProductList () {
        return LazyProductList;
    },
    get ProductComponentsPrefetch () {
        return ProductComponentsPrefetch;
    },
    get usePreloadProductComponents () {
        return usePreloadProductComponents;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _card = require("../../ui/card");
const _skeleton = require("../../ui/skeleton");
const _button = require("../../ui/button");
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// ===================================
// LAZY IMPORTS
// ===================================
// Lazy loading de componentes de productos
const ProductList = /*#__PURE__*/ (0, _react.lazy)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductList"))));
const ProductForm = /*#__PURE__*/ (0, _react.lazy)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductForm"))));
const ProductFilters = /*#__PURE__*/ (0, _react.lazy)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductFilters"))));
const ProductBulkActions = /*#__PURE__*/ (0, _react.lazy)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductBulkActions"))));
// ===================================
// SKELETON COMPONENTS
// ===================================
function ProductListSkeleton() {
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-8 w-48 mb-2"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-4 w-64"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                        className: "h-10 w-32"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                            className: "flex items-center gap-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Filter, {
                                    className: "w-5 h-5"
                                }),
                                "Filtros"
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",
                            children: Array.from({
                                length: 4
                            }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-4 w-20"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-10 w-full"
                                        })
                                    ]
                                }, i))
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",
                children: Array.from({
                    length: 8
                }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                        className: "overflow-hidden",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "aspect-square bg-gray-200",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                    className: "h-full w-full"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                                className: "p-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                        className: "h-5 w-full mb-2"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                        className: "h-4 w-24 mb-2"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center justify-between",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                className: "h-6 w-16"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                className: "h-8 w-20"
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }, i))
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                        className: "h-4 w-32"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-20"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-10"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-10"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-20"
                            })
                        ]
                    })
                ]
            })
        ]
    });
}
function ProductFormSkeleton() {
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "max-w-4xl mx-auto space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-8 w-48 mb-2"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-4 w-64"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-24"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                className: "h-10 w-24"
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "grid grid-cols-1 lg:grid-cols-3 gap-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "lg:col-span-2 space-y-6",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-6 w-32"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                        className: "space-y-4",
                                        children: Array.from({
                                            length: 5
                                        }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "space-y-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                        className: "h-4 w-24"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                        className: "h-10 w-full"
                                                    })
                                                ]
                                            }, i))
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-6 w-32"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-32 w-full"
                                        })
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-6",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-6 w-24"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                        className: "space-y-4",
                                        children: Array.from({
                                            length: 3
                                        }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "space-y-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                        className: "h-4 w-20"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                        className: "h-10 w-full"
                                                    })
                                                ]
                                            }, i))
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                            className: "h-6 w-24"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "grid grid-cols-2 gap-4",
                                            children: Array.from({
                                                length: 4
                                            }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                                    className: "aspect-square w-full"
                                                }, i))
                                        })
                                    })
                                ]
                            })
                        ]
                    })
                ]
            })
        ]
    });
}
function ProductFiltersSkeleton() {
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                    className: "flex items-center gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Filter, {
                            className: "w-5 h-5"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                            className: "h-6 w-16"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",
                    children: Array.from({
                        length: 4
                    }).map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                    className: "h-4 w-20"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_skeleton.Skeleton, {
                                    className: "h-10 w-full"
                                })
                            ]
                        }, i))
                })
            })
        ]
    });
}
class ProductErrorBoundary extends _react.default.Component {
    constructor(props){
        super(props);
        this.state = {
            hasError: false
        };
    }
    static getDerivedStateFromError(error) {
        return {
            hasError: true,
            error
        };
    }
    componentDidCatch(error, errorInfo) {
        console.error('Product component lazy loading error:', error, errorInfo);
    }
    render() {
        if (this.state.hasError) {
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "flex items-center justify-center min-h-[400px]",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                    className: "w-full max-w-md",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                                className: "flex items-center gap-2 text-red-600",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                        className: "h-5 w-5"
                                    }),
                                    "Error de Carga"
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-sm text-gray-600 mb-4",
                                    children: "No se pudo cargar el componente de productos. Por favor, intenta nuevamente."
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                    onClick: ()=>window.location.reload(),
                                    className: "w-full",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                            className: "w-4 h-4 mr-2"
                                        }),
                                        "Recargar"
                                    ]
                                })
                            ]
                        })
                    ]
                })
            });
        }
        return this.props.children;
    }
}
function LazyProductList(props) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {
        fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductListSkeleton, {}),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductErrorBoundary, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductList, {
                ...props
            })
        })
    });
}
function LazyProductForm(props) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {
        fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductFormSkeleton, {}),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductErrorBoundary, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductForm, {
                ...props
            })
        })
    });
}
function LazyProductFilters(props) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {
        fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductFiltersSkeleton, {}),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductErrorBoundary, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductFilters, {
                ...props
            })
        })
    });
}
function LazyProductBulkActions(props) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.Suspense, {
        fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "h-12 flex items-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                className: "w-4 h-4 animate-spin"
            })
        }),
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductErrorBoundary, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ProductBulkActions, {
                ...props
            })
        })
    });
}
function usePreloadProductComponents() {
    const preloadList = _react.default.useCallback(()=>{
        Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductList")));
    }, []);
    const preloadForm = _react.default.useCallback(()=>{
        Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductForm")));
    }, []);
    const preloadFilters = _react.default.useCallback(()=>{
        Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductFilters")));
    }, []);
    const preloadBulkActions = _react.default.useCallback(()=>{
        Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./ProductBulkActions")));
    }, []);
    return {
        preloadList,
        preloadForm,
        preloadFilters,
        preloadBulkActions
    };
}
function ProductComponentsPrefetch() {
    const { preloadList, preloadForm, preloadFilters, preloadBulkActions } = usePreloadProductComponents();
    _react.default.useEffect(()=>{
        // Precargar componentes después de un delay
        const timer = setTimeout(()=>{
            preloadList();
            preloadFilters();
        // Form y BulkActions se cargan bajo demanda
        }, 1500);
        return ()=>clearTimeout(timer);
    }, [
        preloadList,
        preloadFilters
    ]);
    return null;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXHByb2R1Y3RzXFxMYXp5UHJvZHVjdENvbXBvbmVudHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBMQVpZIFBST0RVQ1QgQ09NUE9ORU5UU1xuLy8gQ29tcG9uZW50ZXMgY29uIGxhenkgbG9hZGluZyBwYXJhIGdlc3Rpw7NuIGRlIHByb2R1Y3Rvc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuJ3VzZSBjbGllbnQnXG5cbmltcG9ydCBSZWFjdCwgeyBsYXp5LCBTdXNwZW5zZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJ1xuaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvc2tlbGV0b24nXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgUGFja2FnZSwgU2VhcmNoLCBGaWx0ZXIsIFBsdXMsIEFsZXJ0VHJpYW5nbGUsIExvYWRlcjIgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMQVpZIElNUE9SVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIExhenkgbG9hZGluZyBkZSBjb21wb25lbnRlcyBkZSBwcm9kdWN0b3NcbmNvbnN0IFByb2R1Y3RMaXN0ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vUHJvZHVjdExpc3QnKSlcbmNvbnN0IFByb2R1Y3RGb3JtID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vUHJvZHVjdEZvcm0nKSlcbmNvbnN0IFByb2R1Y3RGaWx0ZXJzID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vUHJvZHVjdEZpbHRlcnMnKSlcbmNvbnN0IFByb2R1Y3RCdWxrQWN0aW9ucyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL1Byb2R1Y3RCdWxrQWN0aW9ucycpKVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0tFTEVUT04gQ09NUE9ORU5UU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gUHJvZHVjdExpc3RTa2VsZXRvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJz5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTggdy00OCBtYi0yJyAvPlxuICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtNCB3LTY0JyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC0xMCB3LTMyJyAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGaWx0ZXJzICovfVxuICAgICAgPENhcmQ+XG4gICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMic+XG4gICAgICAgICAgICA8RmlsdGVyIGNsYXNzTmFtZT0ndy01IGgtNScgLz5cbiAgICAgICAgICAgIEZpbHRyb3NcbiAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTQnPlxuICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDQgfSkubWFwKChfLCBpKSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9J3NwYWNlLXktMic+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC00IHctMjAnIC8+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC0xMCB3LWZ1bGwnIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICA8L0NhcmQ+XG5cbiAgICAgIHsvKiBQcm9kdWN0IEdyaWQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyB4bDpncmlkLWNvbHMtNCBnYXAtNic+XG4gICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA4IH0pLm1hcCgoXywgaSkgPT4gKFxuICAgICAgICAgIDxDYXJkIGtleT17aX0gY2xhc3NOYW1lPSdvdmVyZmxvdy1oaWRkZW4nPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2FzcGVjdC1zcXVhcmUgYmctZ3JheS0yMDAnPlxuICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLWZ1bGwgdy1mdWxsJyAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPSdwLTQnPlxuICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTUgdy1mdWxsIG1iLTInIC8+XG4gICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtNCB3LTI0IG1iLTInIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtNiB3LTE2JyAvPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtOCB3LTIwJyAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogUGFnaW5hdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4nPlxuICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTQgdy0zMicgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMic+XG4gICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC0xMCB3LTIwJyAvPlxuICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtMTAgdy0xMCcgLz5cbiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTEwIHctMTAnIC8+XG4gICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC0xMCB3LTIwJyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmZ1bmN0aW9uIFByb2R1Y3RGb3JtU2tlbGV0b24oKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J21heC13LTR4bCBteC1hdXRvIHNwYWNlLXktNic+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2Vlbic+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC04IHctNDggbWItMicgLz5cbiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTQgdy02NCcgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGdhcC0yJz5cbiAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTEwIHctMjQnIC8+XG4gICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC0xMCB3LTI0JyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRm9ybSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0zIGdhcC02Jz5cbiAgICAgICAgey8qIE1haW4gRm9ybSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2xnOmNvbC1zcGFuLTIgc3BhY2UteS02Jz5cbiAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTYgdy0zMicgLz5cbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0pLm1hcCgoXywgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9J3NwYWNlLXktMic+XG4gICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTQgdy0yNCcgLz5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtMTAgdy1mdWxsJyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC02IHctMzInIC8+XG4gICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtMzIgdy1mdWxsJyAvPlxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTaWRlYmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS02Jz5cbiAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTYgdy0yNCcgLz5cbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9J3NwYWNlLXktNCc+XG4gICAgICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAzIH0pLm1hcCgoXywgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpfSBjbGFzc05hbWU9J3NwYWNlLXktMic+XG4gICAgICAgICAgICAgICAgICA8U2tlbGV0b24gY2xhc3NOYW1lPSdoLTQgdy0yMCcgLz5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtMTAgdy1mdWxsJyAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC02IHctMjQnIC8+XG4gICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdncmlkIGdyaWQtY29scy0yIGdhcC00Jz5cbiAgICAgICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9KS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiBrZXk9e2l9IGNsYXNzTmFtZT0nYXNwZWN0LXNxdWFyZSB3LWZ1bGwnIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gUHJvZHVjdEZpbHRlcnNTa2VsZXRvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8Q2FyZD5cbiAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTInPlxuICAgICAgICAgIDxGaWx0ZXIgY2xhc3NOYW1lPSd3LTUgaC01JyAvPlxuICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtNiB3LTE2JyAvPlxuICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2dyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTQnPlxuICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA0IH0pLm1hcCgoXywgaSkgPT4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgPFNrZWxldG9uIGNsYXNzTmFtZT0naC00IHctMjAnIC8+XG4gICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9J2gtMTAgdy1mdWxsJyAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gIClcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEVSUk9SIEJPVU5EQVJZXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbnRlcmZhY2UgRXJyb3JCb3VuZGFyeVN0YXRlIHtcbiAgaGFzRXJyb3I6IGJvb2xlYW5cbiAgZXJyb3I/OiBFcnJvclxufVxuXG5jbGFzcyBQcm9kdWN0RXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e30+LFxuICBFcnJvckJvdW5kYXJ5U3RhdGVcbj4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e30+KSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzRXJyb3I6IGZhbHNlIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3I6IEVycm9yKTogRXJyb3JCb3VuZGFyeVN0YXRlIHtcbiAgICByZXR1cm4geyBoYXNFcnJvcjogdHJ1ZSwgZXJyb3IgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3I6IEVycm9yLCBlcnJvckluZm86IFJlYWN0LkVycm9ySW5mbykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2R1Y3QgY29tcG9uZW50IGxhenkgbG9hZGluZyBlcnJvcjonLCBlcnJvciwgZXJyb3JJbmZvKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtWzQwMHB4XSc+XG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPSd3LWZ1bGwgbWF4LXctbWQnPlxuICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXJlZC02MDAnPlxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT0naC01IHctNScgLz5cbiAgICAgICAgICAgICAgICBFcnJvciBkZSBDYXJnYVxuICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItNCc+XG4gICAgICAgICAgICAgICAgTm8gc2UgcHVkbyBjYXJnYXIgZWwgY29tcG9uZW50ZSBkZSBwcm9kdWN0b3MuIFBvciBmYXZvciwgaW50ZW50YSBudWV2YW1lbnRlLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSBjbGFzc05hbWU9J3ctZnVsbCc+XG4gICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPSd3LTQgaC00IG1yLTInIC8+XG4gICAgICAgICAgICAgICAgUmVjYXJnYXJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTEFaWSBDT01QT05FTlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gTGF6eVByb2R1Y3RMaXN0KHByb3BzOiBhbnkpIHtcbiAgcmV0dXJuIChcbiAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxQcm9kdWN0TGlzdFNrZWxldG9uIC8+fT5cbiAgICAgIDxQcm9kdWN0RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgPFByb2R1Y3RMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvUHJvZHVjdEVycm9yQm91bmRhcnk+XG4gICAgPC9TdXNwZW5zZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGF6eVByb2R1Y3RGb3JtKHByb3BzOiBhbnkpIHtcbiAgcmV0dXJuIChcbiAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxQcm9kdWN0Rm9ybVNrZWxldG9uIC8+fT5cbiAgICAgIDxQcm9kdWN0RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgPFByb2R1Y3RGb3JtIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvUHJvZHVjdEVycm9yQm91bmRhcnk+XG4gICAgPC9TdXNwZW5zZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGF6eVByb2R1Y3RGaWx0ZXJzKHByb3BzOiBhbnkpIHtcbiAgcmV0dXJuIChcbiAgICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxQcm9kdWN0RmlsdGVyc1NrZWxldG9uIC8+fT5cbiAgICAgIDxQcm9kdWN0RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgPFByb2R1Y3RGaWx0ZXJzIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvUHJvZHVjdEVycm9yQm91bmRhcnk+XG4gICAgPC9TdXNwZW5zZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGF6eVByb2R1Y3RCdWxrQWN0aW9ucyhwcm9wczogYW55KSB7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlXG4gICAgICBmYWxsYmFjaz17XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdoLTEyIGZsZXggaXRlbXMtY2VudGVyJz5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9J3ctNCBoLTQgYW5pbWF0ZS1zcGluJyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA+XG4gICAgICA8UHJvZHVjdEVycm9yQm91bmRhcnk+XG4gICAgICAgIDxQcm9kdWN0QnVsa0FjdGlvbnMgey4uLnByb3BzfSAvPlxuICAgICAgPC9Qcm9kdWN0RXJyb3JCb3VuZGFyeT5cbiAgICA8L1N1c3BlbnNlPlxuICApXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQUkVMT0FESU5HIEhPT0tTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJlbG9hZFByb2R1Y3RDb21wb25lbnRzKCkge1xuICBjb25zdCBwcmVsb2FkTGlzdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpbXBvcnQoJy4vUHJvZHVjdExpc3QnKVxuICB9LCBbXSlcblxuICBjb25zdCBwcmVsb2FkRm9ybSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpbXBvcnQoJy4vUHJvZHVjdEZvcm0nKVxuICB9LCBbXSlcblxuICBjb25zdCBwcmVsb2FkRmlsdGVycyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpbXBvcnQoJy4vUHJvZHVjdEZpbHRlcnMnKVxuICB9LCBbXSlcblxuICBjb25zdCBwcmVsb2FkQnVsa0FjdGlvbnMgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaW1wb3J0KCcuL1Byb2R1Y3RCdWxrQWN0aW9ucycpXG4gIH0sIFtdKVxuXG4gIHJldHVybiB7XG4gICAgcHJlbG9hZExpc3QsXG4gICAgcHJlbG9hZEZvcm0sXG4gICAgcHJlbG9hZEZpbHRlcnMsXG4gICAgcHJlbG9hZEJ1bGtBY3Rpb25zLFxuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQUkVGRVRDSCBDT01QT05FTlRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm9kdWN0Q29tcG9uZW50c1ByZWZldGNoKCkge1xuICBjb25zdCB7IHByZWxvYWRMaXN0LCBwcmVsb2FkRm9ybSwgcHJlbG9hZEZpbHRlcnMsIHByZWxvYWRCdWxrQWN0aW9ucyB9ID1cbiAgICB1c2VQcmVsb2FkUHJvZHVjdENvbXBvbmVudHMoKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gUHJlY2FyZ2FyIGNvbXBvbmVudGVzIGRlc3B1w6lzIGRlIHVuIGRlbGF5XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHByZWxvYWRMaXN0KClcbiAgICAgIHByZWxvYWRGaWx0ZXJzKClcbiAgICAgIC8vIEZvcm0geSBCdWxrQWN0aW9ucyBzZSBjYXJnYW4gYmFqbyBkZW1hbmRhXG4gICAgfSwgMTUwMClcblxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXG4gIH0sIFtwcmVsb2FkTGlzdCwgcHJlbG9hZEZpbHRlcnNdKVxuXG4gIHJldHVybiBudWxsXG59XG4iXSwibmFtZXMiOlsiTGF6eVByb2R1Y3RCdWxrQWN0aW9ucyIsIkxhenlQcm9kdWN0RmlsdGVycyIsIkxhenlQcm9kdWN0Rm9ybSIsIkxhenlQcm9kdWN0TGlzdCIsIlByb2R1Y3RDb21wb25lbnRzUHJlZmV0Y2giLCJ1c2VQcmVsb2FkUHJvZHVjdENvbXBvbmVudHMiLCJQcm9kdWN0TGlzdCIsImxhenkiLCJQcm9kdWN0Rm9ybSIsIlByb2R1Y3RGaWx0ZXJzIiwiUHJvZHVjdEJ1bGtBY3Rpb25zIiwiUHJvZHVjdExpc3RTa2VsZXRvbiIsImRpdiIsImNsYXNzTmFtZSIsIlNrZWxldG9uIiwiQ2FyZCIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJGaWx0ZXIiLCJDYXJkQ29udGVudCIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIm1hcCIsIl8iLCJpIiwiUHJvZHVjdEZvcm1Ta2VsZXRvbiIsIlByb2R1Y3RGaWx0ZXJzU2tlbGV0b24iLCJQcm9kdWN0RXJyb3JCb3VuZGFyeSIsIlJlYWN0IiwiQ29tcG9uZW50IiwicHJvcHMiLCJzdGF0ZSIsImhhc0Vycm9yIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwiZXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImVycm9ySW5mbyIsImNvbnNvbGUiLCJyZW5kZXIiLCJBbGVydFRyaWFuZ2xlIiwicCIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIkxvYWRlcjIiLCJjaGlsZHJlbiIsIlN1c3BlbnNlIiwiZmFsbGJhY2siLCJwcmVsb2FkTGlzdCIsInVzZUNhbGxiYWNrIiwicHJlbG9hZEZvcm0iLCJwcmVsb2FkRmlsdGVycyIsInByZWxvYWRCdWxrQWN0aW9ucyIsInVzZUVmZmVjdCIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQyx5REFBeUQ7QUFDekQsc0NBQXNDO0FBRXRDOzs7Ozs7Ozs7Ozs7UUFvUmdCQTtlQUFBQTs7UUFWQUM7ZUFBQUE7O1FBVkFDO2VBQUFBOztRQVZBQztlQUFBQTs7UUErRUFDO2VBQUFBOztRQTdCQUM7ZUFBQUE7Ozs7K0RBdFNzQjtzQkFDbUI7MEJBQ2hDO3dCQUNGOzZCQUMrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXRFLHNDQUFzQztBQUN0QyxlQUFlO0FBQ2Ysc0NBQXNDO0FBRXRDLDJDQUEyQztBQUMzQyxNQUFNQyw0QkFBY0MsSUFBQUEsV0FBSSxFQUFDLElBQU0sbUVBQUEsUUFBTztBQUN0QyxNQUFNQyw0QkFBY0QsSUFBQUEsV0FBSSxFQUFDLElBQU0sbUVBQUEsUUFBTztBQUN0QyxNQUFNRSwrQkFBaUJGLElBQUFBLFdBQUksRUFBQyxJ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