45b3703b1702b94c6565a0e65bcfa97d
"use strict";
// Mock de los componentes del Design System
jest.mock('../price-display', ()=>({
        PriceDisplay: ({ amount, originalAmount, className })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "price-display",
                className: className,
                children: [
                    "$",
                    (amount / 100).toFixed(2),
                    originalAmount && ` (was $${(originalAmount / 100).toFixed(2)})`
                ]
            })
    }));
jest.mock('../shipping-info', ()=>({
        ShippingInfo: ({ options, selectedOption })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "shipping-info",
                children: [
                    "Shipping: ",
                    selectedOption
                ]
            })
    }));
jest.mock('../product-card-enhanced', ()=>({
        EnhancedProductCard: ({ title, context })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "enhanced-product-card",
                children: [
                    title,
                    " - ",
                    context
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _cartsummary = require("../cart-summary");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockCartItems = [
    {
        id: 1,
        title: 'Pintura Sherwin Williams 4L',
        price: 10000,
        discountedPrice: 8500,
        quantity: 2,
        image: '/test-image.jpg',
        category: 'pinturas'
    },
    {
        id: 2,
        title: 'Esmalte Petrilac 1L',
        price: 2300,
        discountedPrice: 2300,
        quantity: 1,
        category: 'esmaltes'
    }
];
describe('CartSummary', ()=>{
    const defaultProps = {
        cartItems: mockCartItems,
        totalPrice: 19300,
        shippingCost: 2500,
        discount: 0,
        finalTotal: 21800
    };
    it('renders cart summary with items', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('Resumen del Pedido')).toBeInTheDocument();
        expect(_react1.screen.getByText('2 items')).toBeInTheDocument();
        expect(_react1.screen.getByText('Pintura Sherwin Williams 4L')).toBeInTheDocument();
        expect(_react1.screen.getByText('Esmalte Petrilac 1L')).toBeInTheDocument();
    });
    it('shows empty cart message when no items', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            cartItems: []
        }));
        expect(_react1.screen.getByText('No hay productos en el carrito')).toBeInTheDocument();
    });
    it('displays price calculations correctly', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('Subtotal')).toBeInTheDocument();
        expect(_react1.screen.getByText('Envío')).toBeInTheDocument();
        expect(_react1.screen.getByText('Total')).toBeInTheDocument();
    });
    it('shows free shipping badge when applicable', ()=>{
        const propsWithFreeShipping = {
            ...defaultProps,
            totalPrice: 60000,
            shippingCost: 0
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...propsWithFreeShipping
        }));
        // Buscar específicamente el badge de envío gratis
        expect(_react1.screen.getByText('Gratis', {
            selector: '.bg-success'
        })).toBeInTheDocument();
    });
    it('displays discount when applied', ()=>{
        const propsWithDiscount = {
            ...defaultProps,
            discount: 1000,
            appliedCoupon: {
                code: 'PROMO10',
                discount: 1000,
                type: 'fixed'
            }
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...propsWithDiscount
        }));
        expect(_react1.screen.getByText('Descuento')).toBeInTheDocument();
        expect(_react1.screen.getByText('PROMO10')).toBeInTheDocument();
    });
    it('calls onCheckout when checkout button is clicked', ()=>{
        const mockOnCheckout = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            onCheckout: mockOnCheckout
        }));
        const checkoutButton = _react1.screen.getByText('Proceder al Pago');
        _react1.fireEvent.click(checkoutButton);
        expect(mockOnCheckout).toHaveBeenCalledTimes(1);
    });
    it('renders in compact variant', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            variant: "compact"
        }));
        // En variante compact, debería tener altura máxima reducida
        const itemsContainer = _react1.screen.getByText('Pintura Sherwin Williams 4L').closest('.max-h-40');
        expect(itemsContainer).toBeInTheDocument();
    });
    it('shows product cards when enabled', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            showProductCards: true,
            productCardContext: "checkout"
        }));
        expect(_react1.screen.getAllByTestId('enhanced-product-card')).toHaveLength(2);
        expect(_react1.screen.getByText('Pintura Sherwin Williams 4L - checkout')).toBeInTheDocument();
    });
    it('shows shipping details in detailed variant', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            variant: "detailed",
            showShippingDetails: true
        }));
        expect(_react1.screen.getByTestId('shipping-info')).toBeInTheDocument();
    });
    it('disables checkout button when cart is empty', ()=>{
        const mockOnCheckout = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            cartItems: [],
            onCheckout: mockOnCheckout
        }));
        // El botón de checkout no debería aparecer cuando el carrito está vacío
        expect(_react1.screen.queryByText('Proceder al Pago')).not.toBeInTheDocument();
    });
    it('calculates final total correctly when not provided', ()=>{
        const propsWithoutFinalTotal = {
            cartItems: mockCartItems,
            totalPrice: 19300,
            shippingCost: 2500,
            discount: 1000
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...propsWithoutFinalTotal
        }));
        // Debería calcular: 19300 + 2500 - 1000 = 20800
        expect(_react1.screen.getByText('Total')).toBeInTheDocument();
    });
    it('shows benefits section when not compact', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...defaultProps,
            variant: "default"
        }));
        expect(_react1.screen.getByText('Compra protegida')).toBeInTheDocument();
        expect(_react1.screen.getByText('Tu dinero está protegido con MercadoPago')).toBeInTheDocument();
    });
    it('handles single item correctly', ()=>{
        const singleItemProps = {
            ...defaultProps,
            cartItems: [
                mockCartItems[0]
            ]
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_cartsummary.CartSummary, {
            ...singleItemProps
        }));
        expect(_react1.screen.getByText('1 item')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXF9fdGVzdHNfX1xcY2FydC1zdW1tYXJ5LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJ1xuaW1wb3J0IHsgQ2FydFN1bW1hcnkgfSBmcm9tICcuLi9jYXJ0LXN1bW1hcnknXG5cbmludGVyZmFjZSBQcmljZURpc3BsYXlQcm9wcyB7XG4gIGFtb3VudDogbnVtYmVyXG4gIG9yaWdpbmFsQW1vdW50PzogbnVtYmVyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgU2hpcHBpbmdJbmZvUHJvcHMge1xuICBvcHRpb25zOiBzdHJpbmdbXVxuICBzZWxlY3RlZE9wdGlvbjogc3RyaW5nXG59XG5cbmludGVyZmFjZSBFbmhhbmNlZFByb2R1Y3RDYXJkUHJvcHMge1xuICB0aXRsZTogc3RyaW5nXG4gIGNvbnRleHQ6IHN0cmluZ1xufVxuXG4vLyBNb2NrIGRlIGxvcyBjb21wb25lbnRlcyBkZWwgRGVzaWduIFN5c3RlbVxuamVzdC5tb2NrKCcuLi9wcmljZS1kaXNwbGF5JywgKCkgPT4gKHtcbiAgUHJpY2VEaXNwbGF5OiAoeyBhbW91bnQsIG9yaWdpbmFsQW1vdW50LCBjbGFzc05hbWUgfTogUHJpY2VEaXNwbGF5UHJvcHMpID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPSdwcmljZS1kaXNwbGF5JyBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAkeyhhbW91bnQgLyAxMDApLnRvRml4ZWQoMil9XG4gICAgICB7b3JpZ2luYWxBbW91bnQgJiYgYCAod2FzICQkeyhvcmlnaW5hbEFtb3VudCAvIDEwMCkudG9GaXhlZCgyKX0pYH1cbiAgICA8L2Rpdj5cbiAgKSxcbn0pKVxuXG5qZXN0Lm1vY2soJy4uL3NoaXBwaW5nLWluZm8nLCAoKSA9PiAoe1xuICBTaGlwcGluZ0luZm86ICh7IG9wdGlvbnMsIHNlbGVjdGVkT3B0aW9uIH06IFNoaXBwaW5nSW5mb1Byb3BzKSA9PiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD0nc2hpcHBpbmctaW5mbyc+U2hpcHBpbmc6IHtzZWxlY3RlZE9wdGlvbn08L2Rpdj5cbiAgKSxcbn0pKVxuXG5qZXN0Lm1vY2soJy4uL3Byb2R1Y3QtY2FyZC1lbmhhbmNlZCcsICgpID0+ICh7XG4gIEVuaGFuY2VkUHJvZHVjdENhcmQ6ICh7IHRpdGxlLCBjb250ZXh0IH06IEVuaGFuY2VkUHJvZHVjdENhcmRQcm9wcykgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9J2VuaGFuY2VkLXByb2R1Y3QtY2FyZCc+XG4gICAgICB7dGl0bGV9IC0ge2NvbnRleHR9XG4gICAgPC9kaXY+XG4gICksXG59KSlcblxuY29uc3QgbW9ja0NhcnRJdGVtcyA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIHRpdGxlOiAnUGludHVyYSBTaGVyd2luIFdpbGxpYW1zIDRMJyxcbiAgICBwcmljZTogMTAwMDAsXG4gICAgZGlzY291bnRlZFByaWNlOiA4NTAwLFxuICAgIHF1YW50aXR5OiAyLFxuICAgIGltYWdlOiAnL3Rlc3QtaW1hZ2UuanBnJyxcbiAgICBjYXRlZ29yeTogJ3BpbnR1cmFzJyxcbiAgfSxcbiAge1xuICAgIGlkOiAyLFxuICAgIHRpdGxlOiAnRXNtYWx0ZSBQZXRyaWxhYyAxTCcsXG4gICAgcHJpY2U6IDIzMDAsXG4gICAgZGlzY291bnRlZFByaWNlOiAyMzAwLFxuICAgIHF1YW50aXR5OiAxLFxuICAgIGNhdGVnb3J5OiAnZXNtYWx0ZXMnLFxuICB9LFxuXVxuXG5kZXNjcmliZSgnQ2FydFN1bW1hcnknLCAoKSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjYXJ0SXRlbXM6IG1vY2tDYXJ0SXRlbXMsXG4gICAgdG90YWxQcmljZTogMTkzMDAsXG4gICAgc2hpcHBpbmdDb3N0OiAyNTAwLFxuICAgIGRpc2NvdW50OiAwLFxuICAgIGZpbmFsVG90YWw6IDIxODAwLFxuICB9XG5cbiAgaXQoJ3JlbmRlcnMgY2FydCBzdW1tYXJ5IHdpdGggaXRlbXMnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxDYXJ0U3VtbWFyeSB7Li4uZGVmYXVsdFByb3BzfSAvPilcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZXN1bWVuIGRlbCBQZWRpZG8nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyIGl0ZW1zJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBTaGVyd2luIFdpbGxpYW1zIDRMJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXNtYWx0ZSBQZXRyaWxhYyAxTCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3Nob3dzIGVtcHR5IGNhcnQgbWVzc2FnZSB3aGVuIG5vIGl0ZW1zJywgKCkgPT4ge1xuICAgIHJlbmRlcig8Q2FydFN1bW1hcnkgey4uLmRlZmF1bHRQcm9wc30gY2FydEl0ZW1zPXtbXX0gLz4pXG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gaGF5IHByb2R1Y3RvcyBlbiBlbCBjYXJyaXRvJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnZGlzcGxheXMgcHJpY2UgY2FsY3VsYXRpb25zIGNvcnJlY3RseScsICgpID0+IHtcbiAgICByZW5kZXIoPENhcnRTdW1tYXJ5IHsuLi5kZWZhdWx0UHJvcHN9IC8+KVxuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N1YnRvdGFsJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRW52w61vJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVG90YWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIGl0KCdzaG93cyBmcmVlIHNoaXBwaW5nIGJhZGdlIHdoZW4gYXBwbGljYWJsZScsICgpID0+IHtcbiAgICBjb25zdCBwcm9wc1dpdGhGcmVlU2hpcHBpbmcgPSB7XG4gICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICB0b3RhbFByaWNlOiA2MDAwMCxcbiAgICAgIHNoaXBwaW5nQ29zdDogMCxcbiAgICB9XG5cbiAgICByZW5kZXIoPENhcnRTdW1tYXJ5IHsuLi5wcm9wc1dpdGhGcmVlU2hpcHBpbmd9IC8+KVxuXG4gICAgLy8gQnVzY2FyIGVzcGVjw61maWNhbWVudGUgZWwgYmFkZ2UgZGUgZW52w61vIGdyYXRpc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHcmF0aXMnLCB7IHNlbGVjdG9yOiAnLmJnLXN1Y2Nlc3MnIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ2Rpc3BsYXlzIGRpc2NvdW50IHdoZW4gYXBwbGllZCcsICgpID0+IHtcbiAgICBjb25zdCBwcm9wc1dpdGhEaXNjb3VudCA9IHtcbiAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgIGRpc2NvdW50OiAxMDAwLFxuICAgICAgYXBwbGllZENvdXBvbjoge1xuICAgICAgICBjb2RlOiAnUFJPTU8xMCcsXG4gICAgICAgIGRpc2NvdW50OiAxMDAwLFxuICAgICAgICB0eXBlOiAnZml4ZWQnIGFzIGNvbnN0LFxuICAgICAgfSxcbiAgICB9XG5cbiAgICByZW5kZXIoPENhcnRTdW1tYXJ5IHsuLi5wcm9wc1dpdGhEaXNjb3VudH0gLz4pXG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRGVzY3VlbnRvJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUFJPTU8xMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ2NhbGxzIG9uQ2hlY2tvdXQgd2hlbiBjaGVja291dCBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrT25DaGVja291dCA9IGplc3QuZm4oKVxuXG4gICAgcmVuZGVyKDxDYXJ0U3VtbWFyeSB7Li4uZGVmYXVsdFByb3BzfSBvbkNoZWNrb3V0PXttb2NrT25DaGVja291dH0gLz4pXG5cbiAgICBjb25zdCBjaGVja291dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1Byb2NlZGVyIGFsIFBhZ28nKVxuICAgIGZpcmVFdmVudC5jbGljayhjaGVja291dEJ1dHRvbilcblxuICAgIGV4cGVjdChtb2NrT25DaGVja291dCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpXG4gIH0pXG5cbiAgaXQoJ3JlbmRlcnMgaW4gY29tcGFjdCB2YXJpYW50JywgKCkgPT4ge1xuICAgIHJlbmRlcig8Q2FydFN1bW1hcnkgey4uLmRlZmF1bHRQcm9wc30gdmFyaWFudD0nY29tcGFjdCcgLz4pXG5cbiAgICAvLyBFbiB2YXJpYW50ZSBjb21wYWN0LCBkZWJlcsOtYSB0ZW5lciBhbHR1cmEgbcOheGltYSByZWR1Y2lkYVxuICAgIGNvbnN0IGl0ZW1zQ29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBTaGVyd2luIFdpbGxpYW1zIDRMJykuY2xvc2VzdCgnLm1heC1oLTQwJylcbiAgICBleHBlY3QoaXRlbXNDb250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnc2hvd3MgcHJvZHVjdCBjYXJkcyB3aGVuIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxDYXJ0U3VtbWFyeSB7Li4uZGVmYXVsdFByb3BzfSBzaG93UHJvZHVjdENhcmRzPXt0cnVlfSBwcm9kdWN0Q2FyZENvbnRleHQ9J2NoZWNrb3V0JyAvPilcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXN0SWQoJ2VuaGFuY2VkLXByb2R1Y3QtY2FyZCcpKS50b0hhdmVMZW5ndGgoMilcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBTaGVyd2luIFdpbGxpYW1zIDRMIC0gY2hlY2tvdXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIGl0KCdzaG93cyBzaGlwcGluZyBkZXRhaWxzIGluIGRldGFpbGVkIHZhcmlhbnQnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxDYXJ0U3VtbWFyeSB7Li4uZGVmYXVsdFByb3BzfSB2YXJpYW50PSdkZXRhaWxlZCcgc2hvd1NoaXBwaW5nRGV0YWlscz17dHJ1ZX0gLz4pXG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzaGlwcGluZy1pbmZvJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICBpdCgnZGlzYWJsZXMgY2hlY2tvdXQgYnV0dG9uIHdoZW4gY2FydCBpcyBlbXB0eScsICgpID0+IHtcbiAgICBjb25zdCBtb2NrT25DaGVja291dCA9IGplc3QuZm4oKVxuXG4gICAgcmVuZGVyKDxDYXJ0U3VtbWFyeSB7Li4uZGVmYXVsdFByb3BzfSBjYXJ0SXRlbXM9e1tdfSBvbkNoZWNrb3V0PXttb2NrT25DaGVja291dH0gLz4pXG5cbiAgICAvLyBFbCBib3TDs24gZGUgY2hlY2tvdXQgbm8gZGViZXLDrWEgYXBhcmVjZXIgY3VhbmRvIGVsIGNhcnJpdG8gZXN0w6EgdmFjw61vXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnUHJvY2VkZXIgYWwgUGFnbycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIGl0KCdjYWxjdWxhdGVzIGZpbmFsIHRvdGFsIGNvcnJlY3RseSB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCBwcm9wc1dpdGhvdXRGaW5hbFRvdGFsID0ge1xuICAgICAgY2FydEl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgdG90YWxQcmljZTogMTkzMDAsXG4gICAgICBzaGlwcGluZ0Nvc3Q6IDI1MDAsXG4gICAgICBkaXNjb3VudDogMTAwMCxcbiAgICAgIC8vIGZpbmFsVG90YWwgbm8gcHJvcG9yY2lvbmFkb1xuICAgIH1cblxuICAgIHJlbmRlcig8Q2FydFN1bW1hcnkgey4uLnByb3BzV2l0aG91dEZpbmFsVG90YWx9IC8+KVxuXG4gICAgLy8gRGViZXLDrWEgY2FsY3VsYXI6IDE5MzAwICsgMjUwMCAtIDEwMDAgPSAyMDgwMFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb3RhbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ3Nob3dzIGJlbmVmaXRzIHNlY3Rpb24gd2hlbiBub3QgY29tcGFjdCcsICgpID0+IHtcbiAgICByZW5kZXIoPENhcnRTdW1tYXJ5IHsuLi5kZWZhdWx0UHJvcHN9IHZhcmlhbnQ9J2RlZmF1bHQnIC8+KVxuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbXByYSBwcm90ZWdpZGEnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUdSBkaW5lcm8gZXN0w6EgcHJvdGVnaWRvIGNvbiBNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgaXQoJ2hhbmRsZXMgc2luZ2xlIGl0ZW0gY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHNpbmdsZUl0ZW1Qcm9wcyA9IHtcbiAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgIGNhcnRJdGVtczogW21vY2tDYXJ0SXRlbXNbMF1dLFxuICAgIH1cblxuICAgIHJlbmRlcig8Q2FydFN1bW1hcnkgey4uLnNpbmdsZUl0ZW1Qcm9wc30gLz4pXG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMSBpdGVtJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJQcmljZURpc3BsYXkiLCJhbW91bnQiLCJvcmlnaW5hbEFtb3VudCIsImNsYXNzTmFtZSIsImRpdiIsImRhdGEtdGVzdGlkIiwidG9GaXhlZCIsIlNoaXBwaW5nSW5mbyIsIm9wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsIkVuaGFuY2VkUHJvZHVjdENhcmQiLCJ0aXRsZSIsImNvbnRleHQiLCJtb2NrQ2FydEl0ZW1zIiwiaWQiLCJwcmljZSIsImRpc2NvdW50ZWRQcmljZSIsInF1YW50aXR5IiwiaW1hZ2UiLCJjYXRlZ29yeSIsImRlc2NyaWJlIiwiZGVmYXVsdFByb3BzIiwiY2FydEl0ZW1zIiwidG90YWxQcmljZSIsInNoaXBwaW5nQ29zdCIsImRpc2NvdW50IiwiZmluYWxUb3RhbCIsIml0IiwicmVuZGVyIiwiQ2FydFN1bW1hcnkiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInByb3BzV2l0aEZyZWVTaGlwcGluZyIsInNlbGVjdG9yIiwicHJvcHNXaXRoRGlzY291bnQiLCJhcHBsaWVkQ291cG9uIiwiY29kZSIsInR5cGUiLCJtb2NrT25DaGVja291dCIsImZuIiwib25DaGVja291dCIsImNoZWNrb3V0QnV0dG9uIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ2YXJpYW50IiwiaXRlbXNDb250YWluZXIiLCJjbG9zZXN0Iiwic2hvd1Byb2R1Y3RDYXJkcyIsInByb2R1Y3RDYXJkQ29udGV4dCIsImdldEFsbEJ5VGVzdElkIiwidG9IYXZlTGVuZ3RoIiwic2hvd1NoaXBwaW5nRGV0YWlscyIsImdldEJ5VGVzdElkIiwicXVlcnlCeVRleHQiLCJub3QiLCJwcm9wc1dpdGhvdXRGaW5hbFRvdGFsIiwic2luZ2xlSXRlbVByb3BzIl0sIm1hcHBpbmdzIjoiO0FBcUJBLDRDQUE0QztBQUM1Q0EsS0FBS0MsSUFBSSxDQUFDLG9CQUFvQixJQUFPLENBQUE7UUFDbkNDLGNBQWMsQ0FBQyxF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