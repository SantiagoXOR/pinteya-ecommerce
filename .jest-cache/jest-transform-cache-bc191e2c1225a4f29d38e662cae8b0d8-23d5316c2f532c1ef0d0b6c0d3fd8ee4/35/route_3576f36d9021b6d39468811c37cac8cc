e83ab2be38254fa48d76e343e392b370
// ConfiguraciÃ³n para Node.js Runtime
"use strict";

/* istanbul ignore next */
function cov_1aag7gutoy() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\preferences\\notifications\\route.ts";
  var hash = "88cbaf877d463a50ce6b4ccce7fcd7756892f643";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\preferences\\notifications\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 19,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 21
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 23
        }
      },
      "6": {
        start: {
          line: 20,
          column: 16
        },
        end: {
          line: 20,
          column: 38
        }
      },
      "7": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 57
        }
      },
      "8": {
        start: {
          line: 22,
          column: 18
        },
        end: {
          line: 22,
          column: 69
        }
      },
      "9": {
        start: {
          line: 23,
          column: 24
        },
        end: {
          line: 23,
          column: 77
        }
      },
      "10": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 24
        }
      },
      "11": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 98,
          column: 5
        }
      },
      "12": {
        start: {
          line: 27,
          column: 24
        },
        end: {
          line: 27,
          column: 49
        }
      },
      "13": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 34,
          column: 9
        }
      },
      "14": {
        start: {
          line: 29,
          column: 12
        },
        end: {
          line: 33,
          column: 15
        }
      },
      "15": {
        start: {
          line: 35,
          column: 23
        },
        end: {
          line: 35,
          column: 38
        }
      },
      "16": {
        start: {
          line: 36,
          column: 21
        },
        end: {
          line: 36,
          column: 41
        }
      },
      "17": {
        start: {
          line: 37,
          column: 34
        },
        end: {
          line: 37,
          column: 38
        }
      },
      "18": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 44,
          column: 9
        }
      },
      "19": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 43,
          column: 15
        }
      },
      "20": {
        start: {
          line: 46,
          column: 58
        },
        end: {
          line: 46,
          column: 165
        }
      },
      "21": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 54,
          column: 9
        }
      },
      "22": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 48,
          column: 81
        }
      },
      "23": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 53,
          column: 15
        }
      },
      "24": {
        start: {
          line: 56,
          column: 30
        },
        end: {
          line: 56,
          column: 61
        }
      },
      "25": {
        start: {
          line: 57,
          column: 35
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "26": {
        start: {
          line: 65,
          column: 46
        },
        end: {
          line: 69,
          column: 28
        }
      },
      "27": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 77,
          column: 9
        }
      },
      "28": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 71,
          column: 88
        }
      },
      "29": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 76,
          column: 15
        }
      },
      "30": {
        start: {
          line: 79,
          column: 28
        },
        end: {
          line: 79,
          column: 72
        }
      },
      "31": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 85,
          column: 24
        }
      },
      "32": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 90,
          column: 11
        }
      },
      "33": {
        start: {
          line: 92,
          column: 8
        },
        end: {
          line: 92,
          column: 84
        }
      },
      "34": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 97,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 17
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 19
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "PATCH",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 20
          }
        },
        loc: {
          start: {
            line: 25,
            column: 30
          },
          end: {
            line: 99,
            column: 1
          }
        },
        line: 25
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 34,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 34,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 28
      },
      "1": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 44,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 54,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 54,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 47,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 47,
            column: 22
          }
        }, {
          start: {
            line: 47,
            column: 26
          },
          end: {
            line: 47,
            column: 56
          }
        }],
        line: 47
      },
      "4": {
        loc: {
          start: {
            line: 56,
            column: 30
          },
          end: {
            line: 56,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 56,
            column: 30
          },
          end: {
            line: 56,
            column: 55
          }
        }, {
          start: {
            line: 56,
            column: 59
          },
          end: {
            line: 56,
            column: 61
          }
        }],
        line: 56
      },
      "5": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 77,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 77,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\preferences\\notifications\\route.ts"],
      sourcesContent: ["// Configuraci\xF3n para Node.js Runtime\r\nexport const runtime = 'nodejs';\r\n\r\n// ===================================\r\n// PINTEYA E-COMMERCE - API DE PREFERENCIAS DE NOTIFICACIONES\r\n// ===================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { auth } from '@/lib/auth/config';\r\nimport { supabaseAdmin } from '@/lib/integrations/supabase';\r\nimport { logPreferenceActivity, getRequestInfo } from '@/lib/activity/activityLogger';\r\n\r\n// PATCH - Actualizar preferencias de notificaciones\r\nexport async function PATCH(request: NextRequest) {\r\n  try {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const userId = session.user.id;\r\n    const body = await request.json();\r\n    const { notifications } = body;\r\n\r\n    if (!notifications) {\r\n      return NextResponse.json(\r\n        { error: 'Configuraci\xF3n de notificaciones requerida' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Obtener preferencias actuales\r\n    const { data: currentPrefs, error: fetchError } = await supabaseAdmin\r\n      .from('user_preferences')\r\n      .select('preferences')\r\n      .eq('user_id', userId)\r\n      .single();\r\n\r\n    if (fetchError && fetchError.code !== 'PGRST116') {\r\n      console.error('Error al obtener preferencias actuales:', fetchError);\r\n      return NextResponse.json(\r\n        { error: 'Error al obtener preferencias actuales' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    // Combinar con preferencias existentes\r\n    const existingPrefs = currentPrefs?.preferences || {};\r\n    const updatedPreferences = {\r\n      ...existingPrefs,\r\n      notifications: {\r\n        ...existingPrefs.notifications,\r\n        ...notifications,\r\n      },\r\n    };\r\n\r\n    // Actualizar en la base de datos\r\n    const { data: updatedPrefs, error } = await supabaseAdmin\r\n      .from('user_preferences')\r\n      .upsert({\r\n        user_id: userId,\r\n        preferences: updatedPreferences,\r\n        updated_at: new Date().toISOString(),\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      console.error('Error al actualizar preferencias de notificaciones:', error);\r\n      return NextResponse.json(\r\n        { error: 'Error al actualizar preferencias de notificaciones' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    // Registrar actividad\r\n    const requestInfo = getRequestInfo(request);\r\n    await logPreferenceActivity(\r\n      userId,\r\n      'update_notifications',\r\n      {\r\n        updated_settings: Object.keys(notifications),\r\n        email_notifications: notifications.emailNotifications,\r\n        push_notifications: notifications.pushNotifications,\r\n        security_alerts: notifications.securityAlerts,\r\n      },\r\n      requestInfo\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      notifications: updatedPrefs.preferences.notifications,\r\n      message: 'Preferencias de notificaciones actualizadas correctamente',\r\n    });\r\n  } catch (error) {\r\n    console.error('Error en PATCH /api/user/preferences/notifications:', error);\r\n    return NextResponse.json(\r\n      { error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["PATCH", "runtime", "request", "session", "auth", "user", "id", "NextResponse", "json", "error", "status", "userId", "body", "notifications", "data", "currentPrefs", "fetchError", "supabaseAdmin", "from", "select", "eq", "single", "code", "console", "existingPrefs", "preferences", "updatedPreferences", "updatedPrefs", "upsert", "user_id", "updated_at", "Date", "toISOString", "requestInfo", "getRequestInfo", "logPreferenceActivity", "updated_settings", "Object", "keys", "email_notifications", "emailNotifications", "push_notifications", "pushNotifications", "security_alerts", "securityAlerts", "success", "message"],
      mappings: "AAAA,qCAAqC;;;;;;;;;;;;QAafA;eAAAA;;QAZTC;eAAAA;;;wBAM6B;wBACrB;0BACS;gCACwB;AAT/C,MAAMA,UAAU;AAYhB,eAAeD,MAAME,OAAoB;IAC9C,IAAI;QACF,MAAMC,UAAU,MAAMC,IAAAA,YAAI;QAC1B,IAAI,CAACD,SAASE,MAAMC,IAAI;YACtB,OAAOC,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgB,GACzB;gBAAEC,QAAQ;YAAI;QAElB;QAEA,MAAMC,SAASR,QAAQE,IAAI,CAACC,EAAE;QAC9B,MAAMM,OAAO,MAAMV,QAAQM,IAAI;QAC/B,MAAM,EAAEK,aAAa,EAAE,GAAGD;QAE1B,IAAI,CAACC,eAAe;YAClB,OAAON,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAA4C,GACrD;gBAAEC,QAAQ;YAAI;QAElB;QAEA,gCAAgC;QAChC,MAAM,EAAEI,MAAMC,YAAY,EAAEN,OAAOO,UAAU,EAAE,GAAG,MAAMC,uBAAa,CAClEC,IAAI,CAAC,oBACLC,MAAM,CAAC,eACPC,EAAE,CAAC,WAAWT,QACdU,MAAM;QAET,IAAIL,cAAcA,WAAWM,IAAI,KAAK,YAAY;YAChDC,QAAQd,KAAK,CAAC,2CAA2CO;YACzD,OAAOT,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAyC,GAClD;gBAAEC,QAAQ;YAAI;QAElB;QAEA,uCAAuC;QACvC,MAAMc,gBAAgBT,cAAcU,eAAe,CAAC;QACpD,MAAMC,qBAAqB;YACzB,GAAGF,aAAa;YAChBX,eAAe;gBACb,GAAGW,cAAcX,aAAa;gBAC9B,GAAGA,aAAa;YAClB;QACF;QAEA,iCAAiC;QACjC,MAAM,EAAEC,MAAMa,YAAY,EAAElB,KAAK,EAAE,GAAG,MAAMQ,uBAAa,CACtDC,IAAI,CAAC,oBACLU,MAAM,CAAC;YACNC,SAASlB;YACTc,aAAaC;YACbI,YAAY,IAAIC,OAAOC,WAAW;QACpC,GACCb,MAAM,GACNE,MAAM;QAET,IAAIZ,OAAO;YACTc,QAAQd,KAAK,CAAC,uDAAuDA;YACrE,OAAOF,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAqD,GAC9D;gBAAEC,QAAQ;YAAI;QAElB;QAEA,sBAAsB;QACtB,MAAMuB,cAAcC,IAAAA,8BAAc,EAAChC;QACnC,MAAMiC,IAAAA,qCAAqB,EACzBxB,QACA,wBACA;YACEyB,kBAAkBC,OAAOC,IAAI,CAACzB;YAC9B0B,qBAAqB1B,cAAc2B,kBAAkB;YACrDC,oBAAoB5B,cAAc6B,iBAAiB;YACnDC,iBAAiB9B,cAAc+B,cAAc;QAC/C,GACAX;QAGF,OAAO1B,oBAAY,CAACC,IAAI,CAAC;YACvBqC,SAAS;YACThC,eAAec,aAAaF,WAAW,CAACZ,aAAa;YACrDiC,SAAS;QACX;IACF,EAAE,OAAOrC,OAAO;QACdc,QAAQd,KAAK,CAAC,uDAAuDA;QACrE,OAAOF,oBAAY,CAACC,IAAI,CACtB;YAAEC,OAAO;QAA6B,GACtC;YAAEC,QAAQ;QAAI;IAElB;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "88cbaf877d463a50ce6b4ccce7fcd7756892f643"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1aag7gutoy = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1aag7gutoy();
cov_1aag7gutoy().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1aag7gutoy().f[0]++;
  cov_1aag7gutoy().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1aag7gutoy().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1aag7gutoy().s[3]++;
_export(exports, {
  get PATCH() {
    /* istanbul ignore next */
    cov_1aag7gutoy().f[1]++;
    cov_1aag7gutoy().s[4]++;
    return PATCH;
  },
  get runtime() {
    /* istanbul ignore next */
    cov_1aag7gutoy().f[2]++;
    cov_1aag7gutoy().s[5]++;
    return runtime;
  }
});
const _server =
/* istanbul ignore next */
(cov_1aag7gutoy().s[6]++, require("next/server"));
const _config =
/* istanbul ignore next */
(cov_1aag7gutoy().s[7]++, require("../../../../../lib/auth/config"));
const _supabase =
/* istanbul ignore next */
(cov_1aag7gutoy().s[8]++, require("../../../../../lib/integrations/supabase"));
const _activityLogger =
/* istanbul ignore next */
(cov_1aag7gutoy().s[9]++, require("../../../../../lib/activity/activityLogger"));
const runtime =
/* istanbul ignore next */
(cov_1aag7gutoy().s[10]++, 'nodejs');
async function PATCH(request) {
  /* istanbul ignore next */
  cov_1aag7gutoy().f[3]++;
  cov_1aag7gutoy().s[11]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[12]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_1aag7gutoy().s[13]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_1aag7gutoy().b[0][0]++;
      cov_1aag7gutoy().s[14]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_1aag7gutoy().b[0][1]++;
    }
    const userId =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[15]++, session.user.id);
    const body =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[16]++, await request.json());
    const {
      notifications
    } =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[17]++, body);
    /* istanbul ignore next */
    cov_1aag7gutoy().s[18]++;
    if (!notifications) {
      /* istanbul ignore next */
      cov_1aag7gutoy().b[1][0]++;
      cov_1aag7gutoy().s[19]++;
      return _server.NextResponse.json({
        error: 'ConfiguraciÃ³n de notificaciones requerida'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1aag7gutoy().b[1][1]++;
    }
    // Obtener preferencias actuales
    const {
      data: currentPrefs,
      error: fetchError
    } =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[20]++, await _supabase.supabaseAdmin.from('user_preferences').select('preferences').eq('user_id', userId).single());
    /* istanbul ignore next */
    cov_1aag7gutoy().s[21]++;
    if (
    /* istanbul ignore next */
    (cov_1aag7gutoy().b[3][0]++, fetchError) &&
    /* istanbul ignore next */
    (cov_1aag7gutoy().b[3][1]++, fetchError.code !== 'PGRST116')) {
      /* istanbul ignore next */
      cov_1aag7gutoy().b[2][0]++;
      cov_1aag7gutoy().s[22]++;
      console.error('Error al obtener preferencias actuales:', fetchError);
      /* istanbul ignore next */
      cov_1aag7gutoy().s[23]++;
      return _server.NextResponse.json({
        error: 'Error al obtener preferencias actuales'
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_1aag7gutoy().b[2][1]++;
    }
    // Combinar con preferencias existentes
    const existingPrefs =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[24]++,
    /* istanbul ignore next */
    (cov_1aag7gutoy().b[4][0]++, currentPrefs?.preferences) ||
    /* istanbul ignore next */
    (cov_1aag7gutoy().b[4][1]++, {}));
    const updatedPreferences =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[25]++, {
      ...existingPrefs,
      notifications: {
        ...existingPrefs.notifications,
        ...notifications
      }
    });
    // Actualizar en la base de datos
    const {
      data: updatedPrefs,
      error
    } =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[26]++, await _supabase.supabaseAdmin.from('user_preferences').upsert({
      user_id: userId,
      preferences: updatedPreferences,
      updated_at: new Date().toISOString()
    }).select().single());
    /* istanbul ignore next */
    cov_1aag7gutoy().s[27]++;
    if (error) {
      /* istanbul ignore next */
      cov_1aag7gutoy().b[5][0]++;
      cov_1aag7gutoy().s[28]++;
      console.error('Error al actualizar preferencias de notificaciones:', error);
      /* istanbul ignore next */
      cov_1aag7gutoy().s[29]++;
      return _server.NextResponse.json({
        error: 'Error al actualizar preferencias de notificaciones'
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_1aag7gutoy().b[5][1]++;
    }
    // Registrar actividad
    const requestInfo =
    /* istanbul ignore next */
    (cov_1aag7gutoy().s[30]++, (0, _activityLogger.getRequestInfo)(request));
    /* istanbul ignore next */
    cov_1aag7gutoy().s[31]++;
    await (0, _activityLogger.logPreferenceActivity)(userId, 'update_notifications', {
      updated_settings: Object.keys(notifications),
      email_notifications: notifications.emailNotifications,
      push_notifications: notifications.pushNotifications,
      security_alerts: notifications.securityAlerts
    }, requestInfo);
    /* istanbul ignore next */
    cov_1aag7gutoy().s[32]++;
    return _server.NextResponse.json({
      success: true,
      notifications: updatedPrefs.preferences.notifications,
      message: 'Preferencias de notificaciones actualizadas correctamente'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1aag7gutoy().s[33]++;
    console.error('Error en PATCH /api/user/preferences/notifications:', error);
    /* istanbul ignore next */
    cov_1aag7gutoy().s[34]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWFhZzdndXRveSIsImFjdHVhbENvdmVyYWdlIiwicyIsIlBBVENIIiwiZiIsInJ1bnRpbWUiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsIl9jb25maWciLCJhdXRoIiwidXNlciIsImlkIiwiYiIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VySWQiLCJib2R5Iiwibm90aWZpY2F0aW9ucyIsImRhdGEiLCJjdXJyZW50UHJlZnMiLCJmZXRjaEVycm9yIiwiX3N1cGFiYXNlIiwic3VwYWJhc2VBZG1pbiIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvZGUiLCJjb25zb2xlIiwiZXhpc3RpbmdQcmVmcyIsInByZWZlcmVuY2VzIiwidXBkYXRlZFByZWZlcmVuY2VzIiwidXBkYXRlZFByZWZzIiwidXBzZXJ0IiwidXNlcl9pZCIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXF1ZXN0SW5mbyIsIl9hY3Rpdml0eUxvZ2dlciIsImdldFJlcXVlc3RJbmZvIiwibG9nUHJlZmVyZW5jZUFjdGl2aXR5IiwidXBkYXRlZF9zZXR0aW5ncyIsIk9iamVjdCIsImtleXMiLCJlbWFpbF9ub3RpZmljYXRpb25zIiwiZW1haWxOb3RpZmljYXRpb25zIiwicHVzaF9ub3RpZmljYXRpb25zIiwicHVzaE5vdGlmaWNhdGlvbnMiLCJzZWN1cml0eV9hbGVydHMiLCJzZWN1cml0eUFsZXJ0cyIsInN1Y2Nlc3MiLCJtZXNzYWdlIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcdXNlclxccHJlZmVyZW5jZXNcXG5vdGlmaWNhdGlvbnNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbmZpZ3VyYWNpw7NuIHBhcmEgTm9kZS5qcyBSdW50aW1lXHJcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBBUEkgREUgUFJFRkVSRU5DSUFTIERFIE5PVElGSUNBQ0lPTkVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9saWIvYXV0aC9jb25maWcnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgbG9nUHJlZmVyZW5jZUFjdGl2aXR5LCBnZXRSZXF1ZXN0SW5mbyB9IGZyb20gJ0AvbGliL2FjdGl2aXR5L2FjdGl2aXR5TG9nZ2VyJztcclxuXHJcbi8vIFBBVENIIC0gQWN0dWFsaXphciBwcmVmZXJlbmNpYXMgZGUgbm90aWZpY2FjaW9uZXNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBBVENIKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm8gYXV0b3JpemFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VySWQgPSBzZXNzaW9uLnVzZXIuaWQ7XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB7IG5vdGlmaWNhdGlvbnMgfSA9IGJvZHk7XHJcblxyXG4gICAgaWYgKCFub3RpZmljYXRpb25zKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQ29uZmlndXJhY2nDs24gZGUgbm90aWZpY2FjaW9uZXMgcmVxdWVyaWRhJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGVuZXIgcHJlZmVyZW5jaWFzIGFjdHVhbGVzXHJcbiAgICBjb25zdCB7IGRhdGE6IGN1cnJlbnRQcmVmcywgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxyXG4gICAgICAuc2VsZWN0KCdwcmVmZXJlbmNlcycpXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChmZXRjaEVycm9yICYmIGZldGNoRXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIHByZWZlcmVuY2lhcyBhY3R1YWxlczonLCBmZXRjaEVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBvYnRlbmVyIHByZWZlcmVuY2lhcyBhY3R1YWxlcycgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21iaW5hciBjb24gcHJlZmVyZW5jaWFzIGV4aXN0ZW50ZXNcclxuICAgIGNvbnN0IGV4aXN0aW5nUHJlZnMgPSBjdXJyZW50UHJlZnM/LnByZWZlcmVuY2VzIHx8IHt9O1xyXG4gICAgY29uc3QgdXBkYXRlZFByZWZlcmVuY2VzID0ge1xyXG4gICAgICAuLi5leGlzdGluZ1ByZWZzLFxyXG4gICAgICBub3RpZmljYXRpb25zOiB7XHJcbiAgICAgICAgLi4uZXhpc3RpbmdQcmVmcy5ub3RpZmljYXRpb25zLFxyXG4gICAgICAgIC4uLm5vdGlmaWNhdGlvbnMsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZW4gbGEgYmFzZSBkZSBkYXRvc1xyXG4gICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkUHJlZnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3ByZWZlcmVuY2VzJylcclxuICAgICAgLnVwc2VydCh7XHJcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIHByZWZlcmVuY2VzOiB1cGRhdGVkUHJlZmVyZW5jZXMsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB9KVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY3R1YWxpemFyIHByZWZlcmVuY2lhcyBkZSBub3RpZmljYWNpb25lczonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJyb3IgYWwgYWN0dWFsaXphciBwcmVmZXJlbmNpYXMgZGUgbm90aWZpY2FjaW9uZXMnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIGFjdGl2aWRhZFxyXG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBnZXRSZXF1ZXN0SW5mbyhyZXF1ZXN0KTtcclxuICAgIGF3YWl0IGxvZ1ByZWZlcmVuY2VBY3Rpdml0eShcclxuICAgICAgdXNlcklkLFxyXG4gICAgICAndXBkYXRlX25vdGlmaWNhdGlvbnMnLFxyXG4gICAgICB7XHJcbiAgICAgICAgdXBkYXRlZF9zZXR0aW5nczogT2JqZWN0LmtleXMobm90aWZpY2F0aW9ucyksXHJcbiAgICAgICAgZW1haWxfbm90aWZpY2F0aW9uczogbm90aWZpY2F0aW9ucy5lbWFpbE5vdGlmaWNhdGlvbnMsXHJcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiBub3RpZmljYXRpb25zLnB1c2hOb3RpZmljYXRpb25zLFxyXG4gICAgICAgIHNlY3VyaXR5X2FsZXJ0czogbm90aWZpY2F0aW9ucy5zZWN1cml0eUFsZXJ0cyxcclxuICAgICAgfSxcclxuICAgICAgcmVxdWVzdEluZm9cclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbm90aWZpY2F0aW9uczogdXBkYXRlZFByZWZzLnByZWZlcmVuY2VzLm5vdGlmaWNhdGlvbnMsXHJcbiAgICAgIG1lc3NhZ2U6ICdQcmVmZXJlbmNpYXMgZGUgbm90aWZpY2FjaW9uZXMgYWN0dWFsaXphZGFzIGNvcnJlY3RhbWVudGUnLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIFBBVENIIC9hcGkvdXNlci9wcmVmZXJlbmNlcy9ub3RpZmljYXRpb25zOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUNhO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGNBQUE7QUFBQUEsY0FBQSxHQUFBRSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztNQVlTQyxNQUFBO0lBQUE7SUFBQUgsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBQyxLQUFBOztNQVpURSxRQUFBO0lBQUE7SUFBQUwsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBRyxPQUFBOzs7OztrQ0FNNkI7OztrQ0FDckI7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