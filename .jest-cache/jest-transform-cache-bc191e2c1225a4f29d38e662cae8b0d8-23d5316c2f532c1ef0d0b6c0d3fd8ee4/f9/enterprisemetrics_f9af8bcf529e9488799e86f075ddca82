6bfebf03ffd49c48aac5b8395c2987e0
// ===================================
// PINTEYA E-COMMERCE - ENTERPRISE METRICS SYSTEM
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get AlertLevel () {
        return AlertLevel;
    },
    get BusinessMetricCategory () {
        return BusinessMetricCategory;
    },
    get EnterpriseMetricsCollector () {
        return EnterpriseMetricsCollector;
    },
    get MetricType () {
        return MetricType;
    },
    get enterpriseMetrics () {
        return enterpriseMetrics;
    },
    get recordBusinessMetric () {
        return recordBusinessMetric;
    },
    get recordPerformanceMetric () {
        return recordPerformanceMetric;
    },
    get recordSecurityMetric () {
        return recordSecurityMetric;
    },
    get recordUserExperienceMetric () {
        return recordUserExperienceMetric;
    }
});
const _logger = require("../enterprise/logger");
const _supabase = require("../integrations/supabase");
const _alertsystem = require("./alert-system");
// ✅ IMPORT CONDICIONAL: Solo cargar CacheUtils en servidor para evitar errores de ioredis en cliente
let CacheUtils = null;
if (typeof window === 'undefined') {
    // Solo en servidor
    try {
        CacheUtils = require('@/lib/cache-manager').CacheUtils;
    } catch (error) {
        console.warn('[EnterpriseMetrics] CacheUtils not available:', error);
    }
}
var MetricType = /*#__PURE__*/ function(MetricType) {
    MetricType["COUNTER"] = "counter";
    MetricType["GAUGE"] = "gauge";
    MetricType["HISTOGRAM"] = "histogram";
    MetricType["TIMER"] = "timer";
    MetricType["RATE"] = "rate";
    return MetricType;
}({});
var BusinessMetricCategory = /*#__PURE__*/ function(BusinessMetricCategory) {
    BusinessMetricCategory["PERFORMANCE"] = "performance";
    BusinessMetricCategory["SECURITY"] = "security";
    BusinessMetricCategory["BUSINESS"] = "business";
    BusinessMetricCategory["INFRASTRUCTURE"] = "infrastructure";
    BusinessMetricCategory["USER_EXPERIENCE"] = "user_experience";
    return BusinessMetricCategory;
}({});
var AlertLevel = /*#__PURE__*/ function(AlertLevel) {
    AlertLevel["INFO"] = "info";
    AlertLevel["WARNING"] = "warning";
    AlertLevel["CRITICAL"] = "critical";
    AlertLevel["EMERGENCY"] = "emergency";
    return AlertLevel;
}({});
class EnterpriseMetricsCollector {
    constructor(){
        this.alertRules = new Map();
        this.activeAlerts = new Map();
        this.metricsBuffer = [];
        this.flushInterval = null;
        this.initializeDefaultAlerts();
        this.startMetricsFlush();
    }
    static getInstance() {
        if (!EnterpriseMetricsCollector.instance) {
            EnterpriseMetricsCollector.instance = new EnterpriseMetricsCollector();
        }
        return EnterpriseMetricsCollector.instance;
    }
    /**
   * Registra una métrica enterprise
   */ async recordMetric(name, value, type = "gauge", category = "performance", tags = {}, metadata) {
        try {
            const metric = {
                id: this.generateMetricId(),
                name,
                type,
                category,
                value,
                timestamp: new Date().toISOString(),
                tags,
                metadata
            };
            // Agregar a buffer para flush batch
            this.metricsBuffer.push(metric);
            // Verificar alertas
            await this.checkAlerts(metric);
            // Log para debugging
            _logger.logger.debug(_logger.LogLevel.DEBUG, `Metric recorded: ${name}`, {
                value,
                type,
                category,
                tags
            }, _logger.LogCategory.SYSTEM);
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, `Failed to record metric: ${name}`, {
                error: error instanceof Error ? error.message : 'Unknown error',
                value,
                type
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Métricas de performance específicas
   */ async recordPerformanceMetric(operation, duration, success, tags = {}) {
        await this.recordMetric(`performance.${operation}.duration`, duration, "timer", "performance", {
            ...tags,
            success: success.toString()
        });
        await this.recordMetric(`performance.${operation}.count`, 1, "counter", "performance", {
            ...tags,
            success: success.toString()
        });
    }
    /**
   * Métricas de negocio específicas
   */ async recordBusinessMetric(event, value = 1, tags = {}) {
        await this.recordMetric(`business.${event}`, value, "counter", "business", tags);
    }
    /**
   * Métricas de seguridad específicas
   */ async recordSecurityMetric(event, severity, tags = {}) {
        await this.recordMetric(`security.${event}`, 1, "counter", "security", {
            ...tags,
            severity
        });
    }
    /**
   * Métricas de experiencia de usuario
   */ async recordUserExperienceMetric(metric, value, userId, tags = {}) {
        await this.recordMetric(`ux.${metric}`, value, "gauge", "user_experience", {
            ...tags,
            userId: userId || 'anonymous'
        });
    }
    /**
   * Configura una regla de alerta
   */ setAlertRule(rule) {
        this.alertRules.set(rule.id, rule);
        _logger.logger.info(_logger.LogLevel.INFO, `Alert rule configured: ${rule.id}`, {
            metricName: rule.metricName,
            threshold: rule.threshold,
            level: rule.level
        }, _logger.LogCategory.SYSTEM);
    }
    /**
   * Verifica alertas para una métrica
   */ async checkAlerts(metric) {
        for (const rule of this.alertRules.values()){
            if (!rule.enabled || rule.metricName !== metric.name) {
                continue;
            }
            // Verificar si ya hay una alerta activa en cooldown
            const existingAlert = Array.from(this.activeAlerts.values()).find((alert)=>alert.ruleId === rule.id && !alert.resolvedAt);
            if (existingAlert) {
                const cooldownEnd = new Date(existingAlert.triggeredAt);
                cooldownEnd.setMinutes(cooldownEnd.getMinutes() + rule.cooldownMinutes);
                if (new Date() < cooldownEnd) {
                    continue; // Aún en cooldown
                }
            }
            // Evaluar condición
            const triggered = this.evaluateCondition(metric.value, rule.condition, rule.threshold);
            if (triggered) {
                await this.triggerAlert(rule, metric);
            }
        }
    }
    /**
   * Evalúa condición de alerta
   */ evaluateCondition(value, condition, threshold) {
        switch(condition){
            case 'gt':
                return value > threshold;
            case 'gte':
                return value >= threshold;
            case 'lt':
                return value < threshold;
            case 'lte':
                return value <= threshold;
            case 'eq':
                return value === threshold;
            default:
                return false;
        }
    }
    /**
   * Dispara una alerta usando el sistema enterprise
   */ async triggerAlert(rule, metric) {
        // Convertir nivel de alerta al sistema enterprise
        const alertLevel = this.convertToAlertSystemLevel(rule.level);
        // Usar el sistema de alertas enterprise
        const alert = await _alertsystem.enterpriseAlertSystem.triggerAlert(rule.id, rule.metricName, metric.value, `${rule.description} - Value: ${metric.value}, Threshold: ${rule.threshold}`);
        if (alert) {
            // Mantener referencia local para compatibilidad
            const localAlert = {
                id: alert.id,
                ruleId: alert.ruleId,
                metricName: alert.metricName,
                level: rule.level,
                message: alert.message,
                value: alert.value,
                threshold: alert.threshold,
                triggeredAt: alert.triggeredAt,
                metadata: {
                    metric: metric,
                    rule: rule
                }
            };
            this.activeAlerts.set(alert.id, localAlert);
            // Log alerta
            _logger.logger.warn(_logger.LogLevel.WARN, `Alert triggered via enterprise system: ${rule.id}`, {
                alertId: alert.id,
                level: alert.level,
                metricName: alert.metricName,
                value: alert.value,
                threshold: alert.threshold
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Ejecuta acción de alerta
   */ async executeAlertAction(action, alert) {
        try {
            switch(action.type){
                case 'log':
                    _logger.logger.error(_logger.LogLevel.ERROR, `ALERT: ${alert.message}`, {
                        alertId: alert.id,
                        level: alert.level
                    }, _logger.LogCategory.SYSTEM);
                    break;
                case 'webhook':
                    if (action.config.url) {
                        await fetch(action.config.url, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(alert)
                        });
                    }
                    break;
                case 'email':
                    // TODO: Implementar envío de email
                    _logger.logger.info(_logger.LogLevel.INFO, `Email alert would be sent to: ${action.config.to}`, {
                        alertId: alert.id
                    }, _logger.LogCategory.SYSTEM);
                    break;
                case 'slack':
                    // TODO: Implementar notificación Slack
                    _logger.logger.info(_logger.LogLevel.INFO, `Slack alert would be sent to: ${action.config.channel}`, {
                        alertId: alert.id
                    }, _logger.LogCategory.SYSTEM);
                    break;
            }
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, `Failed to execute alert action: ${action.type}`, {
                error: error instanceof Error ? error.message : 'Unknown error',
                alertId: alert.id
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Obtiene métricas agregadas
   */ async getAggregatedMetrics(metricName, period, startTime, endTime) {
        const cacheKey = `metrics:aggregated:${metricName}:${period}:${startTime}:${endTime}`;
        // ✅ CACHE CONDICIONAL: Solo usar cache en servidor
        const fetchData = async ()=>{
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                throw new Error('Supabase client not available');
            }
            // Query con agregación SQL
            const { data, error } = await supabase.rpc('aggregate_metrics', {
                metric_name: metricName,
                period_interval: period,
                start_time: startTime,
                end_time: endTime
            });
            if (error) {
                throw new Error(`Failed to aggregate metrics: ${error.message}`);
            }
            return data || [];
        };
        // Usar cache solo si está disponible (servidor)
        if (CacheUtils && typeof window === 'undefined') {
            return CacheUtils.cacheMetricsAggregation(cacheKey, fetchData);
        } else {
            return fetchData();
        }
    }
    /**
   * Flush métricas a base de datos
   */ async flushMetrics() {
        if (this.metricsBuffer.length === 0) {
            return;
        }
        try {
            const metrics = [
                ...this.metricsBuffer
            ];
            this.metricsBuffer = [];
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                _logger.logger.error(_logger.LogLevel.ERROR, 'Supabase client not available for metrics flush', {}, _logger.LogCategory.SYSTEM);
                return;
            }
            const { error } = await supabase.from('enterprise_metrics').insert(metrics.map((metric)=>({
                    id: metric.id,
                    name: metric.name,
                    type: metric.type,
                    category: metric.category,
                    value: metric.value,
                    timestamp: metric.timestamp,
                    tags: metric.tags,
                    metadata: metric.metadata
                })));
            if (error) {
                _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to flush metrics to database', {
                    error: error.message,
                    metricsCount: metrics.length
                }, _logger.LogCategory.SYSTEM);
            } else {
                _logger.logger.debug(_logger.LogLevel.DEBUG, `Flushed ${metrics.length} metrics to database`, {}, _logger.LogCategory.SYSTEM);
            }
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Error during metrics flush', {
                error: error instanceof Error ? error.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Inicializa alertas por defecto
   */ initializeDefaultAlerts() {
        // Alerta de response time alto
        this.setAlertRule({
            id: 'high_response_time',
            metricName: 'performance.api.duration',
            condition: 'gt',
            threshold: 5000,
            level: "warning",
            enabled: true,
            cooldownMinutes: 5,
            description: 'API response time is too high',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
        // Alerta de error rate alto
        this.setAlertRule({
            id: 'high_error_rate',
            metricName: 'performance.api.error_rate',
            condition: 'gt',
            threshold: 0.05,
            level: "critical",
            enabled: true,
            cooldownMinutes: 2,
            description: 'API error rate is too high',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
        // Alerta de violaciones de seguridad
        this.setAlertRule({
            id: 'security_violations',
            metricName: 'security.violation',
            condition: 'gte',
            threshold: 1,
            level: "emergency",
            enabled: true,
            cooldownMinutes: 1,
            description: 'Security violation detected',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
    }
    /**
   * Inicia flush automático de métricas
   */ startMetricsFlush() {
        this.flushInterval = setInterval(()=>{
            this.flushMetrics();
        }, 30000); // Flush cada 30 segundos
    }
    /**
   * Almacena alerta en base de datos
   */ async storeAlert(alert) {
        try {
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                return;
            }
            await supabase.from('enterprise_alerts').insert({
                id: alert.id,
                rule_id: alert.ruleId,
                metric_name: alert.metricName,
                level: alert.level,
                message: alert.message,
                value: alert.value,
                threshold: alert.threshold,
                triggered_at: alert.triggeredAt,
                resolved_at: alert.resolvedAt,
                metadata: alert.metadata
            });
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to store alert', {
                error: error instanceof Error ? error.message : 'Unknown error',
                alertId: alert.id
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Genera ID único para métrica
   */ generateMetricId() {
        return `metric_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    /**
   * Convierte nivel de alerta al sistema enterprise
   */ convertToAlertSystemLevel(level) {
        switch(level){
            case "info":
                return _alertsystem.AlertLevel.INFO;
            case "warning":
                return _alertsystem.AlertLevel.WARNING;
            case "critical":
                return _alertsystem.AlertLevel.CRITICAL;
            case "emergency":
                return _alertsystem.AlertLevel.EMERGENCY;
            default:
                return _alertsystem.AlertLevel.INFO;
        }
    }
    /**
   * Genera ID único para alerta
   */ generateAlertId() {
        return `alert_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    /**
   * Limpia recursos
   */ destroy() {
        if (this.flushInterval) {
            clearInterval(this.flushInterval);
            this.flushInterval = null;
        }
        this.flushMetrics(); // Flush final
    }
}
const enterpriseMetrics = EnterpriseMetricsCollector.getInstance();
const recordPerformanceMetric = enterpriseMetrics.recordPerformanceMetric.bind(enterpriseMetrics);
const recordBusinessMetric = enterpriseMetrics.recordBusinessMetric.bind(enterpriseMetrics);
const recordSecurityMetric = enterpriseMetrics.recordSecurityMetric.bind(enterpriseMetrics);
const recordUserExperienceMetric = enterpriseMetrics.recordUserExperienceMetric.bind(enterpriseMetrics);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxtb25pdG9yaW5nXFxlbnRlcnByaXNlLW1ldHJpY3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIEVOVEVSUFJJU0UgTUVUUklDUyBTWVNURU1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IGxvZ2dlciwgTG9nTGV2ZWwsIExvZ0NhdGVnb3J5IH0gZnJvbSAnQC9saWIvZW50ZXJwcmlzZS9sb2dnZXInXG5pbXBvcnQgeyBnZXRTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL2ludGVncmF0aW9ucy9zdXBhYmFzZSdcbmltcG9ydCB7IGVudGVycHJpc2VBbGVydFN5c3RlbSwgQWxlcnRMZXZlbCBhcyBBbGVydFN5c3RlbUxldmVsIH0gZnJvbSAnLi9hbGVydC1zeXN0ZW0nXG5cbi8vIOKchSBJTVBPUlQgQ09ORElDSU9OQUw6IFNvbG8gY2FyZ2FyIENhY2hlVXRpbHMgZW4gc2Vydmlkb3IgcGFyYSBldml0YXIgZXJyb3JlcyBkZSBpb3JlZGlzIGVuIGNsaWVudGVcbmxldCBDYWNoZVV0aWxzOiBhbnkgPSBudWxsXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gU29sbyBlbiBzZXJ2aWRvclxuICB0cnkge1xuICAgIENhY2hlVXRpbHMgPSByZXF1aXJlKCdAL2xpYi9jYWNoZS1tYW5hZ2VyJykuQ2FjaGVVdGlsc1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignW0VudGVycHJpc2VNZXRyaWNzXSBDYWNoZVV0aWxzIG5vdCBhdmFpbGFibGU6JywgZXJyb3IpXG4gIH1cbn1cblxuLy8gVGlwb3MgZGUgbcOpdHJpY2FzIGVudGVycHJpc2VcbmV4cG9ydCBlbnVtIE1ldHJpY1R5cGUge1xuICBDT1VOVEVSID0gJ2NvdW50ZXInLCAvLyBDb250YWRvciBpbmNyZW1lbnRhbFxuICBHQVVHRSA9ICdnYXVnZScsIC8vIFZhbG9yIGFjdHVhbFxuICBISVNUT0dSQU0gPSAnaGlzdG9ncmFtJywgLy8gRGlzdHJpYnVjacOzbiBkZSB2YWxvcmVzXG4gIFRJTUVSID0gJ3RpbWVyJywgLy8gTWVkaWNpw7NuIGRlIHRpZW1wb1xuICBSQVRFID0gJ3JhdGUnLCAvLyBUYXNhIHBvciB1bmlkYWQgZGUgdGllbXBvXG59XG5cbi8vIENhdGVnb3LDrWFzIGRlIG3DqXRyaWNhcyBkZSBuZWdvY2lvXG5leHBvcnQgZW51bSBCdXNpbmVzc01ldHJpY0NhdGVnb3J5IHtcbiAgUEVSRk9STUFOQ0UgPSAncGVyZm9ybWFuY2UnLFxuICBTRUNVUklUWSA9ICdzZWN1cml0eScsXG4gIEJVU0lORVNTID0gJ2J1c2luZXNzJyxcbiAgSU5GUkFTVFJVQ1RVUkUgPSAnaW5mcmFzdHJ1Y3R1cmUnLFxuICBVU0VSX0VYUEVSSUVOQ0UgPSAndXNlcl9leHBlcmllbmNlJyxcbn1cblxuLy8gTml2ZWxlcyBkZSBhbGVydGFcbmV4cG9ydCBlbnVtIEFsZXJ0TGV2ZWwge1xuICBJTkZPID0gJ2luZm8nLFxuICBXQVJOSU5HID0gJ3dhcm5pbmcnLFxuICBDUklUSUNBTCA9ICdjcml0aWNhbCcsXG4gIEVNRVJHRU5DWSA9ICdlbWVyZ2VuY3knLFxufVxuXG4vLyBNw6l0cmljYSBlbnRlcnByaXNlXG5leHBvcnQgaW50ZXJmYWNlIEVudGVycHJpc2VNZXRyaWMge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICB0eXBlOiBNZXRyaWNUeXBlXG4gIGNhdGVnb3J5OiBCdXNpbmVzc01ldHJpY0NhdGVnb3J5XG4gIHZhbHVlOiBudW1iZXJcbiAgdGltZXN0YW1wOiBzdHJpbmdcbiAgdGFnczogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgYWdncmVnYXRpb25QZXJpb2Q/OiBzdHJpbmcgLy8gJzFtJywgJzVtJywgJzFoJywgJzFkJ1xufVxuXG4vLyBDb25maWd1cmFjacOzbiBkZSBhbGVydGFcbmV4cG9ydCBpbnRlcmZhY2UgQWxlcnRSdWxlIHtcbiAgaWQ6IHN0cmluZ1xuICBtZXRyaWNOYW1lOiBzdHJpbmdcbiAgY29uZGl0aW9uOiAnZ3QnIHwgJ2x0JyB8ICdlcScgfCAnZ3RlJyB8ICdsdGUnXG4gIHRocmVzaG9sZDogbnVtYmVyXG4gIGxldmVsOiBBbGVydExldmVsXG4gIGVuYWJsZWQ6IGJvb2xlYW5cbiAgY29vbGRvd25NaW51dGVzOiBudW1iZXJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBhY3Rpb25zOiBBbGVydEFjdGlvbltdXG59XG5cbi8vIEFjY2nDs24gZGUgYWxlcnRhXG5leHBvcnQgaW50ZXJmYWNlIEFsZXJ0QWN0aW9uIHtcbiAgdHlwZTogJ2VtYWlsJyB8ICd3ZWJob29rJyB8ICdsb2cnIHwgJ3NsYWNrJ1xuICBjb25maWc6IFJlY29yZDxzdHJpbmcsIGFueT5cbn1cblxuLy8gQWxlcnRhIGFjdGl2YVxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVBbGVydCB7XG4gIGlkOiBzdHJpbmdcbiAgcnVsZUlkOiBzdHJpbmdcbiAgbWV0cmljTmFtZTogc3RyaW5nXG4gIGxldmVsOiBBbGVydExldmVsXG4gIG1lc3NhZ2U6IHN0cmluZ1xuICB2YWx1ZTogbnVtYmVyXG4gIHRocmVzaG9sZDogbnVtYmVyXG4gIHRyaWdnZXJlZEF0OiBzdHJpbmdcbiAgcmVzb2x2ZWRBdD86IHN0cmluZ1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbn1cblxuLy8gQWdyZWdhY2nDs24gdGVtcG9yYWxcbmV4cG9ydCBpbnRlcmZhY2UgTWV0cmljQWdncmVnYXRpb24ge1xuICBwZXJpb2Q6IHN0cmluZ1xuICBzdGFydFRpbWU6IHN0cmluZ1xuICBlbmRUaW1lOiBzdHJpbmdcbiAgY291bnQ6IG51bWJlclxuICBzdW06IG51bWJlclxuICBhdmc6IG51bWJlclxuICBtaW46IG51bWJlclxuICBtYXg6IG51bWJlclxuICBwNTA6IG51bWJlclxuICBwOTU6IG51bWJlclxuICBwOTk6IG51bWJlclxufVxuXG4vKipcbiAqIFNpc3RlbWEgZGUgTcOpdHJpY2FzIEVudGVycHJpc2UgY29uIGFncmVnYWNpw7NuIHRlbXBvcmFsIHkgYWxlcnRhc1xuICovXG5leHBvcnQgY2xhc3MgRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3Ige1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3JcbiAgcHJpdmF0ZSBhbGVydFJ1bGVzOiBNYXA8c3RyaW5nLCBBbGVydFJ1bGU+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgYWN0aXZlQWxlcnRzOiBNYXA8c3RyaW5nLCBBY3RpdmVBbGVydD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBtZXRyaWNzQnVmZmVyOiBFbnRlcnByaXNlTWV0cmljW10gPSBbXVxuICBwcml2YXRlIGZsdXNoSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGxcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVEZWZhdWx0QWxlcnRzKClcbiAgICB0aGlzLnN0YXJ0TWV0cmljc0ZsdXNoKClcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvciB7XG4gICAgaWYgKCFFbnRlcnByaXNlTWV0cmljc0NvbGxlY3Rvci5pbnN0YW5jZSkge1xuICAgICAgRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IuaW5zdGFuY2UgPSBuZXcgRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IoKVxuICAgIH1cbiAgICByZXR1cm4gRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IuaW5zdGFuY2VcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYSB1bmEgbcOpdHJpY2EgZW50ZXJwcmlzZVxuICAgKi9cbiAgYXN5bmMgcmVjb3JkTWV0cmljKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogbnVtYmVyLFxuICAgIHR5cGU6IE1ldHJpY1R5cGUgPSBNZXRyaWNUeXBlLkdBVUdFLFxuICAgIGNhdGVnb3J5OiBCdXNpbmVzc01ldHJpY0NhdGVnb3J5ID0gQnVzaW5lc3NNZXRyaWNDYXRlZ29yeS5QRVJGT1JNQU5DRSxcbiAgICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge30sXG4gICAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXRyaWM6IEVudGVycHJpc2VNZXRyaWMgPSB7XG4gICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlTWV0cmljSWQoKSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdGFncyxcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICB9XG5cbiAgICAgIC8vIEFncmVnYXIgYSBidWZmZXIgcGFyYSBmbHVzaCBiYXRjaFxuICAgICAgdGhpcy5tZXRyaWNzQnVmZmVyLnB1c2gobWV0cmljKVxuXG4gICAgICAvLyBWZXJpZmljYXIgYWxlcnRhc1xuICAgICAgYXdhaXQgdGhpcy5jaGVja0FsZXJ0cyhtZXRyaWMpXG5cbiAgICAgIC8vIExvZyBwYXJhIGRlYnVnZ2luZ1xuICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICBMb2dMZXZlbC5ERUJVRyxcbiAgICAgICAgYE1ldHJpYyByZWNvcmRlZDogJHtuYW1lfWAsXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgIHRhZ3MsXG4gICAgICAgIH0sXG4gICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIExvZ0xldmVsLkVSUk9SLFxuICAgICAgICBgRmFpbGVkIHRvIHJlY29yZCBtZXRyaWM6ICR7bmFtZX1gLFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgIH0sXG4gICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNw6l0cmljYXMgZGUgcGVyZm9ybWFuY2UgZXNwZWPDrWZpY2FzXG4gICAqL1xuICBhc3luYyByZWNvcmRQZXJmb3JtYW5jZU1ldHJpYyhcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgdGFnczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxuICAgICAgYHBlcmZvcm1hbmNlLiR7b3BlcmF0aW9ufS5kdXJhdGlvbmAsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIE1ldHJpY1R5cGUuVElNRVIsXG4gICAgICBCdXNpbmVzc01ldHJpY0NhdGVnb3J5LlBFUkZPUk1BTkNFLFxuICAgICAgeyAuLi50YWdzLCBzdWNjZXNzOiBzdWNjZXNzLnRvU3RyaW5nKCkgfVxuICAgIClcblxuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxuICAgICAgYHBlcmZvcm1hbmNlLiR7b3BlcmF0aW9ufS5jb3VudGAsXG4gICAgICAxLFxuICAgICAgTWV0cmljVHlwZS5DT1VOVEVSLFxuICAgICAgQnVzaW5lc3NNZXRyaWNDYXRlZ29yeS5QRVJGT1JNQU5DRSxcbiAgICAgIHsgLi4udGFncywgc3VjY2Vzczogc3VjY2Vzcy50b1N0cmluZygpIH1cbiAgICApXG4gIH1cblxuICAvKipcbiAgICogTcOpdHJpY2FzIGRlIG5lZ29jaW8gZXNwZWPDrWZpY2FzXG4gICAqL1xuICBhc3luYyByZWNvcmRCdXNpbmVzc01ldHJpYyhcbiAgICBldmVudDogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXIgPSAxLFxuICAgIHRhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJlY29yZE1ldHJpYyhcbiAgICAgIGBidXNpbmVzcy4ke2V2ZW50fWAsXG4gICAgICB2YWx1ZSxcbiAgICAgIE1ldHJpY1R5cGUuQ09VTlRFUixcbiAgICAgIEJ1c2luZXNzTWV0cmljQ2F0ZWdvcnkuQlVTSU5FU1MsXG4gICAgICB0YWdzXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIE3DqXRyaWNhcyBkZSBzZWd1cmlkYWQgZXNwZWPDrWZpY2FzXG4gICAqL1xuICBhc3luYyByZWNvcmRTZWN1cml0eU1ldHJpYyhcbiAgICBldmVudDogc3RyaW5nLFxuICAgIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJyxcbiAgICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5yZWNvcmRNZXRyaWMoXG4gICAgICBgc2VjdXJpdHkuJHtldmVudH1gLFxuICAgICAgMSxcbiAgICAgIE1ldHJpY1R5cGUuQ09VTlRFUixcbiAgICAgIEJ1c2luZXNzTWV0cmljQ2F0ZWdvcnkuU0VDVVJJVFksXG4gICAgICB7IC4uLnRhZ3MsIHNldmVyaXR5IH1cbiAgICApXG4gIH1cblxuICAvKipcbiAgICogTcOpdHJpY2FzIGRlIGV4cGVyaWVuY2lhIGRlIHVzdWFyaW9cbiAgICovXG4gIGFzeW5jIHJlY29yZFVzZXJFeHBlcmllbmNlTWV0cmljKFxuICAgIG1ldHJpYzogc3RyaW5nLFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgdXNlcklkPzogc3RyaW5nLFxuICAgIHRhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnJlY29yZE1ldHJpYyhcbiAgICAgIGB1eC4ke21ldHJpY31gLFxuICAgICAgdmFsdWUsXG4gICAgICBNZXRyaWNUeXBlLkdBVUdFLFxuICAgICAgQnVzaW5lc3NNZXRyaWNDYXRlZ29yeS5VU0VSX0VYUEVSSUVOQ0UsXG4gICAgICB7IC4uLnRhZ3MsIHVzZXJJZDogdXNlcklkIHx8ICdhbm9ueW1vdXMnIH1cbiAgICApXG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJhIHVuYSByZWdsYSBkZSBhbGVydGFcbiAgICovXG4gIHNldEFsZXJ0UnVsZShydWxlOiBBbGVydFJ1bGUpOiB2b2lkIHtcbiAgICB0aGlzLmFsZXJ0UnVsZXMuc2V0KHJ1bGUuaWQsIHJ1bGUpXG4gICAgbG9nZ2VyLmluZm8oXG4gICAgICBMb2dMZXZlbC5JTkZPLFxuICAgICAgYEFsZXJ0IHJ1bGUgY29uZmlndXJlZDogJHtydWxlLmlkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldHJpY05hbWU6IHJ1bGUubWV0cmljTmFtZSxcbiAgICAgICAgdGhyZXNob2xkOiBydWxlLnRocmVzaG9sZCxcbiAgICAgICAgbGV2ZWw6IHJ1bGUubGV2ZWwsXG4gICAgICB9LFxuICAgICAgTG9nQ2F0ZWdvcnkuU1lTVEVNXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIGFsZXJ0YXMgcGFyYSB1bmEgbcOpdHJpY2FcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgY2hlY2tBbGVydHMobWV0cmljOiBFbnRlcnByaXNlTWV0cmljKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBydWxlIG9mIHRoaXMuYWxlcnRSdWxlcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKCFydWxlLmVuYWJsZWQgfHwgcnVsZS5tZXRyaWNOYW1lICE9PSBtZXRyaWMubmFtZSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2kgeWEgaGF5IHVuYSBhbGVydGEgYWN0aXZhIGVuIGNvb2xkb3duXG4gICAgICBjb25zdCBleGlzdGluZ0FsZXJ0ID0gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZUFsZXJ0cy52YWx1ZXMoKSkuZmluZChcbiAgICAgICAgYWxlcnQgPT4gYWxlcnQucnVsZUlkID09PSBydWxlLmlkICYmICFhbGVydC5yZXNvbHZlZEF0XG4gICAgICApXG5cbiAgICAgIGlmIChleGlzdGluZ0FsZXJ0KSB7XG4gICAgICAgIGNvbnN0IGNvb2xkb3duRW5kID0gbmV3IERhdGUoZXhpc3RpbmdBbGVydC50cmlnZ2VyZWRBdClcbiAgICAgICAgY29vbGRvd25FbmQuc2V0TWludXRlcyhjb29sZG93bkVuZC5nZXRNaW51dGVzKCkgKyBydWxlLmNvb2xkb3duTWludXRlcylcblxuICAgICAgICBpZiAobmV3IERhdGUoKSA8IGNvb2xkb3duRW5kKSB7XG4gICAgICAgICAgY29udGludWUgLy8gQcO6biBlbiBjb29sZG93blxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEV2YWx1YXIgY29uZGljacOzblxuICAgICAgY29uc3QgdHJpZ2dlcmVkID0gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbihtZXRyaWMudmFsdWUsIHJ1bGUuY29uZGl0aW9uLCBydWxlLnRocmVzaG9sZClcblxuICAgICAgaWYgKHRyaWdnZXJlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLnRyaWdnZXJBbGVydChydWxlLCBtZXRyaWMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV2YWzDumEgY29uZGljacOzbiBkZSBhbGVydGFcbiAgICovXG4gIHByaXZhdGUgZXZhbHVhdGVDb25kaXRpb24odmFsdWU6IG51bWJlciwgY29uZGl0aW9uOiBzdHJpbmcsIHRocmVzaG9sZDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChjb25kaXRpb24pIHtcbiAgICAgIGNhc2UgJ2d0JzpcbiAgICAgICAgcmV0dXJuIHZhbHVlID4gdGhyZXNob2xkXG4gICAgICBjYXNlICdndGUnOlxuICAgICAgICByZXR1cm4gdmFsdWUgPj0gdGhyZXNob2xkXG4gICAgICBjYXNlICdsdCc6XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IHRocmVzaG9sZFxuICAgICAgY2FzZSAnbHRlJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlIDw9IHRocmVzaG9sZFxuICAgICAgY2FzZSAnZXEnOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRocmVzaG9sZFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhcmEgdW5hIGFsZXJ0YSB1c2FuZG8gZWwgc2lzdGVtYSBlbnRlcnByaXNlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHRyaWdnZXJBbGVydChydWxlOiBBbGVydFJ1bGUsIG1ldHJpYzogRW50ZXJwcmlzZU1ldHJpYyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIENvbnZlcnRpciBuaXZlbCBkZSBhbGVydGEgYWwgc2lzdGVtYSBlbnRlcnByaXNlXG4gICAgY29uc3QgYWxlcnRMZXZlbCA9IHRoaXMuY29udmVydFRvQWxlcnRTeXN0ZW1MZXZlbChydWxlLmxldmVsKVxuXG4gICAgLy8gVXNhciBlbCBzaXN0ZW1hIGRlIGFsZXJ0YXMgZW50ZXJwcmlzZVxuICAgIGNvbnN0IGFsZXJ0ID0gYXdhaXQgZW50ZXJwcmlzZUFsZXJ0U3lzdGVtLnRyaWdnZXJBbGVydChcbiAgICAgIHJ1bGUuaWQsXG4gICAgICBydWxlLm1ldHJpY05hbWUsXG4gICAgICBtZXRyaWMudmFsdWUsXG4gICAgICBgJHtydWxlLmRlc2NyaXB0aW9ufSAtIFZhbHVlOiAke21ldHJpYy52YWx1ZX0sIFRocmVzaG9sZDogJHtydWxlLnRocmVzaG9sZH1gXG4gICAgKVxuXG4gICAgaWYgKGFsZXJ0KSB7XG4gICAgICAvLyBNYW50ZW5lciByZWZlcmVuY2lhIGxvY2FsIHBhcmEgY29tcGF0aWJpbGlkYWRcbiAgICAgIGNvbnN0IGxvY2FsQWxlcnQ6IEFjdGl2ZUFsZXJ0ID0ge1xuICAgICAgICBpZDogYWxlcnQuaWQsXG4gICAgICAgIHJ1bGVJZDogYWxlcnQucnVsZUlkLFxuICAgICAgICBtZXRyaWNOYW1lOiBhbGVydC5tZXRyaWNOYW1lLFxuICAgICAgICBsZXZlbDogcnVsZS5sZXZlbCxcbiAgICAgICAgbWVzc2FnZTogYWxlcnQubWVzc2FnZSxcbiAgICAgICAgdmFsdWU6IGFsZXJ0LnZhbHVlLFxuICAgICAgICB0aHJlc2hvbGQ6IGFsZXJ0LnRocmVzaG9sZCxcbiAgICAgICAgdHJpZ2dlcmVkQXQ6IGFsZXJ0LnRyaWdnZXJlZEF0LFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIG1ldHJpYzogbWV0cmljLFxuICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWN0aXZlQWxlcnRzLnNldChhbGVydC5pZCwgbG9jYWxBbGVydClcblxuICAgICAgLy8gTG9nIGFsZXJ0YVxuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgIExvZ0xldmVsLldBUk4sXG4gICAgICAgIGBBbGVydCB0cmlnZ2VyZWQgdmlhIGVudGVycHJpc2Ugc3lzdGVtOiAke3J1bGUuaWR9YCxcbiAgICAgICAge1xuICAgICAgICAgIGFsZXJ0SWQ6IGFsZXJ0LmlkLFxuICAgICAgICAgIGxldmVsOiBhbGVydC5sZXZlbCxcbiAgICAgICAgICBtZXRyaWNOYW1lOiBhbGVydC5tZXRyaWNOYW1lLFxuICAgICAgICAgIHZhbHVlOiBhbGVydC52YWx1ZSxcbiAgICAgICAgICB0aHJlc2hvbGQ6IGFsZXJ0LnRocmVzaG9sZCxcbiAgICAgICAgfSxcbiAgICAgICAgTG9nQ2F0ZWdvcnkuU1lTVEVNXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVqZWN1dGEgYWNjacOzbiBkZSBhbGVydGFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUFsZXJ0QWN0aW9uKGFjdGlvbjogQWxlcnRBY3Rpb24sIGFsZXJ0OiBBY3RpdmVBbGVydCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgTG9nTGV2ZWwuRVJST1IsXG4gICAgICAgICAgICBgQUxFUlQ6ICR7YWxlcnQubWVzc2FnZX1gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhbGVydElkOiBhbGVydC5pZCxcbiAgICAgICAgICAgICAgbGV2ZWw6IGFsZXJ0LmxldmVsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ3dlYmhvb2snOlxuICAgICAgICAgIGlmIChhY3Rpb24uY29uZmlnLnVybCkge1xuICAgICAgICAgICAgYXdhaXQgZmV0Y2goYWN0aW9uLmNvbmZpZy51cmwsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhbGVydCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBlbnbDrW8gZGUgZW1haWxcbiAgICAgICAgICBsb2dnZXIuaW5mbyhcbiAgICAgICAgICAgIExvZ0xldmVsLklORk8sXG4gICAgICAgICAgICBgRW1haWwgYWxlcnQgd291bGQgYmUgc2VudCB0bzogJHthY3Rpb24uY29uZmlnLnRvfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFsZXJ0SWQ6IGFsZXJ0LmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgJ3NsYWNrJzpcbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBub3RpZmljYWNpw7NuIFNsYWNrXG4gICAgICAgICAgbG9nZ2VyLmluZm8oXG4gICAgICAgICAgICBMb2dMZXZlbC5JTkZPLFxuICAgICAgICAgICAgYFNsYWNrIGFsZXJ0IHdvdWxkIGJlIHNlbnQgdG86ICR7YWN0aW9uLmNvbmZpZy5jaGFubmVsfWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFsZXJ0SWQ6IGFsZXJ0LmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgICAgIClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIExvZ0xldmVsLkVSUk9SLFxuICAgICAgICBgRmFpbGVkIHRvIGV4ZWN1dGUgYWxlcnQgYWN0aW9uOiAke2FjdGlvbi50eXBlfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgYWxlcnRJZDogYWxlcnQuaWQsXG4gICAgICAgIH0sXG4gICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRpZW5lIG3DqXRyaWNhcyBhZ3JlZ2FkYXNcbiAgICovXG4gIGFzeW5jIGdldEFnZ3JlZ2F0ZWRNZXRyaWNzKFxuICAgIG1ldHJpY05hbWU6IHN0cmluZyxcbiAgICBwZXJpb2Q6ICcxbScgfCAnNW0nIHwgJzFoJyB8ICcxZCcgfCAnN2QnLFxuICAgIHN0YXJ0VGltZTogc3RyaW5nLFxuICAgIGVuZFRpbWU6IHN0cmluZ1xuICApOiBQcm9taXNlPE1ldHJpY0FnZ3JlZ2F0aW9uW10+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGBtZXRyaWNzOmFnZ3JlZ2F0ZWQ6JHttZXRyaWNOYW1lfToke3BlcmlvZH06JHtzdGFydFRpbWV9OiR7ZW5kVGltZX1gXG5cbiAgICAvLyDinIUgQ0FDSEUgQ09ORElDSU9OQUw6IFNvbG8gdXNhciBjYWNoZSBlbiBzZXJ2aWRvclxuICAgIGNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQodHJ1ZSlcblxuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBub3QgYXZhaWxhYmxlJylcbiAgICAgIH1cblxuICAgICAgLy8gUXVlcnkgY29uIGFncmVnYWNpw7NuIFNRTFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdhZ2dyZWdhdGVfbWV0cmljcycsIHtcbiAgICAgICAgbWV0cmljX25hbWU6IG1ldHJpY05hbWUsXG4gICAgICAgIHBlcmlvZF9pbnRlcnZhbDogcGVyaW9kLFxuICAgICAgICBzdGFydF90aW1lOiBzdGFydFRpbWUsXG4gICAgICAgIGVuZF90aW1lOiBlbmRUaW1lLFxuICAgICAgfSlcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGFnZ3JlZ2F0ZSBtZXRyaWNzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW11cbiAgICB9XG5cbiAgICAvLyBVc2FyIGNhY2hlIHNvbG8gc2kgZXN0w6EgZGlzcG9uaWJsZSAoc2Vydmlkb3IpXG4gICAgaWYgKENhY2hlVXRpbHMgJiYgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBDYWNoZVV0aWxzLmNhY2hlTWV0cmljc0FnZ3JlZ2F0aW9uKGNhY2hlS2V5LCBmZXRjaERhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmZXRjaERhdGEoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGbHVzaCBtw6l0cmljYXMgYSBiYXNlIGRlIGRhdG9zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGZsdXNoTWV0cmljcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tZXRyaWNzQnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBbLi4udGhpcy5tZXRyaWNzQnVmZmVyXVxuICAgICAgdGhpcy5tZXRyaWNzQnVmZmVyID0gW11cblxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCh0cnVlKVxuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgTG9nTGV2ZWwuRVJST1IsXG4gICAgICAgICAgJ1N1cGFiYXNlIGNsaWVudCBub3QgYXZhaWxhYmxlIGZvciBtZXRyaWNzIGZsdXNoJyxcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBMb2dDYXRlZ29yeS5TWVNURU1cbiAgICAgICAgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnZW50ZXJwcmlzZV9tZXRyaWNzJykuaW5zZXJ0KFxuICAgICAgICBtZXRyaWNzLm1hcChtZXRyaWMgPT4gKHtcbiAgICAgICAgICBpZDogbWV0cmljLmlkLFxuICAgICAgICAgIG5hbWU6IG1ldHJpYy5uYW1lLFxuICAgICAgICAgIHR5cGU6IG1ldHJpYy50eXBlLFxuICAgICAgICAgIGNhdGVnb3J5OiBtZXRyaWMuY2F0ZWdvcnksXG4gICAgICAgICAgdmFsdWU6IG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG1ldHJpYy50aW1lc3RhbXAsXG4gICAgICAgICAgdGFnczogbWV0cmljLnRhZ3MsXG4gICAgICAgICAgbWV0YWRhdGE6IG1ldHJpYy5tZXRhZGF0YSxcbiAgICAgICAgfSkpXG4gICAgICApXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgTG9nTGV2ZWwuRVJST1IsXG4gICAgICAgICAgJ0ZhaWxlZCB0byBmbHVzaCBtZXRyaWNzIHRvIGRhdGFiYXNlJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIG1ldHJpY3NDb3VudDogbWV0cmljcy5sZW5ndGgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBMb2dDYXRlZ29yeS5TWVNURU1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICAgIExvZ0xldmVsLkRFQlVHLFxuICAgICAgICAgIGBGbHVzaGVkICR7bWV0cmljcy5sZW5ndGh9IG1ldHJpY3MgdG8gZGF0YWJhc2VgLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcbiAgICAgICAgTG9nTGV2ZWwuRVJST1IsXG4gICAgICAgICdFcnJvciBkdXJpbmcgbWV0cmljcyBmbHVzaCcsXG4gICAgICAgIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgIH0sXG4gICAgICAgIExvZ0NhdGVnb3J5LlNZU1RFTVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmljaWFsaXphIGFsZXJ0YXMgcG9yIGRlZmVjdG9cbiAgICovXG4gIHByaXZhdGUgaW5pdGlhbGl6ZURlZmF1bHRBbGVydHMoKTogdm9pZCB7XG4gICAgLy8gQWxlcnRhIGRlIHJlc3BvbnNlIHRpbWUgYWx0b1xuICAgIHRoaXMuc2V0QWxlcnRSdWxlKHtcbiAgICAgIGlkOiAnaGlnaF9yZXNwb25zZV90aW1lJyxcbiAgICAgIG1ldHJpY05hbWU6ICdwZXJmb3JtYW5jZS5hcGkuZHVyYXRpb24nLFxuICAgICAgY29uZGl0aW9uOiAnZ3QnLFxuICAgICAgdGhyZXNob2xkOiA1MDAwLCAvLyA1IHNlZ3VuZG9zXG4gICAgICBsZXZlbDogQWxlcnRMZXZlbC5XQVJOSU5HLFxuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIGNvb2xkb3duTWludXRlczogNSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQVBJIHJlc3BvbnNlIHRpbWUgaXMgdG9vIGhpZ2gnLFxuICAgICAgYWN0aW9uczogW3sgdHlwZTogJ2xvZycsIGNvbmZpZzoge30gfV0sXG4gICAgfSlcblxuICAgIC8vIEFsZXJ0YSBkZSBlcnJvciByYXRlIGFsdG9cbiAgICB0aGlzLnNldEFsZXJ0UnVsZSh7XG4gICAgICBpZDogJ2hpZ2hfZXJyb3JfcmF0ZScsXG4gICAgICBtZXRyaWNOYW1lOiAncGVyZm9ybWFuY2UuYXBpLmVycm9yX3JhdGUnLFxuICAgICAgY29uZGl0aW9uOiAnZ3QnLFxuICAgICAgdGhyZXNob2xkOiAwLjA1LCAvLyA1JVxuICAgICAgbGV2ZWw6IEFsZXJ0TGV2ZWwuQ1JJVElDQUwsXG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgY29vbGRvd25NaW51dGVzOiAyLFxuICAgICAgZGVzY3JpcHRpb246ICdBUEkgZXJyb3IgcmF0ZSBpcyB0b28gaGlnaCcsXG4gICAgICBhY3Rpb25zOiBbeyB0eXBlOiAnbG9nJywgY29uZmlnOiB7fSB9XSxcbiAgICB9KVxuXG4gICAgLy8gQWxlcnRhIGRlIHZpb2xhY2lvbmVzIGRlIHNlZ3VyaWRhZFxuICAgIHRoaXMuc2V0QWxlcnRSdWxlKHtcbiAgICAgIGlkOiAnc2VjdXJpdHlfdmlvbGF0aW9ucycsXG4gICAgICBtZXRyaWNOYW1lOiAnc2VjdXJpdHkudmlvbGF0aW9uJyxcbiAgICAgIGNvbmRpdGlvbjogJ2d0ZScsXG4gICAgICB0aHJlc2hvbGQ6IDEsXG4gICAgICBsZXZlbDogQWxlcnRMZXZlbC5FTUVSR0VOQ1ksXG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgY29vbGRvd25NaW51dGVzOiAxLFxuICAgICAgZGVzY3JpcHRpb246ICdTZWN1cml0eSB2aW9sYXRpb24gZGV0ZWN0ZWQnLFxuICAgICAgYWN0aW9uczogW3sgdHlwZTogJ2xvZycsIGNvbmZpZzoge30gfV0sXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmljaWEgZmx1c2ggYXV0b23DoXRpY28gZGUgbcOpdHJpY2FzXG4gICAqL1xuICBwcml2YXRlIHN0YXJ0TWV0cmljc0ZsdXNoKCk6IHZvaWQge1xuICAgIHRoaXMuZmx1c2hJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuZmx1c2hNZXRyaWNzKClcbiAgICB9LCAzMDAwMCkgLy8gRmx1c2ggY2FkYSAzMCBzZWd1bmRvc1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbWFjZW5hIGFsZXJ0YSBlbiBiYXNlIGRlIGRhdG9zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHN0b3JlQWxlcnQoYWxlcnQ6IEFjdGl2ZUFsZXJ0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQodHJ1ZSlcbiAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2VudGVycHJpc2VfYWxlcnRzJykuaW5zZXJ0KHtcbiAgICAgICAgaWQ6IGFsZXJ0LmlkLFxuICAgICAgICBydWxlX2lkOiBhbGVydC5ydWxlSWQsXG4gICAgICAgIG1ldHJpY19uYW1lOiBhbGVydC5tZXRyaWNOYW1lLFxuICAgICAgICBsZXZlbDogYWxlcnQubGV2ZWwsXG4gICAgICAgIG1lc3NhZ2U6IGFsZXJ0Lm1lc3NhZ2UsXG4gICAgICAgIHZhbHVlOiBhbGVydC52YWx1ZSxcbiAgICAgICAgdGhyZXNob2xkOiBhbGVydC50aHJlc2hvbGQsXG4gICAgICAgIHRyaWdnZXJlZF9hdDogYWxlcnQudHJpZ2dlcmVkQXQsXG4gICAgICAgIHJlc29sdmVkX2F0OiBhbGVydC5yZXNvbHZlZEF0LFxuICAgICAgICBtZXRhZGF0YTogYWxlcnQubWV0YWRhdGEsXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIExvZ0xldmVsLkVSUk9SLFxuICAgICAgICAnRmFpbGVkIHRvIHN0b3JlIGFsZXJ0JyxcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgICBhbGVydElkOiBhbGVydC5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgTG9nQ2F0ZWdvcnkuU1lTVEVNXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYSBJRCDDum5pY28gcGFyYSBtw6l0cmljYVxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZU1ldHJpY0lkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBtZXRyaWNfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXG4gIH1cblxuICAvKipcbiAgICogQ29udmllcnRlIG5pdmVsIGRlIGFsZXJ0YSBhbCBzaXN0ZW1hIGVudGVycHJpc2VcbiAgICovXG4gIHByaXZhdGUgY29udmVydFRvQWxlcnRTeXN0ZW1MZXZlbChsZXZlbDogQWxlcnRMZXZlbCk6IEFsZXJ0U3lzdGVtTGV2ZWwge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgQWxlcnRMZXZlbC5JTkZPOlxuICAgICAgICByZXR1cm4gQWxlcnRTeXN0ZW1MZXZlbC5JTkZPXG4gICAgICBjYXNlIEFsZXJ0TGV2ZWwuV0FSTklORzpcbiAgICAgICAgcmV0dXJuIEFsZXJ0U3lzdGVtTGV2ZWwuV0FSTklOR1xuICAgICAgY2FzZSBBbGVydExldmVsLkNSSVRJQ0FMOlxuICAgICAgICByZXR1cm4gQWxlcnRTeXN0ZW1MZXZlbC5DUklUSUNBTFxuICAgICAgY2FzZSBBbGVydExldmVsLkVNRVJHRU5DWTpcbiAgICAgICAgcmV0dXJuIEFsZXJ0U3lzdGVtTGV2ZWwuRU1FUkdFTkNZXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQWxlcnRTeXN0ZW1MZXZlbC5JTkZPXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYSBJRCDDum5pY28gcGFyYSBhbGVydGFcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVBbGVydElkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBhbGVydF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcbiAgfVxuXG4gIC8qKlxuICAgKiBMaW1waWEgcmVjdXJzb3NcbiAgICovXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmx1c2hJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZsdXNoSW50ZXJ2YWwpXG4gICAgICB0aGlzLmZsdXNoSW50ZXJ2YWwgPSBudWxsXG4gICAgfVxuICAgIHRoaXMuZmx1c2hNZXRyaWNzKCkgLy8gRmx1c2ggZmluYWxcbiAgfVxufVxuXG4vLyBJbnN0YW5jaWEgc2luZ2xldG9uXG5leHBvcnQgY29uc3QgZW50ZXJwcmlzZU1ldHJpY3MgPSBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3Rvci5nZXRJbnN0YW5jZSgpXG5cbi8vIEZ1bmNpb25lcyBkZSBjb252ZW5pZW5jaWFcbmV4cG9ydCBjb25zdCByZWNvcmRQZXJmb3JtYW5jZU1ldHJpYyA9XG4gIGVudGVycHJpc2VNZXRyaWNzLnJlY29yZFBlcmZvcm1hbmNlTWV0cmljLmJpbmQoZW50ZXJwcmlzZU1ldHJpY3MpXG5leHBvcnQgY29uc3QgcmVjb3JkQnVzaW5lc3NNZXRyaWMgPSBlbnRlcnByaXNlTWV0cmljcy5yZWNvcmRCdXNpbmVzc01ldHJpYy5iaW5kKGVudGVycHJpc2VNZXRyaWNzKVxuZXhwb3J0IGNvbnN0IHJlY29yZFNlY3VyaXR5TWV0cmljID0gZW50ZXJwcmlzZU1ldHJpY3MucmVjb3JkU2VjdXJpdHlNZXRyaWMuYmluZChlbnRlcnByaXNlTWV0cmljcylcbmV4cG9ydCBjb25zdCByZWNvcmRVc2VyRXhwZXJpZW5jZU1ldHJpYyA9XG4gIGVudGVycHJpc2VNZXRyaWNzLnJlY29yZFVzZXJFeHBlcmllbmNlTWV0cmljLmJpbmQoZW50ZXJwcmlzZU1ldHJpY3MpXG4iXSwibmFtZXMiOlsiQWxlcnRMZXZlbCIsIkJ1c2luZXNzTWV0cmljQ2F0ZWdvcnkiLCJFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvciIsIk1ldHJpY1R5cGUiLCJlbnRlcnByaXNlTWV0cmljcyIsInJlY29yZEJ1c2luZXNzTWV0cmljIiwicmVjb3JkUGVyZm9ybWFuY2VNZXRyaWMiLCJyZWNvcmRTZWN1cml0eU1ldHJpYyIsInJlY29yZFVzZXJFeHBlcmllbmNlTWV0cmljIiwiQ2FjaGVVdGlscyIsIndpbmRvdyIsInJlcXVpcmUiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiYWxlcnRSdWxlcyIsIk1hcCIsImFjdGl2ZUFsZXJ0cyIsIm1ldHJpY3NCdWZmZXIiLCJmbHVzaEludGVydmFsIiwiaW5pdGlhbGl6ZURlZmF1bHRBbGVydHMiLCJzdGFydE1ldHJpY3NGbHVzaCIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJyZWNvcmRNZXRyaWMiLCJuYW1lIiwidmFsdWUiLCJ0eXBlIiwiY2F0ZWdvcnkiLCJ0YWdzIiwibWV0YWRhdGEiLCJtZXRyaWMiLCJpZCIsImdlbmVyYXRlTWV0cmljSWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwdXNoIiwiY2hlY2tBbGVydHMiLCJsb2dnZXIiLCJkZWJ1ZyIsIkxvZ0xldmVsIiwiREVCVUciLCJMb2dDYXRlZ29yeSIsIlNZU1RFTSIsIkVSUk9SIiwiRXJyb3IiLCJtZXNzYWdlIiwib3BlcmF0aW9uIiwiZHVyYXRpb24iLCJzdWNjZXNzIiwidG9TdHJpbmciLCJldmVudCIsInNldmVyaXR5IiwidXNlcklkIiwic2V0QWxlcnRSdWxlIiwicnVsZSIsInNldCIsImluZm8iLCJJTkZPIiwibWV0cmljTmFtZSIsInRocmVzaG9sZCIsImxldmVsIiwidmFsdWVzIiwiZW5hYmxlZCIsImV4aXN0aW5nQWxlcnQiLCJBcnJheSIsImZyb20iLCJmaW5kIiwiYWxlcnQiLCJydWxlSWQiLCJyZXNvbHZlZEF0IiwiY29vbGRvd25FbmQiLCJ0cmlnZ2VyZWRBdCIsInNldE1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiY29vbGRvd25NaW51dGVzIiwidHJpZ2dlcmVkIiwiZXZhbHVhdGVDb25kaXRpb24iLCJjb25kaXRpb24iLCJ0cmlnZ2VyQWxlcnQiLCJhbGVydExldmVsIiwiY29udmVydFRvQWxlcnRTeXN0ZW1MZXZlbCIsImVudGVycHJpc2VBbGVydFN5c3RlbSIsImRlc2NyaXB0aW9uIiwibG9jYWxBbGVydCIsIldBUk4iLCJhbGVydElkIiwiZXhlY3V0ZUFsZXJ0QWN0aW9uIiwiYWN0aW9uIiwiY29uZmlnIiwidXJsIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0byIsImNoYW5uZWwiLCJnZXRBZ2dyZWdhdGVkTWV0cmljcyIsInBlcmlvZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJjYWNoZUtleSIsImZldGNoRGF0YSIsInN1cGFiYXNlIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJkYXRhIiwicnBjIiwibWV0cmljX25hbWUiLCJwZXJpb2RfaW50ZXJ2YWwiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJjYWNoZU1ldHJpY3NBZ2dyZWdhdGlvbiIsImZsdXNoTWV0cmljcyIsImxlbmd0aCIsIm1ldHJpY3MiLCJpbnNlcnQiLCJtYXAiLCJtZXRyaWNzQ291bnQiLCJhY3Rpb25zIiwic2V0SW50ZXJ2YWwiLCJzdG9yZUFsZXJ0IiwicnVsZV9pZCIsInRyaWdnZXJlZF9hdCIsInJlc29sdmVkX2F0Iiwibm93IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsIkFsZXJ0U3lzdGVtTGV2ZWwiLCJXQVJOSU5HIiwiQ1JJVElDQUwiLCJFTUVSR0VOQ1kiLCJnZW5lcmF0ZUFsZXJ0SWQiLCJkZXN0cm95IiwiY2xlYXJJbnRlcnZhbCIsImJpbmQiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QyxpREFBaUQ7QUFDakQsc0NBQXNDOzs7Ozs7Ozs7Ozs7UUFvQzFCQTtlQUFBQTs7UUFUQUM7ZUFBQUE7O1FBZ0ZDQztlQUFBQTs7UUF6RkRDO2VBQUFBOztRQTBwQkNDO2VBQUFBOztRQUtBQztlQUFBQTs7UUFGQUM7ZUFBQUE7O1FBR0FDO2VBQUFBOztRQUNBQztlQUFBQTs7O3dCQWpyQmlDOzBCQUNaOzZCQUNvQztBQUV0RSxxR0FBcUc7QUFDckcsSUFBSUMsYUFBa0I7QUFDdEIsSUFBSSxPQUFPQyxXQUFXLGFBQWE7SUFDakMsbUJBQW1CO0lBQ25CLElBQUk7UUFDRkQsYUFBYUUsUUFBUSx1QkFBdUJGLFVBQVU7SUFDeEQsRUFBRSxPQUFPRyxPQUFPO1FBQ2RDLFFBQVFDLElBQUksQ0FBQyxpREFBaURGO0lBQ2hFO0FBQ0Y7QUFHTyxJQUFBLEFBQUtULG9DQUFBQTs7Ozs7O1dBQUFBOztBQVNMLElBQUEsQUFBS0YsZ0RBQUFBOzs7Ozs7V0FBQUE7O0FB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