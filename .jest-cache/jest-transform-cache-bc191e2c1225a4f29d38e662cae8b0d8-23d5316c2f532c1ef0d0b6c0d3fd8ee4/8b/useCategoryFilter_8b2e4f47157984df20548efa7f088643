1f1327d2c411b9d46ff232ad3b9676fc
/**
 * useCategoryFilter Hook
 * Manages category filter state and logic
 * Pinteya E-commerce - Enterprise-ready implementation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get /**
 * Default export for convenience
 */ default () {
        return _default;
    },
    get isCategoryId () {
        return isCategoryId;
    },
    get useCategoryFilter () {
        return useCategoryFilter;
    },
    get validateCategoryIds () {
        return validateCategoryIds;
    }
});
const _react = require("react");
const _navigation = require("next/navigation");
const useCategoryFilter = (options = {})=>{
    const { initialCategories = [], maxSelections = 10, syncWithUrl = true, urlParamName = 'categories', onCategoryChange, enableAnalytics = true } = options;
    const searchParams = (0, _navigation.useSearchParams)();
    // Initialize state from URL if sync is enabled, otherwise use initial categories
    const getInitialState = (0, _react.useCallback)(()=>{
        if (syncWithUrl) {
            const urlCategories = searchParams.get(urlParamName);
            if (urlCategories) {
                return urlCategories.split(',').filter(Boolean);
            }
        }
        return initialCategories;
    }, [
        syncWithUrl,
        searchParams,
        urlParamName,
        initialCategories
    ]);
    const [selectedCategories, setSelectedCategories] = (0, _react.useState)(getInitialState);
    /**
   * Create category change event for analytics and callbacks
   */ const createChangeEvent = (0, _react.useCallback)((type, categoryId, newCategories, previousCategories)=>({
            type,
            categoryId,
            selectedCategories: newCategories,
            previousCategories,
            timestamp: new Date()
        }), []);
    /**
   * Track analytics event if enabled
   */ const trackAnalytics = (0, _react.useCallback)((event)=>{
        if (!enableAnalytics) {
            return;
        }
        // Track with analytics service (placeholder for actual implementation)
        if (typeof window !== 'undefined' && window.gtag) {
            window.gtag('event', 'category_filter_change', {
                event_category: 'filters',
                event_label: event.categoryId || 'bulk_action',
                value: event.selectedCategories.length,
                custom_parameters: {
                    action_type: event.type,
                    selected_count: event.selectedCategories.length
                }
            });
        }
        // Console log for development
        if (process.env.NODE_ENV === 'development') {}
    }, [
        enableAnalytics
    ]);
    /**
   * Toggle a category selection
   */ const toggleCategory = (0, _react.useCallback)((categoryId)=>{
        setSelectedCategories((prev)=>{
            const isCurrentlySelected = prev.includes(categoryId);
            let newCategories;
            if (isCurrentlySelected) {
                // Remove category
                newCategories = prev.filter((id)=>id !== categoryId);
            } else {
                // Add category (respect max selections)
                if (prev.length >= maxSelections) {
                    console.warn(`Maximum ${maxSelections} categories can be selected`);
                    return prev;
                }
                newCategories = [
                    ...prev,
                    categoryId
                ];
            }
            // Create and track event
            const event = createChangeEvent(isCurrentlySelected ? 'deselect' : 'select', categoryId, newCategories, prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return newCategories;
        });
    }, [
        maxSelections,
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Clear all selected categories
   */ const clearAll = (0, _react.useCallback)(()=>{
        setSelectedCategories((prev)=>{
            if (prev.length === 0) {
                return prev;
            }
            const event = createChangeEvent('clear', undefined, [], prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return [];
        });
    }, [
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Select all provided categories
   */ const selectAll = (0, _react.useCallback)((categoryIds)=>{
        setSelectedCategories((prev)=>{
            // Respect max selections
            const limitedCategories = categoryIds.slice(0, maxSelections);
            if (categoryIds.length > maxSelections) {
                console.warn(`Only first ${maxSelections} categories will be selected`);
            }
            const event = createChangeEvent('selectAll', undefined, limitedCategories, prev);
            trackAnalytics(event);
            onCategoryChange?.(event);
            return limitedCategories;
        });
    }, [
        maxSelections,
        createChangeEvent,
        trackAnalytics,
        onCategoryChange
    ]);
    /**
   * Check if a category is selected
   */ const isSelected = (0, _react.useCallback)((categoryId)=>{
        return selectedCategories.includes(categoryId);
    }, [
        selectedCategories
    ]);
    /**
   * Get count of selected categories
   */ const selectedCount = (0, _react.useMemo)(()=>selectedCategories.length, [
        selectedCategories
    ]);
    /**
   * Memoized return object for performance
   */ const returnValue = (0, _react.useMemo)(()=>({
            selectedCategories,
            toggleCategory,
            clearAll,
            selectAll,
            isSelected,
            selectedCount
        }), [
        selectedCategories,
        toggleCategory,
        clearAll,
        selectAll,
        isSelected,
        selectedCount
    ]);
    return returnValue;
};
const isCategoryId = (value)=>{
    return typeof value === 'string' && value.length > 0;
};
const validateCategoryIds = (categoryIds)=>{
    return categoryIds.filter(isCategoryId);
};
const _default = useCategoryFilter;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXHVzZUNhdGVnb3J5RmlsdGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB1c2VDYXRlZ29yeUZpbHRlciBIb29rXHJcbiAqIE1hbmFnZXMgY2F0ZWdvcnkgZmlsdGVyIHN0YXRlIGFuZCBsb2dpY1xyXG4gKiBQaW50ZXlhIEUtY29tbWVyY2UgLSBFbnRlcnByaXNlLXJlYWR5IGltcGxlbWVudGF0aW9uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5pbXBvcnQgdHlwZSB7IFxyXG4gIENhdGVnb3J5SWQsIFxyXG4gIFVzZUNhdGVnb3J5RmlsdGVyUmV0dXJuLFxyXG4gIENhdGVnb3J5Q2hhbmdlRXZlbnQgXHJcbn0gZnJvbSAnQC90eXBlcy9jYXRlZ29yaWVzJztcclxuXHJcbi8qKlxyXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBjYXRlZ29yeSBmaWx0ZXIgaG9va1xyXG4gKi9cclxuaW50ZXJmYWNlIFVzZUNhdGVnb3J5RmlsdGVyT3B0aW9ucyB7XHJcbiAgLyoqIEluaXRpYWwgc2VsZWN0ZWQgY2F0ZWdvcmllcyAqL1xyXG4gIGluaXRpYWxDYXRlZ29yaWVzPzogQ2F0ZWdvcnlJZFtdO1xyXG4gIC8qKiBNYXhpbXVtIG51bWJlciBvZiBjYXRlZ29yaWVzIHRoYXQgY2FuIGJlIHNlbGVjdGVkICovXHJcbiAgbWF4U2VsZWN0aW9ucz86IG51bWJlcjtcclxuICAvKiogV2hldGhlciB0byBzeW5jIHdpdGggVVJMIHBhcmFtZXRlcnMgKi9cclxuICBzeW5jV2l0aFVybD86IGJvb2xlYW47XHJcbiAgLyoqIFVSTCBwYXJhbWV0ZXIgbmFtZSBmb3IgY2F0ZWdvcmllcyAqL1xyXG4gIHVybFBhcmFtTmFtZT86IHN0cmluZztcclxuICAvKiogQ2FsbGJhY2sgZm9yIGNhdGVnb3J5IGNoYW5nZSBldmVudHMgKi9cclxuICBvbkNhdGVnb3J5Q2hhbmdlPzogKGV2ZW50OiBDYXRlZ29yeUNoYW5nZUV2ZW50KSA9PiB2b2lkO1xyXG4gIC8qKiBXaGV0aGVyIHRvIGVuYWJsZSBhbmFseXRpY3MgdHJhY2tpbmcgKi9cclxuICBlbmFibGVBbmFseXRpY3M/OiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogQ3VzdG9tIGhvb2sgZm9yIG1hbmFnaW5nIGNhdGVnb3J5IGZpbHRlciBzdGF0ZVxyXG4gKiBcclxuICogRmVhdHVyZXM6XHJcbiAqIC0gU3RhdGUgbWFuYWdlbWVudCBmb3Igc2VsZWN0ZWQgY2F0ZWdvcmllc1xyXG4gKiAtIFVSTCBzeW5jaHJvbml6YXRpb25cclxuICogLSBBbmFseXRpY3MgdHJhY2tpbmdcclxuICogLSBBY2Nlc3NpYmlsaXR5IHN1cHBvcnRcclxuICogLSBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cclxuICogXHJcbiAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xyXG4gKiBAcmV0dXJucyBDYXRlZ29yeSBmaWx0ZXIgc3RhdGUgYW5kIGFjdGlvbnNcclxuICovXHJcbmV4cG9ydCBjb25zdCB1c2VDYXRlZ29yeUZpbHRlciA9IChcclxuICBvcHRpb25zOiBVc2VDYXRlZ29yeUZpbHRlck9wdGlvbnMgPSB7fVxyXG4pOiBVc2VDYXRlZ29yeUZpbHRlclJldHVybiA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgaW5pdGlhbENhdGVnb3JpZXMgPSBbXSxcclxuICAgIG1heFNlbGVjdGlvbnMgPSAxMCxcclxuICAgIHN5bmNXaXRoVXJsID0gdHJ1ZSxcclxuICAgIHVybFBhcmFtTmFtZSA9ICdjYXRlZ29yaWVzJyxcclxuICAgIG9uQ2F0ZWdvcnlDaGFuZ2UsXHJcbiAgICBlbmFibGVBbmFseXRpY3MgPSB0cnVlLFxyXG4gIH0gPSBvcHRpb25zO1xyXG5cclxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSBmcm9tIFVSTCBpZiBzeW5jIGlzIGVuYWJsZWQsIG90aGVyd2lzZSB1c2UgaW5pdGlhbCBjYXRlZ29yaWVzXHJcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gdXNlQ2FsbGJhY2soKCk6IENhdGVnb3J5SWRbXSA9PiB7XHJcbiAgICBpZiAoc3luY1dpdGhVcmwpIHtcclxuICAgICAgY29uc3QgdXJsQ2F0ZWdvcmllcyA9IHNlYXJjaFBhcmFtcy5nZXQodXJsUGFyYW1OYW1lKTtcclxuICAgICAgaWYgKHVybENhdGVnb3JpZXMpIHtcclxuICAgICAgICByZXR1cm4gdXJsQ2F0ZWdvcmllcy5zcGxpdCgnLCcpLmZpbHRlcihCb29sZWFuKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluaXRpYWxDYXRlZ29yaWVzO1xyXG4gIH0sIFtzeW5jV2l0aFVybCwgc2VhcmNoUGFyYW1zLCB1cmxQYXJhbU5hbWUsIGluaXRpYWxDYXRlZ29yaWVzXSk7XHJcblxyXG4gIGNvbnN0IFtzZWxlY3RlZENhdGVnb3JpZXMsIHNldFNlbGVjdGVkQ2F0ZWdvcmllc10gPSB1c2VTdGF0ZTxDYXRlZ29yeUlkW10+KGdldEluaXRpYWxTdGF0ZSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBjYXRlZ29yeSBjaGFuZ2UgZXZlbnQgZm9yIGFuYWx5dGljcyBhbmQgY2FsbGJhY2tzXHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlQ2hhbmdlRXZlbnQgPSB1c2VDYWxsYmFjaygoXHJcbiAgICB0eXBlOiBDYXRlZ29yeUNoYW5nZUV2ZW50Wyd0eXBlJ10sXHJcbiAgICBjYXRlZ29yeUlkOiBDYXRlZ29yeUlkIHwgdW5kZWZpbmVkLFxyXG4gICAgbmV3Q2F0ZWdvcmllczogQ2F0ZWdvcnlJZFtdLFxyXG4gICAgcHJldmlvdXNDYXRlZ29yaWVzOiBDYXRlZ29yeUlkW11cclxuICApOiBDYXRlZ29yeUNoYW5nZUV2ZW50ID0+ICh7XHJcbiAgICB0eXBlLFxyXG4gICAgY2F0ZWdvcnlJZCxcclxuICAgIHNlbGVjdGVkQ2F0ZWdvcmllczogbmV3Q2F0ZWdvcmllcyxcclxuICAgIHByZXZpb3VzQ2F0ZWdvcmllcyxcclxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICB9KSwgW10pO1xyXG5cclxuICAvKipcclxuICAgKiBUcmFjayBhbmFseXRpY3MgZXZlbnQgaWYgZW5hYmxlZFxyXG4gICAqL1xyXG4gIGNvbnN0IHRyYWNrQW5hbHl0aWNzID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBDYXRlZ29yeUNoYW5nZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWVuYWJsZUFuYWx5dGljcykge3JldHVybjt9XHJcblxyXG4gICAgLy8gVHJhY2sgd2l0aCBhbmFseXRpY3Mgc2VydmljZSAocGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBpbXBsZW1lbnRhdGlvbilcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZ3RhZykge1xyXG4gICAgICB3aW5kb3cuZ3RhZygnZXZlbnQnLCAnY2F0ZWdvcnlfZmlsdGVyX2NoYW5nZScsIHtcclxuICAgICAgICBldmVudF9jYXRlZ29yeTogJ2ZpbHRlcnMnLFxyXG4gICAgICAgIGV2ZW50X2xhYmVsOiBldmVudC5jYXRlZ29yeUlkIHx8ICdidWxrX2FjdGlvbicsXHJcbiAgICAgICAgdmFsdWU6IGV2ZW50LnNlbGVjdGVkQ2F0ZWdvcmllcy5sZW5ndGgsXHJcbiAgICAgICAgY3VzdG9tX3BhcmFtZXRlcnM6IHtcclxuICAgICAgICAgIGFjdGlvbl90eXBlOiBldmVudC50eXBlLFxyXG4gICAgICAgICAgc2VsZWN0ZWRfY291bnQ6IGV2ZW50LnNlbGVjdGVkQ2F0ZWdvcmllcy5sZW5ndGgsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uc29sZSBsb2cgZm9yIGRldmVsb3BtZW50XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIH1cclxuICB9LCBbZW5hYmxlQW5hbHl0aWNzXSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRvZ2dsZSBhIGNhdGVnb3J5IHNlbGVjdGlvblxyXG4gICAqL1xyXG4gIGNvbnN0IHRvZ2dsZUNhdGVnb3J5ID0gdXNlQ2FsbGJhY2soKGNhdGVnb3J5SWQ6IENhdGVnb3J5SWQpID0+IHtcclxuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcmllcyhwcmV2ID0+IHtcclxuICAgICAgY29uc3QgaXNDdXJyZW50bHlTZWxlY3RlZCA9IHByZXYuaW5jbHVkZXMoY2F0ZWdvcnlJZCk7XHJcbiAgICAgIGxldCBuZXdDYXRlZ29yaWVzOiBDYXRlZ29yeUlkW107XHJcblxyXG4gICAgICBpZiAoaXNDdXJyZW50bHlTZWxlY3RlZCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBjYXRlZ29yeVxyXG4gICAgICAgIG5ld0NhdGVnb3JpZXMgPSBwcmV2LmZpbHRlcihpZCA9PiBpZCAhPT0gY2F0ZWdvcnlJZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQWRkIGNhdGVnb3J5IChyZXNwZWN0IG1heCBzZWxlY3Rpb25zKVxyXG4gICAgICAgIGlmIChwcmV2Lmxlbmd0aCA+PSBtYXhTZWxlY3Rpb25zKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oYE1heGltdW0gJHttYXhTZWxlY3Rpb25zfSBjYXRlZ29yaWVzIGNhbiBiZSBzZWxlY3RlZGApO1xyXG4gICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld0NhdGVnb3JpZXMgPSBbLi4ucHJldiwgY2F0ZWdvcnlJZF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhbmQgdHJhY2sgZXZlbnRcclxuICAgICAgY29uc3QgZXZlbnQgPSBjcmVhdGVDaGFuZ2VFdmVudChcclxuICAgICAgICBpc0N1cnJlbnRseVNlbGVjdGVkID8gJ2Rlc2VsZWN0JyA6ICdzZWxlY3QnLFxyXG4gICAgICAgIGNhdGVnb3J5SWQsXHJcbiAgICAgICAgbmV3Q2F0ZWdvcmllcyxcclxuICAgICAgICBwcmV2XHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0cmFja0FuYWx5dGljcyhldmVudCk7XHJcbiAgICAgIG9uQ2F0ZWdvcnlDaGFuZ2U/LihldmVudCk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3Q2F0ZWdvcmllcztcclxuICAgIH0pO1xyXG4gIH0sIFttYXhTZWxlY3Rpb25zLCBjcmVhdGVDaGFuZ2VFdmVudCwgdHJhY2tBbmFseXRpY3MsIG9uQ2F0ZWdvcnlDaGFuZ2VdKTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgYWxsIHNlbGVjdGVkIGNhdGVnb3JpZXNcclxuICAgKi9cclxuICBjb25zdCBjbGVhckFsbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcmllcyhwcmV2ID0+IHtcclxuICAgICAgaWYgKHByZXYubGVuZ3RoID09PSAwKSB7cmV0dXJuIHByZXY7fVxyXG5cclxuICAgICAgY29uc3QgZXZlbnQgPSBjcmVhdGVDaGFuZ2VFdmVudCgnY2xlYXInLCB1bmRlZmluZWQsIFtdLCBwcmV2KTtcclxuICAgICAgdHJhY2tBbmFseXRpY3MoZXZlbnQpO1xyXG4gICAgICBvbkNhdGVnb3J5Q2hhbmdlPy4oZXZlbnQpO1xyXG5cclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfSk7XHJcbiAgfSwgW2NyZWF0ZUNoYW5nZUV2ZW50LCB0cmFja0FuYWx5dGljcywgb25DYXRlZ29yeUNoYW5nZV0pO1xyXG5cclxuICAvKipcclxuICAgKiBTZWxlY3QgYWxsIHByb3ZpZGVkIGNhdGVnb3JpZXNcclxuICAgKi9cclxuICBjb25zdCBzZWxlY3RBbGwgPSB1c2VDYWxsYmFjaygoY2F0ZWdvcnlJZHM6IENhdGVnb3J5SWRbXSkgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRDYXRlZ29yaWVzKHByZXYgPT4ge1xyXG4gICAgICAvLyBSZXNwZWN0IG1heCBzZWxlY3Rpb25zXHJcbiAgICAgIGNvbnN0IGxpbWl0ZWRDYXRlZ29yaWVzID0gY2F0ZWdvcnlJZHMuc2xpY2UoMCwgbWF4U2VsZWN0aW9ucyk7XHJcblxyXG4gICAgICBpZiAoY2F0ZWdvcnlJZHMubGVuZ3RoID4gbWF4U2VsZWN0aW9ucykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgT25seSBmaXJzdCAke21heFNlbGVjdGlvbnN9IGNhdGVnb3JpZXMgd2lsbCBiZSBzZWxlY3RlZGApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBldmVudCA9IGNyZWF0ZUNoYW5nZUV2ZW50KCdzZWxlY3RBbGwnLCB1bmRlZmluZWQsIGxpbWl0ZWRDYXRlZ29yaWVzLCBwcmV2KTtcclxuICAgICAgdHJhY2tBbmFseXRpY3MoZXZlbnQpO1xyXG4gICAgICBvbkNhdGVnb3J5Q2hhbmdlPy4oZXZlbnQpO1xyXG5cclxuICAgICAgcmV0dXJuIGxpbWl0ZWRDYXRlZ29yaWVzO1xyXG4gICAgfSk7XHJcbiAgfSwgW21heFNlbGVjdGlvbnMsIGNyZWF0ZUNoYW5nZUV2ZW50LCB0cmFja0FuYWx5dGljcywgb25DYXRlZ29yeUNoYW5nZV0pO1xyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIGNhdGVnb3J5IGlzIHNlbGVjdGVkXHJcbiAgICovXHJcbiAgY29uc3QgaXNTZWxlY3RlZCA9IHVzZUNhbGxiYWNrKChjYXRlZ29yeUlkOiBDYXRlZ29yeUlkKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRDYXRlZ29yaWVzLmluY2x1ZGVzKGNhdGVnb3J5SWQpO1xyXG4gIH0sIFtzZWxlY3RlZENhdGVnb3JpZXNdKTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNvdW50IG9mIHNlbGVjdGVkIGNhdGVnb3JpZXNcclxuICAgKi9cclxuICBjb25zdCBzZWxlY3RlZENvdW50ID0gdXNlTWVtbygoKSA9PiBzZWxlY3RlZENhdGVnb3JpZXMubGVuZ3RoLCBbc2VsZWN0ZWRDYXRlZ29yaWVzXSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIE1lbW9pemVkIHJldHVybiBvYmplY3QgZm9yIHBlcmZvcm1hbmNlXHJcbiAgICovXHJcbiAgY29uc3QgcmV0dXJuVmFsdWUgPSB1c2VNZW1vKCgpOiBVc2VDYXRlZ29yeUZpbHRlclJldHVybiA9PiAoe1xyXG4gICAgc2VsZWN0ZWRDYXRlZ29yaWVzLFxyXG4gICAgdG9nZ2xlQ2F0ZWdvcnksXHJcbiAgICBjbGVhckFsbCxcclxuICAgIHNlbGVjdEFsbCxcclxuICAgIGlzU2VsZWN0ZWQsXHJcbiAgICBzZWxlY3RlZENvdW50LFxyXG4gIH0pLCBbXHJcbiAgICBzZWxlY3RlZENhdGVnb3JpZXMsXHJcbiAgICB0b2dnbGVDYXRlZ29yeSxcclxuICAgIGNsZWFyQWxsLFxyXG4gICAgc2VsZWN0QWxsLFxyXG4gICAgaXNTZWxlY3RlZCxcclxuICAgIHNlbGVjdGVkQ291bnQsXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBDYXRlZ29yeUlkXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaXNDYXRlZ29yeUlkID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgQ2F0ZWdvcnlJZCA9PiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubGVuZ3RoID4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5IHRvIHZhbGlkYXRlIGNhdGVnb3J5IElEcyBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ2F0ZWdvcnlJZHMgPSAoY2F0ZWdvcnlJZHM6IHVua25vd25bXSk6IENhdGVnb3J5SWRbXSA9PiB7XHJcbiAgcmV0dXJuIGNhdGVnb3J5SWRzLmZpbHRlcihpc0NhdGVnb3J5SWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERlZmF1bHQgZXhwb3J0IGZvciBjb252ZW5pZW5jZVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgdXNlQ2F0ZWdvcnlGaWx0ZXI7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJpc0NhdGVnb3J5SWQiLCJ1c2VDYXRlZ29yeUZpbHRlciIsInZhbGlkYXRlQ2F0ZWdvcnlJZHMiLCJvcHRpb25zIiwiaW5pdGlhbENhdGVnb3JpZXMiLCJtYXhTZWxlY3Rpb25zIiwic3luY1dpdGhVcmwiLCJ1cmxQYXJhbU5hbWUiLCJvbkNhdGVnb3J5Q2hhbmdlIiwiZW5hYmxlQW5hbHl0aWNzIiwic2VhcmNoUGFyYW1zIiwidXNlU2VhcmNoUGFyYW1zIiwiZ2V0SW5pdGlhbFN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1cmxDYXRlZ29yaWVzIiwiZ2V0Iiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2VsZWN0ZWRDYXRlZ29yaWVzIiwic2V0U2VsZWN0ZWRDYXRlZ29yaWVzIiwidXNlU3RhdGUiLCJjcmVhdGVDaGFuZ2VFdmVudCIsInR5cGUiLCJjYXRlZ29yeUlkIiwibmV3Q2F0ZWdvcmllcyIsInByZXZpb3VzQ2F0ZWdvcmllcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0cmFja0FuYWx5dGljcyIsImV2ZW50Iiwid2luZG93IiwiZ3RhZyIsImV2ZW50X2NhdGVnb3J5IiwiZXZlbnRfbGFiZWwiLCJ2YWx1ZSIsImxlbmd0aCIsImN1c3RvbV9wYXJhbWV0ZXJzIiwiYWN0aW9uX3R5cGUiLCJzZWxlY3RlZF9jb3VudCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInRvZ2dsZUNhdGVnb3J5IiwicHJldiIsImlzQ3VycmVudGx5U2VsZWN0ZWQiLCJpbmNsdWRlcyIsImlkIiwiY29uc29sZSIsIndhcm4iLCJjbGVhckFsbCIsInVuZGVmaW5lZCIsInNlbGVjdEFsbCIsImNhdGVnb3J5SWRzIiwibGltaXRlZENhdGVnb3JpZXMiLCJzbGljZSIsImlzU2VsZWN0ZWQiLCJzZWxlY3RlZENvdW50IiwidXNlTWVtbyIsInJldHVyblZhbHVlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDOzs7Ozs7Ozs7OztRQWtPRDs7Q0FFQyxHQUNEO2VBQUE7O1FBZGFBO2VBQUFBOztRQTlLQUM7ZUFBQUE7O1FBcUxBQztlQUFBQTs7O3VCQTVOa0M7NEJBQ2Y7QUFzQ3pCLE1BQU1ELG9CQUFvQixDQUMvQkUsVUFBb0MsQ0FBQyxDQUFDO0lBRXRDLE1BQU0sRUFDSkMsb0JBQW9CLEVBQUUsRUFDdEJDLGdCQUFnQixFQUFFLEVBQ2xCQyxjQUFjLElBQUksRUFDbEJDLGVBQWUsWUFBWSxFQUMzQkMsZ0JBQWdCLEVBQ2hCQyxrQkFBa0IsSUFBSSxFQUN2QixHQUFHTjtJQUVKLE1BQU1PLGVBQWVDLElBQUFBLDJCQUFlO0lBRXBDLGlGQUFpRjtJQUNqRixNQUFNQyxrQkFBa0JDLElBQUFBLGtCQUFXLEVBQUM7UUFDbEMsSUFBSVAsYUFBYTtZQUNmLE1BQU1RLGdCQUFnQkosYUFBYUssR0FBRyxDQUFDUjtZQUN2QyxJQUFJTyxlQUFlO2dCQUNqQixPQUFPQSxjQUFjRSxLQUFLLENBQUMsS0FBS0MsTUFBTSxDQUFDQztZQUN6QztRQUNGO1FBQ0EsT0FBT2Q7SUFDVCxHQUFHO1FBQUNFO1FBQWFJO1FBQWNIO1FBQWNIO0tBQWtCO0lBRS9ELE1BQU0sQ0FBQ2Usb0JBQW9CQyxzQkFBc0IsR0FBR0MsSUFBQUEsZUFBUSxFQUFlVDtJQUUzRTs7R0FFQyxHQUNELE1BQU1VLG9CQUFvQlQsSUFBQUEsa0JBQVcsRUFBQyxDQUNwQ1UsTUFDQUMsWUFDQUMsZUFDQUMscUJBQ3lCLENBQUE7WUFDekJIO1lBQ0FDO1lBQ0FMLG9CQUFvQk07WUFDcEJDO1lBQ0FDLFdBQVcsSUFBSUM7UUFDakIsQ0FBQSxHQUFJLEVBQUU7SUFFTjs7R0FFQyxHQUNELE1BQU1DLGlCQUFpQmhCLElBQUFBLGtCQUFX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