f0c913952bee9e25275832c8e202b043
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useProductFormReducer () {
        return useProductFormReducer;
    },
    get useProductFormValidation () {
        return useProductFormValidation;
    }
});
const _react = require("react");
// Estado inicial
const initialState = {
    // Información básica
    name: '',
    description: '',
    shortDescription: '',
    categoryId: '',
    status: 'draft',
    // Detalles del producto
    brand: '',
    model: '',
    sku: '',
    barcode: '',
    // Precios
    price: 0,
    comparePrice: 0,
    costPrice: 0,
    taxRate: 0,
    // Inventario
    trackInventory: true,
    stock: 0,
    lowStockThreshold: 5,
    allowBackorder: false,
    // Envío
    requiresShipping: true,
    weight: 0,
    dimensions: {
        length: 0,
        width: 0,
        height: 0
    },
    // SEO
    seoTitle: '',
    seoDescription: '',
    seoKeywords: [],
    // Imágenes y variantes
    images: [],
    variants: [],
    // Estado del formulario
    isLoading: false,
    isSaving: false,
    errors: {},
    isDirty: false,
    currentStep: 0,
    validationErrors: {}
};
// Reducer function
function productFormReducer(state, action) {
    switch(action.type){
        case 'SET_FIELD':
            return {
                ...state,
                [action.field]: action.value,
                isDirty: true,
                // Limpiar error del campo si existe
                errors: {
                    ...state.errors,
                    [action.field]: undefined
                }
            };
        case 'SET_MULTIPLE_FIELDS':
            return {
                ...state,
                ...action.fields,
                isDirty: true
            };
        case 'SET_LOADING':
            return {
                ...state,
                isLoading: action.payload
            };
        case 'SET_SAVING':
            return {
                ...state,
                isSaving: action.payload
            };
        case 'SET_ERROR':
            return {
                ...state,
                errors: {
                    ...state.errors,
                    [action.field]: action.error
                }
            };
        case 'CLEAR_ERROR':
            const { [action.field]: _, ...restErrors } = state.errors;
            return {
                ...state,
                errors: restErrors
            };
        case 'CLEAR_ALL_ERRORS':
            return {
                ...state,
                errors: {},
                validationErrors: {}
            };
        case 'SET_VALIDATION_ERRORS':
            return {
                ...state,
                validationErrors: action.errors
            };
        case 'SET_DIRTY':
            return {
                ...state,
                isDirty: action.payload
            };
        case 'SET_STEP':
            return {
                ...state,
                currentStep: Math.max(0, Math.min(4, action.step))
            };
        case 'NEXT_STEP':
            return {
                ...state,
                currentStep: Math.min(4, state.currentStep + 1)
            };
        case 'PREV_STEP':
            return {
                ...state,
                currentStep: Math.max(0, state.currentStep - 1)
            };
        case 'ADD_IMAGE':
            return {
                ...state,
                images: [
                    ...state.images,
                    action.image
                ],
                isDirty: true
            };
        case 'REMOVE_IMAGE':
            return {
                ...state,
                images: state.images.filter((_, index)=>index !== action.index),
                isDirty: true
            };
        case 'ADD_VARIANT':
            return {
                ...state,
                variants: [
                    ...state.variants,
                    action.variant
                ],
                isDirty: true
            };
        case 'REMOVE_VARIANT':
            return {
                ...state,
                variants: state.variants.filter((_, index)=>index !== action.index),
                isDirty: true
            };
        case 'UPDATE_VARIANT':
            return {
                ...state,
                variants: state.variants.map((variant, index)=>index === action.index ? action.variant : variant),
                isDirty: true
            };
        case 'ADD_SEO_KEYWORD':
            if (!state.seoKeywords.includes(action.keyword)) {
                return {
                    ...state,
                    seoKeywords: [
                        ...state.seoKeywords,
                        action.keyword
                    ],
                    isDirty: true
                };
            }
            return state;
        case 'REMOVE_SEO_KEYWORD':
            return {
                ...state,
                seoKeywords: state.seoKeywords.filter((_, index)=>index !== action.index),
                isDirty: true
            };
        case 'RESET_FORM':
            return initialState;
        case 'LOAD_PRODUCT':
            return {
                ...state,
                ...action.product,
                isDirty: false
            };
        default:
            return state;
    }
}
function useProductFormReducer() {
    const [state, dispatch] = (0, _react.useReducer)(productFormReducer, initialState);
    // Acciones memoizadas
    const actions = (0, _react.useMemo)(()=>({
            setField: (field, value)=>dispatch({
                    type: 'SET_FIELD',
                    field,
                    value
                }),
            setMultipleFields: (fields)=>dispatch({
                    type: 'SET_MULTIPLE_FIELDS',
                    fields
                }),
            setLoading: (loading)=>dispatch({
                    type: 'SET_LOADING',
                    payload: loading
                }),
            setSaving: (saving)=>dispatch({
                    type: 'SET_SAVING',
                    payload: saving
                }),
            setError: (field, error)=>dispatch({
                    type: 'SET_ERROR',
                    field,
                    error
                }),
            clearError: (field)=>dispatch({
                    type: 'CLEAR_ERROR',
                    field
                }),
            clearAllErrors: ()=>dispatch({
                    type: 'CLEAR_ALL_ERRORS'
                }),
            setValidationErrors: (errors)=>dispatch({
                    type: 'SET_VALIDATION_ERRORS',
                    errors
                }),
            setDirty: (dirty)=>dispatch({
                    type: 'SET_DIRTY',
                    payload: dirty
                }),
            setStep: (step)=>dispatch({
                    type: 'SET_STEP',
                    step
                }),
            nextStep: ()=>dispatch({
                    type: 'NEXT_STEP'
                }),
            prevStep: ()=>dispatch({
                    type: 'PREV_STEP'
                }),
            addImage: (image)=>dispatch({
                    type: 'ADD_IMAGE',
                    image
                }),
            removeImage: (index)=>dispatch({
                    type: 'REMOVE_IMAGE',
                    index
                }),
            addVariant: (variant)=>dispatch({
                    type: 'ADD_VARIANT',
                    variant
                }),
            removeVariant: (index)=>dispatch({
                    type: 'REMOVE_VARIANT',
                    index
                }),
            updateVariant: (index, variant)=>dispatch({
                    type: 'UPDATE_VARIANT',
                    index,
                    variant
                }),
            addSeoKeyword: (keyword)=>dispatch({
                    type: 'ADD_SEO_KEYWORD',
                    keyword
                }),
            removeSeoKeyword: (index)=>dispatch({
                    type: 'REMOVE_SEO_KEYWORD',
                    index
                }),
            resetForm: ()=>dispatch({
                    type: 'RESET_FORM'
                }),
            loadProduct: (product)=>dispatch({
                    type: 'LOAD_PRODUCT',
                    product
                })
        }), []);
    // Selectores memoizados
    const selectors = (0, _react.useMemo)(()=>({
            // Verificaciones de estado
            hasErrors: Object.keys(state.errors).length > 0,
            hasValidationErrors: Object.keys(state.validationErrors).length > 0,
            isFormValid: Object.keys(state.errors).length === 0 && state.name.trim() !== '',
            // Información de pasos
            isFirstStep: state.currentStep === 0,
            isLastStep: state.currentStep === 4,
            stepProgress: (state.currentStep + 1) / 5 * 100,
            // Cálculos de precios
            profitMargin: state.price > 0 && state.costPrice > 0 ? (state.price - state.costPrice) / state.price * 100 : 0,
            discountPercentage: state.comparePrice > 0 && state.price > 0 ? (state.comparePrice - state.price) / state.comparePrice * 100 : 0,
            // Estado de inventario
            isLowStock: state.stock <= state.lowStockThreshold,
            isOutOfStock: state.stock === 0,
            // Validaciones específicas
            isPriceValid: state.price > 0,
            isSkuValid: state.sku.length > 0,
            areDimensionsValid: state.dimensions.length > 0 && state.dimensions.width > 0 && state.dimensions.height > 0,
            // Contadores
            imageCount: state.images.length,
            variantCount: state.variants.length,
            keywordCount: state.seoKeywords.length,
            // Obtener errores por paso
            getStepErrors: (step)=>{
                const stepFields = {
                    0: [
                        'name',
                        'description',
                        'categoryId'
                    ],
                    1: [
                        'price',
                        'comparePrice',
                        'costPrice'
                    ],
                    2: [
                        'stock',
                        'lowStockThreshold'
                    ],
                    3: [
                        'images'
                    ],
                    4: [
                        'seoTitle',
                        'seoDescription'
                    ]
                };
                const fields = stepFields[step] || [];
                return fields.filter((field)=>state.errors[field]);
            }
        }), [
        state
    ]);
    return {
        state,
        actions,
        selectors
    };
}
function useProductFormValidation() {
    const { state, actions, selectors } = useProductFormReducer();
    const validateField = (0, _react.useCallback)((field, value)=>{
        let error = '';
        switch(field){
            case 'name':
                if (!value || value.trim().length === 0) {
                    error = 'El nombre es requerido';
                } else if (value.length > 255) {
                    error = 'Máximo 255 caracteres';
                }
                break;
            case 'price':
                if (value <= 0) {
                    error = 'El precio debe ser mayor a 0';
                } else if (value > 999999.99) {
                    error = 'Precio máximo excedido';
                }
                break;
            case 'comparePrice':
                if (value > 0 && value < state.price) {
                    error = 'El precio de comparación debe ser mayor al precio base';
                }
                break;
            case 'costPrice':
                if (value > 0 && value > state.price) {
                    error = 'El precio de costo debe ser menor al precio de venta';
                }
                break;
            case 'stock':
                if (value < 0) {
                    error = 'El stock debe ser mayor o igual a 0';
                } else if (value > 999999) {
                    error = 'Stock máximo excedido';
                }
                break;
            case 'sku':
                if (value && !/^[A-Z0-9\-_]+$/.test(value)) {
                    error = 'SKU debe contener solo letras mayúsculas, números, guiones y guiones bajos';
                }
                break;
        }
        if (error) {
            actions.setError(field, error);
        } else {
            actions.clearError(field);
        }
        return error === '';
    }, [
        state.price,
        actions
    ]);
    const validateForm = (0, _react.useCallback)(()=>{
        const fields = [
            'name',
            'price',
            'stock',
            'categoryId'
        ];
        let isValid = true;
        fields.forEach((field)=>{
            const fieldValid = validateField(field, state[field]);
            if (!fieldValid) {
                isValid = false;
            }
        });
        return isValid;
    }, [
        state,
        validateField
    ]);
    return {
        state,
        actions,
        selectors,
        validateField,
        validateForm
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXG9wdGltaXphdGlvblxcdXNlUHJvZHVjdEZvcm1SZWR1Y2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gVGlwb3MgcGFyYSBlbCBlc3RhZG8gZGVsIGZvcm11bGFyaW8gZGUgcHJvZHVjdG9zXHJcbmludGVyZmFjZSBQcm9kdWN0Rm9ybVN0YXRlIHtcclxuICAvLyBJbmZvcm1hY2nDs24gYsOhc2ljYVxyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHNob3J0RGVzY3JpcHRpb246IHN0cmluZztcclxuICBjYXRlZ29yeUlkOiBzdHJpbmc7XHJcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnZHJhZnQnO1xyXG4gIFxyXG4gIC8vIERldGFsbGVzIGRlbCBwcm9kdWN0b1xyXG4gIGJyYW5kOiBzdHJpbmc7XHJcbiAgbW9kZWw6IHN0cmluZztcclxuICBza3U6IHN0cmluZztcclxuICBiYXJjb2RlOiBzdHJpbmc7XHJcbiAgXHJcbiAgLy8gUHJlY2lvc1xyXG4gIHByaWNlOiBudW1iZXI7XHJcbiAgY29tcGFyZVByaWNlOiBudW1iZXI7XHJcbiAgY29zdFByaWNlOiBudW1iZXI7XHJcbiAgdGF4UmF0ZTogbnVtYmVyO1xyXG4gIFxyXG4gIC8vIEludmVudGFyaW9cclxuICB0cmFja0ludmVudG9yeTogYm9vbGVhbjtcclxuICBzdG9jazogbnVtYmVyO1xyXG4gIGxvd1N0b2NrVGhyZXNob2xkOiBudW1iZXI7XHJcbiAgYWxsb3dCYWNrb3JkZXI6IGJvb2xlYW47XHJcbiAgXHJcbiAgLy8gRW52w61vXHJcbiAgcmVxdWlyZXNTaGlwcGluZzogYm9vbGVhbjtcclxuICB3ZWlnaHQ6IG51bWJlcjtcclxuICBkaW1lbnNpb25zOiB7XHJcbiAgICBsZW5ndGg6IG51bWJlcjtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICB9O1xyXG4gIFxyXG4gIC8vIFNFT1xyXG4gIHNlb1RpdGxlOiBzdHJpbmc7XHJcbiAgc2VvRGVzY3JpcHRpb246IHN0cmluZztcclxuICBzZW9LZXl3b3Jkczogc3RyaW5nW107XHJcbiAgXHJcbiAgLy8gSW3DoWdlbmVzIHkgdmFyaWFudGVzXHJcbiAgaW1hZ2VzOiBzdHJpbmdbXTtcclxuICB2YXJpYW50czogYW55W107XHJcbiAgXHJcbiAgLy8gRXN0YWRvIGRlbCBmb3JtdWxhcmlvXHJcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xyXG4gIGlzU2F2aW5nOiBib29sZWFuO1xyXG4gIGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICBpc0RpcnR5OiBib29sZWFuO1xyXG4gIGN1cnJlbnRTdGVwOiBudW1iZXI7XHJcbiAgdmFsaWRhdGlvbkVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xyXG59XHJcblxyXG4vLyBUaXBvcyBkZSBhY2Npb25lc1xyXG50eXBlIFByb2R1Y3RGb3JtQWN0aW9uID1cclxuICB8IHsgdHlwZTogJ1NFVF9GSUVMRCc7IGZpZWxkOiBrZXlvZiBQcm9kdWN0Rm9ybVN0YXRlOyB2YWx1ZTogYW55IH1cclxuICB8IHsgdHlwZTogJ1NFVF9NVUxUSVBMRV9GSUVMRFMnOyBmaWVsZHM6IFBhcnRpYWw8UHJvZHVjdEZvcm1TdGF0ZT4gfVxyXG4gIHwgeyB0eXBlOiAnU0VUX0xPQURJTkcnOyBwYXlsb2FkOiBib29sZWFuIH1cclxuICB8IHsgdHlwZTogJ1NFVF9TQVZJTkcnOyBwYXlsb2FkOiBib29sZWFuIH1cclxuICB8IHsgdHlwZTogJ1NFVF9FUlJPUic7IGZpZWxkOiBzdHJpbmc7IGVycm9yOiBzdHJpbmcgfVxyXG4gIHwgeyB0eXBlOiAnQ0xFQVJfRVJST1InOyBmaWVsZDogc3RyaW5nIH1cclxuICB8IHsgdHlwZTogJ0NMRUFSX0FMTF9FUlJPUlMnIH1cclxuICB8IHsgdHlwZTogJ1NFVF9WQUxJREFUSU9OX0VSUk9SUyc7IGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+IH1cclxuICB8IHsgdHlwZTogJ1NFVF9ESVJUWSc7IHBheWxvYWQ6IGJvb2xlYW4gfVxyXG4gIHwgeyB0eXBlOiAnU0VUX1NURVAnOyBzdGVwOiBudW1iZXIgfVxyXG4gIHwgeyB0eXBlOiAnTkVYVF9TVEVQJyB9XHJcbiAgfCB7IHR5cGU6ICdQUkVWX1NURVAnIH1cclxuICB8IHsgdHlwZTogJ0FERF9JTUFHRSc7IGltYWdlOiBzdHJpbmcgfVxyXG4gIHwgeyB0eXBlOiAnUkVNT1ZFX0lNQUdFJzsgaW5kZXg6IG51bWJlciB9XHJcbiAgfCB7IHR5cGU6ICdBRERfVkFSSUFOVCc7IHZhcmlhbnQ6IGFueSB9XHJcbiAgfCB7IHR5cGU6ICdSRU1PVkVfVkFSSUFOVCc7IGluZGV4OiBudW1iZXIgfVxyXG4gIHwgeyB0eXBlOiAnVVBEQVRFX1ZBUklBTlQnOyBpbmRleDogbnVtYmVyOyB2YXJpYW50OiBhbnkgfVxyXG4gIHwgeyB0eXBlOiAnQUREX1NFT19LRVlXT1JEJzsga2V5d29yZDogc3RyaW5nIH1cclxuICB8IHsgdHlwZTogJ1JFTU9WRV9TRU9fS0VZV09SRCc7IGluZGV4OiBudW1iZXIgfVxyXG4gIHwgeyB0eXBlOiAnUkVTRVRfRk9STScgfVxyXG4gIHwgeyB0eXBlOiAnTE9BRF9QUk9EVUNUJzsgcHJvZHVjdDogUGFydGlhbDxQcm9kdWN0Rm9ybVN0YXRlPiB9O1xyXG5cclxuLy8gRXN0YWRvIGluaWNpYWxcclxuY29uc3QgaW5pdGlhbFN0YXRlOiBQcm9kdWN0Rm9ybVN0YXRlID0ge1xyXG4gIC8vIEluZm9ybWFjacOzbiBiw6FzaWNhXHJcbiAgbmFtZTogJycsXHJcbiAgZGVzY3JpcHRpb246ICcnLFxyXG4gIHNob3J0RGVzY3JpcHRpb246ICcnLFxyXG4gIGNhdGVnb3J5SWQ6ICcnLFxyXG4gIHN0YXR1czogJ2RyYWZ0JyxcclxuICBcclxuICAvLyBEZXRhbGxlcyBkZWwgcHJvZHVjdG9cclxuICBicmFuZDogJycsXHJcbiAgbW9kZWw6ICcnLFxyXG4gIHNrdTogJycsXHJcbiAgYmFyY29kZTogJycsXHJcbiAgXHJcbiAgLy8gUHJlY2lvc1xyXG4gIHByaWNlOiAwLFxyXG4gIGNvbXBhcmVQcmljZTogMCxcclxuICBjb3N0UHJpY2U6IDAsXHJcbiAgdGF4UmF0ZTogMCxcclxuICBcclxuICAvLyBJbnZlbnRhcmlvXHJcbiAgdHJhY2tJbnZlbnRvcnk6IHRydWUsXHJcbiAgc3RvY2s6IDAsXHJcbiAgbG93U3RvY2tUaHJlc2hvbGQ6IDUsXHJcbiAgYWxsb3dCYWNrb3JkZXI6IGZhbHNlLFxyXG4gIFxyXG4gIC8vIEVudsOtb1xyXG4gIHJlcXVpcmVzU2hpcHBpbmc6IHRydWUsXHJcbiAgd2VpZ2h0OiAwLFxyXG4gIGRpbWVuc2lvbnM6IHtcclxuICAgIGxlbmd0aDogMCxcclxuICAgIHdpZHRoOiAwLFxyXG4gICAgaGVpZ2h0OiAwLFxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gU0VPXHJcbiAgc2VvVGl0bGU6ICcnLFxyXG4gIHNlb0Rlc2NyaXB0aW9uOiAnJyxcclxuICBzZW9LZXl3b3JkczogW10sXHJcbiAgXHJcbiAgLy8gSW3DoWdlbmVzIHkgdmFyaWFudGVzXHJcbiAgaW1hZ2VzOiBbXSxcclxuICB2YXJpYW50czogW10sXHJcbiAgXHJcbiAgLy8gRXN0YWRvIGRlbCBmb3JtdWxhcmlvXHJcbiAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICBpc1NhdmluZzogZmFsc2UsXHJcbiAgZXJyb3JzOiB7fSxcclxuICBpc0RpcnR5OiBmYWxzZSxcclxuICBjdXJyZW50U3RlcDogMCxcclxuICB2YWxpZGF0aW9uRXJyb3JzOiB7fSxcclxufTtcclxuXHJcbi8vIFJlZHVjZXIgZnVuY3Rpb25cclxuZnVuY3Rpb24gcHJvZHVjdEZvcm1SZWR1Y2VyKFxyXG4gIHN0YXRlOiBQcm9kdWN0Rm9ybVN0YXRlLFxyXG4gIGFjdGlvbjogUHJvZHVjdEZvcm1BY3Rpb25cclxuKTogUHJvZHVjdEZvcm1TdGF0ZSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSAnU0VUX0ZJRUxEJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBbYWN0aW9uLmZpZWxkXTogYWN0aW9uLnZhbHVlLFxyXG4gICAgICAgIGlzRGlydHk6IHRydWUsXHJcbiAgICAgICAgLy8gTGltcGlhciBlcnJvciBkZWwgY2FtcG8gc2kgZXhpc3RlXHJcbiAgICAgICAgZXJyb3JzOiB7XHJcbiAgICAgICAgICAuLi5zdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgICBbYWN0aW9uLmZpZWxkXTogdW5kZWZpbmVkLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ1NFVF9NVUxUSVBMRV9GSUVMRFMnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIC4uLmFjdGlvbi5maWVsZHMsXHJcbiAgICAgICAgaXNEaXJ0eTogdHJ1ZSxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnU0VUX0xPQURJTkcnOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNMb2FkaW5nOiBhY3Rpb24ucGF5bG9hZCB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdTRVRfU0FWSU5HJzpcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzU2F2aW5nOiBhY3Rpb24ucGF5bG9hZCB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdTRVRfRVJST1InOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGVycm9yczoge1xyXG4gICAgICAgICAgLi4uc3RhdGUuZXJyb3JzLFxyXG4gICAgICAgICAgW2FjdGlvbi5maWVsZF06IGFjdGlvbi5lcnJvcixcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdDTEVBUl9FUlJPUic6XHJcbiAgICAgIGNvbnN0IHsgW2FjdGlvbi5maWVsZF06IF8sIC4uLnJlc3RFcnJvcnMgfSA9IHN0YXRlLmVycm9ycztcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBlcnJvcnM6IHJlc3RFcnJvcnMsXHJcbiAgICAgIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ0NMRUFSX0FMTF9FUlJPUlMnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIGVycm9yczoge30sXHJcbiAgICAgICAgdmFsaWRhdGlvbkVycm9yczoge30sXHJcbiAgICAgIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ1NFVF9WQUxJREFUSU9OX0VSUk9SUyc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdmFsaWRhdGlvbkVycm9yczogYWN0aW9uLmVycm9ycyxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnU0VUX0RJUlRZJzpcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzRGlydHk6IGFjdGlvbi5wYXlsb2FkIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ1NFVF9TVEVQJzpcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGN1cnJlbnRTdGVwOiBNYXRoLm1heCgwLCBNYXRoLm1pbig0LCBhY3Rpb24uc3RlcCkpIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ05FWFRfU1RFUCc6XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBjdXJyZW50U3RlcDogTWF0aC5taW4oNCwgc3RhdGUuY3VycmVudFN0ZXAgKyAxKSB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdQUkVWX1NURVAnOlxyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgY3VycmVudFN0ZXA6IE1hdGgubWF4KDAsIHN0YXRlLmN1cnJlbnRTdGVwIC0gMSkgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnQUREX0lNQUdFJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBpbWFnZXM6IFsuLi5zdGF0ZS5pbWFnZXMsIGFjdGlvbi5pbWFnZV0sXHJcbiAgICAgICAgaXNEaXJ0eTogdHJ1ZSxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnUkVNT1ZFX0lNQUdFJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICBpbWFnZXM6IHN0YXRlLmltYWdlcy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAhPT0gYWN0aW9uLmluZGV4KSxcclxuICAgICAgICBpc0RpcnR5OiB0cnVlLFxyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdBRERfVkFSSUFOVCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdmFyaWFudHM6IFsuLi5zdGF0ZS52YXJpYW50cywgYWN0aW9uLnZhcmlhbnRdLFxyXG4gICAgICAgIGlzRGlydHk6IHRydWUsXHJcbiAgICAgIH07XHJcbiAgICBcclxuICAgIGNhc2UgJ1JFTU9WRV9WQVJJQU5UJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICB2YXJpYW50czogc3RhdGUudmFyaWFudHMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kZXggIT09IGFjdGlvbi5pbmRleCksXHJcbiAgICAgICAgaXNEaXJ0eTogdHJ1ZSxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnVVBEQVRFX1ZBUklBTlQnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIHZhcmlhbnRzOiBzdGF0ZS52YXJpYW50cy5tYXAoKHZhcmlhbnQsIGluZGV4KSA9PlxyXG4gICAgICAgICAgaW5kZXggPT09IGFjdGlvbi5pbmRleCA/IGFjdGlvbi52YXJpYW50IDogdmFyaWFudFxyXG4gICAgICAgICksXHJcbiAgICAgICAgaXNEaXJ0eTogdHJ1ZSxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgY2FzZSAnQUREX1NFT19LRVlXT1JEJzpcclxuICAgICAgaWYgKCFzdGF0ZS5zZW9LZXl3b3Jkcy5pbmNsdWRlcyhhY3Rpb24ua2V5d29yZCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICBzZW9LZXl3b3JkczogWy4uLnN0YXRlLnNlb0tleXdvcmRzLCBhY3Rpb24ua2V5d29yZF0sXHJcbiAgICAgICAgICBpc0RpcnR5OiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgXHJcbiAgICBjYXNlICdSRU1PVkVfU0VPX0tFWVdPUkQnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIHNlb0tleXdvcmRzOiBzdGF0ZS5zZW9LZXl3b3Jkcy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAhPT0gYWN0aW9uLmluZGV4KSxcclxuICAgICAgICBpc0RpcnR5OiB0cnVlLFxyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICBjYXNlICdSRVNFVF9GT1JNJzpcclxuICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcclxuICAgIFxyXG4gICAgY2FzZSAnTE9BRF9QUk9EVUNUJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAuLi5hY3Rpb24ucHJvZHVjdCxcclxuICAgICAgICBpc0RpcnR5OiBmYWxzZSxcclxuICAgICAgfTtcclxuICAgIFxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gSG9vayBwZXJzb25hbGl6YWRvXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VQcm9kdWN0Rm9ybVJlZHVjZXIoKSB7XHJcbiAgY29uc3QgW3N0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHByb2R1Y3RGb3JtUmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcclxuXHJcbiAgLy8gQWNjaW9uZXMgbWVtb2l6YWRhc1xyXG4gIGNvbnN0IGFjdGlvbnMgPSB1c2VNZW1vKCgpID0+ICh7XHJcbiAgICBzZXRGaWVsZDogKGZpZWxkOiBrZXlvZiBQcm9kdWN0Rm9ybVN0YXRlLCB2YWx1ZTogYW55KSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfRklFTEQnLCBmaWVsZCwgdmFsdWUgfSksXHJcbiAgICBcclxuICAgIHNldE11bHRpcGxlRmllbGRzOiAoZmllbGRzOiBQYXJ0aWFsPFByb2R1Y3RGb3JtU3RhdGU+KSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTVVMVElQTEVfRklFTERTJywgZmllbGRzIH0pLFxyXG4gICAgXHJcbiAgICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0xPQURJTkcnLCBwYXlsb2FkOiBsb2FkaW5nIH0pLFxyXG4gICAgXHJcbiAgICBzZXRTYXZpbmc6IChzYXZpbmc6IGJvb2xlYW4pID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TQVZJTkcnLCBwYXlsb2FkOiBzYXZpbmcgfSksXHJcbiAgICBcclxuICAgIHNldEVycm9yOiAoZmllbGQ6IHN0cmluZywgZXJyb3I6IHN0cmluZykgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0VSUk9SJywgZmllbGQsIGVycm9yIH0pLFxyXG4gICAgXHJcbiAgICBjbGVhckVycm9yOiAoZmllbGQ6IHN0cmluZykgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnQ0xFQVJfRVJST1InLCBmaWVsZCB9KSxcclxuICAgIFxyXG4gICAgY2xlYXJBbGxFcnJvcnM6ICgpID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0NMRUFSX0FMTF9FUlJPUlMnIH0pLFxyXG4gICAgXHJcbiAgICBzZXRWYWxpZGF0aW9uRXJyb3JzOiAoZXJyb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4pID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9WQUxJREFUSU9OX0VSUk9SUycsIGVycm9ycyB9KSxcclxuICAgIFxyXG4gICAgc2V0RGlydHk6IChkaXJ0eTogYm9vbGVhbikgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0RJUlRZJywgcGF5bG9hZDogZGlydHkgfSksXHJcbiAgICBcclxuICAgIHNldFN0ZXA6IChzdGVwOiBudW1iZXIpID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9TVEVQJywgc3RlcCB9KSxcclxuICAgIFxyXG4gICAgbmV4dFN0ZXA6ICgpID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ05FWFRfU1RFUCcgfSksXHJcbiAgICBcclxuICAgIHByZXZTdGVwOiAoKSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdQUkVWX1NURVAnIH0pLFxyXG4gICAgXHJcbiAgICBhZGRJbWFnZTogKGltYWdlOiBzdHJpbmcpID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0FERF9JTUFHRScsIGltYWdlIH0pLFxyXG4gICAgXHJcbiAgICByZW1vdmVJbWFnZTogKGluZGV4OiBudW1iZXIpID0+XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1JFTU9WRV9JTUFHRScsIGluZGV4IH0pLFxyXG4gICAgXHJcbiAgICBhZGRWYXJpYW50OiAodmFyaWFudDogYW55KSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdBRERfVkFSSUFOVCcsIHZhcmlhbnQgfSksXHJcbiAgICBcclxuICAgIHJlbW92ZVZhcmlhbnQ6IChpbmRleDogbnVtYmVyKSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdSRU1PVkVfVkFSSUFOVCcsIGluZGV4IH0pLFxyXG4gICAgXHJcbiAgICB1cGRhdGVWYXJpYW50OiAoaW5kZXg6IG51bWJlciwgdmFyaWFudDogYW55KSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdVUERBVEVfVkFSSUFOVCcsIGluZGV4LCB2YXJpYW50IH0pLFxyXG4gICAgXHJcbiAgICBhZGRTZW9LZXl3b3JkOiAoa2V5d29yZDogc3RyaW5nKSA9PlxyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6ICdBRERfU0VPX0tFWVdPUkQnLCBrZXl3b3JkIH0pLFxyXG4gICAgXHJcbiAgICByZW1vdmVTZW9LZXl3b3JkOiAoaW5kZXg6IG51bWJlcikgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnUkVNT1ZFX1NFT19LRVlXT1JEJywgaW5kZXggfSksXHJcbiAgICBcclxuICAgIHJlc2V0Rm9ybTogKCkgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnUkVTRVRfRk9STScgfSksXHJcbiAgICBcclxuICAgIGxvYWRQcm9kdWN0OiAocHJvZHVjdDogUGFydGlhbDxQcm9kdWN0Rm9ybVN0YXRlPikgPT5cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnTE9BRF9QUk9EVUNUJywgcHJvZHVjdCB9KSxcclxuICB9KSwgW10pO1xyXG5cclxuICAvLyBTZWxlY3RvcmVzIG1lbW9pemFkb3NcclxuICBjb25zdCBzZWxlY3RvcnMgPSB1c2VNZW1vKCgpID0+ICh7XHJcbiAgICAvLyBWZXJpZmljYWNpb25lcyBkZSBlc3RhZG9cclxuICAgIGhhc0Vycm9yczogT2JqZWN0LmtleXMoc3RhdGUuZXJyb3JzKS5sZW5ndGggPiAwLFxyXG4gICAgaGFzVmFsaWRhdGlvbkVycm9yczogT2JqZWN0LmtleXMoc3RhdGUudmFsaWRhdGlvbkVycm9ycykubGVuZ3RoID4gMCxcclxuICAgIGlzRm9ybVZhbGlkOiBPYmplY3Qua2V5cyhzdGF0ZS5lcnJvcnMpLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uYW1lLnRyaW0oKSAhPT0gJycsXHJcbiAgICBcclxuICAgIC8vIEluZm9ybWFjacOzbiBkZSBwYXNvc1xyXG4gICAgaXNGaXJzdFN0ZXA6IHN0YXRlLmN1cnJlbnRTdGVwID09PSAwLFxyXG4gICAgaXNMYXN0U3RlcDogc3RhdGUuY3VycmVudFN0ZXAgPT09IDQsXHJcbiAgICBzdGVwUHJvZ3Jlc3M6ICgoc3RhdGUuY3VycmVudFN0ZXAgKyAxKSAvIDUpICogMTAwLFxyXG4gICAgXHJcbiAgICAvLyBDw6FsY3Vsb3MgZGUgcHJlY2lvc1xyXG4gICAgcHJvZml0TWFyZ2luOiBzdGF0ZS5wcmljZSA+IDAgJiYgc3RhdGUuY29zdFByaWNlID4gMCBcclxuICAgICAgPyAoKHN0YXRlLnByaWNlIC0gc3RhdGUuY29zdFByaWNlKSAvIHN0YXRlLnByaWNlKSAqIDEwMCBcclxuICAgICAgOiAwLFxyXG4gICAgXHJcbiAgICBkaXNjb3VudFBlcmNlbnRhZ2U6IHN0YXRlLmNvbXBhcmVQcmljZSA+IDAgJiYgc3RhdGUucHJpY2UgPiAwXHJcbiAgICAgID8gKChzdGF0ZS5jb21wYXJlUHJpY2UgLSBzdGF0ZS5wcmljZSkgLyBzdGF0ZS5jb21wYXJlUHJpY2UpICogMTAwXHJcbiAgICAgIDogMCxcclxuICAgIFxyXG4gICAgLy8gRXN0YWRvIGRlIGludmVudGFyaW9cclxuICAgIGlzTG93U3RvY2s6IHN0YXRlLnN0b2NrIDw9IHN0YXRlLmxvd1N0b2NrVGhyZXNob2xkLFxyXG4gICAgaXNPdXRPZlN0b2NrOiBzdGF0ZS5zdG9jayA9PT0gMCxcclxuICAgIFxyXG4gICAgLy8gVmFsaWRhY2lvbmVzIGVzcGVjw61maWNhc1xyXG4gICAgaXNQcmljZVZhbGlkOiBzdGF0ZS5wcmljZSA+IDAsXHJcbiAgICBpc1NrdVZhbGlkOiBzdGF0ZS5za3UubGVuZ3RoID4gMCxcclxuICAgIGFyZURpbWVuc2lvbnNWYWxpZDogc3RhdGUuZGltZW5zaW9ucy5sZW5ndGggPiAwICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmRpbWVuc2lvbnMud2lkdGggPiAwICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmRpbWVuc2lvbnMuaGVpZ2h0ID4gMCxcclxuICAgIFxyXG4gICAgLy8gQ29udGFkb3Jlc1xyXG4gICAgaW1hZ2VDb3VudDogc3RhdGUuaW1hZ2VzLmxlbmd0aCxcclxuICAgIHZhcmlhbnRDb3VudDogc3RhdGUudmFyaWFudHMubGVuZ3RoLFxyXG4gICAga2V5d29yZENvdW50OiBzdGF0ZS5zZW9LZXl3b3Jkcy5sZW5ndGgsXHJcbiAgICBcclxuICAgIC8vIE9idGVuZXIgZXJyb3JlcyBwb3IgcGFzb1xyXG4gICAgZ2V0U3RlcEVycm9yczogKHN0ZXA6IG51bWJlcikgPT4ge1xyXG4gICAgICBjb25zdCBzdGVwRmllbGRzID0ge1xyXG4gICAgICAgIDA6IFsnbmFtZScsICdkZXNjcmlwdGlvbicsICdjYXRlZ29yeUlkJ10sXHJcbiAgICAgICAgMTogWydwcmljZScsICdjb21wYXJlUHJpY2UnLCAnY29zdFByaWNlJ10sXHJcbiAgICAgICAgMjogWydzdG9jaycsICdsb3dTdG9ja1RocmVzaG9sZCddLFxyXG4gICAgICAgIDM6IFsnaW1hZ2VzJ10sXHJcbiAgICAgICAgNDogWydzZW9UaXRsZScsICdzZW9EZXNjcmlwdGlvbiddLFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZmllbGRzID0gc3RlcEZpZWxkc1tzdGVwIGFzIGtleW9mIHR5cGVvZiBzdGVwRmllbGRzXSB8fCBbXTtcclxuICAgICAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZmllbGQgPT4gc3RhdGUuZXJyb3JzW2ZpZWxkXSk7XHJcbiAgICB9LFxyXG4gIH0pLCBbc3RhdGVdKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHN0YXRlLFxyXG4gICAgYWN0aW9ucyxcclxuICAgIHNlbGVjdG9ycyxcclxuICB9O1xyXG59XHJcblxyXG4vLyBIb29rIHBhcmEgdmFsaWRhY2nDs24gZW4gdGllbXBvIHJlYWxcclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVByb2R1Y3RGb3JtVmFsaWRhdGlvbigpIHtcclxuICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBzZWxlY3RvcnMgfSA9IHVzZVByb2R1Y3RGb3JtUmVkdWNlcigpO1xyXG4gIFxyXG4gIGNvbnN0IHZhbGlkYXRlRmllbGQgPSB1c2VDYWxsYmFjaygoZmllbGQ6IGtleW9mIFByb2R1Y3RGb3JtU3RhdGUsIHZhbHVlOiBhbnkpID0+IHtcclxuICAgIGxldCBlcnJvciA9ICcnO1xyXG4gICAgXHJcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XHJcbiAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgZXJyb3IgPSAnRWwgbm9tYnJlIGVzIHJlcXVlcmlkbyc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPiAyNTUpIHtcclxuICAgICAgICAgIGVycm9yID0gJ03DoXhpbW8gMjU1IGNhcmFjdGVyZXMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ3ByaWNlJzpcclxuICAgICAgICBpZiAodmFsdWUgPD0gMCkge1xyXG4gICAgICAgICAgZXJyb3IgPSAnRWwgcHJlY2lvIGRlYmUgc2VyIG1heW9yIGEgMCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+IDk5OTk5OS45OSkge1xyXG4gICAgICAgICAgZXJyb3IgPSAnUHJlY2lvIG3DoXhpbW8gZXhjZWRpZG8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgXHJcbiAgICAgIGNhc2UgJ2NvbXBhcmVQcmljZSc6XHJcbiAgICAgICAgaWYgKHZhbHVlID4gMCAmJiB2YWx1ZSA8IHN0YXRlLnByaWNlKSB7XHJcbiAgICAgICAgICBlcnJvciA9ICdFbCBwcmVjaW8gZGUgY29tcGFyYWNpw7NuIGRlYmUgc2VyIG1heW9yIGFsIHByZWNpbyBiYXNlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdjb3N0UHJpY2UnOlxyXG4gICAgICAgIGlmICh2YWx1ZSA+IDAgJiYgdmFsdWUgPiBzdGF0ZS5wcmljZSkge1xyXG4gICAgICAgICAgZXJyb3IgPSAnRWwgcHJlY2lvIGRlIGNvc3RvIGRlYmUgc2VyIG1lbm9yIGFsIHByZWNpbyBkZSB2ZW50YSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBcclxuICAgICAgY2FzZSAnc3RvY2snOlxyXG4gICAgICAgIGlmICh2YWx1ZSA8IDApIHtcclxuICAgICAgICAgIGVycm9yID0gJ0VsIHN0b2NrIGRlYmUgc2VyIG1heW9yIG8gaWd1YWwgYSAwJztcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID4gOTk5OTk5KSB7XHJcbiAgICAgICAgICBlcnJvciA9ICdTdG9jayBtw6F4aW1vIGV4Y2VkaWRvJztcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIFxyXG4gICAgICBjYXNlICdza3UnOlxyXG4gICAgICAgIGlmICh2YWx1ZSAmJiAhL15bQS1aMC05XFwtX10rJC8udGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgIGVycm9yID0gJ1NLVSBkZWJlIGNvbnRlbmVyIHNvbG8gbGV0cmFzIG1hecO6c2N1bGFzLCBuw7ptZXJvcywgZ3Vpb25lcyB5IGd1aW9uZXMgYmFqb3MnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGFjdGlvbnMuc2V0RXJyb3IoZmllbGQsIGVycm9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjdGlvbnMuY2xlYXJFcnJvcihmaWVsZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBlcnJvciA9PT0gJyc7XHJcbiAgfSwgW3N0YXRlLnByaWNlLCBhY3Rpb25zXSk7XHJcbiAgXHJcbiAgY29uc3QgdmFsaWRhdGVGb3JtID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3QgZmllbGRzOiAoa2V5b2YgUHJvZHVjdEZvcm1TdGF0ZSlbXSA9IFtcclxuICAgICAgJ25hbWUnLCAncHJpY2UnLCAnc3RvY2snLCAnY2F0ZWdvcnlJZCdcclxuICAgIF07XHJcbiAgICBcclxuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuICAgIGZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgICAgY29uc3QgZmllbGRWYWxpZCA9IHZhbGlkYXRlRmllbGQoZmllbGQsIHN0YXRlW2ZpZWxkXSk7XHJcbiAgICAgIGlmICghZmllbGRWYWxpZCkge2lzVmFsaWQgPSBmYWxzZTt9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgfSwgW3N0YXRlLCB2YWxpZGF0ZUZpZWxkXSk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHN0YXRlLFxyXG4gICAgYWN0aW9ucyxcclxuICAgIHNlbGVjdG9ycyxcclxuICAgIHZhbGlkYXRlRmllbGQsXHJcbiAgICB2YWxpZGF0ZUZvcm0sXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgeyBQcm9kdWN0Rm9ybVN0YXRlLCBQcm9kdWN0Rm9ybUFjdGlvbiB9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsidXNlUHJvZHVjdEZvcm1SZWR1Y2VyIiwidXNlUHJvZHVjdEZvcm1WYWxpZGF0aW9uIiwiaW5pdGlhbFN0YXRlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic2hvcnREZXNjcmlwdGlvbiIsImNhdGVnb3J5SWQiLCJzdGF0dXMiLCJicmFuZCIsIm1vZGVsIiwic2t1IiwiYmFyY29kZSIsInByaWNlIiwiY29tcGFyZVByaWNlIiwiY29zdFByaWNlIiwidGF4UmF0ZSIsInRyYWNrSW52ZW50b3J5Iiwic3RvY2siLCJsb3dTdG9ja1RocmVzaG9sZCIsImFsbG93QmFja29yZGVyIiwicmVxdWlyZXNTaGlwcGluZyIsIndlaWdodCIsImRpbWVuc2lvbnMiLCJsZW5ndGgiLCJ3aWR0aCIsImhlaWdodCIsInNlb1RpdGxlIiwic2VvRGVzY3JpcHRpb24iLCJzZW9LZXl3b3JkcyIsImltYWdlcyIsInZhcmlhbnRzIiwiaXNMb2FkaW5nIiwiaXNTYXZpbmciLCJlcnJvcnMiLCJpc0RpcnR5IiwiY3VycmVudFN0ZXAiLCJ2YWxpZGF0aW9uRXJyb3JzIiwicHJvZHVjdEZvcm1SZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwiZmllbGQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImZpZWxkcyIsInBheWxvYWQiLCJlcnJvciIsIl8iLCJyZXN0RXJyb3JzIiwiTWF0aCIsIm1heCIsIm1pbiIsInN0ZXAiLCJpbWFnZSIsImZpbHRlciIsImluZGV4IiwidmFyaWFudCIsIm1hcCIsImluY2x1ZGVzIiwia2V5d29yZCIsInByb2R1Y3QiLCJkaXNwYXRjaCIsInVzZVJlZHVjZXIiLCJhY3Rpb25zIiwidXNlTWVtbyIsInNldEZpZWxkIiwic2V0TXVsdGlwbGVGaWVsZHMiLCJzZXRMb2FkaW5nIiwibG9hZGluZyIsInNldFNhdmluZyIsInNhdmluZyIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsImNsZWFyQWxsRXJyb3JzIiwic2V0VmFsaWRhdGlvbkVycm9ycyIsInNldERpcnR5IiwiZGlydHkiLCJzZXRTdGVwIiwibmV4dFN0ZXAiLCJwcmV2U3RlcCIsImFkZEltYWdlIiwicmVtb3ZlSW1hZ2UiLCJhZGRWYXJpYW50IiwicmVtb3ZlVmFyaWFudCIsInVwZGF0ZVZhcmlhbnQiLCJhZGRTZW9LZXl3b3JkIiwicmVtb3ZlU2VvS2V5d29yZCIsInJlc2V0Rm9ybSIsImxvYWRQcm9kdWN0Iiwic2VsZWN0b3JzIiwiaGFzRXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsImhhc1ZhbGlkYXRpb25FcnJvcnMiLCJpc0Zvcm1WYWxpZCIsInRyaW0iLCJpc0ZpcnN0U3RlcCIsImlzTGFzdFN0ZXAiLCJzdGVwUHJvZ3Jlc3MiLCJwcm9maXRNYXJnaW4iLCJkaXNjb3VudFBlcmNlbnRhZ2UiLCJpc0xvd1N0b2NrIiwiaXNPdXRPZlN0b2NrIiwiaXNQcmljZVZhbGlkIiwiaXNTa3VWYWxpZCIsImFyZURpbWVuc2lvbnNWYWxpZCIsImltYWdlQ291bnQiLCJ2YXJpYW50Q291bnQiLCJrZXl3b3JkQ291bnQiLCJnZXRTdGVwRXJyb3JzIiwic3RlcEZpZWxkcyIsInZhbGlkYXRlRmllbGQiLCJ1c2VDYWxsYmFjayIsInRlc3QiLCJ2YWxpZGF0ZUZvcm0iLCJpc1ZhbGlkIiwiZm9yRWFjaCIsImZpZWxkVmFsaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O1FBb1JnQkE7ZUFBQUE7O1FBaUlBQztlQUFBQTs7O3VCQXJaaUM7QUFnRmpELGlCQUFpQjtBQUNqQixNQUFNQyxlQUFpQztJQUNyQyxxQkFBcUI7SUFDckJDLE1BQU07SUFDTkMsYUFBYTtJQUNiQyxrQkFBa0I7SUFDbEJDLFlBQVk7SUFDWkMsUUFBUTtJQUVSLHdCQUF3QjtJQUN4QkMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLEtBQUs7SUFDTEMsU0FBUztJQUVULFVBQVU7SUFDVkMsT0FBTztJQUNQQyxjQUFjO0lBQ2RDLFdBQVc7SUFDWEMsU0FBUztJQUVULGFBQWE7SUFDYkMsZ0JBQWdCO0lBQ2hCQyxPQUFPO0lBQ1BDLG1CQUFtQjtJQUNuQkMsZ0JBQWdCO0lBRWhCLFFBQVE7SUFDUkMsa0JBQWtCO0lBQ2xCQyxRQUFRO0lBQ1JDLFlBQVk7UUFDVkMsUUFBUTtRQUNSQyxPQUFPO1FBQ1BDLFFBQVE7SUFDVjtJQUVBLE1BQU07SUFDTkMsVUFBVTtJQUNWQyxnQkFBZ0I7SUFDaEJDLGFBQWEsRUFBRTtJQUVmLHVCQUF1QjtJQUN2QkMsUUFBUSxFQUFFO0lBQ1ZDLFVBQVUsRUFBRTtJQUVaLHdCQUF3QjtJQUN4QkMsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLFFBQVEsQ0FBQztJQUNUQyxTQUFTO0lBQ1RDLGFBQWE7SUFDYkMsa0JBQWtCLENBQUM7QUFD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