c20693ff1a2ea9a669868dfac5b185bc
"use strict";
// Mock para Radix UI Portal
jest.mock('@radix-ui/react-dialog', ()=>({
        ...jest.requireActual('@radix-ui/react-dialog'),
        Portal: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "portal",
                children: children
            })
    }));
jest.mock('@radix-ui/react-alert-dialog', ()=>({
        ...jest.requireActual('@radix-ui/react-alert-dialog'),
        Portal: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "alert-portal",
                children: children
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _modal = require("../../../components/ui/modal");
const _button = require("../../../components/ui/button");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Modal Components', ()=>{
    describe('Modal', ()=>{
        it('renders with title and description', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Test Modal",
                description: "Test description",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Modal content"
                })
            }));
            expect(_react.screen.getByText('Test Modal')).toBeInTheDocument();
            expect(_react.screen.getByText('Test description')).toBeInTheDocument();
            expect(_react.screen.getByText('Modal content')).toBeInTheDocument();
        });
        it('calls onOpenChange when close button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onOpenChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                onOpenChange: onOpenChange,
                title: "Test Modal",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Content"
                })
            }));
            const closeButton = _react.screen.getByRole('button', {
                name: /cerrar/i
            });
            await user.click(closeButton);
            expect(onOpenChange).toHaveBeenCalledWith(false);
        });
        it('renders with different sizes', ()=>{
            const { rerender } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                size: "sm",
                title: "Small Modal",
                children: "Content"
            }));
            expect(_react.screen.getByRole('dialog')).toHaveClass('max-w-sm');
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                size: "lg",
                title: "Large Modal",
                children: "Content"
            }));
            expect(_react.screen.getByRole('dialog')).toHaveClass('max-w-lg');
        });
        it('renders with trigger', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                trigger: /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                    children: "Open Modal"
                }),
                title: "Triggered Modal",
                children: "Modal content"
            }));
            const trigger = _react.screen.getByRole('button', {
                name: /open modal/i
            });
            await user.click(trigger);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Triggered Modal')).toBeInTheDocument();
            });
        });
    });
    describe('ConfirmModal', ()=>{
        it('renders with correct variant styling', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm Action",
                description: "Are you sure?",
                variant: "destructive",
                confirmText: "Delete",
                cancelText: "Cancel"
            }));
            expect(_react.screen.getByText('Confirm Action')).toBeInTheDocument();
            expect(_react.screen.getByText('Are you sure?')).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /delete/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /cancel/i
            })).toBeInTheDocument();
        });
        it('calls onConfirm when confirm button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onConfirm = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                onConfirm: onConfirm,
                confirmText: "Confirm"
            }));
            const confirmButton = _react.screen.getByRole('button', {
                name: /confirm/i
            });
            await user.click(confirmButton);
            expect(onConfirm).toHaveBeenCalled();
        });
        it('calls onCancel when cancel button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onCancel = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                onCancel: onCancel,
                cancelText: "Cancel"
            }));
            const cancelButton = _react.screen.getByRole('button', {
                name: /cancel/i
            });
            await user.click(cancelButton);
            expect(onCancel).toHaveBeenCalled();
        });
        it('shows loading state', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                loading: true,
                confirmText: "Confirm"
            }));
            expect(_react.screen.getByText('Procesando...')).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /procesando/i
            })).toBeDisabled();
        });
        it('renders different variants with correct icons', ()=>{
            const variants = [
                'destructive',
                'warning',
                'success',
                'info'
            ];
            variants.forEach((variant)=>{
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                    open: true,
                    title: `${variant} modal`,
                    variant: variant
                }));
                // Verificar que el modal se renderiza (el ícono específico es difícil de testear)
                expect(_react.screen.getByText(`${variant} modal`)).toBeInTheDocument();
                unmount();
            });
        });
    });
    // Test de QuickViewModal eliminado ya que el componente fue removido
    // describe('QuickViewModal', () => {
    //   it('renders with large size by default', () => {
    //     render(
    //       <QuickViewModal open={true}>
    //         <div>Product details</div>
    //       </QuickViewModal>
    //     )
    //     expect(screen.getByText('Product details')).toBeInTheDocument()
    //     expect(screen.getByRole('dialog')).toHaveClass('max-w-4xl')
    //   })
    // })
    describe('AddToCartModal', ()=>{
        it('renders product information', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.AddToCartModal, {
                open: true,
                productName: "Test Product",
                productImage: "/test-image.jpg"
            }));
            expect(_react.screen.getByText('¡Producto agregado al carrito!')).toBeInTheDocument();
            expect(_react.screen.getByText(/test product/i)).toBeInTheDocument();
            expect(_react.screen.getByRole('img')).toHaveAttribute('src', '/test-image.jpg');
        });
        it('calls action handlers', async ()=>{
            const user = _userevent.default.setup();
            const onContinueShopping = jest.fn();
            const onGoToCart = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.AddToCartModal, {
                open: true,
                productName: "Test Product",
                onContinueShopping: onContinueShopping,
                onGoToCart: onGoToCart
            }));
            const continueButton = _react.screen.getByRole('button', {
                name: /seguir comprando/i
            });
            const cartButton = _react.screen.getByRole('button', {
                name: /ver carrito/i
            });
            await user.click(continueButton);
            expect(onContinueShopping).toHaveBeenCalled();
            await user.click(cartButton);
            expect(onGoToCart).toHaveBeenCalled();
        });
    });
    describe('useModal hook', ()=>{
        function TestComponent() {
            const { open, openModal, closeModal, toggleModal } = (0, _modal.useModal)();
            return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        "data-testid": "modal-state",
                        children: open ? 'open' : 'closed'
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: openModal,
                        children: "Open"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: closeModal,
                        children: "Close"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: toggleModal,
                        children: "Toggle"
                    })
                ]
            });
        }
        it('manages modal state correctly', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {}));
            const state = _react.screen.getByTestId('modal-state');
            const openButton = _react.screen.getByRole('button', {
                name: /open/i
            });
            const closeButton = _react.screen.getByRole('button', {
                name: /close/i
            });
            const toggleButton = _react.screen.getByRole('button', {
                name: /toggle/i
            });
            // Initial state
            expect(state).toHaveTextContent('closed');
            // Open modal
            await user.click(openButton);
            expect(state).toHaveTextContent('open');
            // Close modal
            await user.click(closeButton);
            expect(state).toHaveTextContent('closed');
            // Toggle modal
            await user.click(toggleButton);
            expect(state).toHaveTextContent('open');
            await user.click(toggleButton);
            expect(state).toHaveTextContent('closed');
        });
        it('accepts default open state', ()=>{
            function TestComponentWithDefault() {
                const { open } = (0, _modal.useModal)(true);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    "data-testid": "modal-state",
                    children: open ? 'open' : 'closed'
                });
            }
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponentWithDefault, {}));
            expect(_react.screen.getByTestId('modal-state')).toHaveTextContent('open');
        });
    });
    describe('Accessibility', ()=>{
        it('has proper ARIA attributes', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Accessible Modal",
                description: "Modal description",
                children: "Content"
            }));
            const dialog = _react.screen.getByRole('dialog');
            expect(dialog).toBeInTheDocument();
            expect(dialog).toHaveAttribute('aria-describedby');
        });
        it('focuses close button when opened', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Test Modal",
                children: "Content"
            }));
            // El foco debería estar en el modal o en el botón de cerrar
            const closeButton = _react.screen.getByRole('button', {
                name: /cerrar/i
            });
            expect(closeButton).toBeInTheDocument();
        });
        it('supports keyboard navigation', async ()=>{
            const user = _userevent.default.setup();
            const onOpenChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                onOpenChange: onOpenChange,
                title: "Test Modal",
                children: "Content"
            }));
            // Escape key should close modal
            await user.keyboard('{Escape}');
            expect(onOpenChange).toHaveBeenCalledWith(false);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFx1aVxcbW9kYWwudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXHJcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50J1xyXG5pbXBvcnQgeyBNb2RhbCwgQ29uZmlybU1vZGFsLCBBZGRUb0NhcnRNb2RhbCwgdXNlTW9kYWwgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvbW9kYWwnXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nXHJcblxyXG4vLyBNb2NrIHBhcmEgUmFkaXggVUkgUG9ydGFsXHJcbmplc3QubW9jaygnQHJhZGl4LXVpL3JlYWN0LWRpYWxvZycsICgpID0+ICh7XHJcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCdAcmFkaXgtdWkvcmVhY3QtZGlhbG9nJyksXHJcbiAgUG9ydGFsOiAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cInBvcnRhbFwiPntjaGlsZHJlbn08L2Rpdj4sXHJcbn0pKVxyXG5cclxuamVzdC5tb2NrKCdAcmFkaXgtdWkvcmVhY3QtYWxlcnQtZGlhbG9nJywgKCkgPT4gKHtcclxuICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJ0ByYWRpeC11aS9yZWFjdC1hbGVydC1kaWFsb2cnKSxcclxuICBQb3J0YWw6ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYWxlcnQtcG9ydGFsXCI+e2NoaWxkcmVufTwvZGl2PixcclxufSkpXHJcblxyXG5kZXNjcmliZSgnTW9kYWwgQ29tcG9uZW50cycsICgpID0+IHtcclxuICBkZXNjcmliZSgnTW9kYWwnLCAoKSA9PiB7XHJcbiAgICBpdCgncmVuZGVycyB3aXRoIHRpdGxlIGFuZCBkZXNjcmlwdGlvbicsICgpID0+IHtcclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHRpdGxlPVwiVGVzdCBNb2RhbFwiXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIlRlc3QgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXY+TW9kYWwgY29udGVudDwvZGl2PlxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IE1vZGFsJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgZGVzY3JpcHRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTW9kYWwgY29udGVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdjYWxscyBvbk9wZW5DaGFuZ2Ugd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXHJcbiAgICAgIGNvbnN0IG9uT3BlbkNoYW5nZSA9IGplc3QuZm4oKVxyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIG9uT3BlbkNoYW5nZT17b25PcGVuQ2hhbmdlfVxyXG4gICAgICAgICAgdGl0bGU9XCJUZXN0IE1vZGFsXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2PkNvbnRlbnQ8L2Rpdj5cclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NlcnJhci9pIH0pXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2xvc2VCdXR0b24pXHJcblxyXG4gICAgICBleHBlY3Qob25PcGVuQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChmYWxzZSlcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3JlbmRlcnMgd2l0aCBkaWZmZXJlbnQgc2l6ZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcclxuICAgICAgICA8TW9kYWwgb3Blbj17dHJ1ZX0gc2l6ZT1cInNtXCIgdGl0bGU9XCJTbWFsbCBNb2RhbFwiPlxyXG4gICAgICAgICAgQ29udGVudFxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKSkudG9IYXZlQ2xhc3MoJ21heC13LXNtJylcclxuXHJcbiAgICAgIHJlcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbCBvcGVuPXt0cnVlfSBzaXplPVwibGdcIiB0aXRsZT1cIkxhcmdlIE1vZGFsXCI+XHJcbiAgICAgICAgICBDb250ZW50XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2RpYWxvZycpKS50b0hhdmVDbGFzcygnbWF4LXctbGcnKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgncmVuZGVycyB3aXRoIHRyaWdnZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgdHJpZ2dlcj17PEJ1dHRvbj5PcGVuIE1vZGFsPC9CdXR0b24+fVxyXG4gICAgICAgICAgdGl0bGU9XCJUcmlnZ2VyZWQgTW9kYWxcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIE1vZGFsIGNvbnRlbnRcclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBjb25zdCB0cmlnZ2VyID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtb2RhbC9pIH0pXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sodHJpZ2dlcilcclxuXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUcmlnZ2VyZWQgTW9kYWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgnQ29uZmlybU1vZGFsJywgKCkgPT4ge1xyXG4gICAgaXQoJ3JlbmRlcnMgd2l0aCBjb3JyZWN0IHZhcmlhbnQgc3R5bGluZycsICgpID0+IHtcclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxDb25maXJtTW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICB0aXRsZT1cIkNvbmZpcm0gQWN0aW9uXCJcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPVwiQXJlIHlvdSBzdXJlP1wiXHJcbiAgICAgICAgICB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIlxyXG4gICAgICAgICAgY29uZmlybVRleHQ9XCJEZWxldGVcIlxyXG4gICAgICAgICAgY2FuY2VsVGV4dD1cIkNhbmNlbFwiXHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbmZpcm0gQWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FyZSB5b3Ugc3VyZT8nKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZGVsZXRlL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NhbmNlbC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdjYWxscyBvbkNvbmZpcm0gd2hlbiBjb25maXJtIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcclxuICAgICAgY29uc3Qgb25Db25maXJtID0gamVzdC5mbigpXHJcblxyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPENvbmZpcm1Nb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHRpdGxlPVwiQ29uZmlybVwiXHJcbiAgICAgICAgICBvbkNvbmZpcm09e29uQ29uZmlybX1cclxuICAgICAgICAgIGNvbmZpcm1UZXh0PVwiQ29uZmlybVwiXHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NvbmZpcm0vaSB9KVxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNvbmZpcm1CdXR0b24pXHJcblxyXG4gICAgICBleHBlY3Qob25Db25maXJtKS50b0hhdmVCZWVuQ2FsbGVkKClcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ2NhbGxzIG9uQ2FuY2VsIHdoZW4gY2FuY2VsIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcclxuICAgICAgY29uc3Qgb25DYW5jZWwgPSBqZXN0LmZuKClcclxuXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8Q29uZmlybU1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgdGl0bGU9XCJDb25maXJtXCJcclxuICAgICAgICAgIG9uQ2FuY2VsPXtvbkNhbmNlbH1cclxuICAgICAgICAgIGNhbmNlbFRleHQ9XCJDYW5jZWxcIlxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NhbmNlbC9pIH0pXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2FuY2VsQnV0dG9uKVxyXG5cclxuICAgICAgZXhwZWN0KG9uQ2FuY2VsKS50b0hhdmVCZWVuQ2FsbGVkKClcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3Nob3dzIGxvYWRpbmcgc3RhdGUnLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8Q29uZmlybU1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgdGl0bGU9XCJDb25maXJtXCJcclxuICAgICAgICAgIGxvYWRpbmc9e3RydWV9XHJcbiAgICAgICAgICBjb25maXJtVGV4dD1cIkNvbmZpcm1cIlxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9jZXNhbmRvLi4uJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Byb2Nlc2FuZG8vaSB9KSkudG9CZURpc2FibGVkKClcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3JlbmRlcnMgZGlmZmVyZW50IHZhcmlhbnRzIHdpdGggY29ycmVjdCBpY29ucycsICgpID0+IHtcclxuICAgICAgY29uc3QgdmFyaWFudHMgPSBbJ2Rlc3RydWN0aXZlJywgJ3dhcm5pbmcnLCAnc3VjY2VzcycsICdpbmZvJ10gYXMgY29uc3RcclxuXHJcbiAgICAgIHZhcmlhbnRzLmZvckVhY2godmFyaWFudCA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoXHJcbiAgICAgICAgICA8Q29uZmlybU1vZGFsXHJcbiAgICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICAgIHRpdGxlPXtgJHt2YXJpYW50fSBtb2RhbGB9XHJcbiAgICAgICAgICAgIHZhcmlhbnQ9e3ZhcmlhbnR9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBtb2RhbCBzZSByZW5kZXJpemEgKGVsIMOtY29ubyBlc3BlY8OtZmljbyBlcyBkaWbDrWNpbCBkZSB0ZXN0ZWFyKVxyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KGAke3ZhcmlhbnR9IG1vZGFsYCkpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgICB1bm1vdW50KClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgLy8gVGVzdCBkZSBRdWlja1ZpZXdNb2RhbCBlbGltaW5hZG8geWEgcXVlIGVsIGNvbXBvbmVudGUgZnVlIHJlbW92aWRvXHJcbiAgLy8gZGVzY3JpYmUoJ1F1aWNrVmlld01vZGFsJywgKCkgPT4ge1xyXG4gIC8vICAgaXQoJ3JlbmRlcnMgd2l0aCBsYXJnZSBzaXplIGJ5IGRlZmF1bHQnLCAoKSA9PiB7XHJcbiAgLy8gICAgIHJlbmRlcihcclxuICAvLyAgICAgICA8UXVpY2tWaWV3TW9kYWwgb3Blbj17dHJ1ZX0+XHJcbiAgLy8gICAgICAgICA8ZGl2PlByb2R1Y3QgZGV0YWlsczwvZGl2PlxyXG4gIC8vICAgICAgIDwvUXVpY2tWaWV3TW9kYWw+XHJcbiAgLy8gICAgIClcclxuXHJcbiAgLy8gICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0IGRldGFpbHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gIC8vICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJykpLnRvSGF2ZUNsYXNzKCdtYXgtdy00eGwnKVxyXG4gIC8vICAgfSlcclxuICAvLyB9KVxyXG5cclxuICBkZXNjcmliZSgnQWRkVG9DYXJ0TW9kYWwnLCAoKSA9PiB7XHJcbiAgICBpdCgncmVuZGVycyBwcm9kdWN0IGluZm9ybWF0aW9uJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPEFkZFRvQ2FydE1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgcHJvZHVjdE5hbWU9XCJUZXN0IFByb2R1Y3RcIlxyXG4gICAgICAgICAgcHJvZHVjdEltYWdlPVwiL3Rlc3QtaW1hZ2UuanBnXCJcclxuICAgICAgICAvPlxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnwqFQcm9kdWN0byBhZ3JlZ2FkbyBhbCBjYXJyaXRvIScpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC90ZXN0IHByb2R1Y3QvaSkpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2ltZycpKS50b0hhdmVBdHRyaWJ1dGUoJ3NyYycsICcvdGVzdC1pbWFnZS5qcGcnKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnY2FsbHMgYWN0aW9uIGhhbmRsZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcclxuICAgICAgY29uc3Qgb25Db250aW51ZVNob3BwaW5nID0gamVzdC5mbigpXHJcbiAgICAgIGNvbnN0IG9uR29Ub0NhcnQgPSBqZXN0LmZuKClcclxuXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8QWRkVG9DYXJ0TW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICBwcm9kdWN0TmFtZT1cIlRlc3QgUHJvZHVjdFwiXHJcbiAgICAgICAgICBvbkNvbnRpbnVlU2hvcHBpbmc9e29uQ29udGludWVTaG9wcGluZ31cclxuICAgICAgICAgIG9uR29Ub0NhcnQ9e29uR29Ub0NhcnR9XHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgY29udGludWVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zZWd1aXIgY29tcHJhbmRvL2kgfSlcclxuICAgICAgY29uc3QgY2FydEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZlciBjYXJyaXRvL2kgfSlcclxuXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY29udGludWVCdXR0b24pXHJcbiAgICAgIGV4cGVjdChvbkNvbnRpbnVlU2hvcHBpbmcpLnRvSGF2ZUJlZW5DYWxsZWQoKVxyXG5cclxuICAgICAgYXdhaXQgdXNlci5jbGljayhjYXJ0QnV0dG9uKVxyXG4gICAgICBleHBlY3Qob25Hb1RvQ2FydCkudG9IYXZlQmVlbkNhbGxlZCgpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCd1c2VNb2RhbCBob29rJywgKCkgPT4ge1xyXG4gICAgZnVuY3Rpb24gVGVzdENvbXBvbmVudCgpIHtcclxuICAgICAgY29uc3QgeyBvcGVuLCBvcGVuTW9kYWwsIGNsb3NlTW9kYWwsIHRvZ2dsZU1vZGFsIH0gPSB1c2VNb2RhbCgpXHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8c3BhbiBkYXRhLXRlc3RpZD1cIm1vZGFsLXN0YXRlXCI+e29wZW4gPyAnb3BlbicgOiAnY2xvc2VkJ308L3NwYW4+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29wZW5Nb2RhbH0+T3BlbjwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjbG9zZU1vZGFsfT5DbG9zZTwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGVNb2RhbH0+VG9nZ2xlPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBpdCgnbWFuYWdlcyBtb2RhbCBzdGF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxyXG4gICAgICByZW5kZXIoPFRlc3RDb21wb25lbnQgLz4pXHJcblxyXG4gICAgICBjb25zdCBzdGF0ZSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbW9kYWwtc3RhdGUnKVxyXG4gICAgICBjb25zdCBvcGVuQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3Blbi9pIH0pXHJcbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xvc2UvaSB9KVxyXG4gICAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC90b2dnbGUvaSB9KVxyXG5cclxuICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxyXG4gICAgICBleHBlY3Qoc3RhdGUpLnRvSGF2ZVRleHRDb250ZW50KCdjbG9zZWQnKVxyXG5cclxuICAgICAgLy8gT3BlbiBtb2RhbFxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG9wZW5CdXR0b24pXHJcbiAgICAgIGV4cGVjdChzdGF0ZSkudG9IYXZlVGV4dENvbnRlbnQoJ29wZW4nKVxyXG5cclxuICAgICAgLy8gQ2xvc2UgbW9kYWxcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhjbG9zZUJ1dHRvbilcclxuICAgICAgZXhwZWN0KHN0YXRlKS50b0hhdmVUZXh0Q29udGVudCgnY2xvc2VkJylcclxuXHJcbiAgICAgIC8vIFRvZ2dsZSBtb2RhbFxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHRvZ2dsZUJ1dHRvbilcclxuICAgICAgZXhwZWN0KHN0YXRlKS50b0hhdmVUZXh0Q29udGVudCgnb3BlbicpXHJcblxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHRvZ2dsZUJ1dHRvbilcclxuICAgICAgZXhwZWN0KHN0YXRlKS50b0hhdmVUZXh0Q29udGVudCgnY2xvc2VkJylcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ2FjY2VwdHMgZGVmYXVsdCBvcGVuIHN0YXRlJywgKCkgPT4ge1xyXG4gICAgICBmdW5jdGlvbiBUZXN0Q29tcG9uZW50V2l0aERlZmF1bHQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBvcGVuIH0gPSB1c2VNb2RhbCh0cnVlKVxyXG4gICAgICAgIHJldHVybiA8c3BhbiBkYXRhLXRlc3RpZD1cIm1vZGFsLXN0YXRlXCI+e29wZW4gPyAnb3BlbicgOiAnY2xvc2VkJ308L3NwYW4+XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlbmRlcig8VGVzdENvbXBvbmVudFdpdGhEZWZhdWx0IC8+KVxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdtb2RhbC1zdGF0ZScpKS50b0hhdmVUZXh0Q29udGVudCgnb3BlbicpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xyXG4gICAgaXQoJ2hhcyBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPE1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgdGl0bGU9XCJBY2Nlc3NpYmxlIE1vZGFsXCJcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPVwiTW9kYWwgZGVzY3JpcHRpb25cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIENvbnRlbnRcclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBjb25zdCBkaWFsb2cgPSBzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKVxyXG4gICAgICBleHBlY3QoZGlhbG9nKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChkaWFsb2cpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdmb2N1c2VzIGNsb3NlIGJ1dHRvbiB3aGVuIG9wZW5lZCcsICgpID0+IHtcclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbCBvcGVuPXt0cnVlfSB0aXRsZT1cIlRlc3QgTW9kYWxcIj5cclxuICAgICAgICAgIENvbnRlbnRcclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICAvLyBFbCBmb2NvIGRlYmVyw61hIGVzdGFyIGVuIGVsIG1vZGFsIG8gZW4gZWwgYm90w7NuIGRlIGNlcnJhclxyXG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NlcnJhci9pIH0pXHJcbiAgICAgIGV4cGVjdChjbG9zZUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnc3VwcG9ydHMga2V5Ym9hcmQgbmF2aWdhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXHJcbiAgICAgIGNvbnN0IG9uT3BlbkNoYW5nZSA9IGplc3QuZm4oKVxyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIG9uT3BlbkNoYW5nZT17b25PcGVuQ2hhbmdlfVxyXG4gICAgICAgICAgdGl0bGU9XCJUZXN0IE1vZGFsXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICBDb250ZW50XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgLy8gRXNjYXBlIGtleSBzaG91bGQgY2xvc2UgbW9kYWxcclxuICAgICAgYXdhaXQgdXNlci5rZXlib2FyZCgne0VzY2FwZX0nKVxyXG4gICAgICBleHBlY3Qob25PcGVuQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChmYWxzZSlcclxuICAgIH0pXHJcbiAgfSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicmVxdWlyZUFjdHVhbCIsIlBvcnRhbCIsImNoaWxkcmVuIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJkZXNjcmliZSIsIml0IiwicmVuZGVyIiwiTW9kYWwiLCJvcGVuIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwib25PcGVuQ2hhbmdlIiwiZm4iLCJjbG9zZUJ1dHRvbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJjbGljayIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicmVyZW5kZXIiLCJzaXplIiwidG9IYXZlQ2xhc3MiLCJ0cmlnZ2VyIiwiQnV0dG9uIiwid2FpdEZvciIsIkNvbmZpcm1Nb2RhbCIsInZhcmlhbnQiLCJjb25maXJtVGV4dCIsImNhbmNlbFRleHQiLCJvbkNvbmZpcm0iLCJjb25maXJtQnV0dG9uIiwidG9IYXZlQmVlbkNhbGxlZCIsIm9uQ2FuY2VsIiwiY2FuY2VsQnV0dG9uIiwibG9hZGluZyIsInRvQmVEaXNhYmxlZCIsInZhcmlhbnRzIiwiZm9yRWFjaCIsInVubW91bnQiLCJBZGRUb0NhcnRNb2RhbCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdEltYWdlIiwidG9IYXZlQXR0cmlidXRlIiwib25Db250aW51ZVNob3BwaW5nIiwib25Hb1RvQ2FydCIsImNvbnRpbnVlQnV0dG9uIiwiY2FydEJ1dHRvbiIsIlRlc3RDb21wb25lbnQiLCJvcGVuTW9kYWwiLCJjbG9zZU1vZGFsIiwidG9nZ2xlTW9kYWwiLCJ1c2VNb2RhbCIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwic3RhdGUiLCJnZXRCeVRlc3RJZCIsIm9wZW5CdXR0b24iLCJ0b2dnbGVCdXR0b24iLCJ0b0hhdmVUZXh0Q29udGVudCIsIlRlc3RDb21wb25lbnRXaXRoRGVmYXVsdCIsImRpYWxvZyIsImtleWJvYXJkIl0sIm1hcHBpbmdzIjoiO0FBS0EsNEJBQTRCO0FBQzVCQSxLQUFLQyxJQUFJLENBQUMsMEJBQTBCLElBQU8sQ0FBQTtRQUN6QyxHQUFHRCxLQUFLRSxhQUFhLENBQUMseUJBQXlCO1FBQy9DQyxRQUFRLENBQUMsRUFBRUMsUUFBUSxFQUFpQyxpQkFBSyxxQkFBQ0M7Z0JBQUlDLGVBQVk7MEJBQVVGOztJQUN0RixDQUFBO0FBRUFKLEtBQUtDLElBQUksQ0FBQyxnQ0FBZ0MsSUFBTyxDQUFBO1FBQy9DLEdBQUdELEtBQUtFLGFBQWEsQ0FBQywrQkFBK0I7UUFDckRDLFFBQVEsQ0FBQyxFQUFFQyxRQUFRLEVBQWlDLGlCQUFLLHFCQUFDQztnQkFBSUMsZUFBWTswQkFBZ0JGOztJQUM1RixDQUFBOzs7Ozt1QkFkbUQ7a0VBQzdCO3VCQUN3Qzt3QkFDdkM7Ozs7OztBQWF2QkcsU0FBUyxvQkFBb0I7SUFDM0JBLFNBQVMsU0FBUztRQUNoQkMsR0FBRyxzQ0FBc0M7WUFDdkNDLElBQUFBLGFBQU0sZ0JBQ0oscUJBQUNDLFlBQUs7Z0JBQ0pDLE1BQU07Z0JBQ05DLE9BQU07Z0JBQ05DLGFBQVk7MEJBRVosY0FBQSxxQkFBQ1I7OEJBQUk7OztZQUlUUyxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxlQUFlQyxpQkFBaUI7WUFDeERILE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLHFCQUFxQkMsaUJBQWlCO1lBQzlESCxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxrQkFBa0JDLGlCQUFpQjtRQUM3RDtRQUVBVCxHQUFHLG1EQUFtRDtZQUNwRCxNQUFNVSxPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVC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