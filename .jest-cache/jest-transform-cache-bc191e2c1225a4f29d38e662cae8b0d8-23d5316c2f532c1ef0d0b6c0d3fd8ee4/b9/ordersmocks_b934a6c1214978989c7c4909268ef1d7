6ce167f918cdac44ec85774769c64d55
// ===================================
// PINTEYA E-COMMERCE - ORDERS ENTERPRISE MOCKS
// ===================================
// Mocks centralizados para testing de órdenes siguiendo patrones Fase 1
// ===================================
// MOCK DATA ORDERS
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get createMockClerkAuth () {
        return createMockClerkAuth;
    },
    get createMockFetch () {
        return createMockFetch;
    },
    get createMockLogger () {
        return createMockLogger;
    },
    get createMockMetricsCollector () {
        return createMockMetricsCollector;
    },
    get createMockRateLimiter () {
        return createMockRateLimiter;
    },
    get createMockSupabaseAdmin () {
        return createMockSupabaseAdmin;
    },
    get createOrderItemTestData () {
        return createOrderItemTestData;
    },
    get createOrderTestData () {
        return createOrderTestData;
    },
    get createStatusHistoryTestData () {
        return createStatusHistoryTestData;
    },
    get mockAdminUser () {
        return mockAdminUser;
    },
    get mockOrderItems () {
        return mockOrderItems;
    },
    get mockOrderNotes () {
        return mockOrderNotes;
    },
    get mockOrders () {
        return mockOrders;
    },
    get mockProducts () {
        return mockProducts;
    },
    get mockShippingAddress () {
        return mockShippingAddress;
    },
    get mockStatusHistory () {
        return mockStatusHistory;
    },
    get mockUser () {
        return mockUser;
    },
    get resetAllMocks () {
        return resetAllMocks;
    }
});
const mockUser = {
    id: 'test-user-id',
    clerk_id: 'test-clerk-id',
    email: 'test@example.com',
    name: 'Test User',
    phone: '+54911234567',
    role: 'customer'
};
const mockAdminUser = {
    id: 'admin-user-id',
    clerk_id: 'admin-clerk-id',
    email: 'santiago@xor.com.ar',
    name: 'Admin User',
    phone: '+54911234567',
    role: 'admin'
};
const mockProducts = [
    {
        id: 1,
        name: 'Pintura Latex Interior Blanco 20L',
        images: [
            'https://example.com/image1.jpg'
        ],
        sku: 'PAINT-001',
        category: 'Pinturas',
        price: 15000,
        stock: 50
    },
    {
        id: 2,
        name: 'Rodillo Antigota 23cm',
        images: [
            'https://example.com/image2.jpg'
        ],
        sku: 'TOOL-001',
        category: 'Herramientas',
        price: 2500,
        stock: 25
    }
];
const mockOrderItems = [
    {
        id: 'item-1',
        order_id: 'order-1',
        product_id: 1,
        quantity: 2,
        unit_price: 15000,
        total_price: 30000,
        products: mockProducts[0]
    },
    {
        id: 'item-2',
        order_id: 'order-1',
        product_id: 2,
        quantity: 1,
        unit_price: 2500,
        total_price: 2500,
        products: mockProducts[1]
    }
];
const mockShippingAddress = {
    street_name: 'Av. Corrientes',
    street_number: '1234',
    zip_code: '1000',
    city_name: 'Buenos Aires',
    state_name: 'CABA'
};
const mockOrders = [
    {
        id: 'order-1',
        order_number: 'ORD-1234567890-ABC123',
        user_id: 'test-user-id',
        status: 'pending',
        payment_status: 'pending',
        fulfillment_status: 'unfulfilled',
        total_amount: 32500,
        currency: 'ARS',
        shipping_address: JSON.stringify(mockShippingAddress),
        notes: 'Entrega en horario de oficina',
        admin_notes: null,
        tracking_number: null,
        carrier: null,
        estimated_delivery: null,
        metadata: {},
        created_at: '2024-01-01T10:00:00Z',
        updated_at: '2024-01-01T10:00:00Z',
        user_profiles: mockUser,
        order_items: mockOrderItems
    },
    {
        id: 'order-2',
        order_number: 'ORD-1234567891-DEF456',
        user_id: 'test-user-id',
        status: 'shipped',
        payment_status: 'paid',
        fulfillment_status: 'fulfilled',
        total_amount: 15000,
        currency: 'ARS',
        shipping_address: JSON.stringify(mockShippingAddress),
        notes: null,
        admin_notes: 'Envío urgente',
        tracking_number: 'TRACK123456',
        carrier: 'oca',
        estimated_delivery: '2024-01-05T18:00:00Z',
        metadata: {},
        created_at: '2024-01-02T10:00:00Z',
        updated_at: '2024-01-03T15:30:00Z',
        user_profiles: mockUser,
        order_items: [
            mockOrderItems[0]
        ]
    }
];
const mockStatusHistory = [
    {
        id: 'history-1',
        order_id: 'order-1',
        previous_status: null,
        new_status: 'pending',
        changed_by: 'system',
        reason: 'Orden creada',
        metadata: {
            trigger: 'automatic'
        },
        created_at: '2024-01-01T10:00:00Z',
        user_profiles: null
    },
    {
        id: 'history-2',
        order_id: 'order-1',
        previous_status: 'pending',
        new_status: 'confirmed',
        changed_by: 'admin-user-id',
        reason: 'Pago confirmado',
        metadata: {
            trigger: 'manual'
        },
        created_at: '2024-01-01T11:00:00Z',
        user_profiles: mockAdminUser
    }
];
const mockOrderNotes = [
    {
        id: 'note-1',
        order_id: 'order-1',
        admin_id: 'admin-user-id',
        note_type: 'internal',
        content: 'Cliente solicitó entrega urgente',
        is_visible_to_customer: false,
        metadata: {},
        created_at: '2024-01-01T12:00:00Z',
        updated_at: '2024-01-01T12:00:00Z',
        user_profiles: mockAdminUser
    }
];
const createMockSupabaseAdmin = ()=>{
    const mockSupabaseAdmin = {
        from: jest.fn().mockImplementation((table)=>{
            const mockQuery = {
                select: jest.fn().mockReturnThis(),
                insert: jest.fn().mockReturnThis(),
                update: jest.fn().mockReturnThis(),
                delete: jest.fn().mockReturnThis(),
                eq: jest.fn().mockReturnThis(),
                neq: jest.fn().mockReturnThis(),
                in: jest.fn().mockReturnThis(),
                gte: jest.fn().mockReturnThis(),
                lte: jest.fn().mockReturnThis(),
                or: jest.fn().mockReturnThis(),
                order: jest.fn().mockReturnThis(),
                range: jest.fn().mockReturnThis(),
                single: jest.fn().mockReturnThis(),
                limit: jest.fn().mockReturnThis()
            };
            // Configurar respuestas específicas por tabla
            if (table === 'orders') {
                mockQuery.select.mockImplementation((columns)=>{
                    if (columns && columns.includes('count')) {
                        return {
                            ...mockQuery,
                            single: ()=>Promise.resolve({
                                    data: null,
                                    error: null,
                                    count: mockOrders.length
                                })
                        };
                    }
                    return {
                        ...mockQuery,
                        single: ()=>Promise.resolve({
                                data: mockOrders[0],
                                error: null
                            }),
                        range: ()=>Promise.resolve({
                                data: mockOrders,
                                error: null,
                                count: mockOrders.length
                            })
                    };
                });
                mockQuery.insert.mockImplementation(()=>({
                        ...mockQuery,
                        select: ()=>({
                                ...mockQuery,
                                single: ()=>Promise.resolve({
                                        data: {
                                            ...mockOrders[0],
                                            id: 'new-order-id'
                                        },
                                        error: null
                                    })
                            })
                    }));
                mockQuery.update.mockImplementation(()=>({
                        ...mockQuery,
                        select: ()=>({
                                ...mockQuery,
                                single: ()=>Promise.resolve({
                                        data: {
                                            ...mockOrders[0],
                                            status: 'confirmed'
                                        },
                                        error: null
                                    })
                            })
                    }));
            }
            if (table === 'order_items') {
                mockQuery.insert.mockImplementation(()=>Promise.resolve({
                        data: mockOrderItems,
                        error: null
                    }));
            }
            if (table === 'order_status_history') {
                mockQuery.select.mockImplementation(()=>({
                        ...mockQuery,
                        eq: ()=>({
                                ...mockQuery,
                                order: ()=>Promise.resolve({
                                        data: mockStatusHistory,
                                        error: null
                                    })
                            })
                    }));
                mockQuery.insert.mockImplementation(()=>Promise.resolve({
                        data: mockStatusHistory[0],
                        error: null
                    }));
            }
            if (table === 'order_notes') {
                mockQuery.select.mockImplementation(()=>({
                        ...mockQuery,
                        eq: ()=>({
                                ...mockQuery,
                                order: ()=>Promise.resolve({
                                        data: mockOrderNotes,
                                        error: null
                                    })
                            })
                    }));
                mockQuery.insert.mockImplementation(()=>Promise.resolve({
                        data: mockOrderNotes[0],
                        error: null
                    }));
            }
            if (table === 'user_profiles') {
                mockQuery.select.mockImplementation(()=>({
                        ...mockQuery,
                        eq: ()=>({
                                ...mockQuery,
                                single: ()=>Promise.resolve({
                                        data: mockUser,
                                        error: null
                                    })
                            })
                    }));
            }
            if (table === 'products') {
                mockQuery.select.mockImplementation(()=>({
                        ...mockQuery,
                        in: ()=>Promise.resolve({
                                data: mockProducts,
                                error: null
                            })
                    }));
            }
            return mockQuery;
        }),
        // RPC functions
        rpc: jest.fn().mockImplementation((functionName, params)=>{
            if (functionName === 'get_daily_order_trends') {
                return Promise.resolve({
                    data: [
                        {
                            date: '2024-01-01',
                            total_orders: 5,
                            total_revenue: 75000,
                            avg_order_value: 15000
                        },
                        {
                            date: '2024-01-02',
                            total_orders: 3,
                            total_revenue: 45000,
                            avg_order_value: 15000
                        }
                    ],
                    error: null
                });
            }
            return Promise.resolve({
                data: null,
                error: null
            });
        })
    };
    return mockSupabaseAdmin;
};
const createMockClerkAuth = (isAdmin = false)=>{
    const mockAuth = jest.fn().mockResolvedValue({
        userId: isAdmin ? 'admin-clerk-id' : 'test-clerk-id'
    });
    const mockCurrentUser = jest.fn().mockResolvedValue({
        id: isAdmin ? 'admin-clerk-id' : 'test-clerk-id',
        emailAddresses: [
            {
                emailAddress: isAdmin ? 'santiago@xor.com.ar' : 'test@example.com'
            }
        ],
        firstName: isAdmin ? 'Admin' : 'Test',
        lastName: 'User'
    });
    return {
        mockAuth,
        mockCurrentUser
    };
};
const createMockRateLimiter = ()=>{
    const mockCheckRateLimit = jest.fn().mockResolvedValue({
        success: true,
        remaining: 100,
        reset: Date.now() + 3600000
    });
    const mockAddRateLimitHeaders = jest.fn();
    return {
        mockCheckRateLimit,
        mockAddRateLimitHeaders
    };
};
const createMockLogger = ()=>{
    const mockLogger = {
        log: jest.fn(),
        error: jest.fn(),
        warn: jest.fn(),
        info: jest.fn(),
        debug: jest.fn()
    };
    return mockLogger;
};
const createMockMetricsCollector = ()=>{
    const mockMetricsCollector = {
        recordApiCall: jest.fn(),
        recordError: jest.fn(),
        recordPerformance: jest.fn()
    };
    return mockMetricsCollector;
};
const createMockFetch = ()=>{
    const mockFetch = jest.fn().mockImplementation((url, options)=>{
        const method = options?.method || 'GET';
        // Mock responses para diferentes endpoints
        if (url.includes('/api/admin/orders') && method === 'GET') {
            return Promise.resolve({
                ok: true,
                status: 200,
                json: ()=>Promise.resolve({
                        data: {
                            orders: mockOrders,
                            pagination: {
                                page: 1,
                                limit: 20,
                                total: mockOrders.length,
                                totalPages: 1,
                                hasNextPage: false,
                                hasPreviousPage: false
                            },
                            filters: {}
                        },
                        success: true,
                        error: null
                    })
            });
        }
        if (url.includes('/api/admin/orders') && method === 'POST') {
            return Promise.resolve({
                ok: true,
                status: 201,
                json: ()=>Promise.resolve({
                        data: {
                            ...mockOrders[0],
                            id: 'new-order-id'
                        },
                        success: true,
                        error: null
                    })
            });
        }
        if (url.includes('/api/admin/orders/') && url.includes('/status') && method === 'POST') {
            return Promise.resolve({
                ok: true,
                status: 200,
                json: ()=>Promise.resolve({
                        data: {
                            order: {
                                ...mockOrders[0],
                                status: 'confirmed'
                            },
                            previousStatus: 'pending',
                            newStatus: 'confirmed',
                            statusDescription: 'Confirmada'
                        },
                        success: true,
                        error: null
                    })
            });
        }
        // Default response
        return Promise.resolve({
            ok: true,
            status: 200,
            json: ()=>Promise.resolve({
                    data: null,
                    success: true,
                    error: null
                })
        });
    });
    return mockFetch;
};
const resetAllMocks = ()=>{
    jest.clearAllMocks();
};
const createOrderTestData = (overrides = {})=>{
    return {
        ...mockOrders[0],
        ...overrides
    };
};
const createOrderItemTestData = (overrides = {})=>{
    return {
        ...mockOrderItems[0],
        ...overrides
    };
};
const createStatusHistoryTestData = (overrides = {})=>{
    return {
        ...mockStatusHistory[0],
        ...overrides
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxzZXR1cFxcb3JkZXJzLW1vY2tzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIE9SREVSUyBFTlRFUlBSSVNFIE1PQ0tTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1vY2tzIGNlbnRyYWxpemFkb3MgcGFyYSB0ZXN0aW5nIGRlIMOzcmRlbmVzIHNpZ3VpZW5kbyBwYXRyb25lcyBGYXNlIDFcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1PQ0sgREFUQSBPUkRFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBtb2NrVXNlciA9IHtcclxuICBpZDogJ3Rlc3QtdXNlci1pZCcsXHJcbiAgY2xlcmtfaWQ6ICd0ZXN0LWNsZXJrLWlkJyxcclxuICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gIG5hbWU6ICdUZXN0IFVzZXInLFxyXG4gIHBob25lOiAnKzU0OTExMjM0NTY3JyxcclxuICByb2xlOiAnY3VzdG9tZXInXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbW9ja0FkbWluVXNlciA9IHtcclxuICBpZDogJ2FkbWluLXVzZXItaWQnLFxyXG4gIGNsZXJrX2lkOiAnYWRtaW4tY2xlcmstaWQnLFxyXG4gIGVtYWlsOiAnc2FudGlhZ29AeG9yLmNvbS5hcicsXHJcbiAgbmFtZTogJ0FkbWluIFVzZXInLFxyXG4gIHBob25lOiAnKzU0OTExMjM0NTY3JyxcclxuICByb2xlOiAnYWRtaW4nXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbW9ja1Byb2R1Y3RzID0gW1xyXG4gIHtcclxuICAgIGlkOiAxLFxyXG4gICAgbmFtZTogJ1BpbnR1cmEgTGF0ZXggSW50ZXJpb3IgQmxhbmNvIDIwTCcsXHJcbiAgICBpbWFnZXM6IFsnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZTEuanBnJ10sXHJcbiAgICBza3U6ICdQQUlOVC0wMDEnLFxyXG4gICAgY2F0ZWdvcnk6ICdQaW50dXJhcycsXHJcbiAgICBwcmljZTogMTUwMDAsXHJcbiAgICBzdG9jazogNTBcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAyLFxyXG4gICAgbmFtZTogJ1JvZGlsbG8gQW50aWdvdGEgMjNjbScsXHJcbiAgICBpbWFnZXM6IFsnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZTIuanBnJ10sXHJcbiAgICBza3U6ICdUT09MLTAwMScsXHJcbiAgICBjYXRlZ29yeTogJ0hlcnJhbWllbnRhcycsXHJcbiAgICBwcmljZTogMjUwMCxcclxuICAgIHN0b2NrOiAyNVxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2NrT3JkZXJJdGVtcyA9IFtcclxuICB7XHJcbiAgICBpZDogJ2l0ZW0tMScsXHJcbiAgICBvcmRlcl9pZDogJ29yZGVyLTEnLFxyXG4gICAgcHJvZHVjdF9pZDogMSxcclxuICAgIHF1YW50aXR5OiAyLFxyXG4gICAgdW5pdF9wcmljZTogMTUwMDAsXHJcbiAgICB0b3RhbF9wcmljZTogMzAwMDAsXHJcbiAgICBwcm9kdWN0czogbW9ja1Byb2R1Y3RzWzBdXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2l0ZW0tMicsXHJcbiAgICBvcmRlcl9pZDogJ29yZGVyLTEnLFxyXG4gICAgcHJvZHVjdF9pZDogMixcclxuICAgIHF1YW50aXR5OiAxLFxyXG4gICAgdW5pdF9wcmljZTogMjUwMCxcclxuICAgIHRvdGFsX3ByaWNlOiAyNTAwLFxyXG4gICAgcHJvZHVjdHM6IG1vY2tQcm9kdWN0c1sxXVxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2NrU2hpcHBpbmdBZGRyZXNzID0ge1xyXG4gIHN0cmVldF9uYW1lOiAnQXYuIENvcnJpZW50ZXMnLFxyXG4gIHN0cmVldF9udW1iZXI6ICcxMjM0JyxcclxuICB6aXBfY29kZTogJzEwMDAnLFxyXG4gIGNpdHlfbmFtZTogJ0J1ZW5vcyBBaXJlcycsXHJcbiAgc3RhdGVfbmFtZTogJ0NBQkEnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbW9ja09yZGVycyA9IFtcclxuICB7XHJcbiAgICBpZDogJ29yZGVyLTEnLFxyXG4gICAgb3JkZXJfbnVtYmVyOiAnT1JELTEyMzQ1Njc4OTAtQUJDMTIzJyxcclxuICAgIHVzZXJfaWQ6ICd0ZXN0LXVzZXItaWQnLFxyXG4gICAgc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICBwYXltZW50X3N0YXR1czogJ3BlbmRpbmcnLFxyXG4gICAgZnVsZmlsbG1lbnRfc3RhdHVzOiAndW5mdWxmaWxsZWQnLFxyXG4gICAgdG90YWxfYW1vdW50OiAzMjUwMCxcclxuICAgIGN1cnJlbmN5OiAnQVJTJyxcclxuICAgIHNoaXBwaW5nX2FkZHJlc3M6IEpTT04uc3RyaW5naWZ5KG1vY2tTaGlwcGluZ0FkZHJlc3MpLFxyXG4gICAgbm90ZXM6ICdFbnRyZWdhIGVuIGhvcmFyaW8gZGUgb2ZpY2luYScsXHJcbiAgICBhZG1pbl9ub3RlczogbnVsbCxcclxuICAgIHRyYWNraW5nX251bWJlcjogbnVsbCxcclxuICAgIGNhcnJpZXI6IG51bGwsXHJcbiAgICBlc3RpbWF0ZWRfZGVsaXZlcnk6IG51bGwsXHJcbiAgICBtZXRhZGF0YToge30sXHJcbiAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxyXG4gICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcclxuICAgIHVzZXJfcHJvZmlsZXM6IG1vY2tVc2VyLFxyXG4gICAgb3JkZXJfaXRlbXM6IG1vY2tPcmRlckl0ZW1zXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ29yZGVyLTInLFxyXG4gICAgb3JkZXJfbnVtYmVyOiAnT1JELTEyMzQ1Njc4OTEtREVGNDU2JyxcclxuICAgIHVzZXJfaWQ6ICd0ZXN0LXVzZXItaWQnLFxyXG4gICAgc3RhdHVzOiAnc2hpcHBlZCcsXHJcbiAgICBwYXltZW50X3N0YXR1czogJ3BhaWQnLFxyXG4gICAgZnVsZmlsbG1lbnRfc3RhdHVzOiAnZnVsZmlsbGVkJyxcclxuICAgIHRvdGFsX2Ftb3VudDogMTUwMDAsXHJcbiAgICBjdXJyZW5jeTogJ0FSUycsXHJcbiAgICBzaGlwcGluZ19hZGRyZXNzOiBKU09OLnN0cmluZ2lmeShtb2NrU2hpcHBpbmdBZGRyZXNzKSxcclxuICAgIG5vdGVzOiBudWxsLFxyXG4gICAgYWRtaW5fbm90ZXM6ICdFbnbDrW8gdXJnZW50ZScsXHJcbiAgICB0cmFja2luZ19udW1iZXI6ICdUUkFDSzEyMzQ1NicsXHJcbiAgICBjYXJyaWVyOiAnb2NhJyxcclxuICAgIGVzdGltYXRlZF9kZWxpdmVyeTogJzIwMjQtMDEtMDVUMTg6MDA6MDBaJyxcclxuICAgIG1ldGFkYXRhOiB7fSxcclxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAyVDEwOjAwOjAwWicsXHJcbiAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wM1QxNTozMDowMFonLFxyXG4gICAgdXNlcl9wcm9maWxlczogbW9ja1VzZXIsXHJcbiAgICBvcmRlcl9pdGVtczogW21vY2tPcmRlckl0ZW1zWzBdXVxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2NrU3RhdHVzSGlzdG9yeSA9IFtcclxuICB7XHJcbiAgICBpZDogJ2hpc3RvcnktMScsXHJcbiAgICBvcmRlcl9pZDogJ29yZGVyLTEnLFxyXG4gICAgcHJldmlvdXNfc3RhdHVzOiBudWxsLFxyXG4gICAgbmV3X3N0YXR1czogJ3BlbmRpbmcnLFxyXG4gICAgY2hhbmdlZF9ieTogJ3N5c3RlbScsXHJcbiAgICByZWFzb246ICdPcmRlbiBjcmVhZGEnLFxyXG4gICAgbWV0YWRhdGE6IHsgdHJpZ2dlcjogJ2F1dG9tYXRpYycgfSxcclxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXHJcbiAgICB1c2VyX3Byb2ZpbGVzOiBudWxsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2hpc3RvcnktMicsXHJcbiAgICBvcmRlcl9pZDogJ29yZGVyLTEnLFxyXG4gICAgcHJldmlvdXNfc3RhdHVzOiAncGVuZGluZycsXHJcbiAgICBuZXdfc3RhdHVzOiAnY29uZmlybWVkJyxcclxuICAgIGNoYW5nZWRfYnk6ICdhZG1pbi11c2VyLWlkJyxcclxuICAgIHJlYXNvbjogJ1BhZ28gY29uZmlybWFkbycsXHJcbiAgICBtZXRhZGF0YTogeyB0cmlnZ2VyOiAnbWFudWFsJyB9LFxyXG4gICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMTE6MDA6MDBaJyxcclxuICAgIHVzZXJfcHJvZmlsZXM6IG1vY2tBZG1pblVzZXJcclxuICB9XHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgbW9ja09yZGVyTm90ZXMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdub3RlLTEnLFxyXG4gICAgb3JkZXJfaWQ6ICdvcmRlci0xJyxcclxuICAgIGFkbWluX2lkOiAnYWRtaW4tdXNlci1pZCcsXHJcbiAgICBub3RlX3R5cGU6ICdpbnRlcm5hbCcsXHJcbiAgICBjb250ZW50OiAnQ2xpZW50ZSBzb2xpY2l0w7MgZW50cmVnYSB1cmdlbnRlJyxcclxuICAgIGlzX3Zpc2libGVfdG9fY3VzdG9tZXI6IGZhbHNlLFxyXG4gICAgbWV0YWRhdGE6IHt9LFxyXG4gICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMTI6MDA6MDBaJyxcclxuICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEyOjAwOjAwWicsXHJcbiAgICB1c2VyX3Byb2ZpbGVzOiBtb2NrQWRtaW5Vc2VyXHJcbiAgfVxyXG5dO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTU9DSyBTVVBBQkFTRSBBRE1JTiBQQVJBIE9SREVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tTdXBhYmFzZUFkbWluID0gKCkgPT4ge1xyXG4gIGNvbnN0IG1vY2tTdXBhYmFzZUFkbWluID0ge1xyXG4gICAgZnJvbTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigodGFibGUpID0+IHtcclxuICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xyXG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcclxuICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgIGRlbGV0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgIG5lcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgIGd0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgICAgbHRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcclxuICAgICAgICBvcjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXHJcbiAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgIHJhbmdlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcclxuICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxyXG4gICAgICAgIGxpbWl0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIENvbmZpZ3VyYXIgcmVzcHVlc3RhcyBlc3BlY8OtZmljYXMgcG9yIHRhYmxhXHJcbiAgICAgIGlmICh0YWJsZSA9PT0gJ29yZGVycycpIHtcclxuICAgICAgICBtb2NrUXVlcnkuc2VsZWN0Lm1vY2tJbXBsZW1lbnRhdGlvbigoY29sdW1ucykgPT4ge1xyXG4gICAgICAgICAgaWYgKGNvbHVtbnMgJiYgY29sdW1ucy5pbmNsdWRlcygnY291bnQnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIC4uLm1vY2tRdWVyeSxcclxuICAgICAgICAgICAgICBzaW5nbGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsLCBjb3VudDogbW9ja09yZGVycy5sZW5ndGggfSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLm1vY2tRdWVyeSxcclxuICAgICAgICAgICAgc2luZ2xlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrT3JkZXJzWzBdLCBlcnJvcjogbnVsbCB9KSxcclxuICAgICAgICAgICAgcmFuZ2U6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgIGRhdGE6IG1vY2tPcmRlcnMsIFxyXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLCBcclxuICAgICAgICAgICAgICBjb3VudDogbW9ja09yZGVycy5sZW5ndGggXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtb2NrUXVlcnkuaW5zZXJ0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgc2VsZWN0OiAoKSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5tb2NrUXVlcnksXHJcbiAgICAgICAgICAgIHNpbmdsZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgXHJcbiAgICAgICAgICAgICAgZGF0YTogeyAuLi5tb2NrT3JkZXJzWzBdLCBpZDogJ25ldy1vcmRlci1pZCcgfSwgXHJcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgbW9ja1F1ZXJ5LnVwZGF0ZS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcclxuICAgICAgICAgIC4uLm1vY2tRdWVyeSxcclxuICAgICAgICAgIHNlbGVjdDogKCkgPT4gKHtcclxuICAgICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgICBzaW5nbGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IFxyXG4gICAgICAgICAgICAgIGRhdGE6IHsgLi4ubW9ja09yZGVyc1swXSwgc3RhdHVzOiAnY29uZmlybWVkJyB9LCBcclxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGFibGUgPT09ICdvcmRlcl9pdGVtcycpIHtcclxuICAgICAgICBtb2NrUXVlcnkuaW5zZXJ0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBcclxuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG1vY2tPcmRlckl0ZW1zLCBlcnJvcjogbnVsbCB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0YWJsZSA9PT0gJ29yZGVyX3N0YXR1c19oaXN0b3J5Jykge1xyXG4gICAgICAgIG1vY2tRdWVyeS5zZWxlY3QubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgICAgICAgICAuLi5tb2NrUXVlcnksXHJcbiAgICAgICAgICBlcTogKCkgPT4gKHtcclxuICAgICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgICBvcmRlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbW9ja1N0YXR1c0hpc3RvcnksIGVycm9yOiBudWxsIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgbW9ja1F1ZXJ5Lmluc2VydC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gXHJcbiAgICAgICAgICBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrU3RhdHVzSGlzdG9yeVswXSwgZXJyb3I6IG51bGwgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGFibGUgPT09ICdvcmRlcl9ub3RlcycpIHtcclxuICAgICAgICBtb2NrUXVlcnkuc2VsZWN0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgZXE6ICgpID0+ICh7XHJcbiAgICAgICAgICAgIC4uLm1vY2tRdWVyeSxcclxuICAgICAgICAgICAgb3JkZXI6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG1vY2tPcmRlck5vdGVzLCBlcnJvcjogbnVsbCB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIG1vY2tRdWVyeS5pbnNlcnQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFxyXG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbW9ja09yZGVyTm90ZXNbMF0sIGVycm9yOiBudWxsIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRhYmxlID09PSAndXNlcl9wcm9maWxlcycpIHtcclxuICAgICAgICBtb2NrUXVlcnkuc2VsZWN0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgZXE6ICgpID0+ICh7XHJcbiAgICAgICAgICAgIC4uLm1vY2tRdWVyeSxcclxuICAgICAgICAgICAgc2luZ2xlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrVXNlciwgZXJyb3I6IG51bGwgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGFibGUgPT09ICdwcm9kdWN0cycpIHtcclxuICAgICAgICBtb2NrUXVlcnkuc2VsZWN0Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICAgICAgLi4ubW9ja1F1ZXJ5LFxyXG4gICAgICAgICAgaW46ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG1vY2tQcm9kdWN0cywgZXJyb3I6IG51bGwgfSlcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBtb2NrUXVlcnk7XHJcbiAgICB9KSxcclxuXHJcbiAgICAvLyBSUEMgZnVuY3Rpb25zXHJcbiAgICBycGM6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKGZ1bmN0aW9uTmFtZSwgcGFyYW1zKSA9PiB7XHJcbiAgICAgIGlmIChmdW5jdGlvbk5hbWUgPT09ICdnZXRfZGFpbHlfb3JkZXJfdHJlbmRzJykge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgZGF0YTogW1xyXG4gICAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAxJywgdG90YWxfb3JkZXJzOiA1LCB0b3RhbF9yZXZlbnVlOiA3NTAwMCwgYXZnX29yZGVyX3ZhbHVlOiAxNTAwMCB9LFxyXG4gICAgICAgICAgICB7IGRhdGU6ICcyMDI0LTAxLTAyJywgdG90YWxfb3JkZXJzOiAzLCB0b3RhbF9yZXZlbnVlOiA0NTAwMCwgYXZnX29yZGVyX3ZhbHVlOiAxNTAwMCB9XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSk7XHJcbiAgICB9KVxyXG4gIH07XHJcblxyXG4gIHJldHVybiBtb2NrU3VwYWJhc2VBZG1pbjtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1PQ0sgQ0xFUksgQVVUSCBQQVJBIE9SREVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tDbGVya0F1dGggPSAoaXNBZG1pbiA9IGZhbHNlKSA9PiB7XHJcbiAgY29uc3QgbW9ja0F1dGggPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgdXNlcklkOiBpc0FkbWluID8gJ2FkbWluLWNsZXJrLWlkJyA6ICd0ZXN0LWNsZXJrLWlkJ1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBtb2NrQ3VycmVudFVzZXIgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgaWQ6IGlzQWRtaW4gPyAnYWRtaW4tY2xlcmstaWQnIDogJ3Rlc3QtY2xlcmstaWQnLFxyXG4gICAgZW1haWxBZGRyZXNzZXM6IFt7XHJcbiAgICAgIGVtYWlsQWRkcmVzczogaXNBZG1pbiA/ICdzYW50aWFnb0B4b3IuY29tLmFyJyA6ICd0ZXN0QGV4YW1wbGUuY29tJ1xyXG4gICAgfV0sXHJcbiAgICBmaXJzdE5hbWU6IGlzQWRtaW4gPyAnQWRtaW4nIDogJ1Rlc3QnLFxyXG4gICAgbGFzdE5hbWU6ICdVc2VyJ1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBtb2NrQXV0aCwgbW9ja0N1cnJlbnRVc2VyIH07XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNT0NLIFJBVEUgTElNSVRFUiBQQVJBIE9SREVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tSYXRlTGltaXRlciA9ICgpID0+IHtcclxuICBjb25zdCBtb2NrQ2hlY2tSYXRlTGltaXQgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIHJlbWFpbmluZzogMTAwLFxyXG4gICAgcmVzZXQ6IERhdGUubm93KCkgKyAzNjAwMDAwXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IG1vY2tBZGRSYXRlTGltaXRIZWFkZXJzID0gamVzdC5mbigpO1xyXG5cclxuICByZXR1cm4geyBtb2NrQ2hlY2tSYXRlTGltaXQsIG1vY2tBZGRSYXRlTGltaXRIZWFkZXJzIH07XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNT0NLIExPR0dFUiBQQVJBIE9SREVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tMb2dnZXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgbW9ja0xvZ2dlciA9IHtcclxuICAgIGxvZzogamVzdC5mbigpLFxyXG4gICAgZXJyb3I6IGplc3QuZm4oKSxcclxuICAgIHdhcm46IGplc3QuZm4oKSxcclxuICAgIGluZm86IGplc3QuZm4oKSxcclxuICAgIGRlYnVnOiBqZXN0LmZuKClcclxuICB9O1xyXG5cclxuICByZXR1cm4gbW9ja0xvZ2dlcjtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1PQ0sgTUVUUklDUyBDT0xMRUNUT1IgUEFSQSBPUkRFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrTWV0cmljc0NvbGxlY3RvciA9ICgpID0+IHtcclxuICBjb25zdCBtb2NrTWV0cmljc0NvbGxlY3RvciA9IHtcclxuICAgIHJlY29yZEFwaUNhbGw6IGplc3QuZm4oKSxcclxuICAgIHJlY29yZEVycm9yOiBqZXN0LmZuKCksXHJcbiAgICByZWNvcmRQZXJmb3JtYW5jZTogamVzdC5mbigpXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG1vY2tNZXRyaWNzQ29sbGVjdG9yO1xyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTU9DSyBGRVRDSCBQQVJBIE9SREVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1vY2tGZXRjaCA9ICgpID0+IHtcclxuICBjb25zdCBtb2NrRmV0Y2ggPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCh1cmwsIG9wdGlvbnMpID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IG9wdGlvbnM/Lm1ldGhvZCB8fCAnR0VUJztcclxuICAgIFxyXG4gICAgLy8gTW9jayByZXNwb25zZXMgcGFyYSBkaWZlcmVudGVzIGVuZHBvaW50c1xyXG4gICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9vcmRlcnMnKSAmJiBtZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG9yZGVyczogbW9ja09yZGVycyxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgbGltaXQ6IDIwLFxyXG4gICAgICAgICAgICAgIHRvdGFsOiBtb2NrT3JkZXJzLmxlbmd0aCxcclxuICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiAxLFxyXG4gICAgICAgICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICBoYXNQcmV2aW91c1BhZ2U6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZpbHRlcnM6IHt9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9vcmRlcnMnKSAmJiBtZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICBzdGF0dXM6IDIwMSxcclxuICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgZGF0YTogeyAuLi5tb2NrT3JkZXJzWzBdLCBpZDogJ25ldy1vcmRlci1pZCcgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vb3JkZXJzLycpICYmIHVybC5pbmNsdWRlcygnL3N0YXR1cycpICYmIG1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG9yZGVyOiB7IC4uLm1vY2tPcmRlcnNbMF0sIHN0YXR1czogJ2NvbmZpcm1lZCcgfSxcclxuICAgICAgICAgICAgcHJldmlvdXNTdGF0dXM6ICdwZW5kaW5nJyxcclxuICAgICAgICAgICAgbmV3U3RhdHVzOiAnY29uZmlybWVkJyxcclxuICAgICAgICAgICAgc3RhdHVzRGVzY3JpcHRpb246ICdDb25maXJtYWRhJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlZmF1bHQgcmVzcG9uc2VcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICBvazogdHJ1ZSxcclxuICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIHN1Y2Nlc3M6IHRydWUsIGVycm9yOiBudWxsIH0pXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG1vY2tGZXRjaDtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhFTFBFUiBGVU5DVElPTlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCByZXNldEFsbE1vY2tzID0gKCkgPT4ge1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyVGVzdERhdGEgPSAob3ZlcnJpZGVzID0ge30pID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ubW9ja09yZGVyc1swXSxcclxuICAgIC4uLm92ZXJyaWRlc1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlT3JkZXJJdGVtVGVzdERhdGEgPSAob3ZlcnJpZGVzID0ge30pID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ubW9ja09yZGVySXRlbXNbMF0sXHJcbiAgICAuLi5vdmVycmlkZXNcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0YXR1c0hpc3RvcnlUZXN0RGF0YSA9IChvdmVycmlkZXMgPSB7fSkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5tb2NrU3RhdHVzSGlzdG9yeVswXSxcclxuICAgIC4uLm92ZXJyaWRlc1xyXG4gIH07XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiY3JlYXRlTW9ja0NsZXJrQXV0aCIsImNyZWF0ZU1vY2tGZXRjaCIsImNyZWF0ZU1vY2tMb2dnZXIiLCJjcmVhdGVNb2NrTWV0cmljc0NvbGxlY3RvciIsImNyZWF0ZU1vY2tSYXRlTGltaXRlciIsImNyZWF0ZU1vY2tTdXBhYmFzZUFkbWluIiwiY3JlYXRlT3JkZXJJdGVtVGVzdERhdGEiLCJjcmVhdGVPcmRlclRlc3REYXRhIiwiY3JlYXRlU3RhdHVzSGlzdG9yeVRlc3REYXRhIiwibW9ja0FkbWluVXNlciIsIm1vY2tPcmRlckl0ZW1zIiwibW9ja09yZGVyTm90ZXMiLCJtb2NrT3JkZXJzIiwibW9ja1Byb2R1Y3RzIiwibW9ja1NoaXBwaW5nQWRkcmVzcyIsIm1vY2tTdGF0dXNIaXN0b3J5IiwibW9ja1VzZXIiLCJyZXNldEFsbE1vY2tzIiwiaWQiLCJjbGVya19pZCIsImVtYWlsIiwibmFtZSIsInBob25lIiwicm9sZSIsImltYWdlcyIsInNrdSIsImNhdGVnb3J5IiwicHJpY2UiLCJzdG9jayIsIm9yZGVyX2lkIiwicHJvZHVjdF9pZCIsInF1YW50aXR5IiwidW5pdF9wcmljZSIsInRvdGFsX3ByaWNlIiwicHJvZHVjdHMiLCJzdHJlZXRfbmFtZSIsInN0cmVldF9udW1iZXIiLCJ6aXBfY29kZSIsImNpdHlfbmFtZSIsInN0YXRlX25hbWUiLCJvcmRlcl9udW1iZXIiLCJ1c2VyX2lkIiwic3RhdHVzIiwicGF5bWVudF9zdGF0dXMiLCJmdWxmaWxsbWVudF9zdGF0dXMiLCJ0b3RhbF9hbW91bnQiLCJjdXJyZW5jeSIsInNoaXBwaW5nX2FkZHJlc3MiLCJKU09OIiwic3RyaW5naWZ5Iiwibm90ZXMiLCJhZG1pbl9ub3RlcyIsInRyYWNraW5nX251bWJlciIsImNhcnJpZXIiLCJlc3RpbWF0ZWRfZGVsaXZlcnkiLCJtZXRhZGF0YSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwidXNlcl9wcm9maWxlcyIsIm9yZGVyX2l0ZW1zIiwicHJldmlvdXNfc3RhdHVzIiwibmV3X3N0YXR1cyIsImNoYW5nZWRfYnkiLCJyZWFzb24iLCJ0cmlnZ2VyIiwiYWRtaW5faWQiLCJub3RlX3R5cGUiLCJjb250ZW50IiwiaXNfdmlzaWJsZV90b19jdXN0b21lciIsIm1vY2tTdXBhYmFzZUFkbWluIiwiZnJvbSIsImplc3QiLCJmbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInRhYmxlIiwibW9ja1F1ZXJ5Iiwic2VsZWN0IiwibW9ja1JldHVyblRoaXMiLCJpbnNlcnQiLCJ1cGRhdGUiLCJkZWxldGUiLCJlcSIsIm5lcSIsImluIiwiZ3RlIiwibHRlIiwib3IiLCJvcmRlciIsInJhbmdlIiwic2luZ2xlIiwibGltaXQiLCJjb2x1bW5zIiwiaW5jbHVkZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRhdGEiLCJlcnJvciIsImNvdW50IiwibGVuZ3RoIiwicnBjIiwiZnVuY3Rpb25OYW1lIiwicGFyYW1zIiwiZGF0ZSIsInRvdGFsX29yZGVycyIsInRvdGFsX3JldmVudWUiLCJhdmdfb3JkZXJfdmFsdWUiLCJpc0FkbWluIiwibW9ja0F1dGgiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVzZXJJZCIsIm1vY2tDdXJyZW50VXNlciIsImVtYWlsQWRkcmVzc2VzIiwiZW1haWxBZGRyZXNzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJtb2NrQ2hlY2tSYXRlTGltaXQiLCJzdWNjZXNzIiwicmVtYWluaW5nIiwicmVzZXQiLCJEYXRlIiwibm93IiwibW9ja0FkZFJhdGVMaW1pdEhlYWRlcnMiLCJtb2NrTG9nZ2VyIiwibG9nIiwid2FybiIsImluZm8iLCJkZWJ1ZyIsIm1vY2tNZXRyaWNzQ29sbGVjdG9yIiwicmVjb3JkQXBpQ2FsbCIsInJlY29yZEVycm9yIiwicmVjb3JkUGVyZm9ybWFuY2UiLCJtb2NrRmV0Y2giLCJ1cmwiLCJvcHRpb25zIiwibWV0aG9kIiwib2siLCJqc29uIiwib3JkZXJzIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJoYXNOZXh0UGFnZSIsImhhc1ByZXZpb3VzUGFnZSIsImZpbHRlcnMiLCJwcmV2aW91c1N0YXR1cyIsIm5ld1N0YXR1cyIsInN0YXR1c0Rlc2NyaXB0aW9uIiwiY2xlYXJBbGxNb2NrcyIsIm92ZXJyaWRlcyJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQyxzQ0FBc0M7QUFDdEMsd0VBQXdFO0FBRXhFLHNDQUFzQztBQUN0QyxtQkFBbUI7QUFDbkIsc0NBQXNDOzs7Ozs7Ozs7Ozs7UUEwU3pCQTtlQUFBQTs7UUFtRUFDO2VBQUFBOztRQTlCQUM7ZUFBQUE7O1FBZ0JBQztlQUFBQTs7UUFoQ0FDO2VBQUFBOztRQWhLQUM7ZUFBQUE7O1FBaVNBQztlQUFBQTs7UUFQQUM7ZUFBQUE7O1FBY0FDO2VBQUFBOztRQTViQUM7ZUFBQUE7O1FBOEJBQztlQUFBQTs7UUFtR0FDO2VBQUFBOztRQXRFQUM7ZUFBQUE7O1FBbERBQztlQUFBQTs7UUEwQ0FDO2VBQUFBOztRQXFEQUM7ZUFBQUE7O1FBakhBQztlQUFBQTs7UUFtYkFDO2VBQUFBOzs7QUFuYk4sTUFBTUQsV0FBVztJQUN0QkUsSUFBSTtJQUNKQyxVQUFVO0lBQ1ZDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLE1BQU07QUFDUjtBQUVPLE1BQU1kLGdCQUFnQjtJQUMzQlMsSUFBSTtJQUNKQyxVQUFVO0lBQ1ZDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLE1BQU07QUFDUjtBQUVPLE1BQU1WLGVBQWU7SUFDMUI7UUFDRUssSUFBSTtRQUNKRyxNQUFNO1FBQ05HLFFBQVE7WUFBQztTQUFpQztRQUMxQ0Ms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