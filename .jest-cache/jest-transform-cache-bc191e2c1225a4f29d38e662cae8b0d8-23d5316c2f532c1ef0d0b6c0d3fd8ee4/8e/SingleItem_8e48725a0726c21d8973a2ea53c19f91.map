{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Common\\CartSidebarModal\\SingleItem.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport Image from 'next/image'\nimport { useDispatch } from 'react-redux'\nimport { AppDispatch } from '@/redux/store'\nimport { removeItemFromCart, updateCartItemQuantity } from '@/redux/features/cart-slice'\nimport { getValidImageUrl } from '@/lib/adapters/product-adapter'\nimport { Button } from '@/components/ui/button'\nimport { Minus, Plus, Trash2 } from '@/lib/optimized-imports'\n\nconst SingleItem = ({ item }: { item: any }) => {\n  const [quantity, setQuantity] = useState(item.quantity)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const handleRemoveFromCart = () => {\n    dispatch(removeItemFromCart(item.id))\n  }\n\n  const handleIncreaseQuantity = () => {\n    setQuantity(quantity + 1)\n    dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity + 1 }))\n  }\n\n  const handleDecreaseQuantity = () => {\n    if (quantity > 1) {\n      setQuantity(quantity - 1)\n      dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity - 1 }))\n    }\n  }\n\n  return (\n    <div\n      className='bg-white rounded-xl border border-gray-200 p-4 shadow-sm hover:shadow-md transition-all duration-200'\n      data-testid='cart-item'\n    >\n      {/* Product Info */}\n      <div className='flex items-start gap-4 mb-4'>\n        <div className='relative w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0'>\n          <Image\n            src={getValidImageUrl(item.imgs?.thumbnails?.[0])}\n            alt={item.title}\n            width={64}\n            height={64}\n            className='w-full h-full object-cover'\n          />\n        </div>\n\n        <div className='flex-1 min-w-0'>\n          <h3 className='font-semibold text-gray-900 text-sm line-clamp-2 mb-1'>{item.title}</h3>\n          <p className='font-bold text-lg' style={{ color: '#ea5a17' }}>\n            ${item.discountedPrice.toLocaleString()}\n          </p>\n          {item.price && item.discountedPrice && item.discountedPrice < item.price && (\n            <p className='text-xs text-gray-500 line-through'>${item.price.toLocaleString()}</p>\n          )}\n        </div>\n\n        {/* Remove Button */}\n        <Button\n          variant='ghost'\n          size='sm'\n          onClick={handleRemoveFromCart}\n          aria-label='Eliminar producto del carrito'\n          data-testid='remove-from-cart'\n          className='text-red-500 hover:text-red-700 hover:bg-red-50 p-1 h-8 w-8'\n        >\n          <Trash2 className='w-4 h-4' />\n        </Button>\n      </div>\n\n      {/* Quantity Controls */}\n      <div className='flex items-center justify-between'>\n        <div className='flex items-center rounded-lg border-2 border-yellow-400 bg-white shadow-sm overflow-hidden'>\n          <Button\n            variant='ghost'\n            size='sm'\n            onClick={handleDecreaseQuantity}\n            disabled={quantity <= 1}\n            aria-label='Disminuir cantidad'\n            className='h-8 w-8 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold disabled:opacity-50 disabled:bg-gray-200'\n          >\n            <Minus className='w-3 h-3' />\n          </Button>\n\n          <div className='flex items-center justify-center w-12 h-8 bg-white font-bold text-sm text-gray-900 border-x-2 border-yellow-400'>\n            {quantity}\n          </div>\n\n          <Button\n            variant='ghost'\n            size='sm'\n            onClick={handleIncreaseQuantity}\n            aria-label='Aumentar cantidad'\n            className='h-8 w-8 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold'\n          >\n            <Plus className='w-3 h-3' />\n          </Button>\n        </div>\n\n        {/* Subtotal */}\n        <div className='text-right'>\n          <p className='font-bold text-sm' style={{ color: '#ea5a17' }}>\n            ${(item.discountedPrice * quantity).toLocaleString()}\n          </p>\n          {item.price && item.discountedPrice && item.discountedPrice < item.price && (\n            <p className='text-xs text-green-600 font-semibold'>\n              Ahorro: ${((item.price - item.discountedPrice) * quantity).toLocaleString()}\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default SingleItem\n"],"names":["SingleItem","item","quantity","setQuantity","useState","dispatch","useDispatch","handleRemoveFromCart","removeItemFromCart","id","handleIncreaseQuantity","updateCartItemQuantity","handleDecreaseQuantity","div","className","data-testid","Image","src","getValidImageUrl","imgs","thumbnails","alt","title","width","height","h3","p","style","color","discountedPrice","toLocaleString","price","Button","variant","size","onClick","aria-label","Trash2","disabled","Minus","Plus"],"mappings":"AAAA;;;;;+BAoHA;;;eAAA;;;;+DAlHgC;8DACd;4BACU;2BAE+B;gCAC1B;wBACV;kCACa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEpC,MAAMA,aAAa,CAAC,EAAEC,IAAI,EAAiB;IACzC,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAACH,KAAKC,QAAQ;IACtD,MAAMG,WAAWC,IAAAA,uBAAW;IAE5B,MAAMC,uBAAuB;QAC3BF,SAASG,IAAAA,6BAAkB,EAACP,KAAKQ,EAAE;IACrC;IAEA,MAAMC,yBAAyB;QAC7BP,YAAYD,WAAW;QACvBG,SAASM,IAAAA,iCAAsB,EAAC;YAAEF,IAAIR,KAAKQ,EAAE;YAAEP,UAAUA,WAAW;QAAE;IACxE;IAEA,MAAMU,yBAAyB;QAC7B,IAAIV,WAAW,GAAG;YAChBC,YAAYD,WAAW;YACvBG,SAASM,IAAAA,iCAAsB,EAAC;gBAAEF,IAAIR,KAAKQ,EAAE;gBAAEP,UAAUA,WAAW;YAAE;QACxE;IACF;IAEA,qBACE,sBAACW;QACCC,WAAU;QACVC,eAAY;;0BAGZ,sBAACF;gBAAIC,WAAU;;kCACb,qBAACD;wBAAIC,WAAU;kCACb,cAAA,qBAACE,cAAK;4BACJC,KAAKC,IAAAA,gCAAgB,EAACjB,KAAKkB,IAAI,EAAEC,YAAY,CAAC,EAAE;4BAChDC,KAAKpB,KAAKqB,KAAK;4BACfC,OAAO;4BACPC,QAAQ;4BACRV,WAAU;;;kCAId,sBAACD;wBAAIC,WAAU;;0CACb,qBAACW;gCAAGX,WAAU;0CAAyDb,KAAKqB,KAAK;;0CACjF,sBAACI;gCAAEZ,WAAU;gCAAoBa,OAAO;oCAAEC,OAAO;gCAAU;;oCAAG;oCAC1D3B,KAAK4B,eAAe,CAACC,cAAc;;;4BAEtC7B,KAAK8B,KAAK,IAAI9B,KAAK4B,eAAe,IAAI5B,KAAK4B,eAAe,GAAG5B,KAAK8B,KAAK,kBACtE,sBAACL;gCAAEZ,WAAU;;oCAAqC;oCAAEb,KAAK8B,KAAK,CAACD,cAAc;;;;;kCAKjF,qBAACE,cAAM;wBACLC,SAAQ;wBACRC,MAAK;wBACLC,SAAS5B;wBACT6B,cAAW;wBACXrB,eAAY;wBACZD,WAAU;kCAEV,cAAA,qBAACuB,wBAAM;4BAACvB,WAAU;;;;;0BAKtB,sBAACD;gBAAIC,WAAU;;kCACb,sBAACD;wBAAIC,WAAU;;0CACb,qBAACkB,cAAM;gCACLC,SAAQ;gCACRC,MAAK;gCACLC,SAASvB;gCACT0B,UAAUpC,YAAY;gCACtBkC,cAAW;gCACXtB,WAAU;0CAEV,cAAA,qBAACyB,uBAAK;oCAACzB,WAAU;;;0CAGnB,qBAACD;gCAAIC,WAAU;0CACZZ;;0CAGH,qBAAC8B,cAAM;gCACLC,SAAQ;gCACRC,MAAK;gCACLC,SAASzB;gCACT0B,cAAW;gCACXtB,WAAU;0CAEV,cAAA,qBAAC0B,sBAAI;oCAAC1B,WAAU;;;;;kCAKpB,sBAACD;wBAAIC,WAAU;;0CACb,sBAACY;gCAAEZ,WAAU;gCAAoBa,OAAO;oCAAEC,OAAO;gCAAU;;oCAAG;oCACzD3B,CAAAA,KAAK4B,eAAe,GAAG3B,QAAO,EAAG4B,cAAc;;;4BAEnD7B,KAAK8B,KAAK,IAAI9B,KAAK4B,eAAe,IAAI5B,KAAK4B,eAAe,GAAG5B,KAAK8B,KAAK,kBACtE,sBAACL;gCAAEZ,WAAU;;oCAAuC;oCACvC,CAAA,AAACb,CAAAA,KAAK8B,KAAK,GAAG9B,KAAK4B,eAAe,AAAD,IAAK3B,QAAO,EAAG4B,cAAc;;;;;;;;;AAOvF;MAEA,WAAe9B"}