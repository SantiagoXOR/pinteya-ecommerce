{"version":3,"names":["_default","AnalyticsPage","cov_9hqa6jbfv","f","user","isLoaded","s","_useAuth","useAuth","userProfile","isAdmin","hasPermission","isLoading","roleLoading","_useUserRole","useUserRole","getEvents","getInteractions","getConversionMetrics","_useAnalytics","useAnalytics","activeTab","setActiveTab","_react","useState","isRefreshing","setIsRefreshing","conversionData","setConversionData","productViews","cartAdditions","checkoutStarts","checkoutCompletions","useEffect","b","_navigation","redirect","loadConversionData","metrics","handleRefresh","Promise","resolve","setTimeout","exportData","events","interactions","exportDate","Date","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","_jsxruntime","jsx","className","jsxs","tabs","id","name","icon","_lucidereact","BarChart3","description","TrendingUp","Eye","onClick","disabled","RefreshCw","Download","Settings","map","tab","Icon","_framermotion","motion","div","initial","opacity","y","animate","transition","duration","_AnalyticsDashboard","default","_ConversionFunnel","data","_HeatmapViewer","page","window","location","pathname"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\admin\\analytics\\page.tsx"],"sourcesContent":["/**\r\n * Página de Analytics Dashboard para administradores\r\n * Vista completa de métricas, conversiones y análisis de comportamiento\r\n */\r\n\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { redirect } from 'next/navigation';\r\nimport AnalyticsDashboard from '@/components/Analytics/AnalyticsDashboard';\r\nimport ConversionFunnel from '@/components/Analytics/ConversionFunnel';\r\nimport HeatmapViewer from '@/components/Analytics/HeatmapViewer';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useUserRole } from '@/hooks/useUserRole';\r\nimport { \r\n  BarChart3, \r\n  TrendingUp, \r\n  Users, \r\n  Eye, \r\n  Download,\r\n  RefreshCw,\r\n  Settings\r\n} from 'lucide-react';\r\n\r\nconst AnalyticsPage: React.FC = () => {\r\n  const { user, isLoaded } = useAuth();\r\n  const { userProfile, isAdmin, hasPermission, isLoading: roleLoading } = useUserRole();\r\n  const { getEvents, getInteractions, getConversionMetrics } = useAnalytics();\r\n  const [activeTab, setActiveTab] = useState<'dashboard' | 'funnel' | 'heatmap'>('dashboard');\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const [conversionData, setConversionData] = useState({\r\n    productViews: 0,\r\n    cartAdditions: 0,\r\n    checkoutStarts: 0,\r\n    checkoutCompletions: 0,\r\n  });\r\n\r\n  // Verificar permisos de administrador usando el sistema de roles de Supabase\r\n  useEffect(() => {\r\n    if (isLoaded && !roleLoading) {\r\n      if (!user) {\r\n        redirect('/signin');\r\n        return;\r\n      }\r\n\r\n      if (!isAdmin && !hasPermission(['dashboard', 'access'])) {\r\n        redirect('/');\r\n        \r\n      }\r\n    }\r\n  }, [user, isLoaded, isAdmin, hasPermission, roleLoading]);\r\n\r\n  useEffect(() => {\r\n    loadConversionData();\r\n  }, []);\r\n\r\n  const loadConversionData = () => {\r\n    const metrics = getConversionMetrics();\r\n    setConversionData({\r\n      productViews: metrics.productViews,\r\n      cartAdditions: metrics.cartAdditions,\r\n      checkoutStarts: metrics.checkoutStarts,\r\n      checkoutCompletions: metrics.checkoutCompletions,\r\n    });\r\n  };\r\n\r\n  const handleRefresh = async () => {\r\n    setIsRefreshing(true);\r\n    try {\r\n      // Simular refresh de datos\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      loadConversionData();\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const exportData = () => {\r\n    const events = getEvents();\r\n    const interactions = getInteractions();\r\n    const metrics = getConversionMetrics();\r\n\r\n    const exportData = {\r\n      events,\r\n      interactions,\r\n      metrics,\r\n      exportDate: new Date().toISOString(),\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\r\n      type: 'application/json',\r\n    });\r\n\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `pinteya-analytics-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Mostrar pantalla de carga mientras se verifican permisos\r\n  if (!isLoaded || roleLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-yellow-400 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">\r\n            {!isLoaded ? 'Cargando...' : 'Verificando permisos...'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Verificar si el usuario tiene permisos\r\n  if (!isAdmin && !hasPermission(['dashboard', 'access'])) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg\">\r\n            <h3 className=\"font-bold text-lg mb-2\">Acceso Denegado</h3>\r\n            <p>No tienes permisos para acceder al dashboard de analytics.</p>\r\n            <p className=\"text-sm mt-2\">Contacta al administrador si necesitas acceso.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tabs = [\r\n    {\r\n      id: 'dashboard',\r\n      name: 'Dashboard',\r\n      icon: BarChart3,\r\n      description: 'Vista general de métricas',\r\n    },\r\n    {\r\n      id: 'funnel',\r\n      name: 'Embudo de Conversión',\r\n      icon: TrendingUp,\r\n      description: 'Análisis de conversión',\r\n    },\r\n    {\r\n      id: 'heatmap',\r\n      name: 'Mapa de Calor',\r\n      icon: Eye,\r\n      description: 'Interacciones de usuarios',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">Analytics Dashboard</h1>\r\n              <p className=\"text-gray-600\">Panel de control de métricas de Pinteya E-commerce</p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={handleRefresh}\r\n                disabled={isRefreshing}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50\"\r\n              >\r\n                <RefreshCw className={`w-4 h-4 ${isRefreshing ? 'animate-spin' : ''}`} />\r\n                Actualizar\r\n              </button>\r\n\r\n              <button\r\n                onClick={exportData}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                Exportar\r\n              </button>\r\n\r\n              <button className=\"flex items-center gap-2 px-4 py-2 bg-yellow-400 text-gray-900 rounded-lg hover:bg-yellow-500 transition-colors\">\r\n                <Settings className=\"w-4 h-4\" />\r\n                Configurar\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex space-x-8 border-b border-gray-200\">\r\n            {tabs.map((tab) => {\r\n              const Icon = tab && tab.icon ? tab.icon : null;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id as any)}\r\n                  className={`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                    activeTab === tab.id\r\n                      ? 'border-yellow-400 text-yellow-600'\r\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                  }`}\r\n                >\r\n                  {Icon && <Icon className=\"w-5 h-5\" />}\r\n                  <span className=\"hidden sm:inline\">{tab.name}</span>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <motion.div\r\n          key={activeTab}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3 }}\r\n        >\r\n          {activeTab === 'dashboard' && <AnalyticsDashboard />}\r\n          \r\n          {activeTab === 'funnel' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n                  Análisis de Embudo de Conversión\r\n                </h2>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Visualiza el flujo de usuarios desde la vista de producto hasta la compra completada.\r\n                  Identifica puntos de abandono y oportunidades de optimización.\r\n                </p>\r\n              </div>\r\n              \r\n              <ConversionFunnel data={conversionData} />\r\n              \r\n              {/* Métricas adicionales del embudo */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Puntos de Mejora</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\r\n                      <span className=\"text-red-800\">Mayor abandono en checkout</span>\r\n                      <span className=\"text-red-600 font-medium\">-23%</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 bg-yellow-50 rounded-lg\">\r\n                      <span className=\"text-yellow-800\">Baja conversión producto → carrito</span>\r\n                      <span className=\"text-yellow-600 font-medium\">-15%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Fortalezas</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\r\n                      <span className=\"text-green-800\">Alta retención en carrito</span>\r\n                      <span className=\"text-green-600 font-medium\">+18%</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n                      <span className=\"text-blue-800\">Buena tasa de vista de productos</span>\r\n                      <span className=\"text-blue-600 font-medium\">+12%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {activeTab === 'heatmap' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n                  Mapa de Calor de Interacciones\r\n                </h2>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  Visualiza dónde los usuarios hacen click, hover y scroll en tus páginas.\r\n                  Identifica patrones de comportamiento y optimiza la experiencia de usuario.\r\n                </p>\r\n              </div>\r\n              \r\n              <HeatmapViewer \r\n                interactions={getInteractions()} \r\n                page={typeof window !== 'undefined' ? window.location.pathname : '/'}\r\n              />\r\n              \r\n              {/* Análisis de páginas */}\r\n              <div className=\"bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Análisis por Página</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\r\n                    <p className=\"text-2xl font-bold text-blue-600\">1,234</p>\r\n                    <p className=\"text-sm text-blue-800\">Interacciones en Home</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-green-50 rounded-lg\">\r\n                    <p className=\"text-2xl font-bold text-green-600\">856</p>\r\n                    <p className=\"text-sm text-green-800\">Interacciones en Shop</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\r\n                    <p className=\"text-2xl font-bold text-purple-600\">432</p>\r\n                    <p className=\"text-sm text-purple-800\">Interacciones en Producto</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnalyticsPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}