0c00bc50a0f7ef8d3fc3a13ee426eeea
// ===================================
// PINTEYA E-COMMERCE - CONFIGURACIÓN CENTRALIZADA DE TIMEOUTS
// ===================================
// Configuración centralizada para todos los timeouts de APIs
// con valores por defecto y variables de entorno
// ===================================
// TIPOS Y INTERFACES
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get API_TIMEOUTS () {
        return API_TIMEOUTS;
    },
    get ENDPOINT_TIMEOUTS () {
        return ENDPOINT_TIMEOUTS;
    },
    get createTimeoutController () {
        return createTimeoutController;
    },
    get fetchWithTimeout () {
        return fetchWithTimeout;
    },
    get getEndpointTimeouts () {
        return getEndpointTimeouts;
    },
    get getTimeout () {
        return getTimeout;
    },
    get logTimeoutConfig () {
        return logTimeoutConfig;
    },
    get validateTimeoutConfig () {
        return validateTimeoutConfig;
    },
    get withDatabaseTimeout () {
        return withDatabaseTimeout;
    },
    get withExternalTimeout () {
        return withExternalTimeout;
    },
    get withTimeout () {
        return withTimeout;
    }
});
// ===================================
// CONFIGURACIÓN BASE DE TIMEOUTS
// ===================================
const DEFAULT_TIMEOUTS = {
    // Timeout por defecto para operaciones generales
    default: 30000,
    // Timeout para operaciones de base de datos
    database: 15000,
    // Timeout para APIs externas (MercadoPago, etc.)
    external: 45000,
    // Timeout para uploads de archivos
    upload: 120000,
    // Timeout para operaciones de pago
    payment: 60000,
    // Timeout para operaciones de autenticación
    auth: 20000,
    // Timeout para operaciones administrativas
    admin: 45000,
    // Timeout para webhooks
    webhook: 10000,
    // Timeout para envío de emails
    email: 30000,
    // Timeout para procesamiento de imágenes
    image: 90000
};
// ===================================
// FUNCIÓN PARA OBTENER TIMEOUT DESDE ENV
// ===================================
function getTimeoutFromEnv(key, defaultValue) {
    const envValue = process.env[`API_TIMEOUT_${key.toUpperCase()}`];
    if (!envValue) {
        return defaultValue;
    }
    const parsed = parseInt(envValue, 10);
    if (isNaN(parsed) || parsed <= 0) {
        console.warn(`[TIMEOUT_CONFIG] Invalid timeout value for ${key}: ${envValue}, using default: ${defaultValue}`);
        return defaultValue;
    }
    return parsed;
}
const API_TIMEOUTS = {
    default: getTimeoutFromEnv('DEFAULT', DEFAULT_TIMEOUTS.default),
    database: getTimeoutFromEnv('DATABASE', DEFAULT_TIMEOUTS.database),
    external: getTimeoutFromEnv('EXTERNAL', DEFAULT_TIMEOUTS.external),
    upload: getTimeoutFromEnv('UPLOAD', DEFAULT_TIMEOUTS.upload),
    payment: getTimeoutFromEnv('PAYMENT', DEFAULT_TIMEOUTS.payment),
    auth: getTimeoutFromEnv('AUTH', DEFAULT_TIMEOUTS.auth),
    admin: getTimeoutFromEnv('ADMIN', DEFAULT_TIMEOUTS.admin),
    webhook: getTimeoutFromEnv('WEBHOOK', DEFAULT_TIMEOUTS.webhook),
    email: getTimeoutFromEnv('EMAIL', DEFAULT_TIMEOUTS.email),
    image: getTimeoutFromEnv('IMAGE', DEFAULT_TIMEOUTS.image)
};
const ENDPOINT_TIMEOUTS = {
    // APIs de productos
    '/api/products': {
        connection: 5000,
        request: API_TIMEOUTS.database,
        response: 10000,
        total: API_TIMEOUTS.database + 15000
    },
    // APIs de órdenes
    '/api/orders': {
        connection: 5000,
        request: API_TIMEOUTS.database,
        response: 15000,
        total: API_TIMEOUTS.database + 20000
    },
    // APIs de pagos
    '/api/payments': {
        connection: 10000,
        request: API_TIMEOUTS.payment,
        response: 20000,
        total: Math.max(API_TIMEOUTS.payment + 30000, API_TIMEOUTS.external)
    },
    // APIs de autenticación
    '/api/auth': {
        connection: 3000,
        request: API_TIMEOUTS.auth,
        response: 5000,
        total: API_TIMEOUTS.auth + 8000
    },
    // APIs administrativas
    '/api/admin': {
        connection: 5000,
        request: API_TIMEOUTS.admin,
        response: 15000,
        total: API_TIMEOUTS.admin + 20000
    },
    // Webhooks
    '/api/webhooks': {
        connection: 2000,
        request: API_TIMEOUTS.webhook,
        response: 3000,
        total: API_TIMEOUTS.webhook + 5000
    },
    // APIs de upload
    '/api/upload': {
        connection: 10000,
        request: API_TIMEOUTS.upload,
        response: 30000,
        total: API_TIMEOUTS.upload + 40000
    }
};
function getTimeout(type) {
    return API_TIMEOUTS[type];
}
function getEndpointTimeouts(path) {
    // Buscar coincidencia exacta primero
    if (ENDPOINT_TIMEOUTS[path]) {
        return ENDPOINT_TIMEOUTS[path];
    }
    // Buscar coincidencia por prefijo
    const matchingPath = Object.keys(ENDPOINT_TIMEOUTS).find((key)=>path.startsWith(key));
    if (matchingPath) {
        return ENDPOINT_TIMEOUTS[matchingPath];
    }
    // Fallback a timeouts por defecto
    return {
        connection: 5000,
        request: API_TIMEOUTS.default,
        response: 10000,
        total: API_TIMEOUTS.default
    };
}
function createTimeoutController(timeout) {
    const controller = new AbortController();
    const timeoutId = setTimeout(()=>{
        controller.abort();
    }, timeout);
    return {
        controller,
        timeoutId
    };
}
async function fetchWithTimeout(url, options = {}) {
    const timeout = options.timeout || API_TIMEOUTS.default;
    const { controller, timeoutId } = createTimeoutController(timeout);
    try {
        const response = await fetch(url, {
            ...options,
            signal: controller.signal
        });
        clearTimeout(timeoutId);
        return response;
    } catch (error) {
        clearTimeout(timeoutId);
        if (error instanceof Error && error.name === 'AbortError') {
            throw new Error(`Request timeout after ${timeout}ms`);
        }
        throw error;
    }
}
function withDatabaseTimeout(operation, timeout = API_TIMEOUTS.database) {
    const { controller, timeoutId } = createTimeoutController(timeout);
    return operation(controller.signal).finally(()=>clearTimeout(timeoutId));
}
function withExternalTimeout(operation, timeout = API_TIMEOUTS.external) {
    const { controller, timeoutId } = createTimeoutController(timeout);
    return operation(controller.signal).finally(()=>clearTimeout(timeoutId));
}
function withTimeout(operation, timeout = API_TIMEOUTS.default) {
    return new Promise((resolve, reject)=>{
        const timeoutId = setTimeout(()=>{
            reject(new Error(`Operation timeout after ${timeout}ms`));
        }, timeout);
        operation().then(resolve).catch(reject).finally(()=>clearTimeout(timeoutId));
    });
}
function logTimeoutConfig() {
    console.log('[TIMEOUT_CONFIG] Configuración de timeouts cargada:', {
        environment: process.env.NODE_ENV,
        timeouts: API_TIMEOUTS,
        customEnvVars: Object.keys(process.env).filter((key)=>key.startsWith('API_TIMEOUT_')).reduce((acc, key)=>{
            acc[key] = process.env[key];
            return acc;
        }, {})
    });
}
function validateTimeoutConfig() {
    const errors = [];
    Object.entries(API_TIMEOUTS).forEach(([key, value])=>{
        if (typeof value !== 'number' || value <= 0) {
            errors.push(`Invalid timeout for ${key}: ${value}`);
        }
        if (value > 300000) {
            errors.push(`Timeout too high for ${key}: ${value}ms (max: 300000ms)`);
        }
    });
    if (errors.length > 0) {
        console.error('[TIMEOUT_CONFIG] Validation errors:', errors);
        return false;
    }
    return true;
}
// ===================================
// INICIALIZACIÓN
// ===================================
// Validar configuración al cargar el módulo
if (process.env.NODE_ENV !== 'test') {
    validateTimeoutConfig();
    if (process.env.NODE_ENV === 'development') {
        logTimeoutConfig();
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxjb25maWdcXGFwaS10aW1lb3V0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBDT05GSUdVUkFDScOTTiBDRU5UUkFMSVpBREEgREUgVElNRU9VVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ29uZmlndXJhY2nDs24gY2VudHJhbGl6YWRhIHBhcmEgdG9kb3MgbG9zIHRpbWVvdXRzIGRlIEFQSXNcclxuLy8gY29uIHZhbG9yZXMgcG9yIGRlZmVjdG8geSB2YXJpYWJsZXMgZGUgZW50b3Jub1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVElQT1MgWSBJTlRFUkZBQ0VTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVvdXRDb25maWcge1xyXG4gIGRlZmF1bHQ6IG51bWJlcjtcclxuICBkYXRhYmFzZTogbnVtYmVyO1xyXG4gIGV4dGVybmFsOiBudW1iZXI7XHJcbiAgdXBsb2FkOiBudW1iZXI7XHJcbiAgcGF5bWVudDogbnVtYmVyO1xyXG4gIGF1dGg6IG51bWJlcjtcclxuICBhZG1pbjogbnVtYmVyO1xyXG4gIHdlYmhvb2s6IG51bWJlcjtcclxuICBlbWFpbDogbnVtYmVyO1xyXG4gIGltYWdlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5kcG9pbnRUaW1lb3V0cyB7XHJcbiAgY29ubmVjdGlvbjogbnVtYmVyO1xyXG4gIHJlcXVlc3Q6IG51bWJlcjtcclxuICByZXNwb25zZTogbnVtYmVyO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTkZJR1VSQUNJw5NOIEJBU0UgREUgVElNRU9VVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IERFRkFVTFRfVElNRU9VVFMgPSB7XHJcbiAgLy8gVGltZW91dCBwb3IgZGVmZWN0byBwYXJhIG9wZXJhY2lvbmVzIGdlbmVyYWxlc1xyXG4gIGRlZmF1bHQ6IDMwMDAwLCAgICAgICAgLy8gMzAgc2VndW5kb3NcclxuICBcclxuICAvLyBUaW1lb3V0IHBhcmEgb3BlcmFjaW9uZXMgZGUgYmFzZSBkZSBkYXRvc1xyXG4gIGRhdGFiYXNlOiAxNTAwMCwgICAgICAgLy8gMTUgc2VndW5kb3NcclxuICBcclxuICAvLyBUaW1lb3V0IHBhcmEgQVBJcyBleHRlcm5hcyAoTWVyY2Fkb1BhZ28sIGV0Yy4pXHJcbiAgZXh0ZXJuYWw6IDQ1MDAwLCAgICAgICAvLyA0NSBzZWd1bmRvc1xyXG4gIFxyXG4gIC8vIFRpbWVvdXQgcGFyYSB1cGxvYWRzIGRlIGFyY2hpdm9zXHJcbiAgdXBsb2FkOiAxMjAwMDAsICAgICAgICAvLyAyIG1pbnV0b3NcclxuICBcclxuICAvLyBUaW1lb3V0IHBhcmEgb3BlcmFjaW9uZXMgZGUgcGFnb1xyXG4gIHBheW1lbnQ6IDYwMDAwLCAgICAgICAgLy8gMSBtaW51dG9cclxuICBcclxuICAvLyBUaW1lb3V0IHBhcmEgb3BlcmFjaW9uZXMgZGUgYXV0ZW50aWNhY2nDs25cclxuICBhdXRoOiAyMDAwMCwgICAgICAgICAgIC8vIDIwIHNlZ3VuZG9zXHJcbiAgXHJcbiAgLy8gVGltZW91dCBwYXJhIG9wZXJhY2lvbmVzIGFkbWluaXN0cmF0aXZhc1xyXG4gIGFkbWluOiA0NTAwMCwgICAgICAgICAgLy8gNDUgc2VndW5kb3NcclxuICBcclxuICAvLyBUaW1lb3V0IHBhcmEgd2ViaG9va3NcclxuICB3ZWJob29rOiAxMDAwMCwgICAgICAgIC8vIDEwIHNlZ3VuZG9zXHJcbiAgXHJcbiAgLy8gVGltZW91dCBwYXJhIGVudsOtbyBkZSBlbWFpbHNcclxuICBlbWFpbDogMzAwMDAsICAgICAgICAgIC8vIDMwIHNlZ3VuZG9zXHJcbiAgXHJcbiAgLy8gVGltZW91dCBwYXJhIHByb2Nlc2FtaWVudG8gZGUgaW3DoWdlbmVzXHJcbiAgaW1hZ2U6IDkwMDAwLCAgICAgICAgICAvLyAxLjUgbWludXRvc1xyXG59IGFzIGNvbnN0O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRlVOQ0nDk04gUEFSQSBPQlRFTkVSIFRJTUVPVVQgREVTREUgRU5WXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiBnZXRUaW1lb3V0RnJvbUVudihrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gIGNvbnN0IGVudlZhbHVlID0gcHJvY2Vzcy5lbnZbYEFQSV9USU1FT1VUXyR7a2V5LnRvVXBwZXJDYXNlKCl9YF07XHJcbiAgaWYgKCFlbnZWYWx1ZSkge3JldHVybiBkZWZhdWx0VmFsdWU7fVxyXG4gIFxyXG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KGVudlZhbHVlLCAxMCk7XHJcbiAgaWYgKGlzTmFOKHBhcnNlZCkgfHwgcGFyc2VkIDw9IDApIHtcclxuICAgIGNvbnNvbGUud2FybihgW1RJTUVPVVRfQ09ORklHXSBJbnZhbGlkIHRpbWVvdXQgdmFsdWUgZm9yICR7a2V5fTogJHtlbnZWYWx1ZX0sIHVzaW5nIGRlZmF1bHQ6ICR7ZGVmYXVsdFZhbHVlfWApO1xyXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHBhcnNlZDtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ09ORklHVVJBQ0nDk04gRklOQUwgREUgVElNRU9VVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjb25zdCBBUElfVElNRU9VVFM6IFRpbWVvdXRDb25maWcgPSB7XHJcbiAgZGVmYXVsdDogZ2V0VGltZW91dEZyb21FbnYoJ0RFRkFVTFQnLCBERUZBVUxUX1RJTUVPVVRTLmRlZmF1bHQpLFxyXG4gIGRhdGFiYXNlOiBnZXRUaW1lb3V0RnJvbUVudignREFUQUJBU0UnLCBERUZBVUxUX1RJTUVPVVRTLmRhdGFiYXNlKSxcclxuICBleHRlcm5hbDogZ2V0VGltZW91dEZyb21FbnYoJ0VYVEVSTkFMJywgREVGQVVMVF9USU1FT1VUUy5leHRlcm5hbCksXHJcbiAgdXBsb2FkOiBnZXRUaW1lb3V0RnJvbUVudignVVBMT0FEJywgREVGQVVMVF9USU1FT1VUUy51cGxvYWQpLFxyXG4gIHBheW1lbnQ6IGdldFRpbWVvdXRGcm9tRW52KCdQQVlNRU5UJywgREVGQVVMVF9USU1FT1VUUy5wYXltZW50KSxcclxuICBhdXRoOiBnZXRUaW1lb3V0RnJvbUVudignQVVUSCcsIERFRkFVTFRfVElNRU9VVFMuYXV0aCksXHJcbiAgYWRtaW46IGdldFRpbWVvdXRGcm9tRW52KCdBRE1JTicsIERFRkFVTFRfVElNRU9VVFMuYWRtaW4pLFxyXG4gIHdlYmhvb2s6IGdldFRpbWVvdXRGcm9tRW52KCdXRUJIT09LJywgREVGQVVMVF9USU1FT1VUUy53ZWJob29rKSxcclxuICBlbWFpbDogZ2V0VGltZW91dEZyb21FbnYoJ0VNQUlMJywgREVGQVVMVF9USU1FT1VUUy5lbWFpbCksXHJcbiAgaW1hZ2U6IGdldFRpbWVvdXRGcm9tRW52KCdJTUFHRScsIERFRkFVTFRfVElNRU9VVFMuaW1hZ2UpLFxyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVElNRU9VVFMgRVNQRUPDjUZJQ09TIFBPUiBFTkRQT0lOVFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNvbnN0IEVORFBPSU5UX1RJTUVPVVRTOiBSZWNvcmQ8c3RyaW5nLCBFbmRwb2ludFRpbWVvdXRzPiA9IHtcclxuICAvLyBBUElzIGRlIHByb2R1Y3Rvc1xyXG4gICcvYXBpL3Byb2R1Y3RzJzoge1xyXG4gICAgY29ubmVjdGlvbjogNTAwMCxcclxuICAgIHJlcXVlc3Q6IEFQSV9USU1FT1VUUy5kYXRhYmFzZSxcclxuICAgIHJlc3BvbnNlOiAxMDAwMCxcclxuICAgIHRvdGFsOiBBUElfVElNRU9VVFMuZGF0YWJhc2UgKyAxNTAwMCwgLy8gZGF0YWJhc2UgKyBidWZmZXJcclxuICB9LFxyXG5cclxuICAvLyBBUElzIGRlIMOzcmRlbmVzXHJcbiAgJy9hcGkvb3JkZXJzJzoge1xyXG4gICAgY29ubmVjdGlvbjogNTAwMCxcclxuICAgIHJlcXVlc3Q6IEFQSV9USU1FT1VUUy5kYXRhYmFzZSxcclxuICAgIHJlc3BvbnNlOiAxNTAwMCxcclxuICAgIHRvdGFsOiBBUElfVElNRU9VVFMuZGF0YWJhc2UgKyAyMDAwMCwgLy8gZGF0YWJhc2UgKyBidWZmZXJcclxuICB9LFxyXG4gIFxyXG4gIC8vIEFQSXMgZGUgcGFnb3NcclxuICAnL2FwaS9wYXltZW50cyc6IHtcclxuICAgIGNvbm5lY3Rpb246IDEwMDAwLFxyXG4gICAgcmVxdWVzdDogQVBJX1RJTUVPVVRTLnBheW1lbnQsXHJcbiAgICByZXNwb25zZTogMjAwMDAsXHJcbiAgICB0b3RhbDogTWF0aC5tYXgoQVBJX1RJTUVPVVRTLnBheW1lbnQgKyAzMDAwMCwgQVBJX1RJTUVPVVRTLmV4dGVybmFsKSxcclxuICB9LFxyXG5cclxuICAvLyBBUElzIGRlIGF1dGVudGljYWNpw7NuXHJcbiAgJy9hcGkvYXV0aCc6IHtcclxuICAgIGNvbm5lY3Rpb246IDMwMDAsXHJcbiAgICByZXF1ZXN0OiBBUElfVElNRU9VVFMuYXV0aCxcclxuICAgIHJlc3BvbnNlOiA1MDAwLFxyXG4gICAgdG90YWw6IEFQSV9USU1FT1VUUy5hdXRoICsgODAwMCxcclxuICB9LFxyXG5cclxuICAvLyBBUElzIGFkbWluaXN0cmF0aXZhc1xyXG4gICcvYXBpL2FkbWluJzoge1xyXG4gICAgY29ubmVjdGlvbjogNTAwMCxcclxuICAgIHJlcXVlc3Q6IEFQSV9USU1FT1VUUy5hZG1pbixcclxuICAgIHJlc3BvbnNlOiAxNTAwMCxcclxuICAgIHRvdGFsOiBBUElfVElNRU9VVFMuYWRtaW4gKyAyMDAwMCxcclxuICB9LFxyXG5cclxuICAvLyBXZWJob29rc1xyXG4gICcvYXBpL3dlYmhvb2tzJzoge1xyXG4gICAgY29ubmVjdGlvbjogMjAwMCxcclxuICAgIHJlcXVlc3Q6IEFQSV9USU1FT1VUUy53ZWJob29rLFxyXG4gICAgcmVzcG9uc2U6IDMwMDAsXHJcbiAgICB0b3RhbDogQVBJX1RJTUVPVVRTLndlYmhvb2sgKyA1MDAwLFxyXG4gIH0sXHJcblxyXG4gIC8vIEFQSXMgZGUgdXBsb2FkXHJcbiAgJy9hcGkvdXBsb2FkJzoge1xyXG4gICAgY29ubmVjdGlvbjogMTAwMDAsXHJcbiAgICByZXF1ZXN0OiBBUElfVElNRU9VVFMudXBsb2FkLFxyXG4gICAgcmVzcG9uc2U6IDMwMDAwLFxyXG4gICAgdG90YWw6IEFQSV9USU1FT1VUUy51cGxvYWQgKyA0MDAwMCxcclxuICB9LFxyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSEVMUEVSUyBQQVJBIE9CVEVORVIgVElNRU9VVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVsIHRpbWVvdXQgYXByb3BpYWRvIHBhcmEgdW4gdGlwbyBkZSBvcGVyYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZW91dCh0eXBlOiBrZXlvZiBUaW1lb3V0Q29uZmlnKTogbnVtYmVyIHtcclxuICByZXR1cm4gQVBJX1RJTUVPVVRTW3R5cGVdO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsb3MgdGltZW91dHMgZXNwZWPDrWZpY29zIHBhcmEgdW4gZW5kcG9pbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmRwb2ludFRpbWVvdXRzKHBhdGg6IHN0cmluZyk6IEVuZHBvaW50VGltZW91dHMge1xyXG4gIC8vIEJ1c2NhciBjb2luY2lkZW5jaWEgZXhhY3RhIHByaW1lcm9cclxuICBpZiAoRU5EUE9JTlRfVElNRU9VVFNbcGF0aF0pIHtcclxuICAgIHJldHVybiBFTkRQT0lOVF9USU1FT1VUU1twYXRoXTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQnVzY2FyIGNvaW5jaWRlbmNpYSBwb3IgcHJlZmlqb1xyXG4gIGNvbnN0IG1hdGNoaW5nUGF0aCA9IE9iamVjdC5rZXlzKEVORFBPSU5UX1RJTUVPVVRTKS5maW5kKGtleSA9PiBcclxuICAgIHBhdGguc3RhcnRzV2l0aChrZXkpXHJcbiAgKTtcclxuICBcclxuICBpZiAobWF0Y2hpbmdQYXRoKSB7XHJcbiAgICByZXR1cm4gRU5EUE9JTlRfVElNRU9VVFNbbWF0Y2hpbmdQYXRoXTtcclxuICB9XHJcbiAgXHJcbiAgLy8gRmFsbGJhY2sgYSB0aW1lb3V0cyBwb3IgZGVmZWN0b1xyXG4gIHJldHVybiB7XHJcbiAgICBjb25uZWN0aW9uOiA1MDAwLFxyXG4gICAgcmVxdWVzdDogQVBJX1RJTUVPVVRTLmRlZmF1bHQsXHJcbiAgICByZXNwb25zZTogMTAwMDAsXHJcbiAgICB0b3RhbDogQVBJX1RJTUVPVVRTLmRlZmF1bHQsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWEgdW4gQWJvcnRDb250cm9sbGVyIGNvbiB0aW1lb3V0IGF1dG9tw6F0aWNvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGltZW91dENvbnRyb2xsZXIodGltZW91dDogbnVtYmVyKToge1xyXG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcclxuICB0aW1lb3V0SWQ6IE5vZGVKUy5UaW1lb3V0O1xyXG59IHtcclxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgY29udHJvbGxlci5hYm9ydCgpO1xyXG4gIH0sIHRpbWVvdXQpO1xyXG4gIFxyXG4gIHJldHVybiB7IGNvbnRyb2xsZXIsIHRpbWVvdXRJZCB9O1xyXG59XHJcblxyXG4vKipcclxuICogV3JhcHBlciBwYXJhIGZldGNoIGNvbiB0aW1lb3V0IGF1dG9tw6F0aWNvXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hXaXRoVGltZW91dChcclxuICB1cmw6IHN0cmluZyxcclxuICBvcHRpb25zOiBSZXF1ZXN0SW5pdCAmIHsgdGltZW91dD86IG51bWJlciB9ID0ge31cclxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgQVBJX1RJTUVPVVRTLmRlZmF1bHQ7XHJcbiAgY29uc3QgeyBjb250cm9sbGVyLCB0aW1lb3V0SWQgfSA9IGNyZWF0ZVRpbWVvdXRDb250cm9sbGVyKHRpbWVvdXQpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCB0aW1lb3V0IGFmdGVyICR7dGltZW91dH1tc2ApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXcmFwcGVyIHBhcmEgb3BlcmFjaW9uZXMgZGUgYmFzZSBkZSBkYXRvcyBjb24gdGltZW91dFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhEYXRhYmFzZVRpbWVvdXQ8VD4oXHJcbiAgb3BlcmF0aW9uOiAoc2lnbmFsOiBBYm9ydFNpZ25hbCkgPT4gUHJvbWlzZTxUPixcclxuICB0aW1lb3V0OiBudW1iZXIgPSBBUElfVElNRU9VVFMuZGF0YWJhc2VcclxuKTogUHJvbWlzZTxUPiB7XHJcbiAgY29uc3QgeyBjb250cm9sbGVyLCB0aW1lb3V0SWQgfSA9IGNyZWF0ZVRpbWVvdXRDb250cm9sbGVyKHRpbWVvdXQpO1xyXG4gIFxyXG4gIHJldHVybiBvcGVyYXRpb24oY29udHJvbGxlci5zaWduYWwpXHJcbiAgICAuZmluYWxseSgoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXcmFwcGVyIHBhcmEgb3BlcmFjaW9uZXMgZXh0ZXJuYXMgY29uIHRpbWVvdXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXh0ZXJuYWxUaW1lb3V0PFQ+KFxyXG4gIG9wZXJhdGlvbjogKHNpZ25hbDogQWJvcnRTaWduYWwpID0+IFByb21pc2U8VD4sXHJcbiAgdGltZW91dDogbnVtYmVyID0gQVBJX1RJTUVPVVRTLmV4dGVybmFsXHJcbik6IFByb21pc2U8VD4ge1xyXG4gIGNvbnN0IHsgY29udHJvbGxlciwgdGltZW91dElkIH0gPSBjcmVhdGVUaW1lb3V0Q29udHJvbGxlcih0aW1lb3V0KTtcclxuXHJcbiAgcmV0dXJuIG9wZXJhdGlvbihjb250cm9sbGVyLnNpZ25hbClcclxuICAgIC5maW5hbGx5KCgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFdyYXBwZXIgZ2Vuw6lyaWNvIHBhcmEgb3BlcmFjaW9uZXMgY29uIHRpbWVvdXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoVGltZW91dDxUPihcclxuICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXHJcbiAgdGltZW91dDogbnVtYmVyID0gQVBJX1RJTUVPVVRTLmRlZmF1bHRcclxuKTogUHJvbWlzZTxUPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICByZWplY3QobmV3IEVycm9yKGBPcGVyYXRpb24gdGltZW91dCBhZnRlciAke3RpbWVvdXR9bXNgKSk7XHJcbiAgICB9LCB0aW1lb3V0KTtcclxuXHJcbiAgICBvcGVyYXRpb24oKVxyXG4gICAgICAudGhlbihyZXNvbHZlKVxyXG4gICAgICAuY2F0Y2gocmVqZWN0KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTkZJR1VSQUNJw5NOIERFIExPR0dJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBMb2cgZGUgdGltZW91dCBjb25maWd1cmFkb1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGxvZ1RpbWVvdXRDb25maWcoKTogdm9pZCB7XHJcbiAgY29uc29sZS5sb2coJ1tUSU1FT1VUX0NPTkZJR10gQ29uZmlndXJhY2nDs24gZGUgdGltZW91dHMgY2FyZ2FkYTonLCB7XHJcbiAgICBlbnZpcm9ubWVudDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYsXHJcbiAgICB0aW1lb3V0czogQVBJX1RJTUVPVVRTLFxyXG4gICAgY3VzdG9tRW52VmFyczogT2JqZWN0LmtleXMocHJvY2Vzcy5lbnYpXHJcbiAgICAgIC5maWx0ZXIoa2V5ID0+IGtleS5zdGFydHNXaXRoKCdBUElfVElNRU9VVF8nKSlcclxuICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcclxuICAgICAgICBhY2Nba2V5XSA9IHByb2Nlc3MuZW52W2tleV07XHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFZBTElEQUNJw5NOIERFIENPTkZJR1VSQUNJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogVmFsaWRhIHF1ZSB0b2RvcyBsb3MgdGltZW91dHMgZXN0w6luIGNvbmZpZ3VyYWRvcyBjb3JyZWN0YW1lbnRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUaW1lb3V0Q29uZmlnKCk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICBcclxuICBPYmplY3QuZW50cmllcyhBUElfVElNRU9VVFMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgdmFsdWUgPD0gMCkge1xyXG4gICAgICBlcnJvcnMucHVzaChgSW52YWxpZCB0aW1lb3V0IGZvciAke2tleX06ICR7dmFsdWV9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh2YWx1ZSA+IDMwMDAwMCkgeyAvLyA1IG1pbnV0b3MgbcOheGltb1xyXG4gICAgICBlcnJvcnMucHVzaChgVGltZW91dCB0b28gaGlnaCBmb3IgJHtrZXl9OiAke3ZhbHVlfW1zIChtYXg6IDMwMDAwMG1zKWApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc29sZS5lcnJvcignW1RJTUVPVVRfQ09ORklHXSBWYWxpZGF0aW9uIGVycm9yczonLCBlcnJvcnMpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSU5JQ0lBTElaQUNJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBWYWxpZGFyIGNvbmZpZ3VyYWNpw7NuIGFsIGNhcmdhciBlbCBtw7NkdWxvXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XHJcbiAgdmFsaWRhdGVUaW1lb3V0Q29uZmlnKCk7XHJcbiAgXHJcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICBsb2dUaW1lb3V0Q29uZmlnKCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJBUElfVElNRU9VVFMiLCJFTkRQT0lOVF9USU1FT1VUUyIsImNyZWF0ZVRpbWVvdXRDb250cm9sbGVyIiwiZmV0Y2hXaXRoVGltZW91dCIsImdldEVuZHBvaW50VGltZW91dHMiLCJnZXRUaW1lb3V0IiwibG9nVGltZW91dENvbmZpZyIsInZhbGlkYXRlVGltZW91dENvbmZpZyIsIndpdGhEYXRhYmFzZVRpbWVvdXQiLCJ3aXRoRXh0ZXJuYWxUaW1lb3V0Iiwid2l0aFRpbWVvdXQiLCJERUZBVUxUX1RJTUVPVVRTIiwiZGVmYXVsdCIsImRhdGFiYXNlIiwiZXh0ZXJuYWwiLCJ1cGxvYWQiLCJwYXltZW50IiwiYXV0aCIsImFkbWluIiwid2ViaG9vayIsImVtYWlsIiwiaW1hZ2UiLCJnZXRUaW1lb3V0RnJvbUVudiIsImtleSIsImRlZmF1bHRWYWx1ZSIsImVudlZhbHVlIiwicHJvY2VzcyIsImVudiIsInRvVXBwZXJDYXNlIiwicGFyc2VkIiwicGFyc2VJbnQiLCJpc05hTiIsImNvbnNvbGUiLCJ3YXJuIiwiY29ubmVjdGlvbiIsInJlcXVlc3QiLCJyZXNwb25zZSIsInRvdGFsIiwiTWF0aCIsIm1heCIsInR5cGUiLCJwYXRoIiwibWF0Y2hpbmdQYXRoIiwiT2JqZWN0Iiwia2V5cyIsImZpbmQiLCJzdGFydHNXaXRoIiwidGltZW91dCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJlcnJvciIsIkVycm9yIiwibmFtZSIsIm9wZXJhdGlvbiIsImZpbmFsbHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRoZW4iLCJjYXRjaCIsImxvZyIsImVudmlyb25tZW50IiwiTk9ERV9FTlYiLCJ0aW1lb3V0cyIsImN1c3RvbUVudlZhcnMiLCJmaWx0ZXIiLCJyZWR1Y2UiLCJhY2MiLCJlcnJvcnMiLCJlbnRyaWVzIiwiZm9yRWFjaCIsInZhbHVlIiwicHVzaCIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDhEQUE4RDtBQUM5RCxzQ0FBc0M7QUFDdEMsNkRBQTZEO0FBQzdELGlEQUFpRDtBQUVqRCxzQ0FBc0M7QUFDdEMscUJBQXFCO0FBQ3JCLHNDQUFzQzs7Ozs7Ozs7Ozs7O1FBK0V6QkE7ZUFBQUE7O1FBaUJBQztlQUFBQTs7UUFtR0dDO2VBQUFBOztRQWVNQztlQUFBQTs7UUExQ05DO2VBQUFBOztRQVBBQztlQUFBQTs7UUErSEFDO2VBQUFBOztRQW9CQUM7ZUFBQUE7O1FBckVBQztlQUFBQTs7UUFhQUM7ZUFBQUE7O1FBYUFDO2VBQUFBOzs7QUFuUGhCLHNDQUFzQztBQUN0QyxpQ0FBaUM7QUFDakMsc0NBQXNDO0FBRXRDLE1BQU1DLG1CQUFt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