ab001e12b4bee392e63383cfcf4c4bfc
/**
 * Tests para el Sistema Enterprise de Alertas
 * Verifica funcionalidad básica del sistema de alertas automáticas
 */ "use strict";
// Mock de dependencias
jest.mock('@/lib/security/enterprise-audit-system', ()=>({
        enterpriseAuditSystem: {
            logEnterpriseEvent: jest.fn()
        }
    }));
jest.mock('@/lib/rate-limiting/enterprise-rate-limiter', ()=>({
        metricsCollector: {
            getMetrics: jest.fn(()=>({
                    totalRequests: 1000,
                    blockedRequests: 50,
                    allowedRequests: 950,
                    averageResponseTime: 45,
                    errors: 5
                }))
        }
    }));
jest.mock('@/lib/optimization/enterprise-cache-system', ()=>({
        enterpriseCacheSystem: {
            getMetrics: jest.fn(()=>({
                    test_key: {
                        hits: 100,
                        misses: 20,
                        avgResponseTime: 15,
                        errors: 1
                    }
                }))
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _enterprisealertsystem = require("../../lib/monitoring/enterprise-alert-system");
describe('Sistema Enterprise de Alertas', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Reglas de Alerta Predefinidas', ()=>{
        test('debe tener 6 reglas predefinidas', ()=>{
            expect(_enterprisealertsystem.ENTERPRISE_ALERT_RULES).toHaveLength(6);
        });
        test('debe tener regla de alto número de requests bloqueados', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'security_high_blocked_requests');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('security');
            expect(rule?.severity).toBe('high');
            expect(rule?.enabled).toBe(true);
        });
        test('debe tener regla de eventos críticos de seguridad', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'security_critical_events');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('security');
            expect(rule?.severity).toBe('critical');
            expect(rule?.enabled).toBe(true);
        });
        test('debe tener regla de tiempo de respuesta alto', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'performance_high_response_time');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('performance');
            expect(rule?.severity).toBe('medium');
            expect(rule?.enabled).toBe(true);
        });
        test('debe tener regla de baja tasa de hit de cache', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'performance_low_cache_hit_rate');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('performance');
            expect(rule?.severity).toBe('medium');
            expect(rule?.enabled).toBe(true);
        });
        test('debe tener regla de alto uso de memoria', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'capacity_high_memory_usage');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('capacity');
            expect(rule?.severity).toBe('high');
            expect(rule?.enabled).toBe(true);
        });
        test('debe tener regla de alta tasa de errores 5xx', ()=>{
            const rule = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.find((r)=>r.id === 'error_high_5xx_rate');
            expect(rule).toBeDefined();
            expect(rule?.category).toBe('error');
            expect(rule?.severity).toBe('high');
            expect(rule?.enabled).toBe(true);
        });
    });
    describe('Configuración de Reglas', ()=>{
        test('todas las reglas deben tener configuración válida', ()=>{
            _enterprisealertsystem.ENTERPRISE_ALERT_RULES.forEach((rule)=>{
                expect(rule.id).toBeDefined();
                expect(rule.name).toBeDefined();
                expect(rule.description).toBeDefined();
                expect([
                    'security',
                    'performance',
                    'availability',
                    'capacity',
                    'error'
                ]).toContain(rule.category);
                expect([
                    'low',
                    'medium',
                    'high',
                    'critical'
                ]).toContain(rule.severity);
                expect(typeof rule.enabled).toBe('boolean');
                expect(Array.isArray(rule.conditions)).toBe(true);
                expect(rule.conditions.length).toBeGreaterThan(0);
                expect(Array.isArray(rule.notificationChannels)).toBe(true);
                expect(rule.notificationChannels.length).toBeGreaterThan(0);
                expect(typeof rule.cooldownMinutes).toBe('number');
                expect(rule.cooldownMinutes).toBeGreaterThan(0);
            });
        });
        test('condiciones deben tener configuración válida', ()=>{
            _enterprisealertsystem.ENTERPRISE_ALERT_RULES.forEach((rule)=>{
                rule.conditions.forEach((condition)=>{
                    expect(condition.metric).toBeDefined();
                    expect([
                        'gt',
                        'lt',
                        'eq',
                        'gte',
                        'lte',
                        'contains',
                        'not_contains'
                    ]).toContain(condition.operator);
                    expect(condition.threshold).toBeDefined();
                    expect(typeof condition.timeWindow).toBe('number');
                    expect(condition.timeWindow).toBeGreaterThan(0);
                    expect(typeof condition.evaluationInterval).toBe('number');
                    expect(condition.evaluationInterval).toBeGreaterThan(0);
                });
            });
        });
        test('canales de notificación deben tener configuración válida', ()=>{
            _enterprisealertsystem.ENTERPRISE_ALERT_RULES.forEach((rule)=>{
                rule.notificationChannels.forEach((channel)=>{
                    expect([
                        'email',
                        'slack',
                        'webhook',
                        'sms',
                        'dashboard'
                    ]).toContain(channel.type);
                    expect(typeof channel.config).toBe('object');
                    expect(typeof channel.enabled).toBe('boolean');
                });
            });
        });
    });
    describe('Inicialización del Sistema', ()=>{
        test('debe inicializar correctamente', async ()=>{
            await expect(_enterprisealertsystem.enterpriseAlertSystem.initialize()).resolves.not.toThrow();
        });
        test('debe ser singleton', ()=>{
            const instance1 = _enterprisealertsystem.enterpriseAlertSystem;
            const instance2 = _enterprisealertsystem.enterpriseAlertSystem;
            expect(instance1).toBe(instance2);
        });
    });
    describe('Gestión de Alertas', ()=>{
        test('debe obtener alertas activas', ()=>{
            const activeAlerts = _enterprisealertsystem.enterpriseAlertSystem.getActiveAlerts();
            expect(Array.isArray(activeAlerts)).toBe(true);
        });
        test('debe obtener métricas de alertas', ()=>{
            const metrics = _enterprisealertsystem.enterpriseAlertSystem.getAlertMetrics();
            expect(metrics).toBeDefined();
            expect(typeof metrics.totalAlerts).toBe('number');
            expect(typeof metrics.activeAlerts).toBe('number');
            expect(typeof metrics.averageResolutionTime).toBe('number');
            expect(typeof metrics.falsePositiveRate).toBe('number');
            expect(typeof metrics.alertsByCategory).toBe('object');
            expect(typeof metrics.alertsBySeverity).toBe('object');
        });
    });
    describe('Utilidades de Alertas', ()=>{
        test('EnterpriseAlertUtils debe estar definido', ()=>{
            expect(_enterprisealertsystem.EnterpriseAlertUtils).toBeDefined();
            expect(typeof _enterprisealertsystem.EnterpriseAlertUtils.createManualAlert).toBe('function');
            expect(typeof _enterprisealertsystem.EnterpriseAlertUtils.getAlertsByCategory).toBe('function');
            expect(typeof _enterprisealertsystem.EnterpriseAlertUtils.getAlertsBySeverity).toBe('function');
        });
        test('debe crear alerta manual', async ()=>{
            const alertId = await _enterprisealertsystem.EnterpriseAlertUtils.createManualAlert('Test Alert', 'Test Description', 'medium', 'availability', 'test_user');
            expect(typeof alertId).toBe('string');
            expect(alertId).toMatch(/^manual_/);
        });
    });
    describe('Categorías y Severidades', ()=>{
        test('debe tener alertas de todas las categorías', ()=>{
            const categories = [
                'security',
                'performance',
                'capacity',
                'error'
            ];
            categories.forEach((category)=>{
                const rulesInCategory = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.category === category);
                expect(rulesInCategory.length).toBeGreaterThan(0);
            });
        });
        test('debe tener alertas de diferentes severidades', ()=>{
            const severities = [
                'medium',
                'high',
                'critical'
            ];
            severities.forEach((severity)=>{
                const rulesWithSeverity = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.severity === severity);
                expect(rulesWithSeverity.length).toBeGreaterThan(0);
            });
        });
    });
    describe('Escalamiento de Alertas', ()=>{
        test('reglas críticas deben tener escalamiento configurado', ()=>{
            const criticalRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.severity === 'critical');
            criticalRules.forEach((rule)=>{
                // Las reglas críticas pueden tener escalamiento
                if (rule.escalationRules) {
                    expect(Array.isArray(rule.escalationRules)).toBe(true);
                    rule.escalationRules.forEach((escalation)=>{
                        expect(typeof escalation.afterMinutes).toBe('number');
                        expect(escalation.afterMinutes).toBeGreaterThan(0);
                        expect([
                            'low',
                            'medium',
                            'high',
                            'critical'
                        ]).toContain(escalation.severity);
                        expect(Array.isArray(escalation.additionalChannels)).toBe(true);
                    });
                }
            });
        });
        test('reglas de alta severidad deben tener escalamiento', ()=>{
            const highSeverityRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.severity === 'high');
            highSeverityRules.forEach((rule)=>{
                // Verificar que las reglas de alta severidad tengan configuración apropiada
                expect(rule.cooldownMinutes).toBeLessThanOrEqual(30); // Cooldown corto para alta severidad
            });
        });
    });
    describe('Canales de Notificación', ()=>{
        test('debe tener configuración de email para alertas importantes', ()=>{
            const importantRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.severity === 'critical' || r.severity === 'high');
            importantRules.forEach((rule)=>{
                const hasEmail = rule.notificationChannels.some((c)=>c.type === 'email');
                expect(hasEmail).toBe(true);
            });
        });
        test('debe tener configuración de SMS para alertas críticas', ()=>{
            const criticalRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.severity === 'critical');
            criticalRules.forEach((rule)=>{
                const hasSMS = rule.notificationChannels.some((c)=>c.type === 'sms') || rule.escalationRules && rule.escalationRules.some((e)=>e.additionalChannels.some((c)=>c.type === 'sms'));
                expect(hasSMS).toBe(true);
            });
        });
        test('todas las reglas deben tener dashboard habilitado', ()=>{
            _enterprisealertsystem.ENTERPRISE_ALERT_RULES.forEach((rule)=>{
                const hasDashboard = rule.notificationChannels.some((c)=>c.type === 'dashboard');
                // Dashboard es opcional, pero si está presente debe estar habilitado
                if (hasDashboard) {
                    const dashboardChannel = rule.notificationChannels.find((c)=>c.type === 'dashboard');
                    expect(dashboardChannel?.enabled).toBe(true);
                }
            });
        });
    });
    describe('Métricas y Umbrales', ()=>{
        test('umbrales deben ser realistas para métricas de performance', ()=>{
            const performanceRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.category === 'performance');
            performanceRules.forEach((rule)=>{
                rule.conditions.forEach((condition)=>{
                    if (condition.metric.includes('response_time')) {
                        // Tiempo de respuesta en ms, debe ser razonable
                        expect(Number(condition.threshold)).toBeGreaterThan(100);
                        expect(Number(condition.threshold)).toBeLessThan(10000);
                    }
                    if (condition.metric.includes('hit_rate')) {
                        // Hit rate debe ser un porcentaje válido
                        expect(Number(condition.threshold)).toBeGreaterThan(0);
                        expect(Number(condition.threshold)).toBeLessThanOrEqual(1);
                    }
                });
            });
        });
        test('umbrales deben ser apropiados para métricas de seguridad', ()=>{
            const securityRules = _enterprisealertsystem.ENTERPRISE_ALERT_RULES.filter((r)=>r.category === 'security');
            securityRules.forEach((rule)=>{
                rule.conditions.forEach((condition)=>{
                    if (condition.metric.includes('blocked_requests')) {
                        // Número de requests bloqueados debe ser positivo
                        expect(Number(condition.threshold)).toBeGreaterThan(0);
                    }
                    if (condition.metric.includes('critical_events')) {
                        // Eventos críticos deben tener umbral bajo
                        expect(Number(condition.threshold)).toBeLessThan(20);
                    }
                });
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxwaGFzZTRcXGVudGVycHJpc2UtYWxlcnQtc3lzdGVtLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZXN0cyBwYXJhIGVsIFNpc3RlbWEgRW50ZXJwcmlzZSBkZSBBbGVydGFzXG4gKiBWZXJpZmljYSBmdW5jaW9uYWxpZGFkIGLDoXNpY2EgZGVsIHNpc3RlbWEgZGUgYWxlcnRhcyBhdXRvbcOhdGljYXNcbiAqL1xuXG5pbXBvcnQge1xuICBlbnRlcnByaXNlQWxlcnRTeXN0ZW0sXG4gIEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMsXG4gIEVudGVycHJpc2VBbGVydFV0aWxzLFxufSBmcm9tICdAL2xpYi9tb25pdG9yaW5nL2VudGVycHJpc2UtYWxlcnQtc3lzdGVtJ1xuXG4vLyBNb2NrIGRlIGRlcGVuZGVuY2lhc1xuamVzdC5tb2NrKCdAL2xpYi9zZWN1cml0eS9lbnRlcnByaXNlLWF1ZGl0LXN5c3RlbScsICgpID0+ICh7XG4gIGVudGVycHJpc2VBdWRpdFN5c3RlbToge1xuICAgIGxvZ0VudGVycHJpc2VFdmVudDogamVzdC5mbigpLFxuICB9LFxufSkpXG5cbmplc3QubW9jaygnQC9saWIvcmF0ZS1saW1pdGluZy9lbnRlcnByaXNlLXJhdGUtbGltaXRlcicsICgpID0+ICh7XG4gIG1ldHJpY3NDb2xsZWN0b3I6IHtcbiAgICBnZXRNZXRyaWNzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICB0b3RhbFJlcXVlc3RzOiAxMDAwLFxuICAgICAgYmxvY2tlZFJlcXVlc3RzOiA1MCxcbiAgICAgIGFsbG93ZWRSZXF1ZXN0czogOTUwLFxuICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogNDUsXG4gICAgICBlcnJvcnM6IDUsXG4gICAgfSkpLFxuICB9LFxufSkpXG5cbmplc3QubW9jaygnQC9saWIvb3B0aW1pemF0aW9uL2VudGVycHJpc2UtY2FjaGUtc3lzdGVtJywgKCkgPT4gKHtcbiAgZW50ZXJwcmlzZUNhY2hlU3lzdGVtOiB7XG4gICAgZ2V0TWV0cmljczogamVzdC5mbigoKSA9PiAoe1xuICAgICAgdGVzdF9rZXk6IHtcbiAgICAgICAgaGl0czogMTAwLFxuICAgICAgICBtaXNzZXM6IDIwLFxuICAgICAgICBhdmdSZXNwb25zZVRpbWU6IDE1LFxuICAgICAgICBlcnJvcnM6IDEsXG4gICAgICB9LFxuICAgIH0pKSxcbiAgfSxcbn0pKVxuXG5kZXNjcmliZSgnU2lzdGVtYSBFbnRlcnByaXNlIGRlIEFsZXJ0YXMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1JlZ2xhcyBkZSBBbGVydGEgUHJlZGVmaW5pZGFzJywgKCkgPT4ge1xuICAgIHRlc3QoJ2RlYmUgdGVuZXIgNiByZWdsYXMgcHJlZGVmaW5pZGFzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMpLnRvSGF2ZUxlbmd0aCg2KVxuICAgIH0pXG5cbiAgICB0ZXN0KCdkZWJlIHRlbmVyIHJlZ2xhIGRlIGFsdG8gbsO6bWVybyBkZSByZXF1ZXN0cyBibG9xdWVhZG9zJywgKCkgPT4ge1xuICAgICAgY29uc3QgcnVsZSA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmluZChyID0+IHIuaWQgPT09ICdzZWN1cml0eV9oaWdoX2Jsb2NrZWRfcmVxdWVzdHMnKVxuICAgICAgZXhwZWN0KHJ1bGUpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChydWxlPy5jYXRlZ29yeSkudG9CZSgnc2VjdXJpdHknKVxuICAgICAgZXhwZWN0KHJ1bGU/LnNldmVyaXR5KS50b0JlKCdoaWdoJylcbiAgICAgIGV4cGVjdChydWxlPy5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgdGVuZXIgcmVnbGEgZGUgZXZlbnRvcyBjcsOtdGljb3MgZGUgc2VndXJpZGFkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcnVsZSA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmluZChyID0+IHIuaWQgPT09ICdzZWN1cml0eV9jcml0aWNhbF9ldmVudHMnKVxuICAgICAgZXhwZWN0KHJ1bGUpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChydWxlPy5jYXRlZ29yeSkudG9CZSgnc2VjdXJpdHknKVxuICAgICAgZXhwZWN0KHJ1bGU/LnNldmVyaXR5KS50b0JlKCdjcml0aWNhbCcpXG4gICAgICBleHBlY3QocnVsZT8uZW5hYmxlZCkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdkZWJlIHRlbmVyIHJlZ2xhIGRlIHRpZW1wbyBkZSByZXNwdWVzdGEgYWx0bycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJ1bGUgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbmQociA9PiByLmlkID09PSAncGVyZm9ybWFuY2VfaGlnaF9yZXNwb25zZV90aW1lJylcbiAgICAgIGV4cGVjdChydWxlKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocnVsZT8uY2F0ZWdvcnkpLnRvQmUoJ3BlcmZvcm1hbmNlJylcbiAgICAgIGV4cGVjdChydWxlPy5zZXZlcml0eSkudG9CZSgnbWVkaXVtJylcbiAgICAgIGV4cGVjdChydWxlPy5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgdGVuZXIgcmVnbGEgZGUgYmFqYSB0YXNhIGRlIGhpdCBkZSBjYWNoZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJ1bGUgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbmQociA9PiByLmlkID09PSAncGVyZm9ybWFuY2VfbG93X2NhY2hlX2hpdF9yYXRlJylcbiAgICAgIGV4cGVjdChydWxlKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocnVsZT8uY2F0ZWdvcnkpLnRvQmUoJ3BlcmZvcm1hbmNlJylcbiAgICAgIGV4cGVjdChydWxlPy5zZXZlcml0eSkudG9CZSgnbWVkaXVtJylcbiAgICAgIGV4cGVjdChydWxlPy5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgdGVuZXIgcmVnbGEgZGUgYWx0byB1c28gZGUgbWVtb3JpYScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJ1bGUgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbmQociA9PiByLmlkID09PSAnY2FwYWNpdHlfaGlnaF9tZW1vcnlfdXNhZ2UnKVxuICAgICAgZXhwZWN0KHJ1bGUpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChydWxlPy5jYXRlZ29yeSkudG9CZSgnY2FwYWNpdHknKVxuICAgICAgZXhwZWN0KHJ1bGU/LnNldmVyaXR5KS50b0JlKCdoaWdoJylcbiAgICAgIGV4cGVjdChydWxlPy5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgdGVuZXIgcmVnbGEgZGUgYWx0YSB0YXNhIGRlIGVycm9yZXMgNXh4JywgKCkgPT4ge1xuICAgICAgY29uc3QgcnVsZSA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmluZChyID0+IHIuaWQgPT09ICdlcnJvcl9oaWdoXzV4eF9yYXRlJylcbiAgICAgIGV4cGVjdChydWxlKS50b0JlRGVmaW5lZCgpXG4gICAgICBleHBlY3QocnVsZT8uY2F0ZWdvcnkpLnRvQmUoJ2Vycm9yJylcbiAgICAgIGV4cGVjdChydWxlPy5zZXZlcml0eSkudG9CZSgnaGlnaCcpXG4gICAgICBleHBlY3QocnVsZT8uZW5hYmxlZCkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0NvbmZpZ3VyYWNpw7NuIGRlIFJlZ2xhcycsICgpID0+IHtcbiAgICB0ZXN0KCd0b2RhcyBsYXMgcmVnbGFzIGRlYmVuIHRlbmVyIGNvbmZpZ3VyYWNpw7NuIHbDoWxpZGEnLCAoKSA9PiB7XG4gICAgICBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgIGV4cGVjdChydWxlLmlkKS50b0JlRGVmaW5lZCgpXG4gICAgICAgIGV4cGVjdChydWxlLm5hbWUpLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KHJ1bGUuZGVzY3JpcHRpb24pLnRvQmVEZWZpbmVkKClcbiAgICAgICAgZXhwZWN0KFsnc2VjdXJpdHknLCAncGVyZm9ybWFuY2UnLCAnYXZhaWxhYmlsaXR5JywgJ2NhcGFjaXR5JywgJ2Vycm9yJ10pLnRvQ29udGFpbihcbiAgICAgICAgICBydWxlLmNhdGVnb3J5XG4gICAgICAgIClcbiAgICAgICAgZXhwZWN0KFsnbG93JywgJ21lZGl1bScsICdoaWdoJywgJ2NyaXRpY2FsJ10pLnRvQ29udGFpbihydWxlLnNldmVyaXR5KVxuICAgICAgICBleHBlY3QodHlwZW9mIHJ1bGUuZW5hYmxlZCkudG9CZSgnYm9vbGVhbicpXG4gICAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJ1bGUuY29uZGl0aW9ucykpLnRvQmUodHJ1ZSlcbiAgICAgICAgZXhwZWN0KHJ1bGUuY29uZGl0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShydWxlLm5vdGlmaWNhdGlvbkNoYW5uZWxzKSkudG9CZSh0cnVlKVxuICAgICAgICBleHBlY3QocnVsZS5ub3RpZmljYXRpb25DaGFubmVscy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICBleHBlY3QodHlwZW9mIHJ1bGUuY29vbGRvd25NaW51dGVzKS50b0JlKCdudW1iZXInKVxuICAgICAgICBleHBlY3QocnVsZS5jb29sZG93bk1pbnV0ZXMpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnY29uZGljaW9uZXMgZGViZW4gdGVuZXIgY29uZmlndXJhY2nDs24gdsOhbGlkYScsICgpID0+IHtcbiAgICAgIEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgcnVsZS5jb25kaXRpb25zLmZvckVhY2goY29uZGl0aW9uID0+IHtcbiAgICAgICAgICBleHBlY3QoY29uZGl0aW9uLm1ldHJpYykudG9CZURlZmluZWQoKVxuICAgICAgICAgIGV4cGVjdChbJ2d0JywgJ2x0JywgJ2VxJywgJ2d0ZScsICdsdGUnLCAnY29udGFpbnMnLCAnbm90X2NvbnRhaW5zJ10pLnRvQ29udGFpbihcbiAgICAgICAgICAgIGNvbmRpdGlvbi5vcGVyYXRvclxuICAgICAgICAgIClcbiAgICAgICAgICBleHBlY3QoY29uZGl0aW9uLnRocmVzaG9sZCkudG9CZURlZmluZWQoKVxuICAgICAgICAgIGV4cGVjdCh0eXBlb2YgY29uZGl0aW9uLnRpbWVXaW5kb3cpLnRvQmUoJ251bWJlcicpXG4gICAgICAgICAgZXhwZWN0KGNvbmRpdGlvbi50aW1lV2luZG93KS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgICAgICBleHBlY3QodHlwZW9mIGNvbmRpdGlvbi5ldmFsdWF0aW9uSW50ZXJ2YWwpLnRvQmUoJ251bWJlcicpXG4gICAgICAgICAgZXhwZWN0KGNvbmRpdGlvbi5ldmFsdWF0aW9uSW50ZXJ2YWwpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnY2FuYWxlcyBkZSBub3RpZmljYWNpw7NuIGRlYmVuIHRlbmVyIGNvbmZpZ3VyYWNpw7NuIHbDoWxpZGEnLCAoKSA9PiB7XG4gICAgICBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgIHJ1bGUubm90aWZpY2F0aW9uQ2hhbm5lbHMuZm9yRWFjaChjaGFubmVsID0+IHtcbiAgICAgICAgICBleHBlY3QoWydlbWFpbCcsICdzbGFjaycsICd3ZWJob29rJywgJ3NtcycsICdkYXNoYm9hcmQnXSkudG9Db250YWluKGNoYW5uZWwudHlwZSlcbiAgICAgICAgICBleHBlY3QodHlwZW9mIGNoYW5uZWwuY29uZmlnKS50b0JlKCdvYmplY3QnKVxuICAgICAgICAgIGV4cGVjdCh0eXBlb2YgY2hhbm5lbC5lbmFibGVkKS50b0JlKCdib29sZWFuJylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnSW5pY2lhbGl6YWNpw7NuIGRlbCBTaXN0ZW1hJywgKCkgPT4ge1xuICAgIHRlc3QoJ2RlYmUgaW5pY2lhbGl6YXIgY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChlbnRlcnByaXNlQWxlcnRTeXN0ZW0uaW5pdGlhbGl6ZSgpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgc2VyIHNpbmdsZXRvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMSA9IGVudGVycHJpc2VBbGVydFN5c3RlbVxuICAgICAgY29uc3QgaW5zdGFuY2UyID0gZW50ZXJwcmlzZUFsZXJ0U3lzdGVtXG4gICAgICBleHBlY3QoaW5zdGFuY2UxKS50b0JlKGluc3RhbmNlMilcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdHZXN0acOzbiBkZSBBbGVydGFzJywgKCkgPT4ge1xuICAgIHRlc3QoJ2RlYmUgb2J0ZW5lciBhbGVydGFzIGFjdGl2YXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3RpdmVBbGVydHMgPSBlbnRlcnByaXNlQWxlcnRTeXN0ZW0uZ2V0QWN0aXZlQWxlcnRzKClcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGFjdGl2ZUFsZXJ0cykpLnRvQmUodHJ1ZSlcbiAgICB9KVxuXG4gICAgdGVzdCgnZGViZSBvYnRlbmVyIG3DqXRyaWNhcyBkZSBhbGVydGFzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWV0cmljcyA9IGVudGVycHJpc2VBbGVydFN5c3RlbS5nZXRBbGVydE1ldHJpY3MoKVxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWV0cmljcy50b3RhbEFsZXJ0cykudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWV0cmljcy5hY3RpdmVBbGVydHMpLnRvQmUoJ251bWJlcicpXG4gICAgICBleHBlY3QodHlwZW9mIG1ldHJpY3MuYXZlcmFnZVJlc29sdXRpb25UaW1lKS50b0JlKCdudW1iZXInKVxuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmZhbHNlUG9zaXRpdmVSYXRlKS50b0JlKCdudW1iZXInKVxuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmFsZXJ0c0J5Q2F0ZWdvcnkpLnRvQmUoJ29iamVjdCcpXG4gICAgICBleHBlY3QodHlwZW9mIG1ldHJpY3MuYWxlcnRzQnlTZXZlcml0eSkudG9CZSgnb2JqZWN0JylcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdVdGlsaWRhZGVzIGRlIEFsZXJ0YXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnRW50ZXJwcmlzZUFsZXJ0VXRpbHMgZGViZSBlc3RhciBkZWZpbmlkbycsICgpID0+IHtcbiAgICAgIGV4cGVjdChFbnRlcnByaXNlQWxlcnRVdGlscykudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHR5cGVvZiBFbnRlcnByaXNlQWxlcnRVdGlscy5jcmVhdGVNYW51YWxBbGVydCkudG9CZSgnZnVuY3Rpb24nKVxuICAgICAgZXhwZWN0KHR5cGVvZiBFbnRlcnByaXNlQWxlcnRVdGlscy5nZXRBbGVydHNCeUNhdGVnb3J5KS50b0JlKCdmdW5jdGlvbicpXG4gICAgICBleHBlY3QodHlwZW9mIEVudGVycHJpc2VBbGVydFV0aWxzLmdldEFsZXJ0c0J5U2V2ZXJpdHkpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICB9KVxuXG4gICAgdGVzdCgnZGViZSBjcmVhciBhbGVydGEgbWFudWFsJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWxlcnRJZCA9IGF3YWl0IEVudGVycHJpc2VBbGVydFV0aWxzLmNyZWF0ZU1hbnVhbEFsZXJ0KFxuICAgICAgICAnVGVzdCBBbGVydCcsXG4gICAgICAgICdUZXN0IERlc2NyaXB0aW9uJyxcbiAgICAgICAgJ21lZGl1bScsXG4gICAgICAgICdhdmFpbGFiaWxpdHknLFxuICAgICAgICAndGVzdF91c2VyJ1xuICAgICAgKVxuXG4gICAgICBleHBlY3QodHlwZW9mIGFsZXJ0SWQpLnRvQmUoJ3N0cmluZycpXG4gICAgICBleHBlY3QoYWxlcnRJZCkudG9NYXRjaCgvXm1hbnVhbF8vKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0NhdGVnb3LDrWFzIHkgU2V2ZXJpZGFkZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgnZGViZSB0ZW5lciBhbGVydGFzIGRlIHRvZGFzIGxhcyBjYXRlZ29yw61hcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBbJ3NlY3VyaXR5JywgJ3BlcmZvcm1hbmNlJywgJ2NhcGFjaXR5JywgJ2Vycm9yJ11cbiAgICAgIGNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgIGNvbnN0IHJ1bGVzSW5DYXRlZ29yeSA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmlsdGVyKHIgPT4gci5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpXG4gICAgICAgIGV4cGVjdChydWxlc0luQ2F0ZWdvcnkubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ2RlYmUgdGVuZXIgYWxlcnRhcyBkZSBkaWZlcmVudGVzIHNldmVyaWRhZGVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V2ZXJpdGllcyA9IFsnbWVkaXVtJywgJ2hpZ2gnLCAnY3JpdGljYWwnXVxuICAgICAgc2V2ZXJpdGllcy5mb3JFYWNoKHNldmVyaXR5ID0+IHtcbiAgICAgICAgY29uc3QgcnVsZXNXaXRoU2V2ZXJpdHkgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbHRlcihyID0+IHIuc2V2ZXJpdHkgPT09IHNldmVyaXR5KVxuICAgICAgICBleHBlY3QocnVsZXNXaXRoU2V2ZXJpdHkubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRXNjYWxhbWllbnRvIGRlIEFsZXJ0YXMnLCAoKSA9PiB7XG4gICAgdGVzdCgncmVnbGFzIGNyw610aWNhcyBkZWJlbiB0ZW5lciBlc2NhbGFtaWVudG8gY29uZmlndXJhZG8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjcml0aWNhbFJ1bGVzID0gRU5URVJQUklTRV9BTEVSVF9SVUxFUy5maWx0ZXIociA9PiByLnNldmVyaXR5ID09PSAnY3JpdGljYWwnKVxuICAgICAgY3JpdGljYWxSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICAvLyBMYXMgcmVnbGFzIGNyw610aWNhcyBwdWVkZW4gdGVuZXIgZXNjYWxhbWllbnRvXG4gICAgICAgIGlmIChydWxlLmVzY2FsYXRpb25SdWxlcykge1xuICAgICAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJ1bGUuZXNjYWxhdGlvblJ1bGVzKSkudG9CZSh0cnVlKVxuICAgICAgICAgIHJ1bGUuZXNjYWxhdGlvblJ1bGVzLmZvckVhY2goZXNjYWxhdGlvbiA9PiB7XG4gICAgICAgICAgICBleHBlY3QodHlwZW9mIGVzY2FsYXRpb24uYWZ0ZXJNaW51dGVzKS50b0JlKCdudW1iZXInKVxuICAgICAgICAgICAgZXhwZWN0KGVzY2FsYXRpb24uYWZ0ZXJNaW51dGVzKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICAgICAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddKS50b0NvbnRhaW4oZXNjYWxhdGlvbi5zZXZlcml0eSlcbiAgICAgICAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGVzY2FsYXRpb24uYWRkaXRpb25hbENoYW5uZWxzKSkudG9CZSh0cnVlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ3JlZ2xhcyBkZSBhbHRhIHNldmVyaWRhZCBkZWJlbiB0ZW5lciBlc2NhbGFtaWVudG8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBoaWdoU2V2ZXJpdHlSdWxlcyA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmlsdGVyKHIgPT4gci5zZXZlcml0eSA9PT0gJ2hpZ2gnKVxuICAgICAgaGlnaFNldmVyaXR5UnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBsYXMgcmVnbGFzIGRlIGFsdGEgc2V2ZXJpZGFkIHRlbmdhbiBjb25maWd1cmFjacOzbiBhcHJvcGlhZGFcbiAgICAgICAgZXhwZWN0KHJ1bGUuY29vbGRvd25NaW51dGVzKS50b0JlTGVzc1RoYW5PckVxdWFsKDMwKSAvLyBDb29sZG93biBjb3J0byBwYXJhIGFsdGEgc2V2ZXJpZGFkXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0NhbmFsZXMgZGUgTm90aWZpY2FjacOzbicsICgpID0+IHtcbiAgICB0ZXN0KCdkZWJlIHRlbmVyIGNvbmZpZ3VyYWNpw7NuIGRlIGVtYWlsIHBhcmEgYWxlcnRhcyBpbXBvcnRhbnRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGltcG9ydGFudFJ1bGVzID0gRU5URVJQUklTRV9BTEVSVF9SVUxFUy5maWx0ZXIoXG4gICAgICAgIHIgPT4gci5zZXZlcml0eSA9PT0gJ2NyaXRpY2FsJyB8fCByLnNldmVyaXR5ID09PSAnaGlnaCdcbiAgICAgIClcblxuICAgICAgaW1wb3J0YW50UnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgY29uc3QgaGFzRW1haWwgPSBydWxlLm5vdGlmaWNhdGlvbkNoYW5uZWxzLnNvbWUoYyA9PiBjLnR5cGUgPT09ICdlbWFpbCcpXG4gICAgICAgIGV4cGVjdChoYXNFbWFpbCkudG9CZSh0cnVlKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgnZGViZSB0ZW5lciBjb25maWd1cmFjacOzbiBkZSBTTVMgcGFyYSBhbGVydGFzIGNyw610aWNhcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNyaXRpY2FsUnVsZXMgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbHRlcihyID0+IHIuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcpXG5cbiAgICAgIGNyaXRpY2FsUnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgY29uc3QgaGFzU01TID1cbiAgICAgICAgICBydWxlLm5vdGlmaWNhdGlvbkNoYW5uZWxzLnNvbWUoYyA9PiBjLnR5cGUgPT09ICdzbXMnKSB8fFxuICAgICAgICAgIChydWxlLmVzY2FsYXRpb25SdWxlcyAmJlxuICAgICAgICAgICAgcnVsZS5lc2NhbGF0aW9uUnVsZXMuc29tZShlID0+IGUuYWRkaXRpb25hbENoYW5uZWxzLnNvbWUoYyA9PiBjLnR5cGUgPT09ICdzbXMnKSkpXG4gICAgICAgIGV4cGVjdChoYXNTTVMpLnRvQmUodHJ1ZSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRlc3QoJ3RvZGFzIGxhcyByZWdsYXMgZGViZW4gdGVuZXIgZGFzaGJvYXJkIGhhYmlsaXRhZG8nLCAoKSA9PiB7XG4gICAgICBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc0Rhc2hib2FyZCA9IHJ1bGUubm90aWZpY2F0aW9uQ2hhbm5lbHMuc29tZShjID0+IGMudHlwZSA9PT0gJ2Rhc2hib2FyZCcpXG4gICAgICAgIC8vIERhc2hib2FyZCBlcyBvcGNpb25hbCwgcGVybyBzaSBlc3TDoSBwcmVzZW50ZSBkZWJlIGVzdGFyIGhhYmlsaXRhZG9cbiAgICAgICAgaWYgKGhhc0Rhc2hib2FyZCkge1xuICAgICAgICAgIGNvbnN0IGRhc2hib2FyZENoYW5uZWwgPSBydWxlLm5vdGlmaWNhdGlvbkNoYW5uZWxzLmZpbmQoYyA9PiBjLnR5cGUgPT09ICdkYXNoYm9hcmQnKVxuICAgICAgICAgIGV4cGVjdChkYXNoYm9hcmRDaGFubmVsPy5lbmFibGVkKS50b0JlKHRydWUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnTcOpdHJpY2FzIHkgVW1icmFsZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgndW1icmFsZXMgZGViZW4gc2VyIHJlYWxpc3RhcyBwYXJhIG3DqXRyaWNhcyBkZSBwZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHBlcmZvcm1hbmNlUnVsZXMgPSBFTlRFUlBSSVNFX0FMRVJUX1JVTEVTLmZpbHRlcihyID0+IHIuY2F0ZWdvcnkgPT09ICdwZXJmb3JtYW5jZScpXG5cbiAgICAgIHBlcmZvcm1hbmNlUnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgcnVsZS5jb25kaXRpb25zLmZvckVhY2goY29uZGl0aW9uID0+IHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uLm1ldHJpYy5pbmNsdWRlcygncmVzcG9uc2VfdGltZScpKSB7XG4gICAgICAgICAgICAvLyBUaWVtcG8gZGUgcmVzcHVlc3RhIGVuIG1zLCBkZWJlIHNlciByYXpvbmFibGVcbiAgICAgICAgICAgIGV4cGVjdChOdW1iZXIoY29uZGl0aW9uLnRocmVzaG9sZCkpLnRvQmVHcmVhdGVyVGhhbigxMDApXG4gICAgICAgICAgICBleHBlY3QoTnVtYmVyKGNvbmRpdGlvbi50aHJlc2hvbGQpKS50b0JlTGVzc1RoYW4oMTAwMDApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbmRpdGlvbi5tZXRyaWMuaW5jbHVkZXMoJ2hpdF9yYXRlJykpIHtcbiAgICAgICAgICAgIC8vIEhpdCByYXRlIGRlYmUgc2VyIHVuIHBvcmNlbnRhamUgdsOhbGlkb1xuICAgICAgICAgICAgZXhwZWN0KE51bWJlcihjb25kaXRpb24udGhyZXNob2xkKSkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgICAgICAgICBleHBlY3QoTnVtYmVyKGNvbmRpdGlvbi50aHJlc2hvbGQpKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGVzdCgndW1icmFsZXMgZGViZW4gc2VyIGFwcm9waWFkb3MgcGFyYSBtw6l0cmljYXMgZGUgc2VndXJpZGFkJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VjdXJpdHlSdWxlcyA9IEVOVEVSUFJJU0VfQUxFUlRfUlVMRVMuZmlsdGVyKHIgPT4gci5jYXRlZ29yeSA9PT0gJ3NlY3VyaXR5JylcblxuICAgICAgc2VjdXJpdHlSdWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICBydWxlLmNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgIGlmIChjb25kaXRpb24ubWV0cmljLmluY2x1ZGVzKCdibG9ja2VkX3JlcXVlc3RzJykpIHtcbiAgICAgICAgICAgIC8vIE7Dum1lcm8gZGUgcmVxdWVzdHMgYmxvcXVlYWRvcyBkZWJlIHNlciBwb3NpdGl2b1xuICAgICAgICAgICAgZXhwZWN0KE51bWJlcihjb25kaXRpb24udGhyZXNob2xkKSkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbmRpdGlvbi5tZXRyaWMuaW5jbHVkZXMoJ2NyaXRpY2FsX2V2ZW50cycpKSB7XG4gICAgICAgICAgICAvLyBFdmVudG9zIGNyw610aWNvcyBkZWJlbiB0ZW5lciB1bWJyYWwgYmFqb1xuICAgICAgICAgICAgZXhwZWN0KE51bWJlcihjb25kaXRpb24udGhyZXNob2xkKSkudG9CZUxlc3NUaGFuKDIwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJlbnRlcnByaXNlQXVkaXRTeXN0ZW0iLCJsb2dFbnRlcnByaXNlRXZlbnQiLCJmbiIsIm1ldHJpY3NDb2xsZWN0b3IiLCJnZXRNZXRyaWNzIiwidG90YWxSZXF1ZXN0cyIsImJsb2NrZWRSZXF1ZXN0cyIsImFsbG93ZWRSZXF1ZXN0cyIsImF2ZXJhZ2VSZXNwb25zZVRpbWUiLCJlcnJvcnMiLCJlbnRlcnByaXNlQ2FjaGVTeXN0ZW0iLCJ0ZXN0X2tleSIsImhpdHMiLCJtaXNzZXMiLCJhdmdSZXNwb25zZVRpbWUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwidGVzdCIsImV4cGVjdCIsIkVOVEVSUFJJU0VfQUxFUlRfUlVMRVMiLCJ0b0hhdmVMZW5ndGgiLCJydWxlIiwiZmluZCIsInIiLCJpZCIsInRvQmVEZWZpbmVkIiwiY2F0ZWdvcnkiLCJ0b0JlIiwic2V2ZXJpdHkiLCJlbmFibGVkIiwiZm9yRWFjaCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInRvQ29udGFpbiIsIkFycmF5IiwiaXNBcnJheSIsImNvbmRpdGlvbnMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJub3RpZmljYXRpb25DaGFubmVscyIsImNvb2xkb3duTWludXRlcyIsImNvbmRpdGlvbiIsIm1ldHJpYyIsIm9wZXJhdG9yIiwidGhyZXNob2xkIiwidGltZVdpbmRvdyIsImV2YWx1YXRpb25JbnRlcnZhbCIsImNoYW5uZWwiLCJ0eXBlIiwiY29uZmlnIiwiZW50ZXJwcmlzZUFsZXJ0U3lzdGVtIiwiaW5pdGlhbGl6ZSIsInJlc29sdmVzIiwibm90IiwidG9UaHJvdyIsImluc3RhbmNlMSIsImluc3RhbmNlMiIsImFjdGl2ZUFsZXJ0cyIsImdldEFjdGl2ZUFsZXJ0cyIsIm1ldHJpY3MiLCJnZXRBbGVydE1ldHJpY3MiLCJ0b3RhbEFsZXJ0cyIsImF2ZXJhZ2VSZXNvbHV0aW9uVGltZSIsImZhbHNlUG9zaXRpdmVSYXRlIiwiYWxlcnRzQnlDYXRlZ29yeSIsImFsZXJ0c0J5U2V2ZXJpdHkiLCJFbnRlcnByaXNlQWxlcnRVdGlscyIsImNyZWF0ZU1hbnVhbEFsZXJ0IiwiZ2V0QWxlcnRzQnlDYXRlZ29yeSIsImdldEFsZXJ0c0J5U2V2ZXJpdHkiLCJhbGVydElkIiwidG9NYXRjaCIsImNhdGVnb3JpZXMiLCJydWxlc0luQ2F0ZWdvcnkiLCJmaWx0ZXIiLCJzZXZlcml0aWVzIiwicnVsZXNXaXRoU2V2ZXJpdHkiLCJjcml0aWNhbFJ1bGVzIiwiZXNjYWxhdGlvblJ1bGVzIiwiZXNjYWxhdGlvbiIsImFmdGVyTWludXRlcyIsImFkZGl0aW9uYWxDaGFubmVscyIsImhpZ2hTZXZlcml0eVJ1bGVzIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImltcG9ydGFudFJ1bGVzIiwiaGFzRW1haWwiLCJzb21lIiwiYyIsImhhc1NNUyIsImUiLCJoYXNEYXNoYm9hcmQiLCJkYXNoYm9hcmRDaGFubmVsIiwicGVyZm9ybWFuY2VSdWxlcyIsImluY2x1ZGVzIiwiTnVtYmVyIiwidG9CZUxlc3NUaGFuIiwic2VjdXJpdHlSdWxlcyJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBUUQsdUJBQXVCO0FBQ3ZCQSxLQUFLQyxJQUFJLENBQUMsMENBQTBDLElBQU8sQ0FBQTtRQUN6REMsdUJBQXVCO1lBQ3JCQyxvQkFBb0JILEtBQUtJLEVBQUU7UUFDN0I7SUFDRixDQUFBO0FBRUFKLEtBQUtDLElBQUksQ0FBQywrQ0FBK0MsSUFBTyxDQUFBO1FBQzlESSxrQkFBa0I7WUFDaEJDLFlBQVlOLEtBQUtJLEVBQUUsQ0FBQyxJQUFPLENBQUE7b0JBQ3pCRyxlQUFlO29CQUNmQyxpQkFBaUI7b0JBQ2pCQyxpQkFBaUI7b0JBQ2pCQyxxQkFBcUI7b0JBQ3JCQyxRQUFRO2dCQUNWLENBQUE7UUFDRjtJQUNGLENBQUE7QUFFQVgsS0FBS0MsSUFBSSxDQUFDLDhDQUE4QyxJQUFPLENBQUE7UUFDN0RXLHVCQUF1QjtZQUNyQk4sWUFBWU4sS0FBS0ksRUFBRSxDQUFDLElBQU8sQ0FBQTtvQkFDekJTLFVBQVU7d0JBQ1JDLE1BQU07d0JBQ05DLFFBQVE7d0JBQ1JDLGlCQUFpQjt3QkFDakJMLFFBQVE7b0JBQ1Y7Z0JBQ0YsQ0FBQTtRQUNGO0lBQ0YsQ0FBQTs7Ozt1Q0FoQ087QUFrQ1BNLFNBQVMsaUNBQWlDO0lBQ3hDQyxXQUFXO1FBQ1Rs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