35ba91ab9e33c2cd1d8655539100bb14
// ===================================
// PINTEYA E-COMMERCE - MERCADOPAGO WALLET BRICK
// ===================================
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get MercadoPagoWalletFallback () {
        return MercadoPagoWalletFallback;
    },
    get default () {
        return MercadoPagoWallet;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _card = require("../ui/card");
const _button = require("../ui/button");
const _badge = require("../ui/badge");
const _lucidereact = require("lucide-react");
function MercadoPagoWallet({ preferenceId, onReady, onError, onSubmit, className = '' }) {
    const walletRef = (0, _react.useRef)(null);
    const [isLoading, setIsLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const [isReady, setIsReady] = (0, _react.useState)(false);
    const [sdkLoaded, setSdkLoaded] = (0, _react.useState)(false);
    // Verificar si el SDK ya estÃ¡ cargado
    (0, _react.useEffect)(()=>{
        // âœ… NUEVO: Verificar que estamos en la pÃ¡gina correcta antes de cargar el SDK
        if (typeof window !== 'undefined') {
            const currentPath = window.location.pathname;
            if (currentPath.includes('/checkout/success') || currentPath.includes('/checkout/failure') || currentPath.includes('/checkout/pending')) {
                console.log('ðŸš« SDK de MercadoPago no se carga en pÃ¡ginas de resultado');
                return;
            }
        }
        if (window.MercadoPago) {
            setSdkLoaded(true);
            return;
        }
        // Verificar si ya existe un script del SDK
        const existingScript = document.querySelector('script[src*="sdk.mercadopago.com"]');
        if (existingScript) {
            existingScript.addEventListener('load', ()=>setSdkLoaded(true));
            return;
        }
        // Cargar el SDK de MercadoPago
        const script = document.createElement('script');
        script.src = 'https://sdk.mercadopago.com/js/v2';
        script.async = true;
        script.onload = ()=>{
            setSdkLoaded(true);
        };
        script.onerror = ()=>{
            setError('Error al cargar el SDK de MercadoPago');
            setIsLoading(false);
            onError?.('Error al cargar el SDK de MercadoPago');
        };
        document.head.appendChild(script);
        return ()=>{
        // No remover el script para evitar problemas de recarga
        };
    }, [
        onError
    ]);
    // Inicializar el Wallet Brick cuando el SDK estÃ© listo
    (0, _react.useEffect)(()=>{
        if (!sdkLoaded || !preferenceId) {
            return;
        }
        // âœ… NUEVO: Verificar que estamos en la pÃ¡gina correcta
        // No inicializar el Wallet Brick en pÃ¡ginas de resultado
        if (typeof window !== 'undefined') {
            const currentPath = window.location.pathname;
            if (currentPath.includes('/checkout/success') || currentPath.includes('/checkout/failure') || currentPath.includes('/checkout/pending')) {
                console.log('ðŸš« Wallet Brick no se inicializa en pÃ¡ginas de resultado');
                return;
            }
        }
        const initializeWallet = async ()=>{
            try {
                setIsLoading(true);
                setError(null);
                // Verificar que tenemos la clave pÃºblica
                const publicKey = process.env.NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY;
                if (!publicKey) {
                    throw new Error('Clave pÃºblica de MercadoPago no configurada');
                }
                // Verificar que el contenedor existe antes de inicializar
                const container = document.getElementById('wallet_container');
                if (!container) {
                    console.warn('âš ï¸ Contenedor wallet_container no encontrado, cancelando inicializaciÃ³n');
                    return;
                }
                // Inicializar MercadoPago
                const mp = new window.MercadoPago(publicKey);
                // Limpiar contenedor anterior si existe
                container.innerHTML = '';
                // Crear el Wallet Brick con manejo de errores mejorado
                try {
                    await mp.bricks().create('wallet', 'wallet_container', {
                        initialization: {
                            preferenceId: preferenceId,
                            redirectMode: 'self'
                        },
                        callbacks: {
                            onReady: ()=>{
                                setIsLoading(false);
                                setIsReady(true);
                                onReady?.();
                            },
                            onError: (error)=>{
                                console.error('Error en Wallet Brick:', error);
                                setError(error.message || 'Error en el procesamiento del pago');
                                setIsLoading(false);
                                onError?.(error);
                            },
                            onSubmit: (data)=>{
                                onSubmit?.(data);
                            }
                        },
                        customization: {
                            texts: {
                                valueProp: 'smart_option'
                            },
                            visual: {
                                buttonBackground: 'default',
                                borderRadius: '8px'
                            }
                        }
                    });
                } catch (brickError) {
                    // Manejo especÃ­fico de errores del Wallet Brick
                    if (brickError.message?.includes('wallet_container') || brickError.message?.includes('container')) {
                        console.warn('âš ï¸ Contenedor wallet_container no disponible, esto es normal en pÃ¡ginas de resultado');
                        return; // Salir silenciosamente
                    }
                    throw brickError // Re-lanzar otros errores
                    ;
                }
            } catch (error) {
                console.error('Error inicializando Wallet Brick:', error);
                setError(error.message || 'Error inicializando el sistema de pagos');
                setIsLoading(false);
                onError?.(error);
            }
        };
        initializeWallet();
    }, [
        sdkLoaded,
        preferenceId,
        onReady,
        onError,
        onSubmit
    ]);
    const handleRetry = ()=>{
        setError(null);
        setIsLoading(true);
        setIsReady(false);
        // Recargar la pÃ¡gina para reiniciar el proceso
        window.location.reload();
    };
    const isMobileOptimized = className?.includes('mobile-optimized');
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        className: `w-full shadow-lg ${className}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                className: cn('bg-gradient-to-r from-blaze-orange-50 to-yellow-50 border-b', isMobileOptimized && 'px-4 py-4'),
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: cn('flex items-center justify-between', isMobileOptimized && 'flex-col gap-3 items-start'),
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                                className: cn('flex items-center gap-2 text-blaze-orange-700', isMobileOptimized && 'text-lg'),
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                        className: cn('w-5 h-5', isMobileOptimized && 'w-4 h-4')
                                    }),
                                    "M\xe9todo de Pago Seguro"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: cn('flex items-center gap-2', isMobileOptimized && 'w-full justify-between'),
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                        variant: "secondary",
                                        className: "bg-green-100 text-green-700 text-xs",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Shield, {
                                                className: "w-3 h-3 mr-1"
                                            }),
                                            "Seguro"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                        variant: "secondary",
                                        className: "bg-blue-100 text-blue-700 text-xs",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Lock, {
                                                className: "w-3 h-3 mr-1"
                                            }),
                                            "SSL"
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: cn('text-sm text-gray-600 mt-1', isMobileOptimized && 'text-xs mt-2'),
                        children: "Completa tu pago de forma segura con MercadoPago"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                className: cn('p-6', isMobileOptimized && 'p-4'),
                children: [
                    isLoading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: cn('flex flex-col items-center justify-center py-12 space-y-6', isMobileOptimized && 'py-8 space-y-4'),
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "relative",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: cn('w-16 h-16 rounded-full bg-blaze-orange-100 flex items-center justify-center', isMobileOptimized && 'w-12 h-12'),
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                                            className: cn('w-8 h-8 animate-spin text-blaze-orange-600', isMobileOptimized && 'w-6 h-6')
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                            className: "w-3 h-3 text-gray-700"
                                        })
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-center space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "font-medium text-gray-900",
                                        children: "Cargando opciones de pago"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sm text-gray-600",
                                        children: "Preparando tu experiencia de pago segura..."
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "w-full bg-gray-200 rounded-full h-2",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "bg-blaze-orange-600 h-2 rounded-full animate-pulse",
                                    style: {
                                        width: '60%'
                                    }
                                })
                            })
                        ]
                    }),
                    error && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex flex-col items-center justify-center py-12 space-y-6",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "w-16 h-16 rounded-full bg-red-100 flex items-center justify-center",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                    className: "w-8 h-8 text-red-600"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-center space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "font-medium text-red-800",
                                        children: "Error al cargar el sistema de pagos"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sm text-red-600",
                                        children: error instanceof Error ? error.message : String(error) || 'Error desconocido'
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                onClick: handleRetry,
                                className: "bg-blaze-orange-600 hover:bg-blaze-orange-700 text-white",
                                size: "lg",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                        className: "w-4 h-4 mr-2"
                                    }),
                                    "Reintentar Carga"
                                ]
                            })
                        ]
                    }),
                    isReady && !error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center gap-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CheckCircle, {
                                    className: "w-5 h-5 text-green-600 flex-shrink-0"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "font-medium text-green-800",
                                            children: "Sistema de pagos listo"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-green-700 mt-1",
                                            children: "Selecciona tu m\xe9todo de pago preferido"
                                        })
                                    ]
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        id: "wallet_container",
                        ref: walletRef,
                        className: `min-h-[300px] rounded-lg border border-gray-200 ${isLoading || error ? 'hidden' : 'block'}`
                    }),
                    isReady && !error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-start gap-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Shield, {
                                    className: "w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "font-medium text-blue-800 mb-2",
                                            children: "Pago 100% Seguro"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-blue-700",
                                            children: "Acepta tarjetas de cr\xe9dito, d\xe9bito, efectivo y transferencias bancarias. Tus datos est\xe1n protegidos con encriptaci\xf3n de nivel bancario y certificaci\xf3n PCI DSS."
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-4 mt-3 text-xs text-blue-600",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                    className: "flex items-center gap-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Lock, {
                                                            className: "w-3 h-3"
                                                        }),
                                                        "SSL 256-bit"
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                    className: "flex items-center gap-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Shield, {
                                                            className: "w-3 h-3"
                                                        }),
                                                        "PCI DSS"
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                    className: "flex items-center gap-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CheckCircle, {
                                                            className: "w-3 h-3"
                                                        }),
                                                        "Verificado"
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        })
                    })
                ]
            })
        ]
    });
}
function MercadoPagoWalletFallback({ initPoint, className = '' }) {
    const isMobileOptimized = className?.includes('mobile-optimized');
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        className: `w-full shadow-lg ${className}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                className: cn('bg-gradient-to-r from-yellow-50 to-orange-50 border-b', isMobileOptimized && 'px-4 py-4'),
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                        className: cn('flex items-center gap-2 text-blaze-orange-700', isMobileOptimized && 'text-lg'),
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                className: cn('w-5 h-5', isMobileOptimized && 'w-4 h-4')
                            }),
                            "M\xe9todo de Pago Alternativo"
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: cn('text-sm text-gray-600 mt-1', isMobileOptimized && 'text-xs'),
                        children: "Contin\xfaa con el pago en la plataforma de MercadoPago"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                className: cn('p-6', isMobileOptimized && 'p-4'),
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: cn('text-center py-8 space-y-6', isMobileOptimized && 'py-6 space-y-4'),
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: cn('w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto', isMobileOptimized && 'w-12 h-12'),
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                className: cn('w-8 h-8 text-blue-600', isMobileOptimized && 'w-6 h-6')
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: cn('font-medium text-gray-900', isMobileOptimized && 'text-lg'),
                                    children: "Finaliza tu compra en MercadoPago"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: cn('text-sm text-gray-600', isMobileOptimized && 'text-xs'),
                                    children: "Ser\xe1s redirigido a la plataforma segura de MercadoPago para completar tu pago"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                            onClick: ()=>window.open(initPoint, '_blank'),
                            className: cn('w-full h-12 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200', isMobileOptimized && 'h-14 text-base rounded-xl active:scale-[0.98]'),
                            size: "lg",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.CreditCard, {
                                    className: cn('w-5 h-5 mr-2', isMobileOptimized && 'w-4 h-4')
                                }),
                                "Continuar con MercadoPago"
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: cn('flex items-center justify-center gap-4 text-xs text-gray-500', isMobileOptimized && 'gap-6'),
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                    className: "flex items-center gap-1",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Shield, {
                                            className: "w-3 h-3"
                                        }),
                                        "Pago Seguro"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                    className: "flex items-center gap-1",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Lock, {
                                            className: "w-3 h-3"
                                        }),
                                        "Datos Protegidos"
                                    ]
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcQ2hlY2tvdXRcXE1lcmNhZG9QYWdvV2FsbGV0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gTUVSQ0FET1BBR08gV0FMTEVUIEJSSUNLXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4ndXNlIGNsaWVudCdcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJ1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbidcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2JhZGdlJ1xuaW1wb3J0IHsgTG9hZGVyMiwgQ3JlZGl0Q2FyZCwgQWxlcnRUcmlhbmdsZSwgQ2hlY2tDaXJjbGUsIFNoaWVsZCwgTG9jayB9IGZyb20gJ2x1Y2lkZS1yZWFjdCdcblxuLy8gVGlwb3MgcGFyYSBlbCBTREsgZGUgTWVyY2Fkb1BhZ29cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgTWVyY2Fkb1BhZ286IGFueVxuICB9XG59XG5cbmludGVyZmFjZSBNZXJjYWRvUGFnb1dhbGxldFByb3BzIHtcbiAgcHJlZmVyZW5jZUlkOiBzdHJpbmdcbiAgb25SZWFkeT86ICgpID0+IHZvaWRcbiAgb25FcnJvcj86IChlcnJvcjogYW55KSA9PiB2b2lkXG4gIG9uU3VibWl0PzogKGRhdGE6IGFueSkgPT4gdm9pZFxuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWVyY2Fkb1BhZ29XYWxsZXQoe1xuICBwcmVmZXJlbmNlSWQsXG4gIG9uUmVhZHksXG4gIG9uRXJyb3IsXG4gIG9uU3VibWl0LFxuICBjbGFzc05hbWUgPSAnJyxcbn06IE1lcmNhZG9QYWdvV2FsbGV0UHJvcHMpIHtcbiAgY29uc3Qgd2FsbGV0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbaXNSZWFkeSwgc2V0SXNSZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3Nka0xvYWRlZCwgc2V0U2RrTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIC8vIFZlcmlmaWNhciBzaSBlbCBTREsgeWEgZXN0w6EgY2FyZ2Fkb1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIOKchSBOVUVWTzogVmVyaWZpY2FyIHF1ZSBlc3RhbW9zIGVuIGxhIHDDoWdpbmEgY29ycmVjdGEgYW50ZXMgZGUgY2FyZ2FyIGVsIFNES1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgY3VycmVudFBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudFBhdGguaW5jbHVkZXMoJy9jaGVja291dC9zdWNjZXNzJykgfHxcbiAgICAgICAgY3VycmVudFBhdGguaW5jbHVkZXMoJy9jaGVja291dC9mYWlsdXJlJykgfHxcbiAgICAgICAgY3VycmVudFBhdGguaW5jbHVkZXMoJy9jaGVja291dC9wZW5kaW5nJylcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqyBTREsgZGUgTWVyY2Fkb1BhZ28gbm8gc2UgY2FyZ2EgZW4gcMOhZ2luYXMgZGUgcmVzdWx0YWRvJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5NZXJjYWRvUGFnbykge1xuICAgICAgc2V0U2RrTG9hZGVkKHRydWUpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBWZXJpZmljYXIgc2kgeWEgZXhpc3RlIHVuIHNjcmlwdCBkZWwgU0RLXG4gICAgY29uc3QgZXhpc3RpbmdTY3JpcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj1cInNkay5tZXJjYWRvcGFnby5jb21cIl0nKVxuICAgIGlmIChleGlzdGluZ1NjcmlwdCkge1xuICAgICAgZXhpc3RpbmdTY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHNldFNka0xvYWRlZCh0cnVlKSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIENhcmdhciBlbCBTREsgZGUgTWVyY2Fkb1BhZ29cbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9zZGsubWVyY2Fkb3BhZ28uY29tL2pzL3YyJ1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWVcblxuICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBzZXRTZGtMb2FkZWQodHJ1ZSlcbiAgICB9XG5cbiAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHNldEVycm9yKCdFcnJvciBhbCBjYXJnYXIgZWwgU0RLIGRlIE1lcmNhZG9QYWdvJylcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgIG9uRXJyb3I/LignRXJyb3IgYWwgY2FyZ2FyIGVsIFNESyBkZSBNZXJjYWRvUGFnbycpXG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gTm8gcmVtb3ZlciBlbCBzY3JpcHQgcGFyYSBldml0YXIgcHJvYmxlbWFzIGRlIHJlY2FyZ2FcbiAgICB9XG4gIH0sIFtvbkVycm9yXSlcblxuICAvLyBJbmljaWFsaXphciBlbCBXYWxsZXQgQnJpY2sgY3VhbmRvIGVsIFNESyBlc3TDqSBsaXN0b1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2RrTG9hZGVkIHx8ICFwcmVmZXJlbmNlSWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIOKchSBOVUVWTzogVmVyaWZpY2FyIHF1ZSBlc3RhbW9zIGVuIGxhIHDDoWdpbmEgY29ycmVjdGFcbiAgICAvLyBObyBpbmljaWFsaXphciBlbCBXYWxsZXQgQnJpY2sgZW4gcMOhZ2luYXMgZGUgcmVzdWx0YWRvXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBjdXJyZW50UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50UGF0aC5pbmNsdWRlcygnL2NoZWNrb3V0L3N1Y2Nlc3MnKSB8fFxuICAgICAgICBjdXJyZW50UGF0aC5pbmNsdWRlcygnL2NoZWNrb3V0L2ZhaWx1cmUnKSB8fFxuICAgICAgICBjdXJyZW50UGF0aC5pbmNsdWRlcygnL2NoZWNrb3V0L3BlbmRpbmcnKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qrIFdhbGxldCBCcmljayBubyBzZSBpbmljaWFsaXphIGVuIHDDoWdpbmFzIGRlIHJlc3VsdGFkbycpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGluaXRpYWxpemVXYWxsZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgc2V0RXJyb3IobnVsbClcblxuICAgICAgICAvLyBWZXJpZmljYXIgcXVlIHRlbmVtb3MgbGEgY2xhdmUgcMO6YmxpY2FcbiAgICAgICAgY29uc3QgcHVibGljS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUVSQ0FET1BBR09fUFVCTElDX0tFWVxuICAgICAgICBpZiAoIXB1YmxpY0tleSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xhdmUgcMO6YmxpY2EgZGUgTWVyY2Fkb1BhZ28gbm8gY29uZmlndXJhZGEnKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBjb250ZW5lZG9yIGV4aXN0ZSBhbnRlcyBkZSBpbmljaWFsaXphclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FsbGV0X2NvbnRhaW5lcicpXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ29udGVuZWRvciB3YWxsZXRfY29udGFpbmVyIG5vIGVuY29udHJhZG8sIGNhbmNlbGFuZG8gaW5pY2lhbGl6YWNpw7NuJylcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaWNpYWxpemFyIE1lcmNhZG9QYWdvXG4gICAgICAgIGNvbnN0IG1wID0gbmV3IHdpbmRvdy5NZXJjYWRvUGFnbyhwdWJsaWNLZXkpXG5cbiAgICAgICAgLy8gTGltcGlhciBjb250ZW5lZG9yIGFudGVyaW9yIHNpIGV4aXN0ZVxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJydcblxuICAgICAgICAvLyBDcmVhciBlbCBXYWxsZXQgQnJpY2sgY29uIG1hbmVqbyBkZSBlcnJvcmVzIG1lam9yYWRvXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgbXAuYnJpY2tzKCkuY3JlYXRlKCd3YWxsZXQnLCAnd2FsbGV0X2NvbnRhaW5lcicsIHtcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uOiB7XG4gICAgICAgICAgICAgIHByZWZlcmVuY2VJZDogcHJlZmVyZW5jZUlkLFxuICAgICAgICAgICAgICByZWRpcmVjdE1vZGU6ICdzZWxmJywgLy8gTWFudGVuZXIgZW4gbGEgbWlzbWEgcGVzdGHDsWFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgICAgb25SZWFkeTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgICAgICAgICAgICBzZXRJc1JlYWR5KHRydWUpXG4gICAgICAgICAgICAgICAgb25SZWFkeT8uKClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBXYWxsZXQgQnJpY2s6JywgZXJyb3IpXG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgZW4gZWwgcHJvY2VzYW1pZW50byBkZWwgcGFnbycpXG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICAgICAgICAgIG9uRXJyb3I/LihlcnJvcilcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb25TdWJtaXQ6IChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBvblN1Ym1pdD8uKGRhdGEpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VzdG9taXphdGlvbjoge1xuICAgICAgICAgICAgICB0ZXh0czoge1xuICAgICAgICAgICAgICAgIHZhbHVlUHJvcDogJ3NtYXJ0X29wdGlvbicsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHZpc3VhbDoge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkJhY2tncm91bmQ6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChicmlja0Vycm9yOiBhbnkpIHtcbiAgICAgICAgICAvLyBNYW5lam8gZXNwZWPDrWZpY28gZGUgZXJyb3JlcyBkZWwgV2FsbGV0IEJyaWNrXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYnJpY2tFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnd2FsbGV0X2NvbnRhaW5lcicpIHx8XG4gICAgICAgICAgICBicmlja0Vycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdjb250YWluZXInKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAn4pqg77iPIENvbnRlbmVkb3Igd2FsbGV0X2NvbnRhaW5lciBubyBkaXNwb25pYmxlLCBlc3RvIGVzIG5vcm1hbCBlbiBww6FnaW5hcyBkZSByZXN1bHRhZG8nXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gLy8gU2FsaXIgc2lsZW5jaW9zYW1lbnRlXG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGJyaWNrRXJyb3IgLy8gUmUtbGFuemFyIG90cm9zIGVycm9yZXNcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmljaWFsaXphbmRvIFdhbGxldCBCcmljazonLCBlcnJvcilcbiAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgaW5pY2lhbGl6YW5kbyBlbCBzaXN0ZW1hIGRlIHBhZ29zJylcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICBvbkVycm9yPy4oZXJyb3IpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZVdhbGxldCgpXG4gIH0sIFtzZGtMb2FkZWQsIHByZWZlcmVuY2VJZCwgb25SZWFkeSwgb25FcnJvciwgb25TdWJtaXRdKVxuXG4gIGNvbnN0IGhhbmRsZVJldHJ5ID0gKCkgPT4ge1xuICAgIHNldEVycm9yKG51bGwpXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgc2V0SXNSZWFkeShmYWxzZSlcblxuICAgIC8vIFJlY2FyZ2FyIGxhIHDDoWdpbmEgcGFyYSByZWluaWNpYXIgZWwgcHJvY2Vzb1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICB9XG5cbiAgY29uc3QgaXNNb2JpbGVPcHRpbWl6ZWQgPSBjbGFzc05hbWU/LmluY2x1ZGVzKCdtb2JpbGUtb3B0aW1pemVkJylcblxuICByZXR1cm4gKFxuICAgIDxDYXJkIGNsYXNzTmFtZT17YHctZnVsbCBzaGFkb3ctbGcgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8Q2FyZEhlYWRlclxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICdiZy1ncmFkaWVudC10by1yIGZyb20tYmxhemUtb3JhbmdlLTUwIHRvLXllbGxvdy01MCBib3JkZXItYicsXG4gICAgICAgICAgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3B4LTQgcHktNCdcbiAgICAgICAgKX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuJyxcbiAgICAgICAgICAgIGlzTW9iaWxlT3B0aW1pemVkICYmICdmbGV4LWNvbCBnYXAtMyBpdGVtcy1zdGFydCdcbiAgICAgICAgICApfVxuICAgICAgICA+XG4gICAgICAgICAgPENhcmRUaXRsZVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtYmxhemUtb3JhbmdlLTcwMCcsXG4gICAgICAgICAgICAgIGlzTW9iaWxlT3B0aW1pemVkICYmICd0ZXh0LWxnJ1xuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9e2NuKCd3LTUgaC01JywgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3ctNCBoLTQnKX0gLz5cbiAgICAgICAgICAgIE3DqXRvZG8gZGUgUGFnbyBTZWd1cm9cbiAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKCdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMicsIGlzTW9iaWxlT3B0aW1pemVkICYmICd3LWZ1bGwganVzdGlmeS1iZXR3ZWVuJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9J3NlY29uZGFyeScgY2xhc3NOYW1lPSdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgdGV4dC14cyc+XG4gICAgICAgICAgICAgIDxTaGllbGQgY2xhc3NOYW1lPSd3LTMgaC0zIG1yLTEnIC8+XG4gICAgICAgICAgICAgIFNlZ3Vyb1xuICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PSdzZWNvbmRhcnknIGNsYXNzTmFtZT0nYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTcwMCB0ZXh0LXhzJz5cbiAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPSd3LTMgaC0zIG1yLTEnIC8+XG4gICAgICAgICAgICAgIFNTTFxuICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT17Y24oJ3RleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xJywgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3RleHQteHMgbXQtMicpfT5cbiAgICAgICAgICBDb21wbGV0YSB0dSBwYWdvIGRlIGZvcm1hIHNlZ3VyYSBjb24gTWVyY2Fkb1BhZ29cbiAgICAgICAgPC9wPlxuICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT17Y24oJ3AtNicsIGlzTW9iaWxlT3B0aW1pemVkICYmICdwLTQnKX0+XG4gICAgICAgIHsvKiBFc3RhZG8gZGUgY2FyZ2EgKi99XG4gICAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICdmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMiBzcGFjZS15LTYnLFxuICAgICAgICAgICAgICBpc01vYmlsZU9wdGltaXplZCAmJiAncHktOCBzcGFjZS15LTQnXG4gICAgICAgICAgICApfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyZWxhdGl2ZSc+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgJ3ctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctYmxhemUtb3JhbmdlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcicsXG4gICAgICAgICAgICAgICAgICBpc01vYmlsZU9wdGltaXplZCAmJiAndy0xMiBoLTEyJ1xuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TG9hZGVyMlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgJ3ctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtYmxhemUtb3JhbmdlLTYwMCcsXG4gICAgICAgICAgICAgICAgICAgIGlzTW9iaWxlT3B0aW1pemVkICYmICd3LTYgaC02J1xuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Fic29sdXRlIC10b3AtMSAtcmlnaHQtMSB3LTYgaC02IGJnLXllbGxvdy00MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyJz5cbiAgICAgICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9J3ctMyBoLTMgdGV4dC1ncmF5LTcwMCcgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBzcGFjZS15LTInPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2ZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAnPkNhcmdhbmRvIG9wY2lvbmVzIGRlIHBhZ288L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyYXktNjAwJz5QcmVwYXJhbmRvIHR1IGV4cGVyaWVuY2lhIGRlIHBhZ28gc2VndXJhLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTInPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdiZy1ibGF6ZS1vcmFuZ2UtNjAwIGgtMiByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZSdcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzYwJScgfX1cbiAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVzdGFkbyBkZSBlcnJvciAqL31cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMTIgc3BhY2UteS02Jz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTE2IGgtMTYgcm91bmRlZC1mdWxsIGJnLXJlZC0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInPlxuICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9J3ctOCBoLTggdGV4dC1yZWQtNjAwJyAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgc3BhY2UteS0yJz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdmb250LW1lZGl1bSB0ZXh0LXJlZC04MDAnPkVycm9yIGFsIGNhcmdhciBlbCBzaXN0ZW1hIGRlIHBhZ29zPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3RleHQtc20gdGV4dC1yZWQtNjAwJz5cbiAgICAgICAgICAgICAgICB7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpIHx8ICdFcnJvciBkZXNjb25vY2lkbyd9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXRyeX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdiZy1ibGF6ZS1vcmFuZ2UtNjAwIGhvdmVyOmJnLWJsYXplLW9yYW5nZS03MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgc2l6ZT0nbGcnXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDcmVkaXRDYXJkIGNsYXNzTmFtZT0ndy00IGgtNCBtci0yJyAvPlxuICAgICAgICAgICAgICBSZWludGVudGFyIENhcmdhXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogRXN0YWRvIGxpc3RvICovfVxuICAgICAgICB7aXNSZWFkeSAmJiAhZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYi02IHAtNCBiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNTAgdG8tZW1lcmFsZC01MCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCByb3VuZGVkLWxnJz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyc+XG4gICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9J3ctNSBoLTUgdGV4dC1ncmVlbi02MDAgZmxleC1zaHJpbmstMCcgLz5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J2ZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tODAwJz5TaXN0ZW1hIGRlIHBhZ29zIGxpc3RvPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ndGV4dC1zbSB0ZXh0LWdyZWVuLTcwMCBtdC0xJz5cbiAgICAgICAgICAgICAgICAgIFNlbGVjY2lvbmEgdHUgbcOpdG9kbyBkZSBwYWdvIHByZWZlcmlkb1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ29udGVuZWRvciBkZWwgV2FsbGV0IEJyaWNrICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgaWQ9J3dhbGxldF9jb250YWluZXInXG4gICAgICAgICAgcmVmPXt3YWxsZXRSZWZ9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgbWluLWgtWzMwMHB4XSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgJHtpc0xvYWRpbmcgfHwgZXJyb3IgPyAnaGlkZGVuJyA6ICdibG9jayd9YH1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogSW5mb3JtYWNpw7NuIGFkaWNpb25hbCAqL31cbiAgICAgICAge2lzUmVhZHkgJiYgIWVycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtNiBwLTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTUwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcm91bmRlZC1sZyc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleCBpdGVtcy1zdGFydCBnYXAtMyc+XG4gICAgICAgICAgICAgIDxTaGllbGQgY2xhc3NOYW1lPSd3LTUgaC01IHRleHQtYmx1ZS02MDAgZmxleC1zaHJpbmstMCBtdC0wLjUnIC8+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSdmb250LW1lZGl1bSB0ZXh0LWJsdWUtODAwIG1iLTInPlBhZ28gMTAwJSBTZWd1cm88L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSd0ZXh0LXNtIHRleHQtYmx1ZS03MDAnPlxuICAgICAgICAgICAgICAgICAgQWNlcHRhIHRhcmpldGFzIGRlIGNyw6lkaXRvLCBkw6liaXRvLCBlZmVjdGl2byB5IHRyYW5zZmVyZW5jaWFzIGJhbmNhcmlhcy4gVHVzIGRhdG9zXG4gICAgICAgICAgICAgICAgICBlc3TDoW4gcHJvdGVnaWRvcyBjb24gZW5jcmlwdGFjacOzbiBkZSBuaXZlbCBiYW5jYXJpbyB5IGNlcnRpZmljYWNpw7NuIFBDSSBEU1MuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtdC0zIHRleHQteHMgdGV4dC1ibHVlLTYwMCc+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJz5cbiAgICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPSd3LTMgaC0zJyAvPlxuICAgICAgICAgICAgICAgICAgICBTU0wgMjU2LWJpdFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSc+XG4gICAgICAgICAgICAgICAgICAgIDxTaGllbGQgY2xhc3NOYW1lPSd3LTMgaC0zJyAvPlxuICAgICAgICAgICAgICAgICAgICBQQ0kgRFNTXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ZsZXggaXRlbXMtY2VudGVyIGdhcC0xJz5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT0ndy0zIGgtMycgLz5cbiAgICAgICAgICAgICAgICAgICAgVmVyaWZpY2Fkb1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gIClcbn1cblxuLy8gQ29tcG9uZW50ZSBkZSBmYWxsYmFjayBwYXJhIGNhc29zIGRlIGVycm9yIGNyw610aWNvXG5leHBvcnQgZnVuY3Rpb24gTWVyY2Fkb1BhZ29XYWxsZXRGYWxsYmFjayh7XG4gIGluaXRQb2ludCxcbiAgY2xhc3NOYW1lID0gJycsXG59OiB7XG4gIGluaXRQb2ludDogc3RyaW5nXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufSkge1xuICBjb25zdCBpc01vYmlsZU9wdGltaXplZCA9IGNsYXNzTmFtZT8uaW5jbHVkZXMoJ21vYmlsZS1vcHRpbWl6ZWQnKVxuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPXtgdy1mdWxsIHNoYWRvdy1sZyAke2NsYXNzTmFtZX1gfT5cbiAgICAgIDxDYXJkSGVhZGVyXG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS15ZWxsb3ctNTAgdG8tb3JhbmdlLTUwIGJvcmRlci1iJyxcbiAgICAgICAgICBpc01vYmlsZU9wdGltaXplZCAmJiAncHgtNCBweS00J1xuICAgICAgICApfVxuICAgICAgPlxuICAgICAgICA8Q2FyZFRpdGxlXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LWJsYXplLW9yYW5nZS03MDAnLFxuICAgICAgICAgICAgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3RleHQtbGcnXG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDcmVkaXRDYXJkIGNsYXNzTmFtZT17Y24oJ3ctNSBoLTUnLCBpc01vYmlsZU9wdGltaXplZCAmJiAndy00IGgtNCcpfSAvPlxuICAgICAgICAgIE3DqXRvZG8gZGUgUGFnbyBBbHRlcm5hdGl2b1xuICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtjbigndGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTEnLCBpc01vYmlsZU9wdGltaXplZCAmJiAndGV4dC14cycpfT5cbiAgICAgICAgICBDb250aW7DumEgY29uIGVsIHBhZ28gZW4gbGEgcGxhdGFmb3JtYSBkZSBNZXJjYWRvUGFnb1xuICAgICAgICA8L3A+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPXtjbigncC02JywgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3AtNCcpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKCd0ZXh0LWNlbnRlciBweS04IHNwYWNlLXktNicsIGlzTW9iaWxlT3B0aW1pemVkICYmICdweS02IHNwYWNlLXktNCcpfT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAndy0xNiBoLTE2IHJvdW5kZWQtZnVsbCBiZy1ibHVlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvJyxcbiAgICAgICAgICAgICAgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3ctMTIgaC0xMidcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENyZWRpdENhcmQgY2xhc3NOYW1lPXtjbigndy04IGgtOCB0ZXh0LWJsdWUtNjAwJywgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ3ctNiBoLTYnKX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3BhY2UteS0yJz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oJ2ZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAnLCBpc01vYmlsZU9wdGltaXplZCAmJiAndGV4dC1sZycpfT5cbiAgICAgICAgICAgICAgRmluYWxpemEgdHUgY29tcHJhIGVuIE1lcmNhZG9QYWdvXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9e2NuKCd0ZXh0LXNtIHRleHQtZ3JheS02MDAnLCBpc01vYmlsZU9wdGltaXplZCAmJiAndGV4dC14cycpfT5cbiAgICAgICAgICAgICAgU2Vyw6FzIHJlZGlyaWdpZG8gYSBsYSBwbGF0YWZvcm1hIHNlZ3VyYSBkZSBNZXJjYWRvUGFnbyBwYXJhIGNvbXBsZXRhciB0dSBwYWdvXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oaW5pdFBvaW50LCAnX2JsYW5rJyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAndy1mdWxsIGgtMTIgYmcteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctNTAwIHRleHQtZ3JheS05MDAgZm9udC1zZW1pYm9sZCB0ZXh0LWxnIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwJyxcbiAgICAgICAgICAgICAgaXNNb2JpbGVPcHRpbWl6ZWQgJiYgJ2gtMTQgdGV4dC1iYXNlIHJvdW5kZWQteGwgYWN0aXZlOnNjYWxlLVswLjk4XSdcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBzaXplPSdsZydcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9e2NuKCd3LTUgaC01IG1yLTInLCBpc01vYmlsZU9wdGltaXplZCAmJiAndy00IGgtNCcpfSAvPlxuICAgICAgICAgICAgQ29udGludWFyIGNvbiBNZXJjYWRvUGFnb1xuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtNCB0ZXh0LXhzIHRleHQtZ3JheS01MDAnLFxuICAgICAgICAgICAgICBpc01vYmlsZU9wdGltaXplZCAmJiAnZ2FwLTYnXG4gICAgICAgICAgICApfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnPlxuICAgICAgICAgICAgICA8U2hpZWxkIGNsYXNzTmFtZT0ndy0zIGgtMycgLz5cbiAgICAgICAgICAgICAgUGFnbyBTZWd1cm9cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEnPlxuICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9J3ctMyBoLTMnIC8+XG4gICAgICAgICAgICAgIERhdG9zIFByb3RlZ2lkb3NcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIk1lcmNhZG9QYWdvV2FsbGV0RmFsbGJhY2siLCJNZXJjYWRvUGFnb1dhbGxldCIsInByZWZlcmVuY2VJZCIsIm9uUmVhZHkiLCJvbkVycm9yIiwib25TdWJtaXQiLCJjbGFzc05hbWUiLCJ3YWxsZXRSZWYiLCJ1c2VSZWYiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJ1c2VTdGF0ZSIsImVycm9yIiwic2V0RXJyb3IiLCJpc1JlYWR5Iiwic2V0SXNSZWFkeSIsInNka0xvYWRlZCIsInNldFNka0xvYWRlZCIsInVzZUVmZmVjdCIsIndpbmRvdyIsImN1cnJlbnRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsIk1lcmNhZG9QYWdvIiwiZXhpc3RpbmdTY3JpcHQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImFzeW5jIiwib25sb2FkIiwib25lcnJvciIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImluaXRpYWxpemVXYWxsZXQiLCJwdWJsaWNLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUVSQ0FET1BBR09fUFVCTElDX0tFWSIsIkVycm9yIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ3YXJuIiwibXAiLCJpbm5lckhUTUwiLCJicmlja3MiLCJjcmVhdGUiLCJpbml0aWFsaXphdGlvbiIsInJlZGlyZWN0TW9kZSIsImNhbGxiYWNrcyIsIm1lc3NhZ2UiLCJkYXRhIiwiY3VzdG9taXphdGlvbiIsInRleHRzIiwidmFsdWVQcm9wIiwidmlzdWFsIiwiYnV0dG9uQmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsImJyaWNrRXJyb3IiLCJoYW5kbGVSZXRyeSIsInJlbG9hZCIsImlzTW9iaWxlT3B0aW1pemVkIiwiQ2FyZCIsIkNhcmRIZWFkZXIiLCJjbiIsImRpdiIsIkNhcmRUaXRsZSIsIkNyZWRpdENhcmQiLCJCYWRnZSIsInZhcmlhbnQiLCJTaGllbGQiLCJMb2NrIiwicCIsIkNhcmRDb250ZW50IiwiTG9hZGVyMiIsInN0eWxlIiwid2lkdGgiLCJBbGVydFRyaWFuZ2xlIiwiU3RyaW5nIiwiQnV0dG9uIiwib25DbGljayIsInNpemUiLCJDaGVja0NpcmNsZSIsImlkIiwicmVmIiwic3BhbiIsImluaXRQb2ludCIsIm9wZW4iXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QyxnREFBZ0Q7QUFDaEQsc0NBQXNDO0FBRXRDOzs7Ozs7Ozs7Ozs7UUFvV2dCQTtlQUFBQTs7UUE5VWhCO2VBQXdCQzs7Ozt1QkFyQm9CO3NCQUNhO3dCQUNsQzt1QkFDRDs2QkFDd0Q7QUFpQi9ELFNBQVNBLGtCQUFrQixFQUN4Q0MsWUFBWSxFQUNaQyxPQUFPLEVBQ1BDLE9BQU8sRUFDUEMsUUFBUSxFQUNSQyxZQUFZLEVBQUUsRUFDUztJQUN2QixNQUFNQyxZQUFZQyxJQUFBQSxhQUFNLEVBQWlCO0lBQ3pDLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHQyxJQUFBQSxlQUFRLEVBQUM7SUFDM0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdGLElBQUFBLGVBQVEsRUFBZ0I7SUFDbEQsTUFBTSxDQUFDRyxTQUFTQyxXQUFXLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNLLFdBQVdDLGFBQWEsR0FBR04sSUFBQUEsZUFBUSxFQUFDO0lBRTNDLHNDQUFzQztJQUN0Q08sSUFBQUEsZ0JBQVMsRUFBQztRQUNSLDhFQUE4RTtRQUM5RSxJQUFJLE9BQU9DLFdBQVcsYUFBYTtZQUNqQyxNQUFNQyxjQUFjRCxPQUFPRSxRQUFRLENBQUNDLFFBQVE7WUFDNUMsSUFDRUYsWUFBWUcsUUFBUSxDQUFDLHdCQUNyQkgsWUFBWUcsUUFBUSxDQUFDLHdCQUNyQkgsWUFBWUcsUUFBUSxDQUFDLHNCQUNyQjtnQkFDQUMsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0Y7UUFDRjtRQUVBLElBQUlOLE9BQU9PLFdBQVcsRUFBRTtZQUN0QlQsYUFBYTtZQUNiO1FBQ0Y7UUFFQSwyQ0FBMkM7UUFDM0MsTUFBTVUsaUJBQWlCQyxTQUFTQyxhQUFhLENBQUM7UUFDOUMsSUFBSUYsZ0JBQWdCO1lBQ2xCQSxlQUFlRyxnQkFBZ0IsQ0FBQyxRQUFRLElBQU1iLGFBQWE7WUFDM0Q7UUFDRjtRQUVBLCtCQUErQjtRQUMvQixNQUFNYyxTQUFTSCxTQUFTSSxhQUFhLENBQUM7UUFDdENELE9BQU9FLEdBQUcsR0FBRztRQUNiRixPQUFPRyxLQUFLLEdBQUc7UUFFZkgsT0FBT0ksTUFBTSxHQUFHO1lBQ2RsQixhQUFhO1FBQ2Y7UUFFQWMsT0FBT0ssT0FBTyxHQUFHO1lBQ2Z2QixTQUFTO1lBQ1RILGFBQWE7WUFDYk4sVUFBVTtRQUNaO1FBRUF3QixTQUFTUyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1A7UUFFMUIsT0FBTztRQUNMLHdEQUF3RDtRQUMxRDtJQUNGLEdBQUc7UUFBQzNCO0tBQVE7SUFFWix1REFBdUQ7SUFDdkRjLElBQUFBLGdCQUFTLEVBQUM7UUFDUixJQUFJLENBQUNGLGFBQWEsQ0FBQ2QsY0FBYztZQUMvQjtRQUNGO1FBRUEsdURBQXVEO1FBQ3ZELHlEQUF5RDtRQUN6RCxJQUFJLE9BQU9pQixXQUFXLGFBQWE7WUFDakMsTUFBTUMsY0FBY0QsT0FBT0UsUUFBUSxDQUFDQyxRQUFRO1lBQzVDLElBQ0VGLFlBQVlHLFFBQVEsQ0FBQyx3QkFDckJILFlBQVlHLFFBQVEsQ0FBQyx3QkFDckJILFlBQVlHLFFBQVEsQ0FBQyxzQkFDckI7Z0JBQ0FDLFFBQVFDLEdBQUcsQ0FBQztnQkFDWjtZQUNGO1FBQ0Y7UUFFQSxNQUFNYyxtQkFBbUI7WUFDdkIsSUFBSTtnQkFDRjdCLGFBQWE7Z0JBQ2JHLFNBQVM7Z0JBRVQseUNBQXlDO2dCQUN6QyxNQUFNMkIsWUFBWUMsUUFBUUMsR0FBRyxDQUFDQyxrQ0FBa0M7Z0JBQ2hFLElBQUksQ0FBQ0gsV0FBVztvQkFDZCxNQUFNLElBQUlJLE1BQU07Z0JBQ2xCO2dCQUVBLDBEQUEwRDtnQkFDMUQsTUFBTUMsWUFBWWpCLFNBQVNrQixjQUFjLENBQUM7Z0JBQzFDLElBQUksQ0FBQ0QsV0FBVztvQkFDZHJCLFFBQVF1QixJQUFJLENBQUM7b0JBQ2I7Z0JBQ0Y7Z0JBRUEsMEJBQTBCO2dCQUMxQixNQUFNQyxLQUFLLElBQUk3QixPQUFPTyxXQUFXLENBQUNjO2dCQUVsQyx3Q0FBd0M7Z0JBQ3hDSyxVQUFVSSxTQUFTLEdBQUc7Z0JBRXRCLHVEQUF1RDtnQkFDdkQsSUFBSTtvQkFDRixNQUFNRCxHQUFHRSxNQUFNLEdBQUdDLE1BQU0sQ0FBQyxVQUFVLG9CQUFvQjt3QkFDckRDLGdCQUFnQjs0QkFDZGxELGNBQWNBOzRCQUNkbUQsY0FBYzt3QkFDaEI7d0JBQ0FDLFdBQVc7NEJBQ1RuRCxTQUFTO2dDQUNQTyxhQUFhO2dDQUNiSyxXQUFXO2dDQUNYWjs0QkFDRjs0QkFDQUMsU0FBUyxDQUFDUTtnQ0FDUlksUUFBUVosS0FBSyxDQUFDLDBCQUEwQkE7Z0NBQ3hDQyxTQUFTRCxNQUFNMkMsT0FBTyxJQUFJO2dDQUMxQjdDLGFBQWE7Z0NBQ2JOLFVBQVVROzRCQUNaOzRCQUNBUCxVQUFVLENBQUNtRDtnQ0FDVG5ELFdBQVdtRDs0QkFDYjt3QkFDRjt3QkFDQUMsZUFBZTs0QkFDYkMsT0FBTztnQ0FDTEMsV0FBVzs0QkFDYjs0QkFDQUMsUUFBUTtnQ0FDTkMsa0JBQWtCO2dDQUNsQkMsY0FBYzs0QkFDaEI7d0JBQ0Y7b0JBQ0Y7Z0JBQ0YsRUFBRSxPQUFPQyxZQUFpQjtvQkFDeEIsZ0RBQWdEO29CQUNoRCxJQUNFQSxXQUFXUixPQUFPLEVBQUVoQyxTQUFTLHVCQUM3QndDLFdBQVdSLE9BQU8sRUFBRWhDLFNBQVMsY0FDN0I7d0JBQ0FDLFFBQVF1QixJQUFJLENBQ1Y7d0JBRUYsUUFBTyx3QkFBd0I7b0JBQ2pDO29CQUNBLE1BQU1nQixXQUFXLDBCQUEwQjs7Z0JBQzdDO1lBQ0YsRUFBRSxPQUFPbkQsT0FBWTtnQkFDbkJZLFFBQVFaLEtBQUssQ0FBQyxxQ0FBcUNBO2dCQUNuREMsU0FBU0QsTUFBTTJDLE9BQU8sSUFBSTtnQkFDMUI3QyxhQUFhO2dCQUNiTixVQUFVUTtZQUNaO1FBQ0Y7UUFFQTJCO0lBQ0YsR0FBRztRQUFDdkI7UUFBV2Q7UUFBY0M7UUFBU0M7UUFBU0M7S0FBUztJQUV4RCxNQUFNMkQsY0FBYztRQUNsQm5ELFNBQVM7UUFDVEgsYUFBYTtRQUNiSyxXQUFXO1FBRVgsK0NBQStDO1FBQy9DSSxPQUFPRSxRQUFRLENBQUM0QyxNQUFNO0lBQ3hCO0lBRUEsTUFBTUMsb0JBQW9CNUQsV0FBV2lCLFNBQVM7SUFFOUMscUJBQ0Usc0JBQUM0QyxVQUFJO1FBQUM3RCxXQUFXLENBQUMsaUJBQWlCLEVBQUVBLFdBQVc7OzBCQUM5QyxzQkFBQzhELGdCQUFVO2dCQUNUOUQsV0FBVytELEdBQ1QsK0RBQ0FILHFCQUFxQjs7a0NBR3ZCLHNCQUFDSTt3QkFDQ2hFLFdBQVcrRCxHQUNULHFDQUNBSCxxQkFBcUI7OzBDQUd2QixzQkFBQ0ssZUFBUztnQ0FDUmpFLFdBQVcrRCxHQUNULGlEQUNBSCxxQkFBcUI7O2tEQUd2QixxQkFBQ00sdUJBQVU7d0NBQUNsRSxXQUFXK0QsR0FBRyxXQUFXSCxxQkFBcUI7O29DQUFjOzs7MENBRzFFLHNCQUFDSTtnQ0FDQ2hFLFdBQVcrRCxHQUFHLDJCQUEyQkgscUJBQXFCOztrREFFOUQsc0JBQUNPLFlBQUs7d0NBQUNDLFNBQVE7d0NBQVlwRSxXQUFVOzswREFDbkMscUJBQUNxRSxtQkFBTTtnREFBQ3JFLFdBQVU7OzRDQUFpQjs7O2tEQUdyQyxzQkFBQ21FLFlBQUs7d0NBQUNDLFNBQVE7d0NBQVlwRSxXQUFVOzswREFDbkMscUJBQUNzRSxpQkFBSTtnREFBQ3RFLFdBQVU7OzRDQUFpQjs7Ozs7OztrQ0FLdkMscUJBQUN1RTt3QkFBRXZFLFdBQVcrRCxHQUFHLDhCQUE4QkgscUJBQXFCO2tDQUFpQjs7OzswQkFJdkYsc0JBQUNZLGlCQUFXO2dCQUFDeEUsV0FBVytELEdBQUcsT0FBT0gscUJBQXFCOztvQkFFcER6RCwyQkFDQyxzQkFBQzZEO3dCQUNDaEUsV0FBVytELEdBQ1QsNkRBQ0FILHFCQUFxQjs7MENBR3ZCLHNCQUFDSTtnQ0FBSWhFLFdBQVU7O2tEQUNiLHFCQUFDZ0U7d0NBQ0NoRSxXQUFXK0QsR0FDVCwrRUFDQUgscUJBQXFCO2tEQUd2QixjQUFBLHFCQUFDYSxvQkFBTzs0Q0FDTnpFLFdBQVcrRCxHQUNULDhDQUNBSCxxQkFBcUI7OztrREFJM0IscUJBQUNJO3dDQUFJaEUsV0FBVTtrREFDYixjQUFBLHFCQUFDa0UsdUJBQVU7NENBQUNsRSxXQUFVOzs7OzswQ0FHMUIsc0JBQUNnRTtnQ0FBSWhFLFdBQVU7O2tEQUNiLHFCQUFDdUU7d0NBQUV2RSxXQUFVO2tEQUE0Qjs7a0RBQ3pDLHFCQUFDdUU7d0NBQUV2RSxXQUFVO2tEQUF3Qjs7OzswQ0FFdkMscUJBQUNnRTtnQ0FBSWhFLFdBQVU7MENBQ2IsY0FBQSxxQkFBQ2dFO29DQUNDaEUsV0FBVTtvQ0FDVjBFLE9BQU87d0NBQUVDLE9BQU87b0NBQU07Ozs7O29CQU83QnJFLHVCQUNDLHNCQUFDMEQ7d0JBQUloRSxXQUFVOzswQ0FDYixxQkFBQ2dFO2dDQUFJaEUsV0FBVTswQ0FDYixjQUFBLHFCQUFDNEUsMEJBQWE7b0NBQUM1RSxXQUFVOzs7MENBRTNCLHNCQUFDZ0U7Z0NBQUloRSxXQUFVOztrREFDYixxQkFBQ3VFO3dDQUFFdkUsV0FBVTtrREFBMkI7O2tEQUN4QyxxQkFBQ3VFO3dDQUFFdkUsV0FBVTtrREFDVk0saUJBQWlCZ0MsUUFBUWhDLE1BQU0yQyxPQUFPLEdBQUc0QixPQUFPdkUsVUFBVTs7OzswQ0FHL0Qsc0JBQUN3RSxjQUFNO2dDQUNMQyxTQUFTckI7Z0NBQ1QxRCxXQUFVO2dDQUNWZ0YsTUFBSzs7a0RBRUwscUJBQUNkLHVCQUFVO3dDQUFDbEUsV0FBVTs7b0NBQWlCOzs7OztvQkFPNUNRLFdBQVcsQ0FBQ0YsdUJBQ1gscUJBQUMwRDt3QkFBSWhFLFdBQVU7a0NBQ2IsY0FBQSxzQkFBQ2dFOzRCQUFJaEUsV0FBVTs7OENBQ2IscUJBQUNpRix3QkFBVztvQ0FBQ2pGLFdBQVU7OzhDQUN2QixzQkFBQ2dFOztzREFDQyxxQkFBQ087NENBQUV2RSxXQUFVO3NEQUE2Qjs7c0RBQzFDLHFCQUFDdUU7NENBQUV2RSxXQUFVO3NEQUE4Qjs7Ozs7OztrQ0FTbkQscUJBQUNnRTt3QkFDQ2tCLElBQUc7d0JBQ0hDLEtBQUtsRjt3QkFDTEQsV0FBVyxDQUFDLGdEQUFnRCxFQUFFRyxhQUFhRyxRQUFRLFdBQVcsU0FBUzs7b0JBSXhHRSxXQUFXLENBQUNGLHVCQUNYLHFCQUFDMEQ7d0JBQUloRSxXQUFVO2tDQUNiLGNBQUEsc0JBQUNnRTs0QkFBSWhFLFdBQVU7OzhDQUNiLHFCQUFDcUUsbUJBQU07b0NBQUNyRSxXQUFVOzs4Q0FDbEIsc0JBQUNnRTs7c0RBQ0MscUJBQUNPOzRDQUFFdkUsV0FBVTtzREFBaUM7O3NEQUM5QyxxQkFBQ3VFOzRDQUFFdkUsV0FBVTtzREFBd0I7O3NEQUlyQyxzQkFBQ2dFOzRDQUFJaEUsV0FBVTs7OERBQ2Isc0JBQUNvRjtvREFBS3BGLFdBQVU7O3NFQUNkLHFCQUFDc0UsaUJBQUk7NERBQUN0RSxXQUFVOzt3REFBWTs7OzhEQUc5QixzQkFBQ29GO29EQUFLcEYsV0FBVTs7c0VBQ2QscUJBQUNxRSxtQkFBTTs0REFBQ3JFLFdBQVU7O3dEQUFZOzs7OERBR2hDLHNCQUFDb0Y7b0RBQUtwRixXQUFVOztzRUFDZCxxQkFBQ2lGLHdCQUFXOzREQUFDakYsV0FBVTs7d0RBQVk7Ozs7Ozs7Ozs7Ozs7O0FBV3ZEO0FBR08sU0FBU04sMEJBQTBCLEVBQ3hDMkYsU0FBUyxFQUNUckYsWUFBWSxFQUFFLEVBSWY7SUFDQyxNQUFNNEQsb0JBQW9CNUQsV0FBV2lCLFNBQVM7SUFFOUMscUJBQ0Usc0JBQUM0QyxVQUFJO1FBQUM3RCxXQUFXLENBQUMsaUJBQWlCLEVBQUVBLFdBQVc7OzBCQUM5QyxzQkFBQzhELGdCQUFVO2dCQUNUOUQsV0FBVytELEdBQ1QseURBQ0FILHFCQUFxQjs7a0NBR3ZCLHNCQUFDSyxlQUFTO3dCQUNSakUsV0FBVytELEdBQ1QsaURBQ0FILHFCQUFxQjs7MENBR3ZCLHFCQUFDTSx1QkFBVTtnQ0FBQ2xFLFdBQVcrRCxHQUFHLFdBQVdILHFCQUFxQjs7NEJBQWM7OztrQ0FHMUUscUJBQUNXO3dCQUFFdkUsV0FBVytELEdBQUcsOEJBQThCSCxxQkFBcUI7a0NBQVk7Ozs7MEJBSWxGLHFCQUFDWSxpQkFBVztnQkFBQ3hFLFdBQVcrRCxHQUFHLE9BQU9ILHFCQUFxQjswQkFDckQsY0FBQSxzQkFBQ0k7b0JBQUloRSxXQUFXK0QsR0FBRyw4QkFBOEJILHFCQUFxQjs7c0NBQ3BFLHFCQUFDSTs0QkFDQ2hFLFdBQVcrRCxHQUNULCtFQUNBSCxxQkFBcUI7c0NBR3ZCLGNBQUEscUJBQUNNLHVCQUFVO2dDQUFDbEUsV0FBVytELEdBQUcseUJBQXlCSCxxQkFBcUI7OztzQ0FFMUUsc0JBQUNJOzRCQUFJaEUsV0FBVTs7OENBQ2IscUJBQUN1RTtvQ0FBRXZFLFdBQVcrRCxHQUFHLDZCQUE2QkgscUJBQXFCOzhDQUFZOzs4Q0FHL0UscUJBQUNXO29DQUFFdkUsV0FBVytELEdBQUcseUJBQXlCSCxxQkFBcUI7OENBQVk7Ozs7c0NBSTdFLHNCQUFDa0IsY0FBTTs0QkFDTEMsU0FBUyxJQUFNbEUsT0FBT3lFLElBQUksQ0FBQ0QsV0FBVzs0QkFDdENyRixXQUFXK0QsR0FDVCwySUFDQUgscUJBQXFCOzRCQUV2Qm9CLE1BQUs7OzhDQUVMLHFCQUFDZCx1QkFBVTtvQ0FBQ2xFLFdBQVcrRCxHQUFHLGdCQUFnQkgscUJBQXFCOztnQ0FBYzs7O3NDQUcvRSxzQkFBQ0k7NEJBQ0NoRSxXQUFXK0QsR0FDVCxnRUFDQUgscUJBQXFCOzs4Q0FHdkIsc0JBQUN3QjtvQ0FBS3BGLFdBQVU7O3NEQUNkLHFCQUFDcUUsbUJBQU07NENBQUNyRSxXQUFVOzt3Q0FBWTs7OzhDQUdoQyxzQkFBQ29GO29DQUFLcEYsV0FBVTs7c0RBQ2QscUJBQUNzRSxpQkFBSTs0Q0FBQ3RFLFdBQVU7O3dDQUFZOzs7Ozs7Ozs7O0FBUTFDIn0=