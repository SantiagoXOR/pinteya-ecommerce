f922ea0e8dc5c48a454e6f239a57e673
/**
 * useAnalytics Hook Tests
 * Enterprise-ready test suite for analytics tracking
 * Pinteya E-commerce
 */ "use strict";
// Mock useAuth hook
jest.mock('@/hooks/useAuth', ()=>({
        useAuth: ()=>({
                user: {
                    id: 'test-user-123',
                    email: 'test@example.com'
                },
                isLoaded: true
            })
    }));
// Mock usePathname
jest.mock('next/navigation', ()=>({
        usePathname: ()=>'/test-page'
    }));
// Mock analytics lib
jest.mock('@/lib/analytics', ()=>({
        analytics: {
            trackEvent: jest.fn().mockResolvedValue(undefined),
            trackEcommerceEvent: jest.fn().mockResolvedValue(undefined),
            trackPageView: jest.fn().mockResolvedValue(undefined),
            trackConversion: jest.fn().mockResolvedValue(undefined),
            trackProductView: jest.fn().mockResolvedValue(undefined),
            trackAddToCart: jest.fn().mockResolvedValue(undefined),
            trackRemoveFromCart: jest.fn().mockResolvedValue(undefined),
            trackCheckoutStart: jest.fn().mockResolvedValue(undefined),
            trackPurchase: jest.fn().mockResolvedValue(undefined),
            trackSearch: jest.fn().mockResolvedValue(undefined),
            getEvents: jest.fn(()=>[]),
            getInteractions: jest.fn(()=>[]),
            getConversionMetrics: jest.fn(()=>({
                    cartAdditions: 5,
                    cartRemovals: 1,
                    checkoutStarts: 3,
                    checkoutCompletions: 2,
                    productViews: 25,
                    categoryViews: 8,
                    searchQueries: 12,
                    conversionRate: 0.08,
                    averageOrderValue: 150.75,
                    cartAbandonmentRate: 0.33
                })),
            getSessionId: jest.fn(()=>'test-session-123'),
            initialize: jest.fn().mockResolvedValue(undefined),
            enable: jest.fn(),
            disable: jest.fn(),
            getMetrics: jest.fn(()=>({
                    pageViews: 100,
                    uniqueVisitors: 50,
                    bounceRate: 0.3,
                    avgSessionDuration: 180,
                    conversionRate: 0.05,
                    totalRevenue: 1000
                })),
            isEnabled: true
        }
    }));
// Mock optimized analytics
jest.mock('@/lib/integrations/analytics/analytics-optimized', ()=>({
        optimizedAnalytics: {
            trackEvent: jest.fn().mockResolvedValue(undefined)
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useAnalytics = require("../../hooks/useAnalytics");
const _analytics = require("../../lib/integrations/analytics");
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
describe('useAnalytics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Initialization', ()=>{
        it('should initialize with correct default state', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            expect(result.current.sessionMetrics).toBeDefined();
            expect(typeof result.current.trackEvent).toBe('function');
            expect(typeof result.current.trackPageView).toBe('function');
            expect(typeof result.current.getSessionId).toBe('function');
        });
        it('should provide all required tracking functions', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const expectedFunctions = [
                'trackEvent',
                'trackEcommerceEvent',
                'trackPageView',
                'trackConversion',
                'trackProductView',
                'trackAddToCart',
                'trackRemoveFromCart',
                'trackCheckoutStart',
                'trackPurchase',
                'trackSearch'
            ];
            expectedFunctions.forEach((funcName)=>{
                expect(typeof result.current[funcName]).toBe('function');
            });
        });
    });
    describe('Event Tracking', ()=>{
        it('should track generic events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);
            });
            expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('test_event', 'test_category', 'test_action', 'test_label', 100, {
                userEmail: undefined,
                userId: 'test-user-123'
            });
        });
        it('should track product view events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('view_item', {
                item_id: 'prod-123',
                item_name: 'Test Product',
                item_category: 'Electronics',
                price: 99.99,
                currency: 'ARS',
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track add to cart events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('add_to_cart', {
                item_id: 'prod-123',
                item_name: 'Test Product',
                price: 99.99,
                quantity: 2,
                currency: 'ARS',
                value: 199.98,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track checkout start events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackCheckoutStart(299.98, 3);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('begin_checkout', {
                value: 299.98,
                currency: 'ARS',
                num_items: 3,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track purchase events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const mockItems = [
                {
                    id: 'item1',
                    name: 'Product 1',
                    price: 99.99
                }
            ];
            (0, _react.act)(()=>{
                result.current.trackPurchase('order-123', 299.98, mockItems);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('purchase', {
                transaction_id: 'order-123',
                value: 299.98,
                currency: 'ARS',
                items: mockItems,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track search events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackSearch('test query', 15);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('search', {
                search_term: 'test query',
                results_count: 15,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
    });
    describe('Data Retrieval', ()=>{
        it('should get events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const events = result.current.getEvents();
            expect(_analytics.analytics.getEvents).toHaveBeenCalled();
            expect(Array.isArray(events)).toBe(true);
        });
        it('should get session ID correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const sessionId = result.current.getSessionId();
            expect(_analytics.analytics.getSessionId).toHaveBeenCalled();
            expect(sessionId).toBe('test-session-123');
        });
        it('should get conversion metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const metrics = result.current.getConversionMetrics();
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
            expect(metrics).toEqual({
                cartAdditions: 5,
                cartRemovals: 1,
                checkoutStarts: 3,
                checkoutCompletions: 2,
                productViews: 25,
                categoryViews: 8,
                searchQueries: 12,
                conversionRate: 0.08,
                averageOrderValue: 150.75,
                cartAbandonmentRate: 0.33
            });
        });
    });
    describe('State Management', ()=>{
        it('should toggle enabled state correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            (0, _react.act)(()=>{
                result.current.setEnabled(false);
            });
            expect(result.current.isEnabled).toBe(false);
            (0, _react.act)(()=>{
                result.current.setEnabled(true);
            });
            expect(result.current.isEnabled).toBe(true);
        });
        it('should refresh metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.refreshMetrics();
            });
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
        });
    });
});
describe('useRealTimeMetrics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.useRealTimers();
    });
    it('should initialize with metrics from analytics', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)());
        expect(result.current).toEqual({
            cartAdditions: 5,
            cartRemovals: 1,
            checkoutStarts: 3,
            checkoutCompletions: 2,
            productViews: 25,
            categoryViews: 8,
            searchQueries: 12,
            conversionRate: 0.08,
            averageOrderValue: 150.75,
            cartAbandonmentRate: 0.33
        });
    });
    it('should update metrics at specified interval', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)(1000));
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(1);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(2);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(3);
    });
}); // useComponentTracking tests skipped due to dependency on useOptimizedAnalytics
 // This hook will be tested separately when useOptimizedAnalytics is properly mocked

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIHVzZUFuYWx5dGljcyBIb29rIFRlc3RzXHJcbiAqIEVudGVycHJpc2UtcmVhZHkgdGVzdCBzdWl0ZSBmb3IgYW5hbHl0aWNzIHRyYWNraW5nXHJcbiAqIFBpbnRleWEgRS1jb21tZXJjZVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBbmFseXRpY3MsIHVzZVJlYWxUaW1lTWV0cmljcyB9IGZyb20gJ0AvaG9va3MvdXNlQW5hbHl0aWNzJztcclxuaW1wb3J0IHsgYW5hbHl0aWNzIH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL2FuYWx5dGljcyc7XHJcblxyXG4vLyBNb2NrIHVzZUF1dGggaG9va1xyXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlQXV0aCcsICgpID0+ICh7XHJcbiAgdXNlQXV0aDogKCkgPT4gKHtcclxuICAgIHVzZXI6IHsgaWQ6ICd0ZXN0LXVzZXItMTIzJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LFxyXG4gICAgaXNMb2FkZWQ6IHRydWUsXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgdXNlUGF0aG5hbWVcclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVBhdGhuYW1lOiAoKSA9PiAnL3Rlc3QtcGFnZScsXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgYW5hbHl0aWNzIGxpYlxyXG5qZXN0Lm1vY2soJ0AvbGliL2FuYWx5dGljcycsICgpID0+ICh7XHJcbiAgYW5hbHl0aWNzOiB7XHJcbiAgICB0cmFja0V2ZW50OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgIHRyYWNrRWNvbW1lcmNlRXZlbnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxyXG4gICAgdHJhY2tQYWdlVmlldzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXHJcbiAgICB0cmFja0NvbnZlcnNpb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxyXG4gICAgdHJhY2tQcm9kdWN0VmlldzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXHJcbiAgICB0cmFja0FkZFRvQ2FydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXHJcbiAgICB0cmFja1JlbW92ZUZyb21DYXJ0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgIHRyYWNrQ2hlY2tvdXRTdGFydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXHJcbiAgICB0cmFja1B1cmNoYXNlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgIHRyYWNrU2VhcmNoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgIGdldEV2ZW50czogamVzdC5mbigoKSA9PiBbXSksXHJcbiAgICBnZXRJbnRlcmFjdGlvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxyXG4gICAgZ2V0Q29udmVyc2lvbk1ldHJpY3M6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgY2FydEFkZGl0aW9uczogNSxcclxuICAgICAgY2FydFJlbW92YWxzOiAxLFxyXG4gICAgICBjaGVja291dFN0YXJ0czogMyxcclxuICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcclxuICAgICAgcHJvZHVjdFZpZXdzOiAyNSxcclxuICAgICAgY2F0ZWdvcnlWaWV3czogOCxcclxuICAgICAgc2VhcmNoUXVlcmllczogMTIsXHJcbiAgICAgIGNvbnZlcnNpb25SYXRlOiAwLjA4LFxyXG4gICAgICBhdmVyYWdlT3JkZXJWYWx1ZTogMTUwLjc1LFxyXG4gICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxyXG4gICAgfSkpLFxyXG4gICAgZ2V0U2Vzc2lvbklkOiBqZXN0LmZuKCgpID0+ICd0ZXN0LXNlc3Npb24tMTIzJyksXHJcbiAgICBpbml0aWFsaXplOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICAgIGVuYWJsZTogamVzdC5mbigpLFxyXG4gICAgZGlzYWJsZTogamVzdC5mbigpLFxyXG4gICAgZ2V0TWV0cmljczogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICBwYWdlVmlld3M6IDEwMCxcclxuICAgICAgdW5pcXVlVmlzaXRvcnM6IDUwLFxyXG4gICAgICBib3VuY2VSYXRlOiAwLjMsXHJcbiAgICAgIGF2Z1Nlc3Npb25EdXJhdGlvbjogMTgwLFxyXG4gICAgICBjb252ZXJzaW9uUmF0ZTogMC4wNSxcclxuICAgICAgdG90YWxSZXZlbnVlOiAxMDAwXHJcbiAgICB9KSksXHJcbiAgICBpc0VuYWJsZWQ6IHRydWVcclxuICB9XHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgb3B0aW1pemVkIGFuYWx5dGljc1xyXG5qZXN0Lm1vY2soJ0AvbGliL2ludGVncmF0aW9ucy9hbmFseXRpY3MvYW5hbHl0aWNzLW9wdGltaXplZCcsICgpID0+ICh7XHJcbiAgb3B0aW1pemVkQW5hbHl0aWNzOiB7XHJcbiAgICB0cmFja0V2ZW50OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcclxuICB9XHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgd2luZG93Lmd0YWdcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2d0YWcnLCB7XHJcbiAgdmFsdWU6IGplc3QuZm4oKSxcclxuICB3cml0YWJsZTogdHJ1ZSxcclxufSk7XHJcblxyXG5kZXNjcmliZSgndXNlQW5hbHl0aWNzIEhvb2snLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggY29ycmVjdCBkZWZhdWx0IHN0YXRlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2Vzc2lvbk1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudCkudG9CZSgnZnVuY3Rpb24nKTtcclxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC50cmFja1BhZ2VWaWV3KS50b0JlKCdmdW5jdGlvbicpO1xyXG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmdldFNlc3Npb25JZCkudG9CZSgnZnVuY3Rpb24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhbGwgcmVxdWlyZWQgdHJhY2tpbmcgZnVuY3Rpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBjb25zdCBleHBlY3RlZEZ1bmN0aW9ucyA9IFtcclxuICAgICAgICAndHJhY2tFdmVudCcsXHJcbiAgICAgICAgJ3RyYWNrRWNvbW1lcmNlRXZlbnQnLFxyXG4gICAgICAgICd0cmFja1BhZ2VWaWV3JyxcclxuICAgICAgICAndHJhY2tDb252ZXJzaW9uJyxcclxuICAgICAgICAndHJhY2tQcm9kdWN0VmlldycsXHJcbiAgICAgICAgJ3RyYWNrQWRkVG9DYXJ0JyxcclxuICAgICAgICAndHJhY2tSZW1vdmVGcm9tQ2FydCcsXHJcbiAgICAgICAgJ3RyYWNrQ2hlY2tvdXRTdGFydCcsXHJcbiAgICAgICAgJ3RyYWNrUHVyY2hhc2UnLFxyXG4gICAgICAgICd0cmFja1NlYXJjaCcsXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBleHBlY3RlZEZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmNOYW1lID0+IHtcclxuICAgICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50W2Z1bmNOYW1lXSkudG9CZSgnZnVuY3Rpb24nKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0V2ZW50IFRyYWNraW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBnZW5lcmljIGV2ZW50cyBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudCgndGVzdF9ldmVudCcsICd0ZXN0X2NhdGVnb3J5JywgJ3Rlc3RfYWN0aW9uJywgJ3Rlc3RfbGFiZWwnLCAxMDApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tFdmVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ3Rlc3RfZXZlbnQnLFxyXG4gICAgICAgICd0ZXN0X2NhdGVnb3J5JyxcclxuICAgICAgICAndGVzdF9hY3Rpb24nLFxyXG4gICAgICAgICd0ZXN0X2xhYmVsJyxcclxuICAgICAgICAxMDAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICB1c2VySWQ6ICd0ZXN0LXVzZXItMTIzJ1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdHJhY2sgcHJvZHVjdCB2aWV3IGV2ZW50cycsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xyXG5cclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1Byb2R1Y3RWaWV3KCdwcm9kLTEyMycsICdUZXN0IFByb2R1Y3QnLCAnRWxlY3Ryb25pY3MnLCA5OS45OSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0Vjb21tZXJjZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndmlld19pdGVtJywge1xyXG4gICAgICAgIGl0ZW1faWQ6ICdwcm9kLTEyMycsXHJcbiAgICAgICAgaXRlbV9uYW1lOiAnVGVzdCBQcm9kdWN0JyxcclxuICAgICAgICBpdGVtX2NhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLFxyXG4gICAgICAgIHByaWNlOiA5OS45OSxcclxuICAgICAgICBjdXJyZW5jeTogJ0FSUycsXHJcbiAgICAgICAgdXNlcklkOiAndGVzdC11c2VyLTEyMycsXHJcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGFkZCB0byBjYXJ0IGV2ZW50cycsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xyXG5cclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0FkZFRvQ2FydCgncHJvZC0xMjMnLCAnVGVzdCBQcm9kdWN0JywgOTkuOTksIDIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tFY29tbWVyY2VFdmVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FkZF90b19jYXJ0Jywge1xyXG4gICAgICAgIGl0ZW1faWQ6ICdwcm9kLTEyMycsXHJcbiAgICAgICAgaXRlbV9uYW1lOiAnVGVzdCBQcm9kdWN0JyxcclxuICAgICAgICBwcmljZTogOTkuOTksXHJcbiAgICAgICAgcXVhbnRpdHk6IDIsXHJcbiAgICAgICAgY3VycmVuY3k6ICdBUlMnLFxyXG4gICAgICAgIHZhbHVlOiAxOTkuOTgsXHJcbiAgICAgICAgdXNlcklkOiAndGVzdC11c2VyLTEyMycsXHJcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNoZWNrb3V0IHN0YXJ0IGV2ZW50cycsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xyXG5cclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0NoZWNrb3V0U3RhcnQoMjk5Ljk4LCAzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRWNvbW1lcmNlRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdiZWdpbl9jaGVja291dCcsIHtcclxuICAgICAgICB2YWx1ZTogMjk5Ljk4LFxyXG4gICAgICAgIGN1cnJlbmN5OiAnQVJTJyxcclxuICAgICAgICBudW1faXRlbXM6IDMsXHJcbiAgICAgICAgdXNlcklkOiAndGVzdC11c2VyLTEyMycsXHJcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIHB1cmNoYXNlIGV2ZW50cycsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xyXG4gICAgICBjb25zdCBtb2NrSXRlbXMgPSBbeyBpZDogJ2l0ZW0xJywgbmFtZTogJ1Byb2R1Y3QgMScsIHByaWNlOiA5OS45OSB9XTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tQdXJjaGFzZSgnb3JkZXItMTIzJywgMjk5Ljk4LCBtb2NrSXRlbXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tFY29tbWVyY2VFdmVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3B1cmNoYXNlJywge1xyXG4gICAgICAgIHRyYW5zYWN0aW9uX2lkOiAnb3JkZXItMTIzJyxcclxuICAgICAgICB2YWx1ZTogMjk5Ljk4LFxyXG4gICAgICAgIGN1cnJlbmN5OiAnQVJTJyxcclxuICAgICAgICBpdGVtczogbW9ja0l0ZW1zLFxyXG4gICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlci0xMjMnLFxyXG4gICAgICAgIHVzZXJFbWFpbDogdW5kZWZpbmVkXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBzZWFyY2ggZXZlbnRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrU2VhcmNoKCd0ZXN0IHF1ZXJ5JywgMTUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tFY29tbWVyY2VFdmVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3NlYXJjaCcsIHtcclxuICAgICAgICBzZWFyY2hfdGVybTogJ3Rlc3QgcXVlcnknLFxyXG4gICAgICAgIHJlc3VsdHNfY291bnQ6IDE1LFxyXG4gICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlci0xMjMnLFxyXG4gICAgICAgIHVzZXJFbWFpbDogdW5kZWZpbmVkXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdEYXRhIFJldHJpZXZhbCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2V0IGV2ZW50cyBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50cyA9IHJlc3VsdC5jdXJyZW50LmdldEV2ZW50cygpO1xyXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldEV2ZW50cykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShldmVudHMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZXQgc2Vzc2lvbiBJRCBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcclxuXHJcbiAgICAgIGNvbnN0IHNlc3Npb25JZCA9IHJlc3VsdC5jdXJyZW50LmdldFNlc3Npb25JZCgpO1xyXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldFNlc3Npb25JZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3Qoc2Vzc2lvbklkKS50b0JlKCd0ZXN0LXNlc3Npb24tMTIzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCBjb252ZXJzaW9uIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q29udmVyc2lvbk1ldHJpY3MoKTtcclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3QobWV0cmljcykudG9FcXVhbCh7XHJcbiAgICAgICAgY2FydEFkZGl0aW9uczogNSxcclxuICAgICAgICBjYXJ0UmVtb3ZhbHM6IDEsXHJcbiAgICAgICAgY2hlY2tvdXRTdGFydHM6IDMsXHJcbiAgICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcclxuICAgICAgICBwcm9kdWN0Vmlld3M6IDI1LFxyXG4gICAgICAgIGNhdGVnb3J5Vmlld3M6IDgsXHJcbiAgICAgICAgc2VhcmNoUXVlcmllczogMTIsXHJcbiAgICAgICAgY29udmVyc2lvblJhdGU6IDAuMDgsXHJcbiAgICAgICAgYXZlcmFnZU9yZGVyVmFsdWU6IDE1MC43NSxcclxuICAgICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU3RhdGUgTWFuYWdlbWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGVuYWJsZWQgc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xyXG5cclxuICAgICAgYWN0KCgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC5zZXRFbmFibGVkKGZhbHNlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKGZhbHNlKTtcclxuXHJcbiAgICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0RW5hYmxlZCh0cnVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZWZyZXNoIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XHJcblxyXG4gICAgICBhY3QoKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlZnJlc2hNZXRyaWNzKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ3VzZVJlYWxUaW1lTWV0cmljcyBIb29rJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcclxuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBtZXRyaWNzIGZyb20gYW5hbHl0aWNzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVhbFRpbWVNZXRyaWNzKCkpO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9FcXVhbCh7XHJcbiAgICAgIGNhcnRBZGRpdGlvbnM6IDUsXHJcbiAgICAgIGNhcnRSZW1vdmFsczogMSxcclxuICAgICAgY2hlY2tvdXRTdGFydHM6IDMsXHJcbiAgICAgIGNoZWNrb3V0Q29tcGxldGlvbnM6IDIsXHJcbiAgICAgIHByb2R1Y3RWaWV3czogMjUsXHJcbiAgICAgIGNhdGVnb3J5Vmlld3M6IDgsXHJcbiAgICAgIHNlYXJjaFF1ZXJpZXM6IDEyLFxyXG4gICAgICBjb252ZXJzaW9uUmF0ZTogMC4wOCxcclxuICAgICAgYXZlcmFnZU9yZGVyVmFsdWU6IDE1MC43NSxcclxuICAgICAgY2FydEFiYW5kb25tZW50UmF0ZTogMC4zMyxcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHVwZGF0ZSBtZXRyaWNzIGF0IHNwZWNpZmllZCBpbnRlcnZhbCcsICgpID0+IHtcclxuICAgIHJlbmRlckhvb2soKCkgPT4gdXNlUmVhbFRpbWVNZXRyaWNzKDEwMDApKTtcclxuXHJcbiAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcclxuICB9KTtcclxufSk7XHJcblxyXG4vLyB1c2VDb21wb25lbnRUcmFja2luZyB0ZXN0cyBza2lwcGVkIGR1ZSB0byBkZXBlbmRlbmN5IG9uIHVzZU9wdGltaXplZEFuYWx5dGljc1xyXG4vLyBUaGlzIGhvb2sgd2lsbCBiZSB0ZXN0ZWQgc2VwYXJhdGVseSB3aGVuIHVzZU9wdGltaXplZEFuYWx5dGljcyBpcyBwcm9wZXJseSBtb2NrZWRcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlQXV0aCIsInVzZXIiLCJpZCIsImVtYWlsIiwiaXNMb2FkZWQiLCJ1c2VQYXRobmFtZSIsImFuYWx5dGljcyIsInRyYWNrRXZlbnQiLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidW5kZWZpbmVkIiwidHJhY2tFY29tbWVyY2VFdmVudCIsInRyYWNrUGFnZVZpZXciLCJ0cmFja0NvbnZlcnNpb24iLCJ0cmFja1Byb2R1Y3RWaWV3IiwidHJhY2tBZGRUb0NhcnQiLCJ0cmFja1JlbW92ZUZyb21DYXJ0IiwidHJhY2tDaGVja291dFN0YXJ0IiwidHJhY2tQdXJjaGFzZSIsInRyYWNrU2VhcmNoIiwiZ2V0RXZlbnRzIiwiZ2V0SW50ZXJhY3Rpb25zIiwiZ2V0Q29udmVyc2lvbk1ldHJpY3MiLCJjYXJ0QWRkaXRpb25zIiwiY2FydFJlbW92YWxzIiwiY2hlY2tvdXRTdGFydHMiLCJjaGVja291dENvbXBsZXRpb25zIiwicHJvZHVjdFZpZXdzIiwiY2F0ZWdvcnlWaWV3cyIsInNlYXJjaFF1ZXJpZXMiLCJjb252ZXJzaW9uUmF0ZSIsImF2ZXJhZ2VPcmRlclZhbHVlIiwiY2FydEFiYW5kb25tZW50UmF0ZSIsImdldFNlc3Npb25JZCIsImluaXRpYWxpemUiLCJlbmFibGUiLCJkaXNhYmxlIiwiZ2V0TWV0cmljcyIsInBhZ2VWaWV3cyIsInVuaXF1ZVZpc2l0b3JzIiwiYm91bmNlUmF0ZSIsImF2Z1Nlc3Npb25EdXJhdGlvbiIsInRvdGFsUmV2ZW51ZSIsImlzRW5hYmxlZCIsIm9wdGltaXplZEFuYWx5dGljcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJ3cml0YWJsZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VBbmFseXRpY3MiLCJleHBlY3QiLCJjdXJyZW50IiwidG9CZSIsInNlc3Npb25NZXRyaWNzIiwidG9CZURlZmluZWQiLCJleHBlY3RlZEZ1bmN0aW9ucyIsImZvckVhY2giLCJmdW5jTmFtZSIsImFjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidXNlckVtYWlsIiwidXNlcklkIiwiaXRlbV9pZCIsIml0ZW1fbmFtZSIsIml0ZW1fY2F0ZWdvcnkiLCJwcmljZSIsImN1cnJlbmN5IiwicXVhbnRpdHkiLCJudW1faXRlbXMiLCJtb2NrSXRlbXMiLCJuYW1lIiwidHJhbnNhY3Rpb25faWQiLCJpdGVtcyIsInNlYXJjaF90ZXJtIiwicmVzdWx0c19jb3VudCIsImV2ZW50cyIsInRvSGF2ZUJlZW5DYWxsZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXNzaW9uSWQiLCJtZXRyaWNzIiwidG9FcXVhbCIsInNldEVuYWJsZWQiLCJyZWZyZXNoTWV0cmljcyIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJ1c2VSZWFsVGltZXJzIiwidXNlUmVhbFRpbWVNZXRyaWNzIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiYWR2YW5jZVRpbWVyc0J5VGltZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Q0FJQztBQU1ELG9CQUFvQjtBQUNwQkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFNBQVMsSUFBTyxDQUFBO2dCQUNkQyxNQUFNO29CQUFFQyxJQUFJO29CQUFpQkMsT0FBTztnQkFBbUI7Z0JBQ3ZEQyxVQUFVO1lBQ1osQ0FBQTtJQUNGLENBQUE7QUFFQSxtQkFBbUI7QUFDbkJOLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDTSxhQUFhLElBQU07SUFDckIsQ0FBQTtBQUVBLHFCQUFxQjtBQUNyQlAsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENPLFdBQVc7WUFDVEMsWUFBWVQsS0FBS1UsRUFBRSxHQUFHQyxpQkFBaUIsQ0FBQ0M7WUFDeENDLHFCQUFxQmIsS0FB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