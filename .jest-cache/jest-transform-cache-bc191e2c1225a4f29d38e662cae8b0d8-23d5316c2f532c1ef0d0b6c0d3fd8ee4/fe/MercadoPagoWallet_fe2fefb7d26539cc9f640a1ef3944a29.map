{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Checkout\\MercadoPagoWallet.tsx"],"sourcesContent":["// ===================================\n// PINTEYA E-COMMERCE - MERCADOPAGO WALLET BRICK\n// ===================================\n\n'use client'\nimport { useEffect, useRef, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Loader2, CreditCard, AlertTriangle, CheckCircle, Shield, Lock } from 'lucide-react'\n\n// Tipos para el SDK de MercadoPago\ndeclare global {\n  interface Window {\n    MercadoPago: any\n  }\n}\n\ninterface MercadoPagoWalletProps {\n  preferenceId: string\n  onReady?: () => void\n  onError?: (error: any) => void\n  onSubmit?: (data: any) => void\n  className?: string\n}\n\nexport default function MercadoPagoWallet({\n  preferenceId,\n  onReady,\n  onError,\n  onSubmit,\n  className = '',\n}: MercadoPagoWalletProps) {\n  const walletRef = useRef<HTMLDivElement>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [isReady, setIsReady] = useState(false)\n  const [sdkLoaded, setSdkLoaded] = useState(false)\n\n  // Verificar si el SDK ya est√° cargado\n  useEffect(() => {\n    // ‚úÖ NUEVO: Verificar que estamos en la p√°gina correcta antes de cargar el SDK\n    if (typeof window !== 'undefined') {\n      const currentPath = window.location.pathname\n      if (\n        currentPath.includes('/checkout/success') ||\n        currentPath.includes('/checkout/failure') ||\n        currentPath.includes('/checkout/pending')\n      ) {\n        console.log('üö´ SDK de MercadoPago no se carga en p√°ginas de resultado')\n        return\n      }\n    }\n\n    if (window.MercadoPago) {\n      setSdkLoaded(true)\n      return\n    }\n\n    // Verificar si ya existe un script del SDK\n    const existingScript = document.querySelector('script[src*=\"sdk.mercadopago.com\"]')\n    if (existingScript) {\n      existingScript.addEventListener('load', () => setSdkLoaded(true))\n      return\n    }\n\n    // Cargar el SDK de MercadoPago\n    const script = document.createElement('script')\n    script.src = 'https://sdk.mercadopago.com/js/v2'\n    script.async = true\n\n    script.onload = () => {\n      setSdkLoaded(true)\n    }\n\n    script.onerror = () => {\n      setError('Error al cargar el SDK de MercadoPago')\n      setIsLoading(false)\n      onError?.('Error al cargar el SDK de MercadoPago')\n    }\n\n    document.head.appendChild(script)\n\n    return () => {\n      // No remover el script para evitar problemas de recarga\n    }\n  }, [onError])\n\n  // Inicializar el Wallet Brick cuando el SDK est√© listo\n  useEffect(() => {\n    if (!sdkLoaded || !preferenceId) {\n      return\n    }\n\n    // ‚úÖ NUEVO: Verificar que estamos en la p√°gina correcta\n    // No inicializar el Wallet Brick en p√°ginas de resultado\n    if (typeof window !== 'undefined') {\n      const currentPath = window.location.pathname\n      if (\n        currentPath.includes('/checkout/success') ||\n        currentPath.includes('/checkout/failure') ||\n        currentPath.includes('/checkout/pending')\n      ) {\n        console.log('üö´ Wallet Brick no se inicializa en p√°ginas de resultado')\n        return\n      }\n    }\n\n    const initializeWallet = async () => {\n      try {\n        setIsLoading(true)\n        setError(null)\n\n        // Verificar que tenemos la clave p√∫blica\n        const publicKey = process.env.NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY\n        if (!publicKey) {\n          throw new Error('Clave p√∫blica de MercadoPago no configurada')\n        }\n\n        // Verificar que el contenedor existe antes de inicializar\n        const container = document.getElementById('wallet_container')\n        if (!container) {\n          console.warn('‚ö†Ô∏è Contenedor wallet_container no encontrado, cancelando inicializaci√≥n')\n          return\n        }\n\n        // Inicializar MercadoPago\n        const mp = new window.MercadoPago(publicKey)\n\n        // Limpiar contenedor anterior si existe\n        container.innerHTML = ''\n\n        // Crear el Wallet Brick con manejo de errores mejorado\n        try {\n          await mp.bricks().create('wallet', 'wallet_container', {\n            initialization: {\n              preferenceId: preferenceId,\n              redirectMode: 'self', // Mantener en la misma pesta√±a\n            },\n            callbacks: {\n              onReady: () => {\n                setIsLoading(false)\n                setIsReady(true)\n                onReady?.()\n              },\n              onError: (error: any) => {\n                console.error('Error en Wallet Brick:', error)\n                setError(error.message || 'Error en el procesamiento del pago')\n                setIsLoading(false)\n                onError?.(error)\n              },\n              onSubmit: (data: any) => {\n                onSubmit?.(data)\n              },\n            },\n            customization: {\n              texts: {\n                valueProp: 'smart_option',\n              },\n              visual: {\n                buttonBackground: 'default',\n                borderRadius: '8px',\n              },\n            },\n          })\n        } catch (brickError: any) {\n          // Manejo espec√≠fico de errores del Wallet Brick\n          if (\n            brickError.message?.includes('wallet_container') ||\n            brickError.message?.includes('container')\n          ) {\n            console.warn(\n              '‚ö†Ô∏è Contenedor wallet_container no disponible, esto es normal en p√°ginas de resultado'\n            )\n            return // Salir silenciosamente\n          }\n          throw brickError // Re-lanzar otros errores\n        }\n      } catch (error: any) {\n        console.error('Error inicializando Wallet Brick:', error)\n        setError(error.message || 'Error inicializando el sistema de pagos')\n        setIsLoading(false)\n        onError?.(error)\n      }\n    }\n\n    initializeWallet()\n  }, [sdkLoaded, preferenceId, onReady, onError, onSubmit])\n\n  const handleRetry = () => {\n    setError(null)\n    setIsLoading(true)\n    setIsReady(false)\n\n    // Recargar la p√°gina para reiniciar el proceso\n    window.location.reload()\n  }\n\n  const isMobileOptimized = className?.includes('mobile-optimized')\n\n  return (\n    <Card className={`w-full shadow-lg ${className}`}>\n      <CardHeader\n        className={cn(\n          'bg-gradient-to-r from-blaze-orange-50 to-yellow-50 border-b',\n          isMobileOptimized && 'px-4 py-4'\n        )}\n      >\n        <div\n          className={cn(\n            'flex items-center justify-between',\n            isMobileOptimized && 'flex-col gap-3 items-start'\n          )}\n        >\n          <CardTitle\n            className={cn(\n              'flex items-center gap-2 text-blaze-orange-700',\n              isMobileOptimized && 'text-lg'\n            )}\n          >\n            <CreditCard className={cn('w-5 h-5', isMobileOptimized && 'w-4 h-4')} />\n            M√©todo de Pago Seguro\n          </CardTitle>\n          <div\n            className={cn('flex items-center gap-2', isMobileOptimized && 'w-full justify-between')}\n          >\n            <Badge variant='secondary' className='bg-green-100 text-green-700 text-xs'>\n              <Shield className='w-3 h-3 mr-1' />\n              Seguro\n            </Badge>\n            <Badge variant='secondary' className='bg-blue-100 text-blue-700 text-xs'>\n              <Lock className='w-3 h-3 mr-1' />\n              SSL\n            </Badge>\n          </div>\n        </div>\n        <p className={cn('text-sm text-gray-600 mt-1', isMobileOptimized && 'text-xs mt-2')}>\n          Completa tu pago de forma segura con MercadoPago\n        </p>\n      </CardHeader>\n      <CardContent className={cn('p-6', isMobileOptimized && 'p-4')}>\n        {/* Estado de carga */}\n        {isLoading && (\n          <div\n            className={cn(\n              'flex flex-col items-center justify-center py-12 space-y-6',\n              isMobileOptimized && 'py-8 space-y-4'\n            )}\n          >\n            <div className='relative'>\n              <div\n                className={cn(\n                  'w-16 h-16 rounded-full bg-blaze-orange-100 flex items-center justify-center',\n                  isMobileOptimized && 'w-12 h-12'\n                )}\n              >\n                <Loader2\n                  className={cn(\n                    'w-8 h-8 animate-spin text-blaze-orange-600',\n                    isMobileOptimized && 'w-6 h-6'\n                  )}\n                />\n              </div>\n              <div className='absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center'>\n                <CreditCard className='w-3 h-3 text-gray-700' />\n              </div>\n            </div>\n            <div className='text-center space-y-2'>\n              <p className='font-medium text-gray-900'>Cargando opciones de pago</p>\n              <p className='text-sm text-gray-600'>Preparando tu experiencia de pago segura...</p>\n            </div>\n            <div className='w-full bg-gray-200 rounded-full h-2'>\n              <div\n                className='bg-blaze-orange-600 h-2 rounded-full animate-pulse'\n                style={{ width: '60%' }}\n              ></div>\n            </div>\n          </div>\n        )}\n\n        {/* Estado de error */}\n        {error && (\n          <div className='flex flex-col items-center justify-center py-12 space-y-6'>\n            <div className='w-16 h-16 rounded-full bg-red-100 flex items-center justify-center'>\n              <AlertTriangle className='w-8 h-8 text-red-600' />\n            </div>\n            <div className='text-center space-y-2'>\n              <p className='font-medium text-red-800'>Error al cargar el sistema de pagos</p>\n              <p className='text-sm text-red-600'>\n                {error instanceof Error ? error.message : String(error) || 'Error desconocido'}\n              </p>\n            </div>\n            <Button\n              onClick={handleRetry}\n              className='bg-blaze-orange-600 hover:bg-blaze-orange-700 text-white'\n              size='lg'\n            >\n              <CreditCard className='w-4 h-4 mr-2' />\n              Reintentar Carga\n            </Button>\n          </div>\n        )}\n\n        {/* Estado listo */}\n        {isReady && !error && (\n          <div className='mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg'>\n            <div className='flex items-center gap-3'>\n              <CheckCircle className='w-5 h-5 text-green-600 flex-shrink-0' />\n              <div>\n                <p className='font-medium text-green-800'>Sistema de pagos listo</p>\n                <p className='text-sm text-green-700 mt-1'>\n                  Selecciona tu m√©todo de pago preferido\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Contenedor del Wallet Brick */}\n        <div\n          id='wallet_container'\n          ref={walletRef}\n          className={`min-h-[300px] rounded-lg border border-gray-200 ${isLoading || error ? 'hidden' : 'block'}`}\n        />\n\n        {/* Informaci√≥n adicional */}\n        {isReady && !error && (\n          <div className='mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg'>\n            <div className='flex items-start gap-3'>\n              <Shield className='w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5' />\n              <div>\n                <p className='font-medium text-blue-800 mb-2'>Pago 100% Seguro</p>\n                <p className='text-sm text-blue-700'>\n                  Acepta tarjetas de cr√©dito, d√©bito, efectivo y transferencias bancarias. Tus datos\n                  est√°n protegidos con encriptaci√≥n de nivel bancario y certificaci√≥n PCI DSS.\n                </p>\n                <div className='flex items-center gap-4 mt-3 text-xs text-blue-600'>\n                  <span className='flex items-center gap-1'>\n                    <Lock className='w-3 h-3' />\n                    SSL 256-bit\n                  </span>\n                  <span className='flex items-center gap-1'>\n                    <Shield className='w-3 h-3' />\n                    PCI DSS\n                  </span>\n                  <span className='flex items-center gap-1'>\n                    <CheckCircle className='w-3 h-3' />\n                    Verificado\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\n// Componente de fallback para casos de error cr√≠tico\nexport function MercadoPagoWalletFallback({\n  initPoint,\n  className = '',\n}: {\n  initPoint: string\n  className?: string\n}) {\n  const isMobileOptimized = className?.includes('mobile-optimized')\n\n  return (\n    <Card className={`w-full shadow-lg ${className}`}>\n      <CardHeader\n        className={cn(\n          'bg-gradient-to-r from-yellow-50 to-orange-50 border-b',\n          isMobileOptimized && 'px-4 py-4'\n        )}\n      >\n        <CardTitle\n          className={cn(\n            'flex items-center gap-2 text-blaze-orange-700',\n            isMobileOptimized && 'text-lg'\n          )}\n        >\n          <CreditCard className={cn('w-5 h-5', isMobileOptimized && 'w-4 h-4')} />\n          M√©todo de Pago Alternativo\n        </CardTitle>\n        <p className={cn('text-sm text-gray-600 mt-1', isMobileOptimized && 'text-xs')}>\n          Contin√∫a con el pago en la plataforma de MercadoPago\n        </p>\n      </CardHeader>\n      <CardContent className={cn('p-6', isMobileOptimized && 'p-4')}>\n        <div className={cn('text-center py-8 space-y-6', isMobileOptimized && 'py-6 space-y-4')}>\n          <div\n            className={cn(\n              'w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto',\n              isMobileOptimized && 'w-12 h-12'\n            )}\n          >\n            <CreditCard className={cn('w-8 h-8 text-blue-600', isMobileOptimized && 'w-6 h-6')} />\n          </div>\n          <div className='space-y-2'>\n            <p className={cn('font-medium text-gray-900', isMobileOptimized && 'text-lg')}>\n              Finaliza tu compra en MercadoPago\n            </p>\n            <p className={cn('text-sm text-gray-600', isMobileOptimized && 'text-xs')}>\n              Ser√°s redirigido a la plataforma segura de MercadoPago para completar tu pago\n            </p>\n          </div>\n          <Button\n            onClick={() => window.open(initPoint, '_blank')}\n            className={cn(\n              'w-full h-12 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200',\n              isMobileOptimized && 'h-14 text-base rounded-xl active:scale-[0.98]'\n            )}\n            size='lg'\n          >\n            <CreditCard className={cn('w-5 h-5 mr-2', isMobileOptimized && 'w-4 h-4')} />\n            Continuar con MercadoPago\n          </Button>\n          <div\n            className={cn(\n              'flex items-center justify-center gap-4 text-xs text-gray-500',\n              isMobileOptimized && 'gap-6'\n            )}\n          >\n            <span className='flex items-center gap-1'>\n              <Shield className='w-3 h-3' />\n              Pago Seguro\n            </span>\n            <span className='flex items-center gap-1'>\n              <Lock className='w-3 h-3' />\n              Datos Protegidos\n            </span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":["MercadoPagoWalletFallback","MercadoPagoWallet","preferenceId","onReady","onError","onSubmit","className","walletRef","useRef","isLoading","setIsLoading","useState","error","setError","isReady","setIsReady","sdkLoaded","setSdkLoaded","useEffect","window","currentPath","location","pathname","includes","console","log","MercadoPago","existingScript","document","querySelector","addEventListener","script","createElement","src","async","onload","onerror","head","appendChild","initializeWallet","publicKey","process","env","NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY","Error","container","getElementById","warn","mp","innerHTML","bricks","create","initialization","redirectMode","callbacks","message","data","customization","texts","valueProp","visual","buttonBackground","borderRadius","brickError","handleRetry","reload","isMobileOptimized","Card","CardHeader","cn","div","CardTitle","CreditCard","Badge","variant","Shield","Lock","p","CardContent","Loader2","style","width","AlertTriangle","String","Button","onClick","size","CheckCircle","id","ref","span","initPoint","open"],"mappings":"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"}