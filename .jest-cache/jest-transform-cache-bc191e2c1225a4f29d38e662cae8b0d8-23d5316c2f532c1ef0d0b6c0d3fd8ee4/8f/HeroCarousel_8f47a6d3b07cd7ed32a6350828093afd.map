{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Common\\HeroCarousel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Autoplay, Pagination, Navigation, Keyboard, A11y } from \"swiper/modules\";\r\n\r\n// Import Swiper styles\r\nimport \"swiper/css\";\r\nimport \"swiper/css/pagination\";\r\nimport \"swiper/css/navigation\";\r\n\r\ninterface HeroImage {\r\n  src: string;\r\n  alt: string;\r\n  priority?: boolean;\r\n  unoptimized?: boolean;\r\n}\r\n\r\ninterface HeroCarouselProps {\r\n  images: HeroImage[];\r\n  autoplayDelay?: number;\r\n  className?: string;\r\n  showNavigation?: boolean;\r\n  showPagination?: boolean;\r\n  onSlideChange?: (index: number) => void;\r\n}\r\n\r\nconst HeroCarousel: React.FC<HeroCarouselProps> = ({\r\n  images,\r\n  autoplayDelay = 5000,\r\n  className = \"\",\r\n  showNavigation = true,\r\n  showPagination = true,\r\n  onSlideChange,\r\n}) => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isAutoplayPaused, setIsAutoplayPaused] = useState(false);\r\n  const swiperRef = useRef<any>(null);\r\n\r\n  // Handle slide change\r\n  const handleSlideChange = (swiper: any) => {\r\n    const newIndex = swiper.realIndex;\r\n    setCurrentSlide(newIndex);\r\n    onSlideChange?.(newIndex);\r\n  };\r\n\r\n  // Handle mouse enter/leave for autoplay pause\r\n  const handleMouseEnter = () => {\r\n    setIsAutoplayPaused(true);\r\n    if (swiperRef.current?.autoplay) {\r\n      swiperRef.current.autoplay.stop();\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setIsAutoplayPaused(false);\r\n    if (swiperRef.current?.autoplay) {\r\n      swiperRef.current.autoplay.start();\r\n    }\r\n  };\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (!swiperRef.current) {return;}\r\n\r\n      switch (event.key) {\r\n        case \"ArrowLeft\":\r\n          event.preventDefault();\r\n          swiperRef.current.slidePrev();\r\n          break;\r\n        case \"ArrowRight\":\r\n          event.preventDefault();\r\n          swiperRef.current.slideNext();\r\n          break;\r\n        case \"Escape\":\r\n          event.preventDefault();\r\n          if (isAutoplayPaused) {\r\n            handleMouseLeave();\r\n          } else {\r\n            handleMouseEnter();\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [isAutoplayPaused]);\r\n\r\n  return (\r\n    <div\r\n      role=\"region\"\r\n      aria-label=\"Carrusel de imágenes principales\"\r\n      aria-live=\"polite\"\r\n      className={`hero-carousel relative w-full h-full ${className}`}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <Swiper\r\n        modules={[Autoplay, Pagination, Navigation, Keyboard, A11y]}\r\n        autoplay={{\r\n          delay: autoplayDelay,\r\n          disableOnInteraction: false,\r\n          pauseOnMouseEnter: true,\r\n        }}\r\n        pagination={showPagination ? {\r\n          clickable: true,\r\n          bulletClass: \"hero-carousel-bullet\",\r\n          bulletActiveClass: \"hero-carousel-bullet-active\",\r\n          dynamicBullets: false,\r\n          renderBullet: function (index: number, className: string) {\r\n            return `<span class=\"${className}\" data-index=\"${index}\" role=\"button\" aria-label=\"Ir a imagen ${index + 1}\" tabindex=\"0\"></span>`;\r\n          },\r\n        } : false}\r\n        navigation={showNavigation ? {\r\n          nextEl: \".hero-carousel-button-next\",\r\n          prevEl: \".hero-carousel-button-prev\",\r\n        } : false}\r\n        keyboard={{\r\n          enabled: true,\r\n          onlyInViewport: true,\r\n        }}\r\n        a11y={{\r\n          enabled: true,\r\n        }}\r\n        loop={true}\r\n        speed={800}\r\n        effect=\"slide\"\r\n        spaceBetween={0}\r\n        slidesPerView={1}\r\n        centeredSlides={true}\r\n        onSlideChange={handleSlideChange}\r\n        onSwiper={(swiper: any) => {\r\n          swiperRef.current = swiper;\r\n        }}\r\n        aria-label=\"Galería de imágenes de productos\"\r\n        className=\"w-full h-full\"\r\n      >\r\n        {images.map((image, index) => (\r\n          <SwiperSlide\r\n            key={`${image.src}-${index}`}\r\n            role=\"group\"\r\n            aria-label={`${index + 1} de ${images.length}`}\r\n            className=\"flex items-center justify-center\"\r\n          >\r\n            <div className=\"relative w-full h-full\">\r\n              <Image\r\n                src={image.src}\r\n                alt={image.alt}\r\n                fill\r\n                className=\"object-contain transition-all duration-500 ease-in-out\"\r\n                priority={image.priority || index === 0}\r\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 60vw\"\r\n                quality={95}\r\n                unoptimized={image.unoptimized || true}\r\n                aria-describedby={`slide-description-${index}`}\r\n              />\r\n              <div id={`slide-description-${index}`} className=\"sr-only\">\r\n                {image.alt}\r\n              </div>\r\n            </div>\r\n          </SwiperSlide>\r\n        ))}\r\n      </Swiper>\r\n\r\n      {/* Custom Navigation Buttons */}\r\n      {showNavigation && (\r\n        <>\r\n          <button\r\n            className=\"hero-carousel-button-prev absolute left-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 md:w-12 md:h-12 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2\"\r\n            aria-label=\"Imagen anterior\"\r\n            type=\"button\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 md:w-6 md:h-6\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M15 19l-7-7 7-7\"\r\n              />\r\n            </svg>\r\n          </button>\r\n\r\n          <button\r\n            className=\"hero-carousel-button-next absolute right-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 md:w-12 md:h-12 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2\"\r\n            aria-label=\"Imagen siguiente\"\r\n            type=\"button\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 md:w-6 md:h-6\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M9 5l7 7-7 7\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {/* Slide Counter for Screen Readers */}\r\n      <div className=\"sr-only\" aria-live=\"polite\" aria-atomic=\"true\">\r\n        Imagen {currentSlide + 1} de {images.length}\r\n        {isAutoplayPaused ? \" - Reproducción automática pausada\" : \" - Reproducción automática activa\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeroCarousel;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["HeroCarousel","images","autoplayDelay","className","showNavigation","showPagination","onSlideChange","currentSlide","setCurrentSlide","useState","isAutoplayPaused","setIsAutoplayPaused","swiperRef","useRef","handleSlideChange","swiper","newIndex","realIndex","handleMouseEnter","current","autoplay","stop","handleMouseLeave","start","useEffect","handleKeyDown","event","key","preventDefault","slidePrev","slideNext","document","addEventListener","removeEventListener","div","role","aria-label","aria-live","onMouseEnter","onMouseLeave","Swiper","modules","Autoplay","Pagination","Navigation","Keyboard","A11y","delay","disableOnInteraction","pauseOnMouseEnter","pagination","clickable","bulletClass","bulletActiveClass","dynamicBullets","renderBullet","index","navigation","nextEl","prevEl","keyboard","enabled","onlyInViewport","a11y","loop","speed","effect","spaceBetween","slidesPerView","centeredSlides","onSwiper","map","image","SwiperSlide","length","Image","src","alt","fill","priority","sizes","quality","unoptimized","aria-describedby","id","button","type","svg","stroke","viewBox","aria-hidden","path","strokeLinecap","strokeLinejoin","strokeWidth","d","aria-atomic"],"mappings":"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"}