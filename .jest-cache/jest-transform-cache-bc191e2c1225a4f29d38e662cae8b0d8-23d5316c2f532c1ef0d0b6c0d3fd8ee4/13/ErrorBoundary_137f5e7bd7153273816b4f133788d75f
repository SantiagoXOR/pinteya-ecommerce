9a4fd981d7abfd47b6db2bbb02dd7fa2
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ErrorBoundary () {
        return ErrorBoundary;
    },
    get ErrorBoundaryWrapper () {
        return ErrorBoundaryWrapper;
    },
    get PageErrorBoundary () {
        return PageErrorBoundary;
    },
    get useErrorHandler () {
        return useErrorHandler;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _button = require("./ui/button");
const _card = require("./ui/card");
const _alert = require("./ui/alert");
const _proactivemonitoring = require("../lib/monitoring/proactive-monitoring");
const _logger = require("../lib/enterprise/logger");
const _lucidereact = require("lucide-react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
class ErrorBoundary extends _react.Component {
    constructor(props){
        super(props), this.handleRetry = ()=>{
            this.setState({
                hasError: false,
                error: null,
                errorInfo: null,
                errorId: null
            });
        }, this.handleReload = ()=>{
            if (typeof window !== 'undefined') {
                window.location.reload();
            }
        }, this.handleGoHome = ()=>{
            if (typeof window !== 'undefined') {
                window.location.href = '/';
            }
        };
        this.state = {
            hasError: false,
            error: null,
            errorInfo: null,
            errorId: null
        };
    }
    static getDerivedStateFromError(error) {
        // Actualizar el estado para mostrar la UI de error
        return {
            hasError: true,
            error,
            errorId: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
        };
    }
    async componentDidCatch(error, errorInfo) {
        // Actualizar estado con información del error
        this.setState({
            errorInfo
        });
        // Llamar callback personalizado si existe
        if (this.props.onError) {
            this.props.onError(error, errorInfo);
        }
        // Reportar error al sistema de monitoreo si está habilitado
        if (this.props.enableReporting !== false) {
            try {
                await _proactivemonitoring.proactiveMonitoring.reportError(error, {
                    errorBoundary: true,
                    componentStack: errorInfo.componentStack,
                    errorInfo: {
                        componentStack: errorInfo.componentStack,
                        errorBoundary: true
                    },
                    timestamp: new Date().toISOString(),
                    userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : 'unknown',
                    url: typeof window !== 'undefined' ? window.location.href : 'unknown',
                    errorId: this.state.errorId
                });
            } catch (reportingError) {
                _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report error to monitoring system', {
                    originalError: error.message,
                    reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
                }, _logger.LogCategory.SYSTEM);
            }
        }
        // Log del error
        _logger.logger.error(_logger.LogLevel.ERROR, 'React Error Boundary caught an error', {
            error: error.message,
            stack: error.stack,
            componentStack: errorInfo.componentStack,
            errorId: this.state.errorId
        }, _logger.LogCategory.UI);
    }
    render() {
        if (this.state.hasError) {
            // Usar fallback personalizado si se proporciona
            if (this.props.fallback) {
                return this.props.fallback;
            }
            // UI de error por defecto
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "min-h-screen flex items-center justify-center bg-gray-50 px-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                    className: "w-full max-w-2xl",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                            className: "text-center",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "mx-auto mb-4 h-12 w-12 text-red-500",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                        className: "h-full w-full"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                                    className: "text-2xl font-bold text-red-600",
                                    children: "\xa1Oops! Algo sali\xf3 mal"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardDescription, {
                                    className: "text-lg",
                                    children: "Se ha producido un error inesperado en la aplicaci\xf3n"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                            className: "space-y-6",
                            children: [
                                this.state.errorId && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_alert.Alert, {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Bug, {
                                            className: "h-4 w-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_alert.AlertDescription, {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                    children: "ID del Error:"
                                                }),
                                                " ",
                                                this.state.errorId,
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("br", {}),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "text-sm text-muted-foreground",
                                                    children: "Proporciona este ID al equipo de soporte para una asistencia m\xe1s r\xe1pida"
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                this.props.showDetails && this.state.error && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_alert.Alert, {
                                            variant: "destructive",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_alert.AlertDescription, {
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                        children: "Error:"
                                                    }),
                                                    " ",
                                                    this.state.error.message
                                                ]
                                            })
                                        }),
                                        this.state.error.stack && /*#__PURE__*/ (0, _jsxruntime.jsxs)("details", {
                                            className: "text-sm",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("summary", {
                                                    className: "cursor-pointer font-medium text-gray-700 hover:text-gray-900",
                                                    children: "Ver detalles t\xe9cnicos"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("pre", {
                                                    className: "mt-2 whitespace-pre-wrap bg-gray-100 p-3 rounded text-xs overflow-auto max-h-40",
                                                    children: this.state.error.stack
                                                })
                                            ]
                                        }),
                                        this.state.errorInfo?.componentStack && /*#__PURE__*/ (0, _jsxruntime.jsxs)("details", {
                                            className: "text-sm",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("summary", {
                                                    className: "cursor-pointer font-medium text-gray-700 hover:text-gray-900",
                                                    children: "Ver stack de componentes"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("pre", {
                                                    className: "mt-2 whitespace-pre-wrap bg-gray-100 p-3 rounded text-xs overflow-auto max-h-40",
                                                    children: this.state.errorInfo.componentStack
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex flex-col sm:flex-row gap-3 justify-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                            onClick: this.handleRetry,
                                            className: "flex items-center",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.RefreshCw, {
                                                    className: "h-4 w-4 mr-2"
                                                }),
                                                "Intentar de nuevo"
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                            variant: "outline",
                                            onClick: this.handleReload,
                                            className: "flex items-center",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.RefreshCw, {
                                                    className: "h-4 w-4 mr-2"
                                                }),
                                                "Recargar p\xe1gina"
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                            variant: "outline",
                                            onClick: this.handleGoHome,
                                            className: "flex items-center",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Home, {
                                                    className: "h-4 w-4 mr-2"
                                                }),
                                                "Ir al inicio"
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center text-sm text-muted-foreground",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            children: "Si el problema persiste, por favor contacta al equipo de soporte."
                                        }),
                                        this.props.enableReporting !== false && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "mt-1",
                                            children: "Este error ha sido reportado autom\xe1ticamente para su revisi\xf3n."
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                })
            });
        }
        return this.props.children;
    }
}
function useErrorHandler() {
    const reportError = _react.default.useCallback(async (error, context)=>{
        try {
            await _proactivemonitoring.proactiveMonitoring.reportError(error, {
                ...context,
                source: 'useErrorHandler',
                timestamp: new Date().toISOString(),
                url: typeof window !== 'undefined' ? window.location.href : 'unknown'
            });
        } catch (reportingError) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report error via useErrorHandler', {
                originalError: error.message,
                reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    }, []);
    return {
        reportError
    };
}
function ErrorBoundaryWrapper({ children, fallback, showDetails = process.env.NODE_ENV === 'development', enableReporting = true }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(ErrorBoundary, {
        fallback: fallback,
        showDetails: showDetails,
        enableReporting: enableReporting,
        children: children
    });
}
function PageErrorBoundary({ children }) {
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(ErrorBoundary, {
        showDetails: process.env.NODE_ENV === 'development',
        enableReporting: true,
        fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "min-h-screen flex items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                className: "w-full max-w-md",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.AlertTriangle, {
                                className: "h-12 w-12 text-red-500 mx-auto mb-4"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                                children: "Error en la p\xe1gina"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardDescription, {
                                children: "No se pudo cargar esta p\xe1gina correctamente"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                onClick: ()=>window.location.reload(),
                                className: "mr-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.RefreshCw, {
                                        className: "h-4 w-4 mr-2"
                                    }),
                                    "Recargar"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                variant: "outline",
                                onClick: ()=>window.location.href = '/',
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Home, {
                                        className: "h-4 w-4 mr-2"
                                    }),
                                    "Inicio"
                                ]
                            })
                        ]
                    })
                ]
            })
        }),
        children: children
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcRXJyb3JCb3VuZGFyeS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBFcnJvckluZm8sIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL3VpL2J1dHRvbidcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnLi91aS9jYXJkJ1xyXG5pbXBvcnQgeyBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiB9IGZyb20gJy4vdWkvYWxlcnQnXHJcbmltcG9ydCB7IHByb2FjdGl2ZU1vbml0b3JpbmcgfSBmcm9tICcuLi9saWIvbW9uaXRvcmluZy9wcm9hY3RpdmUtbW9uaXRvcmluZydcclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL2xvZ2dlcidcclxuaW1wb3J0IHsgQWxlcnRUcmlhbmdsZSwgUmVmcmVzaEN3LCBIb21lLCBCdWcgfSBmcm9tICdsdWNpZGUtcmVhY3QnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcclxuICBmYWxsYmFjaz86IFJlYWN0Tm9kZVxyXG4gIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yLCBlcnJvckluZm86IEVycm9ySW5mbykgPT4gdm9pZFxyXG4gIHNob3dEZXRhaWxzPzogYm9vbGVhblxyXG4gIGVuYWJsZVJlcG9ydGluZz86IGJvb2xlYW5cclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBoYXNFcnJvcjogYm9vbGVhblxyXG4gIGVycm9yOiBFcnJvciB8IG51bGxcclxuICBlcnJvckluZm86IEVycm9ySW5mbyB8IG51bGxcclxuICBlcnJvcklkOiBzdHJpbmcgfCBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBoYXNFcnJvcjogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBudWxsLFxyXG4gICAgICBlcnJvckluZm86IG51bGwsXHJcbiAgICAgIGVycm9ySWQ6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3I6IEVycm9yKTogUGFydGlhbDxTdGF0ZT4ge1xyXG4gICAgLy8gQWN0dWFsaXphciBlbCBlc3RhZG8gcGFyYSBtb3N0cmFyIGxhIFVJIGRlIGVycm9yXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoYXNFcnJvcjogdHJ1ZSxcclxuICAgICAgZXJyb3IsXHJcbiAgICAgIGVycm9ySWQ6IGBlcnJvcl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBFcnJvciwgZXJyb3JJbmZvOiBFcnJvckluZm8pIHtcclxuICAgIC8vIEFjdHVhbGl6YXIgZXN0YWRvIGNvbiBpbmZvcm1hY2nDs24gZGVsIGVycm9yXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JJbmZvIH0pXHJcblxyXG4gICAgLy8gTGxhbWFyIGNhbGxiYWNrIHBlcnNvbmFsaXphZG8gc2kgZXhpc3RlXHJcbiAgICBpZiAodGhpcy5wcm9wcy5vbkVycm9yKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25FcnJvcihlcnJvciwgZXJyb3JJbmZvKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcG9ydGFyIGVycm9yIGFsIHNpc3RlbWEgZGUgbW9uaXRvcmVvIHNpIGVzdMOhIGhhYmlsaXRhZG9cclxuICAgIGlmICh0aGlzLnByb3BzLmVuYWJsZVJlcG9ydGluZyAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBwcm9hY3RpdmVNb25pdG9yaW5nLnJlcG9ydEVycm9yKGVycm9yLCB7XHJcbiAgICAgICAgICBlcnJvckJvdW5kYXJ5OiB0cnVlLFxyXG4gICAgICAgICAgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5jb21wb25lbnRTdGFjayxcclxuICAgICAgICAgIGVycm9ySW5mbzoge1xyXG4gICAgICAgICAgICBjb21wb25lbnRTdGFjazogZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrLFxyXG4gICAgICAgICAgICBlcnJvckJvdW5kYXJ5OiB0cnVlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB1c2VyQWdlbnQ6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQgOiAndW5rbm93bicsXHJcbiAgICAgICAgICB1cmw6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAndW5rbm93bicsXHJcbiAgICAgICAgICBlcnJvcklkOiB0aGlzLnN0YXRlLmVycm9ySWRcclxuICAgICAgICB9KVxyXG4gICAgICB9IGNhdGNoIChyZXBvcnRpbmdFcnJvcikge1xyXG4gICAgICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgJ0ZhaWxlZCB0byByZXBvcnQgZXJyb3IgdG8gbW9uaXRvcmluZyBzeXN0ZW0nLCB7XHJcbiAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgcmVwb3J0aW5nRXJyb3I6IHJlcG9ydGluZ0Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyByZXBvcnRpbmdFcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9nIGRlbCBlcnJvclxyXG4gICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnUmVhY3QgRXJyb3IgQm91bmRhcnkgY2F1Z2h0IGFuIGVycm9yJywge1xyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxyXG4gICAgICBjb21wb25lbnRTdGFjazogZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrLFxyXG4gICAgICBlcnJvcklkOiB0aGlzLnN0YXRlLmVycm9ySWRcclxuICAgIH0sIExvZ0NhdGVnb3J5LlVJKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUmV0cnkgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaGFzRXJyb3I6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgZXJyb3JJbmZvOiBudWxsLFxyXG4gICAgICBlcnJvcklkOiBudWxsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUmVsb2FkID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlR29Ib21lID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5oYXNFcnJvcikge1xyXG4gICAgICAvLyBVc2FyIGZhbGxiYWNrIHBlcnNvbmFsaXphZG8gc2kgc2UgcHJvcG9yY2lvbmFcclxuICAgICAgaWYgKHRoaXMucHJvcHMuZmFsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5mYWxsYmFja1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVSSBkZSBlcnJvciBwb3IgZGVmZWN0b1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktNTAgcHgtNFwiPlxyXG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTJ4bFwiPlxyXG4gICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBtYi00IGgtMTIgdy0xMiB0ZXh0LXJlZC01MDBcIj5cclxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGxcIiAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtcmVkLTYwMFwiPlxyXG4gICAgICAgICAgICAgICAgwqFPb3BzISBBbGdvIHNhbGnDsyBtYWxcclxuICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cclxuICAgICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uIGNsYXNzTmFtZT1cInRleHQtbGdcIj5cclxuICAgICAgICAgICAgICAgIFNlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBpbmVzcGVyYWRvIGVuIGxhIGFwbGljYWNpw7NuXHJcbiAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XHJcbiAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cclxuICAgICAgICAgICAgICB7LyogRXJyb3IgSUQgcGFyYSBzb3BvcnRlICovfVxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9ySWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEFsZXJ0PlxyXG4gICAgICAgICAgICAgICAgICA8QnVnIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8QWxlcnREZXNjcmlwdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPklEIGRlbCBFcnJvcjo8L3N0cm9uZz4ge3RoaXMuc3RhdGUuZXJyb3JJZH1cclxuICAgICAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgUHJvcG9yY2lvbmEgZXN0ZSBJRCBhbCBlcXVpcG8gZGUgc29wb3J0ZSBwYXJhIHVuYSBhc2lzdGVuY2lhIG3DoXMgcsOhcGlkYVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9BbGVydERlc2NyaXB0aW9uPlxyXG4gICAgICAgICAgICAgICAgPC9BbGVydD5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7LyogRGV0YWxsZXMgZGVsIGVycm9yIChzb2xvIGVuIGRlc2Fycm9sbG8gbyBzaSBzZSBoYWJpbGl0YSBleHBsw61jaXRhbWVudGUpICovfVxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNob3dEZXRhaWxzICYmIHRoaXMuc3RhdGUuZXJyb3IgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FcnJvcjo8L3N0cm9uZz4ge3RoaXMuc3RhdGUuZXJyb3IubWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgICA8L0FsZXJ0RGVzY3JpcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIDwvQWxlcnQ+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvci5zdGFjayAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRldGFpbHMgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBob3Zlcjp0ZXh0LWdyYXktOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZlciBkZXRhbGxlcyB0w6ljbmljb3NcclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwibXQtMiB3aGl0ZXNwYWNlLXByZS13cmFwIGJnLWdyYXktMTAwIHAtMyByb3VuZGVkIHRleHQteHMgb3ZlcmZsb3ctYXV0byBtYXgtaC00MFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvci5zdGFja31cclxuICAgICAgICAgICAgICAgICAgICAgIDwvcHJlPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGV0YWlscz5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9ySW5mbz8uY29tcG9uZW50U3RhY2sgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkZXRhaWxzIGNsYXNzTmFtZT1cInRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzdW1tYXJ5IGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgaG92ZXI6dGV4dC1ncmF5LTkwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWZXIgc3RhY2sgZGUgY29tcG9uZW50ZXNcclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwibXQtMiB3aGl0ZXNwYWNlLXByZS13cmFwIGJnLWdyYXktMTAwIHAtMyByb3VuZGVkIHRleHQteHMgb3ZlcmZsb3ctYXV0byBtYXgtaC00MFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvckluZm8uY29tcG9uZW50U3RhY2t9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICB7LyogQWNjaW9uZXMgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0zIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmV0cnl9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgSW50ZW50YXIgZGUgbnVldm9cclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17dGhpcy5oYW5kbGVSZWxvYWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgUmVjYXJnYXIgcMOhZ2luYVxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUdvSG9tZX0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPEhvbWUgY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgSXIgYWwgaW5pY2lvXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgey8qIEluZm9ybWFjacOzbiBhZGljaW9uYWwgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgIFNpIGVsIHByb2JsZW1hIHBlcnNpc3RlLCBwb3IgZmF2b3IgY29udGFjdGEgYWwgZXF1aXBvIGRlIHNvcG9ydGUuXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5lbmFibGVSZXBvcnRpbmcgIT09IGZhbHNlICYmIChcclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEVzdGUgZXJyb3IgaGEgc2lkbyByZXBvcnRhZG8gYXV0b23DoXRpY2FtZW50ZSBwYXJhIHN1IHJldmlzacOzbi5cclxuICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cclxuICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSG9vayBwYXJhIHVzYXIgRXJyb3IgQm91bmRhcnkgZGUgZm9ybWEgZnVuY2lvbmFsXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRXJyb3JIYW5kbGVyKCkge1xyXG4gIGNvbnN0IHJlcG9ydEVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soYXN5bmMgKGVycm9yOiBFcnJvciwgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHByb2FjdGl2ZU1vbml0b3JpbmcucmVwb3J0RXJyb3IoZXJyb3IsIHtcclxuICAgICAgICAuLi5jb250ZXh0LFxyXG4gICAgICAgIHNvdXJjZTogJ3VzZUVycm9ySGFuZGxlcicsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJ3Vua25vd24nXHJcbiAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChyZXBvcnRpbmdFcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gcmVwb3J0IGVycm9yIHZpYSB1c2VFcnJvckhhbmRsZXInLCB7XHJcbiAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICByZXBvcnRpbmdFcnJvcjogcmVwb3J0aW5nRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHJlcG9ydGluZ0Vycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxyXG4gICAgfVxyXG4gIH0sIFtdKVxyXG5cclxuICByZXR1cm4geyByZXBvcnRFcnJvciB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wb25lbnRlIHdyYXBwZXIgcGFyYSBmYWNpbGl0YXIgZWwgdXNvIGRlIEVycm9yIEJvdW5kYXJ5XHJcbiAqL1xyXG5pbnRlcmZhY2UgRXJyb3JCb3VuZGFyeVdyYXBwZXJQcm9wcyB7XHJcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxyXG4gIGZhbGxiYWNrPzogUmVhY3ROb2RlXHJcbiAgc2hvd0RldGFpbHM/OiBib29sZWFuXHJcbiAgZW5hYmxlUmVwb3J0aW5nPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRXJyb3JCb3VuZGFyeVdyYXBwZXIoeyBcclxuICBjaGlsZHJlbiwgXHJcbiAgZmFsbGJhY2ssIFxyXG4gIHNob3dEZXRhaWxzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsXHJcbiAgZW5hYmxlUmVwb3J0aW5nID0gdHJ1ZSBcclxufTogRXJyb3JCb3VuZGFyeVdyYXBwZXJQcm9wcykge1xyXG4gIHJldHVybiAoXHJcbiAgICA8RXJyb3JCb3VuZGFyeSBcclxuICAgICAgZmFsbGJhY2s9e2ZhbGxiYWNrfVxyXG4gICAgICBzaG93RGV0YWlscz17c2hvd0RldGFpbHN9XHJcbiAgICAgIGVuYWJsZVJlcG9ydGluZz17ZW5hYmxlUmVwb3J0aW5nfVxyXG4gICAgPlxyXG4gICAgICB7Y2hpbGRyZW59XHJcbiAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgKVxyXG59XHJcblxyXG4vKipcclxuICogRXJyb3IgQm91bmRhcnkgZXNwZWPDrWZpY28gcGFyYSBww6FnaW5hc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VFcnJvckJvdW5kYXJ5KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPEVycm9yQm91bmRhcnlcclxuICAgICAgc2hvd0RldGFpbHM9e3Byb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnfVxyXG4gICAgICBlbmFibGVSZXBvcnRpbmc9e3RydWV9XHJcbiAgICAgIGZhbGxiYWNrPXtcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kXCI+XHJcbiAgICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIHRleHQtcmVkLTUwMCBteC1hdXRvIG1iLTRcIiAvPlxyXG4gICAgICAgICAgICAgIDxDYXJkVGl0bGU+RXJyb3IgZW4gbGEgcMOhZ2luYTwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XHJcbiAgICAgICAgICAgICAgICBObyBzZSBwdWRvIGNhcmdhciBlc3RhIHDDoWdpbmEgY29ycmVjdGFtZW50ZVxyXG4gICAgICAgICAgICAgIDwvQ2FyZERlc2NyaXB0aW9uPlxyXG4gICAgICAgICAgICA8L0NhcmRIZWFkZXI+XHJcbiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSBjbGFzc05hbWU9XCJtci0yXCI+XHJcbiAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBSZWNhcmdhclxyXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJ30+XHJcbiAgICAgICAgICAgICAgICA8SG9tZSBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgSW5pY2lvXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH1cclxuICAgID5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9FcnJvckJvdW5kYXJ5PlxyXG4gIClcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiRXJyb3JCb3VuZGFyeSIsIkVycm9yQm91bmRhcnlXcmFwcGVyIiwiUGFnZUVycm9yQm91bmRhcnkiLCJ1c2VFcnJvckhhbmRsZXIiLCJDb21wb25lbnQiLCJwcm9wcyIsImhhbmRsZVJldHJ5Iiwic2V0U3RhdGUiLCJoYXNFcnJvciIsImVycm9yIiwiZXJyb3JJbmZvIiwiZXJyb3JJZCIsImhhbmRsZVJlbG9hZCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiaGFuZGxlR29Ib21lIiwiaHJlZiIsInN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNvbXBvbmVudERpZENhdGNoIiwib25FcnJvciIsImVuYWJsZVJlcG9ydGluZyIsInByb2FjdGl2ZU1vbml0b3JpbmciLCJyZXBvcnRFcnJvciIsImVycm9yQm91bmRhcnkiLCJjb21wb25lbnRTdGFjayIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwidXJsIiwicmVwb3J0aW5nRXJyb3IiLCJsb2dnZXIiLCJMb2dMZXZlbCIsIkVSUk9SIiwib3JpZ2luYWxFcnJvciIsIm1lc3NhZ2UiLCJFcnJvciIsIkxvZ0NhdGVnb3J5IiwiU1lTVEVNIiwic3RhY2siLCJVSSIsInJlbmRlciIsImZhbGxiYWNrIiwiZGl2IiwiY2xhc3NOYW1lIiwiQ2FyZCIsIkNhcmRIZWFkZXIiLCJBbGVydFRyaWFuZ2xlIiwiQ2FyZFRpdGxlIiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZENvbnRlbnQiLCJBbGVydCIsIkJ1ZyIsIkFsZXJ0RGVzY3JpcHRpb24iLCJzdHJvbmciLCJiciIsInNwYW4iLCJzaG93RGV0YWlscyIsInZhcmlhbnQiLCJkZXRhaWxzIiwic3VtbWFyeSIsInByZSIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJSZWZyZXNoQ3ciLCJIb21lIiwicCIsImNoaWxkcmVuIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsImNvbnRleHQiLCJzb3VyY2UiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7UUF5QmFBO2VBQUFBOztRQWlPR0M7ZUFBQUE7O1FBb0JBQztlQUFBQTs7UUFsREFDO2VBQUFBOzs7OytEQTFOdUM7d0JBQ2hDO3NCQUNtRDt1QkFDbEM7cUNBQ0o7d0JBQ1U7NkJBQ007Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCN0MsTUFBTUgsc0JBQXNCSSxnQkFBUztJQUMxQyxZQUFZQyxLQUFZLENBQUU7UUFDeEIsS0FBSyxDQUFDQSxhQTJEUkMsY0FBYztZQUNaLElBQUksQ0FBQ0MsUUFBUSxDQUFDO2dCQUNaQyxV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