{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\integrations\\supabase\\server.ts"],"sourcesContent":["// =====================================================\n// SUPABASE SERVER CLIENT\n// Descripci√≥n: Cliente de Supabase para uso en servidor\n// Basado en: Supabase SSR + NextAuth.js integration\n// =====================================================\n\nimport { createServerClient, type CookieOptions } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        get(name: string) {\n          return cookieStore.get(name)?.value\n        },\n        set(name: string, value: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value, ...options })\n          } catch (error) {\n            // The `set` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n        remove(name: string, options: CookieOptions) {\n          try {\n            cookieStore.set({ name, value: '', ...options })\n          } catch (error) {\n            // The `delete` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n\n// Cliente con service role para operaciones administrativas\nexport function createAdminClient() {\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      cookies: {\n        get() {\n          return undefined\n        },\n        set() {\n          // No-op for service role client\n        },\n        remove() {\n          // No-op for service role client\n        },\n      },\n    }\n  )\n}\n"],"names":["createAdminClient","createClient","cookieStore","cookies","createServerClient","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","get","name","value","set","options","error","remove","SUPABASE_SERVICE_ROLE_KEY","undefined"],"mappings":"AAAA,wDAAwD;AACxD,yBAAyB;AACzB,wDAAwD;AACxD,oDAAoD;AACpD,wDAAwD;;;;;;;;;;;;QAwCxCA;eAAAA;;QAnCMC;eAAAA;;;qBAHiC;yBAC/B;AAEjB,eAAeA;IACpB,MAAMC,cAAc,MAAMC,IAAAA,gBAAO;IAEjC,OAAOC,IAAAA,uBAAkB,EACvBC,QAAQC,GAAG,CAACC,wBAAwB,EACpCF,QAAQC,GAAG,CAACE,6BAA6B,EACzC;QACEL,SAAS;YACPM,KAAIC,IAAY;gBACd,OAAOR,YAAYO,GAAG,CAACC,OAAOC;YAChC;YACAC,KAAIF,IAAY,EAAEC,KAAa,EAAEE,OAAsB;gBACrD,IAAI;oBACFX,YAAYU,GAAG,CAAC;wBAAEF;wBAAMC;wBAAO,GAAGE,OAAO;oBAAC;gBAC5C,EAAE,OAAOC,OAAO;gBACd,uDAAuD;gBACvD,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;YACAC,QAAOL,IAAY,EAAEG,OAAsB;gBACzC,IAAI;oBACFX,YAAYU,GAAG,CAAC;wBAAEF;wBAAMC,OAAO;wBAAI,GAAGE,OAAO;oBAAC;gBAChD,EAAE,OAAOC,OAAO;gBACd,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ;AAGO,SAASd;IACd,OAAOI,IAAAA,uBAAkB,EACvBC,QAAQC,GAAG,CAACC,wBAAwB,EACpCF,QAAQC,GAAG,CAACU,yBAAyB,EACrC;QACEb,SAAS;YACPM;gBACE,OAAOQ;YACT;YACAL;YACE,gCAAgC;YAClC;YACAG;YACE,gCAAgC;YAClC;QACF;IACF;AAEJ"}