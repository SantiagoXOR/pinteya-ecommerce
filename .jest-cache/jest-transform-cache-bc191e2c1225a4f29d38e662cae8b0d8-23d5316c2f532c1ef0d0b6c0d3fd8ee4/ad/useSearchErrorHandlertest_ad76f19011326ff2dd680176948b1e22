4571f7e1351e979d1cd9b29b390e8abb
// ===================================
// TESTS: useSearchErrorHandler Hook - Manejo robusto de errores
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useSearchErrorHandler = require("../../hooks/useSearchErrorHandler");
// ===================================
// SETUP
// ===================================
beforeEach(()=>{
    jest.clearAllMocks();
    jest.useFakeTimers();
    // Mock console methods to reduce noise
    jest.spyOn(console, 'warn').mockImplementation(()=>{});
    jest.spyOn(console, 'error').mockImplementation(()=>{});
});
afterEach(()=>{
    jest.useRealTimers();
    jest.restoreAllMocks();
});
// ===================================
// TESTS BÁSICOS
// ===================================
describe('useSearchErrorHandler Hook', ()=>{
    it('should initialize with default state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        expect(result.current.currentError).toBe(null);
        expect(result.current.retryCount).toBe(0);
        expect(result.current.isRetrying).toBe(false);
        expect(result.current.hasError).toBe(false);
    });
    it('should accept custom retry configuration', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                retryConfig: {
                    maxRetries: 5,
                    baseDelay: 500
                }
            }));
        expect(result.current.retryConfig.maxRetries).toBe(5);
        expect(result.current.retryConfig.baseDelay).toBe(500);
    });
});
// ===================================
// TESTS DE CLASIFICACIÓN DE ERRORES
// ===================================
describe('useSearchErrorHandler - Error Classification', ()=>{
    it('should classify network errors correctly', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        const networkError = new TypeError('fetch failed');
        networkError.name = 'TypeError';
        (0, _react.act)(()=>{
            const error = result.current.handleError(networkError);
            expect(error.type).toBe('network');
            expect(error.retryable).toBe(true);
            expect(error.message).toContain('conexión');
        });
    });
    it('should classify timeout errors correctly', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        const timeoutError = new Error('timeout');
        timeoutError.name = 'AbortError';
        (0, _react.act)(()=>{
            const error = result.current.handleError(timeoutError);
            expect(error.type).toBe('timeout');
            expect(error.retryable).toBe(true);
            expect(error.message).toContain('tardó demasiado');
        });
    });
    it('should classify server errors correctly', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        const serverError = {
            status: 500,
            message: 'Internal Server Error'
        };
        (0, _react.act)(()=>{
            const error = result.current.handleError(serverError);
            expect(error.type).toBe('server');
            expect(error.retryable).toBe(true);
            expect(error.code).toBe('500');
        });
    });
    it('should classify validation errors correctly', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        const validationError = {
            status: 400,
            message: 'Bad Request'
        };
        (0, _react.act)(()=>{
            const error = result.current.handleError(validationError);
            expect(error.type).toBe('validation');
            expect(error.retryable).toBe(false);
            expect(error.code).toBe('400');
        });
    });
});
// ===================================
// TESTS DE RETRY AUTOMÁTICO
// ===================================
describe('useSearchErrorHandler - Retry Logic', ()=>{
    it('should retry failed operations with exponential backoff', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                retryConfig: {
                    maxRetries: 3,
                    baseDelay: 100,
                    backoffFactor: 2
                }
            }));
        let callCount = 0;
        const failingOperation = jest.fn().mockImplementation(()=>{
            callCount++;
            if (callCount < 3) {
                throw new Error('Network error');
            }
            return Promise.resolve('success');
        });
        let executePromise;
        await (0, _react.act)(async ()=>{
            executePromise = result.current.executeWithRetry(failingOperation, 'test operation');
        });
        // Avanzar timers para los retries
        await (0, _react.act)(async ()=>{
            jest.advanceTimersByTime(100); // Primer retry
            await Promise.resolve();
            jest.advanceTimersByTime(200); // Segundo retry
            await Promise.resolve();
        });
        const result_value = await executePromise;
        expect(result_value).toBe('success');
        expect(failingOperation).toHaveBeenCalledTimes(3);
    });
    it('should not retry non-retryable errors', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        const error = new Error('Bad Request');
        error.status = 400;
        const nonRetryableOperation = jest.fn().mockRejectedValue(error);
        await (0, _react.act)(async ()=>{
            await expect(result.current.executeWithRetry(nonRetryableOperation, 'validation test')).rejects.toThrow();
        });
        expect(nonRetryableOperation).toHaveBeenCalledTimes(1);
    });
    it('should stop retrying after max attempts', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                retryConfig: {
                    maxRetries: 2,
                    baseDelay: 1
                }
            }));
        const alwaysFailingOperation = jest.fn().mockRejectedValue(new Error('Persistent error'));
        // Usar real timers para este test
        jest.useRealTimers();
        await expect(result.current.executeWithRetry(alwaysFailingOperation, 'persistent failure test')).rejects.toThrow('Persistent error');
        expect(alwaysFailingOperation).toHaveBeenCalledTimes(3); // Original + 2 retries
        // Restaurar fake timers
        jest.useFakeTimers();
    });
});
// ===================================
// TESTS DE CALLBACKS
// ===================================
describe('useSearchErrorHandler - Callbacks', ()=>{
    it('should call onError callback when error occurs', ()=>{
        const onError = jest.fn();
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                onError
            }));
        const testError = new Error('Test error');
        (0, _react.act)(()=>{
            result.current.handleError(testError);
        });
        expect(onError).toHaveBeenCalledWith(expect.objectContaining({
            type: 'unknown',
            message: 'Test error',
            retryable: true
        }));
    });
    it('should call onRetrySuccess callback on successful retry', async ()=>{
        const onRetrySuccess = jest.fn();
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                onRetrySuccess,
                retryConfig: {
                    maxRetries: 2,
                    baseDelay: 50
                }
            }));
        let callCount = 0;
        const retryOperation = jest.fn().mockImplementation(()=>{
            callCount++;
            if (callCount === 1) {
                throw new Error('First failure');
            }
            return Promise.resolve('success');
        });
        let executePromise;
        await (0, _react.act)(async ()=>{
            executePromise = result.current.executeWithRetry(retryOperation);
        });
        await (0, _react.act)(async ()=>{
            jest.advanceTimersByTime(50);
            await Promise.resolve();
        });
        await executePromise;
        expect(onRetrySuccess).toHaveBeenCalled();
    });
    it('should call onRetryFailed callback when all retries fail', async ()=>{
        const onRetryFailed = jest.fn();
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                onRetryFailed,
                retryConfig: {
                    maxRetries: 1,
                    baseDelay: 1
                }
            }));
        const failingOperation = jest.fn().mockRejectedValue(new Error('Always fails'));
        // Usar real timers para este test
        jest.useRealTimers();
        await expect(result.current.executeWithRetry(failingOperation)).rejects.toThrow();
        expect(onRetryFailed).toHaveBeenCalledWith(expect.objectContaining({
            type: 'unknown',
            message: 'Always fails'
        }), 1 // número de intentos
        );
        // Restaurar fake timers
        jest.useFakeTimers();
    });
});
// ===================================
// TESTS DE ESTADO
// ===================================
describe('useSearchErrorHandler - State Management', ()=>{
    it('should update retry state during retries', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)({
                retryConfig: {
                    maxRetries: 2,
                    baseDelay: 50
                }
            }));
        let callCount = 0;
        const retryOperation = jest.fn().mockImplementation(()=>{
            callCount++;
            if (callCount < 3) {
                throw new Error('Retry test');
            }
            return Promise.resolve('success');
        });
        let executePromise;
        await (0, _react.act)(async ()=>{
            executePromise = result.current.executeWithRetry(retryOperation);
        });
        // Verificar estado durante primer retry
        await (0, _react.act)(async ()=>{
            jest.advanceTimersByTime(50);
            await Promise.resolve();
        });
        expect(result.current.isRetrying).toBe(true);
        expect(result.current.retryCount).toBe(1);
        // Completar la operación
        await (0, _react.act)(async ()=>{
            jest.advanceTimersByTime(100);
            await Promise.resolve();
        });
        await executePromise;
        expect(result.current.isRetrying).toBe(false);
        expect(result.current.retryCount).toBe(0);
    });
    it('should clear error state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchErrorHandler.useSearchErrorHandler)());
        // Simular error
        (0, _react.act)(()=>{
            result.current.handleError(new Error('Test error'));
        });
        expect(result.current.hasError).toBe(true);
        // Limpiar error
        (0, _react.act)(()=>{
            result.current.clearError();
        });
        expect(result.current.hasError).toBe(false);
        expect(result.current.currentError).toBe(null);
        expect(result.current.retryCount).toBe(0);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlU2VhcmNoRXJyb3JIYW5kbGVyLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUzogdXNlU2VhcmNoRXJyb3JIYW5kbGVyIEhvb2sgLSBNYW5lam8gcm9idXN0byBkZSBlcnJvcmVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgdXNlU2VhcmNoRXJyb3JIYW5kbGVyIH0gZnJvbSAnQC9ob29rcy91c2VTZWFyY2hFcnJvckhhbmRsZXInXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTRVRVUFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIGplc3QudXNlRmFrZVRpbWVycygpXG4gIC8vIE1vY2sgY29uc29sZSBtZXRob2RzIHRvIHJlZHVjZSBub2lzZVxuICBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuICBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSlcbn0pXG5cbmFmdGVyRWFjaCgoKSA9PiB7XG4gIGplc3QudXNlUmVhbFRpbWVycygpXG4gIGplc3QucmVzdG9yZUFsbE1vY2tzKClcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBCw4FTSUNPU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZVNlYXJjaEVycm9ySGFuZGxlciBIb29rJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBkZWZhdWx0IHN0YXRlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaEVycm9ySGFuZGxlcigpKVxuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmN1cnJlbnRFcnJvcikudG9CZShudWxsKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXRyeUNvdW50KS50b0JlKDApXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzUmV0cnlpbmcpLnRvQmUoZmFsc2UpXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yKS50b0JlKGZhbHNlKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgYWNjZXB0IGN1c3RvbSByZXRyeSBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICB1c2VTZWFyY2hFcnJvckhhbmRsZXIoe1xuICAgICAgICByZXRyeUNvbmZpZzoge1xuICAgICAgICAgIG1heFJldHJpZXM6IDUsXG4gICAgICAgICAgYmFzZURlbGF5OiA1MDAsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIClcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXRyeUNvbmZpZy5tYXhSZXRyaWVzKS50b0JlKDUpXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJldHJ5Q29uZmlnLmJhc2VEZWxheSkudG9CZSg1MDApXG4gIH0pXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVFMgREUgQ0xBU0lGSUNBQ0nDk04gREUgRVJST1JFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZVNlYXJjaEVycm9ySGFuZGxlciAtIEVycm9yIENsYXNzaWZpY2F0aW9uJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIGNsYXNzaWZ5IG5ldHdvcmsgZXJyb3JzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hFcnJvckhhbmRsZXIoKSlcblxuICAgIGNvbnN0IG5ldHdvcmtFcnJvciA9IG5ldyBUeXBlRXJyb3IoJ2ZldGNoIGZhaWxlZCcpXG4gICAgbmV0d29ya0Vycm9yLm5hbWUgPSAnVHlwZUVycm9yJ1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlRXJyb3IobmV0d29ya0Vycm9yKVxuICAgICAgZXhwZWN0KGVycm9yLnR5cGUpLnRvQmUoJ25ldHdvcmsnKVxuICAgICAgZXhwZWN0KGVycm9yLnJldHJ5YWJsZSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignY29uZXhpw7NuJylcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdzaG91bGQgY2xhc3NpZnkgdGltZW91dCBlcnJvcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaEVycm9ySGFuZGxlcigpKVxuXG4gICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKCd0aW1lb3V0JylcbiAgICB0aW1lb3V0RXJyb3IubmFtZSA9ICdBYm9ydEVycm9yJ1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlRXJyb3IodGltZW91dEVycm9yKVxuICAgICAgZXhwZWN0KGVycm9yLnR5cGUpLnRvQmUoJ3RpbWVvdXQnKVxuICAgICAgZXhwZWN0KGVycm9yLnJldHJ5YWJsZSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbigndGFyZMOzIGRlbWFzaWFkbycpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIGNsYXNzaWZ5IHNlcnZlciBlcnJvcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaEVycm9ySGFuZGxlcigpKVxuXG4gICAgY29uc3Qgc2VydmVyRXJyb3IgPSB7IHN0YXR1czogNTAwLCBtZXNzYWdlOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSByZXN1bHQuY3VycmVudC5oYW5kbGVFcnJvcihzZXJ2ZXJFcnJvcilcbiAgICAgIGV4cGVjdChlcnJvci50eXBlKS50b0JlKCdzZXJ2ZXInKVxuICAgICAgZXhwZWN0KGVycm9yLnJldHJ5YWJsZSkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KGVycm9yLmNvZGUpLnRvQmUoJzUwMCcpXG4gICAgfSlcbiAgfSlcblxuICBpdCgnc2hvdWxkIGNsYXNzaWZ5IHZhbGlkYXRpb24gZXJyb3JzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hFcnJvckhhbmRsZXIoKSlcblxuICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6ICdCYWQgUmVxdWVzdCcgfVxuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlRXJyb3IodmFsaWRhdGlvbkVycm9yKVxuICAgICAgZXhwZWN0KGVycm9yLnR5cGUpLnRvQmUoJ3ZhbGlkYXRpb24nKVxuICAgICAgZXhwZWN0KGVycm9yLnJldHJ5YWJsZSkudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChlcnJvci5jb2RlKS50b0JlKCc0MDAnKVxuICAgIH0pXG4gIH0pXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVFMgREUgUkVUUlkgQVVUT03DgVRJQ09cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmRlc2NyaWJlKCd1c2VTZWFyY2hFcnJvckhhbmRsZXIgLSBSZXRyeSBMb2dpYycsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCByZXRyeSBmYWlsZWQgb3BlcmF0aW9ucyB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmYnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgIHVzZVNlYXJjaEVycm9ySGFuZGxlcih7XG4gICAgICAgIHJldHJ5Q29uZmlnOiB7XG4gICAgICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgICAgICBiYXNlRGVsYXk6IDEwMCxcbiAgICAgICAgICBiYWNrb2ZmRmFjdG9yOiAyLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApXG5cbiAgICBsZXQgY2FsbENvdW50ID0gMFxuICAgIGNvbnN0IGZhaWxpbmdPcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgIGNhbGxDb3VudCsrXG4gICAgICBpZiAoY2FsbENvdW50IDwgMykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKVxuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnc3VjY2VzcycpXG4gICAgfSlcblxuICAgIGxldCBleGVjdXRlUHJvbWlzZTogUHJvbWlzZTxhbnk+XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZXhlY3V0ZVByb21pc2UgPSByZXN1bHQuY3VycmVudC5leGVjdXRlV2l0aFJldHJ5KGZhaWxpbmdPcGVyYXRpb24sICd0ZXN0IG9wZXJhdGlvbicpXG4gICAgfSlcblxuICAgIC8vIEF2YW56YXIgdGltZXJzIHBhcmEgbG9zIHJldHJpZXNcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCkgLy8gUHJpbWVyIHJldHJ5XG4gICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDIwMCkgLy8gU2VndW5kbyByZXRyeVxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzdWx0X3ZhbHVlID0gYXdhaXQgZXhlY3V0ZVByb21pc2UhXG5cbiAgICBleHBlY3QocmVzdWx0X3ZhbHVlKS50b0JlKCdzdWNjZXNzJylcbiAgICBleHBlY3QoZmFpbGluZ09wZXJhdGlvbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBub3QgcmV0cnkgbm9uLXJldHJ5YWJsZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoRXJyb3JIYW5kbGVyKCkpXG5cbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignQmFkIFJlcXVlc3QnKVxuICAgIDsoZXJyb3IgYXMgYW55KS5zdGF0dXMgPSA0MDBcbiAgICBjb25zdCBub25SZXRyeWFibGVPcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUoZXJyb3IpXG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICByZXN1bHQuY3VycmVudC5leGVjdXRlV2l0aFJldHJ5KG5vblJldHJ5YWJsZU9wZXJhdGlvbiwgJ3ZhbGlkYXRpb24gdGVzdCcpXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpXG4gICAgfSlcblxuICAgIGV4cGVjdChub25SZXRyeWFibGVPcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgc3RvcCByZXRyeWluZyBhZnRlciBtYXggYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgIHVzZVNlYXJjaEVycm9ySGFuZGxlcih7XG4gICAgICAgIHJldHJ5Q29uZmlnOiB7IG1heFJldHJpZXM6IDIsIGJhc2VEZWxheTogMSB9LCAvLyBEZWxheSBtdXkgcGVxdWXDsW9cbiAgICAgIH0pXG4gICAgKVxuXG4gICAgY29uc3QgYWx3YXlzRmFpbGluZ09wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1BlcnNpc3RlbnQgZXJyb3InKSlcblxuICAgIC8vIFVzYXIgcmVhbCB0aW1lcnMgcGFyYSBlc3RlIHRlc3RcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKVxuXG4gICAgYXdhaXQgZXhwZWN0KFxuICAgICAgcmVzdWx0LmN1cnJlbnQuZXhlY3V0ZVdpdGhSZXRyeShhbHdheXNGYWlsaW5nT3BlcmF0aW9uLCAncGVyc2lzdGVudCBmYWlsdXJlIHRlc3QnKVxuICAgICkucmVqZWN0cy50b1Rocm93KCdQZXJzaXN0ZW50IGVycm9yJylcblxuICAgIGV4cGVjdChhbHdheXNGYWlsaW5nT3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMykgLy8gT3JpZ2luYWwgKyAyIHJldHJpZXNcblxuICAgIC8vIFJlc3RhdXJhciBmYWtlIHRpbWVyc1xuICAgIGplc3QudXNlRmFrZVRpbWVycygpXG4gIH0pXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVFMgREUgQ0FMTEJBQ0tTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kZXNjcmliZSgndXNlU2VhcmNoRXJyb3JIYW5kbGVyIC0gQ2FsbGJhY2tzJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIGNhbGwgb25FcnJvciBjYWxsYmFjayB3aGVuIGVycm9yIG9jY3VycycsICgpID0+IHtcbiAgICBjb25zdCBvbkVycm9yID0gamVzdC5mbigpXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoRXJyb3JIYW5kbGVyKHsgb25FcnJvciB9KSlcblxuICAgIGNvbnN0IHRlc3RFcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpXG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlRXJyb3IodGVzdEVycm9yKVxuICAgIH0pXG5cbiAgICBleHBlY3Qob25FcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIHR5cGU6ICd1bmtub3duJyxcbiAgICAgICAgbWVzc2FnZTogJ1Rlc3QgZXJyb3InLFxuICAgICAgICByZXRyeWFibGU6IHRydWUsXG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBpdCgnc2hvdWxkIGNhbGwgb25SZXRyeVN1Y2Nlc3MgY2FsbGJhY2sgb24gc3VjY2Vzc2Z1bCByZXRyeScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBvblJldHJ5U3VjY2VzcyA9IGplc3QuZm4oKVxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICB1c2VTZWFyY2hFcnJvckhhbmRsZXIoe1xuICAgICAgICBvblJldHJ5U3VjY2VzcyxcbiAgICAgICAgcmV0cnlDb25maWc6IHsgbWF4UmV0cmllczogMiwgYmFzZURlbGF5OiA1MCB9LFxuICAgICAgfSlcbiAgICApXG5cbiAgICBsZXQgY2FsbENvdW50ID0gMFxuICAgIGNvbnN0IHJldHJ5T3BlcmF0aW9uID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICBjYWxsQ291bnQrK1xuICAgICAgaWYgKGNhbGxDb3VudCA9PT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IGZhaWx1cmUnKVxuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnc3VjY2VzcycpXG4gICAgfSlcblxuICAgIGxldCBleGVjdXRlUHJvbWlzZTogUHJvbWlzZTxhbnk+XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZXhlY3V0ZVByb21pc2UgPSByZXN1bHQuY3VycmVudC5leGVjdXRlV2l0aFJldHJ5KHJldHJ5T3BlcmF0aW9uKVxuICAgIH0pXG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDUwKVxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9KVxuXG4gICAgYXdhaXQgZXhlY3V0ZVByb21pc2UhXG5cbiAgICBleHBlY3Qob25SZXRyeVN1Y2Nlc3MpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgY2FsbCBvblJldHJ5RmFpbGVkIGNhbGxiYWNrIHdoZW4gYWxsIHJldHJpZXMgZmFpbCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBvblJldHJ5RmFpbGVkID0gamVzdC5mbigpXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgIHVzZVNlYXJjaEVycm9ySGFuZGxlcih7XG4gICAgICAgIG9uUmV0cnlGYWlsZWQsXG4gICAgICAgIHJldHJ5Q29uZmlnOiB7IG1heFJldHJpZXM6IDEsIGJhc2VEZWxheTogMSB9LCAvLyBEZWxheSBtdXkgcGVxdWXDsW9cbiAgICAgIH0pXG4gICAgKVxuXG4gICAgY29uc3QgZmFpbGluZ09wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0Fsd2F5cyBmYWlscycpKVxuXG4gICAgLy8gVXNhciByZWFsIHRpbWVycyBwYXJhIGVzdGUgdGVzdFxuICAgIGplc3QudXNlUmVhbFRpbWVycygpXG5cbiAgICBhd2FpdCBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXhlY3V0ZVdpdGhSZXRyeShmYWlsaW5nT3BlcmF0aW9uKSkucmVqZWN0cy50b1Rocm93KClcblxuICAgIGV4cGVjdChvblJldHJ5RmFpbGVkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgdHlwZTogJ3Vua25vd24nLFxuICAgICAgICBtZXNzYWdlOiAnQWx3YXlzIGZhaWxzJyxcbiAgICAgIH0pLFxuICAgICAgMSAvLyBuw7ptZXJvIGRlIGludGVudG9zXG4gICAgKVxuXG4gICAgLy8gUmVzdGF1cmFyIGZha2UgdGltZXJzXG4gICAgamVzdC51c2VGYWtlVGltZXJzKClcbiAgfSlcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBERSBFU1RBRE9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmRlc2NyaWJlKCd1c2VTZWFyY2hFcnJvckhhbmRsZXIgLSBTdGF0ZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIHVwZGF0ZSByZXRyeSBzdGF0ZSBkdXJpbmcgcmV0cmllcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgdXNlU2VhcmNoRXJyb3JIYW5kbGVyKHtcbiAgICAgICAgcmV0cnlDb25maWc6IHsgbWF4UmV0cmllczogMiwgYmFzZURlbGF5OiA1MCB9LFxuICAgICAgfSlcbiAgICApXG5cbiAgICBsZXQgY2FsbENvdW50ID0gMFxuICAgIGNvbnN0IHJldHJ5T3BlcmF0aW9uID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICBjYWxsQ291bnQrK1xuICAgICAgaWYgKGNhbGxDb3VudCA8IDMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXRyeSB0ZXN0JylcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3N1Y2Nlc3MnKVxuICAgIH0pXG5cbiAgICBsZXQgZXhlY3V0ZVByb21pc2U6IFByb21pc2U8YW55PlxuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGV4ZWN1dGVQcm9taXNlID0gcmVzdWx0LmN1cnJlbnQuZXhlY3V0ZVdpdGhSZXRyeShyZXRyeU9wZXJhdGlvbilcbiAgICB9KVxuXG4gICAgLy8gVmVyaWZpY2FyIGVzdGFkbyBkdXJhbnRlIHByaW1lciByZXRyeVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNTApXG4gICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuICAgIH0pXG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNSZXRyeWluZykudG9CZSh0cnVlKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXRyeUNvdW50KS50b0JlKDEpXG5cbiAgICAvLyBDb21wbGV0YXIgbGEgb3BlcmFjacOzblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwKVxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9KVxuXG4gICAgYXdhaXQgZXhlY3V0ZVByb21pc2UhXG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNSZXRyeWluZykudG9CZShmYWxzZSlcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmV0cnlDb3VudCkudG9CZSgwKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgY2xlYXIgZXJyb3Igc3RhdGUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoRXJyb3JIYW5kbGVyKCkpXG5cbiAgICAvLyBTaW11bGFyIGVycm9yXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUVycm9yKG5ldyBFcnJvcignVGVzdCBlcnJvcicpKVxuICAgIH0pXG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaGFzRXJyb3IpLnRvQmUodHJ1ZSlcblxuICAgIC8vIExpbXBpYXIgZXJyb3JcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuY2xlYXJFcnJvcigpXG4gICAgfSlcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNFcnJvcikudG9CZShmYWxzZSlcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY3VycmVudEVycm9yKS50b0JlKG51bGwpXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJldHJ5Q291bnQpLnRvQmUoMClcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiYmVmb3JlRWFjaCIsImplc3QiLCJjbGVhckFsbE1vY2tzIiwidXNlRmFrZVRpbWVycyIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImFmdGVyRWFjaCIsInVzZVJlYWxUaW1lcnMiLCJyZXN0b3JlQWxsTW9ja3MiLCJkZXNjcmliZSIsIml0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZVNlYXJjaEVycm9ySGFuZGxlciIsImV4cGVjdCIsImN1cnJlbnQiLCJjdXJyZW50RXJyb3IiLCJ0b0JlIiwicmV0cnlDb3VudCIsImlzUmV0cnlpbmciLCJoYXNFcnJvciIsInJldHJ5Q29uZmlnIiwibWF4UmV0cmllcyIsImJhc2VEZWxheSIsIm5ldHdvcmtFcnJvciIsIlR5cGVFcnJvciIsIm5hbWUiLCJhY3QiLCJlcnJvciIsImhhbmRsZUVycm9yIiwidHlwZSIsInJldHJ5YWJsZSIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJ0aW1lb3V0RXJyb3IiLCJFcnJvciIsInNlcnZlckVycm9yIiwic3RhdHVzIiwiY29kZSIsInZhbGlkYXRpb25FcnJvciIsImJhY2tvZmZGYWN0b3IiLCJjYWxsQ291bnQiLCJmYWlsaW5nT3BlcmF0aW9uIiwiZm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsImV4ZWN1dGVQcm9taXNlIiwiZXhlY3V0ZVdpdGhSZXRyeSIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJyZXN1bHRfdmFsdWUiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJub25SZXRyeWFibGVPcGVyYXRpb24iLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsInJlamVjdHMiLCJ0b1Rocm93IiwiYWx3YXlzRmFpbGluZ09wZXJhdGlvbiIsIm9uRXJyb3IiLCJ0ZXN0RXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm9iamVjdENvbnRhaW5pbmciLCJvblJldHJ5U3VjY2VzcyIsInJldHJ5T3BlcmF0aW9uIiwidG9IYXZlQmVlbkNhbGxlZCIsIm9uUmV0cnlGYWlsZWQiLCJjbGVhckVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsZ0VBQWdFO0FBQ2hFLHNDQUFzQzs7Ozs7dUJBRUc7dUNBQ0g7QUFFdEMsc0NBQXNDO0FBQ3RDLFFBQVE7QUFDUixzQ0FBc0M7QUFFdENBLFdBQVc7SUFDVEMsS0FBS0MsYUFBYTtJQUNsQkQsS0FBS0UsYUFBYTtJQUNsQix1Q0FBdUM7SUFDdkNGLEtBQUtHLEtBQUssQ0FBQ0MsU0FBUyxRQUFRQyxrQkFBa0IsQ0FBQyxLQUFPO0lBQ3RETCxLQUFLRyxLQUFLLENBQUNDLFNBQVMsU0FBU0Msa0JBQWtCLENBQUMsS0FBTztBQUN6RDtBQUVBQyxVQUFVO0lBQ1JOLEtBQUtPLGFBQWE7SUFDbEJQLEtBQUtRLGVBQWU7QUFDdEI7QUFFQSxzQ0FBc0M7QUFDdEMsZ0JBQWdCO0FBQ2hCLHNDQUFzQztBQUV0Q0MsU0FBUyw4QkFBOEI7SUFDckNDLEdBQUcsd0NBQXdDO1FBQ3pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsNENBQXFCO1FBRXpEQyxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLFlBQVksRUFBRUMsSUFBSSxDQUFDO1FBQ3pDSCxPQUFPSCxPQUFPSSxP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