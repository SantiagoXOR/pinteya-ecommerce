bb9f7def99963ee20a3e47fa59cf3fd8
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get EnhancedProductCard () {
        return EnhancedProductCard;
    },
    get ProductCardShowcase () {
        return ProductCardShowcase;
    },
    get useProductConfig () {
        return useProductConfig;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _card = require("./card");
const _designsystemconfig = require("../../lib/design-system-config");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
/**
 * ProductCard mejorado con configuración automática del Design System
 * 
 * Este componente aplica automáticamente las mejores prácticas del design system:
 * - Calcula cuotas basado en el precio
 * - Determina si mostrar envío gratis
 * - Aplica configuración según el contexto
 * - Usa nuevos componentes e-commerce cuando corresponde
 */ const EnhancedProductCard = /*#__PURE__*/ _react.forwardRef(({ context = 'default', forceNewComponents, customInstallments, productData, price = 0, originalPrice, stock = 0, stockUnit, showInstallments, showFreeShipping, showExactStock, lowStockThreshold, ...props }, ref)=>{
    // Obtener configuración según contexto
    const config = (0, _designsystemconfig.useDesignSystemConfig)(context === 'default' ? undefined : context);
    // Determinar si usar nuevos componentes
    const useNewComponents = forceNewComponents ?? (context === 'demo' ? true : config.productCard.useNewComponentsByDefault);
    // Calcular cuotas automáticamente si no se proporcionan
    const autoInstallments = _react.useMemo(()=>{
        if (customInstallments) {
            return customInstallments;
        }
        if (!(0, _designsystemconfig.shouldShowInstallments)(price, config)) {
            return undefined;
        }
        return (0, _designsystemconfig.calculateInstallments)(price);
    }, [
        price,
        customInstallments,
        config
    ]);
    // Determinar si mostrar información de cuotas
    const shouldDisplayInstallments = showInstallments ?? (useNewComponents && (0, _designsystemconfig.shouldShowInstallments)(price, config));
    // Determinar si mostrar envío gratis
    const shouldDisplayFreeShipping = showFreeShipping ?? (0, _designsystemconfig.shouldShowFreeShipping)(price, config);
    // Configuración de stock
    const stockConfig = {
        unit: stockUnit ?? config.ecommerce.stockIndicator.defaultUnit,
        showExact: showExactStock ?? (context === 'productDetail' || context === 'demo' ? true : config.ecommerce.stockIndicator.showExactQuantityByDefault),
        threshold: lowStockThreshold ?? config.ecommerce.stockIndicator.defaultLowStockThreshold
    };
    // Determinar descuento automáticamente
    const hasDiscount = originalPrice && originalPrice > price;
    const discountPercentage = hasDiscount ? Math.round((originalPrice - price) / originalPrice * 100) : 0;
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.ProductCard, {
        ref: ref,
        price: price,
        originalPrice: originalPrice,
        stock: stock,
        stockUnit: stockConfig.unit,
        showExactStock: stockConfig.showExact,
        lowStockThreshold: stockConfig.threshold,
        useNewComponents: useNewComponents,
        showInstallments: shouldDisplayInstallments,
        installments: autoInstallments,
        showFreeShipping: shouldDisplayFreeShipping,
        ...props
    });
});
EnhancedProductCard.displayName = "EnhancedProductCard";
function useProductConfig(price, context = 'default') {
    const config = (0, _designsystemconfig.useDesignSystemConfig)(context);
    return _react.useMemo(()=>({
            shouldShowInstallments: (0, _designsystemconfig.shouldShowInstallments)(price, config),
            shouldShowFreeShipping: (0, _designsystemconfig.shouldShowFreeShipping)(price, config),
            installments: (0, _designsystemconfig.calculateInstallments)(price),
            useNewComponents: config.productCard.useNewComponentsByDefault
        }), [
        price,
        config
    ]);
}
function ProductCardShowcase() {
    const products = [
        {
            id: 1,
            title: "Pintura Sherwin Williams 4L",
            price: 8500,
            originalPrice: 10000,
            stock: 12,
            image: "https://aakzspzfulgftqlgwkpb.supabase.co/storage/v1/object/public/products/sherwin-williams/pintura-sherwin-williams.jpg"
        },
        {
            id: 2,
            title: "Esmalte Petrilac 1L",
            price: 1850,
            originalPrice: 2200,
            stock: 8,
            image: "https://aakzspzfulgftqlgwkpb.supabase.co/storage/v1/object/public/products/petrilac/esmalte-petrilac.jpg"
        },
        {
            id: 3,
            title: "Poximix 250ml",
            price: 2300,
            stock: 2,
            image: "https://aakzspzfulgftqlgwkpb.supabase.co/storage/v1/object/public/products/poximix/adhesivo-poximix.jpg"
        },
        {
            id: 4,
            title: "Lija El Galgo",
            price: 450,
            stock: 0,
            image: "https://aakzspzfulgftqlgwkpb.supabase.co/storage/v1/object/public/products/galgo/lija-galgo.jpg"
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-8",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "text-lg font-semibold mb-4",
                        children: "Contexto: Default (Grid de productos)"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4",
                        children: products.map((product)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(EnhancedProductCard, {
                                context: "default",
                                title: product.title,
                                price: product.price,
                                originalPrice: product.originalPrice,
                                stock: product.stock,
                                image: product.image,
                                stockUnit: "unidades",
                                onAddToCart: ()=>console.log(`Agregado: ${product.title}`)
                            }, `default-${product.id}`))
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "text-lg font-semibold mb-4",
                        children: "Contexto: Demo (Nuevos componentes)"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",
                        children: products.map((product)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(EnhancedProductCard, {
                                context: "demo",
                                title: product.title,
                                price: product.price,
                                originalPrice: product.originalPrice,
                                stock: product.stock,
                                image: product.image,
                                stockUnit: "unidades",
                                onAddToCart: ()=>console.log(`Agregado: ${product.title}`)
                            }, `demo-${product.id}`))
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "text-lg font-semibold mb-4",
                        children: "Contexto: Product Detail (Informaci\xf3n completa)"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "max-w-sm mx-auto",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(EnhancedProductCard, {
                            context: "productDetail",
                            title: "Pintura Sherwin Williams ProClassic 4L",
                            price: 8500,
                            originalPrice: 10000,
                            stock: 12,
                            image: "https://aakzspzfulgftqlgwkpb.supabase.co/storage/v1/object/public/products/sherwin-williams/pintura-sherwin-williams.jpg",
                            stockUnit: "latas",
                            onAddToCart: ()=>console.log('Agregado desde detalle')
                        })
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXHByb2R1Y3QtY2FyZC1lbmhhbmNlZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXHJcbmltcG9ydCB7IFByb2R1Y3RDYXJkLCBQcm9kdWN0Q2FyZFByb3BzIH0gZnJvbSBcIi4vY2FyZFwiXHJcbmltcG9ydCB7IFxyXG4gIHVzZURlc2lnblN5c3RlbUNvbmZpZywgXHJcbiAgc2hvdWxkU2hvd0luc3RhbGxtZW50cywgXHJcbiAgc2hvdWxkU2hvd0ZyZWVTaGlwcGluZyxcclxuICBjYWxjdWxhdGVJbnN0YWxsbWVudHMgXHJcbn0gZnJvbSBcIkAvbGliL2Rlc2lnbi1zeXN0ZW0tY29uZmlnXCJcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW5oYW5jZWRQcm9kdWN0Q2FyZFByb3BzIGV4dGVuZHMgT21pdDxQcm9kdWN0Q2FyZFByb3BzLCAndXNlTmV3Q29tcG9uZW50cycgfCAnaW5zdGFsbG1lbnRzJz4ge1xyXG4gIC8qKiBDb250ZXh0byBkZSB1c28gcGFyYSBhcGxpY2FyIGNvbmZpZ3VyYWNpw7NuIGVzcGVjw61maWNhICovXHJcbiAgY29udGV4dD86ICdkZWZhdWx0JyB8ICdwcm9kdWN0RGV0YWlsJyB8ICdjaGVja291dCcgfCAnZGVtbydcclxuICAvKiogRm9yemFyIHVzbyBkZSBudWV2b3MgY29tcG9uZW50ZXMgKG92ZXJyaWRlIGRlIGNvbmZpZ3VyYWNpw7NuKSAqL1xyXG4gIGZvcmNlTmV3Q29tcG9uZW50cz86IGJvb2xlYW5cclxuICAvKiogQ29uZmlndXJhY2nDs24gbWFudWFsIGRlIGN1b3RhcyAob3ZlcnJpZGUgZGUgY8OhbGN1bG8gYXV0b23DoXRpY28pICovXHJcbiAgY3VzdG9tSW5zdGFsbG1lbnRzPzoge1xyXG4gICAgcXVhbnRpdHk6IG51bWJlclxyXG4gICAgYW1vdW50OiBudW1iZXJcclxuICAgIGludGVyZXN0RnJlZT86IGJvb2xlYW5cclxuICB9XHJcbiAgLyoqIERhdG9zIGFkaWNpb25hbGVzIGRlbCBwcm9kdWN0byBwYXJhIGzDs2dpY2EgYXV0b23DoXRpY2EgKi9cclxuICBwcm9kdWN0RGF0YT86IHtcclxuICAgIGNhdGVnb3J5Pzogc3RyaW5nXHJcbiAgICB3ZWlnaHQ/OiBudW1iZXJcclxuICAgIGRpbWVuc2lvbnM/OiB7XHJcbiAgICAgIGxlbmd0aDogbnVtYmVyXHJcbiAgICAgIHdpZHRoOiBudW1iZXJcclxuICAgICAgaGVpZ2h0OiBudW1iZXJcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9kdWN0Q2FyZCBtZWpvcmFkbyBjb24gY29uZmlndXJhY2nDs24gYXV0b23DoXRpY2EgZGVsIERlc2lnbiBTeXN0ZW1cclxuICogXHJcbiAqIEVzdGUgY29tcG9uZW50ZSBhcGxpY2EgYXV0b23DoXRpY2FtZW50ZSBsYXMgbWVqb3JlcyBwcsOhY3RpY2FzIGRlbCBkZXNpZ24gc3lzdGVtOlxyXG4gKiAtIENhbGN1bGEgY3VvdGFzIGJhc2FkbyBlbiBlbCBwcmVjaW9cclxuICogLSBEZXRlcm1pbmEgc2kgbW9zdHJhciBlbnbDrW8gZ3JhdGlzXHJcbiAqIC0gQXBsaWNhIGNvbmZpZ3VyYWNpw7NuIHNlZ8O6biBlbCBjb250ZXh0b1xyXG4gKiAtIFVzYSBudWV2b3MgY29tcG9uZW50ZXMgZS1jb21tZXJjZSBjdWFuZG8gY29ycmVzcG9uZGVcclxuICovXHJcbmNvbnN0IEVuaGFuY2VkUHJvZHVjdENhcmQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxEaXZFbGVtZW50LCBFbmhhbmNlZFByb2R1Y3RDYXJkUHJvcHM+KFxyXG4gICh7XHJcbiAgICBjb250ZXh0ID0gJ2RlZmF1bHQnLFxyXG4gICAgZm9yY2VOZXdDb21wb25lbnRzLFxyXG4gICAgY3VzdG9tSW5zdGFsbG1lbnRzLFxyXG4gICAgcHJvZHVjdERhdGEsXHJcbiAgICBwcmljZSA9IDAsXHJcbiAgICBvcmlnaW5hbFByaWNlLFxyXG4gICAgc3RvY2sgPSAwLFxyXG4gICAgc3RvY2tVbml0LFxyXG4gICAgc2hvd0luc3RhbGxtZW50cyxcclxuICAgIHNob3dGcmVlU2hpcHBpbmcsXHJcbiAgICBzaG93RXhhY3RTdG9jayxcclxuICAgIGxvd1N0b2NrVGhyZXNob2xkLFxyXG4gICAgLi4ucHJvcHNcclxuICB9LCByZWYpID0+IHtcclxuICAgIC8vIE9idGVuZXIgY29uZmlndXJhY2nDs24gc2Vnw7puIGNvbnRleHRvXHJcbiAgICBjb25zdCBjb25maWcgPSB1c2VEZXNpZ25TeXN0ZW1Db25maWcoY29udGV4dCA9PT0gJ2RlZmF1bHQnID8gdW5kZWZpbmVkIDogY29udGV4dClcclxuICAgIFxyXG4gICAgLy8gRGV0ZXJtaW5hciBzaSB1c2FyIG51ZXZvcyBjb21wb25lbnRlc1xyXG4gICAgY29uc3QgdXNlTmV3Q29tcG9uZW50cyA9IGZvcmNlTmV3Q29tcG9uZW50cyA/PyBcclxuICAgICAgKGNvbnRleHQgPT09ICdkZW1vJyA/IHRydWUgOiBjb25maWcucHJvZHVjdENhcmQudXNlTmV3Q29tcG9uZW50c0J5RGVmYXVsdClcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXIgY3VvdGFzIGF1dG9tw6F0aWNhbWVudGUgc2kgbm8gc2UgcHJvcG9yY2lvbmFuXHJcbiAgICBjb25zdCBhdXRvSW5zdGFsbG1lbnRzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XHJcbiAgICAgIGlmIChjdXN0b21JbnN0YWxsbWVudHMpIHtyZXR1cm4gY3VzdG9tSW5zdGFsbG1lbnRzfVxyXG4gICAgICBpZiAoIXNob3VsZFNob3dJbnN0YWxsbWVudHMocHJpY2UsIGNvbmZpZykpIHtyZXR1cm4gdW5kZWZpbmVkfVxyXG4gICAgICByZXR1cm4gY2FsY3VsYXRlSW5zdGFsbG1lbnRzKHByaWNlKVxyXG4gICAgfSwgW3ByaWNlLCBjdXN0b21JbnN0YWxsbWVudHMsIGNvbmZpZ10pXHJcbiAgICBcclxuICAgIC8vIERldGVybWluYXIgc2kgbW9zdHJhciBpbmZvcm1hY2nDs24gZGUgY3VvdGFzXHJcbiAgICBjb25zdCBzaG91bGREaXNwbGF5SW5zdGFsbG1lbnRzID0gc2hvd0luc3RhbGxtZW50cyA/PyBcclxuICAgICAgKHVzZU5ld0NvbXBvbmVudHMgJiYgc2hvdWxkU2hvd0luc3RhbGxtZW50cyhwcmljZSwgY29uZmlnKSlcclxuICAgIFxyXG4gICAgLy8gRGV0ZXJtaW5hciBzaSBtb3N0cmFyIGVudsOtbyBncmF0aXNcclxuICAgIGNvbnN0IHNob3VsZERpc3BsYXlGcmVlU2hpcHBpbmcgPSBzaG93RnJlZVNoaXBwaW5nID8/IFxyXG4gICAgICBzaG91bGRTaG93RnJlZVNoaXBwaW5nKHByaWNlLCBjb25maWcpXHJcbiAgICBcclxuICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIHN0b2NrXHJcbiAgICBjb25zdCBzdG9ja0NvbmZpZyA9IHtcclxuICAgICAgdW5pdDogc3RvY2tVbml0ID8/IGNvbmZpZy5lY29tbWVyY2Uuc3RvY2tJbmRpY2F0b3IuZGVmYXVsdFVuaXQsXHJcbiAgICAgIHNob3dFeGFjdDogc2hvd0V4YWN0U3RvY2sgPz8gXHJcbiAgICAgICAgKGNvbnRleHQgPT09ICdwcm9kdWN0RGV0YWlsJyB8fCBjb250ZXh0ID09PSAnZGVtbycgPyB0cnVlIDogY29uZmlnLmVjb21tZXJjZS5zdG9ja0luZGljYXRvci5zaG93RXhhY3RRdWFudGl0eUJ5RGVmYXVsdCksXHJcbiAgICAgIHRocmVzaG9sZDogbG93U3RvY2tUaHJlc2hvbGQgPz8gY29uZmlnLmVjb21tZXJjZS5zdG9ja0luZGljYXRvci5kZWZhdWx0TG93U3RvY2tUaHJlc2hvbGQsXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIERldGVybWluYXIgZGVzY3VlbnRvIGF1dG9tw6F0aWNhbWVudGVcclxuICAgIGNvbnN0IGhhc0Rpc2NvdW50ID0gb3JpZ2luYWxQcmljZSAmJiBvcmlnaW5hbFByaWNlID4gcHJpY2VcclxuICAgIGNvbnN0IGRpc2NvdW50UGVyY2VudGFnZSA9IGhhc0Rpc2NvdW50ID8gXHJcbiAgICAgIE1hdGgucm91bmQoKChvcmlnaW5hbFByaWNlIC0gcHJpY2UpIC8gb3JpZ2luYWxQcmljZSkgKiAxMDApIDogMFxyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8UHJvZHVjdENhcmRcclxuICAgICAgICByZWY9e3JlZn1cclxuICAgICAgICBwcmljZT17cHJpY2V9XHJcbiAgICAgICAgb3JpZ2luYWxQcmljZT17b3JpZ2luYWxQcmljZX1cclxuICAgICAgICBzdG9jaz17c3RvY2t9XHJcbiAgICAgICAgc3RvY2tVbml0PXtzdG9ja0NvbmZpZy51bml0fVxyXG4gICAgICAgIHNob3dFeGFjdFN0b2NrPXtzdG9ja0NvbmZpZy5zaG93RXhhY3R9XHJcbiAgICAgICAgbG93U3RvY2tUaHJlc2hvbGQ9e3N0b2NrQ29uZmlnLnRocmVzaG9sZH1cclxuICAgICAgICB1c2VOZXdDb21wb25lbnRzPXt1c2VOZXdDb21wb25lbnRzfVxyXG4gICAgICAgIHNob3dJbnN0YWxsbWVudHM9e3Nob3VsZERpc3BsYXlJbnN0YWxsbWVudHN9XHJcbiAgICAgICAgaW5zdGFsbG1lbnRzPXthdXRvSW5zdGFsbG1lbnRzfVxyXG4gICAgICAgIHNob3dGcmVlU2hpcHBpbmc9e3Nob3VsZERpc3BsYXlGcmVlU2hpcHBpbmd9XHJcbiAgICAgICAgey4uLnByb3BzfVxyXG4gICAgICAvPlxyXG4gICAgKVxyXG4gIH1cclxuKVxyXG5cclxuRW5oYW5jZWRQcm9kdWN0Q2FyZC5kaXNwbGF5TmFtZSA9IFwiRW5oYW5jZWRQcm9kdWN0Q2FyZFwiXHJcblxyXG4vKipcclxuICogSG9vayBwYXJhIG9idGVuZXIgY29uZmlndXJhY2nDs24gZGUgcHJvZHVjdG8gYXV0b23DoXRpY2FcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VQcm9kdWN0Q29uZmlnKHByaWNlOiBudW1iZXIsIGNvbnRleHQ6IHN0cmluZyA9ICdkZWZhdWx0Jykge1xyXG4gIGNvbnN0IGNvbmZpZyA9IHVzZURlc2lnblN5c3RlbUNvbmZpZyhjb250ZXh0IGFzIGFueSlcclxuICBcclxuICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xyXG4gICAgc2hvdWxkU2hvd0luc3RhbGxtZW50czogc2hvdWxkU2hvd0luc3RhbGxtZW50cyhwcmljZSwgY29uZmlnKSxcclxuICAgIHNob3VsZFNob3dGcmVlU2hpcHBpbmc6IHNob3VsZFNob3dGcmVlU2hpcHBpbmcocHJpY2UsIGNvbmZpZyksXHJcbiAgICBpbnN0YWxsbWVudHM6IGNhbGN1bGF0ZUluc3RhbGxtZW50cyhwcmljZSksXHJcbiAgICB1c2VOZXdDb21wb25lbnRzOiBjb25maWcucHJvZHVjdENhcmQudXNlTmV3Q29tcG9uZW50c0J5RGVmYXVsdCxcclxuICB9KSwgW3ByaWNlLCBjb25maWddKVxyXG59XHJcblxyXG4vKipcclxuICogQ29tcG9uZW50ZSBkZSBlamVtcGxvIHBhcmEgbW9zdHJhciBkaWZlcmVudGVzIGNvbmZpZ3VyYWNpb25lc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFByb2R1Y3RDYXJkU2hvd2Nhc2UoKSB7XHJcbiAgY29uc3QgcHJvZHVjdHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIGlkOiAxLFxyXG4gICAgICB0aXRsZTogXCJQaW50dXJhIFNoZXJ3aW4gV2lsbGlhbXMgNExcIixcclxuICAgICAgcHJpY2U6IDg1MDAsXHJcbiAgICAgIG9yaWdpbmFsUHJpY2U6IDEwMDAwLFxyXG4gICAgICBzdG9jazogMTIsXHJcbiAgICAgIGltYWdlOiBcImh0dHBzOi8vYWFrenNwemZ1bGdmdHFsZ3drcGIuc3VwYWJhc2UuY28vc3RvcmFnZS92MS9vYmplY3QvcHVibGljL3Byb2R1Y3RzL3NoZXJ3aW4td2lsbGlhbXMvcGludHVyYS1zaGVyd2luLXdpbGxpYW1zLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogMixcclxuICAgICAgdGl0bGU6IFwiRXNtYWx0ZSBQZXRyaWxhYyAxTFwiLFxyXG4gICAgICBwcmljZTogMTg1MCxcclxuICAgICAgb3JpZ2luYWxQcmljZTogMjIwMCxcclxuICAgICAgc3RvY2s6IDgsXHJcbiAgICAgIGltYWdlOiBcImh0dHBzOi8vYWFrenNwemZ1bGdmdHFsZ3drcGIuc3VwYWJhc2UuY28vc3RvcmFnZS92MS9vYmplY3QvcHVibGljL3Byb2R1Y3RzL3BldHJpbGFjL2VzbWFsdGUtcGV0cmlsYWMuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiAzLFxyXG4gICAgICB0aXRsZTogXCJQb3hpbWl4IDI1MG1sXCIsXHJcbiAgICAgIHByaWNlOiAyMzAwLFxyXG4gICAgICBzdG9jazogMixcclxuICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9hYWt6c3B6ZnVsZ2Z0cWxnd2twYi5zdXBhYmFzZS5jby9zdG9yYWdlL3YxL29iamVjdC9wdWJsaWMvcHJvZHVjdHMvcG94aW1peC9hZGhlc2l2by1wb3hpbWl4LmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogNCxcclxuICAgICAgdGl0bGU6IFwiTGlqYSBFbCBHYWxnb1wiLFxyXG4gICAgICBwcmljZTogNDUwLFxyXG4gICAgICBzdG9jazogMCxcclxuICAgICAgaW1hZ2U6IFwiaHR0cHM6Ly9hYWt6c3B6ZnVsZ2Z0cWxnd2twYi5zdXBhYmFzZS5jby9zdG9yYWdlL3YxL29iamVjdC9wdWJsaWMvcHJvZHVjdHMvZ2FsZ28vbGlqYS1nYWxnby5qcGdcIlxyXG4gICAgfVxyXG4gIF1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XHJcbiAgICAgIFxyXG4gICAgICB7LyogQ29udGV4dG8gRGVmYXVsdCAqL31cclxuICAgICAgPGRpdj5cclxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj5Db250ZXh0bzogRGVmYXVsdCAoR3JpZCBkZSBwcm9kdWN0b3MpPC9oMz5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTQgZ2FwLTRcIj5cclxuICAgICAgICAgIHtwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiAoXHJcbiAgICAgICAgICAgIDxFbmhhbmNlZFByb2R1Y3RDYXJkXHJcbiAgICAgICAgICAgICAga2V5PXtgZGVmYXVsdC0ke3Byb2R1Y3QuaWR9YH1cclxuICAgICAgICAgICAgICBjb250ZXh0PVwiZGVmYXVsdFwiXHJcbiAgICAgICAgICAgICAgdGl0bGU9e3Byb2R1Y3QudGl0bGV9XHJcbiAgICAgICAgICAgICAgcHJpY2U9e3Byb2R1Y3QucHJpY2V9XHJcbiAgICAgICAgICAgICAgb3JpZ2luYWxQcmljZT17cHJvZHVjdC5vcmlnaW5hbFByaWNlfVxyXG4gICAgICAgICAgICAgIHN0b2NrPXtwcm9kdWN0LnN0b2NrfVxyXG4gICAgICAgICAgICAgIGltYWdlPXtwcm9kdWN0LmltYWdlfVxyXG4gICAgICAgICAgICAgIHN0b2NrVW5pdD1cInVuaWRhZGVzXCJcclxuICAgICAgICAgICAgICBvbkFkZFRvQ2FydD17KCkgPT4gY29uc29sZS5sb2coYEFncmVnYWRvOiAke3Byb2R1Y3QudGl0bGV9YCl9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ29udGV4dG8gRGVtbyAqL31cclxuICAgICAgPGRpdj5cclxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj5Db250ZXh0bzogRGVtbyAoTnVldm9zIGNvbXBvbmVudGVzKTwvaDM+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy00IGdhcC00XCI+XHJcbiAgICAgICAgICB7cHJvZHVjdHMubWFwKHByb2R1Y3QgPT4gKFxyXG4gICAgICAgICAgICA8RW5oYW5jZWRQcm9kdWN0Q2FyZFxyXG4gICAgICAgICAgICAgIGtleT17YGRlbW8tJHtwcm9kdWN0LmlkfWB9XHJcbiAgICAgICAgICAgICAgY29udGV4dD1cImRlbW9cIlxyXG4gICAgICAgICAgICAgIHRpdGxlPXtwcm9kdWN0LnRpdGxlfVxyXG4gICAgICAgICAgICAgIHByaWNlPXtwcm9kdWN0LnByaWNlfVxyXG4gICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2U9e3Byb2R1Y3Qub3JpZ2luYWxQcmljZX1cclxuICAgICAgICAgICAgICBzdG9jaz17cHJvZHVjdC5zdG9ja31cclxuICAgICAgICAgICAgICBpbWFnZT17cHJvZHVjdC5pbWFnZX1cclxuICAgICAgICAgICAgICBzdG9ja1VuaXQ9XCJ1bmlkYWRlc1wiXHJcbiAgICAgICAgICAgICAgb25BZGRUb0NhcnQ9eygpID0+IGNvbnNvbGUubG9nKGBBZ3JlZ2FkbzogJHtwcm9kdWN0LnRpdGxlfWApfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIENvbnRleHRvIFByb2R1Y3QgRGV0YWlsICovfVxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNFwiPkNvbnRleHRvOiBQcm9kdWN0IERldGFpbCAoSW5mb3JtYWNpw7NuIGNvbXBsZXRhKTwvaDM+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1zbSBteC1hdXRvXCI+XHJcbiAgICAgICAgICA8RW5oYW5jZWRQcm9kdWN0Q2FyZFxyXG4gICAgICAgICAgICBjb250ZXh0PVwicHJvZHVjdERldGFpbFwiXHJcbiAgICAgICAgICAgIHRpdGxlPVwiUGludHVyYSBTaGVyd2luIFdpbGxpYW1zIFByb0NsYXNzaWMgNExcIlxyXG4gICAgICAgICAgICBwcmljZT17ODUwMH1cclxuICAgICAgICAgICAgb3JpZ2luYWxQcmljZT17MTAwMDB9XHJcbiAgICAgICAgICAgIHN0b2NrPXsxMn1cclxuICAgICAgICAgICAgaW1hZ2U9XCJodHRwczovL2Fha3pzcHpmdWxnZnRxbGd3a3BiLnN1cGFiYXNlLmNvL3N0b3JhZ2UvdjEvb2JqZWN0L3B1YmxpYy9wcm9kdWN0cy9zaGVyd2luLXdpbGxpYW1zL3BpbnR1cmEtc2hlcndpbi13aWxsaWFtcy5qcGdcIlxyXG4gICAgICAgICAgICBzdG9ja1VuaXQ9XCJsYXRhc1wiXHJcbiAgICAgICAgICAgIG9uQWRkVG9DYXJ0PXsoKSA9PiBjb25zb2xlLmxvZygnQWdyZWdhZG8gZGVzZGUgZGV0YWxsZScpfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgeyBFbmhhbmNlZFByb2R1Y3RDYXJkIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkVuaGFuY2VkUHJvZHVjdENhcmQiLCJQcm9kdWN0Q2FyZFNob3djYXNlIiwidXNlUHJvZHVjdENvbmZpZyIsIlJlYWN0IiwiZm9yd2FyZFJlZiIsImNvbnRleHQiLCJmb3JjZU5ld0NvbXBvbmVudHMiLCJjdXN0b21JbnN0YWxsbWVudHMiLCJwcm9kdWN0RGF0YSIsInByaWNlIiwib3JpZ2luYWxQcmljZSIsInN0b2NrIiwic3RvY2tVbml0Iiwic2hvd0luc3RhbGxtZW50cyIsInNob3dGcmVlU2hpcHBpbmciLCJzaG93RXhhY3RTdG9jayIsImxvd1N0b2NrVGhyZXNob2xkIiwicHJvcHMiLCJyZWYiLCJjb25maWciLCJ1c2VEZXNpZ25TeXN0ZW1Db25maWciLCJ1bmRlZmluZWQiLCJ1c2VOZXdDb21wb25lbnRzIiwicHJvZHVjdENhcmQiLCJ1c2VOZXdDb21wb25lbnRzQnlEZWZhdWx0IiwiYXV0b0luc3RhbGxtZW50cyIsInVzZU1lbW8iLCJzaG91bGRTaG93SW5zdGFsbG1lbnRzIiwiY2FsY3VsYXRlSW5zdGFsbG1lbnRzIiwic2hvdWxkRGlzcGxheUluc3RhbGxtZW50cyIsInNob3VsZERpc3BsYXlGcmVlU2hpcHBpbmciLCJzaG91bGRTaG93RnJlZVNoaXBwaW5nIiwic3RvY2tDb25maWciLCJ1bml0IiwiZWNvbW1lcmNlIiwic3RvY2tJbmRpY2F0b3IiLCJkZWZhdWx0VW5pdCIsInNob3dFeGFjdCIsInNob3dFeGFjdFF1YW50aXR5QnlEZWZhdWx0IiwidGhyZXNob2xkIiwiZGVmYXVsdExvd1N0b2NrVGhyZXNob2xkIiwiaGFzRGlzY291bnQiLCJkaXNjb3VudFBlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJQcm9kdWN0Q2FyZCIsImluc3RhbGxtZW50cyIsImRpc3BsYXlOYW1lIiwicHJvZHVjdHMiLCJpZCIsInRpdGxlIiwiaW1hZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsIm1hcCIsInByb2R1Y3QiLCJvbkFkZFRvQ2FydCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7UUFzT1NBO2VBQUFBOztRQWxHT0M7ZUFBQUE7O1FBZEFDO2VBQUFBOzs7OytEQXBITztzQkFDdUI7b0NBTXZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QlA7Ozs7Ozs7O0NBUUMsR0FDRCxNQUFNRixvQ0FBc0JHLE9BQU1DLFVBQVUsQ0FDMUMsQ0FBQyxFQUNDQyxVQUFVLFNBQVMsRUFDbkJDLGtCQUFrQixFQUNsQkMsa0JBQWtCLEVBQ2xCQyxXQUFXLEVBQ1hDLFFBQVEsQ0FBQyxFQUNUQyxhQUFhLEVBQ2JDLFFBQVEsQ0FBQyxFQUNUQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQkMsZ0JBQWdCLEVBQ2hCQyxjQUFjLEVBQ2RDLGlCQUFpQixFQUNqQixHQUFHQyxPQUNKLEVBQUVDO0lBQ0QsdUNB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