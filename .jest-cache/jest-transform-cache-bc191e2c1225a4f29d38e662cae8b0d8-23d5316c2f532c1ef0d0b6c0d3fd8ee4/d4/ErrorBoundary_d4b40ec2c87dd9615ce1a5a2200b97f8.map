{"version":3,"names":["cov_98sbom82h","actualCoverage","s","ErrorBoundary","f","ErrorBoundaryWrapper","PageErrorBoundary","useErrorHandler","_react","Component","constructor","props","handleRetry","setState","hasError","error","errorInfo","errorId","handleReload","window","b","location","reload","handleGoHome","href","state","getDerivedStateFromError","Date","now","Math","random","toString","substr","componentDidCatch","onError","enableReporting","_proactivemonitoring","proactiveMonitoring","reportError","errorBoundary","componentStack","timestamp","toISOString","userAgent","navigator","url","reportingError","_logger","logger","LogLevel","ERROR","originalError","message","Error","LogCategory","SYSTEM","stack","UI","render","fallback","_jsxruntime","jsx","className","jsxs","_card","Card","CardHeader","_lucidereact","AlertTriangle","CardTitle","CardDescription","CardContent","_alert","Alert","Bug","AlertDescription","showDetails","variant","_button","Button","onClick","RefreshCw","Home","children","default","useCallback","context","source","process","env","NODE_ENV"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ErrorBoundary.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react'\r\nimport { Button } from './ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card'\r\nimport { Alert, AlertDescription } from './ui/alert'\r\nimport { proactiveMonitoring } from '../lib/monitoring/proactive-monitoring'\r\nimport { logger, LogLevel, LogCategory } from '@/lib/enterprise/logger'\r\nimport { AlertTriangle, RefreshCw, Home, Bug } from 'lucide-react'\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n  fallback?: ReactNode\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void\r\n  showDetails?: boolean\r\n  enableReporting?: boolean\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean\r\n  error: Error | null\r\n  errorInfo: ErrorInfo | null\r\n  errorId: string | null\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: null\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<State> {\r\n    // Actualizar el estado para mostrar la UI de error\r\n    return {\r\n      hasError: true,\r\n      error,\r\n      errorId: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n    }\r\n  }\r\n\r\n  async componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    // Actualizar estado con información del error\r\n    this.setState({ errorInfo })\r\n\r\n    // Llamar callback personalizado si existe\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo)\r\n    }\r\n\r\n    // Reportar error al sistema de monitoreo si está habilitado\r\n    if (this.props.enableReporting !== false) {\r\n      try {\r\n        await proactiveMonitoring.reportError(error, {\r\n          errorBoundary: true,\r\n          componentStack: errorInfo.componentStack,\r\n          errorInfo: {\r\n            componentStack: errorInfo.componentStack,\r\n            errorBoundary: true\r\n          },\r\n          timestamp: new Date().toISOString(),\r\n          userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : 'unknown',\r\n          url: typeof window !== 'undefined' ? window.location.href : 'unknown',\r\n          errorId: this.state.errorId\r\n        })\r\n      } catch (reportingError) {\r\n        logger.error(LogLevel.ERROR, 'Failed to report error to monitoring system', {\r\n          originalError: error.message,\r\n          reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'\r\n        }, LogCategory.SYSTEM)\r\n      }\r\n    }\r\n\r\n    // Log del error\r\n    logger.error(LogLevel.ERROR, 'React Error Boundary caught an error', {\r\n      error: error.message,\r\n      stack: error.stack,\r\n      componentStack: errorInfo.componentStack,\r\n      errorId: this.state.errorId\r\n    }, LogCategory.UI)\r\n  }\r\n\r\n  handleRetry = () => {\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: null\r\n    })\r\n  }\r\n\r\n  handleReload = () => {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.reload()\r\n    }\r\n  }\r\n\r\n  handleGoHome = () => {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = '/'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Usar fallback personalizado si se proporciona\r\n      if (this.props.fallback) {\r\n        return this.props.fallback\r\n      }\r\n\r\n      // UI de error por defecto\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\r\n          <Card className=\"w-full max-w-2xl\">\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto mb-4 h-12 w-12 text-red-500\">\r\n                <AlertTriangle className=\"h-full w-full\" />\r\n              </div>\r\n              <CardTitle className=\"text-2xl font-bold text-red-600\">\r\n                ¡Oops! Algo salió mal\r\n              </CardTitle>\r\n              <CardDescription className=\"text-lg\">\r\n                Se ha producido un error inesperado en la aplicación\r\n              </CardDescription>\r\n            </CardHeader>\r\n            \r\n            <CardContent className=\"space-y-6\">\r\n              {/* Error ID para soporte */}\r\n              {this.state.errorId && (\r\n                <Alert>\r\n                  <Bug className=\"h-4 w-4\" />\r\n                  <AlertDescription>\r\n                    <strong>ID del Error:</strong> {this.state.errorId}\r\n                    <br />\r\n                    <span className=\"text-sm text-muted-foreground\">\r\n                      Proporciona este ID al equipo de soporte para una asistencia más rápida\r\n                    </span>\r\n                  </AlertDescription>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Detalles del error (solo en desarrollo o si se habilita explícitamente) */}\r\n              {this.props.showDetails && this.state.error && (\r\n                <div className=\"space-y-4\">\r\n                  <Alert variant=\"destructive\">\r\n                    <AlertDescription>\r\n                      <strong>Error:</strong> {this.state.error.message}\r\n                    </AlertDescription>\r\n                  </Alert>\r\n                  \r\n                  {this.state.error.stack && (\r\n                    <details className=\"text-sm\">\r\n                      <summary className=\"cursor-pointer font-medium text-gray-700 hover:text-gray-900\">\r\n                        Ver detalles técnicos\r\n                      </summary>\r\n                      <pre className=\"mt-2 whitespace-pre-wrap bg-gray-100 p-3 rounded text-xs overflow-auto max-h-40\">\r\n                        {this.state.error.stack}\r\n                      </pre>\r\n                    </details>\r\n                  )}\r\n                  \r\n                  {this.state.errorInfo?.componentStack && (\r\n                    <details className=\"text-sm\">\r\n                      <summary className=\"cursor-pointer font-medium text-gray-700 hover:text-gray-900\">\r\n                        Ver stack de componentes\r\n                      </summary>\r\n                      <pre className=\"mt-2 whitespace-pre-wrap bg-gray-100 p-3 rounded text-xs overflow-auto max-h-40\">\r\n                        {this.state.errorInfo.componentStack}\r\n                      </pre>\r\n                    </details>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Acciones */}\r\n              <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                <Button onClick={this.handleRetry} className=\"flex items-center\">\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Intentar de nuevo\r\n                </Button>\r\n                \r\n                <Button variant=\"outline\" onClick={this.handleReload} className=\"flex items-center\">\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Recargar página\r\n                </Button>\r\n                \r\n                <Button variant=\"outline\" onClick={this.handleGoHome} className=\"flex items-center\">\r\n                  <Home className=\"h-4 w-4 mr-2\" />\r\n                  Ir al inicio\r\n                </Button>\r\n              </div>\r\n\r\n              {/* Información adicional */}\r\n              <div className=\"text-center text-sm text-muted-foreground\">\r\n                <p>\r\n                  Si el problema persiste, por favor contacta al equipo de soporte.\r\n                </p>\r\n                {this.props.enableReporting !== false && (\r\n                  <p className=\"mt-1\">\r\n                    Este error ha sido reportado automáticamente para su revisión.\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\n/**\r\n * Hook para usar Error Boundary de forma funcional\r\n */\r\nexport function useErrorHandler() {\r\n  const reportError = React.useCallback(async (error: Error, context?: Record<string, any>) => {\r\n    try {\r\n      await proactiveMonitoring.reportError(error, {\r\n        ...context,\r\n        source: 'useErrorHandler',\r\n        timestamp: new Date().toISOString(),\r\n        url: typeof window !== 'undefined' ? window.location.href : 'unknown'\r\n      })\r\n    } catch (reportingError) {\r\n      logger.error(LogLevel.ERROR, 'Failed to report error via useErrorHandler', {\r\n        originalError: error.message,\r\n        reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'\r\n      }, LogCategory.SYSTEM)\r\n    }\r\n  }, [])\r\n\r\n  return { reportError }\r\n}\r\n\r\n/**\r\n * Componente wrapper para facilitar el uso de Error Boundary\r\n */\r\ninterface ErrorBoundaryWrapperProps {\r\n  children: ReactNode\r\n  fallback?: ReactNode\r\n  showDetails?: boolean\r\n  enableReporting?: boolean\r\n}\r\n\r\nexport function ErrorBoundaryWrapper({ \r\n  children, \r\n  fallback, \r\n  showDetails = process.env.NODE_ENV === 'development',\r\n  enableReporting = true \r\n}: ErrorBoundaryWrapperProps) {\r\n  return (\r\n    <ErrorBoundary \r\n      fallback={fallback}\r\n      showDetails={showDetails}\r\n      enableReporting={enableReporting}\r\n    >\r\n      {children}\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n\r\n/**\r\n * Error Boundary específico para páginas\r\n */\r\nexport function PageErrorBoundary({ children }: { children: ReactNode }) {\r\n  return (\r\n    <ErrorBoundary\r\n      showDetails={process.env.NODE_ENV === 'development'}\r\n      enableReporting={true}\r\n      fallback={\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <Card className=\"w-full max-w-md\">\r\n            <CardHeader className=\"text-center\">\r\n              <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\r\n              <CardTitle>Error en la página</CardTitle>\r\n              <CardDescription>\r\n                No se pudo cargar esta página correctamente\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"text-center\">\r\n              <Button onClick={() => window.location.reload()} className=\"mr-2\">\r\n                <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                Recargar\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={() => window.location.href = '/'}>\r\n                <Home className=\"h-4 w-4 mr-2\" />\r\n                Inicio\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      }\r\n    >\r\n      {children}\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}