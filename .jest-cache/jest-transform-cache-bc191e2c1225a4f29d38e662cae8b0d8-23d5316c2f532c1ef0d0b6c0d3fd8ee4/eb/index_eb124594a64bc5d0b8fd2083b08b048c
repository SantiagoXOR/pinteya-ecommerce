859a485415cf93f52796d3ad01e1bdaf
// ===================================
// PINTEYA E-COMMERCE - METRICS SYSTEM
// ===================================
"use strict";

/* istanbul ignore next */
function cov_15djenyddd() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\enterprise\\metrics\\index.ts";
  var hash = "1da0133239373fa0726e5d55ee5463ffeebcf5d5";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\enterprise\\metrics\\index.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 7,
          column: 3
        }
      },
      "1": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "2": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 32
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 32
        }
      },
      "6": {
        start: {
          line: 22,
          column: 15
        },
        end: {
          line: 22,
          column: 50
        }
      },
      "7": {
        start: {
          line: 23,
          column: 16
        },
        end: {
          line: 23,
          column: 36
        }
      },
      "8": {
        start: {
          line: 25,
          column: 23
        },
        end: {
          line: 33,
          column: 1
        }
      },
      "9": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "10": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 38,
          column: 63
        }
      },
      "11": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 41
        }
      },
      "12": {
        start: {
          line: 45,
          column: 26
        },
        end: {
          line: 45,
          column: 36
        }
      },
      "13": {
        start: {
          line: 46,
          column: 24
        },
        end: {
          line: 46,
          column: 55
        }
      },
      "14": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 70,
          column: 9
        }
      },
      "15": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 49,
          column: 80
        }
      },
      "16": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 63,
          column: 13
        }
      },
      "17": {
        start: {
          line: 52,
          column: 16
        },
        end: {
          line: 52,
          column: 86
        }
      },
      "18": {
        start: {
          line: 53,
          column: 19
        },
        end: {
          line: 63,
          column: 13
        }
      },
      "19": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 54,
          column: 91
        }
      },
      "20": {
        start: {
          line: 56,
          column: 16
        },
        end: {
          line: 56,
          column: 84
        }
      },
      "21": {
        start: {
          line: 58,
          column: 16
        },
        end: {
          line: 62,
          column: 17
        }
      },
      "22": {
        start: {
          line: 59,
          column: 20
        },
        end: {
          line: 59,
          column: 84
        }
      },
      "23": {
        start: {
          line: 60,
          column: 23
        },
        end: {
          line: 62,
          column: 17
        }
      },
      "24": {
        start: {
          line: 61,
          column: 20
        },
        end: {
          line: 61,
          column: 84
        }
      },
      "25": {
        start: {
          line: 65,
          column: 12
        },
        end: {
          line: 65,
          column: 88
        }
      },
      "26": {
        start: {
          line: 67,
          column: 12
        },
        end: {
          line: 67,
          column: 76
        }
      },
      "27": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 69,
          column: 92
        }
      },
      "28": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 78,
          column: 11
        }
      },
      "29": {
        start: {
          line: 83,
          column: 26
        },
        end: {
          line: 83,
          column: 36
        }
      },
      "30": {
        start: {
          line: 84,
          column: 24
        },
        end: {
          line: 84,
          column: 52
        }
      },
      "31": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 96,
          column: 9
        }
      },
      "32": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 86,
          column: 71
        }
      },
      "33": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 79
        }
      },
      "34": {
        start: {
          line: 88,
          column: 12
        },
        end: {
          line: 88,
          column: 84
        }
      },
      "35": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 93,
          column: 13
        }
      },
      "36": {
        start: {
          line: 90,
          column: 16
        },
        end: {
          line: 90,
          column: 77
        }
      },
      "37": {
        start: {
          line: 92,
          column: 16
        },
        end: {
          line: 92,
          column: 76
        }
      },
      "38": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 95,
          column: 98
        }
      },
      "39": {
        start: {
          line: 101,
          column: 26
        },
        end: {
          line: 101,
          column: 36
        }
      },
      "40": {
        start: {
          line: 102,
          column: 24
        },
        end: {
          line: 102,
          column: 56
        }
      },
      "41": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 112,
          column: 9
        }
      },
      "42": {
        start: {
          line: 104,
          column: 12
        },
        end: {
          line: 104,
          column: 72
        }
      },
      "43": {
        start: {
          line: 105,
          column: 12
        },
        end: {
          line: 107,
          column: 13
        }
      },
      "44": {
        start: {
          line: 106,
          column: 16
        },
        end: {
          line: 106,
          column: 77
        }
      },
      "45": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 81
        }
      },
      "46": {
        start: {
          line: 109,
          column: 12
        },
        end: {
          line: 109,
          column: 101
        }
      },
      "47": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 111,
          column: 103
        }
      },
      "48": {
        start: {
          line: 117,
          column: 26
        },
        end: {
          line: 117,
          column: 59
        }
      },
      "49": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 118,
          column: 48
        }
      },
      "50": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 119,
          column: 89
        }
      },
      "51": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "52": {
        start: {
          line: 125,
          column: 30
        },
        end: {
          line: 125,
          column: 63
        }
      },
      "53": {
        start: {
          line: 126,
          column: 28
        },
        end: {
          line: 126,
          column: 49
        }
      },
      "54": {
        start: {
          line: 128,
          column: 27
        },
        end: {
          line: 128,
          column: 75
        }
      },
      "55": {
        start: {
          line: 130,
          column: 12
        },
        end: {
          line: 137,
          column: 13
        }
      },
      "56": {
        start: {
          line: 131,
          column: 16
        },
        end: {
          line: 131,
          column: 62
        }
      },
      "57": {
        start: {
          line: 132,
          column: 16
        },
        end: {
          line: 132,
          column: 52
        }
      },
      "58": {
        start: {
          line: 133,
          column: 16
        },
        end: {
          line: 133,
          column: 84
        }
      },
      "59": {
        start: {
          line: 136,
          column: 16
        },
        end: {
          line: 136,
          column: 83
        }
      },
      "60": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 139,
          column: 98
        }
      },
      "61": {
        start: {
          line: 145,
          column: 28
        },
        end: {
          line: 145,
          column: 107
        }
      },
      "62": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 43
        }
      },
      "63": {
        start: {
          line: 151,
          column: 24
        },
        end: {
          line: 151,
          column: 55
        }
      },
      "64": {
        start: {
          line: 152,
          column: 20
        },
        end: {
          line: 152,
          column: 30
        }
      },
      "65": {
        start: {
          line: 153,
          column: 26
        },
        end: {
          line: 153,
          column: 58
        }
      },
      "66": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 182,
          column: 9
        }
      },
      "67": {
        start: {
          line: 156,
          column: 29
        },
        end: {
          line: 156,
          column: 90
        }
      },
      "68": {
        start: {
          line: 157,
          column: 27
        },
        end: {
          line: 157,
          column: 86
        }
      },
      "69": {
        start: {
          line: 159,
          column: 34
        },
        end: {
          line: 159,
          column: 102
        }
      },
      "70": {
        start: {
          line: 161,
          column: 31
        },
        end: {
          line: 161,
          column: 81
        }
      },
      "71": {
        start: {
          line: 162,
          column: 12
        },
        end: {
          line: 177,
          column: 14
        }
      },
      "72": {
        start: {
          line: 179,
          column: 12
        },
        end: {
          line: 179,
          column: 94
        }
      },
      "73": {
        start: {
          line: 181,
          column: 12
        },
        end: {
          line: 181,
          column: 45
        }
      },
      "74": {
        start: {
          line: 187,
          column: 23
        },
        end: {
          line: 187,
          column: 25
        }
      },
      "75": {
        start: {
          line: 188,
          column: 27
        },
        end: {
          line: 188,
          column: 80
        }
      },
      "76": {
        start: {
          line: 189,
          column: 8
        },
        end: {
          line: 207,
          column: 9
        }
      },
      "77": {
        start: {
          line: 189,
          column: 23
        },
        end: {
          line: 189,
          column: 32
        }
      },
      "78": {
        start: {
          line: 190,
          column: 32
        },
        end: {
          line: 190,
          column: 61
        }
      },
      "79": {
        start: {
          line: 192,
          column: 26
        },
        end: {
          line: 201,
          column: 13
        }
      },
      "80": {
        start: {
          line: 202,
          column: 12
        },
        end: {
          line: 206,
          column: 13
        }
      },
      "81": {
        start: {
          line: 203,
          column: 28
        },
        end: {
          line: 203,
          column: 75
        }
      },
      "82": {
        start: {
          line: 204,
          column: 30
        },
        end: {
          line: 204,
          column: 62
        }
      },
      "83": {
        start: {
          line: 205,
          column: 16
        },
        end: {
          line: 205,
          column: 76
        }
      },
      "84": {
        start: {
          line: 208,
          column: 8
        },
        end: {
          line: 208,
          column: 22
        }
      },
      "85": {
        start: {
          line: 213,
          column: 23
        },
        end: {
          line: 213,
          column: 25
        }
      },
      "86": {
        start: {
          line: 214,
          column: 27
        },
        end: {
          line: 214,
          column: 80
        }
      },
      "87": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 236,
          column: 9
        }
      },
      "88": {
        start: {
          line: 215,
          column: 23
        },
        end: {
          line: 215,
          column: 32
        }
      },
      "89": {
        start: {
          line: 216,
          column: 32
        },
        end: {
          line: 216,
          column: 61
        }
      },
      "90": {
        start: {
          line: 217,
          column: 24
        },
        end: {
          line: 217,
          column: 58
        }
      },
      "91": {
        start: {
          line: 218,
          column: 12
        },
        end: {
          line: 235,
          column: 13
        }
      },
      "92": {
        start: {
          line: 219,
          column: 31
        },
        end: {
          line: 219,
          column: 79
        }
      },
      "93": {
        start: {
          line: 220,
          column: 16
        },
        end: {
          line: 232,
          column: 17
        }
      },
      "94": {
        start: {
          line: 221,
          column: 41
        },
        end: {
          line: 221,
          column: 72
        }
      },
      "95": {
        start: {
          line: 222,
          column: 20
        },
        end: {
          line: 222,
          column: 96
        }
      },
      "96": {
        start: {
          line: 222,
          column: 57
        },
        end: {
          line: 222,
          column: 70
        }
      },
      "97": {
        start: {
          line: 222,
          column: 84
        },
        end: {
          line: 222,
          column: 93
        }
      },
      "98": {
        start: {
          line: 225,
          column: 34
        },
        end: {
          line: 225,
          column: 78
        }
      },
      "99": {
        start: {
          line: 226,
          column: 20
        },
        end: {
          line: 231,
          column: 21
        }
      },
      "100": {
        start: {
          line: 227,
          column: 41
        },
        end: {
          line: 227,
          column: 58
        }
      },
      "101": {
        start: {
          line: 228,
          column: 24
        },
        end: {
          line: 230,
          column: 25
        }
      },
      "102": {
        start: {
          line: 229,
          column: 28
        },
        end: {
          line: 229,
          column: 50
        }
      },
      "103": {
        start: {
          line: 237,
          column: 8
        },
        end: {
          line: 247,
          column: 9
        }
      },
      "104": {
        start: {
          line: 238,
          column: 12
        },
        end: {
          line: 246,
          column: 14
        }
      },
      "105": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 248,
          column: 35
        }
      },
      "106": {
        start: {
          line: 248,
          column: 28
        },
        end: {
          line: 248,
          column: 33
        }
      },
      "107": {
        start: {
          line: 249,
          column: 20
        },
        end: {
          line: 249,
          column: 51
        }
      },
      "108": {
        start: {
          line: 249,
          column: 42
        },
        end: {
          line: 249,
          column: 47
        }
      },
      "109": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 258,
          column: 10
        }
      },
      "110": {
        start: {
          line: 263,
          column: 24
        },
        end: {
          line: 263,
          column: 52
        }
      },
      "111": {
        start: {
          line: 264,
          column: 25
        },
        end: {
          line: 264,
          column: 82
        }
      },
      "112": {
        start: {
          line: 265,
          column: 25
        },
        end: {
          line: 265,
          column: 92
        }
      },
      "113": {
        start: {
          line: 266,
          column: 8
        },
        end: {
          line: 271,
          column: 10
        }
      },
      "114": {
        start: {
          line: 276,
          column: 8
        },
        end: {
          line: 313,
          column: 9
        }
      },
      "115": {
        start: {
          line: 277,
          column: 73
        },
        end: {
          line: 281,
          column: 14
        }
      },
      "116": {
        start: {
          line: 283,
          column: 34
        },
        end: {
          line: 283,
          column: 131
        }
      },
      "117": {
        start: {
          line: 284,
          column: 32
        },
        end: {
          line: 284,
          column: 129
        }
      },
      "118": {
        start: {
          line: 285,
          column: 37
        },
        end: {
          line: 285,
          column: 88
        }
      },
      "119": {
        start: {
          line: 286,
          column: 36
        },
        end: {
          line: 286,
          column: 287
        }
      },
      "120": {
        start: {
          line: 287,
          column: 12
        },
        end: {
          line: 297,
          column: 14
        }
      },
      "121": {
        start: {
          line: 299,
          column: 12
        },
        end: {
          line: 299,
          column: 71
        }
      },
      "122": {
        start: {
          line: 301,
          column: 33
        },
        end: {
          line: 301,
          column: 58
        }
      },
      "123": {
        start: {
          line: 302,
          column: 12
        },
        end: {
          line: 312,
          column: 14
        }
      },
      "124": {
        start: {
          line: 318,
          column: 8
        },
        end: {
          line: 346,
          column: 10
        }
      },
      "125": {
        start: {
          line: 349,
          column: 25
        },
        end: {
          line: 349,
          column: 55
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 16
          }
        },
        loc: {
          start: {
            line: 8,
            column: 30
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 28
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 28
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 35,
            column: 5
          }
        },
        loc: {
          start: {
            line: 35,
            column: 17
          },
          end: {
            line: 35,
            column: 19
          }
        },
        line: 35
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        loc: {
          start: {
            line: 36,
            column: 25
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 36
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 44,
            column: 6
          },
          end: {
            line: 44,
            column: 7
          }
        },
        loc: {
          start: {
            line: 44,
            column: 83
          },
          end: {
            line: 71,
            column: 5
          }
        },
        line: 44
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 74,
            column: 6
          },
          end: {
            line: 74,
            column: 7
          }
        },
        loc: {
          start: {
            line: 74,
            column: 34
          },
          end: {
            line: 79,
            column: 5
          }
        },
        line: 74
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 82,
            column: 6
          },
          end: {
            line: 82,
            column: 7
          }
        },
        loc: {
          start: {
            line: 82,
            column: 69
          },
          end: {
            line: 97,
            column: 5
          }
        },
        line: 82
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 100,
            column: 6
          },
          end: {
            line: 100,
            column: 7
          }
        },
        loc: {
          start: {
            line: 100,
            column: 65
          },
          end: {
            line: 113,
            column: 5
          }
        },
        line: 100
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 116,
            column: 6
          },
          end: {
            line: 116,
            column: 7
          }
        },
        loc: {
          start: {
            line: 116,
            column: 45
          },
          end: {
            line: 120,
            column: 5
          }
        },
        line: 116
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 123,
            column: 6
          },
          end: {
            line: 123,
            column: 7
          }
        },
        loc: {
          start: {
            line: 123,
            column: 47
          },
          end: {
            line: 141,
            column: 5
          }
        },
        line: 123
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 144,
            column: 6
          },
          end: {
            line: 144,
            column: 7
          }
        },
        loc: {
          start: {
            line: 144,
            column: 39
          },
          end: {
            line: 147,
            column: 5
          }
        },
        line: 144
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 150,
            column: 6
          },
          end: {
            line: 150,
            column: 7
          }
        },
        loc: {
          start: {
            line: 150,
            column: 59
          },
          end: {
            line: 183,
            column: 5
          }
        },
        line: 150
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 186,
            column: 6
          },
          end: {
            line: 186,
            column: 7
          }
        },
        loc: {
          start: {
            line: 186,
            column: 65
          },
          end: {
            line: 209,
            column: 5
          }
        },
        line: 186
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 212,
            column: 6
          },
          end: {
            line: 212,
            column: 7
          }
        },
        loc: {
          start: {
            line: 212,
            column: 55
          },
          end: {
            line: 259,
            column: 5
          }
        },
        line: 212
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 222,
            column: 52
          },
          end: {
            line: 222,
            column: 53
          }
        },
        loc: {
          start: {
            line: 222,
            column: 57
          },
          end: {
            line: 222,
            column: 70
          }
        },
        line: 222
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 222,
            column: 79
          },
          end: {
            line: 222,
            column: 80
          }
        },
        loc: {
          start: {
            line: 222,
            column: 84
          },
          end: {
            line: 222,
            column: 93
          }
        },
        line: 222
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 248,
            column: 20
          },
          end: {
            line: 248,
            column: 21
          }
        },
        loc: {
          start: {
            line: 248,
            column: 28
          },
          end: {
            line: 248,
            column: 33
          }
        },
        line: 248
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 249,
            column: 34
          },
          end: {
            line: 249,
            column: 35
          }
        },
        loc: {
          start: {
            line: 249,
            column: 42
          },
          end: {
            line: 249,
            column: 47
          }
        },
        line: 249
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 262,
            column: 6
          },
          end: {
            line: 262,
            column: 7
          }
        },
        loc: {
          start: {
            line: 262,
            column: 57
          },
          end: {
            line: 272,
            column: 5
          }
        },
        line: 262
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 275,
            column: 6
          },
          end: {
            line: 275,
            column: 7
          }
        },
        loc: {
          start: {
            line: 275,
            column: 49
          },
          end: {
            line: 314,
            column: 5
          }
        },
        line: 275
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 317,
            column: 6
          },
          end: {
            line: 317,
            column: 7
          }
        },
        loc: {
          start: {
            line: 317,
            column: 27
          },
          end: {
            line: 347,
            column: 5
          }
        },
        line: 317
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "1": {
        loc: {
          start: {
            line: 44,
            column: 70
          },
          end: {
            line: 44,
            column: 81
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 44,
            column: 79
          },
          end: {
            line: 44,
            column: 81
          }
        }],
        line: 44
      },
      "2": {
        loc: {
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 63,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 63,
            column: 13
          }
        }, {
          start: {
            line: 53,
            column: 19
          },
          end: {
            line: 63,
            column: 13
          }
        }],
        line: 51
      },
      "3": {
        loc: {
          start: {
            line: 51,
            column: 16
          },
          end: {
            line: 51,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 51,
            column: 16
          },
          end: {
            line: 51,
            column: 33
          }
        }, {
          start: {
            line: 51,
            column: 37
          },
          end: {
            line: 51,
            column: 53
          }
        }],
        line: 51
      },
      "4": {
        loc: {
          start: {
            line: 53,
            column: 19
          },
          end: {
            line: 63,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 53,
            column: 19
          },
          end: {
            line: 63,
            column: 13
          }
        }, {
          start: {
            line: 55,
            column: 19
          },
          end: {
            line: 63,
            column: 13
          }
        }],
        line: 53
      },
      "5": {
        loc: {
          start: {
            line: 58,
            column: 16
          },
          end: {
            line: 62,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 16
          },
          end: {
            line: 62,
            column: 17
          }
        }, {
          start: {
            line: 60,
            column: 23
          },
          end: {
            line: 62,
            column: 17
          }
        }],
        line: 58
      },
      "6": {
        loc: {
          start: {
            line: 58,
            column: 20
          },
          end: {
            line: 58,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 20
          },
          end: {
            line: 58,
            column: 37
          }
        }, {
          start: {
            line: 58,
            column: 41
          },
          end: {
            line: 58,
            column: 57
          }
        }],
        line: 58
      },
      "7": {
        loc: {
          start: {
            line: 60,
            column: 23
          },
          end: {
            line: 62,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 60,
            column: 23
          },
          end: {
            line: 62,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 60
      },
      "8": {
        loc: {
          start: {
            line: 76,
            column: 20
          },
          end: {
            line: 76,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 76,
            column: 20
          },
          end: {
            line: 76,
            column: 33
          }
        }, {
          start: {
            line: 76,
            column: 37
          },
          end: {
            line: 76,
            column: 48
          }
        }],
        line: 76
      },
      "9": {
        loc: {
          start: {
            line: 77,
            column: 19
          },
          end: {
            line: 77,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 77,
            column: 19
          },
          end: {
            line: 77,
            column: 31
          }
        }, {
          start: {
            line: 77,
            column: 35
          },
          end: {
            line: 77,
            column: 37
          }
        }],
        line: 77
      },
      "10": {
        loc: {
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 93,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 93,
            column: 13
          }
        }, {
          start: {
            line: 91,
            column: 19
          },
          end: {
            line: 93,
            column: 13
          }
        }],
        line: 89
      },
      "11": {
        loc: {
          start: {
            line: 105,
            column: 12
          },
          end: {
            line: 107,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 105,
            column: 12
          },
          end: {
            line: 107,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 105
      },
      "12": {
        loc: {
          start: {
            line: 128,
            column: 27
          },
          end: {
            line: 128,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 128,
            column: 27
          },
          end: {
            line: 128,
            column: 54
          }
        }, {
          start: {
            line: 128,
            column: 58
          },
          end: {
            line: 128,
            column: 75
          }
        }],
        line: 128
      },
      "13": {
        loc: {
          start: {
            line: 130,
            column: 12
          },
          end: {
            line: 137,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 130,
            column: 12
          },
          end: {
            line: 137,
            column: 13
          }
        }, {
          start: {
            line: 134,
            column: 19
          },
          end: {
            line: 137,
            column: 13
          }
        }],
        line: 130
      },
      "14": {
        loc: {
          start: {
            line: 150,
            column: 44
          },
          end: {
            line: 150,
            column: 57
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 150,
            column: 56
          },
          end: {
            line: 150,
            column: 57
          }
        }],
        line: 150
      },
      "15": {
        loc: {
          start: {
            line: 164,
            column: 27
          },
          end: {
            line: 164,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 164,
            column: 27
          },
          end: {
            line: 164,
            column: 41
          }
        }, {
          start: {
            line: 164,
            column: 45
          },
          end: {
            line: 164,
            column: 46
          }
        }],
        line: 164
      },
      "16": {
        loc: {
          start: {
            line: 165,
            column: 29
          },
          end: {
            line: 165,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 165,
            column: 29
          },
          end: {
            line: 165,
            column: 45
          }
        }, {
          start: {
            line: 165,
            column: 49
          },
          end: {
            line: 165,
            column: 50
          }
        }],
        line: 165
      },
      "17": {
        loc: {
          start: {
            line: 166,
            column: 27
          },
          end: {
            line: 166,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 166,
            column: 27
          },
          end: {
            line: 166,
            column: 41
          }
        }, {
          start: {
            line: 166,
            column: 45
          },
          end: {
            line: 166,
            column: 46
          }
        }],
        line: 166
      },
      "18": {
        loc: {
          start: {
            line: 167,
            column: 34
          },
          end: {
            line: 167,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 167,
            column: 34
          },
          end: {
            line: 167,
            column: 55
          }
        }, {
          start: {
            line: 167,
            column: 59
          },
          end: {
            line: 167,
            column: 60
          }
        }],
        line: 167
      },
      "19": {
        loc: {
          start: {
            line: 171,
            column: 27
          },
          end: {
            line: 171,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 171,
            column: 27
          },
          end: {
            line: 171,
            column: 40
          }
        }, {
          start: {
            line: 171,
            column: 44
          },
          end: {
            line: 171,
            column: 45
          }
        }],
        line: 171
      },
      "20": {
        loc: {
          start: {
            line: 172,
            column: 27
          },
          end: {
            line: 172,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 172,
            column: 27
          },
          end: {
            line: 172,
            column: 40
          }
        }, {
          start: {
            line: 172,
            column: 44
          },
          end: {
            line: 172,
            column: 45
          }
        }],
        line: 172
      },
      "21": {
        loc: {
          start: {
            line: 173,
            column: 29
          },
          end: {
            line: 173,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 173,
            column: 29
          },
          end: {
            line: 173,
            column: 43
          }
        }, {
          start: {
            line: 173,
            column: 47
          },
          end: {
            line: 173,
            column: 48
          }
        }],
        line: 173
      },
      "22": {
        loc: {
          start: {
            line: 174,
            column: 29
          },
          end: {
            line: 174,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 174,
            column: 29
          },
          end: {
            line: 174,
            column: 43
          }
        }, {
          start: {
            line: 174,
            column: 47
          },
          end: {
            line: 174,
            column: 48
          }
        }],
        line: 174
      },
      "23": {
        loc: {
          start: {
            line: 205,
            column: 32
          },
          end: {
            line: 205,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 205,
            column: 32
          },
          end: {
            line: 205,
            column: 44
          }
        }, {
          start: {
            line: 205,
            column: 48
          },
          end: {
            line: 205,
            column: 49
          }
        }],
        line: 205
      },
      "24": {
        loc: {
          start: {
            line: 205,
            column: 62
          },
          end: {
            line: 205,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 205,
            column: 62
          },
          end: {
            line: 205,
            column: 67
          }
        }, {
          start: {
            line: 205,
            column: 71
          },
          end: {
            line: 205,
            column: 74
          }
        }],
        line: 205
      },
      "25": {
        loc: {
          start: {
            line: 219,
            column: 31
          },
          end: {
            line: 219,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 219,
            column: 31
          },
          end: {
            line: 219,
            column: 58
          }
        }, {
          start: {
            line: 219,
            column: 62
          },
          end: {
            line: 219,
            column: 79
          }
        }],
        line: 219
      },
      "26": {
        loc: {
          start: {
            line: 220,
            column: 16
          },
          end: {
            line: 232,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 220,
            column: 16
          },
          end: {
            line: 232,
            column: 17
          }
        }, {
          start: {
            line: 223,
            column: 23
          },
          end: {
            line: 232,
            column: 17
          }
        }],
        line: 220
      },
      "27": {
        loc: {
          start: {
            line: 226,
            column: 20
          },
          end: {
            line: 231,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 226,
            column: 20
          },
          end: {
            line: 231,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 226
      },
      "28": {
        loc: {
          start: {
            line: 228,
            column: 24
          },
          end: {
            line: 230,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 228,
            column: 24
          },
          end: {
            line: 230,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 228
      },
      "29": {
        loc: {
          start: {
            line: 237,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 237,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 237
      },
      "30": {
        loc: {
          start: {
            line: 256,
            column: 17
          },
          end: {
            line: 256,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 256,
            column: 17
          },
          end: {
            line: 256,
            column: 57
          }
        }, {
          start: {
            line: 256,
            column: 61
          },
          end: {
            line: 256,
            column: 62
          }
        }],
        line: 256
      },
      "31": {
        loc: {
          start: {
            line: 257,
            column: 17
          },
          end: {
            line: 257,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 257,
            column: 17
          },
          end: {
            line: 257,
            column: 57
          }
        }, {
          start: {
            line: 257,
            column: 61
          },
          end: {
            line: 257,
            column: 62
          }
        }],
        line: 257
      },
      "32": {
        loc: {
          start: {
            line: 267,
            column: 27
          },
          end: {
            line: 267,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 267,
            column: 27
          },
          end: {
            line: 267,
            column: 41
          }
        }, {
          start: {
            line: 267,
            column: 45
          },
          end: {
            line: 267,
            column: 46
          }
        }],
        line: 267
      },
      "33": {
        loc: {
          start: {
            line: 268,
            column: 32
          },
          end: {
            line: 268,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 268,
            column: 32
          },
          end: {
            line: 268,
            column: 48
          }
        }, {
          start: {
            line: 268,
            column: 52
          },
          end: {
            line: 268,
            column: 53
          }
        }],
        line: 268
      },
      "34": {
        loc: {
          start: {
            line: 269,
            column: 28
          },
          end: {
            line: 269,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 269,
            column: 28
          },
          end: {
            line: 269,
            column: 43
          }
        }, {
          start: {
            line: 269,
            column: 47
          },
          end: {
            line: 269,
            column: 48
          }
        }],
        line: 269
      },
      "35": {
        loc: {
          start: {
            line: 270,
            column: 26
          },
          end: {
            line: 270,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 270,
            column: 26
          },
          end: {
            line: 270,
            column: 38
          }
        }, {
          start: {
            line: 270,
            column: 42
          },
          end: {
            line: 270,
            column: 43
          }
        }],
        line: 270
      },
      "36": {
        loc: {
          start: {
            line: 275,
            column: 34
          },
          end: {
            line: 275,
            column: 47
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 275,
            column: 46
          },
          end: {
            line: 275,
            column: 47
          }
        }],
        line: 275
      },
      "37": {
        loc: {
          start: {
            line: 285,
            column: 37
          },
          end: {
            line: 285,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 285,
            column: 57
          },
          end: {
            line: 285,
            column: 84
          }
        }, {
          start: {
            line: 285,
            column: 87
          },
          end: {
            line: 285,
            column: 88
          }
        }],
        line: 285
      },
      "38": {
        loc: {
          start: {
            line: 286,
            column: 36
          },
          end: {
            line: 286,
            column: 287
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 286,
            column: 56
          },
          end: {
            line: 286,
            column: 283
          }
        }, {
          start: {
            line: 286,
            column: 286
          },
          end: {
            line: 286,
            column: 287
          }
        }],
        line: 286
      },
      "39": {
        loc: {
          start: {
            line: 292,
            column: 39
          },
          end: {
            line: 292,
            column: 76
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 292,
            column: 65
          },
          end: {
            line: 292,
            column: 69
          }
        }, {
          start: {
            line: 292,
            column: 72
          },
          end: {
            line: 292,
            column: 76
          }
        }],
        line: 292
      },
      "40": {
        loc: {
          start: {
            line: 295,
            column: 35
          },
          end: {
            line: 295,
            column: 91
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 295,
            column: 60
          },
          end: {
            line: 295,
            column: 84
          }
        }, {
          start: {
            line: 295,
            column: 87
          },
          end: {
            line: 295,
            column: 91
          }
        }],
        line: 295
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0
    },
    b: {
      "0": [0, 0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\enterprise\\metrics\\index.ts"],
      sourcesContent: ["// ===================================\r\n// PINTEYA E-COMMERCE - METRICS SYSTEM\r\n// ===================================\r\n\r\nimport { redisCache } from '../../integrations/redis';\r\nimport { logger, LogLevel, LogCategory } from '../logger';\r\n\r\n// Tipos de m\xE9tricas\r\nexport interface MetricData {\r\n  timestamp: number;\r\n  value: number;\r\n  labels?: Record<string, string>;\r\n}\r\n\r\nexport interface AggregatedMetric {\r\n  count: number;\r\n  sum: number;\r\n  avg: number;\r\n  min: number;\r\n  max: number;\r\n  p95: number;\r\n  p99: number;\r\n}\r\n\r\nexport interface ApiMetrics {\r\n  requests: {\r\n    total: number;\r\n    success: number;\r\n    error: number;\r\n    rate_limited: number;\r\n  };\r\n  response_times: AggregatedMetric;\r\n  error_rates: {\r\n    '4xx': number;\r\n    '5xx': number;\r\n    network: number;\r\n    timeout: number;\r\n  };\r\n  retry_stats: {\r\n    total_retries: number;\r\n    successful_retries: number;\r\n    failed_retries: number;\r\n    avg_attempts: number;\r\n  };\r\n}\r\n\r\nexport interface MercadoPagoMetrics {\r\n  payment_creation: ApiMetrics;\r\n  payment_queries: ApiMetrics;\r\n  webhook_processing: ApiMetrics;\r\n  overall_health: {\r\n    uptime_percentage: number;\r\n    avg_response_time: number;\r\n    error_rate: number;\r\n    last_incident: string | null;\r\n  };\r\n}\r\n\r\n// Configuraci\xF3n de m\xE9tricas\r\nconst METRICS_CONFIG = {\r\n  RETENTION_HOURS: 24,\r\n  AGGREGATION_WINDOW_MINUTES: 5,\r\n  ALERT_THRESHOLDS: {\r\n    ERROR_RATE: 0.05, // 5%\r\n    RESPONSE_TIME_P95: 5000, // 5 segundos\r\n    RATE_LIMIT_RATE: 0.1, // 10%\r\n  },\r\n};\r\n\r\n/**\r\n * Clase principal para manejo de m\xE9tricas\r\n */\r\nexport class MetricsCollector {\r\n  private static instance: MetricsCollector;\r\n\r\n  private constructor() {}\r\n\r\n  static getInstance(): MetricsCollector {\r\n    if (!MetricsCollector.instance) {\r\n      MetricsCollector.instance = new MetricsCollector();\r\n    }\r\n    return MetricsCollector.instance;\r\n  }\r\n\r\n  /**\r\n   * Registra una m\xE9trica de request\r\n   */\r\n  async recordRequest(\r\n    endpoint: string,\r\n    method: string,\r\n    statusCode: number,\r\n    responseTime: number,\r\n    labels: Record<string, string> = {}\r\n  ): Promise<void> {\r\n    const timestamp = Date.now();\r\n    const baseKey = `metrics:${endpoint}:${method}`;\r\n\r\n    try {\r\n      // Registrar request total\r\n      await this.incrementCounter(`${baseKey}:requests:total`, timestamp);\r\n\r\n      // Registrar por tipo de respuesta\r\n      if (statusCode >= 200 && statusCode < 300) {\r\n        await this.incrementCounter(`${baseKey}:requests:success`, timestamp);\r\n      } else if (statusCode === 429) {\r\n        await this.incrementCounter(`${baseKey}:requests:rate_limited`, timestamp);\r\n      } else {\r\n        await this.incrementCounter(`${baseKey}:requests:error`, timestamp);\r\n        \r\n        // Categorizar errores\r\n        if (statusCode >= 400 && statusCode < 500) {\r\n          await this.incrementCounter(`${baseKey}:errors:4xx`, timestamp);\r\n        } else if (statusCode >= 500) {\r\n          await this.incrementCounter(`${baseKey}:errors:5xx`, timestamp);\r\n        }\r\n      }\r\n\r\n      // Registrar tiempo de respuesta\r\n      await this.recordValue(`${baseKey}:response_time`, responseTime, timestamp);\r\n\r\n      // Log para debugging\r\n      logger.info(LogCategory.API, 'Metric recorded');\r\n\r\n    } catch (error) {\r\n      logger.error(LogCategory.API, 'Failed to record metric', error as Error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registra una llamada a API (alias para recordRequest)\r\n   */\r\n  async recordApiCall(params: {\r\n    endpoint: string;\r\n    method: string;\r\n    statusCode: number;\r\n    responseTime: number;\r\n    userId?: string;\r\n    error?: string;\r\n  }): Promise<void> {\r\n    await this.recordRequest(\r\n      params.endpoint,\r\n      params.method,\r\n      params.statusCode,\r\n      params.responseTime,\r\n      {\r\n        userId: params.userId || 'anonymous',\r\n        error: params.error || ''\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Registra m\xE9tricas de retry\r\n   */\r\n  async recordRetry(\r\n    operation: string,\r\n    attempts: number,\r\n    success: boolean,\r\n    totalDuration: number\r\n  ): Promise<void> {\r\n    const timestamp = Date.now();\r\n    const baseKey = `metrics:retry:${operation}`;\r\n\r\n    try {\r\n      await this.incrementCounter(`${baseKey}:total`, timestamp);\r\n      await this.recordValue(`${baseKey}:attempts`, attempts, timestamp);\r\n      await this.recordValue(`${baseKey}:duration`, totalDuration, timestamp);\r\n\r\n      if (success) {\r\n        await this.incrementCounter(`${baseKey}:success`, timestamp);\r\n      } else {\r\n        await this.incrementCounter(`${baseKey}:failed`, timestamp);\r\n      }\r\n\r\n    } catch (error) {\r\n      logger.error(LogCategory.API, 'Failed to record retry metric', error as Error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registra m\xE9tricas de rate limiting\r\n   */\r\n  async recordRateLimit(\r\n    endpoint: string,\r\n    blocked: boolean,\r\n    remaining: number,\r\n    limit: number\r\n  ): Promise<void> {\r\n    const timestamp = Date.now();\r\n    const baseKey = `metrics:rate_limit:${endpoint}`;\r\n\r\n    try {\r\n      await this.incrementCounter(`${baseKey}:checks`, timestamp);\r\n      \r\n      if (blocked) {\r\n        await this.incrementCounter(`${baseKey}:blocked`, timestamp);\r\n      }\r\n\r\n      await this.recordValue(`${baseKey}:remaining`, remaining, timestamp);\r\n      await this.recordValue(`${baseKey}:utilization`, (limit - remaining) / limit, timestamp);\r\n\r\n    } catch (error) {\r\n      logger.error(LogCategory.API, 'Failed to record rate limit metric', error as Error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Incrementa un contador\r\n   */\r\n  private async incrementCounter(key: string, timestamp: number): Promise<void> {\r\n    const windowKey = this.getWindowKey(key, timestamp);\r\n    await redisCache.incr(windowKey);\r\n    await redisCache.expire(windowKey, METRICS_CONFIG.RETENTION_HOURS * 3600);\r\n  }\r\n\r\n  /**\r\n   * Registra un valor num\xE9rico\r\n   */\r\n  private async recordValue(key: string, value: number, timestamp: number): Promise<void> {\r\n    try {\r\n      const windowKey = this.getWindowKey(key, timestamp);\r\n      const listKey = `${windowKey}:values`;\r\n\r\n      // Obtener cliente Redis (real o mock)\r\n      const client = redisCache['client'] || redisCache;\r\n\r\n      // Verificar si el cliente tiene los m\xE9todos necesarios\r\n      if (typeof client.lpush === 'function') {\r\n        await client.lpush(listKey, value.toString());\r\n        await client.ltrim(listKey, 0, 999); // Mantener \xFAltimos 1000 valores\r\n        await client.expire(listKey, METRICS_CONFIG.RETENTION_HOURS * 3600);\r\n      } else {\r\n        // Fallback para mock b\xE1sico - usar storage simple\r\n        await redisCache.set(`${listKey}:latest`, value.toString());\r\n      }\r\n    } catch (error) {\r\n      logger.error(LogCategory.API, 'Failed to record metric value', error as Error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Genera clave de ventana temporal\r\n   */\r\n  private getWindowKey(baseKey: string, timestamp: number): string {\r\n    const windowStart = Math.floor(timestamp / (METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000));\r\n    return `${baseKey}:${windowStart}`;\r\n  }\r\n\r\n  /**\r\n   * Obtiene m\xE9tricas agregadas para un endpoint\r\n   */\r\n  async getApiMetrics(endpoint: string, method: string, hoursBack: number = 1): Promise<ApiMetrics> {\r\n    const baseKey = `metrics:${endpoint}:${method}`;\r\n    const now = Date.now();\r\n    const startTime = now - (hoursBack * 60 * 60 * 1000);\r\n\r\n    try {\r\n      // Obtener contadores\r\n      const requests = await this.getCounterSum(baseKey, 'requests', startTime, now);\r\n      const errors = await this.getCounterSum(baseKey, 'errors', startTime, now);\r\n      \r\n      // Obtener tiempos de respuesta\r\n      const responseTimes = await this.getValueStats(`${baseKey}:response_time`, startTime, now);\r\n      \r\n      // Obtener m\xE9tricas de retry\r\n      const retryStats = await this.getRetryStats(endpoint, startTime, now);\r\n\r\n      return {\r\n        requests: {\r\n          total: requests.total || 0,\r\n          success: requests.success || 0,\r\n          error: requests.error || 0,\r\n          rate_limited: requests.rate_limited || 0,\r\n        },\r\n        response_times: responseTimes,\r\n        error_rates: {\r\n          '4xx': errors['4xx'] || 0,\r\n          '5xx': errors['5xx'] || 0,\r\n          network: errors.network || 0,\r\n          timeout: errors.timeout || 0,\r\n        },\r\n        retry_stats: retryStats,\r\n      };\r\n\r\n    } catch (error) {\r\n      logger.error(LogCategory.API, 'Failed to get API metrics', error as Error);\r\n      \r\n      // Retornar m\xE9tricas vac\xEDas en caso de error\r\n      return this.getEmptyApiMetrics();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Obtiene suma de contadores en un rango de tiempo\r\n   */\r\n  private async getCounterSum(\r\n    baseKey: string, \r\n    category: string, \r\n    startTime: number, \r\n    endTime: number\r\n  ): Promise<Record<string, number>> {\r\n    const result: Record<string, number> = {};\r\n    const windowSize = METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000;\r\n    \r\n    for (let time = startTime; time <= endTime; time += windowSize) {\r\n      const windowStart = Math.floor(time / windowSize);\r\n      \r\n      // Obtener diferentes tipos de contadores\r\n      const types = ['total', 'success', 'error', 'rate_limited', '4xx', '5xx', 'network', 'timeout'];\r\n      \r\n      for (const type of types) {\r\n        const key = `${baseKey}:${category}:${type}:${windowStart}`;\r\n        const value = await redisCache.get(key);\r\n        result[type] = (result[type] || 0) + (parseInt(value || '0'));\r\n      }\r\n    }\r\n    \r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Obtiene estad\xEDsticas de valores num\xE9ricos\r\n   */\r\n  private async getValueStats(\r\n    baseKey: string,\r\n    startTime: number,\r\n    endTime: number\r\n  ): Promise<AggregatedMetric> {\r\n    const values: number[] = [];\r\n    const windowSize = METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000;\r\n\r\n    for (let time = startTime; time <= endTime; time += windowSize) {\r\n      const windowStart = Math.floor(time / windowSize);\r\n      const key = `${baseKey}:${windowStart}:values`;\r\n\r\n      try {\r\n        const client = redisCache['client'] || redisCache;\r\n\r\n        if (typeof client.lrange === 'function') {\r\n          const windowValues = await client.lrange(key, 0, -1);\r\n          values.push(...windowValues.map(v => parseFloat(v)).filter(v => !isNaN(v)));\r\n        } else {\r\n          // Fallback para mock b\xE1sico\r\n          const value = await redisCache.get(`${key}:latest`);\r\n          if (value) {\r\n            const numValue = parseFloat(value);\r\n            if (!isNaN(numValue)) {\r\n              values.push(numValue);\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        // Continuar si no se puede obtener valores de una ventana\r\n      }\r\n    }\r\n\r\n    if (values.length === 0) {\r\n      return { count: 0, sum: 0, avg: 0, min: 0, max: 0, p95: 0, p99: 0 };\r\n    }\r\n\r\n    values.sort((a, b) => a - b);\r\n    const sum = values.reduce((a, b) => a + b, 0);\r\n    \r\n    return {\r\n      count: values.length,\r\n      sum,\r\n      avg: sum / values.length,\r\n      min: values[0],\r\n      max: values[values.length - 1],\r\n      p95: values[Math.floor(values.length * 0.95)] || 0,\r\n      p99: values[Math.floor(values.length * 0.99)] || 0,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Obtiene estad\xEDsticas de retry\r\n   */\r\n  private async getRetryStats(\r\n    operation: string, \r\n    startTime: number, \r\n    endTime: number\r\n  ): Promise<ApiMetrics['retry_stats']> {\r\n    const baseKey = `metrics:retry:${operation}`;\r\n    const counters = await this.getCounterSum(baseKey, '', startTime, endTime);\r\n    const attempts = await this.getValueStats(`${baseKey}:attempts`, startTime, endTime);\r\n\r\n    return {\r\n      total_retries: counters.total || 0,\r\n      successful_retries: counters.success || 0,\r\n      failed_retries: counters.failed || 0,\r\n      avg_attempts: attempts.avg || 0,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Obtiene m\xE9tricas espec\xEDficas de MercadoPago\r\n   */\r\n  async getMercadoPagoMetrics(hoursBack: number = 1): Promise<MercadoPagoMetrics> {\r\n    try {\r\n      const [paymentCreation, paymentQueries, webhookProcessing] = await Promise.all([\r\n        this.getApiMetrics('/api/payments/create-preference', 'POST', hoursBack),\r\n        this.getApiMetrics('/api/payments/query', 'GET', hoursBack),\r\n        this.getApiMetrics('/api/webhooks/mercadopago', 'POST', hoursBack),\r\n      ]);\r\n\r\n      // Calcular m\xE9tricas generales de salud\r\n      const totalRequests = paymentCreation.requests.total +\r\n                           paymentQueries.requests.total +\r\n                           webhookProcessing.requests.total;\r\n\r\n      const totalErrors = paymentCreation.requests.error +\r\n                         paymentQueries.requests.error +\r\n                         webhookProcessing.requests.error;\r\n\r\n      const overallErrorRate = totalRequests > 0 ? totalErrors / totalRequests : 0;\r\n\r\n      const avgResponseTime = totalRequests > 0 ?\r\n        (paymentCreation.response_times.avg * paymentCreation.requests.total +\r\n         paymentQueries.response_times.avg * paymentQueries.requests.total +\r\n         webhookProcessing.response_times.avg * webhookProcessing.requests.total) / totalRequests : 0;\r\n\r\n      return {\r\n        payment_creation: paymentCreation,\r\n        payment_queries: paymentQueries,\r\n        webhook_processing: webhookProcessing,\r\n        overall_health: {\r\n          uptime_percentage: overallErrorRate < 0.05 ? 99.9 : 95.0, // Simplificado\r\n          avg_response_time: avgResponseTime,\r\n          error_rate: overallErrorRate,\r\n          last_incident: overallErrorRate > 0.1 ? new Date().toISOString() : null,\r\n        },\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting MercadoPago metrics:', error);\r\n      // Retornar m\xE9tricas vac\xEDas en caso de error\r\n      const emptyMetrics = this.getEmptyApiMetrics();\r\n      return {\r\n        payment_creation: emptyMetrics,\r\n        payment_queries: emptyMetrics,\r\n        webhook_processing: emptyMetrics,\r\n        overall_health: {\r\n          uptime_percentage: 0,\r\n          avg_response_time: 0,\r\n          error_rate: 1,\r\n          last_incident: new Date().toISOString(),\r\n        },\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Retorna m\xE9tricas vac\xEDas por defecto\r\n   */\r\n  private getEmptyApiMetrics(): ApiMetrics {\r\n    return {\r\n      requests: { total: 0, success: 0, error: 0, rate_limited: 0 },\r\n      response_times: { count: 0, sum: 0, avg: 0, min: 0, max: 0, p95: 0, p99: 0 },\r\n      error_rates: { '4xx': 0, '5xx': 0, network: 0, timeout: 0 },\r\n      retry_stats: { total_retries: 0, successful_retries: 0, failed_retries: 0, avg_attempts: 0 },\r\n    };\r\n  }\r\n}\r\n\r\n// Instancia singleton\r\nexport const metricsCollector = MetricsCollector.getInstance();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["MetricsCollector", "metricsCollector", "METRICS_CONFIG", "RETENTION_HOURS", "AGGREGATION_WINDOW_MINUTES", "ALERT_THRESHOLDS", "ERROR_RATE", "RESPONSE_TIME_P95", "RATE_LIMIT_RATE", "getInstance", "instance", "recordRequest", "endpoint", "method", "statusCode", "responseTime", "labels", "timestamp", "Date", "now", "baseKey", "incrementCounter", "recordValue", "logger", "info", "LogCategory", "API", "error", "recordApiCall", "params", "userId", "recordRetry", "operation", "attempts", "success", "totalDuration", "recordRateLimit", "blocked", "remaining", "limit", "key", "windowKey", "getWindowKey", "redisCache", "incr", "expire", "value", "listKey", "client", "lpush", "toString", "ltrim", "set", "windowStart", "Math", "floor", "getApiMetrics", "hoursBack", "startTime", "requests", "getCounterSum", "errors", "responseTimes", "getValueStats", "retryStats", "getRetryStats", "total", "rate_limited", "response_times", "error_rates", "network", "timeout", "retry_stats", "getEmptyApiMetrics", "category", "endTime", "result", "windowSize", "time", "types", "type", "get", "parseInt", "values", "lrange", "windowValues", "push", "map", "v", "parseFloat", "filter", "isNaN", "numValue", "length", "count", "sum", "avg", "min", "max", "p95", "p99", "sort", "a", "b", "reduce", "counters", "total_retries", "successful_retries", "failed_retries", "failed", "avg_attempts", "getMercadoPagoMetrics", "paymentCreation", "paymentQueries", "webhookProcessing", "Promise", "all", "totalRequests", "totalErrors", "overallErrorRate", "avgResponseTime", "payment_creation", "payment_queries", "webhook_processing", "overall_health", "uptime_percentage", "avg_response_time", "error_rate", "last_incident", "toISOString", "console", "emptyMetrics"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1da0133239373fa0726e5d55ee5463ffeebcf5d5"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_15djenyddd = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_15djenyddd();
cov_15djenyddd().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_15djenyddd().f[0]++;
  cov_15djenyddd().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_15djenyddd().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_15djenyddd().s[3]++;
_export(exports, {
  get MetricsCollector() {
    /* istanbul ignore next */
    cov_15djenyddd().f[1]++;
    cov_15djenyddd().s[4]++;
    return MetricsCollector;
  },
  get metricsCollector() {
    /* istanbul ignore next */
    cov_15djenyddd().f[2]++;
    cov_15djenyddd().s[5]++;
    return metricsCollector;
  }
});
const _redis =
/* istanbul ignore next */
(cov_15djenyddd().s[6]++, require("../../integrations/redis"));
const _logger =
/* istanbul ignore next */
(cov_15djenyddd().s[7]++, require("../logger"));
// Configuración de métricas
const METRICS_CONFIG =
/* istanbul ignore next */
(cov_15djenyddd().s[8]++, {
  RETENTION_HOURS: 24,
  AGGREGATION_WINDOW_MINUTES: 5,
  ALERT_THRESHOLDS: {
    ERROR_RATE: 0.05,
    RESPONSE_TIME_P95: 5000,
    RATE_LIMIT_RATE: 0.1
  }
});
class MetricsCollector {
  constructor() {
    /* istanbul ignore next */
    cov_15djenyddd().f[3]++;
  }
  static getInstance() {
    /* istanbul ignore next */
    cov_15djenyddd().f[4]++;
    cov_15djenyddd().s[9]++;
    if (!MetricsCollector.instance) {
      /* istanbul ignore next */
      cov_15djenyddd().b[0][0]++;
      cov_15djenyddd().s[10]++;
      MetricsCollector.instance = new MetricsCollector();
    } else
    /* istanbul ignore next */
    {
      cov_15djenyddd().b[0][1]++;
    }
    cov_15djenyddd().s[11]++;
    return MetricsCollector.instance;
  }
  /**
  * Registra una métrica de request
  */
  async recordRequest(endpoint, method, statusCode, responseTime, labels =
  /* istanbul ignore next */
  (cov_15djenyddd().b[1][0]++, {})) {
    /* istanbul ignore next */
    cov_15djenyddd().f[5]++;
    const timestamp =
    /* istanbul ignore next */
    (cov_15djenyddd().s[12]++, Date.now());
    const baseKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[13]++, `metrics:${endpoint}:${method}`);
    /* istanbul ignore next */
    cov_15djenyddd().s[14]++;
    try {
      /* istanbul ignore next */
      cov_15djenyddd().s[15]++;
      // Registrar request total
      await this.incrementCounter(`${baseKey}:requests:total`, timestamp);
      // Registrar por tipo de respuesta
      /* istanbul ignore next */
      cov_15djenyddd().s[16]++;
      if (
      /* istanbul ignore next */
      (cov_15djenyddd().b[3][0]++, statusCode >= 200) &&
      /* istanbul ignore next */
      (cov_15djenyddd().b[3][1]++, statusCode < 300)) {
        /* istanbul ignore next */
        cov_15djenyddd().b[2][0]++;
        cov_15djenyddd().s[17]++;
        await this.incrementCounter(`${baseKey}:requests:success`, timestamp);
      } else {
        /* istanbul ignore next */
        cov_15djenyddd().b[2][1]++;
        cov_15djenyddd().s[18]++;
        if (statusCode === 429) {
          /* istanbul ignore next */
          cov_15djenyddd().b[4][0]++;
          cov_15djenyddd().s[19]++;
          await this.incrementCounter(`${baseKey}:requests:rate_limited`, timestamp);
        } else {
          /* istanbul ignore next */
          cov_15djenyddd().b[4][1]++;
          cov_15djenyddd().s[20]++;
          await this.incrementCounter(`${baseKey}:requests:error`, timestamp);
          // Categorizar errores
          /* istanbul ignore next */
          cov_15djenyddd().s[21]++;
          if (
          /* istanbul ignore next */
          (cov_15djenyddd().b[6][0]++, statusCode >= 400) &&
          /* istanbul ignore next */
          (cov_15djenyddd().b[6][1]++, statusCode < 500)) {
            /* istanbul ignore next */
            cov_15djenyddd().b[5][0]++;
            cov_15djenyddd().s[22]++;
            await this.incrementCounter(`${baseKey}:errors:4xx`, timestamp);
          } else {
            /* istanbul ignore next */
            cov_15djenyddd().b[5][1]++;
            cov_15djenyddd().s[23]++;
            if (statusCode >= 500) {
              /* istanbul ignore next */
              cov_15djenyddd().b[7][0]++;
              cov_15djenyddd().s[24]++;
              await this.incrementCounter(`${baseKey}:errors:5xx`, timestamp);
            } else
            /* istanbul ignore next */
            {
              cov_15djenyddd().b[7][1]++;
            }
          }
        }
      }
      // Registrar tiempo de respuesta
      /* istanbul ignore next */
      cov_15djenyddd().s[25]++;
      await this.recordValue(`${baseKey}:response_time`, responseTime, timestamp);
      // Log para debugging
      /* istanbul ignore next */
      cov_15djenyddd().s[26]++;
      _logger.logger.info(_logger.LogCategory.API, 'Metric recorded');
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[27]++;
      _logger.logger.error(_logger.LogCategory.API, 'Failed to record metric', error);
    }
  }
  /**
  * Registra una llamada a API (alias para recordRequest)
  */
  async recordApiCall(params) {
    /* istanbul ignore next */
    cov_15djenyddd().f[6]++;
    cov_15djenyddd().s[28]++;
    await this.recordRequest(params.endpoint, params.method, params.statusCode, params.responseTime, {
      userId:
      /* istanbul ignore next */
      (cov_15djenyddd().b[8][0]++, params.userId) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[8][1]++, 'anonymous'),
      error:
      /* istanbul ignore next */
      (cov_15djenyddd().b[9][0]++, params.error) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[9][1]++, '')
    });
  }
  /**
  * Registra métricas de retry
  */
  async recordRetry(operation, attempts, success, totalDuration) {
    /* istanbul ignore next */
    cov_15djenyddd().f[7]++;
    const timestamp =
    /* istanbul ignore next */
    (cov_15djenyddd().s[29]++, Date.now());
    const baseKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[30]++, `metrics:retry:${operation}`);
    /* istanbul ignore next */
    cov_15djenyddd().s[31]++;
    try {
      /* istanbul ignore next */
      cov_15djenyddd().s[32]++;
      await this.incrementCounter(`${baseKey}:total`, timestamp);
      /* istanbul ignore next */
      cov_15djenyddd().s[33]++;
      await this.recordValue(`${baseKey}:attempts`, attempts, timestamp);
      /* istanbul ignore next */
      cov_15djenyddd().s[34]++;
      await this.recordValue(`${baseKey}:duration`, totalDuration, timestamp);
      /* istanbul ignore next */
      cov_15djenyddd().s[35]++;
      if (success) {
        /* istanbul ignore next */
        cov_15djenyddd().b[10][0]++;
        cov_15djenyddd().s[36]++;
        await this.incrementCounter(`${baseKey}:success`, timestamp);
      } else {
        /* istanbul ignore next */
        cov_15djenyddd().b[10][1]++;
        cov_15djenyddd().s[37]++;
        await this.incrementCounter(`${baseKey}:failed`, timestamp);
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[38]++;
      _logger.logger.error(_logger.LogCategory.API, 'Failed to record retry metric', error);
    }
  }
  /**
  * Registra métricas de rate limiting
  */
  async recordRateLimit(endpoint, blocked, remaining, limit) {
    /* istanbul ignore next */
    cov_15djenyddd().f[8]++;
    const timestamp =
    /* istanbul ignore next */
    (cov_15djenyddd().s[39]++, Date.now());
    const baseKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[40]++, `metrics:rate_limit:${endpoint}`);
    /* istanbul ignore next */
    cov_15djenyddd().s[41]++;
    try {
      /* istanbul ignore next */
      cov_15djenyddd().s[42]++;
      await this.incrementCounter(`${baseKey}:checks`, timestamp);
      /* istanbul ignore next */
      cov_15djenyddd().s[43]++;
      if (blocked) {
        /* istanbul ignore next */
        cov_15djenyddd().b[11][0]++;
        cov_15djenyddd().s[44]++;
        await this.incrementCounter(`${baseKey}:blocked`, timestamp);
      } else
      /* istanbul ignore next */
      {
        cov_15djenyddd().b[11][1]++;
      }
      cov_15djenyddd().s[45]++;
      await this.recordValue(`${baseKey}:remaining`, remaining, timestamp);
      /* istanbul ignore next */
      cov_15djenyddd().s[46]++;
      await this.recordValue(`${baseKey}:utilization`, (limit - remaining) / limit, timestamp);
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[47]++;
      _logger.logger.error(_logger.LogCategory.API, 'Failed to record rate limit metric', error);
    }
  }
  /**
  * Incrementa un contador
  */
  async incrementCounter(key, timestamp) {
    /* istanbul ignore next */
    cov_15djenyddd().f[9]++;
    const windowKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[48]++, this.getWindowKey(key, timestamp));
    /* istanbul ignore next */
    cov_15djenyddd().s[49]++;
    await _redis.redisCache.incr(windowKey);
    /* istanbul ignore next */
    cov_15djenyddd().s[50]++;
    await _redis.redisCache.expire(windowKey, METRICS_CONFIG.RETENTION_HOURS * 3600);
  }
  /**
  * Registra un valor numérico
  */
  async recordValue(key, value, timestamp) {
    /* istanbul ignore next */
    cov_15djenyddd().f[10]++;
    cov_15djenyddd().s[51]++;
    try {
      const windowKey =
      /* istanbul ignore next */
      (cov_15djenyddd().s[52]++, this.getWindowKey(key, timestamp));
      const listKey =
      /* istanbul ignore next */
      (cov_15djenyddd().s[53]++, `${windowKey}:values`);
      // Obtener cliente Redis (real o mock)
      const client =
      /* istanbul ignore next */
      (cov_15djenyddd().s[54]++,
      /* istanbul ignore next */
      (cov_15djenyddd().b[12][0]++, _redis.redisCache['client']) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[12][1]++, _redis.redisCache));
      // Verificar si el cliente tiene los métodos necesarios
      /* istanbul ignore next */
      cov_15djenyddd().s[55]++;
      if (typeof client.lpush === 'function') {
        /* istanbul ignore next */
        cov_15djenyddd().b[13][0]++;
        cov_15djenyddd().s[56]++;
        await client.lpush(listKey, value.toString());
        /* istanbul ignore next */
        cov_15djenyddd().s[57]++;
        await client.ltrim(listKey, 0, 999); // Mantener últimos 1000 valores
        /* istanbul ignore next */
        cov_15djenyddd().s[58]++;
        await client.expire(listKey, METRICS_CONFIG.RETENTION_HOURS * 3600);
      } else {
        /* istanbul ignore next */
        cov_15djenyddd().b[13][1]++;
        cov_15djenyddd().s[59]++;
        // Fallback para mock básico - usar storage simple
        await _redis.redisCache.set(`${listKey}:latest`, value.toString());
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[60]++;
      _logger.logger.error(_logger.LogCategory.API, 'Failed to record metric value', error);
    }
  }
  /**
  * Genera clave de ventana temporal
  */
  getWindowKey(baseKey, timestamp) {
    /* istanbul ignore next */
    cov_15djenyddd().f[11]++;
    const windowStart =
    /* istanbul ignore next */
    (cov_15djenyddd().s[61]++, Math.floor(timestamp / (METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000)));
    /* istanbul ignore next */
    cov_15djenyddd().s[62]++;
    return `${baseKey}:${windowStart}`;
  }
  /**
  * Obtiene métricas agregadas para un endpoint
  */
  async getApiMetrics(endpoint, method, hoursBack =
  /* istanbul ignore next */
  (cov_15djenyddd().b[14][0]++, 1)) {
    /* istanbul ignore next */
    cov_15djenyddd().f[12]++;
    const baseKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[63]++, `metrics:${endpoint}:${method}`);
    const now =
    /* istanbul ignore next */
    (cov_15djenyddd().s[64]++, Date.now());
    const startTime =
    /* istanbul ignore next */
    (cov_15djenyddd().s[65]++, now - hoursBack * 60 * 60 * 1000);
    /* istanbul ignore next */
    cov_15djenyddd().s[66]++;
    try {
      // Obtener contadores
      const requests =
      /* istanbul ignore next */
      (cov_15djenyddd().s[67]++, await this.getCounterSum(baseKey, 'requests', startTime, now));
      const errors =
      /* istanbul ignore next */
      (cov_15djenyddd().s[68]++, await this.getCounterSum(baseKey, 'errors', startTime, now));
      // Obtener tiempos de respuesta
      const responseTimes =
      /* istanbul ignore next */
      (cov_15djenyddd().s[69]++, await this.getValueStats(`${baseKey}:response_time`, startTime, now));
      // Obtener métricas de retry
      const retryStats =
      /* istanbul ignore next */
      (cov_15djenyddd().s[70]++, await this.getRetryStats(endpoint, startTime, now));
      /* istanbul ignore next */
      cov_15djenyddd().s[71]++;
      return {
        requests: {
          total:
          /* istanbul ignore next */
          (cov_15djenyddd().b[15][0]++, requests.total) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[15][1]++, 0),
          success:
          /* istanbul ignore next */
          (cov_15djenyddd().b[16][0]++, requests.success) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[16][1]++, 0),
          error:
          /* istanbul ignore next */
          (cov_15djenyddd().b[17][0]++, requests.error) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[17][1]++, 0),
          rate_limited:
          /* istanbul ignore next */
          (cov_15djenyddd().b[18][0]++, requests.rate_limited) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[18][1]++, 0)
        },
        response_times: responseTimes,
        error_rates: {
          '4xx':
          /* istanbul ignore next */
          (cov_15djenyddd().b[19][0]++, errors['4xx']) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[19][1]++, 0),
          '5xx':
          /* istanbul ignore next */
          (cov_15djenyddd().b[20][0]++, errors['5xx']) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[20][1]++, 0),
          network:
          /* istanbul ignore next */
          (cov_15djenyddd().b[21][0]++, errors.network) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[21][1]++, 0),
          timeout:
          /* istanbul ignore next */
          (cov_15djenyddd().b[22][0]++, errors.timeout) ||
          /* istanbul ignore next */
          (cov_15djenyddd().b[22][1]++, 0)
        },
        retry_stats: retryStats
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[72]++;
      _logger.logger.error(_logger.LogCategory.API, 'Failed to get API metrics', error);
      // Retornar métricas vacías en caso de error
      /* istanbul ignore next */
      cov_15djenyddd().s[73]++;
      return this.getEmptyApiMetrics();
    }
  }
  /**
  * Obtiene suma de contadores en un rango de tiempo
  */
  async getCounterSum(baseKey, category, startTime, endTime) {
    /* istanbul ignore next */
    cov_15djenyddd().f[13]++;
    const result =
    /* istanbul ignore next */
    (cov_15djenyddd().s[74]++, {});
    const windowSize =
    /* istanbul ignore next */
    (cov_15djenyddd().s[75]++, METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000);
    /* istanbul ignore next */
    cov_15djenyddd().s[76]++;
    for (let time =
    /* istanbul ignore next */
    (cov_15djenyddd().s[77]++, startTime); time <= endTime; time += windowSize) {
      const windowStart =
      /* istanbul ignore next */
      (cov_15djenyddd().s[78]++, Math.floor(time / windowSize));
      // Obtener diferentes tipos de contadores
      const types =
      /* istanbul ignore next */
      (cov_15djenyddd().s[79]++, ['total', 'success', 'error', 'rate_limited', '4xx', '5xx', 'network', 'timeout']);
      /* istanbul ignore next */
      cov_15djenyddd().s[80]++;
      for (const type of types) {
        const key =
        /* istanbul ignore next */
        (cov_15djenyddd().s[81]++, `${baseKey}:${category}:${type}:${windowStart}`);
        const value =
        /* istanbul ignore next */
        (cov_15djenyddd().s[82]++, await _redis.redisCache.get(key));
        /* istanbul ignore next */
        cov_15djenyddd().s[83]++;
        result[type] = (
        /* istanbul ignore next */
        (cov_15djenyddd().b[23][0]++, result[type]) ||
        /* istanbul ignore next */
        (cov_15djenyddd().b[23][1]++, 0)) + parseInt(
        /* istanbul ignore next */
        (cov_15djenyddd().b[24][0]++, value) ||
        /* istanbul ignore next */
        (cov_15djenyddd().b[24][1]++, '0'));
      }
    }
    /* istanbul ignore next */
    cov_15djenyddd().s[84]++;
    return result;
  }
  /**
  * Obtiene estadísticas de valores numéricos
  */
  async getValueStats(baseKey, startTime, endTime) {
    /* istanbul ignore next */
    cov_15djenyddd().f[14]++;
    const values =
    /* istanbul ignore next */
    (cov_15djenyddd().s[85]++, []);
    const windowSize =
    /* istanbul ignore next */
    (cov_15djenyddd().s[86]++, METRICS_CONFIG.AGGREGATION_WINDOW_MINUTES * 60 * 1000);
    /* istanbul ignore next */
    cov_15djenyddd().s[87]++;
    for (let time =
    /* istanbul ignore next */
    (cov_15djenyddd().s[88]++, startTime); time <= endTime; time += windowSize) {
      const windowStart =
      /* istanbul ignore next */
      (cov_15djenyddd().s[89]++, Math.floor(time / windowSize));
      const key =
      /* istanbul ignore next */
      (cov_15djenyddd().s[90]++, `${baseKey}:${windowStart}:values`);
      /* istanbul ignore next */
      cov_15djenyddd().s[91]++;
      try {
        const client =
        /* istanbul ignore next */
        (cov_15djenyddd().s[92]++,
        /* istanbul ignore next */
        (cov_15djenyddd().b[25][0]++, _redis.redisCache['client']) ||
        /* istanbul ignore next */
        (cov_15djenyddd().b[25][1]++, _redis.redisCache));
        /* istanbul ignore next */
        cov_15djenyddd().s[93]++;
        if (typeof client.lrange === 'function') {
          /* istanbul ignore next */
          cov_15djenyddd().b[26][0]++;
          const windowValues =
          /* istanbul ignore next */
          (cov_15djenyddd().s[94]++, await client.lrange(key, 0, -1));
          /* istanbul ignore next */
          cov_15djenyddd().s[95]++;
          values.push(...windowValues.map(v => {
            /* istanbul ignore next */
            cov_15djenyddd().f[15]++;
            cov_15djenyddd().s[96]++;
            return parseFloat(v);
          }).filter(v => {
            /* istanbul ignore next */
            cov_15djenyddd().f[16]++;
            cov_15djenyddd().s[97]++;
            return !isNaN(v);
          }));
        } else {
          /* istanbul ignore next */
          cov_15djenyddd().b[26][1]++;
          // Fallback para mock básico
          const value =
          /* istanbul ignore next */
          (cov_15djenyddd().s[98]++, await _redis.redisCache.get(`${key}:latest`));
          /* istanbul ignore next */
          cov_15djenyddd().s[99]++;
          if (value) {
            /* istanbul ignore next */
            cov_15djenyddd().b[27][0]++;
            const numValue =
            /* istanbul ignore next */
            (cov_15djenyddd().s[100]++, parseFloat(value));
            /* istanbul ignore next */
            cov_15djenyddd().s[101]++;
            if (!isNaN(numValue)) {
              /* istanbul ignore next */
              cov_15djenyddd().b[28][0]++;
              cov_15djenyddd().s[102]++;
              values.push(numValue);
            } else
            /* istanbul ignore next */
            {
              cov_15djenyddd().b[28][1]++;
            }
          } else
          /* istanbul ignore next */
          {
            cov_15djenyddd().b[27][1]++;
          }
        }
      } catch (error) {
        // Continuar si no se puede obtener valores de una ventana
      }
    }
    /* istanbul ignore next */
    cov_15djenyddd().s[103]++;
    if (values.length === 0) {
      /* istanbul ignore next */
      cov_15djenyddd().b[29][0]++;
      cov_15djenyddd().s[104]++;
      return {
        count: 0,
        sum: 0,
        avg: 0,
        min: 0,
        max: 0,
        p95: 0,
        p99: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_15djenyddd().b[29][1]++;
    }
    cov_15djenyddd().s[105]++;
    values.sort((a, b) => {
      /* istanbul ignore next */
      cov_15djenyddd().f[17]++;
      cov_15djenyddd().s[106]++;
      return a - b;
    });
    const sum =
    /* istanbul ignore next */
    (cov_15djenyddd().s[107]++, values.reduce((a, b) => {
      /* istanbul ignore next */
      cov_15djenyddd().f[18]++;
      cov_15djenyddd().s[108]++;
      return a + b;
    }, 0));
    /* istanbul ignore next */
    cov_15djenyddd().s[109]++;
    return {
      count: values.length,
      sum,
      avg: sum / values.length,
      min: values[0],
      max: values[values.length - 1],
      p95:
      /* istanbul ignore next */
      (cov_15djenyddd().b[30][0]++, values[Math.floor(values.length * 0.95)]) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[30][1]++, 0),
      p99:
      /* istanbul ignore next */
      (cov_15djenyddd().b[31][0]++, values[Math.floor(values.length * 0.99)]) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[31][1]++, 0)
    };
  }
  /**
  * Obtiene estadísticas de retry
  */
  async getRetryStats(operation, startTime, endTime) {
    /* istanbul ignore next */
    cov_15djenyddd().f[19]++;
    const baseKey =
    /* istanbul ignore next */
    (cov_15djenyddd().s[110]++, `metrics:retry:${operation}`);
    const counters =
    /* istanbul ignore next */
    (cov_15djenyddd().s[111]++, await this.getCounterSum(baseKey, '', startTime, endTime));
    const attempts =
    /* istanbul ignore next */
    (cov_15djenyddd().s[112]++, await this.getValueStats(`${baseKey}:attempts`, startTime, endTime));
    /* istanbul ignore next */
    cov_15djenyddd().s[113]++;
    return {
      total_retries:
      /* istanbul ignore next */
      (cov_15djenyddd().b[32][0]++, counters.total) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[32][1]++, 0),
      successful_retries:
      /* istanbul ignore next */
      (cov_15djenyddd().b[33][0]++, counters.success) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[33][1]++, 0),
      failed_retries:
      /* istanbul ignore next */
      (cov_15djenyddd().b[34][0]++, counters.failed) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[34][1]++, 0),
      avg_attempts:
      /* istanbul ignore next */
      (cov_15djenyddd().b[35][0]++, attempts.avg) ||
      /* istanbul ignore next */
      (cov_15djenyddd().b[35][1]++, 0)
    };
  }
  /**
  * Obtiene métricas específicas de MercadoPago
  */
  async getMercadoPagoMetrics(hoursBack =
  /* istanbul ignore next */
  (cov_15djenyddd().b[36][0]++, 1)) {
    /* istanbul ignore next */
    cov_15djenyddd().f[20]++;
    cov_15djenyddd().s[114]++;
    try {
      const [paymentCreation, paymentQueries, webhookProcessing] =
      /* istanbul ignore next */
      (cov_15djenyddd().s[115]++, await Promise.all([this.getApiMetrics('/api/payments/create-preference', 'POST', hoursBack), this.getApiMetrics('/api/payments/query', 'GET', hoursBack), this.getApiMetrics('/api/webhooks/mercadopago', 'POST', hoursBack)]));
      // Calcular métricas generales de salud
      const totalRequests =
      /* istanbul ignore next */
      (cov_15djenyddd().s[116]++, paymentCreation.requests.total + paymentQueries.requests.total + webhookProcessing.requests.total);
      const totalErrors =
      /* istanbul ignore next */
      (cov_15djenyddd().s[117]++, paymentCreation.requests.error + paymentQueries.requests.error + webhookProcessing.requests.error);
      const overallErrorRate =
      /* istanbul ignore next */
      (cov_15djenyddd().s[118]++, totalRequests > 0 ?
      /* istanbul ignore next */
      (cov_15djenyddd().b[37][0]++, totalErrors / totalRequests) :
      /* istanbul ignore next */
      (cov_15djenyddd().b[37][1]++, 0));
      const avgResponseTime =
      /* istanbul ignore next */
      (cov_15djenyddd().s[119]++, totalRequests > 0 ?
      /* istanbul ignore next */
      (cov_15djenyddd().b[38][0]++, (paymentCreation.response_times.avg * paymentCreation.requests.total + paymentQueries.response_times.avg * paymentQueries.requests.total + webhookProcessing.response_times.avg * webhookProcessing.requests.total) / totalRequests) :
      /* istanbul ignore next */
      (cov_15djenyddd().b[38][1]++, 0));
      /* istanbul ignore next */
      cov_15djenyddd().s[120]++;
      return {
        payment_creation: paymentCreation,
        payment_queries: paymentQueries,
        webhook_processing: webhookProcessing,
        overall_health: {
          uptime_percentage: overallErrorRate < 0.05 ?
          /* istanbul ignore next */
          (cov_15djenyddd().b[39][0]++, 99.9) :
          /* istanbul ignore next */
          (cov_15djenyddd().b[39][1]++, 95.0),
          avg_response_time: avgResponseTime,
          error_rate: overallErrorRate,
          last_incident: overallErrorRate > 0.1 ?
          /* istanbul ignore next */
          (cov_15djenyddd().b[40][0]++, new Date().toISOString()) :
          /* istanbul ignore next */
          (cov_15djenyddd().b[40][1]++, null)
        }
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_15djenyddd().s[121]++;
      console.error('Error getting MercadoPago metrics:', error);
      // Retornar métricas vacías en caso de error
      const emptyMetrics =
      /* istanbul ignore next */
      (cov_15djenyddd().s[122]++, this.getEmptyApiMetrics());
      /* istanbul ignore next */
      cov_15djenyddd().s[123]++;
      return {
        payment_creation: emptyMetrics,
        payment_queries: emptyMetrics,
        webhook_processing: emptyMetrics,
        overall_health: {
          uptime_percentage: 0,
          avg_response_time: 0,
          error_rate: 1,
          last_incident: new Date().toISOString()
        }
      };
    }
  }
  /**
  * Retorna métricas vacías por defecto
  */
  getEmptyApiMetrics() {
    /* istanbul ignore next */
    cov_15djenyddd().f[21]++;
    cov_15djenyddd().s[124]++;
    return {
      requests: {
        total: 0,
        success: 0,
        error: 0,
        rate_limited: 0
      },
      response_times: {
        count: 0,
        sum: 0,
        avg: 0,
        min: 0,
        max: 0,
        p95: 0,
        p99: 0
      },
      error_rates: {
        '4xx': 0,
        '5xx': 0,
        network: 0,
        timeout: 0
      },
      retry_stats: {
        total_retries: 0,
        successful_retries: 0,
        failed_retries: 0,
        avg_attempts: 0
      }
    };
  }
}
const metricsCollector =
/* istanbul ignore next */
(cov_15djenyddd().s[125]++, MetricsCollector.getInstance());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNZXRyaWNzQ29sbGVjdG9yIiwiY292XzE1ZGplbnlkZGQiLCJmIiwicyIsIm1ldHJpY3NDb2xsZWN0b3IiLCJNRVRSSUNTX0NPTkZJRyIsIlJFVEVOVElPTl9IT1VSUyIsIkFHR1JFR0FUSU9OX1dJTkRPV19NSU5VVEVTIiwiQUxFUlRfVEhSRVNIT0xEUyIsIkVSUk9SX1JBVEUiLCJSRVNQT05TRV9USU1FX1A5NSIsIlJBVEVfTElNSVRfUkFURSIsImNvbnN0cnVjdG9yIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImIiLCJyZWNvcmRSZXF1ZXN0IiwiZW5kcG9pbnQiLCJtZXRob2QiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2VUaW1lIiwibGFiZWxzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImJhc2VLZXkiLCJpbmNyZW1lbnRDb3VudGVyIiwicmVjb3JkVmFsdWUiLCJfbG9nZ2VyIiwibG9nZ2VyIiwiaW5mbyIsIkxvZ0NhdGVnb3J5IiwiQVBJIiwiZXJyb3IiLCJyZWNvcmRBcGlDYWxsIiwicGFyYW1zIiwidXNlcklkIiwicmVjb3JkUmV0cnkiLCJvcGVyYXRpb24iLCJhdHRlbXB0cyIsInN1Y2Nlc3MiLCJ0b3RhbER1cmF0aW9uIiwicmVjb3JkUmF0ZUxpbWl0IiwiYmxvY2tlZCIsInJlbWFpbmluZyIsImxpbWl0Iiwia2V5Iiwid2luZG93S2V5IiwiZ2V0V2luZG93S2V5IiwiX3JlZGlzIiwicmVkaXNDYWNoZSIsImluY3IiLCJleHBpcmUiLCJ2YWx1ZSIsImxpc3RLZXkiLCJjbGllbnQiLCJscHVzaCIsInRvU3RyaW5nIiwibHRyaW0iLCJzZXQiLCJ3aW5kb3dTdGFydCIsIk1hdGgiLCJmbG9vciIsImdldEFwaU1ldHJpY3MiLCJob3Vyc0JhY2siLCJzdGFydFRpbWUiLCJyZXF1ZXN0cyIsImdldENvdW50ZXJTdW0iLCJlcnJvcnMiLCJyZXNwb25zZVRpbWVzIiwiZ2V0VmFsdWVTdGF0cyIsInJldHJ5U3RhdHMiLCJnZXRSZXRyeVN0YXRzIiwidG90YWwiLCJyYXRlX2xpbWl0ZWQiLCJyZXNwb25zZV90aW1lcyIsImVycm9yX3JhdGVzIiwibmV0d29yayIsInRpbWVvdXQiLCJyZXRyeV9zdGF0cyIsImdldEVtcHR5QXBpTWV0cmljcyIsImNhdGVnb3J5IiwiZW5kVGltZSIsInJlc3VsdCIsIndpbmRvd1NpemUiLCJ0aW1lIiwidHlwZXMiLCJ0eXBlIiwiZ2V0IiwicGFyc2VJbnQiLCJ2YWx1ZXMiLCJscmFuZ2UiLCJ3aW5kb3dWYWx1ZXMiLCJwdXNoIiwibWFwIiwidiIsInBhcnNlRmxvYXQiLCJmaWx0ZXIiLCJpc05hTiIsIm51bVZhbHVlIiwibGVuZ3RoIiwiY291bnQiLCJzdW0iLCJhdmciLCJtaW4iLCJtYXgiLCJwOTUiLCJwOTkiLCJzb3J0IiwiYSIsInJlZHVjZSIsImNvdW50ZXJzIiwidG90YWxfcmV0cmllcyIsInN1Y2Nlc3NmdWxfcmV0cmllcyIsImZhaWxlZF9yZXRyaWVzIiwiZmFpbGVkIiwiYXZnX2F0dGVtcHRzIiwiZ2V0TWVyY2Fkb1BhZ29NZXRyaWNzIiwicGF5bWVudENyZWF0aW9uIiwicGF5bWVudFF1ZXJpZXMiLCJ3ZWJob29rUHJvY2Vzc2luZyIsIlByb21pc2UiLCJhbGwiLCJ0b3RhbFJlcXVlc3RzIiwidG90YWxFcnJvcnMiLCJvdmVyYWxsRXJyb3JSYXRlIiwiYXZnUmVzcG9uc2VUaW1lIiwicGF5bWVudF9jcmVhdGlvbiIsInBheW1lbnRfcXVlcmllcyIsIndlYmhvb2tfcHJvY2Vzc2luZyIsIm92ZXJhbGxfaGVhbHRoIiwidXB0aW1lX3BlcmNlbnRhZ2UiLCJhdmdfcmVzcG9uc2VfdGltZSIsImVycm9yX3JhdGUiLCJsYXN0X2luY2lkZW50IiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwiZW1wdHlNZXRyaWNzIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxsaWJcXGVudGVycHJpc2VcXG1ldHJpY3NcXGluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIE1FVFJJQ1MgU1lTVEVNXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgeyByZWRpc0NhY2hlIH0gZnJvbSAnLi4vLi4vaW50ZWdyYXRpb25zL3JlZGlzJztcclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICcuLi9sb2dnZXInO1xyXG5cclxuLy8gVGlwb3MgZGUgbcOpdHJpY2FzXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWV0cmljRGF0YSB7XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgdmFsdWU6IG51bWJlcjtcclxuICBsYWJlbHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFnZ3JlZ2F0ZWRNZXRyaWMge1xyXG4gIGNvdW50OiBudW1iZXI7XHJcbiAgc3VtOiBudW1iZXI7XHJcbiAgYXZnOiBudW1iZXI7XHJcbiAgbWluOiBudW1iZXI7XHJcbiAgbWF4OiBudW1iZXI7XHJcbiAgcDk1OiBudW1iZXI7XHJcbiAgcDk5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXBpTWV0cmljcyB7XHJcbiAgcmVxdWVzdHM6IHtcclxuICAgIHRvdGFsOiBudW1iZXI7XHJcbiAgICBzdWNjZXNzOiBudW1iZXI7XHJcbiAgICBlcnJvcjogbnVtYmVyO1xyXG4gICAgcmF0ZV9saW1pdGVkOiBudW1iZXI7XHJcbiAgfTtcclxuICByZXNwb25zZV90aW1lczogQWdncmVnYXRlZE1ldHJpYztcclxuICBlcnJvcl9yYXRlczoge1xyXG4gICAgJzR4eCc6IG51bWJlcjtcclxuICAgICc1eHgnOiBudW1iZXI7XHJcbiAgICBuZXR3b3JrOiBudW1iZXI7XHJcbiAgICB0aW1lb3V0OiBudW1iZXI7XHJcbiAgfTtcclxuICByZXRyeV9zdGF0czoge1xyXG4gICAgdG90YWxfcmV0cmllczogbnVtYmVyO1xyXG4gICAgc3VjY2Vzc2Z1bF9yZXRyaWVzOiBudW1iZXI7XHJcbiAgICBmYWlsZWRfcmV0cmllczogbnVtYmVyO1xyXG4gICAgYXZnX2F0dGVtcHRzOiBudW1iZXI7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXJjYWRvUGFnb01ldHJpY3Mge1xyXG4gIHBheW1lbnRfY3JlYXRpb246IEFwaU1ldHJpY3M7XHJcbiAgcGF5bWVudF9xdWVyaWVzOiBBcGlNZXRyaWNzO1xyXG4gIHdlYmhvb2tfcHJvY2Vzc2luZzogQXBpTWV0cmljcztcclxuICBvdmVyYWxsX2hlYWx0aDoge1xyXG4gICAgdXB0aW1lX3BlcmNlbnRhZ2U6IG51bWJlcjtcclxuICAgIGF2Z19yZXNwb25zZV90aW1lOiBudW1iZXI7XHJcbiAgICBlcnJvcl9yYXRlOiBudW1iZXI7XHJcbiAgICBsYXN0X2luY2lkZW50OiBzdHJpbmcgfCBudWxsO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIENvbmZpZ3VyYWNpw7NuIGRlIG3DqXRyaWNhc1xyXG5jb25zdCBNRVRSSUNTX0NPTkZJRyA9IHtcclxuICBSRVRFTlRJT05fSE9VUlM6IDI0LFxyXG4gIEFHR1JFR0FUSU9OX1dJTkRPV19NSU5VVEVTOiA1LFxyXG4gIEFMRVJUX1RIUkVTSE9MRFM6IHtcclxuICAgIEVSUk9SX1JBVEU6IDAuMDUsIC8vIDUlXHJcbiAgICBSRVNQT05TRV9USU1FX1A5NTogNTAwMCwgLy8gNSBzZWd1bmRvc1xyXG4gICAgUkFURV9MSU1JVF9SQVRFOiAwLjEsIC8vIDEwJVxyXG4gIH0sXHJcbn07XHJcblxyXG4vKipcclxuICogQ2xhc2UgcHJpbmNpcGFsIHBhcmEgbWFuZWpvIGRlIG3DqXRyaWNhc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1ldHJpY3NDb2xsZWN0b3Ige1xyXG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBNZXRyaWNzQ29sbGVjdG9yO1xyXG5cclxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IE1ldHJpY3NDb2xsZWN0b3Ige1xyXG4gICAgaWYgKCFNZXRyaWNzQ29sbGVjdG9yLmluc3RhbmNlKSB7XHJcbiAgICAgIE1ldHJpY3NDb2xsZWN0b3IuaW5zdGFuY2UgPSBuZXcgTWV0cmljc0NvbGxlY3RvcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1ldHJpY3NDb2xsZWN0b3IuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSB1bmEgbcOpdHJpY2EgZGUgcmVxdWVzdFxyXG4gICAqL1xyXG4gIGFzeW5jIHJlY29yZFJlcXVlc3QoXHJcbiAgICBlbmRwb2ludDogc3RyaW5nLFxyXG4gICAgbWV0aG9kOiBzdHJpbmcsXHJcbiAgICBzdGF0dXNDb2RlOiBudW1iZXIsXHJcbiAgICByZXNwb25zZVRpbWU6IG51bWJlcixcclxuICAgIGxhYmVsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc3QgYmFzZUtleSA9IGBtZXRyaWNzOiR7ZW5kcG9pbnR9OiR7bWV0aG9kfWA7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUmVnaXN0cmFyIHJlcXVlc3QgdG90YWxcclxuICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OnJlcXVlc3RzOnRvdGFsYCwgdGltZXN0YW1wKTtcclxuXHJcbiAgICAgIC8vIFJlZ2lzdHJhciBwb3IgdGlwbyBkZSByZXNwdWVzdGFcclxuICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPCAzMDApIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmluY3JlbWVudENvdW50ZXIoYCR7YmFzZUtleX06cmVxdWVzdHM6c3VjY2Vzc2AsIHRpbWVzdGFtcCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzQ29kZSA9PT0gNDI5KSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OnJlcXVlc3RzOnJhdGVfbGltaXRlZGAsIHRpbWVzdGFtcCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OnJlcXVlc3RzOmVycm9yYCwgdGltZXN0YW1wKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDYXRlZ29yaXphciBlcnJvcmVzXHJcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUgPj0gNDAwICYmIHN0YXR1c0NvZGUgPCA1MDApIHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuaW5jcmVtZW50Q291bnRlcihgJHtiYXNlS2V5fTplcnJvcnM6NHh4YCwgdGltZXN0YW1wKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c0NvZGUgPj0gNTAwKSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLmluY3JlbWVudENvdW50ZXIoYCR7YmFzZUtleX06ZXJyb3JzOjV4eGAsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZWdpc3RyYXIgdGllbXBvIGRlIHJlc3B1ZXN0YVxyXG4gICAgICBhd2FpdCB0aGlzLnJlY29yZFZhbHVlKGAke2Jhc2VLZXl9OnJlc3BvbnNlX3RpbWVgLCByZXNwb25zZVRpbWUsIHRpbWVzdGFtcCk7XHJcblxyXG4gICAgICAvLyBMb2cgcGFyYSBkZWJ1Z2dpbmdcclxuICAgICAgbG9nZ2VyLmluZm8oTG9nQ2F0ZWdvcnkuQVBJLCAnTWV0cmljIHJlY29yZGVkJyk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0NhdGVnb3J5LkFQSSwgJ0ZhaWxlZCB0byByZWNvcmQgbWV0cmljJywgZXJyb3IgYXMgRXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmEgdW5hIGxsYW1hZGEgYSBBUEkgKGFsaWFzIHBhcmEgcmVjb3JkUmVxdWVzdClcclxuICAgKi9cclxuICBhc3luYyByZWNvcmRBcGlDYWxsKHBhcmFtczoge1xyXG4gICAgZW5kcG9pbnQ6IHN0cmluZztcclxuICAgIG1ldGhvZDogc3RyaW5nO1xyXG4gICAgc3RhdHVzQ29kZTogbnVtYmVyO1xyXG4gICAgcmVzcG9uc2VUaW1lOiBudW1iZXI7XHJcbiAgICB1c2VySWQ/OiBzdHJpbmc7XHJcbiAgICBlcnJvcj86IHN0cmluZztcclxuICB9KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLnJlY29yZFJlcXVlc3QoXHJcbiAgICAgIHBhcmFtcy5lbmRwb2ludCxcclxuICAgICAgcGFyYW1zLm1ldGhvZCxcclxuICAgICAgcGFyYW1zLnN0YXR1c0NvZGUsXHJcbiAgICAgIHBhcmFtcy5yZXNwb25zZVRpbWUsXHJcbiAgICAgIHtcclxuICAgICAgICB1c2VySWQ6IHBhcmFtcy51c2VySWQgfHwgJ2Fub255bW91cycsXHJcbiAgICAgICAgZXJyb3I6IHBhcmFtcy5lcnJvciB8fCAnJ1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmEgbcOpdHJpY2FzIGRlIHJldHJ5XHJcbiAgICovXHJcbiAgYXN5bmMgcmVjb3JkUmV0cnkoXHJcbiAgICBvcGVyYXRpb246IHN0cmluZyxcclxuICAgIGF0dGVtcHRzOiBudW1iZXIsXHJcbiAgICBzdWNjZXNzOiBib29sZWFuLFxyXG4gICAgdG90YWxEdXJhdGlvbjogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgY29uc3QgYmFzZUtleSA9IGBtZXRyaWNzOnJldHJ5OiR7b3BlcmF0aW9ufWA7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OnRvdGFsYCwgdGltZXN0YW1wKTtcclxuICAgICAgYXdhaXQgdGhpcy5yZWNvcmRWYWx1ZShgJHtiYXNlS2V5fTphdHRlbXB0c2AsIGF0dGVtcHRzLCB0aW1lc3RhbXApO1xyXG4gICAgICBhd2FpdCB0aGlzLnJlY29yZFZhbHVlKGAke2Jhc2VLZXl9OmR1cmF0aW9uYCwgdG90YWxEdXJhdGlvbiwgdGltZXN0YW1wKTtcclxuXHJcbiAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OnN1Y2Nlc3NgLCB0aW1lc3RhbXApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuaW5jcmVtZW50Q291bnRlcihgJHtiYXNlS2V5fTpmYWlsZWRgLCB0aW1lc3RhbXApO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0NhdGVnb3J5LkFQSSwgJ0ZhaWxlZCB0byByZWNvcmQgcmV0cnkgbWV0cmljJywgZXJyb3IgYXMgRXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmEgbcOpdHJpY2FzIGRlIHJhdGUgbGltaXRpbmdcclxuICAgKi9cclxuICBhc3luYyByZWNvcmRSYXRlTGltaXQoXHJcbiAgICBlbmRwb2ludDogc3RyaW5nLFxyXG4gICAgYmxvY2tlZDogYm9vbGVhbixcclxuICAgIHJlbWFpbmluZzogbnVtYmVyLFxyXG4gICAgbGltaXQ6IG51bWJlclxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IGJhc2VLZXkgPSBgbWV0cmljczpyYXRlX2xpbWl0OiR7ZW5kcG9pbnR9YDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB0aGlzLmluY3JlbWVudENvdW50ZXIoYCR7YmFzZUtleX06Y2hlY2tzYCwgdGltZXN0YW1wKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChibG9ja2VkKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5pbmNyZW1lbnRDb3VudGVyKGAke2Jhc2VLZXl9OmJsb2NrZWRgLCB0aW1lc3RhbXApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLnJlY29yZFZhbHVlKGAke2Jhc2VLZXl9OnJlbWFpbmluZ2AsIHJlbWFpbmluZywgdGltZXN0YW1wKTtcclxuICAgICAgYXdhaXQgdGhpcy5yZWNvcmRWYWx1ZShgJHtiYXNlS2V5fTp1dGlsaXphdGlvbmAsIChsaW1pdCAtIHJlbWFpbmluZykgLyBsaW1pdCwgdGltZXN0YW1wKTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nQ2F0ZWdvcnkuQVBJLCAnRmFpbGVkIHRvIHJlY29yZCByYXRlIGxpbWl0IG1ldHJpYycsIGVycm9yIGFzIEVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluY3JlbWVudGEgdW4gY29udGFkb3JcclxuICAgKi9cclxuICBwcml2YXRlIGFzeW5jIGluY3JlbWVudENvdW50ZXIoa2V5OiBzdHJpbmcsIHRpbWVzdGFtcDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCB3aW5kb3dLZXkgPSB0aGlzLmdldFdpbmRvd0tleShrZXksIHRpbWVzdGFtcCk7XHJcbiAgICBhd2FpdCByZWRpc0NhY2hlLmluY3Iod2luZG93S2V5KTtcclxuICAgIGF3YWl0IHJlZGlzQ2FjaGUuZXhwaXJlKHdpbmRvd0tleSwgTUVUUklDU19DT05GSUcuUkVURU5USU9OX0hPVVJTICogMzYwMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSB1biB2YWxvciBudW3DqXJpY29cclxuICAgKi9cclxuICBwcml2YXRlIGFzeW5jIHJlY29yZFZhbHVlKGtleTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyLCB0aW1lc3RhbXA6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2luZG93S2V5ID0gdGhpcy5nZXRXaW5kb3dLZXkoa2V5LCB0aW1lc3RhbXApO1xyXG4gICAgICBjb25zdCBsaXN0S2V5ID0gYCR7d2luZG93S2V5fTp2YWx1ZXNgO1xyXG5cclxuICAgICAgLy8gT2J0ZW5lciBjbGllbnRlIFJlZGlzIChyZWFsIG8gbW9jaylcclxuICAgICAgY29uc3QgY2xpZW50ID0gcmVkaXNDYWNoZVsnY2xpZW50J10gfHwgcmVkaXNDYWNoZTtcclxuXHJcbiAgICAgIC8vIFZlcmlmaWNhciBzaSBlbCBjbGllbnRlIHRpZW5lIGxvcyBtw6l0b2RvcyBuZWNlc2FyaW9zXHJcbiAgICAgIGlmICh0eXBlb2YgY2xpZW50LmxwdXNoID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgYXdhaXQgY2xpZW50LmxwdXNoKGxpc3RLZXksIHZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGF3YWl0IGNsaWVudC5sdHJpbShsaXN0S2V5LCAwLCA5OTkpOyAvLyBNYW50ZW5lciDDumx0aW1vcyAxMDAwIHZhbG9yZXNcclxuICAgICAgICBhd2FpdCBjbGllbnQuZXhwaXJlKGxpc3RLZXksIE1FVFJJQ1NfQ09ORklHLlJFVEVOVElPTl9IT1VSUyAqIDM2MDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZhbGxiYWNrIHBhcmEgbW9jayBiw6FzaWNvIC0gdXNhciBzdG9yYWdlIHNpbXBsZVxyXG4gICAgICAgIGF3YWl0IHJlZGlzQ2FjaGUuc2V0KGAke2xpc3RLZXl9OmxhdGVzdGAsIHZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nQ2F0ZWdvcnkuQVBJLCAnRmFpbGVkIHRvIHJlY29yZCBtZXRyaWMgdmFsdWUnLCBlcnJvciBhcyBFcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmEgY2xhdmUgZGUgdmVudGFuYSB0ZW1wb3JhbFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0V2luZG93S2V5KGJhc2VLZXk6IHN0cmluZywgdGltZXN0YW1wOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgd2luZG93U3RhcnQgPSBNYXRoLmZsb29yKHRpbWVzdGFtcCAvIChNRVRSSUNTX0NPTkZJRy5BR0dSRUdBVElPTl9XSU5ET1dfTUlOVVRFUyAqIDYwICogMTAwMCkpO1xyXG4gICAgcmV0dXJuIGAke2Jhc2VLZXl9OiR7d2luZG93U3RhcnR9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGllbmUgbcOpdHJpY2FzIGFncmVnYWRhcyBwYXJhIHVuIGVuZHBvaW50XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0QXBpTWV0cmljcyhlbmRwb2ludDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgaG91cnNCYWNrOiBudW1iZXIgPSAxKTogUHJvbWlzZTxBcGlNZXRyaWNzPiB7XHJcbiAgICBjb25zdCBiYXNlS2V5ID0gYG1ldHJpY3M6JHtlbmRwb2ludH06JHttZXRob2R9YDtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBub3cgLSAoaG91cnNCYWNrICogNjAgKiA2MCAqIDEwMDApO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIE9idGVuZXIgY29udGFkb3Jlc1xyXG4gICAgICBjb25zdCByZXF1ZXN0cyA9IGF3YWl0IHRoaXMuZ2V0Q291bnRlclN1bShiYXNlS2V5LCAncmVxdWVzdHMnLCBzdGFydFRpbWUsIG5vdyk7XHJcbiAgICAgIGNvbnN0IGVycm9ycyA9IGF3YWl0IHRoaXMuZ2V0Q291bnRlclN1bShiYXNlS2V5LCAnZXJyb3JzJywgc3RhcnRUaW1lLCBub3cpO1xyXG4gICAgICBcclxuICAgICAgLy8gT2J0ZW5lciB0aWVtcG9zIGRlIHJlc3B1ZXN0YVxyXG4gICAgICBjb25zdCByZXNwb25zZVRpbWVzID0gYXdhaXQgdGhpcy5nZXRWYWx1ZVN0YXRzKGAke2Jhc2VLZXl9OnJlc3BvbnNlX3RpbWVgLCBzdGFydFRpbWUsIG5vdyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBPYnRlbmVyIG3DqXRyaWNhcyBkZSByZXRyeVxyXG4gICAgICBjb25zdCByZXRyeVN0YXRzID0gYXdhaXQgdGhpcy5nZXRSZXRyeVN0YXRzKGVuZHBvaW50LCBzdGFydFRpbWUsIG5vdyk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlcXVlc3RzOiB7XHJcbiAgICAgICAgICB0b3RhbDogcmVxdWVzdHMudG90YWwgfHwgMCxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHJlcXVlc3RzLnN1Y2Nlc3MgfHwgMCxcclxuICAgICAgICAgIGVycm9yOiByZXF1ZXN0cy5lcnJvciB8fCAwLFxyXG4gICAgICAgICAgcmF0ZV9saW1pdGVkOiByZXF1ZXN0cy5yYXRlX2xpbWl0ZWQgfHwgMCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlc3BvbnNlX3RpbWVzOiByZXNwb25zZVRpbWVzLFxyXG4gICAgICAgIGVycm9yX3JhdGVzOiB7XHJcbiAgICAgICAgICAnNHh4JzogZXJyb3JzWyc0eHgnXSB8fCAwLFxyXG4gICAgICAgICAgJzV4eCc6IGVycm9yc1snNXh4J10gfHwgMCxcclxuICAgICAgICAgIG5ldHdvcms6IGVycm9ycy5uZXR3b3JrIHx8IDAsXHJcbiAgICAgICAgICB0aW1lb3V0OiBlcnJvcnMudGltZW91dCB8fCAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmV0cnlfc3RhdHM6IHJldHJ5U3RhdHMsXHJcbiAgICAgIH07XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0NhdGVnb3J5LkFQSSwgJ0ZhaWxlZCB0byBnZXQgQVBJIG1ldHJpY3MnLCBlcnJvciBhcyBFcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXRvcm5hciBtw6l0cmljYXMgdmFjw61hcyBlbiBjYXNvIGRlIGVycm9yXHJcbiAgICAgIHJldHVybiB0aGlzLmdldEVtcHR5QXBpTWV0cmljcygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0aWVuZSBzdW1hIGRlIGNvbnRhZG9yZXMgZW4gdW4gcmFuZ28gZGUgdGllbXBvXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBnZXRDb3VudGVyU3VtKFxyXG4gICAgYmFzZUtleTogc3RyaW5nLCBcclxuICAgIGNhdGVnb3J5OiBzdHJpbmcsIFxyXG4gICAgc3RhcnRUaW1lOiBudW1iZXIsIFxyXG4gICAgZW5kVGltZTogbnVtYmVyXHJcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PiB7XHJcbiAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICAgIGNvbnN0IHdpbmRvd1NpemUgPSBNRVRSSUNTX0NPTkZJRy5BR0dSRUdBVElPTl9XSU5ET1dfTUlOVVRFUyAqIDYwICogMTAwMDtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgdGltZSA9IHN0YXJ0VGltZTsgdGltZSA8PSBlbmRUaW1lOyB0aW1lICs9IHdpbmRvd1NpemUpIHtcclxuICAgICAgY29uc3Qgd2luZG93U3RhcnQgPSBNYXRoLmZsb29yKHRpbWUgLyB3aW5kb3dTaXplKTtcclxuICAgICAgXHJcbiAgICAgIC8vIE9idGVuZXIgZGlmZXJlbnRlcyB0aXBvcyBkZSBjb250YWRvcmVzXHJcbiAgICAgIGNvbnN0IHR5cGVzID0gWyd0b3RhbCcsICdzdWNjZXNzJywgJ2Vycm9yJywgJ3JhdGVfbGltaXRlZCcsICc0eHgnLCAnNXh4JywgJ25ldHdvcmsnLCAndGltZW91dCddO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCB0eXBlIG9mIHR5cGVzKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7YmFzZUtleX06JHtjYXRlZ29yeX06JHt0eXBlfToke3dpbmRvd1N0YXJ0fWA7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCByZWRpc0NhY2hlLmdldChrZXkpO1xyXG4gICAgICAgIHJlc3VsdFt0eXBlXSA9IChyZXN1bHRbdHlwZV0gfHwgMCkgKyAocGFyc2VJbnQodmFsdWUgfHwgJzAnKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGllbmUgZXN0YWTDrXN0aWNhcyBkZSB2YWxvcmVzIG51bcOpcmljb3NcclxuICAgKi9cclxuICBwcml2YXRlIGFzeW5jIGdldFZhbHVlU3RhdHMoXHJcbiAgICBiYXNlS2V5OiBzdHJpbmcsXHJcbiAgICBzdGFydFRpbWU6IG51bWJlcixcclxuICAgIGVuZFRpbWU6IG51bWJlclxyXG4gICk6IFByb21pc2U8QWdncmVnYXRlZE1ldHJpYz4ge1xyXG4gICAgY29uc3QgdmFsdWVzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgY29uc3Qgd2luZG93U2l6ZSA9IE1FVFJJQ1NfQ09ORklHLkFHR1JFR0FUSU9OX1dJTkRPV19NSU5VVEVTICogNjAgKiAxMDAwO1xyXG5cclxuICAgIGZvciAobGV0IHRpbWUgPSBzdGFydFRpbWU7IHRpbWUgPD0gZW5kVGltZTsgdGltZSArPSB3aW5kb3dTaXplKSB7XHJcbiAgICAgIGNvbnN0IHdpbmRvd1N0YXJ0ID0gTWF0aC5mbG9vcih0aW1lIC8gd2luZG93U2l6ZSk7XHJcbiAgICAgIGNvbnN0IGtleSA9IGAke2Jhc2VLZXl9OiR7d2luZG93U3RhcnR9OnZhbHVlc2A7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHJlZGlzQ2FjaGVbJ2NsaWVudCddIHx8IHJlZGlzQ2FjaGU7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2xpZW50LmxyYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgY29uc3Qgd2luZG93VmFsdWVzID0gYXdhaXQgY2xpZW50LmxyYW5nZShrZXksIDAsIC0xKTtcclxuICAgICAgICAgIHZhbHVlcy5wdXNoKC4uLndpbmRvd1ZhbHVlcy5tYXAodiA9PiBwYXJzZUZsb2F0KHYpKS5maWx0ZXIodiA9PiAhaXNOYU4odikpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gRmFsbGJhY2sgcGFyYSBtb2NrIGLDoXNpY29cclxuICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcmVkaXNDYWNoZS5nZXQoYCR7a2V5fTpsYXRlc3RgKTtcclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBudW1WYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKG51bVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBDb250aW51YXIgc2kgbm8gc2UgcHVlZGUgb2J0ZW5lciB2YWxvcmVzIGRlIHVuYSB2ZW50YW5hXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4geyBjb3VudDogMCwgc3VtOiAwLCBhdmc6IDAsIG1pbjogMCwgbWF4OiAwLCBwOTU6IDAsIHA5OTogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhbHVlcy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcbiAgICBjb25zdCBzdW0gPSB2YWx1ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvdW50OiB2YWx1ZXMubGVuZ3RoLFxyXG4gICAgICBzdW0sXHJcbiAgICAgIGF2Zzogc3VtIC8gdmFsdWVzLmxlbmd0aCxcclxuICAgICAgbWluOiB2YWx1ZXNbMF0sXHJcbiAgICAgIG1heDogdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXSxcclxuICAgICAgcDk1OiB2YWx1ZXNbTWF0aC5mbG9vcih2YWx1ZXMubGVuZ3RoICogMC45NSldIHx8IDAsXHJcbiAgICAgIHA5OTogdmFsdWVzW01hdGguZmxvb3IodmFsdWVzLmxlbmd0aCAqIDAuOTkpXSB8fCAwLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGllbmUgZXN0YWTDrXN0aWNhcyBkZSByZXRyeVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgZ2V0UmV0cnlTdGF0cyhcclxuICAgIG9wZXJhdGlvbjogc3RyaW5nLCBcclxuICAgIHN0YXJ0VGltZTogbnVtYmVyLCBcclxuICAgIGVuZFRpbWU6IG51bWJlclxyXG4gICk6IFByb21pc2U8QXBpTWV0cmljc1sncmV0cnlfc3RhdHMnXT4ge1xyXG4gICAgY29uc3QgYmFzZUtleSA9IGBtZXRyaWNzOnJldHJ5OiR7b3BlcmF0aW9ufWA7XHJcbiAgICBjb25zdCBjb3VudGVycyA9IGF3YWl0IHRoaXMuZ2V0Q291bnRlclN1bShiYXNlS2V5LCAnJywgc3RhcnRUaW1lLCBlbmRUaW1lKTtcclxuICAgIGNvbnN0IGF0dGVtcHRzID0gYXdhaXQgdGhpcy5nZXRWYWx1ZVN0YXRzKGAke2Jhc2VLZXl9OmF0dGVtcHRzYCwgc3RhcnRUaW1lLCBlbmRUaW1lKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbF9yZXRyaWVzOiBjb3VudGVycy50b3RhbCB8fCAwLFxyXG4gICAgICBzdWNjZXNzZnVsX3JldHJpZXM6IGNvdW50ZXJzLnN1Y2Nlc3MgfHwgMCxcclxuICAgICAgZmFpbGVkX3JldHJpZXM6IGNvdW50ZXJzLmZhaWxlZCB8fCAwLFxyXG4gICAgICBhdmdfYXR0ZW1wdHM6IGF0dGVtcHRzLmF2ZyB8fCAwLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGllbmUgbcOpdHJpY2FzIGVzcGVjw61maWNhcyBkZSBNZXJjYWRvUGFnb1xyXG4gICAqL1xyXG4gIGFzeW5jIGdldE1lcmNhZG9QYWdvTWV0cmljcyhob3Vyc0JhY2s6IG51bWJlciA9IDEpOiBQcm9taXNlPE1lcmNhZG9QYWdvTWV0cmljcz4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW3BheW1lbnRDcmVhdGlvbiwgcGF5bWVudFF1ZXJpZXMsIHdlYmhvb2tQcm9jZXNzaW5nXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICB0aGlzLmdldEFwaU1ldHJpY3MoJy9hcGkvcGF5bWVudHMvY3JlYXRlLXByZWZlcmVuY2UnLCAnUE9TVCcsIGhvdXJzQmFjayksXHJcbiAgICAgICAgdGhpcy5nZXRBcGlNZXRyaWNzKCcvYXBpL3BheW1lbnRzL3F1ZXJ5JywgJ0dFVCcsIGhvdXJzQmFjayksXHJcbiAgICAgICAgdGhpcy5nZXRBcGlNZXRyaWNzKCcvYXBpL3dlYmhvb2tzL21lcmNhZG9wYWdvJywgJ1BPU1QnLCBob3Vyc0JhY2spLFxyXG4gICAgICBdKTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGFyIG3DqXRyaWNhcyBnZW5lcmFsZXMgZGUgc2FsdWRcclxuICAgICAgY29uc3QgdG90YWxSZXF1ZXN0cyA9IHBheW1lbnRDcmVhdGlvbi5yZXF1ZXN0cy50b3RhbCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRRdWVyaWVzLnJlcXVlc3RzLnRvdGFsICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViaG9va1Byb2Nlc3NpbmcucmVxdWVzdHMudG90YWw7XHJcblxyXG4gICAgICBjb25zdCB0b3RhbEVycm9ycyA9IHBheW1lbnRDcmVhdGlvbi5yZXF1ZXN0cy5lcnJvciArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50UXVlcmllcy5yZXF1ZXN0cy5lcnJvciArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJob29rUHJvY2Vzc2luZy5yZXF1ZXN0cy5lcnJvcjtcclxuXHJcbiAgICAgIGNvbnN0IG92ZXJhbGxFcnJvclJhdGUgPSB0b3RhbFJlcXVlc3RzID4gMCA/IHRvdGFsRXJyb3JzIC8gdG90YWxSZXF1ZXN0cyA6IDA7XHJcblxyXG4gICAgICBjb25zdCBhdmdSZXNwb25zZVRpbWUgPSB0b3RhbFJlcXVlc3RzID4gMCA/XHJcbiAgICAgICAgKHBheW1lbnRDcmVhdGlvbi5yZXNwb25zZV90aW1lcy5hdmcgKiBwYXltZW50Q3JlYXRpb24ucmVxdWVzdHMudG90YWwgK1xyXG4gICAgICAgICBwYXltZW50UXVlcmllcy5yZXNwb25zZV90aW1lcy5hdmcgKiBwYXltZW50UXVlcmllcy5yZXF1ZXN0cy50b3RhbCArXHJcbiAgICAgICAgIHdlYmhvb2tQcm9jZXNzaW5nLnJlc3BvbnNlX3RpbWVzLmF2ZyAqIHdlYmhvb2tQcm9jZXNzaW5nLnJlcXVlc3RzLnRvdGFsKSAvIHRvdGFsUmVxdWVzdHMgOiAwO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwYXltZW50X2NyZWF0aW9uOiBwYXltZW50Q3JlYXRpb24sXHJcbiAgICAgICAgcGF5bWVudF9xdWVyaWVzOiBwYXltZW50UXVlcmllcyxcclxuICAgICAgICB3ZWJob29rX3Byb2Nlc3Npbmc6IHdlYmhvb2tQcm9jZXNzaW5nLFxyXG4gICAgICAgIG92ZXJhbGxfaGVhbHRoOiB7XHJcbiAgICAgICAgICB1cHRpbWVfcGVyY2VudGFnZTogb3ZlcmFsbEVycm9yUmF0ZSA8IDAuMDUgPyA5OS45IDogOTUuMCwgLy8gU2ltcGxpZmljYWRvXHJcbiAgICAgICAgICBhdmdfcmVzcG9uc2VfdGltZTogYXZnUmVzcG9uc2VUaW1lLFxyXG4gICAgICAgICAgZXJyb3JfcmF0ZTogb3ZlcmFsbEVycm9yUmF0ZSxcclxuICAgICAgICAgIGxhc3RfaW5jaWRlbnQ6IG92ZXJhbGxFcnJvclJhdGUgPiAwLjEgPyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgOiBudWxsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIE1lcmNhZG9QYWdvIG1ldHJpY3M6JywgZXJyb3IpO1xyXG4gICAgICAvLyBSZXRvcm5hciBtw6l0cmljYXMgdmFjw61hcyBlbiBjYXNvIGRlIGVycm9yXHJcbiAgICAgIGNvbnN0IGVtcHR5TWV0cmljcyA9IHRoaXMuZ2V0RW1wdHlBcGlNZXRyaWNzKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF5bWVudF9jcmVhdGlvbjogZW1wdHlNZXRyaWNzLFxyXG4gICAgICAgIHBheW1lbnRfcXVlcmllczogZW1wdHlNZXRyaWNzLFxyXG4gICAgICAgIHdlYmhvb2tfcHJvY2Vzc2luZzogZW1wdHlNZXRyaWNzLFxyXG4gICAgICAgIG92ZXJhbGxfaGVhbHRoOiB7XHJcbiAgICAgICAgICB1cHRpbWVfcGVyY2VudGFnZTogMCxcclxuICAgICAgICAgIGF2Z19yZXNwb25zZV90aW1lOiAwLFxyXG4gICAgICAgICAgZXJyb3JfcmF0ZTogMSxcclxuICAgICAgICAgIGxhc3RfaW5jaWRlbnQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0b3JuYSBtw6l0cmljYXMgdmFjw61hcyBwb3IgZGVmZWN0b1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0RW1wdHlBcGlNZXRyaWNzKCk6IEFwaU1ldHJpY3Mge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVxdWVzdHM6IHsgdG90YWw6IDAsIHN1Y2Nlc3M6IDAsIGVycm9yOiAwLCByYXRlX2xpbWl0ZWQ6IDAgfSxcclxuICAgICAgcmVzcG9uc2VfdGltZXM6IHsgY291bnQ6IDAsIHN1bTogMCwgYXZnOiAwLCBtaW46IDAsIG1heDogMCwgcDk1OiAwLCBwOTk6IDAgfSxcclxuICAgICAgZXJyb3JfcmF0ZXM6IHsgJzR4eCc6IDAsICc1eHgnOiAwLCBuZXR3b3JrOiAwLCB0aW1lb3V0OiAwIH0sXHJcbiAgICAgIHJldHJ5X3N0YXRzOiB7IHRvdGFsX3JldHJpZXM6IDAsIHN1Y2Nlc3NmdWxfcmV0cmllczogMCwgZmFpbGVkX3JldHJpZXM6IDAsIGF2Z19hdHRlbXB0czogMCB9LFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IG1ldHJpY3NDb2xsZWN0b3IgPSBNZXRyaWNzQ29sbGVjdG9yLmdldEluc3RhbmNlKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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