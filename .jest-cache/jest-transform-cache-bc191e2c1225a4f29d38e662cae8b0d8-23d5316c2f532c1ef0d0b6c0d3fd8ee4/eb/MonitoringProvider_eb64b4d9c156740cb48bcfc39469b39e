63e9a977e6fbc72da125667ea04d40ee
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get MonitoringProvider () {
        return MonitoringProvider;
    },
    get MonitoringStatus () {
        return MonitoringStatus;
    },
    get useErrorReporting () {
        return useErrorReporting;
    },
    get useMonitoring () {
        return useMonitoring;
    },
    get useMonitoringStats () {
        return useMonitoringStats;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _proactivemonitoring = require("../lib/monitoring/proactive-monitoring");
const _logger = require("../lib/enterprise/logger");
const _ErrorBoundary = require("../components/ErrorBoundary");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const MonitoringContext = /*#__PURE__*/ (0, _react.createContext)({
    isInitialized: false,
    isMonitoring: false,
    error: null
});
const useMonitoring = ()=>{
    const context = (0, _react.useContext)(MonitoringContext);
    if (!context) {
        throw new Error('useMonitoring must be used within a MonitoringProvider');
    }
    return context;
};
function MonitoringProvider({ children, autoStart = true, enableErrorBoundary = true }) {
    const [isInitialized, setIsInitialized] = (0, _react.useState)(false);
    const [isMonitoring, setIsMonitoring] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    (0, _react.useEffect)(()=>{
        const initializeMonitoring = async ()=>{
            try {
                _logger.logger.info(_logger.LogLevel.INFO, 'Initializing proactive monitoring system', {}, _logger.LogCategory.SYSTEM);
                // Configurar el sistema de monitoreo
                _proactivemonitoring.proactiveMonitoring.updateConfig({
                    enabled: true,
                    checkInterval: 30,
                    errorThreshold: 5,
                    responseTimeThreshold: 2000,
                    memoryThreshold: 80,
                    cpuThreshold: 80,
                    enableAutoRecovery: false,
                    notificationChannels: [
                        'email',
                        'slack'
                    ]
                });
                // Iniciar monitoreo automáticamente si está habilitado
                if (autoStart) {
                    (0, _proactivemonitoring.startMonitoring)();
                    setIsMonitoring(true);
                    _logger.logger.info(_logger.LogLevel.INFO, 'Proactive monitoring started automatically', {}, _logger.LogCategory.SYSTEM);
                }
                // Configurar listeners para errores no capturados
                if (typeof window !== 'undefined') {
                    // Errores de JavaScript no capturados
                    window.addEventListener('error', handleGlobalError);
                    // Promesas rechazadas no capturadas
                    window.addEventListener('unhandledrejection', handleUnhandledRejection);
                    // Errores de recursos (imágenes, scripts, etc.)
                    window.addEventListener('error', handleResourceError, true);
                }
                setIsInitialized(true);
                setError(null);
                _logger.logger.info(_logger.LogLevel.INFO, 'Proactive monitoring system initialized successfully', {
                    autoStart,
                    enableErrorBoundary
                }, _logger.LogCategory.SYSTEM);
            } catch (err) {
                const errorMessage = err instanceof Error ? err.message : 'Failed to initialize monitoring';
                setError(errorMessage);
                _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to initialize monitoring system', {
                    error: errorMessage
                }, _logger.LogCategory.SYSTEM);
            }
        };
        initializeMonitoring();
        // Cleanup
        return ()=>{
            if (typeof window !== 'undefined') {
                window.removeEventListener('error', handleGlobalError);
                window.removeEventListener('unhandledrejection', handleUnhandledRejection);
                window.removeEventListener('error', handleResourceError, true);
            }
        };
    }, [
        autoStart
    ]);
    const handleGlobalError = async (event)=>{
        try {
            await _proactivemonitoring.proactiveMonitoring.reportError(event.error || new Error(event.message), {
                source: 'global_error_handler',
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                timestamp: new Date().toISOString(),
                url: window.location.href,
                userAgent: navigator.userAgent
            });
        } catch (reportingError) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report global error', {
                originalError: event.message,
                reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    };
    const handleUnhandledRejection = async (event)=>{
        try {
            const error = event.reason instanceof Error ? event.reason : new Error(String(event.reason));
            await _proactivemonitoring.proactiveMonitoring.reportError(error, {
                source: 'unhandled_promise_rejection',
                timestamp: new Date().toISOString(),
                url: window.location.href,
                userAgent: navigator.userAgent,
                reason: String(event.reason)
            });
        } catch (reportingError) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report unhandled promise rejection', {
                originalReason: String(event.reason),
                reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    };
    const handleResourceError = async (event)=>{
        if (event.target && event.target !== window) {
            const target = event.target;
            const tagName = target.tagName?.toLowerCase();
            const src = target.src || target.href;
            if (src && [
                'img',
                'script',
                'link',
                'iframe'
            ].includes(tagName)) {
                try {
                    await _proactivemonitoring.proactiveMonitoring.reportError(new Error(`Resource loading failed: ${tagName} - ${src}`), {
                        source: 'resource_error',
                        resourceType: tagName,
                        resourceUrl: src,
                        timestamp: new Date().toISOString(),
                        url: window.location.href
                    });
                } catch (reportingError) {
                    _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report resource error', {
                        resourceUrl: src,
                        resourceType: tagName,
                        reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
                    }, _logger.LogCategory.SYSTEM);
                }
            }
        }
    };
    const contextValue = {
        isInitialized,
        isMonitoring,
        error
    };
    const content = /*#__PURE__*/ (0, _jsxruntime.jsx)(MonitoringContext.Provider, {
        value: contextValue,
        children: children
    });
    // Envolver con Error Boundary si está habilitado
    if (enableErrorBoundary) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)(_ErrorBoundary.ErrorBoundaryWrapper, {
            showDetails: process.env.NODE_ENV === 'development',
            enableReporting: true,
            children: content
        });
    }
    return content;
}
function useErrorReporting() {
    const { isInitialized } = useMonitoring();
    const reportError = _react.default.useCallback(async (error, context)=>{
        if (!isInitialized) {
            _logger.logger.warn(_logger.LogLevel.WARN, 'Monitoring not initialized, error not reported', {
                error: error instanceof Error ? error.message : error
            }, _logger.LogCategory.SYSTEM);
            return;
        }
        try {
            await _proactivemonitoring.proactiveMonitoring.reportError(error, {
                ...context,
                source: 'manual_report',
                timestamp: new Date().toISOString(),
                url: typeof window !== 'undefined' ? window.location.href : 'unknown'
            });
        } catch (reportingError) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to report error manually', {
                originalError: error instanceof Error ? error.message : error,
                reportingError: reportingError instanceof Error ? reportingError.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    }, [
        isInitialized
    ]);
    return {
        reportError,
        isInitialized
    };
}
function useMonitoringStats() {
    const { isInitialized } = useMonitoring();
    const [stats, setStats] = (0, _react.useState)(null);
    const [loading, setLoading] = (0, _react.useState)(false);
    const refreshStats = _react.default.useCallback(async ()=>{
        if (!isInitialized) {
            return;
        }
        try {
            setLoading(true);
            const newStats = await _proactivemonitoring.proactiveMonitoring.getMonitoringStats();
            setStats(newStats);
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to fetch monitoring stats', {
                error: error instanceof Error ? error.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        } finally{
            setLoading(false);
        }
    }, [
        isInitialized
    ]);
    _react.default.useEffect(()=>{
        if (isInitialized) {
            refreshStats();
            // Actualizar estadísticas cada 30 segundos
            const interval = setInterval(refreshStats, 30000);
            return ()=>clearInterval(interval);
        }
    }, [
        isInitialized,
        refreshStats
    ]);
    return {
        stats,
        loading,
        refreshStats
    };
}
function MonitoringStatus() {
    const { isInitialized, isMonitoring, error } = useMonitoring();
    if (process.env.NODE_ENV !== 'development') {
        return null;
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "fixed bottom-4 right-4 z-50 bg-black text-white text-xs p-2 rounded shadow-lg",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    "Monitoring: ",
                    isInitialized ? '✅' : '❌'
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    "Active: ",
                    isMonitoring ? '✅' : '❌'
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-red-300",
                children: [
                    "Error: ",
                    error instanceof Error ? error.message : error?.toString() || 'Error desconocido'
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xccHJvdmlkZXJzXFxNb25pdG9yaW5nUHJvdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBwcm9hY3RpdmVNb25pdG9yaW5nLCBzdGFydE1vbml0b3JpbmcgfSBmcm9tICcuLi9saWIvbW9uaXRvcmluZy9wcm9hY3RpdmUtbW9uaXRvcmluZydcclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL2xvZ2dlcidcclxuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeVdyYXBwZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL0Vycm9yQm91bmRhcnknXHJcblxyXG5pbnRlcmZhY2UgTW9uaXRvcmluZ0NvbnRleHRUeXBlIHtcclxuICBpc0luaXRpYWxpemVkOiBib29sZWFuXHJcbiAgaXNNb25pdG9yaW5nOiBib29sZWFuXHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcclxufVxyXG5cclxuY29uc3QgTW9uaXRvcmluZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PE1vbml0b3JpbmdDb250ZXh0VHlwZT4oe1xyXG4gIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxyXG4gIGlzTW9uaXRvcmluZzogZmFsc2UsXHJcbiAgZXJyb3I6IG51bGxcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VNb25pdG9yaW5nID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KE1vbml0b3JpbmdDb250ZXh0KVxyXG4gIGlmICghY29udGV4dCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VNb25pdG9yaW5nIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBNb25pdG9yaW5nUHJvdmlkZXInKVxyXG4gIH1cclxuICByZXR1cm4gY29udGV4dFxyXG59XHJcblxyXG5pbnRlcmZhY2UgTW9uaXRvcmluZ1Byb3ZpZGVyUHJvcHMge1xyXG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcclxuICBhdXRvU3RhcnQ/OiBib29sZWFuXHJcbiAgZW5hYmxlRXJyb3JCb3VuZGFyeT86IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1vbml0b3JpbmdQcm92aWRlcih7XHJcbiAgY2hpbGRyZW4sXHJcbiAgYXV0b1N0YXJ0ID0gdHJ1ZSxcclxuICBlbmFibGVFcnJvckJvdW5kYXJ5ID0gdHJ1ZVxyXG59OiBNb25pdG9yaW5nUHJvdmlkZXJQcm9wcykge1xyXG4gIGNvbnN0IFtpc0luaXRpYWxpemVkLCBzZXRJc0luaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gIGNvbnN0IFtpc01vbml0b3JpbmcsIHNldElzTW9uaXRvcmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBpbml0aWFsaXplTW9uaXRvcmluZyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCAnSW5pdGlhbGl6aW5nIHByb2FjdGl2ZSBtb25pdG9yaW5nIHN5c3RlbScsIHt9LCBMb2dDYXRlZ29yeS5TWVNURU0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29uZmlndXJhciBlbCBzaXN0ZW1hIGRlIG1vbml0b3Jlb1xyXG4gICAgICAgIHByb2FjdGl2ZU1vbml0b3JpbmcudXBkYXRlQ29uZmlnKHtcclxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBjaGVja0ludGVydmFsOiAzMCwgLy8gMzAgc2VndW5kb3NcclxuICAgICAgICAgIGVycm9yVGhyZXNob2xkOiA1LCAvLyA1JSBkZSBlcnJvcmVzXHJcbiAgICAgICAgICByZXNwb25zZVRpbWVUaHJlc2hvbGQ6IDIwMDAsIC8vIDIgc2VndW5kb3NcclxuICAgICAgICAgIG1lbW9yeVRocmVzaG9sZDogODAsIC8vIDgwJSBkZSBtZW1vcmlhXHJcbiAgICAgICAgICBjcHVUaHJlc2hvbGQ6IDgwLCAvLyA4MCUgZGUgQ1BVXHJcbiAgICAgICAgICBlbmFibGVBdXRvUmVjb3Zlcnk6IGZhbHNlLCAvLyBEZXNoYWJpbGl0YWRvIHBvciBzZWd1cmlkYWRcclxuICAgICAgICAgIG5vdGlmaWNhdGlvbkNoYW5uZWxzOiBbJ2VtYWlsJywgJ3NsYWNrJ11cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBJbmljaWFyIG1vbml0b3JlbyBhdXRvbcOhdGljYW1lbnRlIHNpIGVzdMOhIGhhYmlsaXRhZG9cclxuICAgICAgICBpZiAoYXV0b1N0YXJ0KSB7XHJcbiAgICAgICAgICBzdGFydE1vbml0b3JpbmcoKVxyXG4gICAgICAgICAgc2V0SXNNb25pdG9yaW5nKHRydWUpXHJcbiAgICAgICAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCAnUHJvYWN0aXZlIG1vbml0b3Jpbmcgc3RhcnRlZCBhdXRvbWF0aWNhbGx5Jywge30sIExvZ0NhdGVnb3J5LlNZU1RFTSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYXIgbGlzdGVuZXJzIHBhcmEgZXJyb3JlcyBubyBjYXB0dXJhZG9zXHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAvLyBFcnJvcmVzIGRlIEphdmFTY3JpcHQgbm8gY2FwdHVyYWRvc1xyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlR2xvYmFsRXJyb3IpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFByb21lc2FzIHJlY2hhemFkYXMgbm8gY2FwdHVyYWRhc1xyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIGhhbmRsZVVuaGFuZGxlZFJlamVjdGlvbilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRXJyb3JlcyBkZSByZWN1cnNvcyAoaW3DoWdlbmVzLCBzY3JpcHRzLCBldGMuKVxyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlUmVzb3VyY2VFcnJvciwgdHJ1ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldElzSW5pdGlhbGl6ZWQodHJ1ZSlcclxuICAgICAgICBzZXRFcnJvcihudWxsKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxvZ2dlci5pbmZvKExvZ0xldmVsLklORk8sICdQcm9hY3RpdmUgbW9uaXRvcmluZyBzeXN0ZW0gaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jywge1xyXG4gICAgICAgICAgYXV0b1N0YXJ0LFxyXG4gICAgICAgICAgZW5hYmxlRXJyb3JCb3VuZGFyeVxyXG4gICAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSlcclxuICAgICAgICBcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBtb25pdG9yaW5nJ1xyXG4gICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcclxuICAgICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBtb25pdG9yaW5nIHN5c3RlbScsIHtcclxuICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2VcclxuICAgICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0aWFsaXplTW9uaXRvcmluZygpXHJcblxyXG4gICAgLy8gQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlR2xvYmFsRXJyb3IpXHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIGhhbmRsZVVuaGFuZGxlZFJlamVjdGlvbilcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVSZXNvdXJjZUVycm9yLCB0cnVlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2F1dG9TdGFydF0pXHJcblxyXG4gIGNvbnN0IGhhbmRsZUdsb2JhbEVycm9yID0gYXN5bmMgKGV2ZW50OiBFcnJvckV2ZW50KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBwcm9hY3RpdmVNb25pdG9yaW5nLnJlcG9ydEVycm9yKGV2ZW50LmVycm9yIHx8IG5ldyBFcnJvcihldmVudC5tZXNzYWdlKSwge1xyXG4gICAgICAgIHNvdXJjZTogJ2dsb2JhbF9lcnJvcl9oYW5kbGVyJyxcclxuICAgICAgICBmaWxlbmFtZTogZXZlbnQuZmlsZW5hbWUsXHJcbiAgICAgICAgbGluZW5vOiBldmVudC5saW5lbm8sXHJcbiAgICAgICAgY29sbm86IGV2ZW50LmNvbG5vLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50XHJcbiAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChyZXBvcnRpbmdFcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gcmVwb3J0IGdsb2JhbCBlcnJvcicsIHtcclxuICAgICAgICBvcmlnaW5hbEVycm9yOiBldmVudC5tZXNzYWdlLFxyXG4gICAgICAgIHJlcG9ydGluZ0Vycm9yOiByZXBvcnRpbmdFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gcmVwb3J0aW5nRXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBoYW5kbGVVbmhhbmRsZWRSZWplY3Rpb24gPSBhc3luYyAoZXZlbnQ6IFByb21pc2VSZWplY3Rpb25FdmVudCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZXJyb3IgPSBldmVudC5yZWFzb24gaW5zdGFuY2VvZiBFcnJvciA/IGV2ZW50LnJlYXNvbiA6IG5ldyBFcnJvcihTdHJpbmcoZXZlbnQucmVhc29uKSlcclxuICAgICAgYXdhaXQgcHJvYWN0aXZlTW9uaXRvcmluZy5yZXBvcnRFcnJvcihlcnJvciwge1xyXG4gICAgICAgIHNvdXJjZTogJ3VuaGFuZGxlZF9wcm9taXNlX3JlamVjdGlvbicsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXHJcbiAgICAgICAgcmVhc29uOiBTdHJpbmcoZXZlbnQucmVhc29uKVxyXG4gICAgICB9KVxyXG4gICAgfSBjYXRjaCAocmVwb3J0aW5nRXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnRmFpbGVkIHRvIHJlcG9ydCB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB7XHJcbiAgICAgICAgb3JpZ2luYWxSZWFzb246IFN0cmluZyhldmVudC5yZWFzb24pLFxyXG4gICAgICAgIHJlcG9ydGluZ0Vycm9yOiByZXBvcnRpbmdFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gcmVwb3J0aW5nRXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBoYW5kbGVSZXNvdXJjZUVycm9yID0gYXN5bmMgKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQgIT09IHdpbmRvdykge1xyXG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcclxuICAgICAgY29uc3QgdGFnTmFtZSA9IHRhcmdldC50YWdOYW1lPy50b0xvd2VyQ2FzZSgpXHJcbiAgICAgIGNvbnN0IHNyYyA9ICh0YXJnZXQgYXMgYW55KS5zcmMgfHwgKHRhcmdldCBhcyBhbnkpLmhyZWZcclxuICAgICAgXHJcbiAgICAgIGlmIChzcmMgJiYgWydpbWcnLCAnc2NyaXB0JywgJ2xpbmsnLCAnaWZyYW1lJ10uaW5jbHVkZXModGFnTmFtZSkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgcHJvYWN0aXZlTW9uaXRvcmluZy5yZXBvcnRFcnJvcihcclxuICAgICAgICAgICAgbmV3IEVycm9yKGBSZXNvdXJjZSBsb2FkaW5nIGZhaWxlZDogJHt0YWdOYW1lfSAtICR7c3JjfWApLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgc291cmNlOiAncmVzb3VyY2VfZXJyb3InLFxyXG4gICAgICAgICAgICAgIHJlc291cmNlVHlwZTogdGFnTmFtZSxcclxuICAgICAgICAgICAgICByZXNvdXJjZVVybDogc3JjLFxyXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH0gY2F0Y2ggKHJlcG9ydGluZ0Vycm9yKSB7XHJcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gcmVwb3J0IHJlc291cmNlIGVycm9yJywge1xyXG4gICAgICAgICAgICByZXNvdXJjZVVybDogc3JjLFxyXG4gICAgICAgICAgICByZXNvdXJjZVR5cGU6IHRhZ05hbWUsXHJcbiAgICAgICAgICAgIHJlcG9ydGluZ0Vycm9yOiByZXBvcnRpbmdFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gcmVwb3J0aW5nRXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgY29udGV4dFZhbHVlOiBNb25pdG9yaW5nQ29udGV4dFR5cGUgPSB7XHJcbiAgICBpc0luaXRpYWxpemVkLFxyXG4gICAgaXNNb25pdG9yaW5nLFxyXG4gICAgZXJyb3JcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbnRlbnQgPSAoXHJcbiAgICA8TW9uaXRvcmluZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvTW9uaXRvcmluZ0NvbnRleHQuUHJvdmlkZXI+XHJcbiAgKVxyXG5cclxuICAvLyBFbnZvbHZlciBjb24gRXJyb3IgQm91bmRhcnkgc2kgZXN0w6EgaGFiaWxpdGFkb1xyXG4gIGlmIChlbmFibGVFcnJvckJvdW5kYXJ5KSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8RXJyb3JCb3VuZGFyeVdyYXBwZXJcclxuICAgICAgICBzaG93RGV0YWlscz17cHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCd9XHJcbiAgICAgICAgZW5hYmxlUmVwb3J0aW5nPXt0cnVlfVxyXG4gICAgICA+XHJcbiAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgIDwvRXJyb3JCb3VuZGFyeVdyYXBwZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29udGVudFxyXG59XHJcblxyXG4vKipcclxuICogSG9vayBwYXJhIHJlcG9ydGFyIGVycm9yZXMgbWFudWFsbWVudGUgZGVzZGUgY29tcG9uZW50ZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VFcnJvclJlcG9ydGluZygpIHtcclxuICBjb25zdCB7IGlzSW5pdGlhbGl6ZWQgfSA9IHVzZU1vbml0b3JpbmcoKVxyXG5cclxuICBjb25zdCByZXBvcnRFcnJvciA9IFJlYWN0LnVzZUNhbGxiYWNrKGFzeW5jIChlcnJvcjogRXJyb3IgfCBzdHJpbmcsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XHJcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgbG9nZ2VyLndhcm4oTG9nTGV2ZWwuV0FSTiwgJ01vbml0b3Jpbmcgbm90IGluaXRpYWxpemVkLCBlcnJvciBub3QgcmVwb3J0ZWQnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3JcclxuICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBwcm9hY3RpdmVNb25pdG9yaW5nLnJlcG9ydEVycm9yKGVycm9yLCB7XHJcbiAgICAgICAgLi4uY29udGV4dCxcclxuICAgICAgICBzb3VyY2U6ICdtYW51YWxfcmVwb3J0JyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cmw6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAndW5rbm93bidcclxuICAgICAgfSlcclxuICAgIH0gY2F0Y2ggKHJlcG9ydGluZ0Vycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgJ0ZhaWxlZCB0byByZXBvcnQgZXJyb3IgbWFudWFsbHknLCB7XHJcbiAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvcixcclxuICAgICAgICByZXBvcnRpbmdFcnJvcjogcmVwb3J0aW5nRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHJlcG9ydGluZ0Vycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKVxyXG4gICAgfVxyXG4gIH0sIFtpc0luaXRpYWxpemVkXSlcclxuXHJcbiAgcmV0dXJuIHsgcmVwb3J0RXJyb3IsIGlzSW5pdGlhbGl6ZWQgfVxyXG59XHJcblxyXG4vKipcclxuICogSG9vayBwYXJhIG9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZSBtb25pdG9yZW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNb25pdG9yaW5nU3RhdHMoKSB7XHJcbiAgY29uc3QgeyBpc0luaXRpYWxpemVkIH0gPSB1c2VNb25pdG9yaW5nKClcclxuICBjb25zdCBbc3RhdHMsIHNldFN0YXRzXSA9IHVzZVN0YXRlPGFueT4obnVsbClcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgY29uc3QgcmVmcmVzaFN0YXRzID0gUmVhY3QudXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luaXRpYWxpemVkKSB7cmV0dXJufVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSlcclxuICAgICAgY29uc3QgbmV3U3RhdHMgPSBhd2FpdCBwcm9hY3RpdmVNb25pdG9yaW5nLmdldE1vbml0b3JpbmdTdGF0cygpXHJcbiAgICAgIHNldFN0YXRzKG5ld1N0YXRzKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnRmFpbGVkIHRvIGZldGNoIG1vbml0b3Jpbmcgc3RhdHMnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSlcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXHJcbiAgICB9XHJcbiAgfSwgW2lzSW5pdGlhbGl6ZWRdKVxyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgcmVmcmVzaFN0YXRzKClcclxuICAgICAgXHJcbiAgICAgIC8vIEFjdHVhbGl6YXIgZXN0YWTDrXN0aWNhcyBjYWRhIDMwIHNlZ3VuZG9zXHJcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwocmVmcmVzaFN0YXRzLCAzMDAwMClcclxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICB9XHJcbiAgfSwgW2lzSW5pdGlhbGl6ZWQsIHJlZnJlc2hTdGF0c10pXHJcblxyXG4gIHJldHVybiB7IHN0YXRzLCBsb2FkaW5nLCByZWZyZXNoU3RhdHMgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29tcG9uZW50ZSBkZSBlc3RhZG8gZGVsIG1vbml0b3JlbyAocGFyYSBkZWJ1Z2dpbmcpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gTW9uaXRvcmluZ1N0YXR1cygpIHtcclxuICBjb25zdCB7IGlzSW5pdGlhbGl6ZWQsIGlzTW9uaXRvcmluZywgZXJyb3IgfSA9IHVzZU1vbml0b3JpbmcoKVxyXG5cclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCByaWdodC00IHotNTAgYmctYmxhY2sgdGV4dC13aGl0ZSB0ZXh0LXhzIHAtMiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4gICAgICA8ZGl2Pk1vbml0b3Jpbmc6IHtpc0luaXRpYWxpemVkID8gJ+KchScgOiAn4p2MJ308L2Rpdj5cclxuICAgICAgPGRpdj5BY3RpdmU6IHtpc01vbml0b3JpbmcgPyAn4pyFJyA6ICfinYwnfTwvZGl2PlxyXG4gICAgICB7ZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC0zMDBcIj5FcnJvcjoge2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3I/LnRvU3RyaW5nKCkgfHwgJ0Vycm9yIGRlc2Nvbm9jaWRvJ308L2Rpdj59XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIk1vbml0b3JpbmdQcm92aWRlciIsIk1vbml0b3JpbmdTdGF0dXMiLCJ1c2VFcnJvclJlcG9ydGluZyIsInVzZU1vbml0b3JpbmciLCJ1c2VNb25pdG9yaW5nU3RhdHMiLCJNb25pdG9yaW5nQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJpc0luaXRpYWxpemVkIiwiaXNNb25pdG9yaW5nIiwiZXJyb3IiLCJjb250ZXh0IiwidXNlQ29udGV4dCIsIkVycm9yIiwiY2hpbGRyZW4iLCJhdXRvU3RhcnQiLCJlbmFibGVFcnJvckJvdW5kYXJ5Iiwic2V0SXNJbml0aWFsaXplZCIsInVzZVN0YXRlIiwic2V0SXNNb25pdG9yaW5nIiwic2V0RXJyb3IiLCJ1c2VFZmZlY3QiLCJpbml0aWFsaXplTW9uaXRvcmluZyIsImxvZ2dlciIsImluZm8iLCJMb2dMZXZlbCIsIklORk8iLCJMb2dDYXRlZ29yeSIsIlNZU1RFTSIsInByb2FjdGl2ZU1vbml0b3JpbmciLCJ1cGRhdGVDb25maWciLCJlbmFibGVkIiwiY2hlY2tJbnRlcnZhbCIsImVycm9yVGhyZXNob2xkIiwicmVzcG9uc2VUaW1lVGhyZXNob2xkIiwibWVtb3J5VGhyZXNob2xkIiwiY3B1VGhyZXNob2xkIiwiZW5hYmxlQXV0b1JlY292ZXJ5Iiwibm90aWZpY2F0aW9uQ2hhbm5lbHMiLCJzdGFydE1vbml0b3JpbmciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlR2xvYmFsRXJyb3IiLCJoYW5kbGVVbmhhbmRsZWRSZWplY3Rpb24iLCJoYW5kbGVSZXNvdXJjZUVycm9yIiwiZXJyIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIkVSUk9SIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVwb3J0RXJyb3IiLCJzb3VyY2UiLCJmaWxlbmFtZSIsImxpbmVubyIsImNvbG5vIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwicmVwb3J0aW5nRXJyb3IiLCJvcmlnaW5hbEVycm9yIiwicmVhc29uIiwiU3RyaW5nIiwib3JpZ2luYWxSZWFzb24iLCJ0YXJnZXQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJzcmMiLCJpbmNsdWRlcyIsInJlc291cmNlVHlwZSIsInJlc291cmNlVXJsIiwiY29udGV4dFZhbHVlIiwiY29udGVudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJFcnJvckJvdW5kYXJ5V3JhcHBlciIsInNob3dEZXRhaWxzIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZW5hYmxlUmVwb3J0aW5nIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsIndhcm4iLCJXQVJOIiwic3RhdHMiLCJzZXRTdGF0cyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwicmVmcmVzaFN0YXRzIiwibmV3U3RhdHMiLCJnZXRNb25pdG9yaW5nU3RhdHMiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRpdiIsImNsYXNzTmFtZSIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O1FBaUNnQkE7ZUFBQUE7O1FBK09BQztlQUFBQTs7UUFyRUFDO2VBQUFBOztRQXhMSEM7ZUFBQUE7O1FBd05HQztlQUFBQTs7OzsrREF6T2lFO3FDQUM1Qjt3QkFDUDsrQkFDVDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXJDLE1BQU1DLGtDQUFvQkMsSUFBQUEsb0JBQWEsRUFBd0I7SUFDN0RDLGVBQWU7SUFDZkMsY0FBYztJQUNkQyxPQUFPO0FBQ1Q7QUFFTyxNQUFNTixnQkFBZ0I7SUFDM0IsTUFBTU8sVUFBVUMsSUFBQUEsaUJBQVUsRUFBQ047SUFDM0IsSUFBSSxDQUFDSyxTQUFTO1FBQ1osTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Y7QUFDVDtBQVFPLFNBQVNWLG1CQUFtQixFQUNqQ2EsUUFBUSxFQUNSQyxZQUFZLElBQUksRUFDaEJDLHNCQUFzQixJQUFJLEVBQ0Y7SUFDeEIsTUFBTSxDQUFDUixlQUFlUyxpQkFBaUIsR0FBR0MsSUFBQUEsZUFBUSxFQUFDO0lBQ25ELE1BQU0sQ0FBQ1QsY0FBY1UsZ0JBQWdCLEdBQUdELElBQUFBLGVBQVEsRUFBQztJQUNqRCxNQUFNLENBQUNSLE9BQU9VLFNBQVMsR0FBR0YsSUFBQUEsZUFBUSxFQUFnQjtJQUVsREcsSUFBQUEsZ0JBQVMsRUFBQztRQUNSLE1BQU1DLHVCQUF1QjtZQUMzQixJQUFJO2dCQUNGQyxjQUFNLENBQUNDLElBQUksQ0FBQ0MsZ0JBQVEsQ0FBQ0MsSUFBSSxFQUFFLDRDQUE0QyxDQUFDLEdBQUdDLG1CQUFXLENBQUNDLE1BQU07Z0JBRTdGLHFDQUFxQztnQkFDckNDLHdDQUFtQixDQUFDQyxZQUFZLENBQUM7b0JBQy9CQyxTQUFTO29CQUNUQyxlQUFlO29CQUNmQyxn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