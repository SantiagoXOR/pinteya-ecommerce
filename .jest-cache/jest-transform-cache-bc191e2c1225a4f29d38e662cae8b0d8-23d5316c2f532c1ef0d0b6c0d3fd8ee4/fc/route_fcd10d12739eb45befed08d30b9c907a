7cf0a7622bc722871abd4e339c101bbd
// ===================================
// PINTEYA E-COMMERCE - API DE DISPOSITIVO DE CONFIANZA INDIVIDUAL
// ===================================
"use strict";

/* istanbul ignore next */
function cov_jtyfid73x() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\trusted-devices\\[id]\\route.ts";
  var hash = "a2a3a1096f013e53593736ebb51a73a3333e9092";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\trusted-devices\\[id]\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 7,
          column: 3
        }
      },
      "1": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "2": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 22
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "6": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 21
        }
      },
      "7": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "8": {
        start: {
          line: 26,
          column: 14
        },
        end: {
          line: 26,
          column: 44
        }
      },
      "9": {
        start: {
          line: 27,
          column: 18
        },
        end: {
          line: 27,
          column: 69
        }
      },
      "10": {
        start: {
          line: 28,
          column: 24
        },
        end: {
          line: 28,
          column: 77
        }
      },
      "11": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 93,
          column: 5
        }
      },
      "12": {
        start: {
          line: 31,
          column: 24
        },
        end: {
          line: 31,
          column: 47
        }
      },
      "13": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "14": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 37,
          column: 15
        }
      },
      "15": {
        start: {
          line: 39,
          column: 23
        },
        end: {
          line: 39,
          column: 38
        }
      },
      "16": {
        start: {
          line: 40,
          column: 25
        },
        end: {
          line: 40,
          column: 34
        }
      },
      "17": {
        start: {
          line: 41,
          column: 21
        },
        end: {
          line: 41,
          column: 41
        }
      },
      "18": {
        start: {
          line: 42,
          column: 31
        },
        end: {
          line: 42,
          column: 35
        }
      },
      "19": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 49,
          column: 9
        }
      },
      "20": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 48,
          column: 15
        }
      },
      "21": {
        start: {
          line: 51,
          column: 60
        },
        end: {
          line: 51,
          column: 173
        }
      },
      "22": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 58,
          column: 9
        }
      },
      "23": {
        start: {
          line: 53,
          column: 12
        },
        end: {
          line: 57,
          column: 15
        }
      },
      "24": {
        start: {
          line: 60,
          column: 47
        },
        end: {
          line: 62,
          column: 69
        }
      },
      "25": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 70,
          column: 9
        }
      },
      "26": {
        start: {
          line: 64,
          column: 12
        },
        end: {
          line: 64,
          column: 69
        }
      },
      "27": {
        start: {
          line: 65,
          column: 12
        },
        end: {
          line: 69,
          column: 15
        }
      },
      "28": {
        start: {
          line: 72,
          column: 28
        },
        end: {
          line: 72,
          column: 72
        }
      },
      "29": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 80,
          column: 24
        }
      },
      "30": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 85,
          column: 11
        }
      },
      "31": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 87,
          column: 79
        }
      },
      "32": {
        start: {
          line: 88,
          column: 8
        },
        end: {
          line: 92,
          column: 11
        }
      },
      "33": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 146,
          column: 5
        }
      },
      "34": {
        start: {
          line: 97,
          column: 24
        },
        end: {
          line: 97,
          column: 47
        }
      },
      "35": {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 104,
          column: 9
        }
      },
      "36": {
        start: {
          line: 99,
          column: 12
        },
        end: {
          line: 103,
          column: 15
        }
      },
      "37": {
        start: {
          line: 105,
          column: 23
        },
        end: {
          line: 105,
          column: 38
        }
      },
      "38": {
        start: {
          line: 106,
          column: 25
        },
        end: {
          line: 106,
          column: 34
        }
      },
      "39": {
        start: {
          line: 108,
          column: 60
        },
        end: {
          line: 108,
          column: 173
        }
      },
      "40": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 115,
          column: 9
        }
      },
      "41": {
        start: {
          line: 110,
          column: 12
        },
        end: {
          line: 114,
          column: 15
        }
      },
      "42": {
        start: {
          line: 117,
          column: 39
        },
        end: {
          line: 117,
          column: 140
        }
      },
      "43": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 125,
          column: 9
        }
      },
      "44": {
        start: {
          line: 119,
          column: 12
        },
        end: {
          line: 119,
          column: 73
        }
      },
      "45": {
        start: {
          line: 120,
          column: 12
        },
        end: {
          line: 124,
          column: 15
        }
      },
      "46": {
        start: {
          line: 127,
          column: 28
        },
        end: {
          line: 127,
          column: 72
        }
      },
      "47": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 134,
          column: 24
        }
      },
      "48": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 138,
          column: 11
        }
      },
      "49": {
        start: {
          line: 140,
          column: 8
        },
        end: {
          line: 140,
          column: 80
        }
      },
      "50": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 145,
          column: 11
        }
      },
      "51": {
        start: {
          line: 149,
          column: 4
        },
        end: {
          line: 203,
          column: 5
        }
      },
      "52": {
        start: {
          line: 150,
          column: 24
        },
        end: {
          line: 150,
          column: 47
        }
      },
      "53": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 157,
          column: 9
        }
      },
      "54": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 156,
          column: 15
        }
      },
      "55": {
        start: {
          line: 158,
          column: 23
        },
        end: {
          line: 158,
          column: 38
        }
      },
      "56": {
        start: {
          line: 159,
          column: 25
        },
        end: {
          line: 159,
          column: 34
        }
      },
      "57": {
        start: {
          line: 161,
          column: 40
        },
        end: {
          line: 173,
          column: 58
        }
      },
      "58": {
        start: {
          line: 174,
          column: 8
        },
        end: {
          line: 180,
          column: 9
        }
      },
      "59": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 179,
          column: 15
        }
      },
      "60": {
        start: {
          line: 182,
          column: 41
        },
        end: {
          line: 184,
          column: 20
        }
      },
      "61": {
        start: {
          line: 186,
          column: 22
        },
        end: {
          line: 186,
          column: 64
        }
      },
      "62": {
        start: {
          line: 187,
          column: 8
        },
        end: {
          line: 195,
          column: 11
        }
      },
      "63": {
        start: {
          line: 197,
          column: 8
        },
        end: {
          line: 197,
          column: 77
        }
      },
      "64": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 202,
          column: 11
        }
      },
      "65": {
        start: {
          line: 207,
          column: 4
        },
        end: {
          line: 247,
          column: 5
        }
      },
      "66": {
        start: {
          line: 209,
          column: 38
        },
        end: {
          line: 209,
          column: 221
        }
      },
      "67": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 217,
          column: 9
        }
      },
      "68": {
        start: {
          line: 211,
          column: 12
        },
        end: {
          line: 216,
          column: 14
        }
      },
      "69": {
        start: {
          line: 219,
          column: 30
        },
        end: {
          line: 219,
          column: 48
        }
      },
      "70": {
        start: {
          line: 220,
          column: 26
        },
        end: {
          line: 222,
          column: 37
        }
      },
      "71": {
        start: {
          line: 221,
          column: 12
        },
        end: {
          line: 221,
          column: 101
        }
      },
      "72": {
        start: {
          line: 224,
          column: 32
        },
        end: {
          line: 224,
          column: 33
        }
      },
      "73": {
        start: {
          line: 225,
          column: 8
        },
        end: {
          line: 230,
          column: 11
        }
      },
      "74": {
        start: {
          line: 226,
          column: 26
        },
        end: {
          line: 226,
          column: 54
        }
      },
      "75": {
        start: {
          line: 227,
          column: 24
        },
        end: {
          line: 227,
          column: 55
        }
      },
      "76": {
        start: {
          line: 228,
          column: 36
        },
        end: {
          line: 228,
          column: 96
        }
      },
      "77": {
        start: {
          line: 229,
          column: 12
        },
        end: {
          line: 229,
          column: 64
        }
      },
      "78": {
        start: {
          line: 231,
          column: 32
        },
        end: {
          line: 231,
          column: 66
        }
      },
      "79": {
        start: {
          line: 232,
          column: 39
        },
        end: {
          line: 232,
          column: 84
        }
      },
      "80": {
        start: {
          line: 233,
          column: 8
        },
        end: {
          line: 238,
          column: 10
        }
      },
      "81": {
        start: {
          line: 240,
          column: 8
        },
        end: {
          line: 240,
          column: 80
        }
      },
      "82": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 246,
          column: 10
        }
      },
      "83": {
        start: {
          line: 251,
          column: 21
        },
        end: {
          line: 251,
          column: 23
        }
      },
      "84": {
        start: {
          line: 252,
          column: 16
        },
        end: {
          line: 252,
          column: 26
        }
      },
      "85": {
        start: {
          line: 253,
          column: 25
        },
        end: {
          line: 253,
          column: 55
        }
      },
      "86": {
        start: {
          line: 254,
          column: 22
        },
        end: {
          line: 254,
          column: 49
        }
      },
      "87": {
        start: {
          line: 256,
          column: 22
        },
        end: {
          line: 256,
          column: 95
        }
      },
      "88": {
        start: {
          line: 257,
          column: 4
        },
        end: {
          line: 259,
          column: 45
        }
      },
      "89": {
        start: {
          line: 257,
          column: 24
        },
        end: {
          line: 257,
          column: 41
        }
      },
      "90": {
        start: {
          line: 258,
          column: 9
        },
        end: {
          line: 259,
          column: 45
        }
      },
      "91": {
        start: {
          line: 258,
          column: 28
        },
        end: {
          line: 258,
          column: 45
        }
      },
      "92": {
        start: {
          line: 259,
          column: 9
        },
        end: {
          line: 259,
          column: 45
        }
      },
      "93": {
        start: {
          line: 259,
          column: 28
        },
        end: {
          line: 259,
          column: 45
        }
      },
      "94": {
        start: {
          line: 261,
          column: 26
        },
        end: {
          line: 261,
          column: 97
        }
      },
      "95": {
        start: {
          line: 262,
          column: 4
        },
        end: {
          line: 265,
          column: 50
        }
      },
      "96": {
        start: {
          line: 262,
          column: 27
        },
        end: {
          line: 262,
          column: 44
        }
      },
      "97": {
        start: {
          line: 263,
          column: 9
        },
        end: {
          line: 265,
          column: 50
        }
      },
      "98": {
        start: {
          line: 263,
          column: 33
        },
        end: {
          line: 263,
          column: 50
        }
      },
      "99": {
        start: {
          line: 264,
          column: 9
        },
        end: {
          line: 265,
          column: 50
        }
      },
      "100": {
        start: {
          line: 264,
          column: 34
        },
        end: {
          line: 264,
          column: 51
        }
      },
      "101": {
        start: {
          line: 265,
          column: 9
        },
        end: {
          line: 265,
          column: 50
        }
      },
      "102": {
        start: {
          line: 265,
          column: 34
        },
        end: {
          line: 265,
          column: 50
        }
      },
      "103": {
        start: {
          line: 267,
          column: 4
        },
        end: {
          line: 268,
          column: 62
        }
      },
      "104": {
        start: {
          line: 267,
          column: 42
        },
        end: {
          line: 267,
          column: 58
        }
      },
      "105": {
        start: {
          line: 268,
          column: 9
        },
        end: {
          line: 268,
          column: 62
        }
      },
      "106": {
        start: {
          line: 268,
          column: 46
        },
        end: {
          line: 268,
          column: 62
        }
      },
      "107": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 270,
          column: 41
        }
      },
      "108": {
        start: {
          line: 270,
          column: 25
        },
        end: {
          line: 270,
          column: 41
        }
      },
      "109": {
        start: {
          line: 271,
          column: 4
        },
        end: {
          line: 271,
          column: 50
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 16
          }
        },
        loc: {
          start: {
            line: 8,
            column: 30
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 18
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 15
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 17
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "4": {
        name: "PATCH",
        decl: {
          start: {
            line: 29,
            column: 15
          },
          end: {
            line: 29,
            column: 20
          }
        },
        loc: {
          start: {
            line: 29,
            column: 42
          },
          end: {
            line: 94,
            column: 1
          }
        },
        line: 29
      },
      "5": {
        name: "DELETE",
        decl: {
          start: {
            line: 95,
            column: 15
          },
          end: {
            line: 95,
            column: 21
          }
        },
        loc: {
          start: {
            line: 95,
            column: 43
          },
          end: {
            line: 147,
            column: 1
          }
        },
        line: 95
      },
      "6": {
        name: "GET",
        decl: {
          start: {
            line: 148,
            column: 15
          },
          end: {
            line: 148,
            column: 18
          }
        },
        loc: {
          start: {
            line: 148,
            column: 40
          },
          end: {
            line: 204,
            column: 1
          }
        },
        line: 148
      },
      "7": {
        name: "calculateDeviceStats",
        decl: {
          start: {
            line: 206,
            column: 15
          },
          end: {
            line: 206,
            column: 35
          }
        },
        loc: {
          start: {
            line: 206,
            column: 52
          },
          end: {
            line: 248,
            column: 1
          }
        },
        line: 206
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 220,
            column: 45
          },
          end: {
            line: 220,
            column: 46
          }
        },
        loc: {
          start: {
            line: 220,
            column: 66
          },
          end: {
            line: 222,
            column: 9
          }
        },
        line: 220
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 225,
            column: 28
          },
          end: {
            line: 225,
            column: 29
          }
        },
        loc: {
          start: {
            line: 225,
            column: 39
          },
          end: {
            line: 230,
            column: 9
          }
        },
        line: 225
      },
      "10": {
        name: "calculateTrustLevel",
        decl: {
          start: {
            line: 250,
            column: 9
          },
          end: {
            line: 250,
            column: 28
          }
        },
        loc: {
          start: {
            line: 250,
            column: 37
          },
          end: {
            line: 272,
            column: 1
          }
        },
        line: 250
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "1": {
        loc: {
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "2": {
        loc: {
          start: {
            line: 52,
            column: 8
          },
          end: {
            line: 58,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 8
          },
          end: {
            line: 58,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "3": {
        loc: {
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 52,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 52,
            column: 12
          },
          end: {
            line: 52,
            column: 22
          }
        }, {
          start: {
            line: 52,
            column: 26
          },
          end: {
            line: 52,
            column: 41
          }
        }],
        line: 52
      },
      "4": {
        loc: {
          start: {
            line: 63,
            column: 8
          },
          end: {
            line: 70,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 63,
            column: 8
          },
          end: {
            line: 70,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 63
      },
      "5": {
        loc: {
          start: {
            line: 73,
            column: 63
          },
          end: {
            line: 73,
            column: 109
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 73,
            column: 76
          },
          end: {
            line: 73,
            column: 90
          }
        }, {
          start: {
            line: 73,
            column: 93
          },
          end: {
            line: 73,
            column: 109
          }
        }],
        line: 73
      },
      "6": {
        loc: {
          start: {
            line: 84,
            column: 21
          },
          end: {
            line: 84,
            column: 109
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 84,
            column: 34
          },
          end: {
            line: 84,
            column: 70
          }
        }, {
          start: {
            line: 84,
            column: 73
          },
          end: {
            line: 84,
            column: 109
          }
        }],
        line: 84
      },
      "7": {
        loc: {
          start: {
            line: 98,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 98,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 98
      },
      "8": {
        loc: {
          start: {
            line: 109,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 109,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 109
      },
      "9": {
        loc: {
          start: {
            line: 109,
            column: 12
          },
          end: {
            line: 109,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 109,
            column: 12
          },
          end: {
            line: 109,
            column: 22
          }
        }, {
          start: {
            line: 109,
            column: 26
          },
          end: {
            line: 109,
            column: 41
          }
        }],
        line: 109
      },
      "10": {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "11": {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "12": {
        loc: {
          start: {
            line: 174,
            column: 8
          },
          end: {
            line: 180,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 174,
            column: 8
          },
          end: {
            line: 180,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 174
      },
      "13": {
        loc: {
          start: {
            line: 174,
            column: 12
          },
          end: {
            line: 174,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 174,
            column: 12
          },
          end: {
            line: 174,
            column: 17
          }
        }, {
          start: {
            line: 174,
            column: 21
          },
          end: {
            line: 174,
            column: 28
          }
        }],
        line: 174
      },
      "14": {
        loc: {
          start: {
            line: 193,
            column: 33
          },
          end: {
            line: 193,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 193,
            column: 33
          },
          end: {
            line: 193,
            column: 47
          }
        }, {
          start: {
            line: 193,
            column: 51
          },
          end: {
            line: 193,
            column: 53
          }
        }],
        line: 193
      },
      "15": {
        loc: {
          start: {
            line: 210,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 210,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 210
      },
      "16": {
        loc: {
          start: {
            line: 210,
            column: 12
          },
          end: {
            line: 210,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 210,
            column: 12
          },
          end: {
            line: 210,
            column: 24
          }
        }, {
          start: {
            line: 210,
            column: 28
          },
          end: {
            line: 210,
            column: 52
          }
        }],
        line: 210
      },
      "17": {
        loc: {
          start: {
            line: 221,
            column: 19
          },
          end: {
            line: 221,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 221,
            column: 71
          },
          end: {
            line: 221,
            column: 89
          }
        }, {
          start: {
            line: 221,
            column: 92
          },
          end: {
            line: 221,
            column: 100
          }
        }],
        line: 221
      },
      "18": {
        loc: {
          start: {
            line: 257,
            column: 4
          },
          end: {
            line: 259,
            column: 45
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 257,
            column: 4
          },
          end: {
            line: 259,
            column: 45
          }
        }, {
          start: {
            line: 258,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        }],
        line: 257
      },
      "19": {
        loc: {
          start: {
            line: 258,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 258,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        }, {
          start: {
            line: 259,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        }],
        line: 258
      },
      "20": {
        loc: {
          start: {
            line: 259,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 259,
            column: 9
          },
          end: {
            line: 259,
            column: 45
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 259
      },
      "21": {
        loc: {
          start: {
            line: 262,
            column: 4
          },
          end: {
            line: 265,
            column: 50
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 262,
            column: 4
          },
          end: {
            line: 265,
            column: 50
          }
        }, {
          start: {
            line: 263,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }],
        line: 262
      },
      "22": {
        loc: {
          start: {
            line: 263,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 263,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }, {
          start: {
            line: 264,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }],
        line: 263
      },
      "23": {
        loc: {
          start: {
            line: 264,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 264,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }, {
          start: {
            line: 265,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }],
        line: 264
      },
      "24": {
        loc: {
          start: {
            line: 265,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 265,
            column: 9
          },
          end: {
            line: 265,
            column: 50
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 265
      },
      "25": {
        loc: {
          start: {
            line: 267,
            column: 4
          },
          end: {
            line: 268,
            column: 62
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 267,
            column: 4
          },
          end: {
            line: 268,
            column: 62
          }
        }, {
          start: {
            line: 268,
            column: 9
          },
          end: {
            line: 268,
            column: 62
          }
        }],
        line: 267
      },
      "26": {
        loc: {
          start: {
            line: 268,
            column: 9
          },
          end: {
            line: 268,
            column: 62
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 268,
            column: 9
          },
          end: {
            line: 268,
            column: 62
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 268
      },
      "27": {
        loc: {
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 270,
            column: 41
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 270,
            column: 41
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 270
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\user\\trusted-devices\\[id]\\route.ts"],
      sourcesContent: ["// ===================================\r\n// PINTEYA E-COMMERCE - API DE DISPOSITIVO DE CONFIANZA INDIVIDUAL\r\n// ===================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { auth } from '@/auth';\r\nimport { supabaseAdmin } from '@/lib/integrations/supabase';\r\nimport { logSecurityActivity, getRequestInfo } from '@/lib/activity/activityLogger';\r\n\r\n// PATCH - Actualizar estado de confianza de un dispositivo\r\nexport async function PATCH(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  try {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const userId = session.user.id;\r\n    const deviceId = params.id;\r\n    const body = await request.json();\r\n    const { is_trusted } = body;\r\n\r\n    if (typeof is_trusted !== 'boolean') {\r\n      return NextResponse.json(\r\n        { error: 'Estado de confianza requerido' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Verificar que el dispositivo pertenece al usuario\r\n    const { data: existingDevice, error: fetchError } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .select('*')\r\n      .eq('id', deviceId)\r\n      .eq('user_id', userId)\r\n      .single();\r\n\r\n    if (fetchError || !existingDevice) {\r\n      return NextResponse.json(\r\n        { error: 'Dispositivo no encontrado' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Actualizar estado de confianza\r\n    const { data: updatedDevice, error } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .update({ is_trusted })\r\n      .eq('id', deviceId)\r\n      .eq('user_id', userId)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) {\r\n      console.error('Error al actualizar dispositivo:', error);\r\n      return NextResponse.json(\r\n        { error: 'Error al actualizar dispositivo' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    // Registrar actividad de seguridad\r\n    const requestInfo = getRequestInfo(request);\r\n    await logSecurityActivity(\r\n      userId,\r\n      is_trusted ? 'trust_device' : 'untrust_device',\r\n      {\r\n        device_id: deviceId,\r\n        device_name: updatedDevice.device_name,\r\n        device_type: updatedDevice.device_type,\r\n        ip_address: updatedDevice.ip_address,\r\n        previous_trust_status: existingDevice.is_trusted,\r\n        new_trust_status: is_trusted,\r\n      },\r\n      requestInfo\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      device: updatedDevice,\r\n      message: is_trusted \r\n        ? 'Dispositivo marcado como confiable' \r\n        : 'Confianza removida del dispositivo',\r\n    });\r\n  } catch (error) {\r\n    console.error('Error en PATCH /api/user/trusted-devices/[id]:', error);\r\n    return NextResponse.json(\r\n      { error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// DELETE - Eliminar dispositivo de confianza y cerrar sesiones\r\nexport async function DELETE(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  try {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const userId = session.user.id;\r\n    const deviceId = params.id;\r\n\r\n    // Verificar que el dispositivo pertenece al usuario\r\n    const { data: existingDevice, error: fetchError } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .select('*')\r\n      .eq('id', deviceId)\r\n      .eq('user_id', userId)\r\n      .single();\r\n\r\n    if (fetchError || !existingDevice) {\r\n      return NextResponse.json(\r\n        { error: 'Dispositivo no encontrado' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Eliminar todas las sesiones de este dispositivo\r\n    const { error: deleteError } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .delete()\r\n      .eq('id', deviceId)\r\n      .eq('user_id', userId);\r\n\r\n    if (deleteError) {\r\n      console.error('Error al eliminar dispositivo:', deleteError);\r\n      return NextResponse.json(\r\n        { error: 'Error al eliminar dispositivo' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    // Registrar actividad de seguridad\r\n    const requestInfo = getRequestInfo(request);\r\n    await logSecurityActivity(\r\n      userId,\r\n      'remove_trusted_device',\r\n      {\r\n        device_id: deviceId,\r\n        device_name: existingDevice.device_name,\r\n        device_type: existingDevice.device_type,\r\n        ip_address: existingDevice.ip_address,\r\n        was_trusted: existingDevice.is_trusted,\r\n      },\r\n      requestInfo\r\n    );\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Dispositivo eliminado correctamente',\r\n    });\r\n  } catch (error) {\r\n    console.error('Error en DELETE /api/user/trusted-devices/[id]:', error);\r\n    return NextResponse.json(\r\n      { error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// GET - Obtener informaci\xF3n detallada de un dispositivo\r\nexport async function GET(\r\n  request: NextRequest,\r\n  { params }: { params: { id: string } }\r\n) {\r\n  try {\r\n    const session = await auth();\r\n    if (!session?.user?.id) {\r\n      return NextResponse.json(\r\n        { error: 'No autorizado' },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    const userId = session.user.id;\r\n    const deviceId = params.id;\r\n\r\n    // Obtener informaci\xF3n del dispositivo\r\n    const { data: device, error } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .select(`\r\n        id,\r\n        device_type,\r\n        device_name,\r\n        browser,\r\n        os,\r\n        ip_address,\r\n        location,\r\n        user_agent,\r\n        is_trusted,\r\n        last_activity,\r\n        created_at\r\n      `)\r\n      .eq('id', deviceId)\r\n      .eq('user_id', userId)\r\n      .single();\r\n\r\n    if (error || !device) {\r\n      return NextResponse.json(\r\n        { error: 'Dispositivo no encontrado' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    // Obtener historial de actividad reciente para este dispositivo\r\n    const { data: recentActivity } = await supabaseAdmin\r\n      .from('user_activity')\r\n      .select('action, description, created_at')\r\n      .eq('user_id', userId)\r\n      .eq('metadata->>session_id', deviceId)\r\n      .order('created_at', { ascending: false })\r\n      .limit(10);\r\n\r\n    // Calcular estad\xEDsticas del dispositivo\r\n    const stats = await calculateDeviceStats(userId, device);\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      device: {\r\n        ...device,\r\n        trust_level: calculateTrustLevel(device),\r\n        stats,\r\n        recent_activity: recentActivity || [],\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error('Error en GET /api/user/trusted-devices/[id]:', error);\r\n    return NextResponse.json(\r\n      { error: 'Error interno del servidor' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// Funci\xF3n para calcular estad\xEDsticas del dispositivo\r\nasync function calculateDeviceStats(userId: string, device: any) {\r\n  try {\r\n    // Obtener todas las sesiones de este dispositivo\r\n    const { data: allSessions } = await supabaseAdmin\r\n      .from('user_sessions')\r\n      .select('created_at, last_activity')\r\n      .eq('user_id', userId)\r\n      .eq('device_name', device.device_name)\r\n      .eq('ip_address', device.ip_address);\r\n\r\n    if (!allSessions || allSessions.length === 0) {\r\n      return {\r\n        total_sessions: 0,\r\n        first_seen: device.created_at,\r\n        total_usage_hours: 0,\r\n        average_session_duration: 0,\r\n      };\r\n    }\r\n\r\n    // Calcular estad\xEDsticas\r\n    const totalSessions = allSessions.length;\r\n    const firstSeen = allSessions.reduce((earliest, session) => {\r\n      return new Date(session.created_at) < new Date(earliest) ? session.created_at : earliest;\r\n    }, allSessions[0].created_at);\r\n\r\n    // Calcular duraci\xF3n total de uso (aproximada)\r\n    let totalUsageMinutes = 0;\r\n    allSessions.forEach(session => {\r\n      const start = new Date(session.created_at);\r\n      const end = new Date(session.last_activity);\r\n      const durationMinutes = Math.max(0, (end.getTime() - start.getTime()) / (1000 * 60));\r\n      totalUsageMinutes += Math.min(durationMinutes, 480); // M\xE1ximo 8 horas por sesi\xF3n\r\n    });\r\n\r\n    const totalUsageHours = Math.round(totalUsageMinutes / 60);\r\n    const averageSessionDuration = Math.round(totalUsageMinutes / totalSessions);\r\n\r\n    return {\r\n      total_sessions: totalSessions,\r\n      first_seen: firstSeen,\r\n      total_usage_hours: totalUsageHours,\r\n      average_session_duration: averageSessionDuration,\r\n    };\r\n  } catch (error) {\r\n    console.error('Error al calcular estad\xEDsticas del dispositivo:', error);\r\n    return {\r\n      total_sessions: 0,\r\n      first_seen: device.created_at,\r\n      total_usage_hours: 0,\r\n      average_session_duration: 0,\r\n    };\r\n  }\r\n}\r\n\r\n// Funci\xF3n para calcular nivel de confianza (reutilizada)\r\nfunction calculateTrustLevel(device: any): number {\r\n  let trustLevel = 50; // Base\r\n\r\n  const now = new Date();\r\n  const lastActivity = new Date(device.last_activity);\r\n  const createdAt = new Date(device.created_at);\r\n  \r\n  // Antig\xFCedad del dispositivo (m\xE1ximo +30 puntos)\r\n  const ageInDays = Math.floor((now.getTime() - createdAt.getTime()) / (1000 * 60 * 60 * 24));\r\n  if (ageInDays > 30) trustLevel += 30;\r\n  else if (ageInDays > 7) trustLevel += 20;\r\n  else if (ageInDays > 1) trustLevel += 10;\r\n\r\n  // Actividad reciente (m\xE1ximo +20 puntos)\r\n  const inactiveHours = Math.floor((now.getTime() - lastActivity.getTime()) / (1000 * 60 * 60));\r\n  if (inactiveHours < 1) trustLevel += 20;\r\n  else if (inactiveHours < 24) trustLevel += 15;\r\n  else if (inactiveHours < 168) trustLevel += 10;\r\n  else if (inactiveHours < 720) trustLevel += 5;\r\n\r\n  // Tipo de dispositivo\r\n  if (device.device_type === 'desktop') trustLevel += 5;\r\n  else if (device.device_type === 'mobile') trustLevel += 3;\r\n\r\n  // Ubicaci\xF3n conocida\r\n  if (device.location) trustLevel += 5;\r\n\r\n  return Math.min(100, Math.max(0, trustLevel));\r\n}\r\n"],
      names: ["DELETE", "GET", "PATCH", "request", "params", "session", "auth", "user", "id", "NextResponse", "json", "error", "status", "userId", "deviceId", "body", "is_trusted", "data", "existingDevice", "fetchError", "supabaseAdmin", "from", "select", "eq", "single", "updatedDevice", "update", "console", "requestInfo", "getRequestInfo", "logSecurityActivity", "device_id", "device_name", "device_type", "ip_address", "previous_trust_status", "new_trust_status", "success", "device", "message", "deleteError", "delete", "was_trusted", "recentActivity", "order", "ascending", "limit", "stats", "calculateDeviceStats", "trust_level", "calculateTrustLevel", "recent_activity", "allSessions", "length", "total_sessions", "first_seen", "created_at", "total_usage_hours", "average_session_duration", "totalSessions", "firstSeen", "reduce", "earliest", "Date", "totalUsageMinutes", "forEach", "start", "end", "last_activity", "durationMinutes", "Math", "max", "getTime", "min", "totalUsageHours", "round", "averageSessionDuration", "trustLevel", "now", "lastActivity", "createdAt", "ageInDays", "floor", "inactiveHours", "location"],
      mappings: "AAAA,sCAAsC;AACtC,kEAAkE;AAClE,sCAAsC;;;;;;;;;;;;QAkGhBA;eAAAA;;QA2EAC;eAAAA;;QArKAC;eAAAA;;;wBANoB;sBACrB;0BACS;gCACsB;AAG7C,eAAeA,MACpBC,OAAoB,EACpB,EAAEC,MAAM,EAA8B;IAEtC,IAAI;QACF,MAAMC,UAAU,MAAMC,IAAAA,UAAI;QAC1B,IAAI,CAACD,SAASE,MAAMC,IAAI;YACtB,OAAOC,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgB,GACzB;gBAAEC,QAAQ;YAAI;QAElB;QAEA,MAAMC,SAASR,QAAQE,IAAI,CAACC,EAAE;QAC9B,MAAMM,WAAWV,OAAOI,EAAE;QAC1B,MAAMO,OAAO,MAAMZ,QAAQO,IAAI;QAC/B,MAAM,EAAEM,UAAU,EAAE,GAAGD;QAEvB,IAAI,OAAOC,eAAe,WAAW;YACnC,OAAOP,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgC,GACzC;gBAAEC,QAAQ;YAAI;QAElB;QAEA,oDAAoD;QACpD,MAAM,EAAEK,MAAMC,cAAc,EAAEP,OAAOQ,UAAU,EAAE,GAAG,MAAMC,uBAAa,CACpEC,IAAI,CAAC,iBACLC,MAAM,CAAC,KACPC,EAAE,CAAC,MAAMT,UACTS,EAAE,CAAC,WAAWV,QACdW,MAAM;QAET,IAAIL,cAAc,CAACD,gBAAgB;YACjC,OAAOT,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAA4B,GACrC;gBAAEC,QAAQ;YAAI;QAElB;QAEA,iCAAiC;QACjC,MAAM,EAAEK,MAAMQ,aAAa,EAAEd,KAAK,EAAE,GAAG,MAAMS,uBAAa,CACvDC,IAAI,CAAC,iBACLK,MAAM,CAAC;YAAEV;QAAW,GACpBO,EAAE,CAAC,MAAMT,UACTS,EAAE,CAAC,WAAWV,QACdS,MAAM,GACNE,MAAM;QAET,IAAIb,OAAO;YACTgB,QAAQhB,KAAK,CAAC,oCAAoCA;YAClD,OAAOF,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAkC,GAC3C;gBAAEC,QAAQ;YAAI;QAElB;QAEA,mCAAmC;QACnC,MAAMgB,cAAcC,IAAAA,8BAAc,EAAC1B;QACnC,MAAM2B,IAAAA,mCAAmB,EACvBjB,QACAG,aAAa,iBAAiB,kBAC9B;YACEe,WAAWjB;YACXkB,aAAaP,cAAcO,WAAW;YACtCC,aAAaR,cAAcQ,WAAW;YACtCC,YAAYT,cAAcS,UAAU;YACpCC,uBAAuBjB,eAAeF,UAAU;YAChDoB,kBAAkBpB;QACpB,GACAY;QAGF,OAAOnB,oBAAY,CAACC,IAAI,CAAC;YACvB2B,SAAS;YACTC,QAAQb;YACRc,SAASvB,aACL,uCACA;QACN;IACF,EAAE,OAAOL,OAAO;QACdgB,QAAQhB,KAAK,CAAC,kDAAkDA;QAChE,OAAOF,oBAAY,CAACC,IAAI,CACtB;YAAEC,OAAO;QAA6B,GACtC;YAAEC,QAAQ;QAAI;IAElB;AACF;AAGO,eAAeZ,OACpBG,OAAoB,EACpB,EAAEC,MAAM,EAA8B;IAEtC,IAAI;QACF,MAAMC,UAAU,MAAMC,IAAAA,UAAI;QAC1B,IAAI,CAACD,SAASE,MAAMC,IAAI;YACtB,OAAOC,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgB,GACzB;gBAAEC,QAAQ;YAAI;QAElB;QAEA,MAAMC,SAASR,QAAQE,IAAI,CAACC,EAAE;QAC9B,MAAMM,WAAWV,OAAOI,EAAE;QAE1B,oDAAoD;QACpD,MAAM,EAAES,MAAMC,cAAc,EAAEP,OAAOQ,UAAU,EAAE,GAAG,MAAMC,uBAAa,CACpEC,IAAI,CAAC,iBACLC,MAAM,CAAC,KACPC,EAAE,CAAC,MAAMT,UACTS,EAAE,CAAC,WAAWV,QACdW,MAAM;QAET,IAAIL,cAAc,CAACD,gBAAgB;YACjC,OAAOT,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAA4B,GACrC;gBAAEC,QAAQ;YAAI;QAElB;QAEA,kDAAkD;QAClD,MAAM,EAAED,OAAO6B,WAAW,EAAE,GAAG,MAAMpB,uBAAa,CAC/CC,IAAI,CAAC,iBACLoB,MAAM,GACNlB,EAAE,CAAC,MAAMT,UACTS,EAAE,CAAC,WAAWV;QAEjB,IAAI2B,aAAa;YACfb,QAAQhB,KAAK,CAAC,kCAAkC6B;YAChD,OAAO/B,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgC,GACzC;gBAAEC,QAAQ;YAAI;QAElB;QAEA,mCAAmC;QACnC,MAAMgB,cAAcC,IAAAA,8BAAc,EAAC1B;QACnC,MAAM2B,IAAAA,mCAAmB,EACvBjB,QACA,yBACA;YACEkB,WAAWjB;YACXkB,aAAad,eAAec,WAAW;YACvCC,aAAaf,eAAee,WAAW;YACvCC,YAAYhB,eAAegB,UAAU;YACrCQ,aAAaxB,eAAeF,UAAU;QACxC,GACAY;QAGF,OAAOnB,oBAAY,CAACC,IAAI,CAAC;YACvB2B,SAAS;YACTE,SAAS;QACX;IACF,EAAE,OAAO5B,OAAO;QACdgB,QAAQhB,KAAK,CAAC,mDAAmDA;QACjE,OAAOF,oBAAY,CAACC,IAAI,CACtB;YAAEC,OAAO;QAA6B,GACtC;YAAEC,QAAQ;QAAI;IAElB;AACF;AAGO,eAAeX,IACpBE,OAAoB,EACpB,EAAEC,MAAM,EAA8B;IAEtC,IAAI;QACF,MAAMC,UAAU,MAAMC,IAAAA,UAAI;QAC1B,IAAI,CAACD,SAASE,MAAMC,IAAI;YACtB,OAAOC,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAAgB,GACzB;gBAAEC,QAAQ;YAAI;QAElB;QAEA,MAAMC,SAASR,QAAQE,IAAI,CAACC,EAAE;QAC9B,MAAMM,WAAWV,OAAOI,EAAE;QAE1B,sCAAsC;QACtC,MAAM,EAAES,MAAMqB,MAAM,EAAE3B,KAAK,EAAE,GAAG,MAAMS,uBAAa,CAChDC,IAAI,CAAC,iBACLC,MAAM,CAAC,CAAC;;;;;;;;;;;;MAYT,CAAC,EACAC,EAAE,CAAC,MAAMT,UACTS,EAAE,CAAC,WAAWV,QACdW,MAAM;QAET,IAAIb,SAAS,CAAC2B,QAAQ;YACpB,OAAO7B,oBAAY,CAACC,IAAI,CACtB;gBAAEC,OAAO;YAA4B,GACrC;gBAAEC,QAAQ;YAAI;QAElB;QAEA,gEAAgE;QAChE,MAAM,EAAEK,MAAM0B,cAAc,EAAE,GAAG,MAAMvB,uBAAa,CACjDC,IAAI,CAAC,iBACLC,MAAM,CAAC,mCACPC,EAAE,CAAC,WAAWV,QACdU,EAAE,CAAC,yBAAyBT,UAC5B8B,KAAK,CAAC,cAAc;YAAEC,WAAW;QAAM,GACvCC,KAAK,CAAC;QAET,wCAAwC;QACxC,MAAMC,QAAQ,MAAMC,qBAAqBnC,QAAQyB;QAEjD,OAAO7B,oBAAY,CAACC,IAAI,CAAC;YACvB2B,SAAS;YACTC,QAAQ;gBACN,GAAGA,MAAM;gBACTW,aAAaC,oBAAoBZ;gBACjCS;gBACAI,iBAAiBR,kBAAkB,EAAE;YACvC;QACF;IACF,EAAE,OAAOhC,OAAO;QACdgB,QAAQhB,KAAK,CAAC,gDAAgDA;QAC9D,OAAOF,oBAAY,CAACC,IAAI,CACtB;YAAEC,OAAO;QAA6B,GACtC;YAAEC,QAAQ;QAAI;IAElB;AACF;AAEA,qDAAqD;AACrD,eAAeoC,qBAAqBnC,MAAc,EAAEyB,MAAW;IAC7D,IAAI;QACF,iDAAiD;QACjD,MAAM,EAAErB,MAAMmC,WAAW,EAAE,GAAG,MAAMhC,uBAAa,CAC9CC,IAAI,CAAC,iBACLC,MAAM,CAAC,6BACPC,EAAE,CAAC,WAAWV,QACdU,EAAE,CAAC,eAAee,OAAON,WAAW,EACpCT,EAAE,CAAC,cAAce,OAAOJ,UAAU;QAErC,IAAI,CAACkB,eAAeA,YAAYC,MAAM,KAAK,GAAG;YAC5C,OAAO;gBACLC,gBAAgB;gBAChBC,YAAYjB,OAAOkB,UAAU;gBAC7BC,mBAAmB;gBACnBC,0BAA0B;YAC5B;QACF;QAEA,wBAAwB;QACxB,MAAMC,gBAAgBP,YAAYC,MAAM;QACxC,MAAMO,YAAYR,YAAYS,MAAM,CAAC,CAACC,UAAUzD;YAC9C,OAAO,IAAI0D,KAAK1D,QAAQmD,UAAU,IAAI,IAAIO,KAAKD,YAAYzD,QAAQmD,UAAU,GAAGM;QAClF,GAAGV,WAAW,CAAC,EAAE,CAACI,UAAU;QAE5B,8CAA8C;QAC9C,IAAIQ,oBAAoB;QACxBZ,YAAYa,OAAO,CAAC5D,CAAAA;YAClB,MAAM6D,QAAQ,IAAIH,KAAK1D,QAAQmD,UAAU;YACzC,MAAMW,MAAM,IAAIJ,KAAK1D,QAAQ+D,aAAa;YAC1C,MAAMC,kBAAkBC,KAAKC,GAAG,CAAC,GAAG,AAACJ,CAAAA,IAAIK,OAAO,KAAKN,MAAMM,OAAO,EAAC,IAAM,CAAA,OAAO,EAAC;YACjFR,qBAAqBM,KAAKG,GAAG,CAACJ,iBAAiB,MAAM,4BAA4B;QACnF;QAEA,MAAMK,kBAAkBJ,KAAKK,KAAK,CAACX,oBAAoB;QACvD,MAAMY,yBAAyBN,KAAKK,KAAK,CAACX,oBAAoBL;QAE9D,OAAO;YACLL,gBAAgBK;YAChBJ,YAAYK;YACZH,mBAAmBiB;YACnBhB,0BAA0BkB;QAC5B;IACF,EAAE,OAAOjE,OAAO;QACdgB,QAAQhB,KAAK,CAAC,mDAAmDA;QACjE,OAAO;YACL2C,gBAAgB;YAChBC,YAAYjB,OAAOkB,UAAU;YAC7BC,mBAAmB;YACnBC,0BAA0B;QAC5B;IACF;AACF;AAEA,yDAAyD;AACzD,SAASR,oBAAoBZ,MAAW;IACtC,IAAIuC,aAAa,IAAI,OAAO;IAE5B,MAAMC,MAAM,IAAIf;IAChB,MAAMgB,eAAe,IAAIhB,KAAKzB,OAAO8B,aAAa;IAClD,MAAMY,YAAY,IAAIjB,KAAKzB,OAAOkB,UAAU;IAE5C,iDAAiD;IACjD,MAAMyB,YAAYX,KAAKY,KAAK,CAAC,AAACJ,CAAAA,IAAIN,OAAO,KAAKQ,UAAUR,OAAO,EAAC,IAAM,CAAA,OAAO,KAAK,KAAK,EAAC;IACxF,IAAIS,YAAY,IAAIJ,cAAc;SAC7B,IAAII,YAAY,GAAGJ,cAAc;SACjC,IAAII,YAAY,GAAGJ,cAAc;IAEtC,yCAAyC;IACzC,MAAMM,gBAAgBb,KAAKY,KAAK,CAAC,AAACJ,CAAAA,IAAIN,OAAO,KAAKO,aAAaP,OAAO,EAAC,IAAM,CAAA,OAAO,KAAK,EAAC;IAC1F,IAAIW,gBAAgB,GAAGN,cAAc;SAChC,IAAIM,gBAAgB,IAAIN,cAAc;SACtC,IAAIM,gBAAgB,KAAKN,cAAc;SACvC,IAAIM,gBAAgB,KAAKN,cAAc;IAE5C,sBAAsB;IACtB,IAAIvC,OAAOL,WAAW,KAAK,WAAW4C,cAAc;SAC/C,IAAIvC,OAAOL,WAAW,KAAK,UAAU4C,cAAc;IAExD,qBAAqB;IACrB,IAAIvC,OAAO8C,QAAQ,EAAEP,cAAc;IAEnC,OAAOP,KAAKG,GAAG,CAAC,KAAKH,KAAKC,GAAG,CAAC,GAAGM;AACnC"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a2a3a1096f013e53593736ebb51a73a3333e9092"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_jtyfid73x = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_jtyfid73x();
cov_jtyfid73x().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[0]++;
  cov_jtyfid73x().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_jtyfid73x().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_jtyfid73x().s[3]++;
_export(exports, {
  get DELETE() {
    /* istanbul ignore next */
    cov_jtyfid73x().f[1]++;
    cov_jtyfid73x().s[4]++;
    return DELETE;
  },
  get GET() {
    /* istanbul ignore next */
    cov_jtyfid73x().f[2]++;
    cov_jtyfid73x().s[5]++;
    return GET;
  },
  get PATCH() {
    /* istanbul ignore next */
    cov_jtyfid73x().f[3]++;
    cov_jtyfid73x().s[6]++;
    return PATCH;
  }
});
const _server =
/* istanbul ignore next */
(cov_jtyfid73x().s[7]++, require("next/server"));
const _auth =
/* istanbul ignore next */
(cov_jtyfid73x().s[8]++, require("../../../../../auth"));
const _supabase =
/* istanbul ignore next */
(cov_jtyfid73x().s[9]++, require("../../../../../lib/integrations/supabase"));
const _activityLogger =
/* istanbul ignore next */
(cov_jtyfid73x().s[10]++, require("../../../../../lib/activity/activityLogger"));
async function PATCH(request, {
  params
}) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[4]++;
  cov_jtyfid73x().s[11]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[12]++, await (0, _auth.auth)());
    /* istanbul ignore next */
    cov_jtyfid73x().s[13]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[0][0]++;
      cov_jtyfid73x().s[14]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[0][1]++;
    }
    const userId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[15]++, session.user.id);
    const deviceId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[16]++, params.id);
    const body =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[17]++, await request.json());
    const {
      is_trusted
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[18]++, body);
    /* istanbul ignore next */
    cov_jtyfid73x().s[19]++;
    if (typeof is_trusted !== 'boolean') {
      /* istanbul ignore next */
      cov_jtyfid73x().b[1][0]++;
      cov_jtyfid73x().s[20]++;
      return _server.NextResponse.json({
        error: 'Estado de confianza requerido'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[1][1]++;
    }
    // Verificar que el dispositivo pertenece al usuario
    const {
      data: existingDevice,
      error: fetchError
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[21]++, await _supabase.supabaseAdmin.from('user_sessions').select('*').eq('id', deviceId).eq('user_id', userId).single());
    /* istanbul ignore next */
    cov_jtyfid73x().s[22]++;
    if (
    /* istanbul ignore next */
    (cov_jtyfid73x().b[3][0]++, fetchError) ||
    /* istanbul ignore next */
    (cov_jtyfid73x().b[3][1]++, !existingDevice)) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[2][0]++;
      cov_jtyfid73x().s[23]++;
      return _server.NextResponse.json({
        error: 'Dispositivo no encontrado'
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[2][1]++;
    }
    // Actualizar estado de confianza
    const {
      data: updatedDevice,
      error
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[24]++, await _supabase.supabaseAdmin.from('user_sessions').update({
      is_trusted
    }).eq('id', deviceId).eq('user_id', userId).select().single());
    /* istanbul ignore next */
    cov_jtyfid73x().s[25]++;
    if (error) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[4][0]++;
      cov_jtyfid73x().s[26]++;
      console.error('Error al actualizar dispositivo:', error);
      /* istanbul ignore next */
      cov_jtyfid73x().s[27]++;
      return _server.NextResponse.json({
        error: 'Error al actualizar dispositivo'
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[4][1]++;
    }
    // Registrar actividad de seguridad
    const requestInfo =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[28]++, (0, _activityLogger.getRequestInfo)(request));
    /* istanbul ignore next */
    cov_jtyfid73x().s[29]++;
    await (0, _activityLogger.logSecurityActivity)(userId, is_trusted ?
    /* istanbul ignore next */
    (cov_jtyfid73x().b[5][0]++, 'trust_device') :
    /* istanbul ignore next */
    (cov_jtyfid73x().b[5][1]++, 'untrust_device'), {
      device_id: deviceId,
      device_name: updatedDevice.device_name,
      device_type: updatedDevice.device_type,
      ip_address: updatedDevice.ip_address,
      previous_trust_status: existingDevice.is_trusted,
      new_trust_status: is_trusted
    }, requestInfo);
    /* istanbul ignore next */
    cov_jtyfid73x().s[30]++;
    return _server.NextResponse.json({
      success: true,
      device: updatedDevice,
      message: is_trusted ?
      /* istanbul ignore next */
      (cov_jtyfid73x().b[6][0]++, 'Dispositivo marcado como confiable') :
      /* istanbul ignore next */
      (cov_jtyfid73x().b[6][1]++, 'Confianza removida del dispositivo')
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_jtyfid73x().s[31]++;
    console.error('Error en PATCH /api/user/trusted-devices/[id]:', error);
    /* istanbul ignore next */
    cov_jtyfid73x().s[32]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
}
async function DELETE(request, {
  params
}) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[5]++;
  cov_jtyfid73x().s[33]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[34]++, await (0, _auth.auth)());
    /* istanbul ignore next */
    cov_jtyfid73x().s[35]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[7][0]++;
      cov_jtyfid73x().s[36]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[7][1]++;
    }
    const userId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[37]++, session.user.id);
    const deviceId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[38]++, params.id);
    // Verificar que el dispositivo pertenece al usuario
    const {
      data: existingDevice,
      error: fetchError
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[39]++, await _supabase.supabaseAdmin.from('user_sessions').select('*').eq('id', deviceId).eq('user_id', userId).single());
    /* istanbul ignore next */
    cov_jtyfid73x().s[40]++;
    if (
    /* istanbul ignore next */
    (cov_jtyfid73x().b[9][0]++, fetchError) ||
    /* istanbul ignore next */
    (cov_jtyfid73x().b[9][1]++, !existingDevice)) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[8][0]++;
      cov_jtyfid73x().s[41]++;
      return _server.NextResponse.json({
        error: 'Dispositivo no encontrado'
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[8][1]++;
    }
    // Eliminar todas las sesiones de este dispositivo
    const {
      error: deleteError
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[42]++, await _supabase.supabaseAdmin.from('user_sessions').delete().eq('id', deviceId).eq('user_id', userId));
    /* istanbul ignore next */
    cov_jtyfid73x().s[43]++;
    if (deleteError) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[10][0]++;
      cov_jtyfid73x().s[44]++;
      console.error('Error al eliminar dispositivo:', deleteError);
      /* istanbul ignore next */
      cov_jtyfid73x().s[45]++;
      return _server.NextResponse.json({
        error: 'Error al eliminar dispositivo'
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[10][1]++;
    }
    // Registrar actividad de seguridad
    const requestInfo =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[46]++, (0, _activityLogger.getRequestInfo)(request));
    /* istanbul ignore next */
    cov_jtyfid73x().s[47]++;
    await (0, _activityLogger.logSecurityActivity)(userId, 'remove_trusted_device', {
      device_id: deviceId,
      device_name: existingDevice.device_name,
      device_type: existingDevice.device_type,
      ip_address: existingDevice.ip_address,
      was_trusted: existingDevice.is_trusted
    }, requestInfo);
    /* istanbul ignore next */
    cov_jtyfid73x().s[48]++;
    return _server.NextResponse.json({
      success: true,
      message: 'Dispositivo eliminado correctamente'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_jtyfid73x().s[49]++;
    console.error('Error en DELETE /api/user/trusted-devices/[id]:', error);
    /* istanbul ignore next */
    cov_jtyfid73x().s[50]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
}
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[6]++;
  cov_jtyfid73x().s[51]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[52]++, await (0, _auth.auth)());
    /* istanbul ignore next */
    cov_jtyfid73x().s[53]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[11][0]++;
      cov_jtyfid73x().s[54]++;
      return _server.NextResponse.json({
        error: 'No autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[11][1]++;
    }
    const userId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[55]++, session.user.id);
    const deviceId =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[56]++, params.id);
    // Obtener informacin del dispositivo
    const {
      data: device,
      error
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[57]++, await _supabase.supabaseAdmin.from('user_sessions').select(`
        id,
        device_type,
        device_name,
        browser,
        os,
        ip_address,
        location,
        user_agent,
        is_trusted,
        last_activity,
        created_at
      `).eq('id', deviceId).eq('user_id', userId).single());
    /* istanbul ignore next */
    cov_jtyfid73x().s[58]++;
    if (
    /* istanbul ignore next */
    (cov_jtyfid73x().b[13][0]++, error) ||
    /* istanbul ignore next */
    (cov_jtyfid73x().b[13][1]++, !device)) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[12][0]++;
      cov_jtyfid73x().s[59]++;
      return _server.NextResponse.json({
        error: 'Dispositivo no encontrado'
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[12][1]++;
    }
    // Obtener historial de actividad reciente para este dispositivo
    const {
      data: recentActivity
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[60]++, await _supabase.supabaseAdmin.from('user_activity').select('action, description, created_at').eq('user_id', userId).eq('metadata->>session_id', deviceId).order('created_at', {
      ascending: false
    }).limit(10));
    // Calcular estadsticas del dispositivo
    const stats =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[61]++, await calculateDeviceStats(userId, device));
    /* istanbul ignore next */
    cov_jtyfid73x().s[62]++;
    return _server.NextResponse.json({
      success: true,
      device: {
        ...device,
        trust_level: calculateTrustLevel(device),
        stats,
        recent_activity:
        /* istanbul ignore next */
        (cov_jtyfid73x().b[14][0]++, recentActivity) ||
        /* istanbul ignore next */
        (cov_jtyfid73x().b[14][1]++, [])
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_jtyfid73x().s[63]++;
    console.error('Error en GET /api/user/trusted-devices/[id]:', error);
    /* istanbul ignore next */
    cov_jtyfid73x().s[64]++;
    return _server.NextResponse.json({
      error: 'Error interno del servidor'
    }, {
      status: 500
    });
  }
}
// Funcin para calcular estadsticas del dispositivo
async function calculateDeviceStats(userId, device) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[7]++;
  cov_jtyfid73x().s[65]++;
  try {
    // Obtener todas las sesiones de este dispositivo
    const {
      data: allSessions
    } =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[66]++, await _supabase.supabaseAdmin.from('user_sessions').select('created_at, last_activity').eq('user_id', userId).eq('device_name', device.device_name).eq('ip_address', device.ip_address));
    /* istanbul ignore next */
    cov_jtyfid73x().s[67]++;
    if (
    /* istanbul ignore next */
    (cov_jtyfid73x().b[16][0]++, !allSessions) ||
    /* istanbul ignore next */
    (cov_jtyfid73x().b[16][1]++, allSessions.length === 0)) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[15][0]++;
      cov_jtyfid73x().s[68]++;
      return {
        total_sessions: 0,
        first_seen: device.created_at,
        total_usage_hours: 0,
        average_session_duration: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[15][1]++;
    }
    // Calcular estadsticas
    const totalSessions =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[69]++, allSessions.length);
    const firstSeen =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[70]++, allSessions.reduce((earliest, session) => {
      /* istanbul ignore next */
      cov_jtyfid73x().f[8]++;
      cov_jtyfid73x().s[71]++;
      return new Date(session.created_at) < new Date(earliest) ?
      /* istanbul ignore next */
      (cov_jtyfid73x().b[17][0]++, session.created_at) :
      /* istanbul ignore next */
      (cov_jtyfid73x().b[17][1]++, earliest);
    }, allSessions[0].created_at));
    // Calcular duracin total de uso (aproximada)
    let totalUsageMinutes =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[72]++, 0);
    /* istanbul ignore next */
    cov_jtyfid73x().s[73]++;
    allSessions.forEach(session => {
      /* istanbul ignore next */
      cov_jtyfid73x().f[9]++;
      const start =
      /* istanbul ignore next */
      (cov_jtyfid73x().s[74]++, new Date(session.created_at));
      const end =
      /* istanbul ignore next */
      (cov_jtyfid73x().s[75]++, new Date(session.last_activity));
      const durationMinutes =
      /* istanbul ignore next */
      (cov_jtyfid73x().s[76]++, Math.max(0, (end.getTime() - start.getTime()) / (1000 * 60)));
      /* istanbul ignore next */
      cov_jtyfid73x().s[77]++;
      totalUsageMinutes += Math.min(durationMinutes, 480); // Mximo 8 horas por sesin
    });
    const totalUsageHours =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[78]++, Math.round(totalUsageMinutes / 60));
    const averageSessionDuration =
    /* istanbul ignore next */
    (cov_jtyfid73x().s[79]++, Math.round(totalUsageMinutes / totalSessions));
    /* istanbul ignore next */
    cov_jtyfid73x().s[80]++;
    return {
      total_sessions: totalSessions,
      first_seen: firstSeen,
      total_usage_hours: totalUsageHours,
      average_session_duration: averageSessionDuration
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_jtyfid73x().s[81]++;
    console.error('Error al calcular estadsticas del dispositivo:', error);
    /* istanbul ignore next */
    cov_jtyfid73x().s[82]++;
    return {
      total_sessions: 0,
      first_seen: device.created_at,
      total_usage_hours: 0,
      average_session_duration: 0
    };
  }
}
// Funcin para calcular nivel de confianza (reutilizada)
function calculateTrustLevel(device) {
  /* istanbul ignore next */
  cov_jtyfid73x().f[10]++;
  let trustLevel =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[83]++, 50); // Base
  const now =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[84]++, new Date());
  const lastActivity =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[85]++, new Date(device.last_activity));
  const createdAt =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[86]++, new Date(device.created_at));
  // Antigedad del dispositivo (mximo +30 puntos)
  const ageInDays =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[87]++, Math.floor((now.getTime() - createdAt.getTime()) / (1000 * 60 * 60 * 24)));
  /* istanbul ignore next */
  cov_jtyfid73x().s[88]++;
  if (ageInDays > 30) {
    /* istanbul ignore next */
    cov_jtyfid73x().b[18][0]++;
    cov_jtyfid73x().s[89]++;
    trustLevel += 30;
  } else {
    /* istanbul ignore next */
    cov_jtyfid73x().b[18][1]++;
    cov_jtyfid73x().s[90]++;
    if (ageInDays > 7) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[19][0]++;
      cov_jtyfid73x().s[91]++;
      trustLevel += 20;
    } else {
      /* istanbul ignore next */
      cov_jtyfid73x().b[19][1]++;
      cov_jtyfid73x().s[92]++;
      if (ageInDays > 1) {
        /* istanbul ignore next */
        cov_jtyfid73x().b[20][0]++;
        cov_jtyfid73x().s[93]++;
        trustLevel += 10;
      } else
      /* istanbul ignore next */
      {
        cov_jtyfid73x().b[20][1]++;
      }
    }
  }
  // Actividad reciente (mximo +20 puntos)
  const inactiveHours =
  /* istanbul ignore next */
  (cov_jtyfid73x().s[94]++, Math.floor((now.getTime() - lastActivity.getTime()) / (1000 * 60 * 60)));
  /* istanbul ignore next */
  cov_jtyfid73x().s[95]++;
  if (inactiveHours < 1) {
    /* istanbul ignore next */
    cov_jtyfid73x().b[21][0]++;
    cov_jtyfid73x().s[96]++;
    trustLevel += 20;
  } else {
    /* istanbul ignore next */
    cov_jtyfid73x().b[21][1]++;
    cov_jtyfid73x().s[97]++;
    if (inactiveHours < 24) {
      /* istanbul ignore next */
      cov_jtyfid73x().b[22][0]++;
      cov_jtyfid73x().s[98]++;
      trustLevel += 15;
    } else {
      /* istanbul ignore next */
      cov_jtyfid73x().b[22][1]++;
      cov_jtyfid73x().s[99]++;
      if (inactiveHours < 168) {
        /* istanbul ignore next */
        cov_jtyfid73x().b[23][0]++;
        cov_jtyfid73x().s[100]++;
        trustLevel += 10;
      } else {
        /* istanbul ignore next */
        cov_jtyfid73x().b[23][1]++;
        cov_jtyfid73x().s[101]++;
        if (inactiveHours < 720) {
          /* istanbul ignore next */
          cov_jtyfid73x().b[24][0]++;
          cov_jtyfid73x().s[102]++;
          trustLevel += 5;
        } else
        /* istanbul ignore next */
        {
          cov_jtyfid73x().b[24][1]++;
        }
      }
    }
  }
  // Tipo de dispositivo
  /* istanbul ignore next */
  cov_jtyfid73x().s[103]++;
  if (device.device_type === 'desktop') {
    /* istanbul ignore next */
    cov_jtyfid73x().b[25][0]++;
    cov_jtyfid73x().s[104]++;
    trustLevel += 5;
  } else {
    /* istanbul ignore next */
    cov_jtyfid73x().b[25][1]++;
    cov_jtyfid73x().s[105]++;
    if (device.device_type === 'mobile') {
      /* istanbul ignore next */
      cov_jtyfid73x().b[26][0]++;
      cov_jtyfid73x().s[106]++;
      trustLevel += 3;
    } else
    /* istanbul ignore next */
    {
      cov_jtyfid73x().b[26][1]++;
    }
  }
  // Ubicacin conocida
  /* istanbul ignore next */
  cov_jtyfid73x().s[107]++;
  if (device.location) {
    /* istanbul ignore next */
    cov_jtyfid73x().b[27][0]++;
    cov_jtyfid73x().s[108]++;
    trustLevel += 5;
  } else
  /* istanbul ignore next */
  {
    cov_jtyfid73x().b[27][1]++;
  }
  cov_jtyfid73x().s[109]++;
  return Math.min(100, Math.max(0, trustLevel));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfanR5ZmlkNzN4IiwiZiIsInMiLCJHRVQiLCJQQVRDSCIsInJlcXVlc3QiLCJwYXJhbXMiLCJzZXNzaW9uIiwiX2F1dGgiLCJhdXRoIiwidXNlciIsImlkIiwiYiIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VySWQiLCJkZXZpY2VJZCIsImJvZHkiLCJpc190cnVzdGVkIiwiZGF0YSIsImV4aXN0aW5nRGV2aWNlIiwiZmV0Y2hFcnJvciIsIl9zdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJ1cGRhdGVkRGV2aWNlIiwidXBkYXRlIiwiY29uc29sZSIsInJlcXVlc3RJbmZvIiwiX2FjdGl2aXR5TG9nZ2VyIiwiZ2V0UmVxdWVzdEluZm8iLCJsb2dTZWN1cml0eUFjdGl2aXR5IiwiZGV2aWNlX2lkIiwiZGV2aWNlX25hbWUiLCJkZXZpY2VfdHlwZSIsImlwX2FkZHJlc3MiLCJwcmV2aW91c190cnVzdF9zdGF0dXMiLCJuZXdfdHJ1c3Rfc3RhdHVzIiwic3VjY2VzcyIsImRldmljZSIsIm1lc3NhZ2UiLCJkZWxldGVFcnJvciIsImRlbGV0ZSIsIndhc190cnVzdGVkIiwicmVjZW50QWN0aXZpdHkiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0Iiwic3RhdHMiLCJjYWxjdWxhdGVEZXZpY2VTdGF0cyIsInRydXN0X2xldmVsIiwiY2FsY3VsYXRlVHJ1c3RMZXZlbCIsInJlY2VudF9hY3Rpdml0eSIsImFsbFNlc3Npb25zIiwibGVuZ3RoIiwidG90YWxfc2Vzc2lvbnMiLCJmaXJzdF9zZWVuIiwiY3JlYXRlZF9hdCIsInRvdGFsX3VzYWdlX2hvdXJzIiwiYXZlcmFnZV9zZXNzaW9uX2R1cmF0aW9uIiwidG90YWxTZXNzaW9ucyIsImZpcnN0U2VlbiIsInJlZHVjZSIsImVhcmxpZXN0IiwiRGF0ZSIsInRvdGFsVXNhZ2VNaW51dGVzIiwiZm9yRWFjaCIsInN0YXJ0IiwiZW5kIiwibGFzdF9hY3Rpdml0eSIsImR1cmF0aW9uTWludXRlcyIsIk1hdGgiLCJtYXgiLCJnZXRUaW1lIiwibWluIiwidG90YWxVc2FnZUhvdXJzIiwicm91bmQiLCJhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uIiwidHJ1c3RMZXZlbCIsIm5vdyIsImxhc3RBY3Rpdml0eSIsImNyZWF0ZWRBdCIsImFnZUluRGF5cyIsImZsb29yIiwiaW5hY3RpdmVIb3VycyIsImxvY2F0aW9uIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcdXNlclxcdHJ1c3RlZC1kZXZpY2VzXFxbaWRdXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBBUEkgREUgRElTUE9TSVRJVk8gREUgQ09ORklBTlpBIElORElWSURVQUxcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAL2F1dGgnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgbG9nU2VjdXJpdHlBY3Rpdml0eSwgZ2V0UmVxdWVzdEluZm8gfSBmcm9tICdAL2xpYi9hY3Rpdml0eS9hY3Rpdml0eUxvZ2dlcic7XHJcblxyXG4vLyBQQVRDSCAtIEFjdHVhbGl6YXIgZXN0YWRvIGRlIGNvbmZpYW56YSBkZSB1biBkaXNwb3NpdGl2b1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0goXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm8gYXV0b3JpemFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VySWQgPSBzZXNzaW9uLnVzZXIuaWQ7XHJcbiAgICBjb25zdCBkZXZpY2VJZCA9IHBhcmFtcy5pZDtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgaXNfdHJ1c3RlZCB9ID0gYm9keTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGlzX3RydXN0ZWQgIT09ICdib29sZWFuJykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0VzdGFkbyBkZSBjb25maWFuemEgcmVxdWVyaWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZGlzcG9zaXRpdm8gcGVydGVuZWNlIGFsIHVzdWFyaW9cclxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdEZXZpY2UsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Nlc3Npb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnaWQnLCBkZXZpY2VJZClcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGZldGNoRXJyb3IgfHwgIWV4aXN0aW5nRGV2aWNlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRGlzcG9zaXRpdm8gbm8gZW5jb250cmFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGVzdGFkbyBkZSBjb25maWFuemFcclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZERldmljZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJfc2Vzc2lvbnMnKVxyXG4gICAgICAudXBkYXRlKHsgaXNfdHJ1c3RlZCB9KVxyXG4gICAgICAuZXEoJ2lkJywgZGV2aWNlSWQpXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYWN0dWFsaXphciBkaXNwb3NpdGl2bzonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJyb3IgYWwgYWN0dWFsaXphciBkaXNwb3NpdGl2bycgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgYWN0aXZpZGFkIGRlIHNlZ3VyaWRhZFxyXG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBnZXRSZXF1ZXN0SW5mbyhyZXF1ZXN0KTtcclxuICAgIGF3YWl0IGxvZ1NlY3VyaXR5QWN0aXZpdHkoXHJcbiAgICAgIHVzZXJJZCxcclxuICAgICAgaXNfdHJ1c3RlZCA/ICd0cnVzdF9kZXZpY2UnIDogJ3VudHJ1c3RfZGV2aWNlJyxcclxuICAgICAge1xyXG4gICAgICAgIGRldmljZV9pZDogZGV2aWNlSWQsXHJcbiAgICAgICAgZGV2aWNlX25hbWU6IHVwZGF0ZWREZXZpY2UuZGV2aWNlX25hbWUsXHJcbiAgICAgICAgZGV2aWNlX3R5cGU6IHVwZGF0ZWREZXZpY2UuZGV2aWNlX3R5cGUsXHJcbiAgICAgICAgaXBfYWRkcmVzczogdXBkYXRlZERldmljZS5pcF9hZGRyZXNzLFxyXG4gICAgICAgIHByZXZpb3VzX3RydXN0X3N0YXR1czogZXhpc3RpbmdEZXZpY2UuaXNfdHJ1c3RlZCxcclxuICAgICAgICBuZXdfdHJ1c3Rfc3RhdHVzOiBpc190cnVzdGVkLFxyXG4gICAgICB9LFxyXG4gICAgICByZXF1ZXN0SW5mb1xyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkZXZpY2U6IHVwZGF0ZWREZXZpY2UsXHJcbiAgICAgIG1lc3NhZ2U6IGlzX3RydXN0ZWQgXHJcbiAgICAgICAgPyAnRGlzcG9zaXRpdm8gbWFyY2FkbyBjb21vIGNvbmZpYWJsZScgXHJcbiAgICAgICAgOiAnQ29uZmlhbnphIHJlbW92aWRhIGRlbCBkaXNwb3NpdGl2bycsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gUEFUQ0ggL2FwaS91c2VyL3RydXN0ZWQtZGV2aWNlcy9baWRdOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBERUxFVEUgLSBFbGltaW5hciBkaXNwb3NpdGl2byBkZSBjb25maWFuemEgeSBjZXJyYXIgc2VzaW9uZXNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKTtcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uaWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdObyBhdXRvcml6YWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXJJZCA9IHNlc3Npb24udXNlci5pZDtcclxuICAgIGNvbnN0IGRldmljZUlkID0gcGFyYW1zLmlkO1xyXG5cclxuICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgZGlzcG9zaXRpdm8gcGVydGVuZWNlIGFsIHVzdWFyaW9cclxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdEZXZpY2UsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Nlc3Npb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnaWQnLCBkZXZpY2VJZClcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGZldGNoRXJyb3IgfHwgIWV4aXN0aW5nRGV2aWNlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRGlzcG9zaXRpdm8gbm8gZW5jb250cmFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbGltaW5hciB0b2RhcyBsYXMgc2VzaW9uZXMgZGUgZXN0ZSBkaXNwb3NpdGl2b1xyXG4gICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJfc2Vzc2lvbnMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGRldmljZUlkKVxyXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xyXG5cclxuICAgIGlmIChkZWxldGVFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbGltaW5hciBkaXNwb3NpdGl2bzonLCBkZWxldGVFcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJyb3IgYWwgZWxpbWluYXIgZGlzcG9zaXRpdm8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIGFjdGl2aWRhZCBkZSBzZWd1cmlkYWRcclxuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gZ2V0UmVxdWVzdEluZm8ocmVxdWVzdCk7XHJcbiAgICBhd2FpdCBsb2dTZWN1cml0eUFjdGl2aXR5KFxyXG4gICAgICB1c2VySWQsXHJcbiAgICAgICdyZW1vdmVfdHJ1c3RlZF9kZXZpY2UnLFxyXG4gICAgICB7XHJcbiAgICAgICAgZGV2aWNlX2lkOiBkZXZpY2VJZCxcclxuICAgICAgICBkZXZpY2VfbmFtZTogZXhpc3RpbmdEZXZpY2UuZGV2aWNlX25hbWUsXHJcbiAgICAgICAgZGV2aWNlX3R5cGU6IGV4aXN0aW5nRGV2aWNlLmRldmljZV90eXBlLFxyXG4gICAgICAgIGlwX2FkZHJlc3M6IGV4aXN0aW5nRGV2aWNlLmlwX2FkZHJlc3MsXHJcbiAgICAgICAgd2FzX3RydXN0ZWQ6IGV4aXN0aW5nRGV2aWNlLmlzX3RydXN0ZWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlcXVlc3RJbmZvXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdEaXNwb3NpdGl2byBlbGltaW5hZG8gY29ycmVjdGFtZW50ZScsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gREVMRVRFIC9hcGkvdXNlci90cnVzdGVkLWRldmljZXMvW2lkXTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gR0VUIC0gT2J0ZW5lciBpbmZvcm1hY2nDs24gZGV0YWxsYWRhIGRlIHVuIGRpc3Bvc2l0aXZvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTm8gYXV0b3JpemFkbycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VySWQgPSBzZXNzaW9uLnVzZXIuaWQ7XHJcbiAgICBjb25zdCBkZXZpY2VJZCA9IHBhcmFtcy5pZDtcclxuXHJcbiAgICAvLyBPYnRlbmVyIGluZm9ybWFjacOzbiBkZWwgZGlzcG9zaXRpdm9cclxuICAgIGNvbnN0IHsgZGF0YTogZGV2aWNlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9zZXNzaW9ucycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIGRldmljZV90eXBlLFxyXG4gICAgICAgIGRldmljZV9uYW1lLFxyXG4gICAgICAgIGJyb3dzZXIsXHJcbiAgICAgICAgb3MsXHJcbiAgICAgICAgaXBfYWRkcmVzcyxcclxuICAgICAgICBsb2NhdGlvbixcclxuICAgICAgICB1c2VyX2FnZW50LFxyXG4gICAgICAgIGlzX3RydXN0ZWQsXHJcbiAgICAgICAgbGFzdF9hY3Rpdml0eSxcclxuICAgICAgICBjcmVhdGVkX2F0XHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnaWQnLCBkZXZpY2VJZClcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yIHx8ICFkZXZpY2UpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdEaXNwb3NpdGl2byBubyBlbmNvbnRyYWRvJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGVuZXIgaGlzdG9yaWFsIGRlIGFjdGl2aWRhZCByZWNpZW50ZSBwYXJhIGVzdGUgZGlzcG9zaXRpdm9cclxuICAgIGNvbnN0IHsgZGF0YTogcmVjZW50QWN0aXZpdHkgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJfYWN0aXZpdHknKVxyXG4gICAgICAuc2VsZWN0KCdhY3Rpb24sIGRlc2NyaXB0aW9uLCBjcmVhdGVkX2F0JylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAuZXEoJ21ldGFkYXRhLT4+c2Vzc2lvbl9pZCcsIGRldmljZUlkKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEwKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhciBlc3RhZMOtc3RpY2FzIGRlbCBkaXNwb3NpdGl2b1xyXG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBjYWxjdWxhdGVEZXZpY2VTdGF0cyh1c2VySWQsIGRldmljZSk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGV2aWNlOiB7XHJcbiAgICAgICAgLi4uZGV2aWNlLFxyXG4gICAgICAgIHRydXN0X2xldmVsOiBjYWxjdWxhdGVUcnVzdExldmVsKGRldmljZSksXHJcbiAgICAgICAgc3RhdHMsXHJcbiAgICAgICAgcmVjZW50X2FjdGl2aXR5OiByZWNlbnRBY3Rpdml0eSB8fCBbXSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBHRVQgL2FwaS91c2VyL3RydXN0ZWQtZGV2aWNlcy9baWRdOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW5jacOzbiBwYXJhIGNhbGN1bGFyIGVzdGFkw61zdGljYXMgZGVsIGRpc3Bvc2l0aXZvXHJcbmFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZURldmljZVN0YXRzKHVzZXJJZDogc3RyaW5nLCBkZXZpY2U6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBPYnRlbmVyIHRvZGFzIGxhcyBzZXNpb25lcyBkZSBlc3RlIGRpc3Bvc2l0aXZvXHJcbiAgICBjb25zdCB7IGRhdGE6IGFsbFNlc3Npb25zIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VyX3Nlc3Npb25zJylcclxuICAgICAgLnNlbGVjdCgnY3JlYXRlZF9hdCwgbGFzdF9hY3Rpdml0eScpXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgICAgLmVxKCdkZXZpY2VfbmFtZScsIGRldmljZS5kZXZpY2VfbmFtZSlcclxuICAgICAgLmVxKCdpcF9hZGRyZXNzJywgZGV2aWNlLmlwX2FkZHJlc3MpO1xyXG5cclxuICAgIGlmICghYWxsU2Vzc2lvbnMgfHwgYWxsU2Vzc2lvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG90YWxfc2Vzc2lvbnM6IDAsXHJcbiAgICAgICAgZmlyc3Rfc2VlbjogZGV2aWNlLmNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdG90YWxfdXNhZ2VfaG91cnM6IDAsXHJcbiAgICAgICAgYXZlcmFnZV9zZXNzaW9uX2R1cmF0aW9uOiAwLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGFyIGVzdGFkw61zdGljYXNcclxuICAgIGNvbnN0IHRvdGFsU2Vzc2lvbnMgPSBhbGxTZXNzaW9ucy5sZW5ndGg7XHJcbiAgICBjb25zdCBmaXJzdFNlZW4gPSBhbGxTZXNzaW9ucy5yZWR1Y2UoKGVhcmxpZXN0LCBzZXNzaW9uKSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShzZXNzaW9uLmNyZWF0ZWRfYXQpIDwgbmV3IERhdGUoZWFybGllc3QpID8gc2Vzc2lvbi5jcmVhdGVkX2F0IDogZWFybGllc3Q7XHJcbiAgICB9LCBhbGxTZXNzaW9uc1swXS5jcmVhdGVkX2F0KTtcclxuXHJcbiAgICAvLyBDYWxjdWxhciBkdXJhY2nDs24gdG90YWwgZGUgdXNvIChhcHJveGltYWRhKVxyXG4gICAgbGV0IHRvdGFsVXNhZ2VNaW51dGVzID0gMDtcclxuICAgIGFsbFNlc3Npb25zLmZvckVhY2goc2Vzc2lvbiA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc2Vzc2lvbi5jcmVhdGVkX2F0KTtcclxuICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoc2Vzc2lvbi5sYXN0X2FjdGl2aXR5KTtcclxuICAgICAgY29uc3QgZHVyYXRpb25NaW51dGVzID0gTWF0aC5tYXgoMCwgKGVuZC5nZXRUaW1lKCkgLSBzdGFydC5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCkpO1xyXG4gICAgICB0b3RhbFVzYWdlTWludXRlcyArPSBNYXRoLm1pbihkdXJhdGlvbk1pbnV0ZXMsIDQ4MCk7IC8vIE3DoXhpbW8gOCBob3JhcyBwb3Igc2VzacOzblxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdG90YWxVc2FnZUhvdXJzID0gTWF0aC5yb3VuZCh0b3RhbFVzYWdlTWludXRlcyAvIDYwKTtcclxuICAgIGNvbnN0IGF2ZXJhZ2VTZXNzaW9uRHVyYXRpb24gPSBNYXRoLnJvdW5kKHRvdGFsVXNhZ2VNaW51dGVzIC8gdG90YWxTZXNzaW9ucyk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxfc2Vzc2lvbnM6IHRvdGFsU2Vzc2lvbnMsXHJcbiAgICAgIGZpcnN0X3NlZW46IGZpcnN0U2VlbixcclxuICAgICAgdG90YWxfdXNhZ2VfaG91cnM6IHRvdGFsVXNhZ2VIb3VycyxcclxuICAgICAgYXZlcmFnZV9zZXNzaW9uX2R1cmF0aW9uOiBhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY2FsY3VsYXIgZXN0YWTDrXN0aWNhcyBkZWwgZGlzcG9zaXRpdm86JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxfc2Vzc2lvbnM6IDAsXHJcbiAgICAgIGZpcnN0X3NlZW46IGRldmljZS5jcmVhdGVkX2F0LFxyXG4gICAgICB0b3RhbF91c2FnZV9ob3VyczogMCxcclxuICAgICAgYXZlcmFnZV9zZXNzaW9uX2R1cmF0aW9uOiAwLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmNpw7NuIHBhcmEgY2FsY3VsYXIgbml2ZWwgZGUgY29uZmlhbnphIChyZXV0aWxpemFkYSlcclxuZnVuY3Rpb24gY2FsY3VsYXRlVHJ1c3RMZXZlbChkZXZpY2U6IGFueSk6IG51bWJlciB7XHJcbiAgbGV0IHRydXN0TGV2ZWwgPSA1MDsgLy8gQmFzZVxyXG5cclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGxhc3RBY3Rpdml0eSA9IG5ldyBEYXRlKGRldmljZS5sYXN0X2FjdGl2aXR5KTtcclxuICBjb25zdCBjcmVhdGVkQXQgPSBuZXcgRGF0ZShkZXZpY2UuY3JlYXRlZF9hdCk7XHJcbiAgXHJcbiAgLy8gQW50aWfDvGVkYWQgZGVsIGRpc3Bvc2l0aXZvIChtw6F4aW1vICszMCBwdW50b3MpXHJcbiAgY29uc3QgYWdlSW5EYXlzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGNyZWF0ZWRBdC5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcclxuICBpZiAoYWdlSW5EYXlzID4gMzApIHRydXN0TGV2ZWwgKz0gMzA7XHJcbiAgZWxzZSBpZiAoYWdlSW5EYXlzID4gNykgdHJ1c3RMZXZlbCArPSAyMDtcclxuICBlbHNlIGlmIChhZ2VJbkRheXMgPiAxKSB0cnVzdExldmVsICs9IDEwO1xyXG5cclxuICAvLyBBY3RpdmlkYWQgcmVjaWVudGUgKG3DoXhpbW8gKzIwIHB1bnRvcylcclxuICBjb25zdCBpbmFjdGl2ZUhvdXJzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGxhc3RBY3Rpdml0eS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwKSk7XHJcbiAgaWYgKGluYWN0aXZlSG91cnMgPCAxKSB0cnVzdExldmVsICs9IDIwO1xyXG4gIGVsc2UgaWYgKGluYWN0aXZlSG91cnMgPCAyNCkgdHJ1c3RMZXZlbCArPSAxNTtcclxuICBlbHNlIGlmIChpbmFjdGl2ZUhvdXJzIDwgMTY4KSB0cnVzdExldmVsICs9IDEwO1xyXG4gIGVsc2UgaWYgKGluYWN0aXZlSG91cnMgPCA3MjApIHRydXN0TGV2ZWwgKz0gNTtcclxuXHJcbiAgLy8gVGlwbyBkZSBkaXNwb3NpdGl2b1xyXG4gIGlmIChkZXZpY2UuZGV2aWNlX3R5cGUgPT09ICdkZXNrdG9wJykgdHJ1c3RMZXZlbCArPSA1O1xyXG4gIGVsc2UgaWYgKGRldmljZS5kZXZpY2VfdHlwZSA9PT0gJ21vYmlsZScpIHRydXN0TGV2ZWwgKz0gMztcclxuXHJcbiAgLy8gVWJpY2FjacOzbiBjb25vY2lkYVxyXG4gIGlmIChkZXZpY2UubG9jYXRpb24pIHRydXN0TGV2ZWwgKz0gNTtcclxuXHJcbiAgcmV0dXJuIE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgdHJ1c3RMZXZlbCkpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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