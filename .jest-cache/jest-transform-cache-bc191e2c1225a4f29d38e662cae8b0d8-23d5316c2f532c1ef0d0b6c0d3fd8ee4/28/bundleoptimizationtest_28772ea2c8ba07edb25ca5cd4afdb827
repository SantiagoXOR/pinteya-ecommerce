0e264594eca79e17bea13c04bc3c321e
// ===================================
// TESTS DE BUNDLE OPTIMIZATION SYSTEM
// ===================================
"use strict";
// Mock file system
jest.mock('fs', ()=>({
        promises: {
            readFile: jest.fn().mockResolvedValue(JSON.stringify({
                dependencies: {
                    'react': '^18.2.0',
                    'next': '^15.3.3',
                    'framer-motion': '^12.23.0'
                }
            })),
            writeFile: jest.fn(),
            mkdir: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _bundleoptimizationmanager = require("../../src/lib/optimization/bundle-optimization-manager");
const _performancebudgetmonitor = require("../../src/lib/optimization/performance-budget-monitor");
const _webpackoptimizationconfig = require("../../src/lib/optimization/webpack-optimization-config");
describe('Bundle Optimization System', ()=>{
    let bundleManager;
    let budgetMonitor;
    beforeEach(()=>{
        bundleManager = _bundleoptimizationmanager.BundleOptimizationManager.getInstance();
        budgetMonitor = _performancebudgetmonitor.PerformanceBudgetMonitor.getInstance();
        jest.clearAllMocks();
    });
    describe('BundleOptimizationManager', ()=>{
        it('should be a singleton', ()=>{
            const instance1 = _bundleoptimizationmanager.BundleOptimizationManager.getInstance();
            const instance2 = _bundleoptimizationmanager.BundleOptimizationManager.getInstance();
            expect(instance1).toBe(instance2);
        });
        it('should analyze bundles and return analysis', async ()=>{
            const analysis = await bundleManager.analyzeBundles();
            expect(analysis).toHaveProperty('totalSize');
            expect(analysis).toHaveProperty('gzippedSize');
            expect(analysis).toHaveProperty('chunks');
            expect(analysis).toHaveProperty('dependencies');
            expect(analysis).toHaveProperty('recommendations');
            expect(analysis).toHaveProperty('performance');
            expect(typeof analysis.totalSize).toBe('number');
            expect(Array.isArray(analysis.chunks)).toBe(true);
            expect(Array.isArray(analysis.dependencies)).toBe(true);
            expect(Array.isArray(analysis.recommendations)).toBe(true);
        });
        it('should generate performance metrics correctly', async ()=>{
            const analysis = await bundleManager.analyzeBundles();
            const { performance } = analysis;
            expect(performance).toHaveProperty('firstLoadJS');
            expect(performance).toHaveProperty('totalJS');
            expect(performance).toHaveProperty('score');
            expect(performance).toHaveProperty('grade');
            expect(performance.score).toBeGreaterThanOrEqual(0);
            expect(performance.score).toBeLessThanOrEqual(100);
            expect([
                'A',
                'B',
                'C',
                'D',
                'F'
            ]).toContain(performance.grade);
        });
        it('should generate recommendations based on analysis', async ()=>{
            const analysis = await bundleManager.analyzeBundles();
            const { recommendations } = analysis;
            expect(Array.isArray(recommendations)).toBe(true);
            if (recommendations.length > 0) {
                const recommendation = recommendations[0];
                expect(recommendation).toHaveProperty('type');
                expect(recommendation).toHaveProperty('priority');
                expect(recommendation).toHaveProperty('description');
                expect(recommendation).toHaveProperty('estimatedSavings');
                expect(recommendation).toHaveProperty('implementation');
                expect(recommendation).toHaveProperty('effort');
                expect([
                    'code-splitting',
                    'tree-shaking',
                    'dependency-replacement',
                    'lazy-loading',
                    'compression'
                ]).toContain(recommendation.type);
                expect([
                    'critical',
                    'high',
                    'medium',
                    'low'
                ]).toContain(recommendation.priority);
                expect([
                    'low',
                    'medium',
                    'high'
                ]).toContain(recommendation.effort);
            }
        });
        it('should update configuration correctly', ()=>{
            const newConfig = {
                maxChunkSize: 300 * 1024,
                enableTreeShaking: false
            };
            bundleManager.updateConfig(newConfig);
            // Verificar que la configuración se actualizó
            // (En una implementación real, tendríamos un getter para la config)
            expect(true).toBe(true); // Placeholder
        });
        it('should generate optimization report', async ()=>{
            const analysis = await bundleManager.analyzeBundles();
            const report = bundleManager.generateOptimizationReport(analysis);
            expect(typeof report).toBe('string');
            expect(report).toContain('Bundle Optimization Report');
            expect(report).toContain('Performance Metrics');
            expect(report).toContain('Chunks Analysis');
            expect(report).toContain('Top Recommendations');
        });
    });
    describe('PerformanceBudgetMonitor', ()=>{
        it('should be a singleton', ()=>{
            const instance1 = _performancebudgetmonitor.PerformanceBudgetMonitor.getInstance();
            const instance2 = _performancebudgetmonitor.PerformanceBudgetMonitor.getInstance();
            expect(instance1).toBe(instance2);
        });
        it('should have default budgets configured', ()=>{
            const budgets = budgetMonitor.getBudgets();
            expect(Array.isArray(budgets)).toBe(true);
            expect(budgets.length).toBeGreaterThan(0);
            const firstLoadBudget = budgets.find((b)=>b.name === 'First Load JS');
            expect(firstLoadBudget).toBeDefined();
            expect(firstLoadBudget?.threshold).toBe(128 * 1024);
            expect(firstLoadBudget?.category).toBe('critical');
        });
        it('should add and manage budgets', ()=>{
            const initialCount = budgetMonitor.getBudgets().length;
            const newBudget = {
                name: 'Test Budget',
                type: 'size',
                threshold: 100 * 1024,
                warning: 80 * 1024,
                unit: 'bytes',
                category: 'optional',
                description: 'Test budget for testing'
            };
            budgetMonitor.addBudget(newBudget);
            const budgets = budgetMonitor.getBudgets();
            expect(budgets.length).toBe(initialCount + 1);
            const addedBudget = budgets.find((b)=>b.name === 'Test Budget');
            expect(addedBudget).toBeDefined();
            expect(addedBudget?.threshold).toBe(100 * 1024);
        });
        it('should update existing budgets', ()=>{
            const budgets = budgetMonitor.getBudgets();
            const firstBudget = budgets[0];
            const originalThreshold = firstBudget.threshold;
            budgetMonitor.updateBudget(firstBudget.name, {
                threshold: 200 * 1024
            });
            const updatedBudgets = budgetMonitor.getBudgets();
            const updatedBudget = updatedBudgets.find((b)=>b.name === firstBudget.name);
            expect(updatedBudget?.threshold).toBe(200 * 1024);
            expect(updatedBudget?.threshold).not.toBe(originalThreshold);
        });
        it('should analyze performance and detect violations', async ()=>{
            const report = await budgetMonitor.analyzePerformance();
            expect(report).toHaveProperty('timestamp');
            expect(report).toHaveProperty('buildId');
            expect(report).toHaveProperty('violations');
            expect(report).toHaveProperty('metrics');
            expect(report).toHaveProperty('score');
            expect(report).toHaveProperty('grade');
            expect(report).toHaveProperty('trends');
            expect(Array.isArray(report.violations)).toBe(true);
            expect(typeof report.score).toBe('number');
            expect([
                'A',
                'B',
                'C',
                'D',
                'F'
            ]).toContain(report.grade);
        });
        it('should calculate performance score correctly', async ()=>{
            const report = await budgetMonitor.analyzePerformance();
            expect(report.score).toBeGreaterThanOrEqual(0);
            expect(report.score).toBeLessThanOrEqual(100);
            // Score should correlate with grade
            if (report.grade === 'A') {
                expect(report.score).toBeGreaterThanOrEqual(90);
            } else if (report.grade === 'F') {
                expect(report.score).toBeLessThan(60);
            }
        });
        it('should generate text report', async ()=>{
            const report = await budgetMonitor.analyzePerformance();
            const textReport = budgetMonitor.generateTextReport(report);
            expect(typeof textReport).toBe('string');
            expect(textReport).toContain('Performance Budget Report');
            expect(textReport).toContain('Build ID');
            expect(textReport).toContain('Score');
            expect(textReport).toContain('Metrics Summary');
        });
        it('should track performance trends', async ()=>{
            // Limpiar historial previo
            const history = budgetMonitor.getHistory();
            while(history.length > 0){
                history.pop();
            }
            // Generar primer reporte
            const report1 = await budgetMonitor.analyzePerformance();
            expect(report1.trends.length).toBe(0); // No hay historial previo
            // Simular segundo reporte
            const report2 = await budgetMonitor.analyzePerformance();
            expect(report2.trends.length).toBeGreaterThan(0);
            const trend = report2.trends[0];
            expect(trend).toHaveProperty('metric');
            expect(trend).toHaveProperty('current');
            expect(trend).toHaveProperty('previous');
            expect(trend).toHaveProperty('change');
            expect(trend).toHaveProperty('changePercent');
            expect(trend).toHaveProperty('trend');
            expect([
                'improving',
                'degrading',
                'stable'
            ]).toContain(trend.trend);
        });
    });
    describe('Webpack Optimization Config', ()=>{
        it('should generate advanced split chunks config', ()=>{
            const options = {
                enableAdvancedSplitting: true,
                enableTreeShaking: true,
                enableCompression: true,
                enableCaching: true,
                enablePreloading: true,
                performanceMode: 'production'
            };
            const config = (0, _webpackoptimizationconfig.getAdvancedSplitChunksConfig)(options);
            expect(config).toHaveProperty('chunks');
            expect(config).toHaveProperty('cacheGroups');
            expect(config.chunks).toBe('all');
            const cacheGroups = config.cacheGroups;
            expect(cacheGroups).toHaveProperty('framework');
            expect(cacheGroups).toHaveProperty('vendor');
            expect(cacheGroups).toHaveProperty('uiComponents');
            expect(cacheGroups).toHaveProperty('admin');
            // Verificar configuración de framework
            expect(cacheGroups.framework.priority).toBe(40);
            expect(cacheGroups.framework.enforce).toBe(true);
        });
        it('should generate optimization config for different modes', ()=>{
            const productionOptions = {
                enableAdvancedSplitting: true,
                enableTreeShaking: true,
                enableCompression: true,
                enableCaching: true,
                enablePreloading: true,
                performanceMode: 'production'
            };
            const developmentOptions = {
                enableAdvancedSplitting: false,
                enableTreeShaking: false,
                enableCompression: false,
                enableCaching: true,
                enablePreloading: false,
                performanceMode: 'development'
            };
            const prodConfig = (0, _webpackoptimizationconfig.getOptimizationConfig)(productionOptions);
            const devConfig = (0, _webpackoptimizationconfig.getOptimizationConfig)(developmentOptions);
            expect(prodConfig.usedExports).toBe(true);
            expect(prodConfig.concatenateModules).toBe(true);
            expect(prodConfig.runtimeChunk).toBe('single');
            expect(devConfig.usedExports).toBe(false);
            expect(devConfig.concatenateModules).toBe(false);
            expect(devConfig.runtimeChunk).toBe(false);
        });
        it('should have valid optimization presets', ()=>{
            expect(_webpackoptimizationconfig.OPTIMIZATION_PRESETS).toHaveProperty('development');
            expect(_webpackoptimizationconfig.OPTIMIZATION_PRESETS).toHaveProperty('production');
            expect(_webpackoptimizationconfig.OPTIMIZATION_PRESETS).toHaveProperty('analysis');
            const prodPreset = _webpackoptimizationconfig.OPTIMIZATION_PRESETS.production;
            expect(prodPreset.enableAdvancedSplitting).toBe(true);
            expect(prodPreset.enableTreeShaking).toBe(true);
            expect(prodPreset.performanceMode).toBe('production');
            const devPreset = _webpackoptimizationconfig.OPTIMIZATION_PRESETS.development;
            expect(devPreset.enableAdvancedSplitting).toBe(false);
            expect(devPreset.enableTreeShaking).toBe(false);
            expect(devPreset.performanceMode).toBe('development');
        });
    });
    describe('Integration Tests', ()=>{
        it('should work together - bundle analysis and budget monitoring', async ()=>{
            // Analizar bundles
            const bundleAnalysis = await bundleManager.analyzeBundles();
            // Analizar performance budgets
            const budgetReport = await budgetMonitor.analyzePerformance();
            // Verificar que ambos sistemas funcionan juntos
            // Los scores pueden diferir ligeramente debido a diferentes algoritmos de cálculo
            expect(bundleAnalysis.performance.score).toBeGreaterThan(0);
            expect(budgetReport.score).toBeGreaterThan(0);
            expect([
                'A',
                'B',
                'C',
                'D',
                'F'
            ]).toContain(bundleAnalysis.performance.grade);
            expect([
                'A',
                'B',
                'C',
                'D',
                'F'
            ]).toContain(budgetReport.grade);
            // Verificar que las métricas están en rangos razonables
            expect(bundleAnalysis.performance.firstLoadJS).toBeGreaterThan(0);
            expect(budgetReport.metrics.firstLoadJS).toBeGreaterThan(0);
        });
        it('should generate comprehensive optimization recommendations', async ()=>{
            const bundleAnalysis = await bundleManager.analyzeBundles();
            const budgetReport = await budgetMonitor.analyzePerformance();
            const bundleRecommendations = bundleAnalysis.recommendations;
            const budgetViolations = budgetReport.violations;
            // Si hay violaciones de presupuesto, debería haber recomendaciones
            if (budgetViolations.length > 0) {
                expect(bundleRecommendations.length).toBeGreaterThan(0);
            }
            // Las recomendaciones deberían estar ordenadas por prioridad
            for(let i = 1; i < bundleRecommendations.length; i++){
                const priorityOrder = {
                    critical: 4,
                    high: 3,
                    medium: 2,
                    low: 1
                };
                const currentPriority = priorityOrder[bundleRecommendations[i].priority];
                const previousPriority = priorityOrder[bundleRecommendations[i - 1].priority];
                expect(currentPriority).toBeLessThanOrEqual(previousPriority);
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXF9fdGVzdHNfX1xcb3B0aW1pemF0aW9uXFxidW5kbGUtb3B0aW1pemF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVEVTVFMgREUgQlVORExFIE9QVElNSVpBVElPTiBTWVNURU1cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IEJ1bmRsZU9wdGltaXphdGlvbk1hbmFnZXIgfSBmcm9tICdAL2xpYi9vcHRpbWl6YXRpb24vYnVuZGxlLW9wdGltaXphdGlvbi1tYW5hZ2VyJztcclxuaW1wb3J0IHsgUGVyZm9ybWFuY2VCdWRnZXRNb25pdG9yIH0gZnJvbSAnQC9saWIvb3B0aW1pemF0aW9uL3BlcmZvcm1hbmNlLWJ1ZGdldC1tb25pdG9yJztcclxuaW1wb3J0IHsgXHJcbiAgZ2V0QWR2YW5jZWRTcGxpdENodW5rc0NvbmZpZywgXHJcbiAgZ2V0T3B0aW1pemF0aW9uQ29uZmlnLFxyXG4gIE9QVElNSVpBVElPTl9QUkVTRVRTIFxyXG59IGZyb20gJ0AvbGliL29wdGltaXphdGlvbi93ZWJwYWNrLW9wdGltaXphdGlvbi1jb25maWcnO1xyXG5cclxuLy8gTW9jayBmaWxlIHN5c3RlbVxyXG5qZXN0Lm1vY2soJ2ZzJywgKCkgPT4gKHtcclxuICBwcm9taXNlczoge1xyXG4gICAgcmVhZEZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIGRlcGVuZGVuY2llczoge1xyXG4gICAgICAgICdyZWFjdCc6ICdeMTguMi4wJyxcclxuICAgICAgICAnbmV4dCc6ICdeMTUuMy4zJyxcclxuICAgICAgICAnZnJhbWVyLW1vdGlvbic6ICdeMTIuMjMuMCdcclxuICAgICAgfVxyXG4gICAgfSkpLFxyXG4gICAgd3JpdGVGaWxlOiBqZXN0LmZuKCksXHJcbiAgICBta2RpcjogamVzdC5mbigpXHJcbiAgfVxyXG59KSk7XHJcblxyXG5kZXNjcmliZSgnQnVuZGxlIE9wdGltaXphdGlvbiBTeXN0ZW0nLCAoKSA9PiB7XHJcbiAgbGV0IGJ1bmRsZU1hbmFnZXI6IEJ1bmRsZU9wdGltaXphdGlvbk1hbmFnZXI7XHJcbiAgbGV0IGJ1ZGdldE1vbml0b3I6IFBlcmZvcm1hbmNlQnVkZ2V0TW9uaXRvcjtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBidW5kbGVNYW5hZ2VyID0gQnVuZGxlT3B0aW1pemF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgYnVkZ2V0TW9uaXRvciA9IFBlcmZvcm1hbmNlQnVkZ2V0TW9uaXRvci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdCdW5kbGVPcHRpbWl6YXRpb25NYW5hZ2VyJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBiZSBhIHNpbmdsZXRvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgaW5zdGFuY2UxID0gQnVuZGxlT3B0aW1pemF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSBCdW5kbGVPcHRpbWl6YXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICAgIGV4cGVjdChpbnN0YW5jZTEpLnRvQmUoaW5zdGFuY2UyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSBidW5kbGVzIGFuZCByZXR1cm4gYW5hbHlzaXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgYnVuZGxlTWFuYWdlci5hbmFseXplQnVuZGxlcygpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgndG90YWxTaXplJyk7XHJcbiAgICAgIGV4cGVjdChhbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ2d6aXBwZWRTaXplJyk7XHJcbiAgICAgIGV4cGVjdChhbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ2NodW5rcycpO1xyXG4gICAgICBleHBlY3QoYW5hbHlzaXMpLnRvSGF2ZVByb3BlcnR5KCdkZXBlbmRlbmNpZXMnKTtcclxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0hhdmVQcm9wZXJ0eSgncmVjb21tZW5kYXRpb25zJyk7XHJcbiAgICAgIGV4cGVjdChhbmFseXNpcykudG9IYXZlUHJvcGVydHkoJ3BlcmZvcm1hbmNlJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QodHlwZW9mIGFuYWx5c2lzLnRvdGFsU2l6ZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGFuYWx5c2lzLmNodW5rcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGFuYWx5c2lzLmRlcGVuZGVuY2llcykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGFuYWx5c2lzLnJlY29tbWVuZGF0aW9ucykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGJ1bmRsZU1hbmFnZXIuYW5hbHl6ZUJ1bmRsZXMoKTtcclxuICAgICAgY29uc3QgeyBwZXJmb3JtYW5jZSB9ID0gYW5hbHlzaXM7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocGVyZm9ybWFuY2UpLnRvSGF2ZVByb3BlcnR5KCdmaXJzdExvYWRKUycpO1xyXG4gICAgICBleHBlY3QocGVyZm9ybWFuY2UpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbEpTJyk7XHJcbiAgICAgIGV4cGVjdChwZXJmb3JtYW5jZSkudG9IYXZlUHJvcGVydHkoJ3Njb3JlJyk7XHJcbiAgICAgIGV4cGVjdChwZXJmb3JtYW5jZSkudG9IYXZlUHJvcGVydHkoJ2dyYWRlJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocGVyZm9ybWFuY2Uuc2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChwZXJmb3JtYW5jZS5zY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgICBleHBlY3QoWydBJywgJ0InLCAnQycsICdEJywgJ0YnXSkudG9Db250YWluKHBlcmZvcm1hbmNlLmdyYWRlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIGFuYWx5c2lzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGJ1bmRsZU1hbmFnZXIuYW5hbHl6ZUJ1bmRsZXMoKTtcclxuICAgICAgY29uc3QgeyByZWNvbW1lbmRhdGlvbnMgfSA9IGFuYWx5c2lzO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVjb21tZW5kYXRpb25zKSkudG9CZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uID0gcmVjb21tZW5kYXRpb25zWzBdO1xyXG4gICAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbikudG9IYXZlUHJvcGVydHkoJ3R5cGUnKTtcclxuICAgICAgICBleHBlY3QocmVjb21tZW5kYXRpb24pLnRvSGF2ZVByb3BlcnR5KCdwcmlvcml0eScpO1xyXG4gICAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbikudG9IYXZlUHJvcGVydHkoJ2Rlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgZXhwZWN0KHJlY29tbWVuZGF0aW9uKS50b0hhdmVQcm9wZXJ0eSgnZXN0aW1hdGVkU2F2aW5ncycpO1xyXG4gICAgICAgIGV4cGVjdChyZWNvbW1lbmRhdGlvbikudG9IYXZlUHJvcGVydHkoJ2ltcGxlbWVudGF0aW9uJyk7XHJcbiAgICAgICAgZXhwZWN0KHJlY29tbWVuZGF0aW9uKS50b0hhdmVQcm9wZXJ0eSgnZWZmb3J0Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwZWN0KFsnY29kZS1zcGxpdHRpbmcnLCAndHJlZS1zaGFraW5nJywgJ2RlcGVuZGVuY3ktcmVwbGFjZW1lbnQnLCAnbGF6eS1sb2FkaW5nJywgJ2NvbXByZXNzaW9uJ10pXHJcbiAgICAgICAgICAudG9Db250YWluKHJlY29tbWVuZGF0aW9uLnR5cGUpO1xyXG4gICAgICAgIGV4cGVjdChbJ2NyaXRpY2FsJywgJ2hpZ2gnLCAnbWVkaXVtJywgJ2xvdyddKS50b0NvbnRhaW4ocmVjb21tZW5kYXRpb24ucHJpb3JpdHkpO1xyXG4gICAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddKS50b0NvbnRhaW4ocmVjb21tZW5kYXRpb24uZWZmb3J0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgY29uZmlndXJhdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcclxuICAgICAgICBtYXhDaHVua1NpemU6IDMwMCAqIDEwMjQsXHJcbiAgICAgICAgZW5hYmxlVHJlZVNoYWtpbmc6IGZhbHNlXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBidW5kbGVNYW5hZ2VyLnVwZGF0ZUNvbmZpZyhuZXdDb25maWcpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBsYSBjb25maWd1cmFjacOzbiBzZSBhY3R1YWxpesOzXHJcbiAgICAgIC8vIChFbiB1bmEgaW1wbGVtZW50YWNpw7NuIHJlYWwsIHRlbmRyw61hbW9zIHVuIGdldHRlciBwYXJhIGxhIGNvbmZpZylcclxuICAgICAgZXhwZWN0KHRydWUpLnRvQmUodHJ1ZSk7IC8vIFBsYWNlaG9sZGVyXHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIG9wdGltaXphdGlvbiByZXBvcnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgYnVuZGxlTWFuYWdlci5hbmFseXplQnVuZGxlcygpO1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBidW5kbGVNYW5hZ2VyLmdlbmVyYXRlT3B0aW1pemF0aW9uUmVwb3J0KGFuYWx5c2lzKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVwb3J0KS50b0JlKCdzdHJpbmcnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKCdCdW5kbGUgT3B0aW1pemF0aW9uIFJlcG9ydCcpO1xyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0NvbnRhaW4oJ1BlcmZvcm1hbmNlIE1ldHJpY3MnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKCdDaHVua3MgQW5hbHlzaXMnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9Db250YWluKCdUb3AgUmVjb21tZW5kYXRpb25zJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlQnVkZ2V0TW9uaXRvcicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgYmUgYSBzaW5nbGV0b24nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluc3RhbmNlMSA9IFBlcmZvcm1hbmNlQnVkZ2V0TW9uaXRvci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSBQZXJmb3JtYW5jZUJ1ZGdldE1vbml0b3IuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgZXhwZWN0KGluc3RhbmNlMSkudG9CZShpbnN0YW5jZTIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGRlZmF1bHQgYnVkZ2V0cyBjb25maWd1cmVkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBidWRnZXRzID0gYnVkZ2V0TW9uaXRvci5nZXRCdWRnZXRzKCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShidWRnZXRzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGJ1ZGdldHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBmaXJzdExvYWRCdWRnZXQgPSBidWRnZXRzLmZpbmQoYiA9PiBiLm5hbWUgPT09ICdGaXJzdCBMb2FkIEpTJyk7XHJcbiAgICAgIGV4cGVjdChmaXJzdExvYWRCdWRnZXQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChmaXJzdExvYWRCdWRnZXQ/LnRocmVzaG9sZCkudG9CZSgxMjggKiAxMDI0KTtcclxuICAgICAgZXhwZWN0KGZpcnN0TG9hZEJ1ZGdldD8uY2F0ZWdvcnkpLnRvQmUoJ2NyaXRpY2FsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGFkZCBhbmQgbWFuYWdlIGJ1ZGdldHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxDb3VudCA9IGJ1ZGdldE1vbml0b3IuZ2V0QnVkZ2V0cygpLmxlbmd0aDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5ld0J1ZGdldCA9IHtcclxuICAgICAgICBuYW1lOiAnVGVzdCBCdWRnZXQnLFxyXG4gICAgICAgIHR5cGU6ICdzaXplJyBhcyBjb25zdCxcclxuICAgICAgICB0aHJlc2hvbGQ6IDEwMCAqIDEwMjQsXHJcbiAgICAgICAgd2FybmluZzogODAgKiAxMDI0LFxyXG4gICAgICAgIHVuaXQ6ICdieXRlcycgYXMgY29uc3QsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdvcHRpb25hbCcgYXMgY29uc3QsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGJ1ZGdldCBmb3IgdGVzdGluZydcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGJ1ZGdldE1vbml0b3IuYWRkQnVkZ2V0KG5ld0J1ZGdldCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBidWRnZXRzID0gYnVkZ2V0TW9uaXRvci5nZXRCdWRnZXRzKCk7XHJcbiAgICAgIGV4cGVjdChidWRnZXRzLmxlbmd0aCkudG9CZShpbml0aWFsQ291bnQgKyAxKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFkZGVkQnVkZ2V0ID0gYnVkZ2V0cy5maW5kKGIgPT4gYi5uYW1lID09PSAnVGVzdCBCdWRnZXQnKTtcclxuICAgICAgZXhwZWN0KGFkZGVkQnVkZ2V0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoYWRkZWRCdWRnZXQ/LnRocmVzaG9sZCkudG9CZSgxMDAgKiAxMDI0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGV4aXN0aW5nIGJ1ZGdldHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1ZGdldHMgPSBidWRnZXRNb25pdG9yLmdldEJ1ZGdldHMoKTtcclxuICAgICAgY29uc3QgZmlyc3RCdWRnZXQgPSBidWRnZXRzWzBdO1xyXG4gICAgICBjb25zdCBvcmlnaW5hbFRocmVzaG9sZCA9IGZpcnN0QnVkZ2V0LnRocmVzaG9sZDtcclxuICAgICAgXHJcbiAgICAgIGJ1ZGdldE1vbml0b3IudXBkYXRlQnVkZ2V0KGZpcnN0QnVkZ2V0Lm5hbWUsIHsgdGhyZXNob2xkOiAyMDAgKiAxMDI0IH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgdXBkYXRlZEJ1ZGdldHMgPSBidWRnZXRNb25pdG9yLmdldEJ1ZGdldHMoKTtcclxuICAgICAgY29uc3QgdXBkYXRlZEJ1ZGdldCA9IHVwZGF0ZWRCdWRnZXRzLmZpbmQoYiA9PiBiLm5hbWUgPT09IGZpcnN0QnVkZ2V0Lm5hbWUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRCdWRnZXQ/LnRocmVzaG9sZCkudG9CZSgyMDAgKiAxMDI0KTtcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRCdWRnZXQ/LnRocmVzaG9sZCkubm90LnRvQmUob3JpZ2luYWxUaHJlc2hvbGQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBhbmFseXplIHBlcmZvcm1hbmNlIGFuZCBkZXRlY3QgdmlvbGF0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYnVkZ2V0TW9uaXRvci5hbmFseXplUGVyZm9ybWFuY2UoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ2J1aWxkSWQnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ3Zpb2xhdGlvbnMnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ21ldHJpY3MnKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydCkudG9IYXZlUHJvcGVydHkoJ3Njb3JlJyk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQpLnRvSGF2ZVByb3BlcnR5KCdncmFkZScpO1xyXG4gICAgICBleHBlY3QocmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgndHJlbmRzJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXBvcnQudmlvbGF0aW9ucykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVwb3J0LnNjb3JlKS50b0JlKCdudW1iZXInKTtcclxuICAgICAgZXhwZWN0KFsnQScsICdCJywgJ0MnLCAnRCcsICdGJ10pLnRvQ29udGFpbihyZXBvcnQuZ3JhZGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcGVyZm9ybWFuY2Ugc2NvcmUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBidWRnZXRNb25pdG9yLmFuYWx5emVQZXJmb3JtYW5jZSgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlcG9ydC5zY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KHJlcG9ydC5zY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xyXG4gICAgICBcclxuICAgICAgLy8gU2NvcmUgc2hvdWxkIGNvcnJlbGF0ZSB3aXRoIGdyYWRlXHJcbiAgICAgIGlmIChyZXBvcnQuZ3JhZGUgPT09ICdBJykge1xyXG4gICAgICAgIGV4cGVjdChyZXBvcnQuc2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoOTApO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlcG9ydC5ncmFkZSA9PT0gJ0YnKSB7XHJcbiAgICAgICAgZXhwZWN0KHJlcG9ydC5zY29yZSkudG9CZUxlc3NUaGFuKDYwKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB0ZXh0IHJlcG9ydCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYnVkZ2V0TW9uaXRvci5hbmFseXplUGVyZm9ybWFuY2UoKTtcclxuICAgICAgY29uc3QgdGV4dFJlcG9ydCA9IGJ1ZGdldE1vbml0b3IuZ2VuZXJhdGVUZXh0UmVwb3J0KHJlcG9ydCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QodHlwZW9mIHRleHRSZXBvcnQpLnRvQmUoJ3N0cmluZycpO1xyXG4gICAgICBleHBlY3QodGV4dFJlcG9ydCkudG9Db250YWluKCdQZXJmb3JtYW5jZSBCdWRnZXQgUmVwb3J0Jyk7XHJcbiAgICAgIGV4cGVjdCh0ZXh0UmVwb3J0KS50b0NvbnRhaW4oJ0J1aWxkIElEJyk7XHJcbiAgICAgIGV4cGVjdCh0ZXh0UmVwb3J0KS50b0NvbnRhaW4oJ1Njb3JlJyk7XHJcbiAgICAgIGV4cGVjdCh0ZXh0UmVwb3J0KS50b0NvbnRhaW4oJ01ldHJpY3MgU3VtbWFyeScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBwZXJmb3JtYW5jZSB0cmVuZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIExpbXBpYXIgaGlzdG9yaWFsIHByZXZpb1xyXG4gICAgICBjb25zdCBoaXN0b3J5ID0gYnVkZ2V0TW9uaXRvci5nZXRIaXN0b3J5KCk7XHJcbiAgICAgIHdoaWxlIChoaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBoaXN0b3J5LnBvcCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZW5lcmFyIHByaW1lciByZXBvcnRlXHJcbiAgICAgIGNvbnN0IHJlcG9ydDEgPSBhd2FpdCBidWRnZXRNb25pdG9yLmFuYWx5emVQZXJmb3JtYW5jZSgpO1xyXG4gICAgICBleHBlY3QocmVwb3J0MS50cmVuZHMubGVuZ3RoKS50b0JlKDApOyAvLyBObyBoYXkgaGlzdG9yaWFsIHByZXZpb1xyXG5cclxuICAgICAgLy8gU2ltdWxhciBzZWd1bmRvIHJlcG9ydGVcclxuICAgICAgY29uc3QgcmVwb3J0MiA9IGF3YWl0IGJ1ZGdldE1vbml0b3IuYW5hbHl6ZVBlcmZvcm1hbmNlKCk7XHJcbiAgICAgIGV4cGVjdChyZXBvcnQyLnRyZW5kcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuXHJcbiAgICAgIGNvbnN0IHRyZW5kID0gcmVwb3J0Mi50cmVuZHNbMF07XHJcbiAgICAgIGV4cGVjdCh0cmVuZCkudG9IYXZlUHJvcGVydHkoJ21ldHJpYycpO1xyXG4gICAgICBleHBlY3QodHJlbmQpLnRvSGF2ZVByb3BlcnR5KCdjdXJyZW50Jyk7XHJcbiAgICAgIGV4cGVjdCh0cmVuZCkudG9IYXZlUHJvcGVydHkoJ3ByZXZpb3VzJyk7XHJcbiAgICAgIGV4cGVjdCh0cmVuZCkudG9IYXZlUHJvcGVydHkoJ2NoYW5nZScpO1xyXG4gICAgICBleHBlY3QodHJlbmQpLnRvSGF2ZVByb3BlcnR5KCdjaGFuZ2VQZXJjZW50Jyk7XHJcbiAgICAgIGV4cGVjdCh0cmVuZCkudG9IYXZlUHJvcGVydHkoJ3RyZW5kJyk7XHJcbiAgICAgIGV4cGVjdChbJ2ltcHJvdmluZycsICdkZWdyYWRpbmcnLCAnc3RhYmxlJ10pLnRvQ29udGFpbih0cmVuZC50cmVuZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1dlYnBhY2sgT3B0aW1pemF0aW9uIENvbmZpZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYWR2YW5jZWQgc3BsaXQgY2h1bmtzIGNvbmZpZycsICgpID0+IHtcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICBlbmFibGVBZHZhbmNlZFNwbGl0dGluZzogdHJ1ZSxcclxuICAgICAgICBlbmFibGVUcmVlU2hha2luZzogdHJ1ZSxcclxuICAgICAgICBlbmFibGVDb21wcmVzc2lvbjogdHJ1ZSxcclxuICAgICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxyXG4gICAgICAgIGVuYWJsZVByZWxvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgcGVyZm9ybWFuY2VNb2RlOiAncHJvZHVjdGlvbicgYXMgY29uc3RcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGdldEFkdmFuY2VkU3BsaXRDaHVua3NDb25maWcob3B0aW9ucyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uZmlnKS50b0hhdmVQcm9wZXJ0eSgnY2h1bmtzJyk7XHJcbiAgICAgIGV4cGVjdChjb25maWcpLnRvSGF2ZVByb3BlcnR5KCdjYWNoZUdyb3VwcycpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmNodW5rcykudG9CZSgnYWxsJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjYWNoZUdyb3VwcyA9IGNvbmZpZy5jYWNoZUdyb3VwcztcclxuICAgICAgZXhwZWN0KGNhY2hlR3JvdXBzKS50b0hhdmVQcm9wZXJ0eSgnZnJhbWV3b3JrJyk7XHJcbiAgICAgIGV4cGVjdChjYWNoZUdyb3VwcykudG9IYXZlUHJvcGVydHkoJ3ZlbmRvcicpO1xyXG4gICAgICBleHBlY3QoY2FjaGVHcm91cHMpLnRvSGF2ZVByb3BlcnR5KCd1aUNvbXBvbmVudHMnKTtcclxuICAgICAgZXhwZWN0KGNhY2hlR3JvdXBzKS50b0hhdmVQcm9wZXJ0eSgnYWRtaW4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmaWNhciBjb25maWd1cmFjacOzbiBkZSBmcmFtZXdvcmtcclxuICAgICAgZXhwZWN0KGNhY2hlR3JvdXBzLmZyYW1ld29yay5wcmlvcml0eSkudG9CZSg0MCk7XHJcbiAgICAgIGV4cGVjdChjYWNoZUdyb3Vwcy5mcmFtZXdvcmsuZW5mb3JjZSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgb3B0aW1pemF0aW9uIGNvbmZpZyBmb3IgZGlmZmVyZW50IG1vZGVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9kdWN0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICBlbmFibGVBZHZhbmNlZFNwbGl0dGluZzogdHJ1ZSxcclxuICAgICAgICBlbmFibGVUcmVlU2hha2luZzogdHJ1ZSxcclxuICAgICAgICBlbmFibGVDb21wcmVzc2lvbjogdHJ1ZSxcclxuICAgICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxyXG4gICAgICAgIGVuYWJsZVByZWxvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgcGVyZm9ybWFuY2VNb2RlOiAncHJvZHVjdGlvbicgYXMgY29uc3RcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGRldmVsb3BtZW50T3B0aW9ucyA9IHtcclxuICAgICAgICBlbmFibGVBZHZhbmNlZFNwbGl0dGluZzogZmFsc2UsXHJcbiAgICAgICAgZW5hYmxlVHJlZVNoYWtpbmc6IGZhbHNlLFxyXG4gICAgICAgIGVuYWJsZUNvbXByZXNzaW9uOiBmYWxzZSxcclxuICAgICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxyXG4gICAgICAgIGVuYWJsZVByZWxvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlTW9kZTogJ2RldmVsb3BtZW50JyBhcyBjb25zdFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcHJvZENvbmZpZyA9IGdldE9wdGltaXphdGlvbkNvbmZpZyhwcm9kdWN0aW9uT3B0aW9ucyk7XHJcbiAgICAgIGNvbnN0IGRldkNvbmZpZyA9IGdldE9wdGltaXphdGlvbkNvbmZpZyhkZXZlbG9wbWVudE9wdGlvbnMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHByb2RDb25maWcudXNlZEV4cG9ydHMpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChwcm9kQ29uZmlnLmNvbmNhdGVuYXRlTW9kdWxlcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHByb2RDb25maWcucnVudGltZUNodW5rKS50b0JlKCdzaW5nbGUnKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChkZXZDb25maWcudXNlZEV4cG9ydHMpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QoZGV2Q29uZmlnLmNvbmNhdGVuYXRlTW9kdWxlcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChkZXZDb25maWcucnVudGltZUNodW5rKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGF2ZSB2YWxpZCBvcHRpbWl6YXRpb24gcHJlc2V0cycsICgpID0+IHtcclxuICAgICAgZXhwZWN0KE9QVElNSVpBVElPTl9QUkVTRVRTKS50b0hhdmVQcm9wZXJ0eSgnZGV2ZWxvcG1lbnQnKTtcclxuICAgICAgZXhwZWN0KE9QVElNSVpBVElPTl9QUkVTRVRTKS50b0hhdmVQcm9wZXJ0eSgncHJvZHVjdGlvbicpO1xyXG4gICAgICBleHBlY3QoT1BUSU1JWkFUSU9OX1BSRVNFVFMpLnRvSGF2ZVByb3BlcnR5KCdhbmFseXNpcycpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcHJvZFByZXNldCA9IE9QVElNSVpBVElPTl9QUkVTRVRTLnByb2R1Y3Rpb247XHJcbiAgICAgIGV4cGVjdChwcm9kUHJlc2V0LmVuYWJsZUFkdmFuY2VkU3BsaXR0aW5nKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocHJvZFByZXNldC5lbmFibGVUcmVlU2hha2luZykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHByb2RQcmVzZXQucGVyZm9ybWFuY2VNb2RlKS50b0JlKCdwcm9kdWN0aW9uJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkZXZQcmVzZXQgPSBPUFRJTUlaQVRJT05fUFJFU0VUUy5kZXZlbG9wbWVudDtcclxuICAgICAgZXhwZWN0KGRldlByZXNldC5lbmFibGVBZHZhbmNlZFNwbGl0dGluZykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChkZXZQcmVzZXQuZW5hYmxlVHJlZVNoYWtpbmcpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QoZGV2UHJlc2V0LnBlcmZvcm1hbmNlTW9kZSkudG9CZSgnZGV2ZWxvcG1lbnQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHdvcmsgdG9nZXRoZXIgLSBidW5kbGUgYW5hbHlzaXMgYW5kIGJ1ZGdldCBtb25pdG9yaW5nJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBBbmFsaXphciBidW5kbGVzXHJcbiAgICAgIGNvbnN0IGJ1bmRsZUFuYWx5c2lzID0gYXdhaXQgYnVuZGxlTWFuYWdlci5hbmFseXplQnVuZGxlcygpO1xyXG5cclxuICAgICAgLy8gQW5hbGl6YXIgcGVyZm9ybWFuY2UgYnVkZ2V0c1xyXG4gICAgICBjb25zdCBidWRnZXRSZXBvcnQgPSBhd2FpdCBidWRnZXRNb25pdG9yLmFuYWx5emVQZXJmb3JtYW5jZSgpO1xyXG5cclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBhbWJvcyBzaXN0ZW1hcyBmdW5jaW9uYW4ganVudG9zXHJcbiAgICAgIC8vIExvcyBzY29yZXMgcHVlZGVuIGRpZmVyaXIgbGlnZXJhbWVudGUgZGViaWRvIGEgZGlmZXJlbnRlcyBhbGdvcml0bW9zIGRlIGPDoWxjdWxvXHJcbiAgICAgIGV4cGVjdChidW5kbGVBbmFseXNpcy5wZXJmb3JtYW5jZS5zY29yZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoYnVkZ2V0UmVwb3J0LnNjb3JlKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIGV4cGVjdChbJ0EnLCAnQicsICdDJywgJ0QnLCAnRiddKS50b0NvbnRhaW4oYnVuZGxlQW5hbHlzaXMucGVyZm9ybWFuY2UuZ3JhZGUpO1xyXG4gICAgICBleHBlY3QoWydBJywgJ0InLCAnQycsICdEJywgJ0YnXSkudG9Db250YWluKGJ1ZGdldFJlcG9ydC5ncmFkZSk7XHJcblxyXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGxhcyBtw6l0cmljYXMgZXN0w6FuIGVuIHJhbmdvcyByYXpvbmFibGVzXHJcbiAgICAgIGV4cGVjdChidW5kbGVBbmFseXNpcy5wZXJmb3JtYW5jZS5maXJzdExvYWRKUykudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoYnVkZ2V0UmVwb3J0Lm1ldHJpY3MuZmlyc3RMb2FkSlMpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBvcHRpbWl6YXRpb24gcmVjb21tZW5kYXRpb25zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBidW5kbGVBbmFseXNpcyA9IGF3YWl0IGJ1bmRsZU1hbmFnZXIuYW5hbHl6ZUJ1bmRsZXMoKTtcclxuICAgICAgY29uc3QgYnVkZ2V0UmVwb3J0ID0gYXdhaXQgYnVkZ2V0TW9uaXRvci5hbmFseXplUGVyZm9ybWFuY2UoKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJ1bmRsZVJlY29tbWVuZGF0aW9ucyA9IGJ1bmRsZUFuYWx5c2lzLnJlY29tbWVuZGF0aW9ucztcclxuICAgICAgY29uc3QgYnVkZ2V0VmlvbGF0aW9ucyA9IGJ1ZGdldFJlcG9ydC52aW9sYXRpb25zO1xyXG4gICAgICBcclxuICAgICAgLy8gU2kgaGF5IHZpb2xhY2lvbmVzIGRlIHByZXN1cHVlc3RvLCBkZWJlcsOtYSBoYWJlciByZWNvbWVuZGFjaW9uZXNcclxuICAgICAgaWYgKGJ1ZGdldFZpb2xhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGV4cGVjdChidW5kbGVSZWNvbW1lbmRhdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIExhcyByZWNvbWVuZGFjaW9uZXMgZGViZXLDrWFuIGVzdGFyIG9yZGVuYWRhcyBwb3IgcHJpb3JpZGFkXHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYnVuZGxlUmVjb21tZW5kYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcHJpb3JpdHlPcmRlciA9IHsgY3JpdGljYWw6IDQsIGhpZ2g6IDMsIG1lZGl1bTogMiwgbG93OiAxIH07XHJcbiAgICAgICAgY29uc3QgY3VycmVudFByaW9yaXR5ID0gcHJpb3JpdHlPcmRlcltidW5kbGVSZWNvbW1lbmRhdGlvbnNbaV0ucHJpb3JpdHldO1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzUHJpb3JpdHkgPSBwcmlvcml0eU9yZGVyW2J1bmRsZVJlY29tbWVuZGF0aW9uc1tpIC0gMV0ucHJpb3JpdHldO1xyXG4gICAgICAgIGV4cGVjdChjdXJyZW50UHJpb3JpdHkpLnRvQmVMZXNzVGhhbk9yRXF1YWwocHJldmlvdXNQcmlvcml0eSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicHJvbWlzZXMiLCJyZWFkRmlsZSIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVwZW5kZW5jaWVzIiwid3JpdGVGaWxlIiwibWtkaXIiLCJkZXNjcmliZSIsImJ1bmRsZU1hbmFnZXIiLCJidWRnZXRNb25pdG9yIiwiYmVmb3JlRWFjaCIsIkJ1bmRsZU9wdGltaXphdGlvbk1hbmFnZXIiLCJnZXRJbnN0YW5jZSIsIlBlcmZvcm1hbmNlQnVkZ2V0TW9uaXRvciIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImluc3RhbmNlMSIsImluc3RhbmNlMiIsImV4cGVjdCIsInRvQmUiLCJhbmFseXNpcyIsImFuYWx5emVCdW5kbGVzIiwidG9IYXZlUHJvcGVydHkiLCJ0b3RhbFNpemUiLCJBcnJheSIsImlzQXJyYXkiLCJjaHVua3MiLCJyZWNvbW1lbmRhdGlvbnMiLCJwZXJmb3JtYW5jZSIsInNjb3JlIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJ0b0NvbnRhaW4iLCJncmFkZSIsImxlbmd0aCIsInJlY29tbWVuZGF0aW9uIiwidHlwZSIsInByaW9yaXR5IiwiZWZmb3J0IiwibmV3Q29uZmlnIiwibWF4Q2h1bmtTaXplIiwiZW5hYmxlVHJlZVNoYWtpbmciLCJ1cGRhdGVDb25maWciLCJyZXBvcnQiLCJnZW5lcmF0ZU9wdGltaXphdGlvblJlcG9ydCIsImJ1ZGdldHMiLCJnZXRCdWRnZXRzIiwidG9CZUdyZWF0ZXJUaGFuIiwiZmlyc3RMb2FkQnVkZ2V0IiwiZmluZCIsImIiLCJuYW1lIiwidG9CZURlZmluZWQiLCJ0aHJlc2hvbGQiLCJjYXRlZ29yeSIsImluaXRpYWxDb3VudCIsIm5ld0J1ZGdldCIsIndhcm5pbmciLCJ1bml0IiwiZGVzY3JpcHRpb24iLCJhZGRCdWRnZXQiLCJhZGRlZEJ1ZGdldCIsImZpcnN0QnVkZ2V0Iiwib3JpZ2luYWxUaHJlc2hvbGQiLCJ1cGRhdGVCdWRnZXQiLCJ1cGRhdGVkQnVkZ2V0cyIsInVwZGF0ZWRCdWRnZXQiLCJub3QiLCJhbmFseXplUGVyZm9ybWFuY2UiLCJ2aW9sYXRpb25zIiwidG9CZUxlc3NUaGFuIiwidGV4dFJlcG9ydCIsImdlbmVyYXRlVGV4dFJlcG9ydCIsImhpc3RvcnkiLCJnZXRIaXN0b3J5IiwicG9wIiwicmVwb3J0MSIsInRyZW5kcyIsInJlcG9ydDIiLCJ0cmVuZCIsIm9wdGlvbnMiLCJlbmFibGVBZHZhbmNlZFNwbGl0dGluZyIsImVuYWJsZUNvbXByZXNzaW9uIiwiZW5hYmxlQ2FjaGluZyIsImVuYWJsZVByZWxvYWRpbmciLCJwZXJmb3JtYW5jZU1vZGUiLCJjb25maWciLCJnZXRBZHZhbmNlZFNwbGl0Q2h1bmtzQ29uZmlnIiwiY2FjaGVHcm91cHMiLCJmcmFtZXdvcmsiLCJlbmZvcmNlIiwicHJvZHVjdGlvbk9wdGlvbnMiLCJkZXZlbG9wbWVudE9wdGlvbnMiLCJwcm9kQ29uZmlnIiwiZ2V0T3B0aW1pemF0aW9uQ29uZmlnIiwiZGV2Q29uZmlnIiwidXNlZEV4cG9ydHMiLCJjb25jYXRlbmF0ZU1vZHVsZXMiLCJydW50aW1lQ2h1bmsiLCJPUFRJTUlaQVRJT05fUFJFU0VUUyIsInByb2RQcmVzZXQiLCJwcm9kdWN0aW9uIiwiZGV2UHJlc2V0IiwiZGV2ZWxvcG1lbnQiLCJidW5kbGVBbmFseXNpcyIsImJ1ZGdldFJlcG9ydCIsImZpcnN0TG9hZEpTIiwibWV0cmljcyIsImJ1bmRsZVJlY29tbWVuZGF0aW9ucyIsImJ1ZGdldFZpb2xhdGlvbnMiLCJpIiwicHJpb3JpdHlPcmRlciIsImNyaXRpY2FsIiwiaGlnaCIsIm1lZGl1bSIsImxvdyIsImN1cnJlbnRQcmlvcml0eSIsInByZXZpb3VzUHJpb3JpdHkiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QyxzQ0FBc0M7QUFDdEMsc0NBQXNDOztBQVV0QyxtQkFBbUI7QUFDbkJBLEtBQUtDLElBQUksQ0FBQyxNQUFNLElBQU8sQ0FBQTtRQUNyQkMsVUFBVTtZQUNSQyxVQUFVSCxLQUFLSSxFQUFFLEdBQUdDLGlCQUFpQixDQUFDQyxL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