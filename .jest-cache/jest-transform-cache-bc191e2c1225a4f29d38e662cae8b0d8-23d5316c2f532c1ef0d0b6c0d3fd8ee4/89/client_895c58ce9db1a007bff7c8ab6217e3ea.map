{"version":3,"names":["cov_2535cqpi5o","actualCoverage","s","createClient","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseAnonKey","NEXT_PUBLIC_SUPABASE_ANON_KEY","b","console","error","NODE_ENV","Error","f","warn","_supabasejs","auth","autoRefreshToken","persistSession","detectSessionInUrl"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\integrations\\supabase\\client.ts"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - CLIENTE SUPABASE PARA FRONTEND\r\n// ===================================\r\n\r\nimport { createClient as createSupabaseClient } from '@supabase/supabase-js';\r\nimport { Database } from '@/types/database';\r\n\r\n// Verificar que las variables de entorno estén configuradas\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  console.error('Variables de entorno de Supabase faltantes en client.ts:', {\r\n    NEXT_PUBLIC_SUPABASE_URL: !!supabaseUrl,\r\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: !!supabaseAnonKey,\r\n  });\r\n\r\n  // En desarrollo, mostrar error detallado\r\n  if (process.env.NODE_ENV === 'development') {\r\n    throw new Error(\r\n      'Faltan variables de entorno de Supabase. Verifica NEXT_PUBLIC_SUPABASE_URL y NEXT_PUBLIC_SUPABASE_ANON_KEY en .env.local'\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Crea un cliente de Supabase para uso en el frontend\r\n * Este cliente maneja automáticamente la autenticación y sesiones\r\n */\r\nexport function createClient() {\r\n  if (!supabaseUrl || !supabaseAnonKey) {\r\n    console.warn('Supabase no configurado correctamente, retornando cliente mock');\r\n    return null;\r\n  }\r\n\r\n  return createSupabaseClient<Database>(supabaseUrl, supabaseAnonKey, {\r\n    auth: {\r\n      autoRefreshToken: true,\r\n      persistSession: true,\r\n      detectSessionInUrl: true,\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAqBU;;;;;;WAAAC,YAAA;;;;;kCAzBqC;AAGrD;AACA,MAAMC,WAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,OAAcG,OAAA,CAAQC,GAAG,CAACC,wBAAwB;AACxD,MAAMC,eAAA;AAAA;AAAA,CAAAR,cAAA,GAAAE,CAAA,OAAkBG,OAAA,CAAQC,GAAG,CAACG,6BAA6B;AAAA;AAAAT,cAAA,GAAAE,CAAA;AAEjE;AAAI;AAAA,CAAAF,cAAA,GAAAU,CAAA,WAACN,WAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAU,CAAA,UAAe,CAACF,eAAA,GAAiB;EAAA;EAAAR,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EACpCS,OAAA,CAAQC,KAAK,CAAC,4DAA4D;IACxEL,wBAAA,EAA0B,CAAC,CAACH,WAAA;IAC5BK,6BAAA,EAA+B,CAAC,CAACD;EACnC;EAEA;EAAA;EAAAR,cAAA,GAAAE,CAAA;EACA,IAAIG,OAAA,CAAQC,GAAG,CAACO,QAAQ,KAAK,eAAe;IAAA;IAAAb,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAC1C,MAAM,IAAIY,KAAA,CACR;EAEJ;EAAA;EAAA;IAAAd,cAAA,GAAAU,CAAA;EAAA;AACF;AAAA;AAAA;EAAAV,cAAA,GAAAU,CAAA;AAAA;AAMO,SAASP,aAAA;EAAA;EAAAH,cAAA,GAAAe,CAAA;EAAAf,cAAA,GAAAE,CAAA;EACd;EAAI;EAAA,CAAAF,cAAA,GAAAU,CAAA,WAACN,WAAA;EAAA;EAAA,CAAAJ,cAAA,GAAAU,CAAA,UAAe,CAACF,eAAA,GAAiB;IAAA;IAAAR,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IACpCS,OAAA,CAAQK,IAAI,CAAC;IAAA;IAAAhB,cAAA,GAAAE,CAAA;IACb,OAAO;EACT;EAAA;EAAA;IAAAF,cAAA,GAAAU,CAAA;EAAA;EAAAV,cAAA,GAAAE,CAAA;EAEA,OAAO,IAAAe,WAAA,CAAAd,YAAoB,EAAWC,WAAA,EAAaI,eAAA,EAAiB;IAClEU,IAAA,EAAM;MACJC,gBAAA,EAAkB;MAClBC,cAAA,EAAgB;MAChBC,kBAAA,EAAoB;IACtB;EACF;AACF","ignoreList":[]}