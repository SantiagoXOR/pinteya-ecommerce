454413304d8d578198585c792cda2bff
// ===================================
// PINTEYA E-COMMERCE - ENTERPRISE METRICS SYSTEM
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get AlertLevel () {
        return AlertLevel;
    },
    get BusinessMetricCategory () {
        return BusinessMetricCategory;
    },
    get EnterpriseMetricsCollector () {
        return EnterpriseMetricsCollector;
    },
    get MetricType () {
        return MetricType;
    },
    get enterpriseMetrics () {
        return enterpriseMetrics;
    },
    get recordBusinessMetric () {
        return recordBusinessMetric;
    },
    get recordPerformanceMetric () {
        return recordPerformanceMetric;
    },
    get recordSecurityMetric () {
        return recordSecurityMetric;
    },
    get recordUserExperienceMetric () {
        return recordUserExperienceMetric;
    }
});
const _logger = require("../enterprise/logger");
const _supabase = require("../integrations/supabase");
const _alertsystem = require("./alert-system");
// ✅ IMPORT CONDICIONAL: Solo cargar CacheUtils en servidor para evitar errores de ioredis en cliente
let CacheUtils = null;
if (typeof window === 'undefined') {
    // Solo en servidor
    try {
        CacheUtils = require('@/lib/cache-manager').CacheUtils;
    } catch (error) {
        console.warn('[EnterpriseMetrics] CacheUtils not available:', error);
    }
}
var MetricType = /*#__PURE__*/ function(MetricType) {
    MetricType["COUNTER"] = "counter";
    MetricType["GAUGE"] = "gauge";
    MetricType["HISTOGRAM"] = "histogram";
    MetricType["TIMER"] = "timer";
    MetricType["RATE"] = "rate"; // Tasa por unidad de tiempo
    return MetricType;
}({});
var BusinessMetricCategory = /*#__PURE__*/ function(BusinessMetricCategory) {
    BusinessMetricCategory["PERFORMANCE"] = "performance";
    BusinessMetricCategory["SECURITY"] = "security";
    BusinessMetricCategory["BUSINESS"] = "business";
    BusinessMetricCategory["INFRASTRUCTURE"] = "infrastructure";
    BusinessMetricCategory["USER_EXPERIENCE"] = "user_experience";
    return BusinessMetricCategory;
}({});
var AlertLevel = /*#__PURE__*/ function(AlertLevel) {
    AlertLevel["INFO"] = "info";
    AlertLevel["WARNING"] = "warning";
    AlertLevel["CRITICAL"] = "critical";
    AlertLevel["EMERGENCY"] = "emergency";
    return AlertLevel;
}({});
class EnterpriseMetricsCollector {
    constructor(){
        this.alertRules = new Map();
        this.activeAlerts = new Map();
        this.metricsBuffer = [];
        this.flushInterval = null;
        this.initializeDefaultAlerts();
        this.startMetricsFlush();
    }
    static getInstance() {
        if (!EnterpriseMetricsCollector.instance) {
            EnterpriseMetricsCollector.instance = new EnterpriseMetricsCollector();
        }
        return EnterpriseMetricsCollector.instance;
    }
    /**
   * Registra una métrica enterprise
   */ async recordMetric(name, value, type = "gauge", category = "performance", tags = {}, metadata) {
        try {
            const metric = {
                id: this.generateMetricId(),
                name,
                type,
                category,
                value,
                timestamp: new Date().toISOString(),
                tags,
                metadata
            };
            // Agregar a buffer para flush batch
            this.metricsBuffer.push(metric);
            // Verificar alertas
            await this.checkAlerts(metric);
            // Log para debugging
            _logger.logger.debug(_logger.LogLevel.DEBUG, `Metric recorded: ${name}`, {
                value,
                type,
                category,
                tags
            }, _logger.LogCategory.SYSTEM);
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, `Failed to record metric: ${name}`, {
                error: error instanceof Error ? error.message : 'Unknown error',
                value,
                type
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Métricas de performance específicas
   */ async recordPerformanceMetric(operation, duration, success, tags = {}) {
        await this.recordMetric(`performance.${operation}.duration`, duration, "timer", "performance", {
            ...tags,
            success: success.toString()
        });
        await this.recordMetric(`performance.${operation}.count`, 1, "counter", "performance", {
            ...tags,
            success: success.toString()
        });
    }
    /**
   * Métricas de negocio específicas
   */ async recordBusinessMetric(event, value = 1, tags = {}) {
        await this.recordMetric(`business.${event}`, value, "counter", "business", tags);
    }
    /**
   * Métricas de seguridad específicas
   */ async recordSecurityMetric(event, severity, tags = {}) {
        await this.recordMetric(`security.${event}`, 1, "counter", "security", {
            ...tags,
            severity
        });
    }
    /**
   * Métricas de experiencia de usuario
   */ async recordUserExperienceMetric(metric, value, userId, tags = {}) {
        await this.recordMetric(`ux.${metric}`, value, "gauge", "user_experience", {
            ...tags,
            userId: userId || 'anonymous'
        });
    }
    /**
   * Configura una regla de alerta
   */ setAlertRule(rule) {
        this.alertRules.set(rule.id, rule);
        _logger.logger.info(_logger.LogLevel.INFO, `Alert rule configured: ${rule.id}`, {
            metricName: rule.metricName,
            threshold: rule.threshold,
            level: rule.level
        }, _logger.LogCategory.SYSTEM);
    }
    /**
   * Verifica alertas para una métrica
   */ async checkAlerts(metric) {
        for (const rule of this.alertRules.values()){
            if (!rule.enabled || rule.metricName !== metric.name) {
                continue;
            }
            // Verificar si ya hay una alerta activa en cooldown
            const existingAlert = Array.from(this.activeAlerts.values()).find((alert)=>alert.ruleId === rule.id && !alert.resolvedAt);
            if (existingAlert) {
                const cooldownEnd = new Date(existingAlert.triggeredAt);
                cooldownEnd.setMinutes(cooldownEnd.getMinutes() + rule.cooldownMinutes);
                if (new Date() < cooldownEnd) {
                    continue; // Aún en cooldown
                }
            }
            // Evaluar condición
            const triggered = this.evaluateCondition(metric.value, rule.condition, rule.threshold);
            if (triggered) {
                await this.triggerAlert(rule, metric);
            }
        }
    }
    /**
   * Evalúa condición de alerta
   */ evaluateCondition(value, condition, threshold) {
        switch(condition){
            case 'gt':
                return value > threshold;
            case 'gte':
                return value >= threshold;
            case 'lt':
                return value < threshold;
            case 'lte':
                return value <= threshold;
            case 'eq':
                return value === threshold;
            default:
                return false;
        }
    }
    /**
   * Dispara una alerta usando el sistema enterprise
   */ async triggerAlert(rule, metric) {
        // Convertir nivel de alerta al sistema enterprise
        const alertLevel = this.convertToAlertSystemLevel(rule.level);
        // Usar el sistema de alertas enterprise
        const alert = await _alertsystem.enterpriseAlertSystem.triggerAlert(rule.id, rule.metricName, metric.value, `${rule.description} - Value: ${metric.value}, Threshold: ${rule.threshold}`);
        if (alert) {
            // Mantener referencia local para compatibilidad
            const localAlert = {
                id: alert.id,
                ruleId: alert.ruleId,
                metricName: alert.metricName,
                level: rule.level,
                message: alert.message,
                value: alert.value,
                threshold: alert.threshold,
                triggeredAt: alert.triggeredAt,
                metadata: {
                    metric: metric,
                    rule: rule
                }
            };
            this.activeAlerts.set(alert.id, localAlert);
            // Log alerta
            _logger.logger.warn(_logger.LogLevel.WARN, `Alert triggered via enterprise system: ${rule.id}`, {
                alertId: alert.id,
                level: alert.level,
                metricName: alert.metricName,
                value: alert.value,
                threshold: alert.threshold
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Ejecuta acción de alerta
   */ async executeAlertAction(action, alert) {
        try {
            switch(action.type){
                case 'log':
                    _logger.logger.error(_logger.LogLevel.ERROR, `ALERT: ${alert.message}`, {
                        alertId: alert.id,
                        level: alert.level
                    }, _logger.LogCategory.SYSTEM);
                    break;
                case 'webhook':
                    if (action.config.url) {
                        await fetch(action.config.url, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(alert)
                        });
                    }
                    break;
                case 'email':
                    // TODO: Implementar envío de email
                    _logger.logger.info(_logger.LogLevel.INFO, `Email alert would be sent to: ${action.config.to}`, {
                        alertId: alert.id
                    }, _logger.LogCategory.SYSTEM);
                    break;
                case 'slack':
                    // TODO: Implementar notificación Slack
                    _logger.logger.info(_logger.LogLevel.INFO, `Slack alert would be sent to: ${action.config.channel}`, {
                        alertId: alert.id
                    }, _logger.LogCategory.SYSTEM);
                    break;
            }
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, `Failed to execute alert action: ${action.type}`, {
                error: error instanceof Error ? error.message : 'Unknown error',
                alertId: alert.id
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Obtiene métricas agregadas
   */ async getAggregatedMetrics(metricName, period, startTime, endTime) {
        const cacheKey = `metrics:aggregated:${metricName}:${period}:${startTime}:${endTime}`;
        // ✅ CACHE CONDICIONAL: Solo usar cache en servidor
        const fetchData = async ()=>{
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                throw new Error('Supabase client not available');
            }
            // Query con agregación SQL
            const { data, error } = await supabase.rpc('aggregate_metrics', {
                metric_name: metricName,
                period_interval: period,
                start_time: startTime,
                end_time: endTime
            });
            if (error) {
                throw new Error(`Failed to aggregate metrics: ${error.message}`);
            }
            return data || [];
        };
        // Usar cache solo si está disponible (servidor)
        if (CacheUtils && typeof window === 'undefined') {
            return CacheUtils.cacheMetricsAggregation(cacheKey, fetchData);
        } else {
            return fetchData();
        }
    }
    /**
   * Flush métricas a base de datos
   */ async flushMetrics() {
        if (this.metricsBuffer.length === 0) {
            return;
        }
        try {
            const metrics = [
                ...this.metricsBuffer
            ];
            this.metricsBuffer = [];
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                _logger.logger.error(_logger.LogLevel.ERROR, 'Supabase client not available for metrics flush', {}, _logger.LogCategory.SYSTEM);
                return;
            }
            const { error } = await supabase.from('enterprise_metrics').insert(metrics.map((metric)=>({
                    id: metric.id,
                    name: metric.name,
                    type: metric.type,
                    category: metric.category,
                    value: metric.value,
                    timestamp: metric.timestamp,
                    tags: metric.tags,
                    metadata: metric.metadata
                })));
            if (error) {
                _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to flush metrics to database', {
                    error: error.message,
                    metricsCount: metrics.length
                }, _logger.LogCategory.SYSTEM);
            } else {
                _logger.logger.debug(_logger.LogLevel.DEBUG, `Flushed ${metrics.length} metrics to database`, {}, _logger.LogCategory.SYSTEM);
            }
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Error during metrics flush', {
                error: error instanceof Error ? error.message : 'Unknown error'
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Inicializa alertas por defecto
   */ initializeDefaultAlerts() {
        // Alerta de response time alto
        this.setAlertRule({
            id: 'high_response_time',
            metricName: 'performance.api.duration',
            condition: 'gt',
            threshold: 5000,
            level: "warning",
            enabled: true,
            cooldownMinutes: 5,
            description: 'API response time is too high',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
        // Alerta de error rate alto
        this.setAlertRule({
            id: 'high_error_rate',
            metricName: 'performance.api.error_rate',
            condition: 'gt',
            threshold: 0.05,
            level: "critical",
            enabled: true,
            cooldownMinutes: 2,
            description: 'API error rate is too high',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
        // Alerta de violaciones de seguridad
        this.setAlertRule({
            id: 'security_violations',
            metricName: 'security.violation',
            condition: 'gte',
            threshold: 1,
            level: "emergency",
            enabled: true,
            cooldownMinutes: 1,
            description: 'Security violation detected',
            actions: [
                {
                    type: 'log',
                    config: {}
                }
            ]
        });
    }
    /**
   * Inicia flush automático de métricas
   */ startMetricsFlush() {
        this.flushInterval = setInterval(()=>{
            this.flushMetrics();
        }, 30000); // Flush cada 30 segundos
    }
    /**
   * Almacena alerta en base de datos
   */ async storeAlert(alert) {
        try {
            const supabase = (0, _supabase.getSupabaseClient)(true);
            if (!supabase) {
                return;
            }
            await supabase.from('enterprise_alerts').insert({
                id: alert.id,
                rule_id: alert.ruleId,
                metric_name: alert.metricName,
                level: alert.level,
                message: alert.message,
                value: alert.value,
                threshold: alert.threshold,
                triggered_at: alert.triggeredAt,
                resolved_at: alert.resolvedAt,
                metadata: alert.metadata
            });
        } catch (error) {
            _logger.logger.error(_logger.LogLevel.ERROR, 'Failed to store alert', {
                error: error instanceof Error ? error.message : 'Unknown error',
                alertId: alert.id
            }, _logger.LogCategory.SYSTEM);
        }
    }
    /**
   * Genera ID único para métrica
   */ generateMetricId() {
        return `metric_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    /**
   * Convierte nivel de alerta al sistema enterprise
   */ convertToAlertSystemLevel(level) {
        switch(level){
            case "info":
                return _alertsystem.AlertLevel.INFO;
            case "warning":
                return _alertsystem.AlertLevel.WARNING;
            case "critical":
                return _alertsystem.AlertLevel.CRITICAL;
            case "emergency":
                return _alertsystem.AlertLevel.EMERGENCY;
            default:
                return _alertsystem.AlertLevel.INFO;
        }
    }
    /**
   * Genera ID único para alerta
   */ generateAlertId() {
        return `alert_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    }
    /**
   * Limpia recursos
   */ destroy() {
        if (this.flushInterval) {
            clearInterval(this.flushInterval);
            this.flushInterval = null;
        }
        this.flushMetrics(); // Flush final
    }
}
const enterpriseMetrics = EnterpriseMetricsCollector.getInstance();
const recordPerformanceMetric = enterpriseMetrics.recordPerformanceMetric.bind(enterpriseMetrics);
const recordBusinessMetric = enterpriseMetrics.recordBusinessMetric.bind(enterpriseMetrics);
const recordSecurityMetric = enterpriseMetrics.recordSecurityMetric.bind(enterpriseMetrics);
const recordUserExperienceMetric = enterpriseMetrics.recordUserExperienceMetric.bind(enterpriseMetrics);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxtb25pdG9yaW5nXFxlbnRlcnByaXNlLW1ldHJpY3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gRU5URVJQUklTRSBNRVRSSUNTIFNZU1RFTVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICdAL2xpYi9lbnRlcnByaXNlL2xvZ2dlcic7XHJcbmltcG9ydCB7IGdldFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQC9saWIvaW50ZWdyYXRpb25zL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgZW50ZXJwcmlzZUFsZXJ0U3lzdGVtLCBBbGVydExldmVsIGFzIEFsZXJ0U3lzdGVtTGV2ZWwgfSBmcm9tICcuL2FsZXJ0LXN5c3RlbSc7XHJcblxyXG4vLyDinIUgSU1QT1JUIENPTkRJQ0lPTkFMOiBTb2xvIGNhcmdhciBDYWNoZVV0aWxzIGVuIHNlcnZpZG9yIHBhcmEgZXZpdGFyIGVycm9yZXMgZGUgaW9yZWRpcyBlbiBjbGllbnRlXHJcbmxldCBDYWNoZVV0aWxzOiBhbnkgPSBudWxsO1xyXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAvLyBTb2xvIGVuIHNlcnZpZG9yXHJcbiAgdHJ5IHtcclxuICAgIENhY2hlVXRpbHMgPSByZXF1aXJlKCdAL2xpYi9jYWNoZS1tYW5hZ2VyJykuQ2FjaGVVdGlscztcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS53YXJuKCdbRW50ZXJwcmlzZU1ldHJpY3NdIENhY2hlVXRpbHMgbm90IGF2YWlsYWJsZTonLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBUaXBvcyBkZSBtw6l0cmljYXMgZW50ZXJwcmlzZVxyXG5leHBvcnQgZW51bSBNZXRyaWNUeXBlIHtcclxuICBDT1VOVEVSID0gJ2NvdW50ZXInLCAgICAgICAgICAgLy8gQ29udGFkb3IgaW5jcmVtZW50YWxcclxuICBHQVVHRSA9ICdnYXVnZScsICAgICAgICAgICAgICAvLyBWYWxvciBhY3R1YWxcclxuICBISVNUT0dSQU0gPSAnaGlzdG9ncmFtJywgICAgICAgLy8gRGlzdHJpYnVjacOzbiBkZSB2YWxvcmVzXHJcbiAgVElNRVIgPSAndGltZXInLCAgICAgICAgICAgICAgLy8gTWVkaWNpw7NuIGRlIHRpZW1wb1xyXG4gIFJBVEUgPSAncmF0ZScgICAgICAgICAgICAgICAgIC8vIFRhc2EgcG9yIHVuaWRhZCBkZSB0aWVtcG9cclxufVxyXG5cclxuLy8gQ2F0ZWdvcsOtYXMgZGUgbcOpdHJpY2FzIGRlIG5lZ29jaW9cclxuZXhwb3J0IGVudW0gQnVzaW5lc3NNZXRyaWNDYXRlZ29yeSB7XHJcbiAgUEVSRk9STUFOQ0UgPSAncGVyZm9ybWFuY2UnLFxyXG4gIFNFQ1VSSVRZID0gJ3NlY3VyaXR5JyxcclxuICBCVVNJTkVTUyA9ICdidXNpbmVzcycsXHJcbiAgSU5GUkFTVFJVQ1RVUkUgPSAnaW5mcmFzdHJ1Y3R1cmUnLFxyXG4gIFVTRVJfRVhQRVJJRU5DRSA9ICd1c2VyX2V4cGVyaWVuY2UnXHJcbn1cclxuXHJcbi8vIE5pdmVsZXMgZGUgYWxlcnRhXHJcbmV4cG9ydCBlbnVtIEFsZXJ0TGV2ZWwge1xyXG4gIElORk8gPSAnaW5mbycsXHJcbiAgV0FSTklORyA9ICd3YXJuaW5nJyxcclxuICBDUklUSUNBTCA9ICdjcml0aWNhbCcsXHJcbiAgRU1FUkdFTkNZID0gJ2VtZXJnZW5jeSdcclxufVxyXG5cclxuLy8gTcOpdHJpY2EgZW50ZXJwcmlzZVxyXG5leHBvcnQgaW50ZXJmYWNlIEVudGVycHJpc2VNZXRyaWMge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IE1ldHJpY1R5cGU7XHJcbiAgY2F0ZWdvcnk6IEJ1c2luZXNzTWV0cmljQ2F0ZWdvcnk7XHJcbiAgdmFsdWU6IG51bWJlcjtcclxuICB0aW1lc3RhbXA6IHN0cmluZztcclxuICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xyXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICBhZ2dyZWdhdGlvblBlcmlvZD86IHN0cmluZzsgLy8gJzFtJywgJzVtJywgJzFoJywgJzFkJ1xyXG59XHJcblxyXG4vLyBDb25maWd1cmFjacOzbiBkZSBhbGVydGFcclxuZXhwb3J0IGludGVyZmFjZSBBbGVydFJ1bGUge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbWV0cmljTmFtZTogc3RyaW5nO1xyXG4gIGNvbmRpdGlvbjogJ2d0JyB8ICdsdCcgfCAnZXEnIHwgJ2d0ZScgfCAnbHRlJztcclxuICB0aHJlc2hvbGQ6IG51bWJlcjtcclxuICBsZXZlbDogQWxlcnRMZXZlbDtcclxuICBlbmFibGVkOiBib29sZWFuO1xyXG4gIGNvb2xkb3duTWludXRlczogbnVtYmVyO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgYWN0aW9uczogQWxlcnRBY3Rpb25bXTtcclxufVxyXG5cclxuLy8gQWNjacOzbiBkZSBhbGVydGFcclxuZXhwb3J0IGludGVyZmFjZSBBbGVydEFjdGlvbiB7XHJcbiAgdHlwZTogJ2VtYWlsJyB8ICd3ZWJob29rJyB8ICdsb2cnIHwgJ3NsYWNrJztcclxuICBjb25maWc6IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbn1cclxuXHJcbi8vIEFsZXJ0YSBhY3RpdmFcclxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVBbGVydCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBydWxlSWQ6IHN0cmluZztcclxuICBtZXRyaWNOYW1lOiBzdHJpbmc7XHJcbiAgbGV2ZWw6IEFsZXJ0TGV2ZWw7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIHZhbHVlOiBudW1iZXI7XHJcbiAgdGhyZXNob2xkOiBudW1iZXI7XHJcbiAgdHJpZ2dlcmVkQXQ6IHN0cmluZztcclxuICByZXNvbHZlZEF0Pzogc3RyaW5nO1xyXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxufVxyXG5cclxuLy8gQWdyZWdhY2nDs24gdGVtcG9yYWxcclxuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNBZ2dyZWdhdGlvbiB7XHJcbiAgcGVyaW9kOiBzdHJpbmc7XHJcbiAgc3RhcnRUaW1lOiBzdHJpbmc7XHJcbiAgZW5kVGltZTogc3RyaW5nO1xyXG4gIGNvdW50OiBudW1iZXI7XHJcbiAgc3VtOiBudW1iZXI7XHJcbiAgYXZnOiBudW1iZXI7XHJcbiAgbWluOiBudW1iZXI7XHJcbiAgbWF4OiBudW1iZXI7XHJcbiAgcDUwOiBudW1iZXI7XHJcbiAgcDk1OiBudW1iZXI7XHJcbiAgcDk5OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaXN0ZW1hIGRlIE3DqXRyaWNhcyBFbnRlcnByaXNlIGNvbiBhZ3JlZ2FjacOzbiB0ZW1wb3JhbCB5IGFsZXJ0YXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvciB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEVudGVycHJpc2VNZXRyaWNzQ29sbGVjdG9yO1xyXG4gIHByaXZhdGUgYWxlcnRSdWxlczogTWFwPHN0cmluZywgQWxlcnRSdWxlPiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIGFjdGl2ZUFsZXJ0czogTWFwPHN0cmluZywgQWN0aXZlQWxlcnQ+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgbWV0cmljc0J1ZmZlcjogRW50ZXJwcmlzZU1ldHJpY1tdID0gW107XHJcbiAgcHJpdmF0ZSBmbHVzaEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZURlZmF1bHRBbGVydHMoKTtcclxuICAgIHRoaXMuc3RhcnRNZXRyaWNzRmx1c2goKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3RvciB7XHJcbiAgICBpZiAoIUVudGVycHJpc2VNZXRyaWNzQ29sbGVjdG9yLmluc3RhbmNlKSB7XHJcbiAgICAgIEVudGVycHJpc2VNZXRyaWNzQ29sbGVjdG9yLmluc3RhbmNlID0gbmV3IEVudGVycHJpc2VNZXRyaWNzQ29sbGVjdG9yKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IuaW5zdGFuY2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYSB1bmEgbcOpdHJpY2EgZW50ZXJwcmlzZVxyXG4gICAqL1xyXG4gIGFzeW5jIHJlY29yZE1ldHJpYyhcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICB0eXBlOiBNZXRyaWNUeXBlID0gTWV0cmljVHlwZS5HQVVHRSxcclxuICAgIGNhdGVnb3J5OiBCdXNpbmVzc01ldHJpY0NhdGVnb3J5ID0gQnVzaW5lc3NNZXRyaWNDYXRlZ29yeS5QRVJGT1JNQU5DRSxcclxuICAgIHRhZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fSxcclxuICAgIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PlxyXG4gICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbWV0cmljOiBFbnRlcnByaXNlTWV0cmljID0ge1xyXG4gICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlTWV0cmljSWQoKSxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgdGFncyxcclxuICAgICAgICBtZXRhZGF0YVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQWdyZWdhciBhIGJ1ZmZlciBwYXJhIGZsdXNoIGJhdGNoXHJcbiAgICAgIHRoaXMubWV0cmljc0J1ZmZlci5wdXNoKG1ldHJpYyk7XHJcblxyXG4gICAgICAvLyBWZXJpZmljYXIgYWxlcnRhc1xyXG4gICAgICBhd2FpdCB0aGlzLmNoZWNrQWxlcnRzKG1ldHJpYyk7XHJcblxyXG4gICAgICAvLyBMb2cgcGFyYSBkZWJ1Z2dpbmdcclxuICAgICAgbG9nZ2VyLmRlYnVnKExvZ0xldmVsLkRFQlVHLCBgTWV0cmljIHJlY29yZGVkOiAke25hbWV9YCwge1xyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgdGFnc1xyXG4gICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcihMb2dMZXZlbC5FUlJPUiwgYEZhaWxlZCB0byByZWNvcmQgbWV0cmljOiAke25hbWV9YCwge1xyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICB0eXBlXHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNw6l0cmljYXMgZGUgcGVyZm9ybWFuY2UgZXNwZWPDrWZpY2FzXHJcbiAgICovXHJcbiAgYXN5bmMgcmVjb3JkUGVyZm9ybWFuY2VNZXRyaWMoXHJcbiAgICBvcGVyYXRpb246IHN0cmluZyxcclxuICAgIGR1cmF0aW9uOiBudW1iZXIsXHJcbiAgICBzdWNjZXNzOiBib29sZWFuLFxyXG4gICAgdGFnczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XHJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLnJlY29yZE1ldHJpYyhcclxuICAgICAgYHBlcmZvcm1hbmNlLiR7b3BlcmF0aW9ufS5kdXJhdGlvbmAsXHJcbiAgICAgIGR1cmF0aW9uLFxyXG4gICAgICBNZXRyaWNUeXBlLlRJTUVSLFxyXG4gICAgICBCdXNpbmVzc01ldHJpY0NhdGVnb3J5LlBFUkZPUk1BTkNFLFxyXG4gICAgICB7IC4uLnRhZ3MsIHN1Y2Nlc3M6IHN1Y2Nlc3MudG9TdHJpbmcoKSB9XHJcbiAgICApO1xyXG5cclxuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxyXG4gICAgICBgcGVyZm9ybWFuY2UuJHtvcGVyYXRpb259LmNvdW50YCxcclxuICAgICAgMSxcclxuICAgICAgTWV0cmljVHlwZS5DT1VOVEVSLFxyXG4gICAgICBCdXNpbmVzc01ldHJpY0NhdGVnb3J5LlBFUkZPUk1BTkNFLFxyXG4gICAgICB7IC4uLnRhZ3MsIHN1Y2Nlc3M6IHN1Y2Nlc3MudG9TdHJpbmcoKSB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTcOpdHJpY2FzIGRlIG5lZ29jaW8gZXNwZWPDrWZpY2FzXHJcbiAgICovXHJcbiAgYXN5bmMgcmVjb3JkQnVzaW5lc3NNZXRyaWMoXHJcbiAgICBldmVudDogc3RyaW5nLFxyXG4gICAgdmFsdWU6IG51bWJlciA9IDEsXHJcbiAgICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxyXG4gICAgICBgYnVzaW5lc3MuJHtldmVudH1gLFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgTWV0cmljVHlwZS5DT1VOVEVSLFxyXG4gICAgICBCdXNpbmVzc01ldHJpY0NhdGVnb3J5LkJVU0lORVNTLFxyXG4gICAgICB0YWdzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTcOpdHJpY2FzIGRlIHNlZ3VyaWRhZCBlc3BlY8OtZmljYXNcclxuICAgKi9cclxuICBhc3luYyByZWNvcmRTZWN1cml0eU1ldHJpYyhcclxuICAgIGV2ZW50OiBzdHJpbmcsXHJcbiAgICBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCcsXHJcbiAgICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxyXG4gICAgICBgc2VjdXJpdHkuJHtldmVudH1gLFxyXG4gICAgICAxLFxyXG4gICAgICBNZXRyaWNUeXBlLkNPVU5URVIsXHJcbiAgICAgIEJ1c2luZXNzTWV0cmljQ2F0ZWdvcnkuU0VDVVJJVFksXHJcbiAgICAgIHsgLi4udGFncywgc2V2ZXJpdHkgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE3DqXRyaWNhcyBkZSBleHBlcmllbmNpYSBkZSB1c3VhcmlvXHJcbiAgICovXHJcbiAgYXN5bmMgcmVjb3JkVXNlckV4cGVyaWVuY2VNZXRyaWMoXHJcbiAgICBtZXRyaWM6IHN0cmluZyxcclxuICAgIHZhbHVlOiBudW1iZXIsXHJcbiAgICB1c2VySWQ/OiBzdHJpbmcsXHJcbiAgICB0YWdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cclxuICApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMucmVjb3JkTWV0cmljKFxyXG4gICAgICBgdXguJHttZXRyaWN9YCxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIE1ldHJpY1R5cGUuR0FVR0UsXHJcbiAgICAgIEJ1c2luZXNzTWV0cmljQ2F0ZWdvcnkuVVNFUl9FWFBFUklFTkNFLFxyXG4gICAgICB7IC4uLnRhZ3MsIHVzZXJJZDogdXNlcklkIHx8ICdhbm9ueW1vdXMnIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25maWd1cmEgdW5hIHJlZ2xhIGRlIGFsZXJ0YVxyXG4gICAqL1xyXG4gIHNldEFsZXJ0UnVsZShydWxlOiBBbGVydFJ1bGUpOiB2b2lkIHtcclxuICAgIHRoaXMuYWxlcnRSdWxlcy5zZXQocnVsZS5pZCwgcnVsZSk7XHJcbiAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCBgQWxlcnQgcnVsZSBjb25maWd1cmVkOiAke3J1bGUuaWR9YCwge1xyXG4gICAgICBtZXRyaWNOYW1lOiBydWxlLm1ldHJpY05hbWUsXHJcbiAgICAgIHRocmVzaG9sZDogcnVsZS50aHJlc2hvbGQsXHJcbiAgICAgIGxldmVsOiBydWxlLmxldmVsXHJcbiAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmVyaWZpY2EgYWxlcnRhcyBwYXJhIHVuYSBtw6l0cmljYVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgY2hlY2tBbGVydHMobWV0cmljOiBFbnRlcnByaXNlTWV0cmljKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5hbGVydFJ1bGVzLnZhbHVlcygpKSB7XHJcbiAgICAgIGlmICghcnVsZS5lbmFibGVkIHx8IHJ1bGUubWV0cmljTmFtZSAhPT0gbWV0cmljLm5hbWUpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVmVyaWZpY2FyIHNpIHlhIGhheSB1bmEgYWxlcnRhIGFjdGl2YSBlbiBjb29sZG93blxyXG4gICAgICBjb25zdCBleGlzdGluZ0FsZXJ0ID0gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZUFsZXJ0cy52YWx1ZXMoKSlcclxuICAgICAgICAuZmluZChhbGVydCA9PiBhbGVydC5ydWxlSWQgPT09IHJ1bGUuaWQgJiYgIWFsZXJ0LnJlc29sdmVkQXQpO1xyXG5cclxuICAgICAgaWYgKGV4aXN0aW5nQWxlcnQpIHtcclxuICAgICAgICBjb25zdCBjb29sZG93bkVuZCA9IG5ldyBEYXRlKGV4aXN0aW5nQWxlcnQudHJpZ2dlcmVkQXQpO1xyXG4gICAgICAgIGNvb2xkb3duRW5kLnNldE1pbnV0ZXMoY29vbGRvd25FbmQuZ2V0TWludXRlcygpICsgcnVsZS5jb29sZG93bk1pbnV0ZXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChuZXcgRGF0ZSgpIDwgY29vbGRvd25FbmQpIHtcclxuICAgICAgICAgIGNvbnRpbnVlOyAvLyBBw7puIGVuIGNvb2xkb3duXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFdmFsdWFyIGNvbmRpY2nDs25cclxuICAgICAgY29uc3QgdHJpZ2dlcmVkID0gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbihtZXRyaWMudmFsdWUsIHJ1bGUuY29uZGl0aW9uLCBydWxlLnRocmVzaG9sZCk7XHJcblxyXG4gICAgICBpZiAodHJpZ2dlcmVkKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy50cmlnZ2VyQWxlcnQocnVsZSwgbWV0cmljKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZhbMO6YSBjb25kaWNpw7NuIGRlIGFsZXJ0YVxyXG4gICAqL1xyXG4gIHByaXZhdGUgZXZhbHVhdGVDb25kaXRpb24odmFsdWU6IG51bWJlciwgY29uZGl0aW9uOiBzdHJpbmcsIHRocmVzaG9sZDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBzd2l0Y2ggKGNvbmRpdGlvbikge1xyXG4gICAgICBjYXNlICdndCc6IHJldHVybiB2YWx1ZSA+IHRocmVzaG9sZDtcclxuICAgICAgY2FzZSAnZ3RlJzogcmV0dXJuIHZhbHVlID49IHRocmVzaG9sZDtcclxuICAgICAgY2FzZSAnbHQnOiByZXR1cm4gdmFsdWUgPCB0aHJlc2hvbGQ7XHJcbiAgICAgIGNhc2UgJ2x0ZSc6IHJldHVybiB2YWx1ZSA8PSB0aHJlc2hvbGQ7XHJcbiAgICAgIGNhc2UgJ2VxJzogcmV0dXJuIHZhbHVlID09PSB0aHJlc2hvbGQ7XHJcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc3BhcmEgdW5hIGFsZXJ0YSB1c2FuZG8gZWwgc2lzdGVtYSBlbnRlcnByaXNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyB0cmlnZ2VyQWxlcnQocnVsZTogQWxlcnRSdWxlLCBtZXRyaWM6IEVudGVycHJpc2VNZXRyaWMpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIC8vIENvbnZlcnRpciBuaXZlbCBkZSBhbGVydGEgYWwgc2lzdGVtYSBlbnRlcnByaXNlXHJcbiAgICBjb25zdCBhbGVydExldmVsID0gdGhpcy5jb252ZXJ0VG9BbGVydFN5c3RlbUxldmVsKHJ1bGUubGV2ZWwpO1xyXG5cclxuICAgIC8vIFVzYXIgZWwgc2lzdGVtYSBkZSBhbGVydGFzIGVudGVycHJpc2VcclxuICAgIGNvbnN0IGFsZXJ0ID0gYXdhaXQgZW50ZXJwcmlzZUFsZXJ0U3lzdGVtLnRyaWdnZXJBbGVydChcclxuICAgICAgcnVsZS5pZCxcclxuICAgICAgcnVsZS5tZXRyaWNOYW1lLFxyXG4gICAgICBtZXRyaWMudmFsdWUsXHJcbiAgICAgIGAke3J1bGUuZGVzY3JpcHRpb259IC0gVmFsdWU6ICR7bWV0cmljLnZhbHVlfSwgVGhyZXNob2xkOiAke3J1bGUudGhyZXNob2xkfWBcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGFsZXJ0KSB7XHJcbiAgICAgIC8vIE1hbnRlbmVyIHJlZmVyZW5jaWEgbG9jYWwgcGFyYSBjb21wYXRpYmlsaWRhZFxyXG4gICAgICBjb25zdCBsb2NhbEFsZXJ0OiBBY3RpdmVBbGVydCA9IHtcclxuICAgICAgICBpZDogYWxlcnQuaWQsXHJcbiAgICAgICAgcnVsZUlkOiBhbGVydC5ydWxlSWQsXHJcbiAgICAgICAgbWV0cmljTmFtZTogYWxlcnQubWV0cmljTmFtZSxcclxuICAgICAgICBsZXZlbDogcnVsZS5sZXZlbCxcclxuICAgICAgICBtZXNzYWdlOiBhbGVydC5tZXNzYWdlLFxyXG4gICAgICAgIHZhbHVlOiBhbGVydC52YWx1ZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IGFsZXJ0LnRocmVzaG9sZCxcclxuICAgICAgICB0cmlnZ2VyZWRBdDogYWxlcnQudHJpZ2dlcmVkQXQsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgIG1ldHJpYzogbWV0cmljLFxyXG4gICAgICAgICAgcnVsZTogcnVsZVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuYWN0aXZlQWxlcnRzLnNldChhbGVydC5pZCwgbG9jYWxBbGVydCk7XHJcblxyXG4gICAgICAvLyBMb2cgYWxlcnRhXHJcbiAgICAgIGxvZ2dlci53YXJuKExvZ0xldmVsLldBUk4sIGBBbGVydCB0cmlnZ2VyZWQgdmlhIGVudGVycHJpc2Ugc3lzdGVtOiAke3J1bGUuaWR9YCwge1xyXG4gICAgICAgIGFsZXJ0SWQ6IGFsZXJ0LmlkLFxyXG4gICAgICAgIGxldmVsOiBhbGVydC5sZXZlbCxcclxuICAgICAgICBtZXRyaWNOYW1lOiBhbGVydC5tZXRyaWNOYW1lLFxyXG4gICAgICAgIHZhbHVlOiBhbGVydC52YWx1ZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IGFsZXJ0LnRocmVzaG9sZFxyXG4gICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWplY3V0YSBhY2Npw7NuIGRlIGFsZXJ0YVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUFsZXJ0QWN0aW9uKGFjdGlvbjogQWxlcnRBY3Rpb24sIGFsZXJ0OiBBY3RpdmVBbGVydCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2xvZyc6XHJcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsIGBBTEVSVDogJHthbGVydC5tZXNzYWdlfWAsIHtcclxuICAgICAgICAgICAgYWxlcnRJZDogYWxlcnQuaWQsXHJcbiAgICAgICAgICAgIGxldmVsOiBhbGVydC5sZXZlbFxyXG4gICAgICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICd3ZWJob29rJzpcclxuICAgICAgICAgIGlmIChhY3Rpb24uY29uZmlnLnVybCkge1xyXG4gICAgICAgICAgICBhd2FpdCBmZXRjaChhY3Rpb24uY29uZmlnLnVybCwge1xyXG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGFsZXJ0KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBlbnbDrW8gZGUgZW1haWxcclxuICAgICAgICAgIGxvZ2dlci5pbmZvKExvZ0xldmVsLklORk8sIGBFbWFpbCBhbGVydCB3b3VsZCBiZSBzZW50IHRvOiAke2FjdGlvbi5jb25maWcudG99YCwge1xyXG4gICAgICAgICAgICBhbGVydElkOiBhbGVydC5pZFxyXG4gICAgICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdzbGFjayc6XHJcbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnRhciBub3RpZmljYWNpw7NuIFNsYWNrXHJcbiAgICAgICAgICBsb2dnZXIuaW5mbyhMb2dMZXZlbC5JTkZPLCBgU2xhY2sgYWxlcnQgd291bGQgYmUgc2VudCB0bzogJHthY3Rpb24uY29uZmlnLmNoYW5uZWx9YCwge1xyXG4gICAgICAgICAgICBhbGVydElkOiBhbGVydC5pZFxyXG4gICAgICAgICAgfSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsIGBGYWlsZWQgdG8gZXhlY3V0ZSBhbGVydCBhY3Rpb246ICR7YWN0aW9uLnR5cGV9YCwge1xyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgICAgICBhbGVydElkOiBhbGVydC5pZFxyXG4gICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0aWVuZSBtw6l0cmljYXMgYWdyZWdhZGFzXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0QWdncmVnYXRlZE1ldHJpY3MoXHJcbiAgICBtZXRyaWNOYW1lOiBzdHJpbmcsXHJcbiAgICBwZXJpb2Q6ICcxbScgfCAnNW0nIHwgJzFoJyB8ICcxZCcgfCAnN2QnLFxyXG4gICAgc3RhcnRUaW1lOiBzdHJpbmcsXHJcbiAgICBlbmRUaW1lOiBzdHJpbmdcclxuICApOiBQcm9taXNlPE1ldHJpY0FnZ3JlZ2F0aW9uW10+IHtcclxuICAgIGNvbnN0IGNhY2hlS2V5ID0gYG1ldHJpY3M6YWdncmVnYXRlZDoke21ldHJpY05hbWV9OiR7cGVyaW9kfToke3N0YXJ0VGltZX06JHtlbmRUaW1lfWA7XHJcbiAgICBcclxuICAgIC8vIOKchSBDQUNIRSBDT05ESUNJT05BTDogU29sbyB1c2FyIGNhY2hlIGVuIHNlcnZpZG9yXHJcbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VDbGllbnQodHJ1ZSk7XHJcblxyXG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBjbGllbnQgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBRdWVyeSBjb24gYWdyZWdhY2nDs24gU1FMXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnYWdncmVnYXRlX21ldHJpY3MnLCB7XHJcbiAgICAgICAgbWV0cmljX25hbWU6IG1ldHJpY05hbWUsXHJcbiAgICAgICAgcGVyaW9kX2ludGVydmFsOiBwZXJpb2QsXHJcbiAgICAgICAgc3RhcnRfdGltZTogc3RhcnRUaW1lLFxyXG4gICAgICAgIGVuZF90aW1lOiBlbmRUaW1lXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gYWdncmVnYXRlIG1ldHJpY3M6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGRhdGEgfHwgW107XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVzYXIgY2FjaGUgc29sbyBzaSBlc3TDoSBkaXNwb25pYmxlIChzZXJ2aWRvcilcclxuICAgIGlmIChDYWNoZVV0aWxzICYmIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHJldHVybiBDYWNoZVV0aWxzLmNhY2hlTWV0cmljc0FnZ3JlZ2F0aW9uKGNhY2hlS2V5LCBmZXRjaERhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZldGNoRGF0YSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmx1c2ggbcOpdHJpY2FzIGEgYmFzZSBkZSBkYXRvc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgZmx1c2hNZXRyaWNzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgaWYgKHRoaXMubWV0cmljc0J1ZmZlci5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBbLi4udGhpcy5tZXRyaWNzQnVmZmVyXTtcclxuICAgICAgdGhpcy5tZXRyaWNzQnVmZmVyID0gW107XHJcblxyXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KHRydWUpO1xyXG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XHJcbiAgICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnU3VwYWJhc2UgY2xpZW50IG5vdCBhdmFpbGFibGUgZm9yIG1ldHJpY3MgZmx1c2gnLCB7fSwgTG9nQ2F0ZWdvcnkuU1lTVEVNKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2VudGVycHJpc2VfbWV0cmljcycpXHJcbiAgICAgICAgLmluc2VydChtZXRyaWNzLm1hcChtZXRyaWMgPT4gKHtcclxuICAgICAgICAgIGlkOiBtZXRyaWMuaWQsXHJcbiAgICAgICAgICBuYW1lOiBtZXRyaWMubmFtZSxcclxuICAgICAgICAgIHR5cGU6IG1ldHJpYy50eXBlLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6IG1ldHJpYy5jYXRlZ29yeSxcclxuICAgICAgICAgIHZhbHVlOiBtZXRyaWMudmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IG1ldHJpYy50aW1lc3RhbXAsXHJcbiAgICAgICAgICB0YWdzOiBtZXRyaWMudGFncyxcclxuICAgICAgICAgIG1ldGFkYXRhOiBtZXRyaWMubWV0YWRhdGFcclxuICAgICAgICB9KSkpO1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnRmFpbGVkIHRvIGZsdXNoIG1ldHJpY3MgdG8gZGF0YWJhc2UnLCB7XHJcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICAgIG1ldHJpY3NDb3VudDogbWV0cmljcy5sZW5ndGhcclxuICAgICAgICB9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhMb2dMZXZlbC5ERUJVRywgYEZsdXNoZWQgJHttZXRyaWNzLmxlbmd0aH0gbWV0cmljcyB0byBkYXRhYmFzZWAsIHt9LCBMb2dDYXRlZ29yeS5TWVNURU0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKExvZ0xldmVsLkVSUk9SLCAnRXJyb3IgZHVyaW5nIG1ldHJpY3MgZmx1c2gnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFsaXphIGFsZXJ0YXMgcG9yIGRlZmVjdG9cclxuICAgKi9cclxuICBwcml2YXRlIGluaXRpYWxpemVEZWZhdWx0QWxlcnRzKCk6IHZvaWQge1xyXG4gICAgLy8gQWxlcnRhIGRlIHJlc3BvbnNlIHRpbWUgYWx0b1xyXG4gICAgdGhpcy5zZXRBbGVydFJ1bGUoe1xyXG4gICAgICBpZDogJ2hpZ2hfcmVzcG9uc2VfdGltZScsXHJcbiAgICAgIG1ldHJpY05hbWU6ICdwZXJmb3JtYW5jZS5hcGkuZHVyYXRpb24nLFxyXG4gICAgICBjb25kaXRpb246ICdndCcsXHJcbiAgICAgIHRocmVzaG9sZDogNTAwMCwgLy8gNSBzZWd1bmRvc1xyXG4gICAgICBsZXZlbDogQWxlcnRMZXZlbC5XQVJOSU5HLFxyXG4gICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICBjb29sZG93bk1pbnV0ZXM6IDUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQVBJIHJlc3BvbnNlIHRpbWUgaXMgdG9vIGhpZ2gnLFxyXG4gICAgICBhY3Rpb25zOiBbeyB0eXBlOiAnbG9nJywgY29uZmlnOiB7fSB9XVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQWxlcnRhIGRlIGVycm9yIHJhdGUgYWx0b1xyXG4gICAgdGhpcy5zZXRBbGVydFJ1bGUoe1xyXG4gICAgICBpZDogJ2hpZ2hfZXJyb3JfcmF0ZScsXHJcbiAgICAgIG1ldHJpY05hbWU6ICdwZXJmb3JtYW5jZS5hcGkuZXJyb3JfcmF0ZScsXHJcbiAgICAgIGNvbmRpdGlvbjogJ2d0JyxcclxuICAgICAgdGhyZXNob2xkOiAwLjA1LCAvLyA1JVxyXG4gICAgICBsZXZlbDogQWxlcnRMZXZlbC5DUklUSUNBTCxcclxuICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgY29vbGRvd25NaW51dGVzOiAyLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0FQSSBlcnJvciByYXRlIGlzIHRvbyBoaWdoJyxcclxuICAgICAgYWN0aW9uczogW3sgdHlwZTogJ2xvZycsIGNvbmZpZzoge30gfV1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFsZXJ0YSBkZSB2aW9sYWNpb25lcyBkZSBzZWd1cmlkYWRcclxuICAgIHRoaXMuc2V0QWxlcnRSdWxlKHtcclxuICAgICAgaWQ6ICdzZWN1cml0eV92aW9sYXRpb25zJyxcclxuICAgICAgbWV0cmljTmFtZTogJ3NlY3VyaXR5LnZpb2xhdGlvbicsXHJcbiAgICAgIGNvbmRpdGlvbjogJ2d0ZScsXHJcbiAgICAgIHRocmVzaG9sZDogMSxcclxuICAgICAgbGV2ZWw6IEFsZXJ0TGV2ZWwuRU1FUkdFTkNZLFxyXG4gICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICBjb29sZG93bk1pbnV0ZXM6IDEsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2VjdXJpdHkgdmlvbGF0aW9uIGRldGVjdGVkJyxcclxuICAgICAgYWN0aW9uczogW3sgdHlwZTogJ2xvZycsIGNvbmZpZzoge30gfV1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhIGZsdXNoIGF1dG9tw6F0aWNvIGRlIG3DqXRyaWNhc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhcnRNZXRyaWNzRmx1c2goKTogdm9pZCB7XHJcbiAgICB0aGlzLmZsdXNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmx1c2hNZXRyaWNzKCk7XHJcbiAgICB9LCAzMDAwMCk7IC8vIEZsdXNoIGNhZGEgMzAgc2VndW5kb3NcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFsbWFjZW5hIGFsZXJ0YSBlbiBiYXNlIGRlIGRhdG9zXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBzdG9yZUFsZXJ0KGFsZXJ0OiBBY3RpdmVBbGVydCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCh0cnVlKTtcclxuICAgICAgaWYgKCFzdXBhYmFzZSkge3JldHVybjt9XHJcblxyXG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdlbnRlcnByaXNlX2FsZXJ0cycpLmluc2VydCh7XHJcbiAgICAgICAgaWQ6IGFsZXJ0LmlkLFxyXG4gICAgICAgIHJ1bGVfaWQ6IGFsZXJ0LnJ1bGVJZCxcclxuICAgICAgICBtZXRyaWNfbmFtZTogYWxlcnQubWV0cmljTmFtZSxcclxuICAgICAgICBsZXZlbDogYWxlcnQubGV2ZWwsXHJcbiAgICAgICAgbWVzc2FnZTogYWxlcnQubWVzc2FnZSxcclxuICAgICAgICB2YWx1ZTogYWxlcnQudmFsdWUsXHJcbiAgICAgICAgdGhyZXNob2xkOiBhbGVydC50aHJlc2hvbGQsXHJcbiAgICAgICAgdHJpZ2dlcmVkX2F0OiBhbGVydC50cmlnZ2VyZWRBdCxcclxuICAgICAgICByZXNvbHZlZF9hdDogYWxlcnQucmVzb2x2ZWRBdCxcclxuICAgICAgICBtZXRhZGF0YTogYWxlcnQubWV0YWRhdGFcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoTG9nTGV2ZWwuRVJST1IsICdGYWlsZWQgdG8gc3RvcmUgYWxlcnQnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxyXG4gICAgICAgIGFsZXJ0SWQ6IGFsZXJ0LmlkXHJcbiAgICAgIH0sIExvZ0NhdGVnb3J5LlNZU1RFTSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmEgSUQgw7puaWNvIHBhcmEgbcOpdHJpY2FcclxuICAgKi9cclxuICBwcml2YXRlIGdlbmVyYXRlTWV0cmljSWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgbWV0cmljXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZpZXJ0ZSBuaXZlbCBkZSBhbGVydGEgYWwgc2lzdGVtYSBlbnRlcnByaXNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjb252ZXJ0VG9BbGVydFN5c3RlbUxldmVsKGxldmVsOiBBbGVydExldmVsKTogQWxlcnRTeXN0ZW1MZXZlbCB7XHJcbiAgICBzd2l0Y2ggKGxldmVsKSB7XHJcbiAgICAgIGNhc2UgQWxlcnRMZXZlbC5JTkZPOlxyXG4gICAgICAgIHJldHVybiBBbGVydFN5c3RlbUxldmVsLklORk87XHJcbiAgICAgIGNhc2UgQWxlcnRMZXZlbC5XQVJOSU5HOlxyXG4gICAgICAgIHJldHVybiBBbGVydFN5c3RlbUxldmVsLldBUk5JTkc7XHJcbiAgICAgIGNhc2UgQWxlcnRMZXZlbC5DUklUSUNBTDpcclxuICAgICAgICByZXR1cm4gQWxlcnRTeXN0ZW1MZXZlbC5DUklUSUNBTDtcclxuICAgICAgY2FzZSBBbGVydExldmVsLkVNRVJHRU5DWTpcclxuICAgICAgICByZXR1cm4gQWxlcnRTeXN0ZW1MZXZlbC5FTUVSR0VOQ1k7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIEFsZXJ0U3lzdGVtTGV2ZWwuSU5GTztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYSBJRCDDum5pY28gcGFyYSBhbGVydGFcclxuICAgKi9cclxuICBwcml2YXRlIGdlbmVyYXRlQWxlcnRJZCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBhbGVydF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMaW1waWEgcmVjdXJzb3NcclxuICAgKi9cclxuICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZmx1c2hJbnRlcnZhbCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuZmx1c2hJbnRlcnZhbCk7XHJcbiAgICAgIHRoaXMuZmx1c2hJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsdXNoTWV0cmljcygpOyAvLyBGbHVzaCBmaW5hbFxyXG4gIH1cclxufVxyXG5cclxuLy8gSW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgZW50ZXJwcmlzZU1ldHJpY3MgPSBFbnRlcnByaXNlTWV0cmljc0NvbGxlY3Rvci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuLy8gRnVuY2lvbmVzIGRlIGNvbnZlbmllbmNpYVxyXG5leHBvcnQgY29uc3QgcmVjb3JkUGVyZm9ybWFuY2VNZXRyaWMgPSBlbnRlcnByaXNlTWV0cmljcy5yZWNvcmRQZXJmb3JtYW5jZU1ldHJpYy5iaW5kKGVudGVycHJpc2VNZXRyaWNzKTtcclxuZXhwb3J0IGNvbnN0IHJlY29yZEJ1c2luZXNzTWV0cmljID0gZW50ZXJwcmlzZU1ldHJpY3MucmVjb3JkQnVzaW5lc3NNZXRyaWMuYmluZChlbnRlcnByaXNlTWV0cmljcyk7XHJcbmV4cG9ydCBjb25zdCByZWNvcmRTZWN1cml0eU1ldHJpYyA9IGVudGVycHJpc2VNZXRyaWNzLnJlY29yZFNlY3VyaXR5TWV0cmljLmJpbmQoZW50ZXJwcmlzZU1ldHJpY3MpO1xyXG5leHBvcnQgY29uc3QgcmVjb3JkVXNlckV4cGVyaWVuY2VNZXRyaWMgPSBlbnRlcnByaXNlTWV0cmljcy5yZWNvcmRVc2VyRXhwZXJpZW5jZU1ldHJpYy5iaW5kKGVudGVycHJpc2VNZXRyaWNzKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkFsZXJ0TGV2ZWwiLCJCdXNpbmVzc01ldHJpY0NhdGVnb3J5IiwiRW50ZXJwcmlzZU1ldHJpY3NDb2xsZWN0b3IiLCJNZXRyaWNUeXBlIiwiZW50ZXJwcmlzZU1ldHJpY3MiLCJyZWNvcmRCdXNpbmVzc01ldHJpYyIsInJlY29yZFBlcmZvcm1hbmNlTWV0cmljIiwicmVjb3JkU2VjdXJpdHlNZXRyaWMiLCJyZWNvcmRVc2VyRXhwZXJpZW5jZU1ldHJpYyIsIkNhY2hlVXRpbHMiLCJ3aW5kb3ciLCJyZXF1aXJlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImFsZXJ0UnVsZXMiLCJNYXAiLCJhY3RpdmVBbGVydHMiLCJtZXRyaWNzQnVmZmVyIiwiZmx1c2hJbnRlcnZhbCIsImluaXRpYWxpemVEZWZhdWx0QWxlcnRzIiwic3RhcnRNZXRyaWNzRmx1c2giLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwicmVjb3JkTWV0cmljIiwibmFtZSIsInZhbHVlIiwidHlwZSIsImNhdGVnb3J5IiwidGFncyIsIm1ldGFkYXRhIiwibWV0cmljIiwiaWQiLCJnZW5lcmF0ZU1ldHJpY0lkIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHVzaCIsImNoZWNrQWxlcnRzIiwibG9nZ2VyIiwiZGVidWciLCJMb2dMZXZlbCIsIkRFQlVHIiwiTG9nQ2F0ZWdvcnkiLCJTWVNURU0iLCJFUlJPUiIsIkVycm9yIiwibWVzc2FnZSIsIm9wZXJhdGlvbiIsImR1cmF0aW9uIiwic3VjY2VzcyIsInRvU3RyaW5nIiwiZXZlbnQiLCJzZXZlcml0eSIsInVzZXJJZCIsInNldEFsZXJ0UnVsZSIsInJ1bGUiLCJzZXQiLCJpbmZvIiwiSU5GTyIsIm1ldHJpY05hbWUiLCJ0aHJlc2hvbGQiLCJsZXZlbCIsInZhbHVlcyIsImVuYWJsZWQiLCJleGlzdGluZ0FsZXJ0IiwiQXJyYXkiLCJmcm9tIiwiZmluZCIsImFsZXJ0IiwicnVsZUlkIiwicmVzb2x2ZWRBdCIsImNvb2xkb3duRW5kIiwidHJpZ2dlcmVkQXQiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImNvb2xkb3duTWludXRlcyIsInRyaWdnZXJlZCIsImV2YWx1YXRlQ29uZGl0aW9uIiwiY29uZGl0aW9uIiwidHJpZ2dlckFsZXJ0IiwiYWxlcnRMZXZlbCIsImNvbnZlcnRUb0FsZXJ0U3lzdGVtTGV2ZWwiLCJlbnRlcnByaXNlQWxlcnRTeXN0ZW0iLCJkZXNjcmlwdGlvbiIsImxvY2FsQWxlcnQiLCJXQVJOIiwiYWxlcnRJZCIsImV4ZWN1dGVBbGVydEFjdGlvbiIsImFjdGlvbiIsImNvbmZpZyIsInVybCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidG8iLCJjaGFubmVsIiwiZ2V0QWdncmVnYXRlZE1ldHJpY3MiLCJwZXJpb2QiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiY2FjaGVLZXkiLCJmZXRjaERhdGEiLCJzdXBhYmFzZSIsImdldFN1cGFiYXNlQ2xpZW50IiwiZGF0YSIsInJwYyIsIm1ldHJpY19uYW1lIiwicGVyaW9kX2ludGVydmFsIiwic3RhcnRfdGltZSIsImVuZF90aW1lIiwiY2FjaGVNZXRyaWNzQWdncmVnYXRpb24iLCJmbHVzaE1ldHJpY3MiLCJsZW5ndGgiLCJtZXRyaWNzIiwiaW5zZXJ0IiwibWFwIiwibWV0cmljc0NvdW50IiwiYWN0aW9ucyIsInNldEludGVydmFsIiwic3RvcmVBbGVydCIsInJ1bGVfaWQiLCJ0cmlnZ2VyZWRfYXQiLCJyZXNvbHZlZF9hdCIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHIiLCJBbGVydFN5c3RlbUxldmVsIiwiV0FSTklORyIsIkNSSVRJQ0FMIiwiRU1FUkdFTkNZIiwiZ2VuZXJhdGVBbGVydElkIiwiZGVzdHJveSIsImNsZWFySW50ZXJ2YWwiLCJiaW5kIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsaURBQWlEO0FBQ2pELHNDQUFzQzs7Ozs7Ozs7Ozs7O1FBb0MxQkE7ZUFBQUE7O1FBVEFDO2VBQUFBOztRQWdGQ0M7ZUFBQUE7O1FBekZEQztlQUFBQTs7UUFrbEJDQztlQUFBQTs7UUFJQUM7ZUFBQUE7O1FBREFDO2VBQUFBOztRQUVBQztlQUFBQTs7UUFDQUM7ZUFBQUE7Ozt3QkF4bUJpQzswQkFDWjs2QkFDb0M7QUFFdEUscUdBQXFHO0FBQ3JHLElBQUlDLGFBQWtCO0FBQ3RCLElBQUksT0FBT0MsV0FBVyxhQUFhO0lBQ2pDLG1CQUFtQjtJQUNuQixJQUFJO1FBQ0ZELGFBQWFFLFFBQVEsdUJBQXVCRixVQUFVO0lBQ3hELEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsaURBQWlERjtJQUNoRTtBQUNGO0FBR08sSUFBQSxBQUFLVCxvQ0FBQUE7Ozs7O2lDQUtvQiw0QkFBNEI7V0FMaERBOztBQVNMLElBQUEsQUFBS0YsZ0RBQUFBOzs7Ozs7V0FBQUE7O0FBU0wsSUFBQSxBQUFLRCxvQ0FBQUE7Ozs7O1dBQUFBOztBQXVFTCxNQUFNRTtJQU9YLGFBQWM7YUFMTmEsYUFBcUMsSUFBSUM7YUFDekNDLGVBQXlDLElBQUlEO2FBQzdDRSxnQkFBb0MsRUFBRTthQUN0Q0MsZ0JBQXVDO1FBRzdDLElBQUksQ0FBQ0MsdUJBQXVCO1FBQzVCLElBQUksQ0FBQ0MsaUJBQWlCO0lBQ3hCO0lBRUEsT0FBT0MsY0FBMEM7UUFDL0MsSUFBSSxDQUFDcEIsMkJBQTJCcUIsUUFBUSxFQUFFO1lBQ3hDckIsMkJB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