{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useHeroCarousel.test.ts"],"sourcesContent":["import { renderHook, act } from '@testing-library/react'\nimport { useHeroCarousel } from '@/hooks/useHeroCarousel'\n\n// Mock de timers para controlar el autoplay\njest.useFakeTimers()\n\ndescribe('useHeroCarousel', () => {\n  const mockImages = [\n    '/images/hero/hero-01.png',\n    '/images/hero/hero-02.png',\n    '/images/hero/hero-03.png',\n  ]\n\n  beforeEach(() => {\n    jest.clearAllTimers()\n  })\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers()\n    jest.useRealTimers()\n    jest.useFakeTimers()\n  })\n\n  it('should initialize with correct default values', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.currentIndex).toBe(0)\n    expect(result.current.isPlaying).toBe(true)\n    expect(result.current.isPaused).toBe(false)\n  })\n\n  it('should go to next slide', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    act(() => {\n      result.current.goToNext()\n    })\n\n    expect(result.current.currentIndex).toBe(1)\n  })\n\n  it('should go to previous slide', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    // Ir al último slide primero\n    act(() => {\n      result.current.goToSlide(2)\n    })\n\n    expect(result.current.currentIndex).toBe(2)\n\n    act(() => {\n      result.current.goToPrevious()\n    })\n\n    expect(result.current.currentIndex).toBe(1)\n  })\n\n  it('should wrap around when going next from last slide', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    // Ir al último slide\n    act(() => {\n      result.current.goToSlide(2)\n    })\n\n    expect(result.current.currentIndex).toBe(2)\n\n    // Ir al siguiente debería volver al primero\n    act(() => {\n      result.current.goToNext()\n    })\n\n    expect(result.current.currentIndex).toBe(0)\n  })\n\n  it('should wrap around when going previous from first slide', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.currentIndex).toBe(0)\n\n    act(() => {\n      result.current.goToPrevious()\n    })\n\n    expect(result.current.currentIndex).toBe(2)\n  })\n\n  it('should go to specific slide', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    act(() => {\n      result.current.goToSlide(1)\n    })\n\n    expect(result.current.currentIndex).toBe(1)\n  })\n\n  it('should not go to invalid slide index', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    const initialIndex = result.current.currentIndex\n\n    act(() => {\n      result.current.goToSlide(-1)\n    })\n\n    expect(result.current.currentIndex).toBe(initialIndex)\n\n    act(() => {\n      result.current.goToSlide(10)\n    })\n\n    expect(result.current.currentIndex).toBe(initialIndex)\n  })\n\n  it('should pause and resume correctly', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.isPlaying).toBe(true)\n    expect(result.current.isPaused).toBe(false)\n\n    act(() => {\n      result.current.pause()\n    })\n\n    expect(result.current.isPlaying).toBe(false)\n    expect(result.current.isPaused).toBe(true)\n\n    act(() => {\n      result.current.resume()\n    })\n\n    expect(result.current.isPlaying).toBe(true)\n    expect(result.current.isPaused).toBe(false)\n  })\n\n  it('should handle hover events when pauseOnHover is true', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.isPlaying).toBe(true)\n\n    act(() => {\n      result.current.setHover(true)\n    })\n\n    expect(result.current.isPlaying).toBe(false)\n    expect(result.current.isPaused).toBe(true)\n\n    act(() => {\n      result.current.setHover(false)\n    })\n\n    expect(result.current.isPlaying).toBe(true)\n    expect(result.current.isPaused).toBe(false)\n  })\n\n  it('should not pause on hover when pauseOnHover is false', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 5000,\n        pauseOnHover: false,\n      })\n    )\n\n    expect(result.current.isPlaying).toBe(true)\n\n    act(() => {\n      result.current.setHover(true)\n    })\n\n    expect(result.current.isPlaying).toBe(true)\n    expect(result.current.isPaused).toBe(false)\n  })\n\n  it('should auto-advance slides when playing', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 1000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.currentIndex).toBe(0)\n\n    // Avanzar el tiempo para que se ejecute el autoplay\n    act(() => {\n      jest.advanceTimersByTime(1000)\n    })\n\n    expect(result.current.currentIndex).toBe(1)\n\n    act(() => {\n      jest.advanceTimersByTime(1000)\n    })\n\n    expect(result.current.currentIndex).toBe(2)\n\n    act(() => {\n      jest.advanceTimersByTime(1000)\n    })\n\n    expect(result.current.currentIndex).toBe(0) // Debería volver al inicio\n  })\n\n  it('should not auto-advance when paused', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 1000,\n        pauseOnHover: true,\n      })\n    )\n\n    act(() => {\n      result.current.pause()\n    })\n\n    expect(result.current.currentIndex).toBe(0)\n\n    act(() => {\n      jest.advanceTimersByTime(2000)\n    })\n\n    expect(result.current.currentIndex).toBe(0) // No debería haber cambiado\n  })\n\n  it('should not auto-advance when hovering', () => {\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 1000,\n        pauseOnHover: true,\n      })\n    )\n\n    act(() => {\n      result.current.setHover(true)\n    })\n\n    expect(result.current.currentIndex).toBe(0)\n\n    act(() => {\n      jest.advanceTimersByTime(2000)\n    })\n\n    expect(result.current.currentIndex).toBe(0) // No debería haber cambiado\n  })\n\n  it('should handle single image gracefully', () => {\n    const singleImage = ['/images/hero/hero-01.png']\n\n    const { result } = renderHook(() =>\n      useHeroCarousel({\n        images: singleImage,\n        autoPlayInterval: 1000,\n        pauseOnHover: true,\n      })\n    )\n\n    expect(result.current.currentIndex).toBe(0)\n\n    act(() => {\n      result.current.goToNext()\n    })\n\n    expect(result.current.currentIndex).toBe(0) // Debería permanecer en 0\n\n    act(() => {\n      result.current.goToPrevious()\n    })\n\n    expect(result.current.currentIndex).toBe(0) // Debería permanecer en 0\n  })\n\n  it('should clean up timers on unmount', () => {\n    const { unmount } = renderHook(() =>\n      useHeroCarousel({\n        images: mockImages,\n        autoPlayInterval: 1000,\n        pauseOnHover: true,\n      })\n    )\n\n    // Verificar que hay un timer activo\n    expect(jest.getTimerCount()).toBeGreaterThan(0)\n\n    unmount()\n\n    // Después del unmount, no debería haber timers pendientes\n    expect(jest.getTimerCount()).toBe(0)\n  })\n})\n"],"names":["jest","useFakeTimers","describe","mockImages","beforeEach","clearAllTimers","afterEach","runOnlyPendingTimers","useRealTimers","it","result","renderHook","useHeroCarousel","images","autoPlayInterval","pauseOnHover","expect","current","currentIndex","toBe","isPlaying","isPaused","act","goToNext","goToSlide","goToPrevious","initialIndex","pause","resume","setHover","advanceTimersByTime","singleImage","unmount","getTimerCount","toBeGreaterThan"],"mappings":"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"}