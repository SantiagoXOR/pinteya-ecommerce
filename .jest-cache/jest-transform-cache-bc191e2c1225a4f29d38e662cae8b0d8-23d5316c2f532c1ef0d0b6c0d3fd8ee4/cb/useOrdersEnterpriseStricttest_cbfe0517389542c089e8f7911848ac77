5163581aaad2dd165a62429e1ad0d25c
// ===================================
// PINTEYA E-COMMERCE - UNIT TESTS
// Pruebas unitarias para useOrdersEnterpriseStrict
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _useOrdersEnterpriseStrict = require("../../hooks/admin/useOrdersEnterpriseStrict");
// ===================================
// MOCKS
// ===================================
// Mock del fetch global
const mockFetch = _globals.jest.fn();
global.fetch = mockFetch;
// Mock de console para capturar logs
const mockConsoleError = _globals.jest.spyOn(console, 'error').mockImplementation(()=>{});
const mockConsoleWarn = _globals.jest.spyOn(console, 'warn').mockImplementation(()=>{});
// Datos de prueba
const mockOrder = {
    id: 'order-123',
    orderNumber: 'ORD-2024-001',
    status: 'pending',
    previousStatus: null,
    statusHistory: [
        {
            status: 'pending',
            timestamp: new Date().toISOString(),
            reason: 'Order created',
            userId: 'user-123'
        }
    ],
    customerId: 'customer-123',
    customerEmail: 'test@example.com',
    customerPhone: '+1234567890',
    items: [
        {
            id: 'item-1',
            productId: 'product-1',
            productName: 'Test Product',
            quantity: 2,
            unitPrice: 29.99,
            totalPrice: 59.98,
            sku: 'TEST-SKU-001'
        }
    ],
    subtotal: 59.98,
    taxAmount: 4.8,
    shippingAmount: 9.99,
    discountAmount: 0,
    totalAmount: 74.77,
    currency: 'USD',
    shippingAddress: {
        street: '123 Test St',
        city: 'Test City',
        state: 'TS',
        zipCode: '12345',
        country: 'US'
    },
    billingAddress: {
        street: '123 Test St',
        city: 'Test City',
        state: 'TS',
        zipCode: '12345',
        country: 'US'
    },
    paymentMethod: 'credit_card',
    paymentStatus: 'pending',
    shippingMethod: 'standard',
    estimatedDelivery: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),
    notes: 'Test order notes',
    tags: [
        'test',
        'automated'
    ],
    metadata: {
        source: 'web',
        campaign: 'test-campaign'
    },
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString()
};
const mockApiResponse = {
    success: true,
    data: [
        mockOrder
    ],
    message: 'Orders retrieved successfully',
    timestamp: new Date().toISOString(),
    requestId: 'req-123',
    pagination: {
        page: 1,
        limit: 10,
        total: 1,
        totalPages: 1
    }
};
// ===================================
// SETUP Y CLEANUP
// ===================================
(0, _globals.beforeEach)(()=>{
    _globals.jest.clearAllMocks();
    mockFetch.mockClear();
});
(0, _globals.afterEach)(()=>{
    _globals.jest.clearAllTimers();
});
// ===================================
// TESTS PRINCIPALES
// ===================================
(0, _globals.describe)('useOrdersEnterpriseStrict', ()=>{
    (0, _globals.describe)('Inicialización', ()=>{
        (0, _globals.it)('debe inicializar con estado por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false
                }));
            (0, _globals.expect)(result.current.orders).toEqual([]);
            (0, _globals.expect)(result.current.loading).toBe(false);
            (0, _globals.expect)(result.current.error).toBeNull();
            (0, _globals.expect)(result.current.pagination).toEqual({
                page: 1,
                limit: 10,
                total: 0,
                totalPages: 0
            });
        });
        (0, _globals.it)('debe aplicar filtros iniciales', ()=>{
            const initialFilters = {
                status: 'pending',
                customerId: 'customer-123'
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters,
                    enableCache: false
                }));
            (0, _globals.expect)(result.current.filters).toEqual(initialFilters);
        });
    });
    (0, _globals.describe)('Carga de datos exitosa', ()=>{
        (0, _globals.beforeEach)(()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>mockApiResponse
            });
        });
        (0, _globals.it)('debe cargar órdenes correctamente', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    autoFetch: true
                }));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            (0, _globals.expect)(result.current.orders).toEqual([
                mockOrder
            ]);
            (0, _globals.expect)(result.current.error).toBeNull();
            (0, _globals.expect)(result.current.pagination).toEqual(mockApiResponse.pagination);
        });
        (0, _globals.it)('debe manejar filtros correctamente', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false
                }));
            await (0, _react.act)(async ()=>{
                result.current.setFilters({
                    status: 'pending'
                });
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.stringContaining('status=pending'), _globals.expect.any(Object));
            });
        });
        (0, _globals.it)('debe manejar paginación correctamente', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false
                }));
            await (0, _react.act)(async ()=>{
                result.current.setPage(2);
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.stringContaining('page=2'), _globals.expect.any(Object));
            });
        });
    });
    (0, _globals.describe)('Manejo de errores', ()=>{
        (0, _globals.it)('debe manejar errores de red', async ()=>{
            mockFetch.mockRejectedValue(new Error('Network error'));
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    autoFetch: true
                }));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            (0, _globals.expect)(result.current.error).toBeTruthy();
            (0, _globals.expect)(result.current.orders).toEqual([]);
        });
        (0, _globals.it)('debe manejar respuestas HTTP de error', async ()=>{
            mockFetch.mockResolvedValue({
                ok: false,
                status: 500,
                json: async ()=>({
                        success: false,
                        message: 'Internal server error'
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    autoFetch: true
                }));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            (0, _globals.expect)(result.current.error).toBeTruthy();
            (0, _globals.expect)(result.current.orders).toEqual([]);
        });
        (0, _globals.it)('debe manejar datos inválidos', async ()=>{
            const invalidResponse = {
                success: true,
                data: [
                    {
                        id: 'invalid'
                    }
                ],
                message: 'Success'
            };
            mockFetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>invalidResponse
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    autoFetch: true,
                    enableValidation: true
                }));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            (0, _globals.expect)(mockConsoleWarn).toHaveBeenCalled();
            (0, _globals.expect)(result.current.orders).toEqual([]);
        });
    });
    (0, _globals.describe)('Sistema de caché', ()=>{
        (0, _globals.beforeEach)(()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>mockApiResponse
            });
        });
        (0, _globals.it)('debe usar caché cuando está habilitado', async ()=>{
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: true,
                    cacheTime: 5000
                }));
            // Primera carga
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            const firstCallCount = mockFetch.mock.calls.length;
            // Segunda carga (debería usar caché)
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            (0, _globals.expect)(mockFetch.mock.calls.length).toBe(firstCallCount);
        });
        (0, _globals.it)('debe invalidar caché después del tiempo especificado', async ()=>{
            _globals.jest.useFakeTimers();
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: true,
                    cacheTime: 1000
                }));
            // Primera carga
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            const firstCallCount = mockFetch.mock.calls.length;
            // Avanzar tiempo más allá del cache time
            (0, _react.act)(()=>{
                _globals.jest.advanceTimersByTime(1500);
            });
            // Segunda carga (debería hacer nueva petición)
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            (0, _globals.expect)(mockFetch.mock.calls.length).toBeGreaterThan(firstCallCount);
            _globals.jest.useRealTimers();
        });
    });
    (0, _globals.describe)('Sistema de reintentos', ()=>{
        (0, _globals.it)('debe reintentar en caso de error', async ()=>{
            mockFetch.mockRejectedValueOnce(new Error('Network error')).mockRejectedValueOnce(new Error('Network error')).mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>mockApiResponse
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    retryAttempts: 3,
                    retryDelay: 100
                }));
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            }, {
                timeout: 5000
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledTimes(3);
            (0, _globals.expect)(result.current.orders).toEqual([
                mockOrder
            ]);
            (0, _globals.expect)(result.current.error).toBeNull();
        });
        (0, _globals.it)('debe fallar después de agotar reintentos', async ()=>{
            mockFetch.mockRejectedValue(new Error('Persistent network error'));
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    retryAttempts: 2,
                    retryDelay: 50
                }));
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            }, {
                timeout: 3000
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledTimes(3); // 1 inicial + 2 reintentos
            (0, _globals.expect)(result.current.error).toBeTruthy();
            (0, _globals.expect)(result.current.orders).toEqual([]);
        });
    });
    (0, _globals.describe)('Transformación de datos', ()=>{
        (0, _globals.it)('debe aplicar transformaciones personalizadas', async ()=>{
            const transformedOrder = {
                ...mockOrder,
                customField: 'transformed'
            };
            mockFetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>mockApiResponse
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    transform: (orders)=>orders.map((order)=>({
                                ...order,
                                customField: 'transformed'
                            }))
                }));
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(result.current.loading).toBe(false);
            });
            (0, _globals.expect)(result.current.orders[0]).toEqual(transformedOrder);
        });
    });
    (0, _globals.describe)('Callbacks', ()=>{
        (0, _globals.it)('debe ejecutar callback onSuccess', async ()=>{
            const onSuccess = _globals.jest.fn();
            mockFetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>mockApiResponse
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    onSuccess
                }));
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(onSuccess).toHaveBeenCalledWith([
                    mockOrder
                ]);
            });
        });
        (0, _globals.it)('debe ejecutar callback onError', async ()=>{
            const onError = _globals.jest.fn();
            const error = new Error('Test error');
            mockFetch.mockRejectedValue(error);
            const { result } = (0, _react.renderHook)(()=>(0, _useOrdersEnterpriseStrict.useOrdersEnterpriseStrict)({
                    initialFilters: {},
                    enableCache: false,
                    onError
                }));
            await (0, _react.act)(async ()=>{
                result.current.refetch();
            });
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(onError).toHaveBeenCalledWith(error);
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBVTklUIFRFU1RTXG4vLyBQcnVlYmFzIHVuaXRhcmlhcyBwYXJhIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Rcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscydcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xuaW1wb3J0IHsgdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCB9IGZyb20gJ0AvaG9va3MvYWRtaW4vdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCdcbmltcG9ydCB7IE9yZGVyRW50ZXJwcmlzZSwgT3JkZXJTdGF0dXMgfSBmcm9tICdAL3R5cGVzL29yZGVycy1lbnRlcnByaXNlJ1xuaW1wb3J0IHsgQXBpUmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzL2FwaS1zdHJpY3QnXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNT0NLU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gTW9jayBkZWwgZmV0Y2ggZ2xvYmFsXG5jb25zdCBtb2NrRmV0Y2ggPSBqZXN0LmZuKClcbmdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaFxuXG4vLyBNb2NrIGRlIGNvbnNvbGUgcGFyYSBjYXB0dXJhciBsb2dzXG5jb25zdCBtb2NrQ29uc29sZUVycm9yID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pXG5jb25zdCBtb2NrQ29uc29sZVdhcm4gPSBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuXG4vLyBEYXRvcyBkZSBwcnVlYmFcbmNvbnN0IG1vY2tPcmRlcjogT3JkZXJFbnRlcnByaXNlID0ge1xuICBpZDogJ29yZGVyLTEyMycsXG4gIG9yZGVyTnVtYmVyOiAnT1JELTIwMjQtMDAxJyxcbiAgc3RhdHVzOiAncGVuZGluZycsXG4gIHByZXZpb3VzU3RhdHVzOiBudWxsLFxuICBzdGF0dXNIaXN0b3J5OiBbXG4gICAge1xuICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHJlYXNvbjogJ09yZGVyIGNyZWF0ZWQnLFxuICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgIH0sXG4gIF0sXG4gIGN1c3RvbWVySWQ6ICdjdXN0b21lci0xMjMnLFxuICBjdXN0b21lckVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gIGN1c3RvbWVyUGhvbmU6ICcrMTIzNDU2Nzg5MCcsXG4gIGl0ZW1zOiBbXG4gICAge1xuICAgICAgaWQ6ICdpdGVtLTEnLFxuICAgICAgcHJvZHVjdElkOiAncHJvZHVjdC0xJyxcbiAgICAgIHByb2R1Y3ROYW1lOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgIHF1YW50aXR5OiAyLFxuICAgICAgdW5pdFByaWNlOiAyOS45OSxcbiAgICAgIHRvdGFsUHJpY2U6IDU5Ljk4LFxuICAgICAgc2t1OiAnVEVTVC1TS1UtMDAxJyxcbiAgICB9LFxuICBdLFxuICBzdWJ0b3RhbDogNTkuOTgsXG4gIHRheEFtb3VudDogNC44LFxuICBzaGlwcGluZ0Ftb3VudDogOS45OSxcbiAgZGlzY291bnRBbW91bnQ6IDAsXG4gIHRvdGFsQW1vdW50OiA3NC43NyxcbiAgY3VycmVuY3k6ICdVU0QnLFxuICBzaGlwcGluZ0FkZHJlc3M6IHtcbiAgICBzdHJlZXQ6ICcxMjMgVGVzdCBTdCcsXG4gICAgY2l0eTogJ1Rlc3QgQ2l0eScsXG4gICAgc3RhdGU6ICdUUycsXG4gICAgemlwQ29kZTogJzEyMzQ1JyxcbiAgICBjb3VudHJ5OiAnVVMnLFxuICB9LFxuICBiaWxsaW5nQWRkcmVzczoge1xuICAgIHN0cmVldDogJzEyMyBUZXN0IFN0JyxcbiAgICBjaXR5OiAnVGVzdCBDaXR5JyxcbiAgICBzdGF0ZTogJ1RTJyxcbiAgICB6aXBDb2RlOiAnMTIzNDUnLFxuICAgIGNvdW50cnk6ICdVUycsXG4gIH0sXG4gIHBheW1lbnRNZXRob2Q6ICdjcmVkaXRfY2FyZCcsXG4gIHBheW1lbnRTdGF0dXM6ICdwZW5kaW5nJyxcbiAgc2hpcHBpbmdNZXRob2Q6ICdzdGFuZGFyZCcsXG4gIGVzdGltYXRlZERlbGl2ZXJ5OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gIG5vdGVzOiAnVGVzdCBvcmRlciBub3RlcycsXG4gIHRhZ3M6IFsndGVzdCcsICdhdXRvbWF0ZWQnXSxcbiAgbWV0YWRhdGE6IHtcbiAgICBzb3VyY2U6ICd3ZWInLFxuICAgIGNhbXBhaWduOiAndGVzdC1jYW1wYWlnbicsXG4gIH0sXG4gIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbn1cblxuY29uc3QgbW9ja0FwaVJlc3BvbnNlOiBBcGlSZXNwb25zZTxPcmRlckVudGVycHJpc2VbXT4gPSB7XG4gIHN1Y2Nlc3M6IHRydWUsXG4gIGRhdGE6IFttb2NrT3JkZXJdLFxuICBtZXNzYWdlOiAnT3JkZXJzIHJldHJpZXZlZCBzdWNjZXNzZnVsbHknLFxuICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgcmVxdWVzdElkOiAncmVxLTEyMycsXG4gIHBhZ2luYXRpb246IHtcbiAgICBwYWdlOiAxLFxuICAgIGxpbWl0OiAxMCxcbiAgICB0b3RhbDogMSxcbiAgICB0b3RhbFBhZ2VzOiAxLFxuICB9LFxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VUVVAgWSBDTEVBTlVQXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5iZWZvcmVFYWNoKCgpID0+IHtcbiAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgbW9ja0ZldGNoLm1vY2tDbGVhcigpXG59KVxuXG5hZnRlckVhY2goKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsVGltZXJzKClcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBQUklOQ0lQQUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZU9yZGVyc0VudGVycHJpc2VTdHJpY3QnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdJbmljaWFsaXphY2nDs24nLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgaW5pY2lhbGl6YXIgY29uIGVzdGFkbyBwb3IgZGVmZWN0bycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Qoe1xuICAgICAgICAgIGluaXRpYWxGaWx0ZXJzOiB7fSxcbiAgICAgICAgICBlbmFibGVDYWNoZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5vcmRlcnMpLnRvRXF1YWwoW10pXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZU51bGwoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBhZ2luYXRpb24pLnRvRXF1YWwoe1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBsaW1pdDogMTAsXG4gICAgICAgIHRvdGFsOiAwLFxuICAgICAgICB0b3RhbFBhZ2VzOiAwLFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgYXBsaWNhciBmaWx0cm9zIGluaWNpYWxlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxGaWx0ZXJzID0ge1xuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBPcmRlclN0YXR1cyxcbiAgICAgICAgY3VzdG9tZXJJZDogJ2N1c3RvbWVyLTEyMycsXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Qoe1xuICAgICAgICAgIGluaXRpYWxGaWx0ZXJzLFxuICAgICAgICAgIGVuYWJsZUNhY2hlOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmZpbHRlcnMpLnRvRXF1YWwoaW5pdGlhbEZpbHRlcnMpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnQ2FyZ2EgZGUgZGF0b3MgZXhpdG9zYScsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0FwaVJlc3BvbnNlLFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgY2FyZ2FyIMOzcmRlbmVzIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IGZhbHNlLFxuICAgICAgICAgIGF1dG9GZXRjaDogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9yZGVycykudG9FcXVhbChbbW9ja09yZGVyXSlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZU51bGwoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBhZ2luYXRpb24pLnRvRXF1YWwobW9ja0FwaVJlc3BvbnNlLnBhZ2luYXRpb24pXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgZmlsdHJvcyBjb3JyZWN0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCh7XG4gICAgICAgICAgaW5pdGlhbEZpbHRlcnM6IHt9LFxuICAgICAgICAgIGVuYWJsZUNhY2hlOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0RmlsdGVycyh7XG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycgYXMgT3JkZXJTdGF0dXMsXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3N0YXR1cz1wZW5kaW5nJyksXG4gICAgICAgICAgZXhwZWN0LmFueShPYmplY3QpXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgcGFnaW5hY2nDs24gY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Qoe1xuICAgICAgICAgIGluaXRpYWxGaWx0ZXJzOiB7fSxcbiAgICAgICAgICBlbmFibGVDYWNoZTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnNldFBhZ2UoMilcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygncGFnZT0yJyksXG4gICAgICAgICAgZXhwZWN0LmFueShPYmplY3QpXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnTWFuZWpvIGRlIGVycm9yZXMnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgbWFuZWphciBlcnJvcmVzIGRlIHJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCh7XG4gICAgICAgICAgaW5pdGlhbEZpbHRlcnM6IHt9LFxuICAgICAgICAgIGVuYWJsZUNhY2hlOiBmYWxzZSxcbiAgICAgICAgICBhdXRvRmV0Y2g6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQub3JkZXJzKS50b0VxdWFsKFtdKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIHJlc3B1ZXN0YXMgSFRUUCBkZSBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgICAgIH0pLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCh7XG4gICAgICAgICAgaW5pdGlhbEZpbHRlcnM6IHt9LFxuICAgICAgICAgIGVuYWJsZUNhY2hlOiBmYWxzZSxcbiAgICAgICAgICBhdXRvRmV0Y2g6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZVRydXRoeSgpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQub3JkZXJzKS50b0VxdWFsKFtdKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBtYW5lamFyIGRhdG9zIGludsOhbGlkb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkUmVzcG9uc2UgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFt7IGlkOiAnaW52YWxpZCcgfV0sIC8vIERhdG9zIGluY29tcGxldG9zXG4gICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzJyxcbiAgICAgIH1cblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBpbnZhbGlkUmVzcG9uc2UsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IGZhbHNlLFxuICAgICAgICAgIGF1dG9GZXRjaDogdHJ1ZSxcbiAgICAgICAgICBlbmFibGVWYWxpZGF0aW9uOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvYWRpbmcpLnRvQmUoZmFsc2UpXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGVXYXJuKS50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5vcmRlcnMpLnRvRXF1YWwoW10pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnU2lzdGVtYSBkZSBjYWNow6knLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tBcGlSZXNwb25zZSxcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIHVzYXIgY2FjaMOpIGN1YW5kbyBlc3TDoSBoYWJpbGl0YWRvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Qoe1xuICAgICAgICAgIGluaXRpYWxGaWx0ZXJzOiB7fSxcbiAgICAgICAgICBlbmFibGVDYWNoZTogdHJ1ZSxcbiAgICAgICAgICBjYWNoZVRpbWU6IDUwMDAsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIC8vIFByaW1lcmEgY2FyZ2FcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlZmV0Y2goKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgZmlyc3RDYWxsQ291bnQgPSBtb2NrRmV0Y2gubW9jay5jYWxscy5sZW5ndGhcblxuICAgICAgLy8gU2VndW5kYSBjYXJnYSAoZGViZXLDrWEgdXNhciBjYWNow6kpXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZWZldGNoKClcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gubW9jay5jYWxscy5sZW5ndGgpLnRvQmUoZmlyc3RDYWxsQ291bnQpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGludmFsaWRhciBjYWNow6kgZGVzcHXDqXMgZGVsIHRpZW1wbyBlc3BlY2lmaWNhZG8nLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IHRydWUsXG4gICAgICAgICAgY2FjaGVUaW1lOiAxMDAwLCAvLyAxIHNlZ3VuZG9cbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgLy8gUHJpbWVyYSBjYXJnYVxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQucmVmZXRjaCgpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBmaXJzdENhbGxDb3VudCA9IG1vY2tGZXRjaC5tb2NrLmNhbGxzLmxlbmd0aFxuXG4gICAgICAvLyBBdmFuemFyIHRpZW1wbyBtw6FzIGFsbMOhIGRlbCBjYWNoZSB0aW1lXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTUwMClcbiAgICAgIH0pXG5cbiAgICAgIC8vIFNlZ3VuZGEgY2FyZ2EgKGRlYmVyw61hIGhhY2VyIG51ZXZhIHBldGljacOzbilcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlZmV0Y2goKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KG1vY2tGZXRjaC5tb2NrLmNhbGxzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKGZpcnN0Q2FsbENvdW50KVxuXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1Npc3RlbWEgZGUgcmVpbnRlbnRvcycsICgpID0+IHtcbiAgICBpdCgnZGViZSByZWludGVudGFyIGVuIGNhc28gZGUgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0FwaVJlc3BvbnNlLFxuICAgICAgICB9KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IGZhbHNlLFxuICAgICAgICAgIHJldHJ5QXR0ZW1wdHM6IDMsXG4gICAgICAgICAgcmV0cnlEZWxheTogMTAwLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZWZldGNoKClcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICAgICAgfSxcbiAgICAgICAgeyB0aW1lb3V0OiA1MDAwIH1cbiAgICAgIClcblxuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQub3JkZXJzKS50b0VxdWFsKFttb2NrT3JkZXJdKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlTnVsbCgpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGZhbGxhciBkZXNwdcOpcyBkZSBhZ290YXIgcmVpbnRlbnRvcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1BlcnNpc3RlbnQgbmV0d29yayBlcnJvcicpKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IGZhbHNlLFxuICAgICAgICAgIHJldHJ5QXR0ZW1wdHM6IDIsXG4gICAgICAgICAgcmV0cnlEZWxheTogNTAsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlZmV0Y2goKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcihcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgICAgICB9LFxuICAgICAgICB7IHRpbWVvdXQ6IDMwMDAgfVxuICAgICAgKVxuXG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMykgLy8gMSBpbmljaWFsICsgMiByZWludGVudG9zXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmVUcnV0aHkoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9yZGVycykudG9FcXVhbChbXSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdUcmFuc2Zvcm1hY2nDs24gZGUgZGF0b3MnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgYXBsaWNhciB0cmFuc2Zvcm1hY2lvbmVzIHBlcnNvbmFsaXphZGFzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRPcmRlciA9IHsgLi4ubW9ja09yZGVyLCBjdXN0b21GaWVsZDogJ3RyYW5zZm9ybWVkJyB9XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0FwaVJlc3BvbnNlLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlT3JkZXJzRW50ZXJwcmlzZVN0cmljdCh7XG4gICAgICAgICAgaW5pdGlhbEZpbHRlcnM6IHt9LFxuICAgICAgICAgIGVuYWJsZUNhY2hlOiBmYWxzZSxcbiAgICAgICAgICB0cmFuc2Zvcm06IG9yZGVycyA9PlxuICAgICAgICAgICAgb3JkZXJzLm1hcChvcmRlciA9PiAoe1xuICAgICAgICAgICAgICAuLi5vcmRlcixcbiAgICAgICAgICAgICAgY3VzdG9tRmllbGQ6ICd0cmFuc2Zvcm1lZCcsXG4gICAgICAgICAgICB9KSksXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlZmV0Y2goKVxuICAgICAgfSlcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9yZGVyc1swXSkudG9FcXVhbCh0cmFuc2Zvcm1lZE9yZGVyKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0NhbGxiYWNrcycsICgpID0+IHtcbiAgICBpdCgnZGViZSBlamVjdXRhciBjYWxsYmFjayBvblN1Y2Nlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvblN1Y2Nlc3MgPSBqZXN0LmZuKClcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrQXBpUmVzcG9uc2UsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0KHtcbiAgICAgICAgICBpbml0aWFsRmlsdGVyczoge30sXG4gICAgICAgICAgZW5hYmxlQ2FjaGU6IGZhbHNlLFxuICAgICAgICAgIG9uU3VjY2VzcyxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQucmVmZXRjaCgpXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG9uU3VjY2VzcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoW21vY2tPcmRlcl0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBlamVjdXRhciBjYWxsYmFjayBvbkVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb25FcnJvciA9IGplc3QuZm4oKVxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKVxuXG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWUoZXJyb3IpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZU9yZGVyc0VudGVycHJpc2VTdHJpY3Qoe1xuICAgICAgICAgIGluaXRpYWxGaWx0ZXJzOiB7fSxcbiAgICAgICAgICBlbmFibGVDYWNoZTogZmFsc2UsXG4gICAgICAgICAgb25FcnJvcixcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQucmVmZXRjaCgpXG4gICAgICB9KVxuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG9uRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGVycm9yKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufSlcbiJdLCJuYW1lcyI6WyJtb2NrRmV0Y2giLCJqZXN0IiwiZm4iLCJnbG9iYWwiLCJmZXRjaCIsIm1vY2tDb25zb2xlRXJyb3IiLCJzcHlPbiIsImNvbnNvbGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtb2NrQ29uc29sZVdhcm4iLCJtb2NrT3JkZXIiLCJpZCIsIm9yZGVyTnVtYmVyIiwic3RhdHVzIiwicHJldmlvdXNTdGF0dXMiLCJzdGF0dXNIaXN0b3J5IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVhc29uIiwidXNlcklkIiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyRW1haWwiLCJjdXN0b21lclBob25lIiwiaXRlbXMiLCJwcm9kdWN0SWQiLCJwcm9kdWN0TmFtZSIsInF1YW50aXR5IiwidW5pdFByaWNlIiwidG90YWxQcmljZSIsInNrdSIsInN1YnRvdGFsIiwidGF4QW1vdW50Iiwic2hpcHBpbmdBbW91bnQiLCJkaXNjb3VudEFtb3VudCIsInRvdGFsQW1vdW50IiwiY3VycmVuY3kiLCJzaGlwcGluZ0FkZHJlc3MiLCJzdHJlZXQiLCJjaXR5Iiwic3RhdGUiLCJ6aXBDb2RlIiwiY291bnRyeSIsImJpbGxpbmdBZGRyZXNzIiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRTdGF0dXMiLCJzaGlwcGluZ01ldGhvZCIsImVzdGltYXRlZERlbGl2ZXJ5Iiwibm93Iiwibm90ZXMiLCJ0YWdzIiwibWV0YWRhdGEiLCJzb3VyY2UiLCJjYW1wYWlnbiIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1vY2tBcGlSZXNwb25zZSIsInN1Y2Nlc3MiLCJkYXRhIiwibWVzc2FnZSIsInJlcXVlc3RJZCIsInBhZ2luYXRpb24iLCJwYWdlIiwibGltaXQiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tDbGVhciIsImFmdGVyRWFjaCIsImNsZWFyQWxsVGltZXJzIiwiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VPcmRlcnNFbnRlcnByaXNlU3RyaWN0IiwiaW5pdGlhbEZpbHRlcnMiLCJlbmFibGVDYWNoZSIsImV4cGVjdCIsImN1cnJlbnQiLCJvcmRlcnMiLCJ0b0VxdWFsIiwibG9hZGluZyIsInRvQmUiLCJlcnJvciIsInRvQmVOdWxsIiwiZmlsdGVycyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwib2siLCJqc29uIiwiYXV0b0ZldGNoIiwid2FpdEZvciIsImFjdCIsInNldEZpbHRlcnMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJhbnkiLCJPYmplY3QiLCJzZXRQYWdlIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInRvQmVUcnV0aHkiLCJpbnZhbGlkUmVzcG9uc2UiLCJlbmFibGVWYWxpZGF0aW9uIiwidG9IYXZlQmVlbkNhbGxlZCIsInJlcmVuZGVyIiwiY2FjaGVUaW1lIiwicmVmZXRjaCIsImZpcnN0Q2FsbENvdW50IiwibW9jayIsImNhbGxzIiwibGVuZ3RoIiwidXNlRmFrZVRpbWVycyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ0b0JlR3JlYXRlclRoYW4iLCJ1c2VSZWFsVGltZXJzIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwicmV0cnlBdHRlbXB0cyIsInJldHJ5RGVsYXkiLCJ0aW1lb3V0IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidHJhbnNmb3JtZWRPcmRlciIsImN1c3RvbUZpZWxkIiwidHJhbnNmb3JtIiwibWFwIiwib3JkZXIiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsa0NB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