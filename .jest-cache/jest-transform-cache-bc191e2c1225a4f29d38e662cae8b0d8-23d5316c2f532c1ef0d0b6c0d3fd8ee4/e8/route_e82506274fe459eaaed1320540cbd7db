9ca839645c69271cb20aa69706581f43
// ConfiguraciÃ³n para Node.js Runtime
"use strict";

/* istanbul ignore next */
function cov_2iztof0djv() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\auth\\security\\route.ts";
  var hash = "5264e7c708509355b15bc9739f9349b9025f7be7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\auth\\security\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 22,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 19
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 20
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 23
        }
      },
      "7": {
        start: {
          line: 23,
          column: 16
        },
        end: {
          line: 23,
          column: 38
        }
      },
      "8": {
        start: {
          line: 24,
          column: 19
        },
        end: {
          line: 24,
          column: 61
        }
      },
      "9": {
        start: {
          line: 25,
          column: 29
        },
        end: {
          line: 25,
          column: 82
        }
      },
      "10": {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 26,
          column: 73
        }
      },
      "11": {
        start: {
          line: 27,
          column: 31
        },
        end: {
          line: 27,
          column: 86
        }
      },
      "12": {
        start: {
          line: 28,
          column: 21
        },
        end: {
          line: 28,
          column: 74
        }
      },
      "13": {
        start: {
          line: 29,
          column: 24
        },
        end: {
          line: 29,
          column: 74
        }
      },
      "14": {
        start: {
          line: 30,
          column: 21
        },
        end: {
          line: 30,
          column: 67
        }
      },
      "15": {
        start: {
          line: 31,
          column: 16
        },
        end: {
          line: 31,
          column: 24
        }
      },
      "16": {
        start: {
          line: 34,
          column: 28
        },
        end: {
          line: 218,
          column: 6
        }
      },
      "17": {
        start: {
          line: 36,
          column: 31
        },
        end: {
          line: 36,
          column: 81
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 217,
          column: 9
        }
      },
      "19": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 89
        }
      },
      "20": {
        start: {
          line: 40,
          column: 24
        },
        end: {
          line: 40,
          column: 44
        }
      },
      "21": {
        start: {
          line: 41,
          column: 27
        },
        end: {
          line: 41,
          column: 70
        }
      },
      "22": {
        start: {
          line: 42,
          column: 27
        },
        end: {
          line: 42,
          column: 57
        }
      },
      "23": {
        start: {
          line: 43,
          column: 29
        },
        end: {
          line: 43,
          column: 61
        }
      },
      "24": {
        start: {
          line: 45,
          column: 37
        },
        end: {
          line: 48,
          column: 110
        }
      },
      "25": {
        start: {
          line: 45,
          column: 77
        },
        end: {
          line: 48,
          column: 18
        }
      },
      "26": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 62,
          column: 13
        }
      },
      "27": {
        start: {
          line: 51,
          column: 16
        },
        end: {
          line: 51,
          column: 100
        }
      },
      "28": {
        start: {
          line: 52,
          column: 38
        },
        end: {
          line: 58,
          column: 17
        }
      },
      "29": {
        start: {
          line: 59,
          column: 16
        },
        end: {
          line: 61,
          column: 19
        }
      },
      "30": {
        start: {
          line: 63,
          column: 28
        },
        end: {
          line: 63,
          column: 52
        }
      },
      "31": {
        start: {
          line: 65,
          column: 33
        },
        end: {
          line: 65,
          column: 84
        }
      },
      "32": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 70,
          column: 15
        }
      },
      "33": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 201,
          column: 13
        }
      },
      "34": {
        start: {
          line: 74,
          column: 36
        },
        end: {
          line: 75,
          column: 21
        }
      },
      "35": {
        start: {
          line: 74,
          column: 116
        },
        end: {
          line: 74,
          column: 164
        }
      },
      "36": {
        start: {
          line: 76,
          column: 44
        },
        end: {
          line: 89,
          column: 21
        }
      },
      "37": {
        start: {
          line: 90,
          column: 20
        },
        end: {
          line: 90,
          column: 70
        }
      },
      "38": {
        start: {
          line: 93,
          column: 35
        },
        end: {
          line: 94,
          column: 21
        }
      },
      "39": {
        start: {
          line: 93,
          column: 136
        },
        end: {
          line: 93,
          column: 218
        }
      },
      "40": {
        start: {
          line: 95,
          column: 43
        },
        end: {
          line: 108,
          column: 21
        }
      },
      "41": {
        start: {
          line: 109,
          column: 20
        },
        end: {
          line: 109,
          column: 69
        }
      },
      "42": {
        start: {
          line: 112,
          column: 39
        },
        end: {
          line: 112,
          column: 91
        }
      },
      "43": {
        start: {
          line: 113,
          column: 43
        },
        end: {
          line: 113,
          column: 133
        }
      },
      "44": {
        start: {
          line: 114,
          column: 45
        },
        end: {
          line: 121,
          column: 21
        }
      },
      "45": {
        start: {
          line: 122,
          column: 20
        },
        end: {
          line: 122,
          column: 71
        }
      },
      "46": {
        start: {
          line: 125,
          column: 40
        },
        end: {
          line: 125,
          column: 98
        }
      },
      "47": {
        start: {
          line: 126,
          column: 43
        },
        end: {
          line: 130,
          column: 21
        }
      },
      "48": {
        start: {
          line: 131,
          column: 20
        },
        end: {
          line: 131,
          column: 69
        }
      },
      "49": {
        start: {
          line: 134,
          column: 41
        },
        end: {
          line: 134,
          column: 74
        }
      },
      "50": {
        start: {
          line: 135,
          column: 39
        },
        end: {
          line: 135,
          column: 70
        }
      },
      "51": {
        start: {
          line: 136,
          column: 20
        },
        end: {
          line: 145,
          column: 21
        }
      },
      "52": {
        start: {
          line: 137,
          column: 46
        },
        end: {
          line: 141,
          column: 25
        }
      },
      "53": {
        start: {
          line: 142,
          column: 24
        },
        end: {
          line: 144,
          column: 27
        }
      },
      "54": {
        start: {
          line: 146,
          column: 38
        },
        end: {
          line: 146,
          column: 60
        }
      },
      "55": {
        start: {
          line: 147,
          column: 36
        },
        end: {
          line: 147,
          column: 56
        }
      },
      "56": {
        start: {
          line: 148,
          column: 20
        },
        end: {
          line: 157,
          column: 21
        }
      },
      "57": {
        start: {
          line: 149,
          column: 46
        },
        end: {
          line: 153,
          column: 25
        }
      },
      "58": {
        start: {
          line: 154,
          column: 24
        },
        end: {
          line: 156,
          column: 27
        }
      },
      "59": {
        start: {
          line: 158,
          column: 35
        },
        end: {
          line: 158,
          column: 111
        }
      },
      "60": {
        start: {
          line: 159,
          column: 43
        },
        end: {
          line: 165,
          column: 21
        }
      },
      "61": {
        start: {
          line: 166,
          column: 20
        },
        end: {
          line: 166,
          column: 69
        }
      },
      "62": {
        start: {
          line: 169,
          column: 43
        },
        end: {
          line: 169,
          column: 76
        }
      },
      "63": {
        start: {
          line: 170,
          column: 41
        },
        end: {
          line: 170,
          column: 72
        }
      },
      "64": {
        start: {
          line: 171,
          column: 35
        },
        end: {
          line: 171,
          column: 75
        }
      },
      "65": {
        start: {
          line: 172,
          column: 20
        },
        end: {
          line: 181,
          column: 21
        }
      },
      "66": {
        start: {
          line: 173,
          column: 46
        },
        end: {
          line: 177,
          column: 25
        }
      },
      "67": {
        start: {
          line: 178,
          column: 24
        },
        end: {
          line: 180,
          column: 27
        }
      },
      "68": {
        start: {
          line: 182,
          column: 40
        },
        end: {
          line: 182,
          column: 64
        }
      },
      "69": {
        start: {
          line: 183,
          column: 38
        },
        end: {
          line: 183,
          column: 60
        }
      },
      "70": {
        start: {
          line: 184,
          column: 39
        },
        end: {
          line: 184,
          column: 125
        }
      },
      "71": {
        start: {
          line: 186,
          column: 36
        },
        end: {
          line: 186,
          column: 49
        }
      },
      "72": {
        start: {
          line: 187,
          column: 20
        },
        end: {
          line: 187,
          column: 101
        }
      },
      "73": {
        start: {
          line: 188,
          column: 20
        },
        end: {
          line: 188,
          column: 141
        }
      },
      "74": {
        start: {
          line: 189,
          column: 20
        },
        end: {
          line: 191,
          column: 23
        }
      },
      "75": {
        start: {
          line: 193,
          column: 42
        },
        end: {
          line: 197,
          column: 21
        }
      },
      "76": {
        start: {
          line: 198,
          column: 20
        },
        end: {
          line: 200,
          column: 23
        }
      },
      "77": {
        start: {
          line: 204,
          column: 12
        },
        end: {
          line: 208,
          column: 15
        }
      },
      "78": {
        start: {
          line: 209,
          column: 34
        },
        end: {
          line: 213,
          column: 13
        }
      },
      "79": {
        start: {
          line: 214,
          column: 12
        },
        end: {
          line: 216,
          column: 15
        }
      },
      "80": {
        start: {
          line: 219,
          column: 4
        },
        end: {
          line: 219,
          column: 27
        }
      },
      "81": {
        start: {
          line: 223,
          column: 28
        },
        end: {
          line: 381,
          column: 6
        }
      },
      "82": {
        start: {
          line: 225,
          column: 31
        },
        end: {
          line: 225,
          column: 81
        }
      },
      "83": {
        start: {
          line: 226,
          column: 8
        },
        end: {
          line: 380,
          column: 9
        }
      },
      "84": {
        start: {
          line: 228,
          column: 12
        },
        end: {
          line: 228,
          column: 90
        }
      },
      "85": {
        start: {
          line: 229,
          column: 25
        },
        end: {
          line: 229,
          column: 177
        }
      },
      "86": {
        start: {
          line: 229,
          column: 65
        },
        end: {
          line: 229,
          column: 79
        }
      },
      "87": {
        start: {
          line: 230,
          column: 67
        },
        end: {
          line: 230,
          column: 71
        }
      },
      "88": {
        start: {
          line: 231,
          column: 12
        },
        end: {
          line: 240,
          column: 13
        }
      },
      "89": {
        start: {
          line: 232,
          column: 38
        },
        end: {
          line: 236,
          column: 17
        }
      },
      "90": {
        start: {
          line: 237,
          column: 16
        },
        end: {
          line: 239,
          column: 19
        }
      },
      "91": {
        start: {
          line: 242,
          column: 31
        },
        end: {
          line: 242,
          column: 213
        }
      },
      "92": {
        start: {
          line: 242,
          column: 71
        },
        end: {
          line: 242,
          column: 116
        }
      },
      "93": {
        start: {
          line: 243,
          column: 12
        },
        end: {
          line: 254,
          column: 13
        }
      },
      "94": {
        start: {
          line: 245,
          column: 16
        },
        end: {
          line: 245,
          column: 101
        }
      },
      "95": {
        start: {
          line: 246,
          column: 38
        },
        end: {
          line: 250,
          column: 17
        }
      },
      "96": {
        start: {
          line: 251,
          column: 16
        },
        end: {
          line: 253,
          column: 19
        }
      },
      "97": {
        start: {
          line: 255,
          column: 12
        },
        end: {
          line: 364,
          column: 13
        }
      },
      "98": {
        start: {
          line: 258,
          column: 20
        },
        end: {
          line: 267,
          column: 21
        }
      },
      "99": {
        start: {
          line: 259,
          column: 46
        },
        end: {
          line: 263,
          column: 25
        }
      },
      "100": {
        start: {
          line: 264,
          column: 24
        },
        end: {
          line: 266,
          column: 27
        }
      },
      "101": {
        start: {
          line: 268,
          column: 41
        },
        end: {
          line: 272,
          column: 22
        }
      },
      "102": {
        start: {
          line: 273,
          column: 43
        },
        end: {
          line: 279,
          column: 21
        }
      },
      "103": {
        start: {
          line: 280,
          column: 20
        },
        end: {
          line: 282,
          column: 23
        }
      },
      "104": {
        start: {
          line: 285,
          column: 20
        },
        end: {
          line: 294,
          column: 21
        }
      },
      "105": {
        start: {
          line: 286,
          column: 46
        },
        end: {
          line: 290,
          column: 25
        }
      },
      "106": {
        start: {
          line: 291,
          column: 24
        },
        end: {
          line: 293,
          column: 27
        }
      },
      "107": {
        start: {
          line: 295,
          column: 42
        },
        end: {
          line: 295,
          column: 131
        }
      },
      "108": {
        start: {
          line: 296,
          column: 44
        },
        end: {
          line: 302,
          column: 21
        }
      },
      "109": {
        start: {
          line: 303,
          column: 20
        },
        end: {
          line: 305,
          column: 23
        }
      },
      "110": {
        start: {
          line: 308,
          column: 20
        },
        end: {
          line: 317,
          column: 21
        }
      },
      "111": {
        start: {
          line: 309,
          column: 46
        },
        end: {
          line: 313,
          column: 25
        }
      },
      "112": {
        start: {
          line: 314,
          column: 24
        },
        end: {
          line: 316,
          column: 27
        }
      },
      "113": {
        start: {
          line: 318,
          column: 37
        },
        end: {
          line: 318,
          column: 130
        }
      },
      "114": {
        start: {
          line: 319,
          column: 39
        },
        end: {
          line: 325,
          column: 21
        }
      },
      "115": {
        start: {
          line: 326,
          column: 20
        },
        end: {
          line: 328,
          column: 23
        }
      },
      "116": {
        start: {
          line: 331,
          column: 39
        },
        end: {
          line: 331,
          column: 60
        }
      },
      "117": {
        start: {
          line: 332,
          column: 41
        },
        end: {
          line: 332,
          column: 111
        }
      },
      "118": {
        start: {
          line: 333,
          column: 44
        },
        end: {
          line: 339,
          column: 21
        }
      },
      "119": {
        start: {
          line: 340,
          column: 20
        },
        end: {
          line: 340,
          column: 70
        }
      },
      "120": {
        start: {
          line: 343,
          column: 40
        },
        end: {
          line: 343,
          column: 51
        }
      },
      "121": {
        start: {
          line: 344,
          column: 44
        },
        end: {
          line: 344,
          column: 65
        }
      },
      "122": {
        start: {
          line: 345,
          column: 40
        },
        end: {
          line: 345,
          column: 127
        }
      },
      "123": {
        start: {
          line: 346,
          column: 42
        },
        end: {
          line: 353,
          column: 21
        }
      },
      "124": {
        start: {
          line: 354,
          column: 20
        },
        end: {
          line: 354,
          column: 68
        }
      },
      "125": {
        start: {
          line: 356,
          column: 42
        },
        end: {
          line: 360,
          column: 21
        }
      },
      "126": {
        start: {
          line: 361,
          column: 20
        },
        end: {
          line: 363,
          column: 23
        }
      },
      "127": {
        start: {
          line: 367,
          column: 12
        },
        end: {
          line: 371,
          column: 15
        }
      },
      "128": {
        start: {
          line: 372,
          column: 34
        },
        end: {
          line: 376,
          column: 13
        }
      },
      "129": {
        start: {
          line: 377,
          column: 12
        },
        end: {
          line: 379,
          column: 15
        }
      },
      "130": {
        start: {
          line: 382,
          column: 4
        },
        end: {
          line: 382,
          column: 27
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 16
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 19
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "GET",
        decl: {
          start: {
            line: 32,
            column: 15
          },
          end: {
            line: 32,
            column: 18
          }
        },
        loc: {
          start: {
            line: 32,
            column: 28
          },
          end: {
            line: 220,
            column: 1
          }
        },
        line: 32
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 34,
            column: 113
          },
          end: {
            line: 34,
            column: 114
          }
        },
        loc: {
          start: {
            line: 34,
            column: 123
          },
          end: {
            line: 218,
            column: 5
          }
        },
        line: 34
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 45,
            column: 73
          },
          end: {
            line: 45,
            column: 74
          }
        },
        loc: {
          start: {
            line: 45,
            column: 77
          },
          end: {
            line: 48,
            column: 18
          }
        },
        line: 45
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 74,
            column: 112
          },
          end: {
            line: 74,
            column: 113
          }
        },
        loc: {
          start: {
            line: 74,
            column: 116
          },
          end: {
            line: 74,
            column: 164
          }
        },
        line: 74
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 93,
            column: 132
          },
          end: {
            line: 93,
            column: 133
          }
        },
        loc: {
          start: {
            line: 93,
            column: 136
          },
          end: {
            line: 93,
            column: 218
          }
        },
        line: 93
      },
      "9": {
        name: "POST",
        decl: {
          start: {
            line: 221,
            column: 15
          },
          end: {
            line: 221,
            column: 19
          }
        },
        loc: {
          start: {
            line: 221,
            column: 29
          },
          end: {
            line: 383,
            column: 1
          }
        },
        line: 221
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 223,
            column: 114
          },
          end: {
            line: 223,
            column: 115
          }
        },
        loc: {
          start: {
            line: 223,
            column: 124
          },
          end: {
            line: 381,
            column: 5
          }
        },
        line: 223
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 229,
            column: 61
          },
          end: {
            line: 229,
            column: 62
          }
        },
        loc: {
          start: {
            line: 229,
            column: 65
          },
          end: {
            line: 229,
            column: 79
          }
        },
        line: 229
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 242,
            column: 67
          },
          end: {
            line: 242,
            column: 68
          }
        },
        loc: {
          start: {
            line: 242,
            column: 71
          },
          end: {
            line: 242,
            column: 116
          }
        },
        line: 242
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 41,
            column: 27
          },
          end: {
            line: 41,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 41,
            column: 27
          },
          end: {
            line: 41,
            column: 57
          }
        }, {
          start: {
            line: 41,
            column: 61
          },
          end: {
            line: 41,
            column: 70
          }
        }],
        line: 41
      },
      "1": {
        loc: {
          start: {
            line: 48,
            column: 20
          },
          end: {
            line: 48,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 20
          },
          end: {
            line: 48,
            column: 72
          }
        }, {
          start: {
            line: 48,
            column: 76
          },
          end: {
            line: 48,
            column: 81
          }
        }],
        line: 48
      },
      "2": {
        loc: {
          start: {
            line: 49,
            column: 12
          },
          end: {
            line: 62,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 12
          },
          end: {
            line: 62,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      },
      "3": {
        loc: {
          start: {
            line: 55,
            column: 27
          },
          end: {
            line: 55,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 55,
            column: 27
          },
          end: {
            line: 55,
            column: 49
          }
        }, {
          start: {
            line: 55,
            column: 53
          },
          end: {
            line: 55,
            column: 91
          }
        }],
        line: 55
      },
      "4": {
        loc: {
          start: {
            line: 60,
            column: 28
          },
          end: {
            line: 60,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 60,
            column: 28
          },
          end: {
            line: 60,
            column: 51
          }
        }, {
          start: {
            line: 60,
            column: 55
          },
          end: {
            line: 60,
            column: 58
          }
        }],
        line: 60
      },
      "5": {
        loc: {
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 201,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 72,
            column: 16
          },
          end: {
            line: 90,
            column: 70
          }
        }, {
          start: {
            line: 91,
            column: 16
          },
          end: {
            line: 109,
            column: 69
          }
        }, {
          start: {
            line: 110,
            column: 16
          },
          end: {
            line: 122,
            column: 71
          }
        }, {
          start: {
            line: 123,
            column: 16
          },
          end: {
            line: 131,
            column: 69
          }
        }, {
          start: {
            line: 132,
            column: 16
          },
          end: {
            line: 166,
            column: 69
          }
        }, {
          start: {
            line: 167,
            column: 16
          },
          end: {
            line: 191,
            column: 23
          }
        }, {
          start: {
            line: 192,
            column: 16
          },
          end: {
            line: 200,
            column: 23
          }
        }],
        line: 71
      },
      "6": {
        loc: {
          start: {
            line: 93,
            column: 92
          },
          end: {
            line: 93,
            column: 107
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 92
          },
          end: {
            line: 93,
            column: 98
          }
        }, {
          start: {
            line: 93,
            column: 102
          },
          end: {
            line: 93,
            column: 107
          }
        }],
        line: 93
      },
      "7": {
        loc: {
          start: {
            line: 93,
            column: 111
          },
          end: {
            line: 93,
            column: 128
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 111
          },
          end: {
            line: 93,
            column: 119
          }
        }, {
          start: {
            line: 93,
            column: 123
          },
          end: {
            line: 93,
            column: 128
          }
        }],
        line: 93
      },
      "8": {
        loc: {
          start: {
            line: 93,
            column: 188
          },
          end: {
            line: 93,
            column: 207
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 188
          },
          end: {
            line: 93,
            column: 194
          }
        }, {
          start: {
            line: 93,
            column: 198
          },
          end: {
            line: 93,
            column: 207
          }
        }],
        line: 93
      },
      "9": {
        loc: {
          start: {
            line: 112,
            column: 48
          },
          end: {
            line: 112,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 112,
            column: 48
          },
          end: {
            line: 112,
            column: 82
          }
        }, {
          start: {
            line: 112,
            column: 86
          },
          end: {
            line: 112,
            column: 90
          }
        }],
        line: 112
      },
      "10": {
        loc: {
          start: {
            line: 113,
            column: 101
          },
          end: {
            line: 113,
            column: 120
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 113,
            column: 101
          },
          end: {
            line: 113,
            column: 107
          }
        }, {
          start: {
            line: 113,
            column: 111
          },
          end: {
            line: 113,
            column: 120
          }
        }],
        line: 113
      },
      "11": {
        loc: {
          start: {
            line: 136,
            column: 20
          },
          end: {
            line: 145,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 20
          },
          end: {
            line: 145,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "12": {
        loc: {
          start: {
            line: 136,
            column: 24
          },
          end: {
            line: 136,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 136,
            column: 24
          },
          end: {
            line: 136,
            column: 37
          }
        }, {
          start: {
            line: 136,
            column: 41
          },
          end: {
            line: 136,
            column: 52
          }
        }],
        line: 136
      },
      "13": {
        loc: {
          start: {
            line: 148,
            column: 20
          },
          end: {
            line: 157,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 148,
            column: 20
          },
          end: {
            line: 157,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 148
      },
      "14": {
        loc: {
          start: {
            line: 148,
            column: 24
          },
          end: {
            line: 148,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 148,
            column: 24
          },
          end: {
            line: 148,
            column: 50
          }
        }, {
          start: {
            line: 148,
            column: 54
          },
          end: {
            line: 148,
            column: 78
          }
        }],
        line: 148
      },
      "15": {
        loc: {
          start: {
            line: 171,
            column: 35
          },
          end: {
            line: 171,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 171,
            column: 35
          },
          end: {
            line: 171,
            column: 65
          }
        }, {
          start: {
            line: 171,
            column: 69
          },
          end: {
            line: 171,
            column: 75
          }
        }],
        line: 171
      },
      "16": {
        loc: {
          start: {
            line: 172,
            column: 20
          },
          end: {
            line: 181,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 172,
            column: 20
          },
          end: {
            line: 181,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 172
      },
      "17": {
        loc: {
          start: {
            line: 172,
            column: 24
          },
          end: {
            line: 172,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 172,
            column: 24
          },
          end: {
            line: 172,
            column: 39
          }
        }, {
          start: {
            line: 172,
            column: 43
          },
          end: {
            line: 172,
            column: 56
          }
        }],
        line: 172
      },
      "18": {
        loc: {
          start: {
            line: 187,
            column: 48
          },
          end: {
            line: 187,
            column: 99
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 187,
            column: 68
          },
          end: {
            line: 187,
            column: 86
          }
        }, {
          start: {
            line: 187,
            column: 89
          },
          end: {
            line: 187,
            column: 99
          }
        }],
        line: 187
      },
      "19": {
        loc: {
          start: {
            line: 229,
            column: 81
          },
          end: {
            line: 229,
            column: 142
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 229,
            column: 81
          },
          end: {
            line: 229,
            column: 133
          }
        }, {
          start: {
            line: 229,
            column: 137
          },
          end: {
            line: 229,
            column: 142
          }
        }],
        line: 229
      },
      "20": {
        loc: {
          start: {
            line: 231,
            column: 12
          },
          end: {
            line: 240,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 231,
            column: 12
          },
          end: {
            line: 240,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 231
      },
      "21": {
        loc: {
          start: {
            line: 242,
            column: 118
          },
          end: {
            line: 242,
            column: 179
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 242,
            column: 118
          },
          end: {
            line: 242,
            column: 170
          }
        }, {
          start: {
            line: 242,
            column: 174
          },
          end: {
            line: 242,
            column: 179
          }
        }],
        line: 242
      },
      "22": {
        loc: {
          start: {
            line: 243,
            column: 12
          },
          end: {
            line: 254,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 243,
            column: 12
          },
          end: {
            line: 254,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 243
      },
      "23": {
        loc: {
          start: {
            line: 243,
            column: 16
          },
          end: {
            line: 243,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 243,
            column: 16
          },
          end: {
            line: 243,
            column: 34
          }
        }, {
          start: {
            line: 243,
            column: 38
          },
          end: {
            line: 243,
            column: 57
          }
        }],
        line: 243
      },
      "24": {
        loc: {
          start: {
            line: 255,
            column: 12
          },
          end: {
            line: 364,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 256,
            column: 16
          },
          end: {
            line: 282,
            column: 23
          }
        }, {
          start: {
            line: 283,
            column: 16
          },
          end: {
            line: 305,
            column: 23
          }
        }, {
          start: {
            line: 306,
            column: 16
          },
          end: {
            line: 328,
            column: 23
          }
        }, {
          start: {
            line: 329,
            column: 16
          },
          end: {
            line: 340,
            column: 70
          }
        }, {
          start: {
            line: 341,
            column: 16
          },
          end: {
            line: 354,
            column: 68
          }
        }, {
          start: {
            line: 355,
            column: 16
          },
          end: {
            line: 363,
            column: 23
          }
        }],
        line: 255
      },
      "25": {
        loc: {
          start: {
            line: 258,
            column: 20
          },
          end: {
            line: 267,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 258,
            column: 20
          },
          end: {
            line: 267,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 258
      },
      "26": {
        loc: {
          start: {
            line: 278,
            column: 33
          },
          end: {
            line: 278,
            column: 98
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 278,
            column: 48
          },
          end: {
            line: 278,
            column: 68
          }
        }, {
          start: {
            line: 278,
            column: 71
          },
          end: {
            line: 278,
            column: 98
          }
        }],
        line: 278
      },
      "27": {
        loc: {
          start: {
            line: 281,
            column: 32
          },
          end: {
            line: 281,
            column: 56
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 281,
            column: 47
          },
          end: {
            line: 281,
            column: 50
          }
        }, {
          start: {
            line: 281,
            column: 53
          },
          end: {
            line: 281,
            column: 56
          }
        }],
        line: 281
      },
      "28": {
        loc: {
          start: {
            line: 285,
            column: 20
          },
          end: {
            line: 294,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 285,
            column: 20
          },
          end: {
            line: 294,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 285
      },
      "29": {
        loc: {
          start: {
            line: 285,
            column: 24
          },
          end: {
            line: 285,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 285,
            column: 24
          },
          end: {
            line: 285,
            column: 32
          }
        }, {
          start: {
            line: 285,
            column: 36
          },
          end: {
            line: 285,
            column: 42
          }
        }],
        line: 285
      },
      "30": {
        loc: {
          start: {
            line: 301,
            column: 33
          },
          end: {
            line: 301,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 301,
            column: 49
          },
          end: {
            line: 301,
            column: 66
          }
        }, {
          start: {
            line: 301,
            column: 69
          },
          end: {
            line: 301,
            column: 95
          }
        }],
        line: 301
      },
      "31": {
        loc: {
          start: {
            line: 304,
            column: 32
          },
          end: {
            line: 304,
            column: 57
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 304,
            column: 48
          },
          end: {
            line: 304,
            column: 51
          }
        }, {
          start: {
            line: 304,
            column: 54
          },
          end: {
            line: 304,
            column: 57
          }
        }],
        line: 304
      },
      "32": {
        loc: {
          start: {
            line: 308,
            column: 20
          },
          end: {
            line: 317,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 308,
            column: 20
          },
          end: {
            line: 317,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 308
      },
      "33": {
        loc: {
          start: {
            line: 308,
            column: 24
          },
          end: {
            line: 308,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 308,
            column: 24
          },
          end: {
            line: 308,
            column: 32
          }
        }, {
          start: {
            line: 308,
            column: 36
          },
          end: {
            line: 308,
            column: 42
          }
        }],
        line: 308
      },
      "34": {
        loc: {
          start: {
            line: 324,
            column: 33
          },
          end: {
            line: 324,
            column: 106
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 324,
            column: 44
          },
          end: {
            line: 324,
            column: 80
          }
        }, {
          start: {
            line: 324,
            column: 83
          },
          end: {
            line: 324,
            column: 106
          }
        }],
        line: 324
      },
      "35": {
        loc: {
          start: {
            line: 327,
            column: 32
          },
          end: {
            line: 327,
            column: 52
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 327,
            column: 43
          },
          end: {
            line: 327,
            column: 46
          }
        }, {
          start: {
            line: 327,
            column: 49
          },
          end: {
            line: 327,
            column: 52
          }
        }],
        line: 327
      },
      "36": {
        loc: {
          start: {
            line: 331,
            column: 39
          },
          end: {
            line: 331,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 331,
            column: 39
          },
          end: {
            line: 331,
            column: 54
          }
        }, {
          start: {
            line: 331,
            column: 58
          },
          end: {
            line: 331,
            column: 60
          }
        }],
        line: 331
      },
      "37": {
        loc: {
          start: {
            line: 344,
            column: 44
          },
          end: {
            line: 344,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 344,
            column: 44
          },
          end: {
            line: 344,
            column: 59
          }
        }, {
          start: {
            line: 344,
            column: 63
          },
          end: {
            line: 344,
            column: 65
          }
        }],
        line: 344
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0, 0, 0, 0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0, 0, 0, 0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\auth\\security\\route.ts"],
      sourcesContent: ["// Configuraci\xF3n para Node.js Runtime\r\nexport const runtime = 'nodejs';\r\n\r\n/**\r\n * API Enterprise de Auditor\xEDa de Seguridad Mejorada\r\n * Refactorizada con utilidades enterprise + RLS + validaciones robustas\r\n */\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { getAuthenticatedUser } from '@/lib/auth/admin-auth';\r\nimport {\r\n  requireAdminAuth\r\n} from '@/lib/auth/enterprise-auth-utils';\r\nimport {\r\n  executeWithRLS\r\n} from '@/lib/auth/enterprise-rls-utils';\r\nimport {\r\n  withCache,\r\n  getCacheStats\r\n} from '@/lib/auth/enterprise-cache';\r\nimport {\r\n  analyzeSecurityPatterns,\r\n  getSecurityMetrics,\r\n  generateSecurityReport,\r\n  getActiveSecurityAlerts,\r\n  updateSecurityAlert,\r\n  resolveSecurityAlert,\r\n  markAlertAsFalsePositive,\r\n  runSecurityHealthCheck,\r\n  cleanupOldSecurityEvents,\r\n  exportSecurityEvents\r\n} from '@/lib/auth/security-audit-enhanced';\r\nimport { ApiResponse } from '@/types/api';\r\nimport { withRateLimit, RATE_LIMIT_CONFIGS } from '@/lib/rate-limiting/rate-limiter';\r\nimport { createSecurityLogger } from '@/lib/logging/security-logger';\r\nimport { withTimeout, ENDPOINT_TIMEOUTS } from '@/lib/config/api-timeouts';\r\n\r\n// =====================================================\r\n// GET /api/auth/security\r\n// Obtiene m\xE9tricas, alertas o ejecuta an\xE1lisis\r\n// =====================================================\r\n\r\nexport async function GET(request: NextRequest) {\r\n  // Aplicar rate limiting para APIs de autenticaci\xF3n\r\n  const rateLimitResult = await withRateLimit(\r\n    request,\r\n    RATE_LIMIT_CONFIGS.auth,\r\n    async () => {\r\n      // Crear logger de seguridad\r\n      const securityLogger = createSecurityLogger(request);\r\n\r\n      try {\r\n        // Log del acceso al API de seguridad\r\n        securityLogger.logApiAccess(securityLogger.context, 'auth/security', 'read');\r\n\r\n        const url = new URL(request.url);\r\n        const action = url.searchParams.get('action') || 'metrics';\r\n        const userId = url.searchParams.get('userId');\r\n        const severity = url.searchParams.get('severity') as any;\r\n\r\n        // ENTERPRISE: Autenticaci\xF3n enterprise con permisos espec\xEDficos de seguridad\r\n        const enterpriseResult = await withTimeout(\r\n          () => requireAdminAuth(request, ['security_read', 'admin_access']),\r\n          ENDPOINT_TIMEOUTS['/api/auth']?.request || 15000,\r\n          'Autenticaci\xF3n enterprise'\r\n        );\r\n\r\n        if (!enterpriseResult.success) {\r\n          // Log del intento de acceso no autorizado\r\n          securityLogger.logPermissionDenied(securityLogger.context, 'auth/security', 'read');\r\n\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: enterpriseResult.error || 'Permisos de administrador requeridos',\r\n            enterprise: true,\r\n            code: enterpriseResult.code\r\n          };\r\n          return NextResponse.json(errorResponse, { status: enterpriseResult.status || 403 });\r\n        }\r\n\r\n    const context = enterpriseResult.context!;\r\n\r\n    // LEGACY: Mantener compatibilidad con m\xE9todo anterior\r\n    const legacyResult = await getAuthenticatedUser(request);\r\n    console.log('\uD83D\uDD0D Security API: Enterprise vs Legacy auth comparison:', {\r\n      enterprise: enterpriseResult.success,\r\n      legacy: legacyResult.isAdmin,\r\n      agree: enterpriseResult.success === legacyResult.isAdmin\r\n    });\r\n\r\n    switch (action) {\r\n      case 'metrics':\r\n        // ENTERPRISE: Obtener m\xE9tricas de seguridad con cache\r\n        const metrics = await withCache(\r\n          `security_metrics_${context.userId}`,\r\n          () => getSecurityMetrics(),\r\n          2 * 60 * 1000 // 2 minutos de cache\r\n        );\r\n\r\n        const metricsResponse: ApiResponse<any> = {\r\n          data: {\r\n            metrics,\r\n            cache: getCacheStats(),\r\n            enterprise: {\r\n              user: context.userId,\r\n              role: context.role,\r\n              permissions: context.permissions\r\n            }\r\n          },\r\n          success: true,\r\n          message: 'M\xE9tricas de seguridad obtenidas (enterprise)',\r\n          enterprise: true\r\n        };\r\n        return NextResponse.json(metricsResponse);\r\n\r\n      case 'alerts':\r\n        // ENTERPRISE: Obtener alertas activas con cache\r\n        const alerts = await withCache(\r\n          `security_alerts_${userId || 'all'}_${severity || 'all'}`,\r\n          () => getActiveSecurityAlerts(userId || undefined, severity),\r\n          1 * 60 * 1000 // 1 minuto de cache\r\n        );\r\n\r\n        const alertsResponse: ApiResponse<any> = {\r\n          data: {\r\n            alerts,\r\n            count: alerts.length,\r\n            cache: getCacheStats(),\r\n            enterprise: {\r\n              filtered_by_user: userId,\r\n              filtered_by_severity: severity,\r\n              requester: context.userId\r\n            }\r\n          },\r\n          success: true,\r\n          message: 'Alertas de seguridad obtenidas'\r\n        };\r\n        return NextResponse.json(alertsResponse);\r\n\r\n      case 'analyze':\r\n        // Ejecutar an\xE1lisis de patrones\r\n        const timeWindow = parseInt(url.searchParams.get('timeWindow') || '24');\r\n        const analysisAlerts = await analyzeSecurityPatterns(userId || undefined, timeWindow);\r\n        const analysisResponse: ApiResponse<any> = {\r\n          data: { alerts: analysisAlerts, count: analysisAlerts.length },\r\n          success: true,\r\n          message: `An\xE1lisis completado: ${analysisAlerts.length} alertas generadas`\r\n        };\r\n        return NextResponse.json(analysisResponse);\r\n\r\n      case 'health':\r\n        // Ejecutar verificaci\xF3n de salud de seguridad\r\n        const healthCheck = await runSecurityHealthCheck();\r\n        const healthResponse: ApiResponse<any> = {\r\n          data: healthCheck,\r\n          success: true,\r\n          message: `Estado de seguridad: ${healthCheck.status}`\r\n        };\r\n        return NextResponse.json(healthResponse);\r\n\r\n      case 'report':\r\n        // Generar reporte de seguridad\r\n        const startDateStr = url.searchParams.get('startDate');\r\n        const endDateStr = url.searchParams.get('endDate');\r\n        \r\n        if (!startDateStr || !endDateStr) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'startDate y endDate son requeridos para generar reporte'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const startDate = new Date(startDateStr);\r\n        const endDate = new Date(endDateStr);\r\n        \r\n        if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'Fechas inv\xE1lidas'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const report = await generateSecurityReport(startDate, endDate);\r\n        const reportResponse: ApiResponse<any> = {\r\n          data: { report },\r\n          success: true,\r\n          message: 'Reporte de seguridad generado'\r\n        };\r\n        return NextResponse.json(reportResponse);\r\n\r\n      case 'export':\r\n        // Exportar eventos de seguridad\r\n        const exportStartStr = url.searchParams.get('startDate');\r\n        const exportEndStr = url.searchParams.get('endDate');\r\n        const format = url.searchParams.get('format') as 'json' | 'csv' || 'json';\r\n        \r\n        if (!exportStartStr || !exportEndStr) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'startDate y endDate son requeridos para exportar'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const exportStart = new Date(exportStartStr);\r\n        const exportEnd = new Date(exportEndStr);\r\n        \r\n        const exportData = await exportSecurityEvents(exportStart, exportEnd, format);\r\n        \r\n        // Retornar como archivo descargable\r\n        const headers = new Headers();\r\n        headers.set('Content-Type', format === 'json' ? 'application/json' : 'text/csv');\r\n        headers.set('Content-Disposition', `attachment; filename=\"security-events-${exportStartStr}-${exportEndStr}.${format}\"`);\r\n        \r\n        return new Response(exportData, { headers });\r\n\r\n        default:\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: `Acci\xF3n no v\xE1lida: ${action}`\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n      }\r\n      } catch (error) {\r\n        // Log del error de seguridad\r\n        securityLogger.logApiError(securityLogger.context, error as Error, {\r\n          endpoint: '/api/auth/security',\r\n          method: 'GET',\r\n          action: request.url\r\n        });\r\n\r\n        const errorResponse: ApiResponse<null> = {\r\n          data: null,\r\n          success: false,\r\n          error: 'Error interno del servidor'\r\n        };\r\n        return NextResponse.json(errorResponse, { status: 500 });\r\n      }\r\n    }\r\n  );\r\n\r\n  return rateLimitResult;\r\n}\r\n\r\n// =====================================================\r\n// POST /api/auth/security\r\n// Acciones sobre alertas y mantenimiento\r\n// =====================================================\r\n\r\nexport async function POST(request: NextRequest) {\r\n  // Aplicar rate limiting para APIs de autenticaci\xF3n (acciones administrativas)\r\n  const rateLimitResult = await withRateLimit(\r\n    request,\r\n    RATE_LIMIT_CONFIGS.admin,\r\n    async () => {\r\n      // Crear logger de seguridad\r\n      const securityLogger = createSecurityLogger(request);\r\n\r\n      try {\r\n        // Log del acceso al API de seguridad (POST)\r\n        securityLogger.logApiAccess(securityLogger.context, 'auth/security', 'write');\r\n\r\n        const body = await withTimeout(\r\n          () => request.json(),\r\n          ENDPOINT_TIMEOUTS['/api/auth']?.request || 15000,\r\n          'Lectura del body de la request'\r\n        );\r\n\r\n        const { action, alertId, status, notes, assignedTo } = body;\r\n\r\n        if (!action) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'Acci\xF3n es requerida'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        // Verificar autenticaci\xF3n y permisos de admin\r\n        const authResult = await withTimeout(\r\n          () => getAuthenticatedUser(request),\r\n          ENDPOINT_TIMEOUTS['/api/auth']?.request || 15000,\r\n          'Verificaci\xF3n de autenticaci\xF3n'\r\n        );\r\n\r\n        if (!authResult.userId || !authResult.isAdmin) {\r\n          // Log del intento de acceso no autorizado\r\n          securityLogger.logPermissionDenied(securityLogger.context, 'auth/security', 'write');\r\n\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'Permisos de administrador requeridos'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 403 });\r\n        }\r\n\r\n    switch (action) {\r\n      case 'update_alert':\r\n        // Actualizar estado de alerta\r\n        if (!alertId) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'alertId es requerido'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const updateResult = await updateSecurityAlert(alertId, {\r\n          status,\r\n          assigned_to: assignedTo,\r\n          resolution_notes: notes\r\n        });\r\n\r\n        const updateResponse: ApiResponse<any> = {\r\n          data: { success: updateResult },\r\n          success: updateResult,\r\n          message: updateResult ? 'Alerta actualizada' : 'Error actualizando alerta'\r\n        };\r\n        return NextResponse.json(updateResponse, { \r\n          status: updateResult ? 200 : 500 \r\n        });\r\n\r\n      case 'resolve_alert':\r\n        // Resolver alerta\r\n        if (!alertId || !notes) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'alertId y notes son requeridos'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const resolveResult = await resolveSecurityAlert(\r\n          alertId, \r\n          notes, \r\n          authResult.userId\r\n        );\r\n\r\n        const resolveResponse: ApiResponse<any> = {\r\n          data: { success: resolveResult },\r\n          success: resolveResult,\r\n          message: resolveResult ? 'Alerta resuelta' : 'Error resolviendo alerta'\r\n        };\r\n        return NextResponse.json(resolveResponse, { \r\n          status: resolveResult ? 200 : 500 \r\n        });\r\n\r\n      case 'false_positive':\r\n        // Marcar como falso positivo\r\n        if (!alertId || !notes) {\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: 'alertId y notes son requeridos'\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n        }\r\n\r\n        const fpResult = await markAlertAsFalsePositive(\r\n          alertId, \r\n          notes, \r\n          authResult.userId\r\n        );\r\n\r\n        const fpResponse: ApiResponse<any> = {\r\n          data: { success: fpResult },\r\n          success: fpResult,\r\n          message: fpResult ? 'Alerta marcada como falso positivo' : 'Error marcando alerta'\r\n        };\r\n        return NextResponse.json(fpResponse, { \r\n          status: fpResult ? 200 : 500 \r\n        });\r\n\r\n      case 'cleanup':\r\n        // Limpiar eventos antiguos\r\n        const daysToKeep = body.daysToKeep || 90;\r\n        const cleanupCount = await cleanupOldSecurityEvents(daysToKeep);\r\n\r\n        const cleanupResponse: ApiResponse<any> = {\r\n          data: { deletedCount: cleanupCount },\r\n          success: true,\r\n          message: `Limpieza completada: ${cleanupCount} eventos eliminados`\r\n        };\r\n        return NextResponse.json(cleanupResponse);\r\n\r\n      case 'force_analysis':\r\n        // Forzar an\xE1lisis de seguridad\r\n        const forceUserId = body.userId;\r\n        const forceTimeWindow = body.timeWindow || 24;\r\n        \r\n        const forceAlerts = await analyzeSecurityPatterns(forceUserId, forceTimeWindow);\r\n        \r\n        const forceResponse: ApiResponse<any> = {\r\n          data: { alerts: forceAlerts, count: forceAlerts.length },\r\n          success: true,\r\n          message: `An\xE1lisis forzado completado: ${forceAlerts.length} alertas generadas`\r\n        };\r\n        return NextResponse.json(forceResponse);\r\n\r\n        default:\r\n          const errorResponse: ApiResponse<null> = {\r\n            data: null,\r\n            success: false,\r\n            error: `Acci\xF3n no v\xE1lida: ${action}`\r\n          };\r\n          return NextResponse.json(errorResponse, { status: 400 });\r\n      }\r\n      } catch (error) {\r\n        // Log del error de seguridad\r\n        securityLogger.logApiError(securityLogger.context, error as Error, {\r\n          endpoint: '/api/auth/security',\r\n          method: 'POST',\r\n          action: request.url\r\n        });\r\n\r\n        const errorResponse: ApiResponse<null> = {\r\n          data: null,\r\n          success: false,\r\n          error: 'Error interno del servidor'\r\n        };\r\n        return NextResponse.json(errorResponse, { status: 500 });\r\n      }\r\n    }\r\n  );\r\n\r\n  return rateLimitResult;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["GET", "POST", "runtime", "request", "rateLimitResult", "withRateLimit", "RATE_LIMIT_CONFIGS", "auth", "securityLogger", "createSecurityLogger", "logApiAccess", "context", "url", "URL", "action", "searchParams", "get", "userId", "severity", "enterpriseResult", "withTimeout", "requireAdminAuth", "ENDPOINT_TIMEOUTS", "success", "logPermissionDenied", "errorResponse", "data", "error", "enterprise", "code", "NextResponse", "json", "status", "legacyResult", "getAuthenticatedUser", "console", "log", "legacy", "isAdmin", "agree", "metrics", "withCache", "getSecurityMetrics", "metricsResponse", "cache", "getCacheStats", "user", "role", "permissions", "message", "alerts", "getActiveSecurityAlerts", "undefined", "alertsResponse", "count", "length", "filtered_by_user", "filtered_by_severity", "requester", "timeWindow", "parseInt", "analysisAlerts", "analyzeSecurityPatterns", "analysisResponse", "healthCheck", "runSecurityHealthCheck", "healthResponse", "startDateStr", "endDateStr", "startDate", "Date", "endDate", "isNaN", "getTime", "report", "generateSecurityReport", "reportResponse", "exportStartStr", "exportEndStr", "format", "exportStart", "exportEnd", "exportData", "exportSecurityEvents", "headers", "Headers", "set", "Response", "logApiError", "endpoint", "method", "admin", "body", "alertId", "notes", "assignedTo", "authResult", "updateResult", "updateSecurityAlert", "assigned_to", "resolution_notes", "updateResponse", "resolveResult", "resolveSecurityAlert", "resolveResponse", "fpResult", "markAlertAsFalsePositive", "fpResponse", "daysToKeep", "cleanupCount", "cleanupOldSecurityEvents", "cleanupResponse", "deletedCount", "forceUserId", "forceTimeWindow", "forceAlerts", "forceResponse"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5264e7c708509355b15bc9739f9349b9025f7be7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2iztof0djv = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2iztof0djv();
cov_2iztof0djv().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2iztof0djv().f[0]++;
  cov_2iztof0djv().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2iztof0djv().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2iztof0djv().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_2iztof0djv().f[1]++;
    cov_2iztof0djv().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_2iztof0djv().f[2]++;
    cov_2iztof0djv().s[5]++;
    return POST;
  },
  get runtime() {
    /* istanbul ignore next */
    cov_2iztof0djv().f[3]++;
    cov_2iztof0djv().s[6]++;
    return runtime;
  }
});
const _server =
/* istanbul ignore next */
(cov_2iztof0djv().s[7]++, require("next/server"));
const _adminauth =
/* istanbul ignore next */
(cov_2iztof0djv().s[8]++, require("../../../../lib/auth/admin-auth"));
const _enterpriseauthutils =
/* istanbul ignore next */
(cov_2iztof0djv().s[9]++, require("../../../../lib/auth/enterprise-auth-utils"));
const _enterprisecache =
/* istanbul ignore next */
(cov_2iztof0djv().s[10]++, require("../../../../lib/auth/enterprise-cache"));
const _securityauditenhanced =
/* istanbul ignore next */
(cov_2iztof0djv().s[11]++, require("../../../../lib/auth/security-audit-enhanced"));
const _ratelimiter =
/* istanbul ignore next */
(cov_2iztof0djv().s[12]++, require("../../../../lib/rate-limiting/rate-limiter"));
const _securitylogger =
/* istanbul ignore next */
(cov_2iztof0djv().s[13]++, require("../../../../lib/logging/security-logger"));
const _apitimeouts =
/* istanbul ignore next */
(cov_2iztof0djv().s[14]++, require("../../../../lib/config/api-timeouts"));
const runtime =
/* istanbul ignore next */
(cov_2iztof0djv().s[15]++, 'nodejs');
async function GET(request) {
  /* istanbul ignore next */
  cov_2iztof0djv().f[4]++;
  // Aplicar rate limiting para APIs de autenticaciÃ³n
  const rateLimitResult =
  /* istanbul ignore next */
  (cov_2iztof0djv().s[16]++, await (0, _ratelimiter.withRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.auth, async () => {
    /* istanbul ignore next */
    cov_2iztof0djv().f[5]++;
    // Crear logger de seguridad
    const securityLogger =
    /* istanbul ignore next */
    (cov_2iztof0djv().s[17]++, (0, _securitylogger.createSecurityLogger)(request));
    /* istanbul ignore next */
    cov_2iztof0djv().s[18]++;
    try {
      /* istanbul ignore next */
      cov_2iztof0djv().s[19]++;
      // Log del acceso al API de seguridad
      securityLogger.logApiAccess(securityLogger.context, 'auth/security', 'read');
      const url =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[20]++, new URL(request.url));
      const action =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[21]++,
      /* istanbul ignore next */
      (cov_2iztof0djv().b[0][0]++, url.searchParams.get('action')) ||
      /* istanbul ignore next */
      (cov_2iztof0djv().b[0][1]++, 'metrics'));
      const userId =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[22]++, url.searchParams.get('userId'));
      const severity =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[23]++, url.searchParams.get('severity'));
      // ENTERPRISE: AutenticaciÃ³n enterprise con permisos especÃ­ficos de seguridad
      const enterpriseResult =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[24]++, await (0, _apitimeouts.withTimeout)(() => {
        /* istanbul ignore next */
        cov_2iztof0djv().f[6]++;
        cov_2iztof0djv().s[25]++;
        return (0, _enterpriseauthutils.requireAdminAuth)(request, ['security_read', 'admin_access']);
      },
      /* istanbul ignore next */
      (cov_2iztof0djv().b[1][0]++, _apitimeouts.ENDPOINT_TIMEOUTS['/api/auth']?.request) ||
      /* istanbul ignore next */
      (cov_2iztof0djv().b[1][1]++, 15000), 'AutenticaciÃ³n enterprise'));
      /* istanbul ignore next */
      cov_2iztof0djv().s[26]++;
      if (!enterpriseResult.success) {
        /* istanbul ignore next */
        cov_2iztof0djv().b[2][0]++;
        cov_2iztof0djv().s[27]++;
        // Log del intento de acceso no autorizado
        securityLogger.logPermissionDenied(securityLogger.context, 'auth/security', 'read');
        const errorResponse =
        /* istanbul ignore next */
        (cov_2iztof0djv().s[28]++, {
          data: null,
          success: false,
          error:
          /* istanbul ignore next */
          (cov_2iztof0djv().b[3][0]++, enterpriseResult.error) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[3][1]++, 'Permisos de administrador requeridos'),
          enterprise: true,
          code: enterpriseResult.code
        });
        /* istanbul ignore next */
        cov_2iztof0djv().s[29]++;
        return _server.NextResponse.json(errorResponse, {
          status:
          /* istanbul ignore next */
          (cov_2iztof0djv().b[4][0]++, enterpriseResult.status) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[4][1]++, 403)
        });
      } else
      /* istanbul ignore next */
      {
        cov_2iztof0djv().b[2][1]++;
      }
      const context =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[30]++, enterpriseResult.context);
      // LEGACY: Mantener compatibilidad con mÃ©todo anterior
      const legacyResult =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[31]++, await (0, _adminauth.getAuthenticatedUser)(request));
      /* istanbul ignore next */
      cov_2iztof0djv().s[32]++;
      console.log('ğ Security API: Enterprise vs Legacy auth comparison:', {
        enterprise: enterpriseResult.success,
        legacy: legacyResult.isAdmin,
        agree: enterpriseResult.success === legacyResult.isAdmin
      });
      /* istanbul ignore next */
      cov_2iztof0djv().s[33]++;
      switch (action) {
        case 'metrics':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][0]++;
          // ENTERPRISE: Obtener mÃ©tricas de seguridad con cache
          const metrics =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[34]++, await (0, _enterprisecache.withCache)(`security_metrics_${context.userId}`, () => {
            /* istanbul ignore next */
            cov_2iztof0djv().f[7]++;
            cov_2iztof0djv().s[35]++;
            return (0, _securityauditenhanced.getSecurityMetrics)();
          }, 2 * 60 * 1000 // 2 minutos de cache
          ));
          const metricsResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[36]++, {
            data: {
              metrics,
              cache: (0, _enterprisecache.getCacheStats)(),
              enterprise: {
                user: context.userId,
                role: context.role,
                permissions: context.permissions
              }
            },
            success: true,
            message: 'MÃ©tricas de seguridad obtenidas (enterprise)',
            enterprise: true
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[37]++;
          return _server.NextResponse.json(metricsResponse);
        case 'alerts':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][1]++;
          // ENTERPRISE: Obtener alertas activas con cache
          const alerts =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[38]++, await (0, _enterprisecache.withCache)(`security_alerts_${
          /* istanbul ignore next */
          (cov_2iztof0djv().b[6][0]++, userId) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[6][1]++, 'all')}_${
          /* istanbul ignore next */
          (cov_2iztof0djv().b[7][0]++, severity) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[7][1]++, 'all')}`, () => {
            /* istanbul ignore next */
            cov_2iztof0djv().f[8]++;
            cov_2iztof0djv().s[39]++;
            return (0, _securityauditenhanced.getActiveSecurityAlerts)(
            /* istanbul ignore next */
            (cov_2iztof0djv().b[8][0]++, userId) ||
            /* istanbul ignore next */
            (cov_2iztof0djv().b[8][1]++, undefined), severity);
          }, 1 * 60 * 1000 // 1 minuto de cache
          ));
          const alertsResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[40]++, {
            data: {
              alerts,
              count: alerts.length,
              cache: (0, _enterprisecache.getCacheStats)(),
              enterprise: {
                filtered_by_user: userId,
                filtered_by_severity: severity,
                requester: context.userId
              }
            },
            success: true,
            message: 'Alertas de seguridad obtenidas'
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[41]++;
          return _server.NextResponse.json(alertsResponse);
        case 'analyze':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][2]++;
          // Ejecutar anÃ¡lisis de patrones
          const timeWindow =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[42]++, parseInt(
          /* istanbul ignore next */
          (cov_2iztof0djv().b[9][0]++, url.searchParams.get('timeWindow')) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[9][1]++, '24')));
          const analysisAlerts =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[43]++, await (0, _securityauditenhanced.analyzeSecurityPatterns)(
          /* istanbul ignore next */
          (cov_2iztof0djv().b[10][0]++, userId) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[10][1]++, undefined), timeWindow));
          const analysisResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[44]++, {
            data: {
              alerts: analysisAlerts,
              count: analysisAlerts.length
            },
            success: true,
            message: `AnÃ¡lisis completado: ${analysisAlerts.length} alertas generadas`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[45]++;
          return _server.NextResponse.json(analysisResponse);
        case 'health':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][3]++;
          // Ejecutar verificaciÃ³n de salud de seguridad
          const healthCheck =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[46]++, await (0, _securityauditenhanced.runSecurityHealthCheck)());
          const healthResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[47]++, {
            data: healthCheck,
            success: true,
            message: `Estado de seguridad: ${healthCheck.status}`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[48]++;
          return _server.NextResponse.json(healthResponse);
        case 'report':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][4]++;
          // Generar reporte de seguridad
          const startDateStr =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[49]++, url.searchParams.get('startDate'));
          const endDateStr =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[50]++, url.searchParams.get('endDate'));
          /* istanbul ignore next */
          cov_2iztof0djv().s[51]++;
          if (
          /* istanbul ignore next */
          (cov_2iztof0djv().b[12][0]++, !startDateStr) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[12][1]++, !endDateStr)) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[11][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[52]++, {
              data: null,
              success: false,
              error: 'startDate y endDate son requeridos para generar reporte'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[53]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[11][1]++;
          }
          const startDate =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[54]++, new Date(startDateStr));
          const endDate =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[55]++, new Date(endDateStr));
          /* istanbul ignore next */
          cov_2iztof0djv().s[56]++;
          if (
          /* istanbul ignore next */
          (cov_2iztof0djv().b[14][0]++, isNaN(startDate.getTime())) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[14][1]++, isNaN(endDate.getTime()))) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[13][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[57]++, {
              data: null,
              success: false,
              error: 'Fechas invÃ¡lidas'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[58]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[13][1]++;
          }
          const report =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[59]++, await (0, _securityauditenhanced.generateSecurityReport)(startDate, endDate));
          const reportResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[60]++, {
            data: {
              report
            },
            success: true,
            message: 'Reporte de seguridad generado'
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[61]++;
          return _server.NextResponse.json(reportResponse);
        case 'export':
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][5]++;
          // Exportar eventos de seguridad
          const exportStartStr =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[62]++, url.searchParams.get('startDate'));
          const exportEndStr =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[63]++, url.searchParams.get('endDate'));
          const format =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[64]++,
          /* istanbul ignore next */
          (cov_2iztof0djv().b[15][0]++, url.searchParams.get('format')) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[15][1]++, 'json'));
          /* istanbul ignore next */
          cov_2iztof0djv().s[65]++;
          if (
          /* istanbul ignore next */
          (cov_2iztof0djv().b[17][0]++, !exportStartStr) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[17][1]++, !exportEndStr)) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[16][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[66]++, {
              data: null,
              success: false,
              error: 'startDate y endDate son requeridos para exportar'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[67]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[16][1]++;
          }
          const exportStart =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[68]++, new Date(exportStartStr));
          const exportEnd =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[69]++, new Date(exportEndStr));
          const exportData =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[70]++, await (0, _securityauditenhanced.exportSecurityEvents)(exportStart, exportEnd, format));
          // Retornar como archivo descargable
          const headers =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[71]++, new Headers());
          /* istanbul ignore next */
          cov_2iztof0djv().s[72]++;
          headers.set('Content-Type', format === 'json' ?
          /* istanbul ignore next */
          (cov_2iztof0djv().b[18][0]++, 'application/json') :
          /* istanbul ignore next */
          (cov_2iztof0djv().b[18][1]++, 'text/csv'));
          /* istanbul ignore next */
          cov_2iztof0djv().s[73]++;
          headers.set('Content-Disposition', `attachment; filename="security-events-${exportStartStr}-${exportEndStr}.${format}"`);
          /* istanbul ignore next */
          cov_2iztof0djv().s[74]++;
          return new Response(exportData, {
            headers
          });
        default:
          /* istanbul ignore next */
          cov_2iztof0djv().b[5][6]++;
          const errorResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[75]++, {
            data: null,
            success: false,
            error: `AcciÃ³n no vÃ¡lida: ${action}`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[76]++;
          return _server.NextResponse.json(errorResponse, {
            status: 400
          });
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_2iztof0djv().s[77]++;
      // Log del error de seguridad
      securityLogger.logApiError(securityLogger.context, error, {
        endpoint: '/api/auth/security',
        method: 'GET',
        action: request.url
      });
      const errorResponse =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[78]++, {
        data: null,
        success: false,
        error: 'Error interno del servidor'
      });
      /* istanbul ignore next */
      cov_2iztof0djv().s[79]++;
      return _server.NextResponse.json(errorResponse, {
        status: 500
      });
    }
  }));
  /* istanbul ignore next */
  cov_2iztof0djv().s[80]++;
  return rateLimitResult;
}
async function POST(request) {
  /* istanbul ignore next */
  cov_2iztof0djv().f[9]++;
  // Aplicar rate limiting para APIs de autenticaciÃ³n (acciones administrativas)
  const rateLimitResult =
  /* istanbul ignore next */
  (cov_2iztof0djv().s[81]++, await (0, _ratelimiter.withRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.admin, async () => {
    /* istanbul ignore next */
    cov_2iztof0djv().f[10]++;
    // Crear logger de seguridad
    const securityLogger =
    /* istanbul ignore next */
    (cov_2iztof0djv().s[82]++, (0, _securitylogger.createSecurityLogger)(request));
    /* istanbul ignore next */
    cov_2iztof0djv().s[83]++;
    try {
      /* istanbul ignore next */
      cov_2iztof0djv().s[84]++;
      // Log del acceso al API de seguridad (POST)
      securityLogger.logApiAccess(securityLogger.context, 'auth/security', 'write');
      const body =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[85]++, await (0, _apitimeouts.withTimeout)(() => {
        /* istanbul ignore next */
        cov_2iztof0djv().f[11]++;
        cov_2iztof0djv().s[86]++;
        return request.json();
      },
      /* istanbul ignore next */
      (cov_2iztof0djv().b[19][0]++, _apitimeouts.ENDPOINT_TIMEOUTS['/api/auth']?.request) ||
      /* istanbul ignore next */
      (cov_2iztof0djv().b[19][1]++, 15000), 'Lectura del body de la request'));
      const {
        action,
        alertId,
        status,
        notes,
        assignedTo
      } =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[87]++, body);
      /* istanbul ignore next */
      cov_2iztof0djv().s[88]++;
      if (!action) {
        /* istanbul ignore next */
        cov_2iztof0djv().b[20][0]++;
        const errorResponse =
        /* istanbul ignore next */
        (cov_2iztof0djv().s[89]++, {
          data: null,
          success: false,
          error: 'AcciÃ³n es requerida'
        });
        /* istanbul ignore next */
        cov_2iztof0djv().s[90]++;
        return _server.NextResponse.json(errorResponse, {
          status: 400
        });
      } else
      /* istanbul ignore next */
      {
        cov_2iztof0djv().b[20][1]++;
      }
      // Verificar autenticaciÃ³n y permisos de admin
      const authResult =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[91]++, await (0, _apitimeouts.withTimeout)(() => {
        /* istanbul ignore next */
        cov_2iztof0djv().f[12]++;
        cov_2iztof0djv().s[92]++;
        return (0, _adminauth.getAuthenticatedUser)(request);
      },
      /* istanbul ignore next */
      (cov_2iztof0djv().b[21][0]++, _apitimeouts.ENDPOINT_TIMEOUTS['/api/auth']?.request) ||
      /* istanbul ignore next */
      (cov_2iztof0djv().b[21][1]++, 15000), 'VerificaciÃ³n de autenticaciÃ³n'));
      /* istanbul ignore next */
      cov_2iztof0djv().s[93]++;
      if (
      /* istanbul ignore next */
      (cov_2iztof0djv().b[23][0]++, !authResult.userId) ||
      /* istanbul ignore next */
      (cov_2iztof0djv().b[23][1]++, !authResult.isAdmin)) {
        /* istanbul ignore next */
        cov_2iztof0djv().b[22][0]++;
        cov_2iztof0djv().s[94]++;
        // Log del intento de acceso no autorizado
        securityLogger.logPermissionDenied(securityLogger.context, 'auth/security', 'write');
        const errorResponse =
        /* istanbul ignore next */
        (cov_2iztof0djv().s[95]++, {
          data: null,
          success: false,
          error: 'Permisos de administrador requeridos'
        });
        /* istanbul ignore next */
        cov_2iztof0djv().s[96]++;
        return _server.NextResponse.json(errorResponse, {
          status: 403
        });
      } else
      /* istanbul ignore next */
      {
        cov_2iztof0djv().b[22][1]++;
      }
      cov_2iztof0djv().s[97]++;
      switch (action) {
        case 'update_alert':
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][0]++;
          cov_2iztof0djv().s[98]++;
          // Actualizar estado de alerta
          if (!alertId) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[25][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[99]++, {
              data: null,
              success: false,
              error: 'alertId es requerido'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[100]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[25][1]++;
          }
          const updateResult =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[101]++, await (0, _securityauditenhanced.updateSecurityAlert)(alertId, {
            status,
            assigned_to: assignedTo,
            resolution_notes: notes
          }));
          const updateResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[102]++, {
            data: {
              success: updateResult
            },
            success: updateResult,
            message: updateResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[26][0]++, 'Alerta actualizada') :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[26][1]++, 'Error actualizando alerta')
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[103]++;
          return _server.NextResponse.json(updateResponse, {
            status: updateResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[27][0]++, 200) :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[27][1]++, 500)
          });
        case 'resolve_alert':
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][1]++;
          cov_2iztof0djv().s[104]++;
          // Resolver alerta
          if (
          /* istanbul ignore next */
          (cov_2iztof0djv().b[29][0]++, !alertId) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[29][1]++, !notes)) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[28][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[105]++, {
              data: null,
              success: false,
              error: 'alertId y notes son requeridos'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[106]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[28][1]++;
          }
          const resolveResult =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[107]++, await (0, _securityauditenhanced.resolveSecurityAlert)(alertId, notes, authResult.userId));
          const resolveResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[108]++, {
            data: {
              success: resolveResult
            },
            success: resolveResult,
            message: resolveResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[30][0]++, 'Alerta resuelta') :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[30][1]++, 'Error resolviendo alerta')
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[109]++;
          return _server.NextResponse.json(resolveResponse, {
            status: resolveResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[31][0]++, 200) :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[31][1]++, 500)
          });
        case 'false_positive':
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][2]++;
          cov_2iztof0djv().s[110]++;
          // Marcar como falso positivo
          if (
          /* istanbul ignore next */
          (cov_2iztof0djv().b[33][0]++, !alertId) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[33][1]++, !notes)) {
            /* istanbul ignore next */
            cov_2iztof0djv().b[32][0]++;
            const errorResponse =
            /* istanbul ignore next */
            (cov_2iztof0djv().s[111]++, {
              data: null,
              success: false,
              error: 'alertId y notes son requeridos'
            });
            /* istanbul ignore next */
            cov_2iztof0djv().s[112]++;
            return _server.NextResponse.json(errorResponse, {
              status: 400
            });
          } else
          /* istanbul ignore next */
          {
            cov_2iztof0djv().b[32][1]++;
          }
          const fpResult =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[113]++, await (0, _securityauditenhanced.markAlertAsFalsePositive)(alertId, notes, authResult.userId));
          const fpResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[114]++, {
            data: {
              success: fpResult
            },
            success: fpResult,
            message: fpResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[34][0]++, 'Alerta marcada como falso positivo') :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[34][1]++, 'Error marcando alerta')
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[115]++;
          return _server.NextResponse.json(fpResponse, {
            status: fpResult ?
            /* istanbul ignore next */
            (cov_2iztof0djv().b[35][0]++, 200) :
            /* istanbul ignore next */
            (cov_2iztof0djv().b[35][1]++, 500)
          });
        case 'cleanup':
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][3]++;
          // Limpiar eventos antiguos
          const daysToKeep =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[116]++,
          /* istanbul ignore next */
          (cov_2iztof0djv().b[36][0]++, body.daysToKeep) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[36][1]++, 90));
          const cleanupCount =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[117]++, await (0, _securityauditenhanced.cleanupOldSecurityEvents)(daysToKeep));
          const cleanupResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[118]++, {
            data: {
              deletedCount: cleanupCount
            },
            success: true,
            message: `Limpieza completada: ${cleanupCount} eventos eliminados`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[119]++;
          return _server.NextResponse.json(cleanupResponse);
        case 'force_analysis':
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][4]++;
          // Forzar anÃ¡lisis de seguridad
          const forceUserId =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[120]++, body.userId);
          const forceTimeWindow =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[121]++,
          /* istanbul ignore next */
          (cov_2iztof0djv().b[37][0]++, body.timeWindow) ||
          /* istanbul ignore next */
          (cov_2iztof0djv().b[37][1]++, 24));
          const forceAlerts =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[122]++, await (0, _securityauditenhanced.analyzeSecurityPatterns)(forceUserId, forceTimeWindow));
          const forceResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[123]++, {
            data: {
              alerts: forceAlerts,
              count: forceAlerts.length
            },
            success: true,
            message: `AnÃ¡lisis forzado completado: ${forceAlerts.length} alertas generadas`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[124]++;
          return _server.NextResponse.json(forceResponse);
        default:
          /* istanbul ignore next */
          cov_2iztof0djv().b[24][5]++;
          const errorResponse =
          /* istanbul ignore next */
          (cov_2iztof0djv().s[125]++, {
            data: null,
            success: false,
            error: `AcciÃ³n no vÃ¡lida: ${action}`
          });
          /* istanbul ignore next */
          cov_2iztof0djv().s[126]++;
          return _server.NextResponse.json(errorResponse, {
            status: 400
          });
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_2iztof0djv().s[127]++;
      // Log del error de seguridad
      securityLogger.logApiError(securityLogger.context, error, {
        endpoint: '/api/auth/security',
        method: 'POST',
        action: request.url
      });
      const errorResponse =
      /* istanbul ignore next */
      (cov_2iztof0djv().s[128]++, {
        data: null,
        success: false,
        error: 'Error interno del servidor'
      });
      /* istanbul ignore next */
      cov_2iztof0djv().s[129]++;
      return _server.NextResponse.json(errorResponse, {
        status: 500
      });
    }
  }));
  /* istanbul ignore next */
  cov_2iztof0djv().s[130]++;
  return rateLimitResult;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMml6dG9mMGRqdiIsImFjdHVhbENvdmVyYWdlIiwicyIsIkdFVCIsImYiLCJQT1NUIiwicnVudGltZSIsInJlcXVlc3QiLCJyYXRlTGltaXRSZXN1bHQiLCJfcmF0ZWxpbWl0ZXIiLCJ3aXRoUmF0ZUxpbWl0IiwiUkFURV9MSU1JVF9DT05GSUdTIiwiYXV0aCIsInNlY3VyaXR5TG9nZ2VyIiwiX3NlY3VyaXR5bG9nZ2VyIiwiY3JlYXRlU2VjdXJpdHlMb2dnZXIiLCJsb2dBcGlBY2Nlc3MiLCJjb250ZXh0IiwidXJsIiwiVVJMIiwiYWN0aW9uIiwiYiIsInNlYXJjaFBhcmFtcyIsImdldCIsInVzZXJJZCIsInNldmVyaXR5IiwiZW50ZXJwcmlzZVJlc3VsdCIsIl9hcGl0aW1lb3V0cyIsIndpdGhUaW1lb3V0IiwiX2VudGVycHJpc2VhdXRodXRpbHMiLCJyZXF1aXJlQWRtaW5BdXRoIiwiRU5EUE9JTlRfVElNRU9VVFMiLCJzdWNjZXNzIiwibG9nUGVybWlzc2lvbkRlbmllZCIsImVycm9yUmVzcG9uc2UiLCJkYXRhIiwiZXJyb3IiLCJlbnRlcnByaXNlIiwiY29kZSIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3RhdHVzIiwibGVnYWN5UmVzdWx0IiwiX2FkbWluYXV0aCIsImdldEF1dGhlbnRpY2F0ZWRVc2VyIiwiY29uc29sZSIsImxvZyIsImxlZ2FjeSIsImlzQWRtaW4iLCJhZ3JlZSIsIm1ldHJpY3MiLCJfZW50ZXJwcmlzZWNhY2hlIiwid2l0aENhY2hlIiwiX3NlY3VyaXR5YXVkaXRlbmhhbmNlZCIsImdldFNlY3VyaXR5TWV0cmljcyIsIm1ldHJpY3NSZXNwb25zZSIsImNhY2hlIiwiZ2V0Q2FjaGVTdGF0cyIsInVzZXIiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJtZXNzYWdlIiwiYWxlcnRzIiwiZ2V0QWN0aXZlU2VjdXJpdHlBbGVydHMiLCJ1bmRlZmluZWQiLCJhbGVydHNSZXNwb25zZSIsImNvdW50IiwibGVuZ3RoIiwiZmlsdGVyZWRfYnlfdXNlciIsImZpbHRlcmVkX2J5X3NldmVyaXR5IiwicmVxdWVzdGVyIiwidGltZVdpbmRvdyIsInBhcnNlSW50IiwiYW5hbHlzaXNBbGVydHMiLCJhbmFseXplU2VjdXJpdHlQYXR0ZXJucyIsImFuYWx5c2lzUmVzcG9uc2UiLCJoZWFsdGhDaGVjayIsInJ1blNlY3VyaXR5SGVhbHRoQ2hlY2siLCJoZWFsdGhSZXNwb25zZSIsInN0YXJ0RGF0ZVN0ciIsImVuZERhdGVTdHIiLCJzdGFydERhdGUiLCJEYXRlIiwiZW5kRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsInJlcG9ydCIsImdlbmVyYXRlU2VjdXJpdHlSZXBvcnQiLCJyZXBvcnRSZXNwb25zZSIsImV4cG9ydFN0YXJ0U3RyIiwiZXhwb3J0RW5kU3RyIiwiZm9ybWF0IiwiZXhwb3J0U3RhcnQiLCJleHBvcnRFbmQiLCJleHBvcnREYXRhIiwiZXhwb3J0U2VjdXJpdHlFdmVudHMiLCJoZWFkZXJzIiwiSGVhZGVycyIsInNldCIsIlJlc3BvbnNlIiwibG9nQXBpRXJyb3IiLCJlbmRwb2ludCIsIm1ldGhvZCIsImFkbWluIiwiYm9keSIsImFsZXJ0SWQiLCJub3RlcyIsImFzc2lnbmVkVG8iLCJhdXRoUmVzdWx0IiwidXBkYXRlUmVzdWx0IiwidXBkYXRlU2VjdXJpdHlBbGVydCIsImFzc2lnbmVkX3RvIiwicmVzb2x1dGlvbl9ub3RlcyIsInVwZGF0ZVJlc3BvbnNlIiwicmVzb2x2ZVJlc3VsdCIsInJlc29sdmVTZWN1cml0eUFsZXJ0IiwicmVzb2x2ZVJlc3BvbnNlIiwiZnBSZXN1bHQiLCJtYXJrQWxlcnRBc0ZhbHNlUG9zaXRpdmUiLCJmcFJlc3BvbnNlIiwiZGF5c1RvS2VlcCIsImNsZWFudXBDb3VudCIsImNsZWFudXBPbGRTZWN1cml0eUV2ZW50cyIsImNsZWFudXBSZXNwb25zZSIsImRlbGV0ZWRDb3VudCIsImZvcmNlVXNlcklkIiwiZm9yY2VUaW1lV2luZG93IiwiZm9yY2VBbGVydHMiLCJmb3JjZVJlc3BvbnNlIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcYXV0aFxcc2VjdXJpdHlcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbmZpZ3VyYWNpw7NuIHBhcmEgTm9kZS5qcyBSdW50aW1lXHJcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XHJcblxyXG4vKipcclxuICogQVBJIEVudGVycHJpc2UgZGUgQXVkaXRvcsOtYSBkZSBTZWd1cmlkYWQgTWVqb3JhZGFcclxuICogUmVmYWN0b3JpemFkYSBjb24gdXRpbGlkYWRlcyBlbnRlcnByaXNlICsgUkxTICsgdmFsaWRhY2lvbmVzIHJvYnVzdGFzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZ2V0QXV0aGVudGljYXRlZFVzZXIgfSBmcm9tICdAL2xpYi9hdXRoL2FkbWluLWF1dGgnO1xyXG5pbXBvcnQge1xyXG4gIHJlcXVpcmVBZG1pbkF1dGhcclxufSBmcm9tICdAL2xpYi9hdXRoL2VudGVycHJpc2UtYXV0aC11dGlscyc7XHJcbmltcG9ydCB7XHJcbiAgZXhlY3V0ZVdpdGhSTFNcclxufSBmcm9tICdAL2xpYi9hdXRoL2VudGVycHJpc2UtcmxzLXV0aWxzJztcclxuaW1wb3J0IHtcclxuICB3aXRoQ2FjaGUsXHJcbiAgZ2V0Q2FjaGVTdGF0c1xyXG59IGZyb20gJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1jYWNoZSc7XHJcbmltcG9ydCB7XHJcbiAgYW5hbHl6ZVNlY3VyaXR5UGF0dGVybnMsXHJcbiAgZ2V0U2VjdXJpdHlNZXRyaWNzLFxyXG4gIGdlbmVyYXRlU2VjdXJpdHlSZXBvcnQsXHJcbiAgZ2V0QWN0aXZlU2VjdXJpdHlBbGVydHMsXHJcbiAgdXBkYXRlU2VjdXJpdHlBbGVydCxcclxuICByZXNvbHZlU2VjdXJpdHlBbGVydCxcclxuICBtYXJrQWxlcnRBc0ZhbHNlUG9zaXRpdmUsXHJcbiAgcnVuU2VjdXJpdHlIZWFsdGhDaGVjayxcclxuICBjbGVhbnVwT2xkU2VjdXJpdHlFdmVudHMsXHJcbiAgZXhwb3J0U2VjdXJpdHlFdmVudHNcclxufSBmcm9tICdAL2xpYi9hdXRoL3NlY3VyaXR5LWF1ZGl0LWVuaGFuY2VkJztcclxuaW1wb3J0IHsgQXBpUmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzL2FwaSc7XHJcbmltcG9ydCB7IHdpdGhSYXRlTGltaXQsIFJBVEVfTElNSVRfQ09ORklHUyB9IGZyb20gJ0AvbGliL3JhdGUtbGltaXRpbmcvcmF0ZS1saW1pdGVyJztcclxuaW1wb3J0IHsgY3JlYXRlU2VjdXJpdHlMb2dnZXIgfSBmcm9tICdAL2xpYi9sb2dnaW5nL3NlY3VyaXR5LWxvZ2dlcic7XHJcbmltcG9ydCB7IHdpdGhUaW1lb3V0LCBFTkRQT0lOVF9USU1FT1VUUyB9IGZyb20gJ0AvbGliL2NvbmZpZy9hcGktdGltZW91dHMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0VUIC9hcGkvYXV0aC9zZWN1cml0eVxyXG4vLyBPYnRpZW5lIG3DqXRyaWNhcywgYWxlcnRhcyBvIGVqZWN1dGEgYW7DoWxpc2lzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgLy8gQXBsaWNhciByYXRlIGxpbWl0aW5nIHBhcmEgQVBJcyBkZSBhdXRlbnRpY2FjacOzblxyXG4gIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IGF3YWl0IHdpdGhSYXRlTGltaXQoXHJcbiAgICByZXF1ZXN0LFxyXG4gICAgUkFURV9MSU1JVF9DT05GSUdTLmF1dGgsXHJcbiAgICBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWFyIGxvZ2dlciBkZSBzZWd1cmlkYWRcclxuICAgICAgY29uc3Qgc2VjdXJpdHlMb2dnZXIgPSBjcmVhdGVTZWN1cml0eUxvZ2dlcihyZXF1ZXN0KTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gTG9nIGRlbCBhY2Nlc28gYWwgQVBJIGRlIHNlZ3VyaWRhZFxyXG4gICAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ0FwaUFjY2VzcyhzZWN1cml0eUxvZ2dlci5jb250ZXh0LCAnYXV0aC9zZWN1cml0eScsICdyZWFkJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdhY3Rpb24nKSB8fCAnbWV0cmljcyc7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJJZCcpO1xyXG4gICAgICAgIGNvbnN0IHNldmVyaXR5ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3NldmVyaXR5JykgYXMgYW55O1xyXG5cclxuICAgICAgICAvLyBFTlRFUlBSSVNFOiBBdXRlbnRpY2FjacOzbiBlbnRlcnByaXNlIGNvbiBwZXJtaXNvcyBlc3BlY8OtZmljb3MgZGUgc2VndXJpZGFkXHJcbiAgICAgICAgY29uc3QgZW50ZXJwcmlzZVJlc3VsdCA9IGF3YWl0IHdpdGhUaW1lb3V0KFxyXG4gICAgICAgICAgKCkgPT4gcmVxdWlyZUFkbWluQXV0aChyZXF1ZXN0LCBbJ3NlY3VyaXR5X3JlYWQnLCAnYWRtaW5fYWNjZXNzJ10pLFxyXG4gICAgICAgICAgRU5EUE9JTlRfVElNRU9VVFNbJy9hcGkvYXV0aCddPy5yZXF1ZXN0IHx8IDE1MDAwLFxyXG4gICAgICAgICAgJ0F1dGVudGljYWNpw7NuIGVudGVycHJpc2UnXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCFlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIC8vIExvZyBkZWwgaW50ZW50byBkZSBhY2Nlc28gbm8gYXV0b3JpemFkb1xyXG4gICAgICAgICAgc2VjdXJpdHlMb2dnZXIubG9nUGVybWlzc2lvbkRlbmllZChzZWN1cml0eUxvZ2dlci5jb250ZXh0LCAnYXV0aC9zZWN1cml0eScsICdyZWFkJyk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogZW50ZXJwcmlzZVJlc3VsdC5lcnJvciB8fCAnUGVybWlzb3MgZGUgYWRtaW5pc3RyYWRvciByZXF1ZXJpZG9zJyxcclxuICAgICAgICAgICAgZW50ZXJwcmlzZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29kZTogZW50ZXJwcmlzZVJlc3VsdC5jb2RlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiBlbnRlcnByaXNlUmVzdWx0LnN0YXR1cyB8fCA0MDMgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRleHQgPSBlbnRlcnByaXNlUmVzdWx0LmNvbnRleHQhO1xyXG5cclxuICAgIC8vIExFR0FDWTogTWFudGVuZXIgY29tcGF0aWJpbGlkYWQgY29uIG3DqXRvZG8gYW50ZXJpb3JcclxuICAgIGNvbnN0IGxlZ2FjeVJlc3VsdCA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyKHJlcXVlc3QpO1xyXG4gICAgY29uc29sZS5sb2coJ/CflI0gU2VjdXJpdHkgQVBJOiBFbnRlcnByaXNlIHZzIExlZ2FjeSBhdXRoIGNvbXBhcmlzb246Jywge1xyXG4gICAgICBlbnRlcnByaXNlOiBlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgIGxlZ2FjeTogbGVnYWN5UmVzdWx0LmlzQWRtaW4sXHJcbiAgICAgIGFncmVlOiBlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MgPT09IGxlZ2FjeVJlc3VsdC5pc0FkbWluXHJcbiAgICB9KTtcclxuXHJcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICBjYXNlICdtZXRyaWNzJzpcclxuICAgICAgICAvLyBFTlRFUlBSSVNFOiBPYnRlbmVyIG3DqXRyaWNhcyBkZSBzZWd1cmlkYWQgY29uIGNhY2hlXHJcbiAgICAgICAgY29uc3QgbWV0cmljcyA9IGF3YWl0IHdpdGhDYWNoZShcclxuICAgICAgICAgIGBzZWN1cml0eV9tZXRyaWNzXyR7Y29udGV4dC51c2VySWR9YCxcclxuICAgICAgICAgICgpID0+IGdldFNlY3VyaXR5TWV0cmljcygpLFxyXG4gICAgICAgICAgMiAqIDYwICogMTAwMCAvLyAyIG1pbnV0b3MgZGUgY2FjaGVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBtZXRyaWNzUmVzcG9uc2U6IEFwaVJlc3BvbnNlPGFueT4gPSB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIG1ldHJpY3MsXHJcbiAgICAgICAgICAgIGNhY2hlOiBnZXRDYWNoZVN0YXRzKCksXHJcbiAgICAgICAgICAgIGVudGVycHJpc2U6IHtcclxuICAgICAgICAgICAgICB1c2VyOiBjb250ZXh0LnVzZXJJZCxcclxuICAgICAgICAgICAgICByb2xlOiBjb250ZXh0LnJvbGUsXHJcbiAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IGNvbnRleHQucGVybWlzc2lvbnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnTcOpdHJpY2FzIGRlIHNlZ3VyaWRhZCBvYnRlbmlkYXMgKGVudGVycHJpc2UpJyxcclxuICAgICAgICAgIGVudGVycHJpc2U6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihtZXRyaWNzUmVzcG9uc2UpO1xyXG5cclxuICAgICAgY2FzZSAnYWxlcnRzJzpcclxuICAgICAgICAvLyBFTlRFUlBSSVNFOiBPYnRlbmVyIGFsZXJ0YXMgYWN0aXZhcyBjb24gY2FjaGVcclxuICAgICAgICBjb25zdCBhbGVydHMgPSBhd2FpdCB3aXRoQ2FjaGUoXHJcbiAgICAgICAgICBgc2VjdXJpdHlfYWxlcnRzXyR7dXNlcklkIHx8ICdhbGwnfV8ke3NldmVyaXR5IHx8ICdhbGwnfWAsXHJcbiAgICAgICAgICAoKSA9PiBnZXRBY3RpdmVTZWN1cml0eUFsZXJ0cyh1c2VySWQgfHwgdW5kZWZpbmVkLCBzZXZlcml0eSksXHJcbiAgICAgICAgICAxICogNjAgKiAxMDAwIC8vIDEgbWludXRvIGRlIGNhY2hlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxlcnRzUmVzcG9uc2U6IEFwaVJlc3BvbnNlPGFueT4gPSB7XHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGFsZXJ0cyxcclxuICAgICAgICAgICAgY291bnQ6IGFsZXJ0cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGNhY2hlOiBnZXRDYWNoZVN0YXRzKCksXHJcbiAgICAgICAgICAgIGVudGVycHJpc2U6IHtcclxuICAgICAgICAgICAgICBmaWx0ZXJlZF9ieV91c2VyOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgZmlsdGVyZWRfYnlfc2V2ZXJpdHk6IHNldmVyaXR5LFxyXG4gICAgICAgICAgICAgIHJlcXVlc3RlcjogY29udGV4dC51c2VySWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnQWxlcnRhcyBkZSBzZWd1cmlkYWQgb2J0ZW5pZGFzJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGFsZXJ0c1Jlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNhc2UgJ2FuYWx5emUnOlxyXG4gICAgICAgIC8vIEVqZWN1dGFyIGFuw6FsaXNpcyBkZSBwYXRyb25lc1xyXG4gICAgICAgIGNvbnN0IHRpbWVXaW5kb3cgPSBwYXJzZUludCh1cmwuc2VhcmNoUGFyYW1zLmdldCgndGltZVdpbmRvdycpIHx8ICcyNCcpO1xyXG4gICAgICAgIGNvbnN0IGFuYWx5c2lzQWxlcnRzID0gYXdhaXQgYW5hbHl6ZVNlY3VyaXR5UGF0dGVybnModXNlcklkIHx8IHVuZGVmaW5lZCwgdGltZVdpbmRvdyk7XHJcbiAgICAgICAgY29uc3QgYW5hbHlzaXNSZXNwb25zZTogQXBpUmVzcG9uc2U8YW55PiA9IHtcclxuICAgICAgICAgIGRhdGE6IHsgYWxlcnRzOiBhbmFseXNpc0FsZXJ0cywgY291bnQ6IGFuYWx5c2lzQWxlcnRzLmxlbmd0aCB9LFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBBbsOhbGlzaXMgY29tcGxldGFkbzogJHthbmFseXNpc0FsZXJ0cy5sZW5ndGh9IGFsZXJ0YXMgZ2VuZXJhZGFzYFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGFuYWx5c2lzUmVzcG9uc2UpO1xyXG5cclxuICAgICAgY2FzZSAnaGVhbHRoJzpcclxuICAgICAgICAvLyBFamVjdXRhciB2ZXJpZmljYWNpw7NuIGRlIHNhbHVkIGRlIHNlZ3VyaWRhZFxyXG4gICAgICAgIGNvbnN0IGhlYWx0aENoZWNrID0gYXdhaXQgcnVuU2VjdXJpdHlIZWFsdGhDaGVjaygpO1xyXG4gICAgICAgIGNvbnN0IGhlYWx0aFJlc3BvbnNlOiBBcGlSZXNwb25zZTxhbnk+ID0ge1xyXG4gICAgICAgICAgZGF0YTogaGVhbHRoQ2hlY2ssXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogYEVzdGFkbyBkZSBzZWd1cmlkYWQ6ICR7aGVhbHRoQ2hlY2suc3RhdHVzfWBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihoZWFsdGhSZXNwb25zZSk7XHJcblxyXG4gICAgICBjYXNlICdyZXBvcnQnOlxyXG4gICAgICAgIC8vIEdlbmVyYXIgcmVwb3J0ZSBkZSBzZWd1cmlkYWRcclxuICAgICAgICBjb25zdCBzdGFydERhdGVTdHIgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnc3RhcnREYXRlJyk7XHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVN0ciA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdlbmREYXRlJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzdGFydERhdGVTdHIgfHwgIWVuZERhdGVTdHIpIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdzdGFydERhdGUgeSBlbmREYXRlIHNvbiByZXF1ZXJpZG9zIHBhcmEgZ2VuZXJhciByZXBvcnRlJ1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlU3RyKTtcclxuICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZW5kRGF0ZVN0cik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzTmFOKHN0YXJ0RGF0ZS5nZXRUaW1lKCkpIHx8IGlzTmFOKGVuZERhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogJ0ZlY2hhcyBpbnbDoWxpZGFzJ1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgZ2VuZXJhdGVTZWN1cml0eVJlcG9ydChzdGFydERhdGUsIGVuZERhdGUpO1xyXG4gICAgICAgIGNvbnN0IHJlcG9ydFJlc3BvbnNlOiBBcGlSZXNwb25zZTxhbnk+ID0ge1xyXG4gICAgICAgICAgZGF0YTogeyByZXBvcnQgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnUmVwb3J0ZSBkZSBzZWd1cmlkYWQgZ2VuZXJhZG8nXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVwb3J0UmVzcG9uc2UpO1xyXG5cclxuICAgICAgY2FzZSAnZXhwb3J0JzpcclxuICAgICAgICAvLyBFeHBvcnRhciBldmVudG9zIGRlIHNlZ3VyaWRhZFxyXG4gICAgICAgIGNvbnN0IGV4cG9ydFN0YXJ0U3RyID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3N0YXJ0RGF0ZScpO1xyXG4gICAgICAgIGNvbnN0IGV4cG9ydEVuZFN0ciA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdlbmREYXRlJyk7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2Zvcm1hdCcpIGFzICdqc29uJyB8ICdjc3YnIHx8ICdqc29uJztcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWV4cG9ydFN0YXJ0U3RyIHx8ICFleHBvcnRFbmRTdHIpIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdzdGFydERhdGUgeSBlbmREYXRlIHNvbiByZXF1ZXJpZG9zIHBhcmEgZXhwb3J0YXInXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBleHBvcnRTdGFydCA9IG5ldyBEYXRlKGV4cG9ydFN0YXJ0U3RyKTtcclxuICAgICAgICBjb25zdCBleHBvcnRFbmQgPSBuZXcgRGF0ZShleHBvcnRFbmRTdHIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSBhd2FpdCBleHBvcnRTZWN1cml0eUV2ZW50cyhleHBvcnRTdGFydCwgZXhwb3J0RW5kLCBmb3JtYXQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJldG9ybmFyIGNvbW8gYXJjaGl2byBkZXNjYXJnYWJsZVxyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCBmb3JtYXQgPT09ICdqc29uJyA/ICdhcHBsaWNhdGlvbi9qc29uJyA6ICd0ZXh0L2NzdicpO1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LURpc3Bvc2l0aW9uJywgYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwic2VjdXJpdHktZXZlbnRzLSR7ZXhwb3J0U3RhcnRTdHJ9LSR7ZXhwb3J0RW5kU3RyfS4ke2Zvcm1hdH1cImApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZXhwb3J0RGF0YSwgeyBoZWFkZXJzIH0pO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogYEFjY2nDs24gbm8gdsOhbGlkYTogJHthY3Rpb259YFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgLy8gTG9nIGRlbCBlcnJvciBkZSBzZWd1cmlkYWRcclxuICAgICAgICBzZWN1cml0eUxvZ2dlci5sb2dBcGlFcnJvcihzZWN1cml0eUxvZ2dlci5jb250ZXh0LCBlcnJvciBhcyBFcnJvciwge1xyXG4gICAgICAgICAgZW5kcG9pbnQ6ICcvYXBpL2F1dGgvc2VjdXJpdHknLFxyXG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgIGFjdGlvbjogcmVxdWVzdC51cmxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICByZXR1cm4gcmF0ZUxpbWl0UmVzdWx0O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQT1NUIC9hcGkvYXV0aC9zZWN1cml0eVxyXG4vLyBBY2Npb25lcyBzb2JyZSBhbGVydGFzIHkgbWFudGVuaW1pZW50b1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICAvLyBBcGxpY2FyIHJhdGUgbGltaXRpbmcgcGFyYSBBUElzIGRlIGF1dGVudGljYWNpw7NuIChhY2Npb25lcyBhZG1pbmlzdHJhdGl2YXMpXHJcbiAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgd2l0aFJhdGVMaW1pdChcclxuICAgIHJlcXVlc3QsXHJcbiAgICBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4sXHJcbiAgICBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIENyZWFyIGxvZ2dlciBkZSBzZWd1cmlkYWRcclxuICAgICAgY29uc3Qgc2VjdXJpdHlMb2dnZXIgPSBjcmVhdGVTZWN1cml0eUxvZ2dlcihyZXF1ZXN0KTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gTG9nIGRlbCBhY2Nlc28gYWwgQVBJIGRlIHNlZ3VyaWRhZCAoUE9TVClcclxuICAgICAgICBzZWN1cml0eUxvZ2dlci5sb2dBcGlBY2Nlc3Moc2VjdXJpdHlMb2dnZXIuY29udGV4dCwgJ2F1dGgvc2VjdXJpdHknLCAnd3JpdGUnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHdpdGhUaW1lb3V0KFxyXG4gICAgICAgICAgKCkgPT4gcmVxdWVzdC5qc29uKCksXHJcbiAgICAgICAgICBFTkRQT0lOVF9USU1FT1VUU1snL2FwaS9hdXRoJ10/LnJlcXVlc3QgfHwgMTUwMDAsXHJcbiAgICAgICAgICAnTGVjdHVyYSBkZWwgYm9keSBkZSBsYSByZXF1ZXN0J1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBhbGVydElkLCBzdGF0dXMsIG5vdGVzLCBhc3NpZ25lZFRvIH0gPSBib2R5O1xyXG5cclxuICAgICAgICBpZiAoIWFjdGlvbikge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogJ0FjY2nDs24gZXMgcmVxdWVyaWRhJ1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmVyaWZpY2FyIGF1dGVudGljYWNpw7NuIHkgcGVybWlzb3MgZGUgYWRtaW5cclxuICAgICAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgd2l0aFRpbWVvdXQoXHJcbiAgICAgICAgICAoKSA9PiBnZXRBdXRoZW50aWNhdGVkVXNlcihyZXF1ZXN0KSxcclxuICAgICAgICAgIEVORFBPSU5UX1RJTUVPVVRTWycvYXBpL2F1dGgnXT8ucmVxdWVzdCB8fCAxNTAwMCxcclxuICAgICAgICAgICdWZXJpZmljYWNpw7NuIGRlIGF1dGVudGljYWNpw7NuJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICghYXV0aFJlc3VsdC51c2VySWQgfHwgIWF1dGhSZXN1bHQuaXNBZG1pbikge1xyXG4gICAgICAgICAgLy8gTG9nIGRlbCBpbnRlbnRvIGRlIGFjY2VzbyBubyBhdXRvcml6YWRvXHJcbiAgICAgICAgICBzZWN1cml0eUxvZ2dlci5sb2dQZXJtaXNzaW9uRGVuaWVkKHNlY3VyaXR5TG9nZ2VyLmNvbnRleHQsICdhdXRoL3NlY3VyaXR5JywgJ3dyaXRlJyk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogJ1Blcm1pc29zIGRlIGFkbWluaXN0cmFkb3IgcmVxdWVyaWRvcydcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwMyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgY2FzZSAndXBkYXRlX2FsZXJ0JzpcclxuICAgICAgICAvLyBBY3R1YWxpemFyIGVzdGFkbyBkZSBhbGVydGFcclxuICAgICAgICBpZiAoIWFsZXJ0SWQpIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3I6ICdhbGVydElkIGVzIHJlcXVlcmlkbydcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZVNlY3VyaXR5QWxlcnQoYWxlcnRJZCwge1xyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgICAgYXNzaWduZWRfdG86IGFzc2lnbmVkVG8sXHJcbiAgICAgICAgICByZXNvbHV0aW9uX25vdGVzOiBub3Rlc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB1cGRhdGVSZXNwb25zZTogQXBpUmVzcG9uc2U8YW55PiA9IHtcclxuICAgICAgICAgIGRhdGE6IHsgc3VjY2VzczogdXBkYXRlUmVzdWx0IH0sXHJcbiAgICAgICAgICBzdWNjZXNzOiB1cGRhdGVSZXN1bHQsXHJcbiAgICAgICAgICBtZXNzYWdlOiB1cGRhdGVSZXN1bHQgPyAnQWxlcnRhIGFjdHVhbGl6YWRhJyA6ICdFcnJvciBhY3R1YWxpemFuZG8gYWxlcnRhJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHVwZGF0ZVJlc3BvbnNlLCB7IFxyXG4gICAgICAgICAgc3RhdHVzOiB1cGRhdGVSZXN1bHQgPyAyMDAgOiA1MDAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjYXNlICdyZXNvbHZlX2FsZXJ0JzpcclxuICAgICAgICAvLyBSZXNvbHZlciBhbGVydGFcclxuICAgICAgICBpZiAoIWFsZXJ0SWQgfHwgIW5vdGVzKSB7XHJcbiAgICAgICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiAnYWxlcnRJZCB5IG5vdGVzIHNvbiByZXF1ZXJpZG9zJ1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZVJlc3VsdCA9IGF3YWl0IHJlc29sdmVTZWN1cml0eUFsZXJ0KFxyXG4gICAgICAgICAgYWxlcnRJZCwgXHJcbiAgICAgICAgICBub3RlcywgXHJcbiAgICAgICAgICBhdXRoUmVzdWx0LnVzZXJJZFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc29sdmVSZXNwb25zZTogQXBpUmVzcG9uc2U8YW55PiA9IHtcclxuICAgICAgICAgIGRhdGE6IHsgc3VjY2VzczogcmVzb2x2ZVJlc3VsdCB9LFxyXG4gICAgICAgICAgc3VjY2VzczogcmVzb2x2ZVJlc3VsdCxcclxuICAgICAgICAgIG1lc3NhZ2U6IHJlc29sdmVSZXN1bHQgPyAnQWxlcnRhIHJlc3VlbHRhJyA6ICdFcnJvciByZXNvbHZpZW5kbyBhbGVydGEnXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzb2x2ZVJlc3BvbnNlLCB7IFxyXG4gICAgICAgICAgc3RhdHVzOiByZXNvbHZlUmVzdWx0ID8gMjAwIDogNTAwIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY2FzZSAnZmFsc2VfcG9zaXRpdmUnOlxyXG4gICAgICAgIC8vIE1hcmNhciBjb21vIGZhbHNvIHBvc2l0aXZvXHJcbiAgICAgICAgaWYgKCFhbGVydElkIHx8ICFub3Rlcykge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogJ2FsZXJ0SWQgeSBub3RlcyBzb24gcmVxdWVyaWRvcydcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZwUmVzdWx0ID0gYXdhaXQgbWFya0FsZXJ0QXNGYWxzZVBvc2l0aXZlKFxyXG4gICAgICAgICAgYWxlcnRJZCwgXHJcbiAgICAgICAgICBub3RlcywgXHJcbiAgICAgICAgICBhdXRoUmVzdWx0LnVzZXJJZFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZwUmVzcG9uc2U6IEFwaVJlc3BvbnNlPGFueT4gPSB7XHJcbiAgICAgICAgICBkYXRhOiB7IHN1Y2Nlc3M6IGZwUmVzdWx0IH0sXHJcbiAgICAgICAgICBzdWNjZXNzOiBmcFJlc3VsdCxcclxuICAgICAgICAgIG1lc3NhZ2U6IGZwUmVzdWx0ID8gJ0FsZXJ0YSBtYXJjYWRhIGNvbW8gZmFsc28gcG9zaXRpdm8nIDogJ0Vycm9yIG1hcmNhbmRvIGFsZXJ0YSdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmcFJlc3BvbnNlLCB7IFxyXG4gICAgICAgICAgc3RhdHVzOiBmcFJlc3VsdCA/IDIwMCA6IDUwMCBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNhc2UgJ2NsZWFudXAnOlxyXG4gICAgICAgIC8vIExpbXBpYXIgZXZlbnRvcyBhbnRpZ3Vvc1xyXG4gICAgICAgIGNvbnN0IGRheXNUb0tlZXAgPSBib2R5LmRheXNUb0tlZXAgfHwgOTA7XHJcbiAgICAgICAgY29uc3QgY2xlYW51cENvdW50ID0gYXdhaXQgY2xlYW51cE9sZFNlY3VyaXR5RXZlbnRzKGRheXNUb0tlZXApO1xyXG5cclxuICAgICAgICBjb25zdCBjbGVhbnVwUmVzcG9uc2U6IEFwaVJlc3BvbnNlPGFueT4gPSB7XHJcbiAgICAgICAgICBkYXRhOiB7IGRlbGV0ZWRDb3VudDogY2xlYW51cENvdW50IH0sXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogYExpbXBpZXphIGNvbXBsZXRhZGE6ICR7Y2xlYW51cENvdW50fSBldmVudG9zIGVsaW1pbmFkb3NgXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oY2xlYW51cFJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGNhc2UgJ2ZvcmNlX2FuYWx5c2lzJzpcclxuICAgICAgICAvLyBGb3J6YXIgYW7DoWxpc2lzIGRlIHNlZ3VyaWRhZFxyXG4gICAgICAgIGNvbnN0IGZvcmNlVXNlcklkID0gYm9keS51c2VySWQ7XHJcbiAgICAgICAgY29uc3QgZm9yY2VUaW1lV2luZG93ID0gYm9keS50aW1lV2luZG93IHx8IDI0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGZvcmNlQWxlcnRzID0gYXdhaXQgYW5hbHl6ZVNlY3VyaXR5UGF0dGVybnMoZm9yY2VVc2VySWQsIGZvcmNlVGltZVdpbmRvdyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZm9yY2VSZXNwb25zZTogQXBpUmVzcG9uc2U8YW55PiA9IHtcclxuICAgICAgICAgIGRhdGE6IHsgYWxlcnRzOiBmb3JjZUFsZXJ0cywgY291bnQ6IGZvcmNlQWxlcnRzLmxlbmd0aCB9LFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBBbsOhbGlzaXMgZm9yemFkbyBjb21wbGV0YWRvOiAke2ZvcmNlQWxlcnRzLmxlbmd0aH0gYWxlcnRhcyBnZW5lcmFkYXNgXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZm9yY2VSZXNwb25zZSk7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yOiBgQWNjacOzbiBubyB2w6FsaWRhOiAke2FjdGlvbn1gXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBMb2cgZGVsIGVycm9yIGRlIHNlZ3VyaWRhZFxyXG4gICAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ0FwaUVycm9yKHNlY3VyaXR5TG9nZ2VyLmNvbnRleHQsIGVycm9yIGFzIEVycm9yLCB7XHJcbiAgICAgICAgICBlbmRwb2ludDogJy9hcGkvYXV0aC9zZWN1cml0eScsXHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGFjdGlvbjogcmVxdWVzdC51cmxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICByZXR1cm4gcmF0ZUxpbWl0UmVzdWx0O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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