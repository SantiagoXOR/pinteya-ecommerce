{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\admin\\products\\ProductActions.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { \r\n  Plus, \r\n  Download, \r\n  Upload, \r\n  Trash2, \r\n  Edit, \r\n  Eye, \r\n  MoreHorizontal,\r\n  Copy,\r\n  Archive,\r\n  AlertTriangle,\r\n  Settings,\r\n  Tag,\r\n  Package,\r\n  CheckCircle,\r\n  XCircle,\r\n  FileText,\r\n  BarChart3\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/core/utils';\r\nimport { useProductNotifications } from '@/hooks/admin/useProductNotifications';\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  status: 'active' | 'inactive' | 'draft';\r\n}\r\n\r\ninterface ProductActionsProps {\r\n  selectedProducts?: Product[];\r\n  onCreateProduct?: () => void;\r\n  onEditProduct?: (productId: string) => void;\r\n  onViewProduct?: (productId: string) => void;\r\n  onDeleteProduct?: (productId: string) => void;\r\n  onBulkDelete?: (productIds: string[]) => void;\r\n  onBulkEdit?: (productIds: string[], updates: Partial<Product>) => void;\r\n  onBulkStatusChange?: (productIds: string[], status: Product['status']) => void;\r\n  onBulkCategoryChange?: (productIds: string[], categoryId: number) => void;\r\n  onBulkPriceUpdate?: (productIds: string[], priceChange: { type: 'percentage' | 'fixed', value: number }) => void;\r\n  onDuplicateProduct?: (productId: string) => void;\r\n  onExportProducts?: (format?: 'csv' | 'xlsx' | 'json') => void;\r\n  onImportProducts?: () => void;\r\n  onBulkArchive?: (productIds: string[]) => void;\r\n  onGenerateReport?: () => void;\r\n  isLoading?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport function ProductActions({\r\n  selectedProducts = [],\r\n  onCreateProduct,\r\n  onEditProduct,\r\n  onViewProduct,\r\n  onDeleteProduct,\r\n  onBulkDelete,\r\n  onBulkEdit,\r\n  onBulkStatusChange,\r\n  onBulkCategoryChange,\r\n  onBulkPriceUpdate,\r\n  onDuplicateProduct,\r\n  onExportProducts,\r\n  onImportProducts,\r\n  onBulkArchive,\r\n  onGenerateReport,\r\n  isLoading = false,\r\n  className\r\n}: ProductActionsProps) {\r\n  const notifications = useProductNotifications();\r\n  const [showBulkActions, setShowBulkActions] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [showBulkEditModal, setShowBulkEditModal] = useState(false);\r\n  const [showExportOptions, setShowExportOptions] = useState(false);\r\n  const [bulkEditData, setBulkEditData] = useState({\r\n    status: '',\r\n    categoryId: '',\r\n    priceChange: { type: 'percentage' as const, value: 0 }\r\n  });\r\n\r\n  const selectedCount = selectedProducts.length;\r\n  const hasSelection = selectedCount > 0;\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (onBulkDelete && selectedProducts.length > 0) {\r\n      try {\r\n        await onBulkDelete(selectedProducts.map(p => p.id));\r\n        notifications.bulkDeleteSuccess(selectedProducts.length);\r\n        setShowDeleteConfirm(false);\r\n      } catch (error) {\r\n        notifications.bulkDeleteError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBulkStatusChange = async (status: Product['status']) => {\r\n    if (onBulkStatusChange && selectedProducts.length > 0) {\r\n      try {\r\n        await onBulkStatusChange(selectedProducts.map(p => p.id), status);\r\n        notifications.bulkStatusChangeSuccess(selectedProducts.length, status);\r\n        setShowBulkActions(false);\r\n      } catch (error) {\r\n        notifications.bulkStatusChangeError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBulkArchive = async () => {\r\n    if (onBulkArchive && selectedProducts.length > 0) {\r\n      try {\r\n        await onBulkArchive(selectedProducts.map(p => p.id));\r\n        notifications.bulkArchiveSuccess(selectedProducts.length);\r\n        setShowBulkActions(false);\r\n      } catch (error) {\r\n        notifications.bulkArchiveError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleExport = async (format: 'csv' | 'xlsx' | 'json') => {\r\n    if (onExportProducts) {\r\n      try {\r\n        notifications.exportStarted(format);\r\n        await onExportProducts(format);\r\n        notifications.exportSuccess(format);\r\n        setShowExportOptions(false);\r\n      } catch (error) {\r\n        notifications.exportError(error as Error, format);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleImport = async () => {\r\n    if (onImportProducts) {\r\n      try {\r\n        notifications.importStarted();\r\n        await onImportProducts();\r\n        notifications.importSuccess();\r\n      } catch (error) {\r\n        notifications.importError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreateProduct = async () => {\r\n    if (onCreateProduct) {\r\n      try {\r\n        await onCreateProduct();\r\n        notifications.createSuccess();\r\n      } catch (error) {\r\n        notifications.createError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"flex items-center justify-between\", className)}>\r\n      {/* Bulk Actions */}\r\n      {hasSelection && (\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className=\"text-sm text-gray-600 font-medium\">\r\n            {selectedCount} producto{selectedCount !== 1 ? 's' : ''} seleccionado{selectedCount !== 1 ? 's' : ''}\r\n          </span>\r\n          \r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowBulkActions(!showBulkActions)}\r\n              className=\"flex items-center space-x-2 px-4 py-2 text-sm bg-blaze-orange-100 text-blaze-orange-800 hover:bg-blaze-orange-200 rounded-lg transition-colors font-medium\"\r\n            >\r\n              <Settings className=\"w-4 h-4\" />\r\n              <span>Acciones masivas</span>\r\n            </button>\r\n\r\n            {showBulkActions && (\r\n              <div className=\"absolute left-0 top-full mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n                <div className=\"py-2\">\r\n                  {/* Status Changes */}\r\n                  <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b\">\r\n                    Cambiar Estado\r\n                  </div>\r\n                  <button\r\n                    onClick={() => handleBulkStatusChange('active')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                    <span>Activar productos</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleBulkStatusChange('inactive')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <XCircle className=\"w-4 h-4 text-red-500\" />\r\n                    <span>Desactivar productos</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleBulkStatusChange('draft')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <FileText className=\"w-4 h-4 text-yellow-500\" />\r\n                    <span>Marcar como borrador</span>\r\n                  </button>\r\n\r\n                  <div className=\"border-t border-gray-200 my-2\"></div>\r\n\r\n                  {/* Other Actions */}\r\n                  <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b\">\r\n                    Otras Acciones\r\n                  </div>\r\n                  <button\r\n                    onClick={() => setShowBulkEditModal(true)}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <Edit className=\"w-4 h-4 text-blue-500\" />\r\n                    <span>Edición masiva</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={handleBulkArchive}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <Archive className=\"w-4 h-4 text-purple-500\" />\r\n                    <span>Archivar productos</span>\r\n                  </button>\r\n\r\n                  <div className=\"border-t border-gray-200 my-2\"></div>\r\n\r\n                  {/* Danger Zone */}\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowDeleteConfirm(true);\r\n                      setShowBulkActions(false);\r\n                    }}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                    <span>Eliminar seleccionados</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Primary Actions */}\r\n      <div className=\"flex items-center space-x-3 ml-auto\">\r\n        {/* Import/Export */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          <button\r\n            onClick={handleImport}\r\n            disabled={isLoading}\r\n            className=\"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50\"\r\n          >\r\n            <Upload className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">Importar</span>\r\n          </button>\r\n          \r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowExportOptions(!showExportOptions)}\r\n              disabled={isLoading}\r\n              className=\"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline\">Exportar</span>\r\n            </button>\r\n\r\n            {showExportOptions && (\r\n              <div className=\"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n                <div className=\"py-2\">\r\n                  <button\r\n                    onClick={() => handleExport('csv')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <FileText className=\"w-4 h-4 text-green-500\" />\r\n                    <span>Exportar como CSV</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleExport('xlsx')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <Package className=\"w-4 h-4 text-blue-500\" />\r\n                    <span>Exportar como Excel</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleExport('json')}\r\n                    className=\"flex items-center space-x-3 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    <FileText className=\"w-4 h-4 text-purple-500\" />\r\n                    <span>Exportar como JSON</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {onGenerateReport && (\r\n            <button\r\n              onClick={onGenerateReport}\r\n              disabled={isLoading}\r\n              className=\"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50\"\r\n            >\r\n              <BarChart3 className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline\">Reporte</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Create Product */}\r\n        <button\r\n          onClick={handleCreateProduct}\r\n          disabled={isLoading}\r\n          className=\"flex items-center space-x-2 px-4 py-2 bg-blaze-orange-600 hover:bg-blaze-orange-700 text-white rounded-lg transition-colors disabled:opacity-50\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          <span>Nuevo Producto</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Bulk Actions Dropdown */}\r\n      {showBulkActions && hasSelectedProducts && (\r\n        <div className=\"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n          <div className=\"py-1\">\r\n            <button\r\n              onClick={() => {\r\n                // Handle bulk status change\r\n                setShowBulkActions(false);\r\n              }}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              <Archive className=\"w-4 h-4\" />\r\n              <span>Cambiar estado</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={() => {\r\n                // Handle bulk duplicate\r\n                setShowBulkActions(false);\r\n              }}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              <Copy className=\"w-4 h-4\" />\r\n              <span>Duplicar</span>\r\n            </button>\r\n            \r\n            <div className=\"border-t border-gray-200 my-1\"></div>\r\n            \r\n            <button\r\n              onClick={() => {\r\n                setShowDeleteConfirm(true);\r\n                setShowBulkActions(false);\r\n              }}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50\"\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n              <span>Eliminar seleccionados</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n            <div className=\"flex items-center space-x-3 mb-4\">\r\n              <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\r\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  Confirmar eliminación\r\n                </h3>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Esta acción no se puede deshacer.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <p className=\"text-sm text-gray-700 mb-6\">\r\n              ¿Estás seguro de que quieres eliminar {selectedCount} producto{selectedCount !== 1 ? 's' : ''}?\r\n            </p>\r\n            \r\n            <div className=\"flex items-center justify-end space-x-3\">\r\n              <button\r\n                onClick={() => setShowDeleteConfirm(false)}\r\n                className=\"px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={handleBulkDelete}\r\n                disabled={isLoading}\r\n                className=\"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50\"\r\n              >\r\n                {isLoading ? 'Eliminando...' : 'Eliminar'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bulk Edit Modal */}\r\n      {showBulkEditModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-lg w-full mx-4\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">\r\n                Editar productos masivamente\r\n              </h3>\r\n              <button\r\n                 onClick={() => setShowBulkEditModal(false)}\r\n                 className=\"text-gray-400 hover:text-gray-600\"\r\n               >\r\n                 <X className=\"w-5 h-5\" />\r\n               </button>\r\n            </div>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Categoría\r\n                </label>\r\n                <select\r\n                  value={bulkEditData.categoryId || ''}\r\n                  onChange={(e) => setBulkEditData(prev => ({ ...prev, categoryId: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">Sin cambios</option>\r\n                  <option value=\"1\">Electrónicos</option>\r\n                  <option value=\"2\">Ropa</option>\r\n                  <option value=\"3\">Hogar</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Estado\r\n                </label>\r\n                <select\r\n                  value={bulkEditData.status || ''}\r\n                  onChange={(e) => setBulkEditData(prev => ({ ...prev, status: e.target.value as 'active' | 'inactive' | 'draft' | '' }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">Sin cambios</option>\r\n                  <option value=\"active\">Activo</option>\r\n                  <option value=\"inactive\">Inactivo</option>\r\n                  <option value=\"draft\">Borrador</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Ajuste de precio\r\n                </label>\r\n                <div className=\"flex space-x-2\">\r\n                  <select\r\n                    value={bulkEditData.priceChange.type}\r\n                    onChange={(e) => setBulkEditData(prev => ({ ...prev, priceChange: { ...prev.priceChange, type: e.target.value as 'percentage' | 'fixed' } }))}\r\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"percentage\">Porcentaje</option>\r\n                    <option value=\"fixed\">Cantidad fija</option>\r\n                  </select>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={bulkEditData.priceChange.value}\r\n                    onChange={(e) => setBulkEditData(prev => ({ ...prev, priceChange: { ...prev.priceChange, value: parseFloat(e.target.value) || 0 } }))}\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent\"\r\n                    placeholder=\"0\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex justify-end space-x-3 mt-6\">\r\n              <button\r\n                onClick={() => setShowBulkEditModal(false)}\r\n                className=\"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  if (onBulkEdit && selectedProducts.length > 0) {\r\n                    const updates: any = {};\r\n                    if (bulkEditData.status) {updates.status = bulkEditData.status;}\r\n                    if (bulkEditData.categoryId) {\r\n                      onBulkCategoryChange?.(selectedProducts.map(p => p.id), parseInt(bulkEditData.categoryId));\r\n                    }\r\n                    if (bulkEditData.priceChange.value !== 0) {\r\n                      onBulkPriceUpdate?.(selectedProducts.map(p => p.id), bulkEditData.priceChange);\r\n                    }\r\n                    onBulkEdit(selectedProducts.map(p => p.id), updates);\r\n                  }\r\n                  setShowBulkEditModal(false);\r\n                  setBulkEditData({\r\n                    status: '',\r\n                    categoryId: '',\r\n                    priceChange: { type: 'percentage' as const, value: 0 }\r\n                  });\r\n                }}\r\n                className=\"px-4 py-2 text-sm text-white bg-blaze-orange-600 hover:bg-blaze-orange-700 rounded-lg transition-colors\"\r\n              >\r\n                Aplicar cambios\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Individual Product Actions Component\r\ninterface ProductRowActionsProps {\r\n  product: Product;\r\n  onEdit?: (productId: string) => void;\r\n  onView?: (productId: string) => void;\r\n  onDelete?: (productId: string) => void;\r\n  onDuplicate?: (productId: string) => void;\r\n  onToggleStatus?: (productId: string) => void;\r\n  onManageInventory?: (productId: string) => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport function ProductRowActions({\r\n  product,\r\n  onEdit,\r\n  onView,\r\n  onDelete,\r\n  onDuplicate,\r\n  onToggleStatus,\r\n  onManageInventory,\r\n  isLoading = false\r\n}: ProductRowActionsProps) {\r\n  const notifications = useProductNotifications();\r\n  const [showActions, setShowActions] = useState(false);\r\n\r\n  const handleEdit = async () => {\r\n    if (onEdit) {\r\n      try {\r\n        await onEdit(product.id);\r\n        notifications.updateSuccess(product.name);\r\n        setShowActions(false);\r\n      } catch (error) {\r\n        notifications.updateError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (onDelete) {\r\n      try {\r\n        await onDelete(product.id);\r\n        notifications.deleteSuccess(product.name);\r\n        setShowActions(false);\r\n      } catch (error) {\r\n        notifications.deleteError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDuplicate = async () => {\r\n    if (onDuplicate) {\r\n      try {\r\n        await onDuplicate(product.id);\r\n        notifications.duplicateSuccess(product.name);\r\n        setShowActions(false);\r\n      } catch (error) {\r\n        notifications.duplicateError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async () => {\r\n    if (onToggleStatus) {\r\n      try {\r\n        await onToggleStatus(product.id);\r\n        const newStatus = product.status === 'active' ? 'inactive' : 'active';\r\n        notifications.statusChangeSuccess(product.name, newStatus);\r\n        setShowActions(false);\r\n      } catch (error) {\r\n        notifications.statusChangeError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleManageInventory = async () => {\r\n    if (onManageInventory) {\r\n      try {\r\n        await onManageInventory(product.id);\r\n        notifications.inventoryUpdateSuccess(product.name);\r\n        setShowActions(false);\r\n      } catch (error) {\r\n        notifications.inventoryUpdateError(error as Error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={() => setShowActions(!showActions)}\r\n        className=\"p-1 rounded hover:bg-gray-100 transition-colors\"\r\n      >\r\n        <MoreHorizontal className=\"w-4 h-4 text-gray-500\" />\r\n      </button>\r\n\r\n      {showActions && (\r\n        <div className=\"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50\">\r\n          <div className=\"py-1\">\r\n            <button\r\n              onClick={() => {\r\n                onView?.(product.id);\r\n                setShowActions(false);\r\n              }}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              <Eye className=\"w-4 h-4\" />\r\n              <span>Ver detalles</span>\r\n            </button>\r\n            \r\n            <button\r\n              onClick={handleEdit}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              <Edit className=\"w-4 h-4\" />\r\n              <span>Editar</span>\r\n            </button>\r\n            \r\n            {onToggleStatus && (\r\n              <button\r\n                onClick={handleToggleStatus}\r\n                className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                {product.status === 'active' ? (\r\n                  <>\r\n                    <XCircle className=\"w-4 h-4 text-red-500\" />\r\n                    <span>Desactivar</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <CheckCircle className=\"w-4 h-4 text-green-500\" />\r\n                    <span>Activar</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n            )}\r\n            \r\n            {onManageInventory && (\r\n              <button\r\n                onClick={handleManageInventory}\r\n                className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                <Package className=\"w-4 h-4 text-blue-500\" />\r\n                <span>Gestionar stock</span>\r\n              </button>\r\n            )}\r\n            \r\n            <button\r\n              onClick={handleDuplicate}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\"\r\n            >\r\n              <Copy className=\"w-4 h-4\" />\r\n              <span>Duplicar</span>\r\n            </button>\r\n            \r\n            <div className=\"border-t border-gray-200 my-1\"></div>\r\n            \r\n            <button\r\n              onClick={handleDelete}\r\n              disabled={isLoading}\r\n              className=\"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50 disabled:opacity-50\"\r\n            >\r\n              <Trash2 className=\"w-4 h-4\" />\r\n              <span>Eliminar</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["ProductActions","ProductRowActions","selectedProducts","onCreateProduct","onEditProduct","onViewProduct","onDeleteProduct","onBulkDelete","onBulkEdit","onBulkStatusChange","onBulkCategoryChange","onBulkPriceUpdate","onDuplicateProduct","onExportProducts","onImportProducts","onBulkArchive","onGenerateReport","isLoading","className","notifications","useProductNotifications","showBulkActions","setShowBulkActions","useState","showDeleteConfirm","setShowDeleteConfirm","showBulkEditModal","setShowBulkEditModal","showExportOptions","setShowExportOptions","bulkEditData","setBulkEditData","status","categoryId","priceChange","type","value","selectedCount","length","hasSelection","handleBulkDelete","map","p","id","bulkDeleteSuccess","error","bulkDeleteError","handleBulkStatusChange","bulkStatusChangeSuccess","bulkStatusChangeError","handleBulkArchive","bulkArchiveSuccess","bulkArchiveError","handleExport","format","exportStarted","exportSuccess","exportError","handleImport","importStarted","importSuccess","importError","handleCreateProduct","createSuccess","createError","div","cn","span","button","onClick","Settings","CheckCircle","XCircle","FileText","Edit","Archive","Trash2","disabled","Upload","Download","Package","BarChart3","Plus","hasSelectedProducts","Copy","AlertTriangle","h3","X","label","select","onChange","e","prev","target","option","input","parseFloat","placeholder","updates","parseInt","product","onEdit","onView","onDelete","onDuplicate","onToggleStatus","onManageInventory","showActions","setShowActions","handleEdit","updateSuccess","name","updateError","handleDelete","deleteSuccess","deleteError","handleDuplicate","duplicateSuccess","duplicateError","handleToggleStatus","newStatus","statusChangeSuccess","statusChangeError","handleManageInventory","inventoryUpdateSuccess","inventoryUpdateError","MoreHorizontal","Eye"],"mappings":"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"}