0ecc561a6801082ca94882a4fa949f2e
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _link = /*#__PURE__*/ _interop_require_default(require("next/link"));
const _ProductItem = /*#__PURE__*/ _interop_require_default(require("../../Common/ProductItem"));
const _useFilteredProducts = require("../../../hooks/useFilteredProducts");
const _useProductFilters = require("../../../hooks/useProductFilters");
const _productadapter = require("../../../lib/adapters/product-adapter");
const _button = require("../../ui/button");
const _badge = require("../../ui/badge");
const _card = require("../../ui/card");
const _optimizedimports = require("../../../lib/optimized-imports");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const NewArrival = ()=>{
    // Hook para obtener filtros actuales
    const { filters } = (0, _useProductFilters.useProductFilters)({
        syncWithUrl: true
    });
    // Hook para obtener productos más recientes filtrados
    const { data, isLoading, error } = (0, _useFilteredProducts.useFilteredProducts)({
        categories: filters.categories.length > 0 ? filters.categories : undefined,
        limit: 8,
        sortBy: 'created_at',
        sortOrder: 'desc'
    });
    // Obtener productos de la respuesta y adaptarlos al formato de componente
    const apiProducts = data?.data || [];
    const products = (0, _productadapter.adaptApiProductsToComponents)(apiProducts);
    // Título dinámico según filtros
    const sectionTitle = filters.categories.length > 0 ? `Novedades en ${filters.categories.length === 1 ? 'esta categoría' : 'estas categorías'}` : 'Nuevos Productos';
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("section", {
        className: "overflow-hidden pt-6 sm:pt-10 pb-4 sm:pb-6",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-8 sm:mb-10 flex items-center justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2.5 font-medium text-gray-700 mb-1.5",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_optimizedimports.Sparkles, {
                                                className: "w-3 h-3 text-primary"
                                            })
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "Esta Semana"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_badge.Badge, {
                                            variant: "info",
                                            size: "sm",
                                            children: "Nuevos"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                    className: "font-semibold text-xl xl:text-heading-5 text-gray-900",
                                    children: sectionTitle
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                            variant: "outline",
                            asChild: true,
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_link.default, {
                                href: "/shop-with-sidebar",
                                children: [
                                    "Ver Todos",
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_optimizedimports.ArrowRight, {
                                        className: "ml-2 h-4 w-4"
                                    })
                                ]
                            })
                        })
                    ]
                }),
                isLoading ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9",
                    children: [
                        ...Array(8)
                    ].map((_, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                            className: "overflow-hidden",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "animate-pulse",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "bg-gray-200 h-32 md:h-48 rounded-t-lg"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                        className: "p-2 md:p-4",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "space-y-2 md:space-y-3",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "bg-gray-200 h-3 md:h-4 rounded w-3/4"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "bg-gray-200 h-3 md:h-4 rounded w-1/2"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "bg-gray-200 h-4 md:h-6 rounded w-1/3"
                                                })
                                            ]
                                        })
                                    })
                                ]
                            })
                        }, index))
                }) : error ? /* Error State - Mejorado con Design System */ /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                    variant: "outlined",
                    className: "border-red-200 bg-red-50",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                        className: "p-8 text-center",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex flex-col items-center gap-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-red-600 text-xl",
                                        children: "⚠️"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                            className: "font-semibold text-red-900 mb-1",
                                            children: "Error al cargar productos"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-red-700 text-sm",
                                            children: error instanceof Error ? error.message : typeof error === 'string' ? error : 'Error desconocido'
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    variant: "outline",
                                    size: "sm",
                                    onClick: ()=>window.location.reload(),
                                    className: "border-red-300 text-red-700 hover:bg-red-100",
                                    children: "Reintentar"
                                })
                            ]
                        })
                    })
                }) : /* Products Grid - Mobile-First 2 columnas */ /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9",
                    children: products.map((item, key)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_ProductItem.default, {
                            item: item
                        }, key))
                }),
                !isLoading && !error && products.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                    variant: "outlined",
                    className: "border-gray-200",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                        className: "p-12 text-center",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex flex-col items-center gap-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_optimizedimports.Sparkles, {
                                        className: "w-8 h-8 text-gray-400"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                            className: "font-semibold text-gray-900 mb-2",
                                            children: "No hay productos nuevos"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-gray-600 text-sm mb-4",
                                            children: "Pronto agregaremos nuevos productos de pinturer\xeda"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                            variant: "outline",
                                            asChild: true,
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_link.default, {
                                                href: "/shop-with-sidebar",
                                                children: "Ver Cat\xe1logo Completo"
                                            })
                                        })
                                    ]
                                })
                            ]
                        })
                    })
                })
            ]
        })
    });
};
const _default = NewArrival;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcSG9tZVxcTmV3QXJyaXZhbHNcXGluZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xyXG5pbXBvcnQgUHJvZHVjdEl0ZW0gZnJvbSBcIkAvY29tcG9uZW50cy9Db21tb24vUHJvZHVjdEl0ZW1cIjtcclxuaW1wb3J0IHsgdXNlRmlsdGVyZWRQcm9kdWN0cyB9IGZyb20gXCJAL2hvb2tzL3VzZUZpbHRlcmVkUHJvZHVjdHNcIjtcclxuaW1wb3J0IHsgdXNlUHJvZHVjdEZpbHRlcnMgfSBmcm9tIFwiQC9ob29rcy91c2VQcm9kdWN0RmlsdGVyc1wiO1xyXG5pbXBvcnQgeyBhZGFwdEFwaVByb2R1Y3RzVG9Db21wb25lbnRzIH0gZnJvbSBcIkAvbGliL2FkYXB0ZXJzL3Byb2R1Y3QtYWRhcHRlclwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcclxuaW1wb3J0IHsgU3BhcmtsZXMsIEFycm93UmlnaHQsIExvYWRlcjIgfSBmcm9tIFwiQC9saWIvb3B0aW1pemVkLWltcG9ydHNcIjtcclxuXHJcbmNvbnN0IE5ld0Fycml2YWw6IFJlYWN0LkZDID0gKCkgPT4ge1xyXG4gIC8vIEhvb2sgcGFyYSBvYnRlbmVyIGZpbHRyb3MgYWN0dWFsZXNcclxuICBjb25zdCB7IGZpbHRlcnMgfSA9IHVzZVByb2R1Y3RGaWx0ZXJzKHsgc3luY1dpdGhVcmw6IHRydWUgfSk7XHJcbiAgXHJcbiAgLy8gSG9vayBwYXJhIG9idGVuZXIgcHJvZHVjdG9zIG3DoXMgcmVjaWVudGVzIGZpbHRyYWRvc1xyXG4gIGNvbnN0IHsgZGF0YSwgaXNMb2FkaW5nLCBlcnJvciB9ID0gdXNlRmlsdGVyZWRQcm9kdWN0cyh7XHJcbiAgICBjYXRlZ29yaWVzOiBmaWx0ZXJzLmNhdGVnb3JpZXMubGVuZ3RoID4gMCA/IGZpbHRlcnMuY2F0ZWdvcmllcyA6IHVuZGVmaW5lZCxcclxuICAgIGxpbWl0OiA4LFxyXG4gICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXHJcbiAgICBzb3J0T3JkZXI6ICdkZXNjJyxcclxuICB9KTtcclxuXHJcbiAgLy8gT2J0ZW5lciBwcm9kdWN0b3MgZGUgbGEgcmVzcHVlc3RhIHkgYWRhcHRhcmxvcyBhbCBmb3JtYXRvIGRlIGNvbXBvbmVudGVcclxuICBjb25zdCBhcGlQcm9kdWN0cyA9IGRhdGE/LmRhdGEgfHwgW107XHJcbiAgY29uc3QgcHJvZHVjdHMgPSBhZGFwdEFwaVByb2R1Y3RzVG9Db21wb25lbnRzKGFwaVByb2R1Y3RzKTtcclxuXHJcbiAgLy8gVMOtdHVsbyBkaW7DoW1pY28gc2Vnw7puIGZpbHRyb3NcclxuICBjb25zdCBzZWN0aW9uVGl0bGUgPSBmaWx0ZXJzLmNhdGVnb3JpZXMubGVuZ3RoID4gMFxyXG4gICAgPyBgTm92ZWRhZGVzIGVuICR7ZmlsdGVycy5jYXRlZ29yaWVzLmxlbmd0aCA9PT0gMSA/ICdlc3RhIGNhdGVnb3LDrWEnIDogJ2VzdGFzIGNhdGVnb3LDrWFzJ31gXHJcbiAgICA6ICdOdWV2b3MgUHJvZHVjdG9zJztcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlbiBwdC02IHNtOnB0LTEwIHBiLTQgc206cGItNlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LVsxMTcwcHhdIHctZnVsbCBteC1hdXRvIHB4LTQgc206cHgtOCB4bDpweC0wXCI+XHJcbiAgICAgICAgey8qIFNlY3Rpb24gSGVhZGVyIC0gTWlncmFkbyBhbCBEZXNpZ24gU3lzdGVtICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOCBzbTptYi0xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIuNSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTEuNVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS8xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC1wcmltYXJ5XCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8c3Bhbj5Fc3RhIFNlbWFuYTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cImluZm9cIiBzaXplPVwic21cIj5cclxuICAgICAgICAgICAgICAgIE51ZXZvc1xyXG4gICAgICAgICAgICAgIDwvQmFkZ2U+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXhsIHhsOnRleHQtaGVhZGluZy01IHRleHQtZ3JheS05MDBcIj5cclxuICAgICAgICAgICAgICB7c2VjdGlvblRpdGxlfVxyXG4gICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIEJvdMOzbiBtaWdyYWRvIGFsIERlc2lnbiBTeXN0ZW0gKi99XHJcbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgYXNDaGlsZD5cclxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9zaG9wLXdpdGgtc2lkZWJhclwiPlxyXG4gICAgICAgICAgICAgIFZlciBUb2Rvc1xyXG4gICAgICAgICAgICAgIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cIm1sLTIgaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogTG9hZGluZyBTdGF0ZSAtIE1vYmlsZS1GaXJzdCAyIGNvbHVtbmFzICovfVxyXG4gICAgICAgIHtpc0xvYWRpbmcgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTQgc206Z2FwLTYgbWQ6Z2FwLXgtNy41IG1kOmdhcC15LTlcIj5cclxuICAgICAgICAgICAge1suLi5BcnJheSg4KV0ubWFwKChfLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxDYXJkIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0yMDAgaC0zMiBtZDpoLTQ4IHJvdW5kZWQtdC1sZ1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC0yIG1kOnAtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1kOnNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCBoLTMgbWQ6aC00IHJvdW5kZWQgdy0zLzRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0yMDAgaC0zIG1kOmgtNCByb3VuZGVkIHctMS8yXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMjAwIGgtNCBtZDpoLTYgcm91bmRlZCB3LTEvM1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICkgOiBlcnJvciA/IChcclxuICAgICAgICAgIC8qIEVycm9yIFN0YXRlIC0gTWVqb3JhZG8gY29uIERlc2lnbiBTeXN0ZW0gKi9cclxuICAgICAgICAgIDxDYXJkIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNsYXNzTmFtZT1cImJvcmRlci1yZWQtMjAwIGJnLXJlZC01MFwiPlxyXG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC04IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgcm91bmRlZC1mdWxsIGJnLXJlZC0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQteGxcIj7imqDvuI88L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtcmVkLTkwMCBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgRXJyb3IgYWwgY2FyZ2FyIHByb2R1Y3Rvc1xyXG4gICAgICAgICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC03MDAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnID8gZXJyb3IgOiAnRXJyb3IgZGVzY29ub2NpZG8nKX1cclxuICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiIFxyXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1yZWQtMzAwIHRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtMTAwXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgUmVpbnRlbnRhclxyXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgKSA6IChcclxuICAgICAgICAgIC8qIFByb2R1Y3RzIEdyaWQgLSBNb2JpbGUtRmlyc3QgMiBjb2x1bW5hcyAqL1xyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIGdhcC00IHNtOmdhcC02IG1kOmdhcC14LTcuNSBtZDpnYXAteS05XCI+XHJcbiAgICAgICAgICAgIHtwcm9kdWN0cy5tYXAoKGl0ZW0sIGtleSkgPT4gKFxyXG4gICAgICAgICAgICAgIDxQcm9kdWN0SXRlbSBpdGVtPXtpdGVtfSBrZXk9e2tleX0gLz5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7LyogRW1wdHkgU3RhdGUgLSBOdWV2byBjb24gRGVzaWduIFN5c3RlbSAqL31cclxuICAgICAgICB7IWlzTG9hZGluZyAmJiAhZXJyb3IgJiYgcHJvZHVjdHMubGVuZ3RoID09PSAwICYmIChcclxuICAgICAgICAgIDxDYXJkIHZhcmlhbnQ9XCJvdXRsaW5lZFwiIGNsYXNzTmFtZT1cImJvcmRlci1ncmF5LTIwMFwiPlxyXG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC0xMiB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHJvdW5kZWQtZnVsbCBiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWdyYXktNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgTm8gaGF5IHByb2R1Y3RvcyBudWV2b3NcclxuICAgICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXNtIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICBQcm9udG8gYWdyZWdhcmVtb3MgbnVldm9zIHByb2R1Y3RvcyBkZSBwaW50dXJlcsOtYVxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBhc0NoaWxkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvc2hvcC13aXRoLXNpZGViYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIFZlciBDYXTDoWxvZ28gQ29tcGxldG9cclxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5ld0Fycml2YWw7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJOZXdBcnJpdmFsIiwiZmlsdGVycyIsInVzZVByb2R1Y3RGaWx0ZXJzIiwic3luY1dpdGhVcmwiLCJkYXRhIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJ1c2VGaWx0ZXJlZFByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImxpbWl0Iiwic29ydEJ5Iiwic29ydE9yZGVyIiwiYXBpUHJvZHVjdHMiLCJwcm9kdWN0cyIsImFkYXB0QXBpUHJvZHVjdHNUb0NvbXBvbmVudHMiLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uIiwiY2xhc3NOYW1lIiwiZGl2IiwiU3BhcmtsZXMiLCJzcGFuIiwiQmFkZ2UiLCJ2YXJpYW50Iiwic2l6ZSIsImgyIiwiQnV0dG9uIiwiYXNDaGlsZCIsIkxpbmsiLCJocmVmIiwiQXJyb3dSaWdodCIsIkFycmF5IiwibWFwIiwiXyIsImluZGV4IiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiaDMiLCJwIiwiRXJyb3IiLCJtZXNzYWdlIiwib25DbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiaXRlbSIsImtleSIsIlByb2R1Y3RJdGVtIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBbUpBOzs7ZUFBQTs7Ozs4REFqSmtCOzZEQUNEO29FQUNPO3FDQUNZO21DQUNGO2dDQUNXO3dCQUN0Qjt1QkFDRDtzQkFDWTtrQ0FDWTs7Ozs7O0FBRTlDLE1BQU1BLGFBQXVCO0lBQzNCLHFDQUFxQztJQUNyQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHQyxJQUFBQSxvQ0FBaUIsRUFBQztRQUFFQyxhQUFhO0lBQUs7SUFFMUQsc0RBQXNEO0lBQ3RELE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRSxHQUFHQyxJQUFBQSx3Q0FBbUIsRUFBQztRQUNyREMsWUFBWVAsUUFBUU8sVUFBVSxDQUFDQyxNQUFNLEdBQUcsSUFBSVIsUUFBUU8sVUFBVSxHQUFHRTtRQUNqRUMsT0FBTztRQUNQQyxRQUFRO1FBQ1JDLFdBQVc7SUFDYjtJQUVBLDBFQUEwRTtJQUMxRSxNQUFNQyxjQUFjVixNQUFNQSxRQUFRLEVBQUU7SUFDcEMsTUFBTVcsV0FBV0MsSUFBQUEsNENBQTRCLEVBQUNGO0lBRTlDLGdDQUFnQztJQUNoQyxNQUFNRyxlQUFlaEIsUUFBUU8sVUFBVSxDQUFDQyxNQUFNLEdBQUcsSUFDN0MsQ0FBQyxhQUFhLEVBQUVSLFFBQVFPLFVBQVUsQ0FBQ0MsTUFBTSxLQUFLLElBQUksbUJBQW1CLG9CQUFvQixHQUN6RjtJQUVKLHFCQUNFLHFCQUFDUztRQUFRQyxXQUFVO2tCQUNqQixjQUFBLHNCQUFDQztZQUFJRCxXQUFVOzs4QkFFYixzQkFB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