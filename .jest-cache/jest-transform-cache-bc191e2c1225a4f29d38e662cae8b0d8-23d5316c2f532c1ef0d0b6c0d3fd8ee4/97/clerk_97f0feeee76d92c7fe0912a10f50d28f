fedcd4503810bc508b08897b2a55aecb
// ===================================
// PINTEYA E-COMMERCE - CONFIGURACIÃ“N NEXTAUTH.JS
// ===================================
// ðŸš¨ MIGRADO DE CLERK A NEXTAUTH.JS - 21/08/2025
"use strict";

/* istanbul ignore next */
function cov_dqrf62h3d() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\clerk.ts";
  var hash = "3b9ca56a6634e1bfef4c3de4166308fd3e2b1150";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\clerk.ts",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 8,
          column: 3
        }
      },
      "1": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 13,
          column: 7
        }
      },
      "2": {
        start: {
          line: 10,
          column: 24
        },
        end: {
          line: 13,
          column: 7
        }
      },
      "3": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 43,
          column: 3
        }
      },
      "4": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 38
        }
      },
      "5": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 27
        }
      },
      "6": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 29
        }
      },
      "7": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 35
        }
      },
      "8": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 35
        }
      },
      "9": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 34
        }
      },
      "10": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 35,
          column: 31
        }
      },
      "11": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 28
        }
      },
      "12": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 36
        }
      },
      "13": {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 44,
          column: 40
        }
      },
      "14": {
        start: {
          line: 45,
          column: 18
        },
        end: {
          line: 45,
          column: 39
        }
      },
      "15": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 53,
          column: 5
        }
      },
      "16": {
        start: {
          line: 48,
          column: 24
        },
        end: {
          line: 48,
          column: 49
        }
      },
      "17": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 37
        }
      },
      "18": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 70
        }
      },
      "19": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 52,
          column: 20
        }
      },
      "20": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "21": {
        start: {
          line: 57,
          column: 24
        },
        end: {
          line: 57,
          column: 49
        }
      },
      "22": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 41
        }
      },
      "23": {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 60,
          column: 64
        }
      },
      "24": {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 20
        }
      },
      "25": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 70,
          column: 5
        }
      },
      "26": {
        start: {
          line: 66,
          column: 24
        },
        end: {
          line: 66,
          column: 49
        }
      },
      "27": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 67,
          column: 31
        }
      },
      "28": {
        start: {
          line: 69,
          column: 8
        },
        end: {
          line: 69,
          column: 21
        }
      },
      "29": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 75,
          column: 5
        }
      },
      "30": {
        start: {
          line: 74,
          column: 8
        },
        end: {
          line: 74,
          column: 76
        }
      },
      "31": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 96,
          column: 5
        }
      },
      "32": {
        start: {
          line: 77,
          column: 25
        },
        end: {
          line: 83,
          column: 9
        }
      },
      "33": {
        start: {
          line: 85,
          column: 26
        },
        end: {
          line: 88,
          column: 10
        }
      },
      "34": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 92,
          column: 9
        }
      },
      "35": {
        start: {
          line: 90,
          column: 12
        },
        end: {
          line: 90,
          column: 78
        }
      },
      "36": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 91,
          column: 24
        }
      },
      "37": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 94,
          column: 68
        }
      },
      "38": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 95,
          column: 20
        }
      },
      "39": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 101,
          column: 5
        }
      },
      "40": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 100,
          column: 76
        }
      },
      "41": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 111,
          column: 5
        }
      },
      "42": {
        start: {
          line: 103,
          column: 32
        },
        end: {
          line: 103,
          column: 113
        }
      },
      "43": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 106,
          column: 9
        }
      },
      "44": {
        start: {
          line: 105,
          column: 12
        },
        end: {
          line: 105,
          column: 24
        }
      },
      "45": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 107,
          column: 20
        }
      },
      "46": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 109,
          column: 70
        }
      },
      "47": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 20
        }
      },
      "48": {
        start: {
          line: 114,
          column: 4
        },
        end: {
          line: 116,
          column: 5
        }
      },
      "49": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 115,
          column: 76
        }
      },
      "50": {
        start: {
          line: 117,
          column: 4
        },
        end: {
          line: 126,
          column: 5
        }
      },
      "51": {
        start: {
          line: 118,
          column: 26
        },
        end: {
          line: 118,
          column: 95
        }
      },
      "52": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 122,
          column: 9
        }
      },
      "53": {
        start: {
          line: 120,
          column: 12
        },
        end: {
          line: 120,
          column: 74
        }
      },
      "54": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 24
        }
      },
      "55": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 65
        }
      },
      "56": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 125,
          column: 20
        }
      },
      "57": {
        start: {
          line: 128,
          column: 21
        },
        end: {
          line: 139,
          column: 1
        }
      },
      "58": {
        start: {
          line: 140,
          column: 24
        },
        end: {
          line: 146,
          column: 1
        }
      },
      "59": {
        start: {
          line: 147,
          column: 27
        },
        end: {
          line: 152,
          column: 1
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 9,
            column: 9
          },
          end: {
            line: 9,
            column: 16
          }
        },
        loc: {
          start: {
            line: 9,
            column: 30
          },
          end: {
            line: 14,
            column: 1
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 34
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 23
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 25
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 25,
            column: 5
          }
        },
        loc: {
          start: {
            line: 25,
            column: 31
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 25
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        loc: {
          start: {
            line: 28,
            column: 31
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 28
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 30
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 31
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        loc: {
          start: {
            line: 34,
            column: 27
          },
          end: {
            line: 36,
            column: 5
          }
        },
        line: 34
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 37,
            column: 5
          }
        },
        loc: {
          start: {
            line: 37,
            column: 24
          },
          end: {
            line: 39,
            column: 5
          }
        },
        line: 37
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 40,
            column: 4
          },
          end: {
            line: 40,
            column: 5
          }
        },
        loc: {
          start: {
            line: 40,
            column: 32
          },
          end: {
            line: 42,
            column: 5
          }
        },
        line: 40
      },
      "10": {
        name: "getAuthUser",
        decl: {
          start: {
            line: 46,
            column: 15
          },
          end: {
            line: 46,
            column: 26
          }
        },
        loc: {
          start: {
            line: 46,
            column: 29
          },
          end: {
            line: 54,
            column: 1
          }
        },
        line: 46
      },
      "11": {
        name: "getAuthUserId",
        decl: {
          start: {
            line: 55,
            column: 15
          },
          end: {
            line: 55,
            column: 28
          }
        },
        loc: {
          start: {
            line: 55,
            column: 31
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 55
      },
      "12": {
        name: "isUserAuthenticated",
        decl: {
          start: {
            line: 64,
            column: 15
          },
          end: {
            line: 64,
            column: 34
          }
        },
        loc: {
          start: {
            line: 64,
            column: 37
          },
          end: {
            line: 71,
            column: 1
          }
        },
        line: 64
      },
      "13": {
        name: "syncUserWithSupabase",
        decl: {
          start: {
            line: 72,
            column: 15
          },
          end: {
            line: 72,
            column: 35
          }
        },
        loc: {
          start: {
            line: 72,
            column: 42
          },
          end: {
            line: 97,
            column: 1
          }
        },
        line: 72
      },
      "14": {
        name: "getUserFromSupabase",
        decl: {
          start: {
            line: 98,
            column: 15
          },
          end: {
            line: 98,
            column: 34
          }
        },
        loc: {
          start: {
            line: 98,
            column: 43
          },
          end: {
            line: 112,
            column: 1
          }
        },
        line: 98
      },
      "15": {
        name: "deleteUserFromSupabase",
        decl: {
          start: {
            line: 113,
            column: 15
          },
          end: {
            line: 113,
            column: 37
          }
        },
        loc: {
          start: {
            line: 113,
            column: 46
          },
          end: {
            line: 127,
            column: 1
          }
        },
        line: 113
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 49,
            column: 15
          },
          end: {
            line: 49,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 49,
            column: 15
          },
          end: {
            line: 49,
            column: 28
          }
        }, {
          start: {
            line: 49,
            column: 32
          },
          end: {
            line: 49,
            column: 36
          }
        }],
        line: 49
      },
      "1": {
        loc: {
          start: {
            line: 58,
            column: 15
          },
          end: {
            line: 58,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 15
          },
          end: {
            line: 58,
            column: 32
          }
        }, {
          start: {
            line: 58,
            column: 36
          },
          end: {
            line: 58,
            column: 40
          }
        }],
        line: 58
      },
      "2": {
        loc: {
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "3": {
        loc: {
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "4": {
        loc: {
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 101,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 101,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "5": {
        loc: {
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 106,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 106,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 104
      },
      "6": {
        loc: {
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 104,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 104,
            column: 17
          }
        }, {
          start: {
            line: 104,
            column: 21
          },
          end: {
            line: 104,
            column: 46
          }
        }],
        line: 104
      },
      "7": {
        loc: {
          start: {
            line: 114,
            column: 4
          },
          end: {
            line: 116,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 114,
            column: 4
          },
          end: {
            line: 116,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 114
      },
      "8": {
        loc: {
          start: {
            line: 119,
            column: 8
          },
          end: {
            line: 122,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 119,
            column: 8
          },
          end: {
            line: 122,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 119
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\clerk.ts"],
      sourcesContent: ["// ===================================\r\n// PINTEYA E-COMMERCE - CONFIGURACI\xD3N NEXTAUTH.JS\r\n// ===================================\r\n// \uD83D\uDEA8 MIGRADO DE CLERK A NEXTAUTH.JS - 21/08/2025\r\n\r\nimport { auth } from '@/lib/auth/config';\r\nimport { supabaseAdmin } from './supabase';\r\n\r\n// ===================================\r\n// FUNCIONES DE AUTENTICACI\xD3N\r\n// ===================================\r\n\r\n/**\r\n * Obtiene el usuario autenticado actual\r\n * @returns Promise<any | null>\r\n */\r\nexport async function getAuthUser(): Promise<any | null> {\r\n  try {\r\n    const session = await auth();\r\n    return session?.user || null;\r\n  } catch (error) {\r\n    console.error('Error obteniendo usuario autenticado:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene el ID del usuario autenticado\r\n * @returns string | null\r\n */\r\nexport async function getAuthUserId(): Promise<string | null> {\r\n  try {\r\n    const session = await auth();\r\n    return session?.user?.id || null;\r\n  } catch (error) {\r\n    console.error('Error obteniendo ID de usuario:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Verifica si el usuario est\xE1 autenticado\r\n * @returns boolean\r\n */\r\nexport async function isUserAuthenticated(): Promise<boolean> {\r\n  try {\r\n    const session = await auth();\r\n    return !!session?.user;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n// ===================================\r\n// SINCRONIZACI\xD3N CON SUPABASE\r\n// ===================================\r\n// \uD83D\uDEA8 FUNCIONES TEMPORALMENTE DESHABILITADAS - Migraci\xF3n a NextAuth.js\r\n\r\ninterface NextAuthUser {\r\n  id: string;\r\n  email: string;\r\n  name?: string | null;\r\n  image?: string | null;\r\n}\r\n\r\n/**\r\n * Sincroniza un usuario de NextAuth.js con Supabase\r\n * @param user - Usuario de NextAuth.js\r\n * @returns Promise<void>\r\n */\r\nexport async function syncUserWithSupabase(user: NextAuthUser): Promise<void> {\r\n  if (!supabaseAdmin) {\r\n    throw new Error('Cliente administrativo de Supabase no disponible');\r\n  }\r\n\r\n  try {\r\n    const userData = {\r\n      id: user.id,\r\n      email: user.email,\r\n      name: user.name,\r\n      image: user.image,\r\n      updated_at: new Date().toISOString(),\r\n    };\r\n\r\n    // Intentar insertar o actualizar el usuario\r\n    const { error } = await supabaseAdmin\r\n      .from('users')\r\n      .upsert(userData, {\r\n        onConflict: 'id',\r\n        ignoreDuplicates: false,\r\n      });\r\n\r\n    if (error) {\r\n      console.error('Error sincronizando usuario con Supabase:', error);\r\n      throw error;\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Error en sincronizaci\xF3n de usuario:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene los datos del usuario desde Supabase usando el ID de NextAuth\r\n * @param userId - ID del usuario en NextAuth\r\n * @returns Promise<any>\r\n */\r\nexport async function getUserFromSupabase(userId: string) {\r\n  if (!supabaseAdmin) {\r\n    throw new Error('Cliente administrativo de Supabase no disponible');\r\n  }\r\n\r\n  try {\r\n    const { data, error } = await supabaseAdmin\r\n      .from('users')\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single();\r\n\r\n    if (error && error.code !== 'PGRST116') {\r\n      throw error;\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error obteniendo usuario de Supabase:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Elimina un usuario de Supabase usando el ID de NextAuth\r\n * @param userId - ID del usuario en NextAuth\r\n * @returns Promise<void>\r\n */\r\nexport async function deleteUserFromSupabase(userId: string): Promise<void> {\r\n  if (!supabaseAdmin) {\r\n    throw new Error('Cliente administrativo de Supabase no disponible');\r\n  }\r\n\r\n  try {\r\n    const { error } = await supabaseAdmin\r\n      .from('users')\r\n      .delete()\r\n      .eq('id', userId);\r\n\r\n    if (error) {\r\n      console.error('Error eliminando usuario de Supabase:', error);\r\n      throw error;\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Error en eliminaci\xF3n de usuario:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// ===================================\r\n// MIDDLEWARE HELPERS\r\n// ===================================\r\n\r\n/**\r\n * Rutas p\xFAblicas que no requieren autenticaci\xF3n\r\n */\r\nexport const publicRoutes = [\r\n  '/',\r\n  '/shop',\r\n  '/shop/(.*)',\r\n  '/products/(.*)',\r\n  '/signin',\r\n  '/signup',\r\n  '/api/products',\r\n  '/api/products/(.*)',\r\n  '/api/categories',\r\n  '/api/auth/webhook',\r\n];\r\n\r\n/**\r\n * Rutas que requieren autenticaci\xF3n\r\n */\r\nexport const protectedRoutes = [\r\n  '/checkout',\r\n  // ELIMINADO: '/my-account' y '/my-account/(.*)' - Ruta completamente removida del sistema\r\n  '/orders',\r\n  '/orders/(.*)',\r\n  '/wishlist',\r\n];\r\n\r\n/**\r\n * Rutas de API que requieren autenticaci\xF3n\r\n */\r\nexport const protectedApiRoutes = [\r\n  '/api/orders',\r\n  '/api/orders/(.*)',\r\n  '/api/user/(.*)',\r\n  '/api/payments/(.*)',\r\n];\r\n\r\n// ===================================\r\n// TIPOS\r\n// ===================================\r\nexport interface AuthenticatedUser {\r\n  id: string;\r\n  email: string;\r\n  name?: string;\r\n  image?: string;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["deleteUserFromSupabase", "getAuthUser", "getAuthUserId", "getUserFromSupabase", "isUserAuthenticated", "protectedApiRoutes", "protectedRoutes", "publicRoutes", "syncUserWithSupabase", "session", "auth", "user", "error", "console", "id", "supabaseAdmin", "Error", "userData", "email", "name", "image", "updated_at", "Date", "toISOString", "from", "upsert", "onConflict", "ignoreDuplicates", "userId", "data", "select", "eq", "single", "code", "delete"],
      mappings: "AAAA,sCAAsC;AACtC,iDAAiD;AACjD,sCAAsC;AACtC,iDAAiD;;;;;;;;;;;;QAqI3BA;eAAAA;;QAxHAC;eAAAA;;QAcAC;eAAAA;;QA8EAC;eAAAA;;QAhEAC;eAAAA;;QAoJTC;eAAAA;;QAXAC;eAAAA;;QAhBAC;eAAAA;;QA/FSC;eAAAA;;;wBAjED;0BACS;AAUvB,eAAeP;IACpB,IAAI;QACF,MAAMQ,UAAU,MAAMC,IAAAA,YAAI;QAC1B,OAAOD,SAASE,QAAQ;IAC1B,EAAE,OAAOC,OAAO;QACdC,QAAQD,KAAK,CAAC,yCAAyCA;QACvD,OAAO;IACT;AACF;AAMO,eAAeV;IACpB,IAAI;QACF,MAAMO,UAAU,MAAMC,IAAAA,YAAI;QAC1B,OAAOD,SAASE,MAAMG,MAAM;IAC9B,EAAE,OAAOF,OAAO;QACdC,QAAQD,KAAK,CAAC,mCAAmCA;QACjD,OAAO;IACT;AACF;AAMO,eAAeR;IACpB,IAAI;QACF,MAAMK,UAAU,MAAMC,IAAAA,YAAI;QAC1B,OAAO,CAAC,CAACD,SAASE;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAmBO,eAAeH,qBAAqBG,IAAkB;IAC3D,IAAI,CAACI,uBAAa,EAAE;QAClB,MAAM,IAAIC,MAAM;IAClB;IAEA,IAAI;QACF,MAAMC,WAAW;YACfH,IAAIH,KAAKG,EAAE;YACXI,OAAOP,KAAKO,KAAK;YACjBC,MAAMR,KAAKQ,IAAI;YACfC,OAAOT,KAAKS,KAAK;YACjBC,YAAY,IAAIC,OAAOC,WAAW;QACpC;QAEA,4CAA4C;QAC5C,MAAM,EAAEX,KAAK,EAAE,GAAG,MAAMG,uBAAa,CAClCS,IAAI,CAAC,SACLC,MAAM,CAACR,UAAU;YAChBS,YAAY;YACZC,kBAAkB;QACpB;QAEF,IAAIf,OAAO;YACTC,QAAQD,KAAK,CAAC,6CAA6CA;YAC3D,MAAMA;QACR;IAEF,EAAE,OAAOA,OAAO;QACdC,QAAQD,KAAK,CAAC,uCAAuCA;QACrD,MAAMA;IACR;AACF;AAOO,eAAeT,oBAAoByB,MAAc;IACtD,IAAI,CAACb,uBAAa,EAAE;QAClB,MAAM,IAAIC,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,EAAEa,IAAI,EAAEjB,KAAK,EAAE,GAAG,MAAMG,uBAAa,CACxCS,IAAI,CAAC,SACLM,MAAM,CAAC,KACPC,EAAE,CAAC,MAAMH,QACTI,MAAM;QAET,IAAIpB,SAASA,MAAMqB,IAAI,KAAK,YAAY;YACtC,MAAMrB;QACR;QAEA,OAAOiB;IACT,EAAE,OAAOjB,OAAO;QACdC,QAAQD,KAAK,CAAC,yCAAyCA;QACvD,OAAO;IACT;AACF;AAOO,eAAeZ,uBAAuB4B,MAAc;IACzD,IAAI,CAACb,uBAAa,EAAE;QAClB,MAAM,IAAIC,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,EAAEJ,KAAK,EAAE,GAAG,MAAMG,uBAAa,CAClCS,IAAI,CAAC,SACLU,MAAM,GACNH,EAAE,CAAC,MAAMH;QAEZ,IAAIhB,OAAO;YACTC,QAAQD,KAAK,CAAC,yCAAyCA;YACvD,MAAMA;QACR;IAEF,EAAE,OAAOA,OAAO;QACdC,QAAQD,KAAK,CAAC,oCAAoCA;QAClD,MAAMA;IACR;AACF;AASO,MAAML,eAAe;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAKM,MAAMD,kBAAkB;IAC7B;IACA,0FAA0F;IAC1F;IACA;IACA;CACD;AAKM,MAAMD,qBAAqB;IAChC;IACA;IACA;IACA;CACD"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "3b9ca56a6634e1bfef4c3de4166308fd3e2b1150"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_dqrf62h3d = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_dqrf62h3d();
cov_dqrf62h3d().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[0]++;
  cov_dqrf62h3d().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_dqrf62h3d().s[3]++;
_export(exports, {
  get deleteUserFromSupabase() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[1]++;
    cov_dqrf62h3d().s[4]++;
    return deleteUserFromSupabase;
  },
  get getAuthUser() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[2]++;
    cov_dqrf62h3d().s[5]++;
    return getAuthUser;
  },
  get getAuthUserId() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[3]++;
    cov_dqrf62h3d().s[6]++;
    return getAuthUserId;
  },
  get getUserFromSupabase() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[4]++;
    cov_dqrf62h3d().s[7]++;
    return getUserFromSupabase;
  },
  get isUserAuthenticated() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[5]++;
    cov_dqrf62h3d().s[8]++;
    return isUserAuthenticated;
  },
  get protectedApiRoutes() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[6]++;
    cov_dqrf62h3d().s[9]++;
    return protectedApiRoutes;
  },
  get protectedRoutes() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[7]++;
    cov_dqrf62h3d().s[10]++;
    return protectedRoutes;
  },
  get publicRoutes() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[8]++;
    cov_dqrf62h3d().s[11]++;
    return publicRoutes;
  },
  get syncUserWithSupabase() {
    /* istanbul ignore next */
    cov_dqrf62h3d().f[9]++;
    cov_dqrf62h3d().s[12]++;
    return syncUserWithSupabase;
  }
});
const _config =
/* istanbul ignore next */
(cov_dqrf62h3d().s[13]++, require("./auth/config"));
const _supabase =
/* istanbul ignore next */
(cov_dqrf62h3d().s[14]++, require("./supabase"));
async function getAuthUser() {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[10]++;
  cov_dqrf62h3d().s[15]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[16]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_dqrf62h3d().s[17]++;
    return /* istanbul ignore next */(cov_dqrf62h3d().b[0][0]++, session?.user) ||
    /* istanbul ignore next */
    (cov_dqrf62h3d().b[0][1]++, null);
  } catch (error) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[18]++;
    console.error('Error obteniendo usuario autenticado:', error);
    /* istanbul ignore next */
    cov_dqrf62h3d().s[19]++;
    return null;
  }
}
async function getAuthUserId() {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[11]++;
  cov_dqrf62h3d().s[20]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[21]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_dqrf62h3d().s[22]++;
    return /* istanbul ignore next */(cov_dqrf62h3d().b[1][0]++, session?.user?.id) ||
    /* istanbul ignore next */
    (cov_dqrf62h3d().b[1][1]++, null);
  } catch (error) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[23]++;
    console.error('Error obteniendo ID de usuario:', error);
    /* istanbul ignore next */
    cov_dqrf62h3d().s[24]++;
    return null;
  }
}
async function isUserAuthenticated() {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[12]++;
  cov_dqrf62h3d().s[25]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[26]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_dqrf62h3d().s[27]++;
    return !!session?.user;
  } catch {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[28]++;
    return false;
  }
}
async function syncUserWithSupabase(user) {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[13]++;
  cov_dqrf62h3d().s[29]++;
  if (!_supabase.supabaseAdmin) {
    /* istanbul ignore next */
    cov_dqrf62h3d().b[2][0]++;
    cov_dqrf62h3d().s[30]++;
    throw new Error('Cliente administrativo de Supabase no disponible');
  } else
  /* istanbul ignore next */
  {
    cov_dqrf62h3d().b[2][1]++;
  }
  cov_dqrf62h3d().s[31]++;
  try {
    const userData =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[32]++, {
      id: user.id,
      email: user.email,
      name: user.name,
      image: user.image,
      updated_at: new Date().toISOString()
    });
    // Intentar insertar o actualizar el usuario
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[33]++, await _supabase.supabaseAdmin.from('users').upsert(userData, {
      onConflict: 'id',
      ignoreDuplicates: false
    }));
    /* istanbul ignore next */
    cov_dqrf62h3d().s[34]++;
    if (error) {
      /* istanbul ignore next */
      cov_dqrf62h3d().b[3][0]++;
      cov_dqrf62h3d().s[35]++;
      console.error('Error sincronizando usuario con Supabase:', error);
      /* istanbul ignore next */
      cov_dqrf62h3d().s[36]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_dqrf62h3d().b[3][1]++;
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[37]++;
    console.error('Error en sincronizaciÃ³n de usuario:', error);
    /* istanbul ignore next */
    cov_dqrf62h3d().s[38]++;
    throw error;
  }
}
async function getUserFromSupabase(userId) {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[14]++;
  cov_dqrf62h3d().s[39]++;
  if (!_supabase.supabaseAdmin) {
    /* istanbul ignore next */
    cov_dqrf62h3d().b[4][0]++;
    cov_dqrf62h3d().s[40]++;
    throw new Error('Cliente administrativo de Supabase no disponible');
  } else
  /* istanbul ignore next */
  {
    cov_dqrf62h3d().b[4][1]++;
  }
  cov_dqrf62h3d().s[41]++;
  try {
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[42]++, await _supabase.supabaseAdmin.from('users').select('*').eq('id', userId).single());
    /* istanbul ignore next */
    cov_dqrf62h3d().s[43]++;
    if (
    /* istanbul ignore next */
    (cov_dqrf62h3d().b[6][0]++, error) &&
    /* istanbul ignore next */
    (cov_dqrf62h3d().b[6][1]++, error.code !== 'PGRST116')) {
      /* istanbul ignore next */
      cov_dqrf62h3d().b[5][0]++;
      cov_dqrf62h3d().s[44]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_dqrf62h3d().b[5][1]++;
    }
    cov_dqrf62h3d().s[45]++;
    return data;
  } catch (error) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[46]++;
    console.error('Error obteniendo usuario de Supabase:', error);
    /* istanbul ignore next */
    cov_dqrf62h3d().s[47]++;
    return null;
  }
}
async function deleteUserFromSupabase(userId) {
  /* istanbul ignore next */
  cov_dqrf62h3d().f[15]++;
  cov_dqrf62h3d().s[48]++;
  if (!_supabase.supabaseAdmin) {
    /* istanbul ignore next */
    cov_dqrf62h3d().b[7][0]++;
    cov_dqrf62h3d().s[49]++;
    throw new Error('Cliente administrativo de Supabase no disponible');
  } else
  /* istanbul ignore next */
  {
    cov_dqrf62h3d().b[7][1]++;
  }
  cov_dqrf62h3d().s[50]++;
  try {
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_dqrf62h3d().s[51]++, await _supabase.supabaseAdmin.from('users').delete().eq('id', userId));
    /* istanbul ignore next */
    cov_dqrf62h3d().s[52]++;
    if (error) {
      /* istanbul ignore next */
      cov_dqrf62h3d().b[8][0]++;
      cov_dqrf62h3d().s[53]++;
      console.error('Error eliminando usuario de Supabase:', error);
      /* istanbul ignore next */
      cov_dqrf62h3d().s[54]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_dqrf62h3d().b[8][1]++;
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_dqrf62h3d().s[55]++;
    console.error('Error en eliminaciÃ³n de usuario:', error);
    /* istanbul ignore next */
    cov_dqrf62h3d().s[56]++;
    throw error;
  }
}
const publicRoutes =
/* istanbul ignore next */
(cov_dqrf62h3d().s[57]++, ['/', '/shop', '/shop/(.*)', '/products/(.*)', '/signin', '/signup', '/api/products', '/api/products/(.*)', '/api/categories', '/api/auth/webhook']);
const protectedRoutes =
/* istanbul ignore next */
(cov_dqrf62h3d().s[58]++, ['/checkout',
// ELIMINADO: '/my-account' y '/my-account/(.*)' - Ruta completamente removida del sistema
'/orders', '/orders/(.*)', '/wishlist']);
const protectedApiRoutes =
/* istanbul ignore next */
(cov_dqrf62h3d().s[59]++, ['/api/orders', '/api/orders/(.*)', '/api/user/(.*)', '/api/payments/(.*)']);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZHFyZjYyaDNkIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiZGVsZXRlVXNlckZyb21TdXBhYmFzZSIsImYiLCJnZXRBdXRoVXNlciIsImdldEF1dGhVc2VySWQiLCJnZXRVc2VyRnJvbVN1cGFiYXNlIiwiaXNVc2VyQXV0aGVudGljYXRlZCIsInByb3RlY3RlZEFwaVJvdXRlcyIsInByb3RlY3RlZFJvdXRlcyIsInB1YmxpY1JvdXRlcyIsInN5bmNVc2VyV2l0aFN1cGFiYXNlIiwic2Vzc2lvbiIsIl9jb25maWciLCJhdXRoIiwiYiIsInVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJpZCIsIl9zdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJFcnJvciIsInVzZXJEYXRhIiwiZW1haWwiLCJuYW1lIiwiaW1hZ2UiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZnJvbSIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJpZ25vcmVEdXBsaWNhdGVzIiwidXNlcklkIiwiZGF0YSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29kZSIsImRlbGV0ZSJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxjbGVyay50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBDT05GSUdVUkFDScOTTiBORVhUQVVUSC5KU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyDwn5qoIE1JR1JBRE8gREUgQ0xFUksgQSBORVhUQVVUSC5KUyAtIDIxLzA4LzIwMjVcclxuXHJcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAL2xpYi9hdXRoL2NvbmZpZyc7XHJcbmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICcuL3N1cGFiYXNlJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZVTkNJT05FUyBERSBBVVRFTlRJQ0FDScOTTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZWwgdXN1YXJpbyBhdXRlbnRpY2FkbyBhY3R1YWxcclxuICogQHJldHVybnMgUHJvbWlzZTxhbnkgfCBudWxsPlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGhVc2VyKCk6IFByb21pc2U8YW55IHwgbnVsbD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xyXG4gICAgcmV0dXJuIHNlc3Npb24/LnVzZXIgfHwgbnVsbDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igb2J0ZW5pZW5kbyB1c3VhcmlvIGF1dGVudGljYWRvOicsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZWwgSUQgZGVsIHVzdWFyaW8gYXV0ZW50aWNhZG9cclxuICogQHJldHVybnMgc3RyaW5nIHwgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGhVc2VySWQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICByZXR1cm4gc2Vzc2lvbj8udXNlcj8uaWQgfHwgbnVsbDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igb2J0ZW5pZW5kbyBJRCBkZSB1c3VhcmlvOicsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFZlcmlmaWNhIHNpIGVsIHVzdWFyaW8gZXN0w6EgYXV0ZW50aWNhZG9cclxuICogQHJldHVybnMgYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzVXNlckF1dGhlbnRpY2F0ZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKCk7XHJcbiAgICByZXR1cm4gISFzZXNzaW9uPy51c2VyO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU0lOQ1JPTklaQUNJw5NOIENPTiBTVVBBQkFTRVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyDwn5qoIEZVTkNJT05FUyBURU1QT1JBTE1FTlRFIERFU0hBQklMSVRBREFTIC0gTWlncmFjacOzbiBhIE5leHRBdXRoLmpzXHJcblxyXG5pbnRlcmZhY2UgTmV4dEF1dGhVc2VyIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XHJcbiAgaW1hZ2U/OiBzdHJpbmcgfCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogU2luY3Jvbml6YSB1biB1c3VhcmlvIGRlIE5leHRBdXRoLmpzIGNvbiBTdXBhYmFzZVxyXG4gKiBAcGFyYW0gdXNlciAtIFVzdWFyaW8gZGUgTmV4dEF1dGguanNcclxuICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bmNVc2VyV2l0aFN1cGFiYXNlKHVzZXI6IE5leHRBdXRoVXNlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmICghc3VwYWJhc2VBZG1pbikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDbGllbnRlIGFkbWluaXN0cmF0aXZvIGRlIFN1cGFiYXNlIG5vIGRpc3BvbmlibGUnKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgaWQ6IHVzZXIuaWQsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxyXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEludGVudGFyIGluc2VydGFyIG8gYWN0dWFsaXphciBlbCB1c3VhcmlvXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC51cHNlcnQodXNlckRhdGEsIHtcclxuICAgICAgICBvbkNvbmZsaWN0OiAnaWQnLFxyXG4gICAgICAgIGlnbm9yZUR1cGxpY2F0ZXM6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2luY3Jvbml6YW5kbyB1c3VhcmlvIGNvbiBTdXBhYmFzZTonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gc2luY3Jvbml6YWNpw7NuIGRlIHVzdWFyaW86JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsb3MgZGF0b3MgZGVsIHVzdWFyaW8gZGVzZGUgU3VwYWJhc2UgdXNhbmRvIGVsIElEIGRlIE5leHRBdXRoXHJcbiAqIEBwYXJhbSB1c2VySWQgLSBJRCBkZWwgdXN1YXJpbyBlbiBOZXh0QXV0aFxyXG4gKiBAcmV0dXJucyBQcm9taXNlPGFueT5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRnJvbVN1cGFiYXNlKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgaWYgKCFzdXBhYmFzZUFkbWluKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsaWVudGUgYWRtaW5pc3RyYXRpdm8gZGUgU3VwYWJhc2Ugbm8gZGlzcG9uaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igb2J0ZW5pZW5kbyB1c3VhcmlvIGRlIFN1cGFiYXNlOicsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEVsaW1pbmEgdW4gdXN1YXJpbyBkZSBTdXBhYmFzZSB1c2FuZG8gZWwgSUQgZGUgTmV4dEF1dGhcclxuICogQHBhcmFtIHVzZXJJZCAtIElEIGRlbCB1c3VhcmlvIGVuIE5leHRBdXRoXHJcbiAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyRnJvbVN1cGFiYXNlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgaWYgKCFzdXBhYmFzZUFkbWluKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsaWVudGUgYWRtaW5pc3RyYXRpdm8gZGUgU3VwYWJhc2Ugbm8gZGlzcG9uaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbGltaW5hbmRvIHVzdWFyaW8gZGUgU3VwYWJhc2U6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGVsaW1pbmFjacOzbiBkZSB1c3VhcmlvOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTUlERExFV0FSRSBIRUxQRVJTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUnV0YXMgcMO6YmxpY2FzIHF1ZSBubyByZXF1aWVyZW4gYXV0ZW50aWNhY2nDs25cclxuICovXHJcbmV4cG9ydCBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbXHJcbiAgJy8nLFxyXG4gICcvc2hvcCcsXHJcbiAgJy9zaG9wLyguKiknLFxyXG4gICcvcHJvZHVjdHMvKC4qKScsXHJcbiAgJy9zaWduaW4nLFxyXG4gICcvc2lnbnVwJyxcclxuICAnL2FwaS9wcm9kdWN0cycsXHJcbiAgJy9hcGkvcHJvZHVjdHMvKC4qKScsXHJcbiAgJy9hcGkvY2F0ZWdvcmllcycsXHJcbiAgJy9hcGkvYXV0aC93ZWJob29rJyxcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBSdXRhcyBxdWUgcmVxdWllcmVuIGF1dGVudGljYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcHJvdGVjdGVkUm91dGVzID0gW1xyXG4gICcvY2hlY2tvdXQnLFxyXG4gIC8vIEVMSU1JTkFETzogJy9teS1hY2NvdW50JyB5ICcvbXktYWNjb3VudC8oLiopJyAtIFJ1dGEgY29tcGxldGFtZW50ZSByZW1vdmlkYSBkZWwgc2lzdGVtYVxyXG4gICcvb3JkZXJzJyxcclxuICAnL29yZGVycy8oLiopJyxcclxuICAnL3dpc2hsaXN0JyxcclxuXTtcclxuXHJcbi8qKlxyXG4gKiBSdXRhcyBkZSBBUEkgcXVlIHJlcXVpZXJlbiBhdXRlbnRpY2FjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHByb3RlY3RlZEFwaVJvdXRlcyA9IFtcclxuICAnL2FwaS9vcmRlcnMnLFxyXG4gICcvYXBpL29yZGVycy8oLiopJyxcclxuICAnL2FwaS91c2VyLyguKiknLFxyXG4gICcvYXBpL3BheW1lbnRzLyguKiknLFxyXG5dO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVElQT1NcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGludGVyZmFjZSBBdXRoZW50aWNhdGVkVXNlciB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgaW1hZ2U/OiBzdHJpbmc7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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