494abe84c92f29fee7871a18f7616d13
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "AdminDataTable", {
    enumerable: true,
    get: function() {
        return AdminDataTable;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _utils = require("../../../lib/core/utils");
const _lucidereact = require("lucide-react");
function AdminDataTable({ data, columns, loading = false, error, pagination, filters, searchable = true, exportable = false, selectable = false, onRowClick, onSelectionChange, actions, className }) {
    const [searchTerm, setSearchTerm] = (0, _react.useState)('');
    const [selectedRows, setSelectedRows] = (0, _react.useState)([]);
    const [sortConfig, setSortConfig] = (0, _react.useState)(null);
    // Asegurar que data siempre sea un array
    console.log('🔍 AdminDataTable: data recibida:', {
        data,
        type: typeof data,
        isArray: Array.isArray(data)
    });
    const safeData = Array.isArray(data) ? data : [];
    // Filter and search data
    const filteredData = safeData.filter((row)=>{
        if (!searchTerm) {
            return true;
        }
        return Object.values(row).some((value)=>String(value).toLowerCase().includes(searchTerm.toLowerCase()));
    });
    // Sort data
    const sortedData = sortConfig ? [
        ...filteredData
    ].sort((a, b)=>{
        const aValue = a[sortConfig.key];
        const bValue = b[sortConfig.key];
        if (aValue < bValue) {
            return sortConfig.direction === 'asc' ? -1 : 1;
        }
        if (aValue > bValue) {
            return sortConfig.direction === 'asc' ? 1 : -1;
        }
        return 0;
    }) : filteredData;
    const handleSort = (key)=>{
        setSortConfig((current)=>{
            if (current?.key === key) {
                return {
                    key,
                    direction: current.direction === 'asc' ? 'desc' : 'asc'
                };
            }
            return {
                key,
                direction: 'asc'
            };
        });
    };
    const handleRowSelection = (row, checked)=>{
        const newSelection = checked ? [
            ...selectedRows,
            row
        ] : selectedRows.filter((r)=>r !== row);
        setSelectedRows(newSelection);
        onSelectionChange?.(newSelection);
    };
    const handleSelectAll = (checked)=>{
        const newSelection = checked ? [
            ...sortedData
        ] : [];
        setSelectedRows(newSelection);
        onSelectionChange?.(newSelection);
    };
    if (error) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "bg-red-50 border border-red-200 rounded-lg p-4",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                className: "text-red-800",
                children: [
                    "Error: ",
                    error instanceof Error ? error.message : error?.toString() || 'Error desconocido'
                ]
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: (0, _utils.cn)("bg-white rounded-lg border border-gray-200", className),
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-4 border-b border-gray-200",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-4",
                            children: [
                                searchable && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Search, {
                                            className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "text",
                                            placeholder: "Buscar...",
                                            value: searchTerm,
                                            onChange: (e)=>setSearchTerm(e.target.value),
                                            className: "pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent"
                                        })
                                    ]
                                }),
                                filters && filters.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    className: "flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Filter, {
                                            className: "w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "Filtros"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-2",
                            children: [
                                exportable && /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    className: "flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Download, {
                                            className: "w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "Exportar"
                                        })
                                    ]
                                }),
                                actions
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "overflow-x-auto",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("table", {
                    className: "w-full",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("thead", {
                            className: "bg-gray-50",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                children: [
                                    selectable && /*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                        className: "w-12 px-4 py-3 text-left",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: selectedRows.length === sortedData.length && sortedData.length > 0,
                                            onChange: (e)=>handleSelectAll(e.target.checked),
                                            className: "rounded border-gray-300 text-blaze-orange-600 focus:ring-blaze-orange-500"
                                        })
                                    }),
                                    columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                            className: (0, _utils.cn)("px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", column.align === 'center' && "text-center", column.align === 'right' && "text-right", column.sortable && "cursor-pointer hover:bg-gray-100"),
                                            style: {
                                                width: column.width
                                            },
                                            onClick: ()=>column.sortable && handleSort(String(column.key)),
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center space-x-1",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: column.title
                                                    }),
                                                    column.sortable && sortConfig?.key === column.key && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        className: "text-blaze-orange-600",
                                                        children: sortConfig.direction === 'asc' ? '↑' : '↓'
                                                    })
                                                ]
                                            })
                                        }, String(column.key)))
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("tbody", {
                            className: "bg-white divide-y divide-gray-200",
                            children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsx)("tr", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                    colSpan: columns.length + (selectable ? 1 : 0),
                                    className: "px-4 py-8 text-center",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center justify-center",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "animate-spin rounded-full h-6 w-6 border-b-2 border-blaze-orange-600"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "ml-2 text-gray-600",
                                                children: "Cargando..."
                                            })
                                        ]
                                    })
                                })
                            }) : sortedData.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("tr", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                    colSpan: columns.length + (selectable ? 1 : 0),
                                    className: "px-4 py-8 text-center text-gray-500",
                                    children: "No se encontraron datos"
                                })
                            }) : sortedData.map((row, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                    className: (0, _utils.cn)("hover:bg-gray-50 transition-colors", onRowClick && "cursor-pointer", selectedRows.includes(row) && "bg-blaze-orange-50"),
                                    onClick: ()=>onRowClick?.(row),
                                    children: [
                                        selectable && /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                            className: "px-4 py-4",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                type: "checkbox",
                                                checked: selectedRows.includes(row),
                                                onChange: (e)=>{
                                                    e.stopPropagation();
                                                    handleRowSelection(row, e.target.checked);
                                                },
                                                className: "rounded border-gray-300 text-blaze-orange-600 focus:ring-blaze-orange-500"
                                            })
                                        }),
                                        columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                                className: (0, _utils.cn)("px-4 py-4 whitespace-nowrap text-sm text-gray-900", column.align === 'center' && "text-center", column.align === 'right' && "text-right"),
                                                children: column.render ? column.render(row[column.key], row) : String(row[column.key] || '')
                                            }, String(column.key)))
                                    ]
                                }, index))
                        })
                    ]
                })
            }),
            pagination && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "px-4 py-3 border-t border-gray-200 flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2 text-sm text-gray-700",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                children: "Mostrando"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                value: pagination.pageSize,
                                onChange: (e)=>pagination.onPageSizeChange(Number(e.target.value)),
                                className: "border border-gray-300 rounded px-2 py-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 10,
                                        children: "10"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 25,
                                        children: "25"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 50,
                                        children: "50"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 100,
                                        children: "100"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                children: [
                                    "de ",
                                    pagination.total,
                                    " resultados"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(1),
                                disabled: pagination.page === 1,
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronsLeft, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(pagination.page - 1),
                                disabled: pagination.page === 1,
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronLeft, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "px-3 py-1 text-sm",
                                children: [
                                    "P\xe1gina ",
                                    pagination.page,
                                    " de ",
                                    Math.ceil(pagination.total / pagination.pageSize)
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(pagination.page + 1),
                                disabled: pagination.page >= Math.ceil(pagination.total / pagination.pageSize),
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronRight, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(Math.ceil(pagination.total / pagination.pageSize)),
                                disabled: pagination.page >= Math.ceil(pagination.total / pagination.pageSize),
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronsRight, {
                                    className: "w-4 h-4"
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXHVpXFxBZG1pbkRhdGFUYWJsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvY29yZS91dGlscyc7XHJcbmltcG9ydCB7IFxyXG4gIENoZXZyb25MZWZ0LCBcclxuICBDaGV2cm9uUmlnaHQsIFxyXG4gIENoZXZyb25zTGVmdCwgXHJcbiAgQ2hldnJvbnNSaWdodCxcclxuICBTZWFyY2gsXHJcbiAgRmlsdGVyLFxyXG4gIERvd25sb2FkLFxyXG4gIE1vcmVIb3Jpem9udGFsXHJcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcclxuXHJcbmludGVyZmFjZSBDb2x1bW48VD4ge1xyXG4gIGtleToga2V5b2YgVCB8IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIHJlbmRlcj86ICh2YWx1ZTogYW55LCByb3c6IFQpID0+IFJlYWN0LlJlYWN0Tm9kZTtcclxuICBzb3J0YWJsZT86IGJvb2xlYW47XHJcbiAgd2lkdGg/OiBzdHJpbmc7XHJcbiAgYWxpZ24/OiAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGaWx0ZXJDb25maWcge1xyXG4gIGtleTogc3RyaW5nO1xyXG4gIGxhYmVsOiBzdHJpbmc7XHJcbiAgdHlwZTogJ3RleHQnIHwgJ3NlbGVjdCcgfCAnZGF0ZSc7XHJcbiAgb3B0aW9ucz86IHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9W107XHJcbn1cclxuXHJcbmludGVyZmFjZSBQYWdpbmF0aW9uQ29uZmlnIHtcclxuICBwYWdlOiBudW1iZXI7XHJcbiAgcGFnZVNpemU6IG51bWJlcjtcclxuICB0b3RhbDogbnVtYmVyO1xyXG4gIG9uUGFnZUNoYW5nZTogKHBhZ2U6IG51bWJlcikgPT4gdm9pZDtcclxuICBvblBhZ2VTaXplQ2hhbmdlOiAocGFnZVNpemU6IG51bWJlcikgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFkbWluRGF0YVRhYmxlUHJvcHM8VD4ge1xyXG4gIGRhdGE6IFRbXTtcclxuICBjb2x1bW5zOiBDb2x1bW48VD5bXTtcclxuICBsb2FkaW5nPzogYm9vbGVhbjtcclxuICBlcnJvcj86IHN0cmluZztcclxuICBwYWdpbmF0aW9uPzogUGFnaW5hdGlvbkNvbmZpZztcclxuICBmaWx0ZXJzPzogRmlsdGVyQ29uZmlnW107XHJcbiAgc2VhcmNoYWJsZT86IGJvb2xlYW47XHJcbiAgZXhwb3J0YWJsZT86IGJvb2xlYW47XHJcbiAgc2VsZWN0YWJsZT86IGJvb2xlYW47XHJcbiAgb25Sb3dDbGljaz86IChyb3c6IFQpID0+IHZvaWQ7XHJcbiAgb25TZWxlY3Rpb25DaGFuZ2U/OiAoc2VsZWN0ZWRSb3dzOiBUW10pID0+IHZvaWQ7XHJcbiAgYWN0aW9ucz86IFJlYWN0LlJlYWN0Tm9kZTtcclxuICBjbGFzc05hbWU/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBZG1pbkRhdGFUYWJsZTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oe1xyXG4gIGRhdGEsXHJcbiAgY29sdW1ucyxcclxuICBsb2FkaW5nID0gZmFsc2UsXHJcbiAgZXJyb3IsXHJcbiAgcGFnaW5hdGlvbixcclxuICBmaWx0ZXJzLFxyXG4gIHNlYXJjaGFibGUgPSB0cnVlLFxyXG4gIGV4cG9ydGFibGUgPSBmYWxzZSxcclxuICBzZWxlY3RhYmxlID0gZmFsc2UsXHJcbiAgb25Sb3dDbGljayxcclxuICBvblNlbGVjdGlvbkNoYW5nZSxcclxuICBhY3Rpb25zLFxyXG4gIGNsYXNzTmFtZVxyXG59OiBBZG1pbkRhdGFUYWJsZVByb3BzPFQ+KSB7XHJcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZFJvd3MsIHNldFNlbGVjdGVkUm93c10gPSB1c2VTdGF0ZTxUW10+KFtdKTtcclxuICBjb25zdCBbc29ydENvbmZpZywgc2V0U29ydENvbmZpZ10gPSB1c2VTdGF0ZTx7XHJcbiAgICBrZXk6IHN0cmluZztcclxuICAgIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYyc7XHJcbiAgfSB8IG51bGw+KG51bGwpO1xyXG5cclxuICAvLyBBc2VndXJhciBxdWUgZGF0YSBzaWVtcHJlIHNlYSB1biBhcnJheVxyXG4gIGNvbnNvbGUubG9nKCfwn5SNIEFkbWluRGF0YVRhYmxlOiBkYXRhIHJlY2liaWRhOicsIHsgZGF0YSwgdHlwZTogdHlwZW9mIGRhdGEsIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkoZGF0YSkgfSk7XHJcbiAgY29uc3Qgc2FmZURhdGEgPSBBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YSA6IFtdO1xyXG5cclxuICAvLyBGaWx0ZXIgYW5kIHNlYXJjaCBkYXRhXHJcbiAgY29uc3QgZmlsdGVyZWREYXRhID0gc2FmZURhdGEuZmlsdGVyKHJvdyA9PiB7XHJcbiAgICBpZiAoIXNlYXJjaFRlcm0pIHtyZXR1cm4gdHJ1ZTt9XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyb3cpLnNvbWUodmFsdWUgPT4gXHJcbiAgICAgIFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICAvLyBTb3J0IGRhdGFcclxuICBjb25zdCBzb3J0ZWREYXRhID0gc29ydENvbmZpZ1xyXG4gICAgPyBbLi4uZmlsdGVyZWREYXRhXS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYVZhbHVlID0gYVtzb3J0Q29uZmlnLmtleV07XHJcbiAgICAgICAgY29uc3QgYlZhbHVlID0gYltzb3J0Q29uZmlnLmtleV07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFWYWx1ZSA8IGJWYWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHNvcnRDb25maWcuZGlyZWN0aW9uID09PSAnYXNjJyA/IC0xIDogMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFWYWx1ZSA+IGJWYWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHNvcnRDb25maWcuZGlyZWN0aW9uID09PSAnYXNjJyA/IDEgOiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH0pXHJcbiAgICA6IGZpbHRlcmVkRGF0YTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU29ydCA9IChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0U29ydENvbmZpZyhjdXJyZW50ID0+IHtcclxuICAgICAgaWYgKGN1cnJlbnQ/LmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGtleSxcclxuICAgICAgICAgIGRpcmVjdGlvbjogY3VycmVudC5kaXJlY3Rpb24gPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYydcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IGtleSwgZGlyZWN0aW9uOiAnYXNjJyB9O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUm93U2VsZWN0aW9uID0gKHJvdzogVCwgY2hlY2tlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgY29uc3QgbmV3U2VsZWN0aW9uID0gY2hlY2tlZFxyXG4gICAgICA/IFsuLi5zZWxlY3RlZFJvd3MsIHJvd11cclxuICAgICAgOiBzZWxlY3RlZFJvd3MuZmlsdGVyKHIgPT4gciAhPT0gcm93KTtcclxuICAgIFxyXG4gICAgc2V0U2VsZWN0ZWRSb3dzKG5ld1NlbGVjdGlvbik7XHJcbiAgICBvblNlbGVjdGlvbkNoYW5nZT8uKG5ld1NlbGVjdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VsZWN0QWxsID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcclxuICAgIGNvbnN0IG5ld1NlbGVjdGlvbiA9IGNoZWNrZWQgPyBbLi4uc29ydGVkRGF0YV0gOiBbXTtcclxuICAgIHNldFNlbGVjdGVkUm93cyhuZXdTZWxlY3Rpb24pO1xyXG4gICAgb25TZWxlY3Rpb25DaGFuZ2U/LihuZXdTZWxlY3Rpb24pO1xyXG4gIH07XHJcblxyXG4gIGlmIChlcnJvcikge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgcC00XCI+XHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtODAwXCI+XHJcbiAgICAgICAgICBFcnJvcjoge2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3I/LnRvU3RyaW5nKCkgfHwgJ0Vycm9yIGRlc2Nvbm9jaWRvJ31cclxuICAgICAgICA8L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y24oXCJiZy13aGl0ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDBcIiwgY2xhc3NOYW1lKX0+XHJcbiAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxyXG4gICAgICAgICAgICB7LyogU2VhcmNoICovfVxyXG4gICAgICAgICAgICB7c2VhcmNoYWJsZSAmJiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIHctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIuLi5cIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtMTAgcHItNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmxhemUtb3JhbmdlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBGaWx0ZXJzICovfVxyXG4gICAgICAgICAgICB7ZmlsdGVycyAmJiBmaWx0ZXJzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS01MFwiPlxyXG4gICAgICAgICAgICAgICAgPEZpbHRlciBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuPkZpbHRyb3M8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgICB7LyogRXhwb3J0ICovfVxyXG4gICAgICAgICAgICB7ZXhwb3J0YWJsZSAmJiAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwXCI+XHJcbiAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5FeHBvcnRhcjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBBY3Rpb25zICovfVxyXG4gICAgICAgICAgICB7YWN0aW9uc31cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBUYWJsZSAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cclxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsXCI+XHJcbiAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS01MFwiPlxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAge3NlbGVjdGFibGUgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMTIgcHgtNCBweS0zIHRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkUm93cy5sZW5ndGggPT09IHNvcnRlZERhdGEubGVuZ3RoICYmIHNvcnRlZERhdGEubGVuZ3RoID4gMH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVNlbGVjdEFsbChlLnRhcmdldC5jaGVja2VkKX1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlci1ncmF5LTMwMCB0ZXh0LWJsYXplLW9yYW5nZS02MDAgZm9jdXM6cmluZy1ibGF6ZS1vcmFuZ2UtNTAwXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxyXG4gICAgICAgICAgICAgICAgPHRoXHJcbiAgICAgICAgICAgICAgICAgIGtleT17U3RyaW5nKGNvbHVtbi5rZXkpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgICAgICAgIFwicHgtNCBweS0zIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09ICdjZW50ZXInICYmIFwidGV4dC1jZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09ICdyaWdodCcgJiYgXCJ0ZXh0LXJpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNvcnRhYmxlICYmIFwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDBcIlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sdW1uLndpZHRoIH19XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNvbHVtbi5zb3J0YWJsZSAmJiBoYW5kbGVTb3J0KFN0cmluZyhjb2x1bW4ua2V5KSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2NvbHVtbi50aXRsZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5zb3J0YWJsZSAmJiBzb3J0Q29uZmlnPy5rZXkgPT09IGNvbHVtbi5rZXkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibGF6ZS1vcmFuZ2UtNjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gJ2FzYycgPyAn4oaRJyA6ICfihpMnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXtjb2x1bW5zLmxlbmd0aCArIChzZWxlY3RhYmxlID8gMSA6IDApfSBjbGFzc05hbWU9XCJweC00IHB5LTggdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTYgdy02IGJvcmRlci1iLTIgYm9yZGVyLWJsYXplLW9yYW5nZS02MDBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtZ3JheS02MDBcIj5DYXJnYW5kby4uLjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICkgOiBzb3J0ZWREYXRhLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj17Y29sdW1ucy5sZW5ndGggKyAoc2VsZWN0YWJsZSA/IDEgOiAwKX0gY2xhc3NOYW1lPVwicHgtNCBweS04IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cclxuICAgICAgICAgICAgICAgICAgTm8gc2UgZW5jb250cmFyb24gZGF0b3NcclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICBzb3J0ZWREYXRhLm1hcCgocm93LCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPHRyXHJcbiAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgXCJob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Sb3dDbGljayAmJiBcImN1cnNvci1wb2ludGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dzLmluY2x1ZGVzKHJvdykgJiYgXCJiZy1ibGF6ZS1vcmFuZ2UtNTBcIlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJvd0NsaWNrPy4ocm93KX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge3NlbGVjdGFibGUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZFJvd3MuaW5jbHVkZXMocm93KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSb3dTZWxlY3Rpb24ocm93LCBlLnRhcmdldC5jaGVja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXItZ3JheS0zMDAgdGV4dC1ibGF6ZS1vcmFuZ2UtNjAwIGZvY3VzOnJpbmctYmxhemUtb3JhbmdlLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIHtjb2x1bW5zLm1hcCgoY29sdW1uKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHRkXHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e1N0cmluZyhjb2x1bW4ua2V5KX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHgtNCBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gdGV4dC1ncmF5LTkwMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09ICdjZW50ZXInICYmIFwidGV4dC1jZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmFsaWduID09PSAncmlnaHQnICYmIFwidGV4dC1yaWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4ucmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29sdW1uLnJlbmRlcihyb3dbY29sdW1uLmtleSBhcyBrZXlvZiBUXSwgcm93KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhyb3dbY29sdW1uLmtleSBhcyBrZXlvZiBUXSB8fCAnJylcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogUGFnaW5hdGlvbiAqL31cclxuICAgICAge3BhZ2luYXRpb24gJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtc20gdGV4dC1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICA8c3Bhbj5Nb3N0cmFuZG88L3NwYW4+XHJcbiAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICB2YWx1ZT17cGFnaW5hdGlvbi5wYWdlU2l6ZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHBhZ2luYXRpb24ub25QYWdlU2l6ZUNoYW5nZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgcHgtMiBweS0xXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezEwfT4xMDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezI1fT4yNTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezUwfT41MDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezEwMH0+MTAwPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8c3Bhbj5kZSB7cGFnaW5hdGlvbi50b3RhbH0gcmVzdWx0YWRvczwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwYWdpbmF0aW9uLm9uUGFnZUNoYW5nZSgxKX1cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17cGFnaW5hdGlvbi5wYWdlID09PSAxfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktMTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDaGV2cm9uc0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vblBhZ2VDaGFuZ2UocGFnaW5hdGlvbi5wYWdlIC0gMSl9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3BhZ2luYXRpb24ucGFnZSA9PT0gMX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTEwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICBQw6FnaW5hIHtwYWdpbmF0aW9uLnBhZ2V9IGRlIHtNYXRoLmNlaWwocGFnaW5hdGlvbi50b3RhbCAvIHBhZ2luYXRpb24ucGFnZVNpemUpfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vblBhZ2VDaGFuZ2UocGFnaW5hdGlvbi5wYWdlICsgMSl9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3BhZ2luYXRpb24ucGFnZSA+PSBNYXRoLmNlaWwocGFnaW5hdGlvbi50b3RhbCAvIHBhZ2luYXRpb24ucGFnZVNpemUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktMTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vblBhZ2VDaGFuZ2UoTWF0aC5jZWlsKHBhZ2luYXRpb24udG90YWwgLyBwYWdpbmF0aW9uLnBhZ2VTaXplKSl9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3BhZ2luYXRpb24ucGFnZSA+PSBNYXRoLmNlaWwocGFnaW5hdGlvbi50b3RhbCAvIHBhZ2luYXRpb24ucGFnZVNpemUpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktMTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxDaGV2cm9uc1JpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiQWRtaW5EYXRhVGFibGUiLCJkYXRhIiwiY29sdW1ucyIsImxvYWRpbmciLCJlcnJvciIsInBhZ2luYXRpb24iLCJmaWx0ZXJzIiwic2VhcmNoYWJsZSIsImV4cG9ydGFibGUiLCJzZWxlY3RhYmxlIiwib25Sb3dDbGljayIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiYWN0aW9ucyIsImNsYXNzTmFtZSIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwidXNlU3RhdGUiLCJzZWxlY3RlZFJvd3MiLCJzZXRTZWxlY3RlZFJvd3MiLCJzb3J0Q29uZmlnIiwic2V0U29ydENvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiaXNBcnJheSIsIkFycmF5Iiwic2FmZURhdGEiLCJmaWx0ZXJlZERhdGEiLCJmaWx0ZXIiLCJyb3ciLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb21lIiwidmFsdWUiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwic29ydGVkRGF0YSIsInNvcnQiLCJhIiwiYiIsImFWYWx1ZSIsImtleSIsImJWYWx1ZSIsImRpcmVjdGlvbiIsImhhbmRsZVNvcnQiLCJjdXJyZW50IiwiaGFuZGxlUm93U2VsZWN0aW9uIiwiY2hlY2tlZCIsIm5ld1NlbGVjdGlvbiIsInIiLCJoYW5kbGVTZWxlY3RBbGwiLCJkaXYiLCJwIiwiRXJyb3IiLCJtZXNzYWdlIiwidG9TdHJpbmciLCJjbiIsIlNlYXJjaCIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJsZW5ndGgiLCJidXR0b24iLCJGaWx0ZXIiLCJzcGFuIiwiRG93bmxvYWQiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0aCIsIm1hcCIsImNvbHVtbiIsImFsaWduIiwic29ydGFibGUiLCJzdHlsZSIsIndpZHRoIiwib25DbGljayIsInRpdGxlIiwidGJvZHkiLCJ0ZCIsImNvbFNwYW4iLCJpbmRleCIsInN0b3BQcm9wYWdhdGlvbiIsInJlbmRlciIsInNlbGVjdCIsInBhZ2VTaXplIiwib25QYWdlU2l6ZUNoYW5nZSIsIk51bWJlciIsIm9wdGlvbiIsInRvdGFsIiwib25QYWdlQ2hhbmdlIiwiZGlzYWJsZWQiLCJwYWdlIiwiQ2hldnJvbnNMZWZ0IiwiQ2hldnJvbkxlZnQiLCJNYXRoIiwiY2VpbCIsIkNoZXZyb25SaWdo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