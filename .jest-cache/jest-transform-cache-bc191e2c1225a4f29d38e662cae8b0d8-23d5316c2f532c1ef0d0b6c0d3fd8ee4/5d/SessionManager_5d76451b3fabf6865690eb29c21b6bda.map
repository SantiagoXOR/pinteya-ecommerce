{"version":3,"names":["SessionManager","cov_5eye3p4e","f","sessions","isLoading","error","totalSessions","currentSession","remoteSessions","revokeSession","revokeAllSessions","trustDevice","refreshSessions","s","_useUserSessions","useUserSessions","useSessionRegistration","actionLoading","setActionLoading","_react","useState","getDeviceIcon","deviceType","toLowerCase","b","_jsxruntime","jsx","_lucidereact","Smartphone","className","Tablet","Monitor","formatDate","dateString","date","Date","now","diffInHours","Math","floor","getTime","diffInDays","handleRevokeSession","sessionId","handleRevokeAllSessions","handleTrustDevice","length","jsxs","RefreshCw","AlertTriangle","Error","message","toString","_card","Card","CardContent","Shield","filter","is_trusted","Clock","last_activity","_button","Button","variant","size","onClick","disabled","X","CardHeader","CardTitle","CheckCircle","device_type","device_name","_badge","Badge","MapPin","ip_address","map","session","id"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\User\\Sessions\\SessionManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { \r\n  Monitor, \r\n  Smartphone, \r\n  Tablet, \r\n  MapPin, \r\n  Clock, \r\n  Shield, \r\n  X, \r\n  RefreshCw,\r\n  AlertTriangle,\r\n  CheckCircle\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { useUserSessions, useSessionRegistration } from '@/hooks/useUserSessions';\r\nimport { toast } from 'sonner';\r\n\r\nexport function SessionManager() {\r\n  const {\r\n    sessions,\r\n    isLoading,\r\n    error,\r\n    totalSessions,\r\n    currentSession,\r\n    remoteSessions,\r\n    revokeSession,\r\n    revokeAllSessions,\r\n    trustDevice,\r\n    refreshSessions,\r\n  } = useUserSessions();\r\n\r\n  // Registrar sesión actual\r\n  useSessionRegistration();\r\n\r\n  const [actionLoading, setActionLoading] = useState<string | null>(null);\r\n\r\n  // Función para obtener icono del dispositivo\r\n  const getDeviceIcon = (deviceType: string) => {\r\n    switch (deviceType.toLowerCase()) {\r\n      case 'mobile':\r\n        return <Smartphone className=\"h-5 w-5\" />;\r\n      case 'tablet':\r\n        return <Tablet className=\"h-5 w-5\" />;\r\n      default:\r\n        return <Monitor className=\"h-5 w-5\" />;\r\n    }\r\n  };\r\n\r\n  // Función para formatear fecha\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInHours = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60));\r\n\r\n    if (diffInHours < 1) {\r\n      return 'Hace unos minutos';\r\n    } else if (diffInHours < 24) {\r\n      return `Hace ${diffInHours} hora${diffInHours > 1 ? 's' : ''}`;\r\n    } else {\r\n      const diffInDays = Math.floor(diffInHours / 24);\r\n      return `Hace ${diffInDays} día${diffInDays > 1 ? 's' : ''}`;\r\n    }\r\n  };\r\n\r\n  // Función para cerrar sesión específica\r\n  const handleRevokeSession = async (sessionId: string) => {\r\n    setActionLoading(sessionId);\r\n    try {\r\n      await revokeSession(sessionId);\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // Función para cerrar todas las sesiones\r\n  const handleRevokeAllSessions = async () => {\r\n    setActionLoading('all');\r\n    try {\r\n      await revokeAllSessions();\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // Función para marcar dispositivo como confiable\r\n  const handleTrustDevice = async (sessionId: string) => {\r\n    setActionLoading(`trust-${sessionId}`);\r\n    try {\r\n      await trustDevice(sessionId);\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  if (isLoading && sessions.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div className=\"flex items-center justify-center h-32\">\r\n          <RefreshCw className=\"h-6 w-6 animate-spin text-gray-400\" />\r\n          <span className=\"ml-2 text-gray-600\">Cargando sesiones...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div className=\"flex items-center justify-center h-32\">\r\n          <AlertTriangle className=\"h-6 w-6 text-red-500 mr-2\" />\r\n          <span className=\"text-red-600\">\r\n            {error instanceof Error ? error.message : error?.toString() || 'Error desconocido'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Estadísticas */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center\">\r\n              <Monitor className=\"h-8 w-8 text-blue-500\" />\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Sesiones Activas</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{totalSessions}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center\">\r\n              <Shield className=\"h-8 w-8 text-green-500\" />\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Dispositivos Confiables</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {sessions.filter(s => s.is_trusted).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center\">\r\n              <Clock className=\"h-8 w-8 text-orange-500\" />\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Última Actividad</p>\r\n                <p className=\"text-sm font-bold text-gray-900\">\r\n                  {currentSession ? formatDate(currentSession.last_activity) : 'N/A'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Acciones */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Acciones de Seguridad</h3>\r\n          <div className=\"flex space-x-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={refreshSessions}\r\n              disabled={isLoading}\r\n            >\r\n              <RefreshCw className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\r\n              Actualizar\r\n            </Button>\r\n            {remoteSessions.length > 0 && (\r\n              <Button\r\n                variant=\"destructive\"\r\n                size=\"sm\"\r\n                onClick={handleRevokeAllSessions}\r\n                disabled={actionLoading === 'all'}\r\n              >\r\n                <X className=\"h-4 w-4 mr-2\" />\r\n                Cerrar Todas las Sesiones Remotas\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sesión Actual */}\r\n      {currentSession && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <CheckCircle className=\"h-5 w-5 text-green-500 mr-2\" />\r\n              Sesión Actual\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div className=\"flex items-center text-gray-600\">\r\n                  {getDeviceIcon(currentSession.device_type)}\r\n                  <span className=\"ml-2 font-medium\">{currentSession.device_name}</span>\r\n                </div>\r\n                <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\r\n                  Actual\r\n                </Badge>\r\n                {currentSession.is_trusted && (\r\n                  <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800\">\r\n                    <Shield className=\"h-3 w-3 mr-1\" />\r\n                    Confiable\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n              <div className=\"text-sm text-gray-500\">\r\n                <div className=\"flex items-center\">\r\n                  <MapPin className=\"h-4 w-4 mr-1\" />\r\n                  {currentSession.ip_address}\r\n                </div>\r\n                <div className=\"flex items-center mt-1\">\r\n                  <Clock className=\"h-4 w-4 mr-1\" />\r\n                  {formatDate(currentSession.last_activity)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Sesiones Remotas */}\r\n      {remoteSessions.length > 0 ? (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Otras Sesiones ({remoteSessions.length})</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              {remoteSessions.map((session) => (\r\n                <div\r\n                  key={session.id}\r\n                  className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\"\r\n                >\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"flex items-center text-gray-600\">\r\n                      {getDeviceIcon(session.device_type)}\r\n                      <span className=\"ml-2 font-medium\">{session.device_name}</span>\r\n                    </div>\r\n                    {session.is_trusted && (\r\n                      <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800\">\r\n                        <Shield className=\"h-3 w-3 mr-1\" />\r\n                        Confiable\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"text-sm text-gray-500 text-right\">\r\n                      <div className=\"flex items-center\">\r\n                        <MapPin className=\"h-4 w-4 mr-1\" />\r\n                        {session.ip_address}\r\n                      </div>\r\n                      <div className=\"flex items-center mt-1\">\r\n                        <Clock className=\"h-4 w-4 mr-1\" />\r\n                        {formatDate(session.last_activity)}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex space-x-2\">\r\n                      {!session.is_trusted && (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleTrustDevice(session.id)}\r\n                          disabled={actionLoading === `trust-${session.id}`}\r\n                        >\r\n                          <Shield className=\"h-4 w-4 mr-1\" />\r\n                          Confiar\r\n                        </Button>\r\n                      )}\r\n                      <Button\r\n                        variant=\"destructive\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleRevokeSession(session.id)}\r\n                        disabled={actionLoading === session.id}\r\n                      >\r\n                        <X className=\"h-4 w-4 mr-1\" />\r\n                        Cerrar\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <Card>\r\n          <CardContent className=\"p-6\">\r\n            <div className=\"text-center text-gray-500\">\r\n              <Monitor className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n              <p>No hay otras sesiones activas</p>\r\n              <p className=\"text-sm mt-1\">Solo tienes una sesión activa en este dispositivo</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}