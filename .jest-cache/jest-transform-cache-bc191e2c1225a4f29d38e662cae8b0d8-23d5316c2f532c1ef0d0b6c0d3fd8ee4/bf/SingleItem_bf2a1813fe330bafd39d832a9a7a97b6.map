{"version":3,"names":["_default","SingleItem","item","cov_2l920q9cc1","f","quantity","setQuantity","s","_react","useState","dispatch","_reactredux","useDispatch","handleRemoveFromCart","_cartslice","removeItemFromCart","id","handleIncreaseQuantity","updateCartItemQuantity","handleDecreaseQuantity","b","discount","discountedPrice","price","Math","round","undefined","_jsxruntime","jsxs","className","jsx","_image","default","width","height","src","_productadapter","getValidImageUrl","imgs","thumbnails","alt","title","_badge","Badge","variant","size","href","style","color","toLocaleString","_button","Button","onClick","disabled","_optimizedimports","Minus","Plus","Trash2"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Cart\\SingleItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { AppDispatch } from \"@/redux/store\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  removeItemFromCart,\r\n  updateCartItemQuantity,\r\n} from \"@/redux/features/cart-slice\";\r\nimport Image from \"next/image\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Minus, Plus, Trash2 } from \"@/lib/optimized-imports\";\r\nimport { getValidImageUrl } from \"@/lib/adapters/product-adapter\";\r\n\r\nconst SingleItem = ({ item }: { item: any }) => {\r\n  const [quantity, setQuantity] = useState(item.quantity);\r\n\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const handleRemoveFromCart = () => {\r\n    dispatch(removeItemFromCart(item.id));\r\n  };\r\n\r\n  const handleIncreaseQuantity = () => {\r\n    setQuantity(quantity + 1);\r\n    dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity + 1 }));\r\n  };\r\n\r\n  const handleDecreaseQuantity = () => {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n      dispatch(updateCartItemQuantity({ id: item.id, quantity: quantity - 1 }));\r\n    } else {\r\n      \r\n    }\r\n  };\r\n\r\n  // Calcular descuento si existe\r\n  const discount = item.discountedPrice && item.price && item.discountedPrice < item.price\r\n    ? Math.round(((item.price - item.discountedPrice) / item.price) * 100)\r\n    : undefined;\r\n\r\n  return (\r\n    <div className=\"flex items-center border-t border-gray-200 py-6 px-8 hover:bg-gray-50 transition-colors duration-200\">\r\n      {/* Product Info */}\r\n      <div className=\"min-w-[400px]\">\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"relative flex items-center justify-center rounded-lg bg-gray-100 w-20 h-20 overflow-hidden\">\r\n            <Image\r\n              width={80}\r\n              height={80}\r\n              src={getValidImageUrl(item.imgs?.thumbnails?.[0])}\r\n              alt={item.title}\r\n              className=\"object-cover w-full h-full\"\r\n            />\r\n            {discount && (\r\n              <Badge\r\n                variant=\"destructive\"\r\n                size=\"sm\"\r\n                className=\"absolute -top-1 -right-1 text-2xs px-1 py-0.5\"\r\n              >\r\n                -{discount}%\r\n              </Badge>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"font-semibold text-gray-900 hover:text-primary transition-colors duration-200 mb-1\">\r\n              <a href=\"#\" className=\"line-clamp-2\">{item.title}</a>\r\n            </h3>\r\n            {item.price && item.discountedPrice && item.discountedPrice < item.price && (\r\n              <p className=\"text-sm text-gray-500 line-through\">${item.price}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Price */}\r\n      <div className=\"min-w-[180px]\">\r\n        <p className=\"font-bold text-lg\" style={{ color: '#ea5a17' }}>${item.discountedPrice.toLocaleString()}</p>\r\n        {item.price && item.discountedPrice && item.discountedPrice < item.price && (\r\n          <p className=\"text-sm text-gray-500 line-through\">${item.price.toLocaleString()}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quantity Selector - Pinteya Design */}\r\n      <div className=\"min-w-[275px]\">\r\n        <div className=\"flex items-center rounded-xl border-2 border-yellow-400 bg-white shadow-lg w-max overflow-hidden\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => handleDecreaseQuantity()}\r\n            disabled={quantity <= 1}\r\n            aria-label=\"Disminuir cantidad\"\r\n            data-testid=\"quantity-decrease\"\r\n            className=\"h-12 w-12 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold disabled:opacity-50 disabled:bg-gray-200 transition-all duration-200\"\r\n          >\r\n            <Minus className=\"w-5 h-5\" />\r\n          </Button>\r\n\r\n          <div className=\"flex items-center justify-center w-16 h-12 bg-white font-bold text-lg text-gray-900 border-x-2 border-yellow-400\" data-testid=\"quantity-input\">\r\n            {quantity}\r\n          </div>\r\n\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => handleIncreaseQuantity()}\r\n            aria-label=\"Aumentar cantidad\"\r\n            data-testid=\"quantity-increase\"\r\n            className=\"h-12 w-12 rounded-none bg-yellow-400 hover:bg-yellow-500 text-black font-bold transition-all duration-200\"\r\n          >\r\n            <Plus className=\"w-5 h-5\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Subtotal */}\r\n      <div className=\"min-w-[200px]\">\r\n        <p className=\"font-bold text-xl\" style={{ color: '#ea5a17' }}>\r\n          ${(item.discountedPrice * quantity).toLocaleString()}\r\n        </p>\r\n        {item.price && item.discountedPrice && item.discountedPrice < item.price && (\r\n          <p className=\"text-sm font-semibold text-green-600\">\r\n            Ahorro: ${((item.price - item.discountedPrice) * quantity).toLocaleString()}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Remove Button */}\r\n      <div className=\"min-w-[50px] flex justify-end\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"icon\"\r\n          onClick={() => handleRemoveFromCart()}\r\n          aria-label=\"Eliminar producto del carrito\"\r\n          className=\"h-10 w-10 border-2 border-red-400 text-red-500 hover:bg-red-500 hover:text-white hover:border-red-500 transition-all duration-200 rounded-xl\"\r\n        >\r\n          <Trash2 className=\"w-4 h-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleItem;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}