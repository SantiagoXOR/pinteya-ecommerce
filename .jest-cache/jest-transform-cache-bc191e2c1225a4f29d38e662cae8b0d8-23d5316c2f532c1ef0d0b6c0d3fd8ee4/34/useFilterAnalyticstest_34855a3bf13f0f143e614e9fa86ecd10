6596e7e2f6af08e82c57a038258f197f
// ===================================
// TESTS: useFilterAnalytics - Hook de Analytics para Filtros
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useFilterAnalytics = require("../useFilterAnalytics");
// ===================================
// MOCKS
// ===================================
// Mock fetch global
global.fetch = jest.fn();
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
// Mock sessionStorage
const mockSessionStorage = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'sessionStorage', {
    value: mockSessionStorage,
    writable: true
});
// Mock window.location
Object.defineProperty(window, 'location', {
    value: {
        href: 'http://localhost:3000/test',
        pathname: '/test',
        search: '?categories=Exterior'
    },
    writable: true
});
// Mock document.title
Object.defineProperty(document, 'title', {
    value: 'Test Page - Pinteya',
    writable: true
});
// ===================================
// SETUP Y HELPERS
// ===================================
const mockFetchResponse = (success = true, data = {})=>{
    global.fetch.mockResolvedValueOnce({
        ok: success,
        json: async ()=>data
    });
};
// ===================================
// TESTS PRINCIPALES
// ===================================
describe('useFilterAnalytics', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        mockSessionStorage.getItem.mockReturnValue(null);
        console.log = jest.fn();
        console.warn = jest.fn();
    });
    // ===================================
    // TESTS DE INICIALIZACIÓN
    // ===================================
    describe('Inicialización', ()=>{
        it('inicializa con configuración por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result.current.enabled).toBe(true);
            expect(result.current.sessionId).toMatch(/^session_\d+_[a-z0-9]+$/);
            expect(result.current.userId).toBeUndefined();
        });
        it('acepta configuración personalizada', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    enabled: false,
                    debug: true,
                    sessionId: 'custom-session-123',
                    userId: 'user-456'
                }));
            expect(result.current.enabled).toBe(false);
            expect(result.current.sessionId).toBe('custom-session-123');
            expect(result.current.userId).toBe('user-456');
        });
        it('genera sessionId único cuando no se proporciona', ()=>{
            const { result: result1 } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const { result: result2 } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result1.current.sessionId).not.toBe(result2.current.sessionId);
        });
        it('usa sessionId del sessionStorage si existe', ()=>{
            mockSessionStorage.getItem.mockReturnValue('existing-session-789');
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(result.current.sessionId).toBe('existing-session-789');
        });
    });
    // ===================================
    // TESTS DE TRACKING DE FILTROS
    // ===================================
    describe('Tracking de Filtros', ()=>{
        it('trackea aplicación de filtro correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_applied"')
            });
            expect(window.gtag).toHaveBeenCalledWith('event', 'applied', expect.any(Object));
        });
        it('trackea remoción de filtro correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterRemoved('brand', 'Sherwin Williams', 2);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_removed"')
            });
        });
        it('trackea limpieza de filtros correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFiltersCleared(3, [
                    'category',
                    'brand',
                    'price_range'
                ]);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_cleared"')
            });
        });
        it('trackea búsqueda correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackSearchPerformed('pintura exterior', 15, true, 2);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_search"')
            });
        });
        it('trackea paginación correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackPaginationUsed(1, 2, 5, 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_pagination"')
            });
        });
        it('trackea cambio de ordenamiento correctamente', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackSortChanged('created_at', 'price_asc', 20);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_sort_changed"')
            });
        });
    });
    // ===================================
    // TESTS DE TRACKING AUTOMÁTICO
    // ===================================
    describe('Tracking Automático de Cambios', ()=>{
        it('detecta y trackea filtros añadidos', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [
                    'Exterior'
                ],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 12);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_applied"')
            });
        });
        it('detecta y trackea filtros removidos', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [
                    'Exterior',
                    'Interior'
                ],
                brands: [
                    'Sherwin Williams'
                ],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [
                    'Exterior'
                ],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 8);
            });
            // Debe trackear remoción de 'Interior' y 'Sherwin Williams'
            // Verificar que se llamó a fetch para cada remoción específica
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Interior"')
            }));
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Sherwin Williams"')
            }));
            // El hook hace 3 llamadas: 2 remociones + 1 adicional (posiblemente por otros cambios detectados)
            expect(global.fetch).toHaveBeenCalledTimes(3);
        });
        it('detecta cambios de precio', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            const previousFilters = {
                categories: [],
                brands: [],
                priceMin: undefined,
                priceMax: undefined,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            const currentFilters = {
                categories: [],
                brands: [],
                priceMin: 1000,
                priceMax: 5000,
                search: '',
                sortBy: 'created_at',
                page: 1,
                limit: 12
            };
            await (0, _react.act)(async ()=>{
                result.current.trackFilterChanges(previousFilters, currentFilters, 5);
            });
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"filter_value":"1000-5000"')
            });
        });
    });
    // ===================================
    // TESTS DE MANEJO DE ERRORES
    // ===================================
    describe('Manejo de Errores', ()=>{
        it('maneja errores de fetch gracefully', async ()=>{
            global.fetch.mockRejectedValueOnce(new Error('Network error'));
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(console.warn).toHaveBeenCalledWith('Failed to send analytics event to Supabase:', expect.any(Error));
        });
        it('continúa funcionando cuando gtag no está disponible', async ()=>{
            delete window.gtag;
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            // Debe seguir enviando a Supabase
            expect(global.fetch).toHaveBeenCalled();
        });
    });
    // ===================================
    // TESTS DE CONFIGURACIÓN
    // ===================================
    describe('Configuración', ()=>{
        it('no trackea cuando está deshabilitado', async ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    enabled: false
                }));
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            expect(global.fetch).not.toHaveBeenCalled();
            expect(window.gtag).not.toHaveBeenCalled();
        });
        it('funciona correctamente en modo debug', async ()=>{
            mockFetchResponse(true);
            const { result } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)({
                    debug: true
                }));
            await (0, _react.act)(async ()=>{
                result.current.trackFilterApplied('category', 'Exterior', 12);
            });
            // Verificar que el tracking funciona normalmente en modo debug
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', expect.objectContaining({
                method: 'POST',
                body: expect.stringContaining('"filter_value":"Exterior"')
            }));
        });
    });
    // ===================================
    // TESTS DE EVENTOS DE SESIÓN
    // ===================================
    describe('Eventos de Sesión', ()=>{
        it('trackea inicio de sesión al montar', ()=>{
            mockFetchResponse(true);
            (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_session_started"')
            });
        });
        it('trackea fin de sesión al desmontar', ()=>{
            mockFetchResponse(true);
            const { unmount } = (0, _react.renderHook)(()=>(0, _useFilterAnalytics.useFilterAnalytics)());
            jest.clearAllMocks();
            unmount();
            expect(global.fetch).toHaveBeenCalledWith('/api/analytics/events', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: expect.stringContaining('"event":"filter_session_ended"')
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlRmlsdGVyQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVEVTVFM6IHVzZUZpbHRlckFuYWx5dGljcyAtIEhvb2sgZGUgQW5hbHl0aWNzIHBhcmEgRmlsdHJvc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XHJcbmltcG9ydCB7IHVzZUZpbHRlckFuYWx5dGljcyB9IGZyb20gJy4uL3VzZUZpbHRlckFuYWx5dGljcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNT0NLU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gTW9jayBmZXRjaCBnbG9iYWxcclxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xyXG5cclxuLy8gTW9jayB3aW5kb3cuZ3RhZ1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZ3RhZycsIHtcclxuICB2YWx1ZTogamVzdC5mbigpLFxyXG4gIHdyaXRhYmxlOiB0cnVlLFxyXG59KTtcclxuXHJcbi8vIE1vY2sgc2Vzc2lvblN0b3JhZ2VcclxuY29uc3QgbW9ja1Nlc3Npb25TdG9yYWdlID0ge1xyXG4gIGdldEl0ZW06IGplc3QuZm4oKSxcclxuICBzZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxyXG4gIGNsZWFyOiBqZXN0LmZuKCksXHJcbn07XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnc2Vzc2lvblN0b3JhZ2UnLCB7XHJcbiAgdmFsdWU6IG1vY2tTZXNzaW9uU3RvcmFnZSxcclxuICB3cml0YWJsZTogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyBNb2NrIHdpbmRvdy5sb2NhdGlvblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYXRpb24nLCB7XHJcbiAgdmFsdWU6IHtcclxuICAgIGhyZWY6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvdGVzdCcsXHJcbiAgICBwYXRobmFtZTogJy90ZXN0JyxcclxuICAgIHNlYXJjaDogJz9jYXRlZ29yaWVzPUV4dGVyaW9yJyxcclxuICB9LFxyXG4gIHdyaXRhYmxlOiB0cnVlLFxyXG59KTtcclxuXHJcbi8vIE1vY2sgZG9jdW1lbnQudGl0bGVcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAndGl0bGUnLCB7XHJcbiAgdmFsdWU6ICdUZXN0IFBhZ2UgLSBQaW50ZXlhJyxcclxuICB3cml0YWJsZTogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTRVRVUCBZIEhFTFBFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IG1vY2tGZXRjaFJlc3BvbnNlID0gKHN1Y2Nlc3MgPSB0cnVlLCBkYXRhID0ge30pID0+IHtcclxuICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgIG9rOiBzdWNjZXNzLFxyXG4gICAganNvbjogYXN5bmMgKCkgPT4gZGF0YSxcclxuICB9KTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTIFBSSU5DSVBBTEVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5kZXNjcmliZSgndXNlRmlsdGVyQW5hbHl0aWNzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgICBtb2NrU2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgICBjb25zb2xlLmxvZyA9IGplc3QuZm4oKTtcclxuICAgIGNvbnNvbGUud2FybiA9IGplc3QuZm4oKTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBURVNUUyBERSBJTklDSUFMSVpBQ0nDk05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgnSW5pY2lhbGl6YWNpw7NuJywgKCkgPT4ge1xyXG4gICAgaXQoJ2luaWNpYWxpemEgY29uIGNvbmZpZ3VyYWNpw7NuIHBvciBkZWZlY3RvJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZW5hYmxlZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlc3Npb25JZCkudG9NYXRjaCgvXnNlc3Npb25fXFxkK19bYS16MC05XSskLyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC51c2VySWQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdhY2VwdGEgY29uZmlndXJhY2nDs24gcGVyc29uYWxpemFkYScsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXHJcbiAgICAgICAgdXNlRmlsdGVyQW5hbHl0aWNzKHtcclxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgZGVidWc6IHRydWUsXHJcbiAgICAgICAgICBzZXNzaW9uSWQ6ICdjdXN0b20tc2Vzc2lvbi0xMjMnLFxyXG4gICAgICAgICAgdXNlcklkOiAndXNlci00NTYnLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZW5hYmxlZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZXNzaW9uSWQpLnRvQmUoJ2N1c3RvbS1zZXNzaW9uLTEyMycpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlcklkKS50b0JlKCd1c2VyLTQ1NicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2dlbmVyYSBzZXNzaW9uSWQgw7puaWNvIGN1YW5kbyBubyBzZSBwcm9wb3JjaW9uYScsICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQ6IHJlc3VsdDEgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBjb25zdCB7IHJlc3VsdDogcmVzdWx0MiB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0MS5jdXJyZW50LnNlc3Npb25JZCkubm90LnRvQmUocmVzdWx0Mi5jdXJyZW50LnNlc3Npb25JZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgndXNhIHNlc3Npb25JZCBkZWwgc2Vzc2lvblN0b3JhZ2Ugc2kgZXhpc3RlJywgKCkgPT4ge1xyXG4gICAgICBtb2NrU2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUoJ2V4aXN0aW5nLXNlc3Npb24tNzg5Jyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2Vzc2lvbklkKS50b0JlKCdleGlzdGluZy1zZXNzaW9uLTc4OScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gVEVTVFMgREUgVFJBQ0tJTkcgREUgRklMVFJPU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCdUcmFja2luZyBkZSBGaWx0cm9zJywgKCkgPT4ge1xyXG4gICAgaXQoJ3RyYWNrZWEgYXBsaWNhY2nDs24gZGUgZmlsdHJvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0ZpbHRlckFwcGxpZWQoJ2NhdGVnb3J5JywgJ0V4dGVyaW9yJywgMTIpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9hcHBsaWVkXCInKSxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qod2luZG93Lmd0YWcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdldmVudCcsICdhcHBsaWVkJywgZXhwZWN0LmFueShPYmplY3QpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCd0cmFja2VhIHJlbW9jacOzbiBkZSBmaWx0cm8gY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyUmVtb3ZlZCgnYnJhbmQnLCAnU2hlcndpbiBXaWxsaWFtcycsIDIpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9yZW1vdmVkXCInKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgndHJhY2tlYSBsaW1waWV6YSBkZSBmaWx0cm9zIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0ZpbHRlcnNDbGVhcmVkKDMsIFsnY2F0ZWdvcnknLCAnYnJhbmQnLCAncHJpY2VfcmFuZ2UnXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX2NsZWFyZWRcIicpLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCd0cmFja2VhIGLDunNxdWVkYSBjb3JyZWN0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tTZWFyY2hQZXJmb3JtZWQoJ3BpbnR1cmEgZXh0ZXJpb3InLCAxNSwgdHJ1ZSwgMik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX3NlYXJjaFwiJyksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3RyYWNrZWEgcGFnaW5hY2nDs24gY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrUGFnaW5hdGlvblVzZWQoMSwgMiwgNSwgMTIpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9wYWdpbmF0aW9uXCInKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgndHJhY2tlYSBjYW1iaW8gZGUgb3JkZW5hbWllbnRvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1NvcnRDaGFuZ2VkKCdjcmVhdGVkX2F0JywgJ3ByaWNlX2FzYycsIDIwKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImV2ZW50XCI6XCJmaWx0ZXJfc29ydF9jaGFuZ2VkXCInKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBURVNUUyBERSBUUkFDS0lORyBBVVRPTcOBVElDT1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIGRlc2NyaWJlKCdUcmFja2luZyBBdXRvbcOhdGljbyBkZSBDYW1iaW9zJywgKCkgPT4ge1xyXG4gICAgaXQoJ2RldGVjdGEgeSB0cmFja2VhIGZpbHRyb3MgYcOxYWRpZG9zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUZpbHRlckFuYWx5dGljcygpKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHByZXZpb3VzRmlsdGVycyA9IHtcclxuICAgICAgICBjYXRlZ29yaWVzOiBbXSxcclxuICAgICAgICBicmFuZHM6IFtdLFxyXG4gICAgICAgIHByaWNlTWluOiB1bmRlZmluZWQsXHJcbiAgICAgICAgcHJpY2VNYXg6IHVuZGVmaW5lZCxcclxuICAgICAgICBzZWFyY2g6ICcnLFxyXG4gICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxyXG4gICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgbGltaXQ6IDEyLFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY3VycmVudEZpbHRlcnMgPSB7XHJcbiAgICAgICAgY2F0ZWdvcmllczogWydFeHRlcmlvciddLFxyXG4gICAgICAgIGJyYW5kczogW10sXHJcbiAgICAgICAgcHJpY2VNaW46IHVuZGVmaW5lZCxcclxuICAgICAgICBwcmljZU1heDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNlYXJjaDogJycsXHJcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXHJcbiAgICAgICAgcGFnZTogMSxcclxuICAgICAgICBsaW1pdDogMTIsXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRmlsdGVyQ2hhbmdlcyhwcmV2aW91c0ZpbHRlcnMsIGN1cnJlbnRGaWx0ZXJzLCAxMik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX2FwcGxpZWRcIicpLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZXRlY3RhIHkgdHJhY2tlYSBmaWx0cm9zIHJlbW92aWRvcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcmV2aW91c0ZpbHRlcnMgPSB7XHJcbiAgICAgICAgY2F0ZWdvcmllczogWydFeHRlcmlvcicsICdJbnRlcmlvciddLFxyXG4gICAgICAgIGJyYW5kczogWydTaGVyd2luIFdpbGxpYW1zJ10sXHJcbiAgICAgICAgcHJpY2VNaW46IHVuZGVmaW5lZCxcclxuICAgICAgICBwcmljZU1heDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNlYXJjaDogJycsXHJcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXHJcbiAgICAgICAgcGFnZTogMSxcclxuICAgICAgICBsaW1pdDogMTIsXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjdXJyZW50RmlsdGVycyA9IHtcclxuICAgICAgICBjYXRlZ29yaWVzOiBbJ0V4dGVyaW9yJ10sXHJcbiAgICAgICAgYnJhbmRzOiBbXSxcclxuICAgICAgICBwcmljZU1pbjogdW5kZWZpbmVkLFxyXG4gICAgICAgIHByaWNlTWF4OiB1bmRlZmluZWQsXHJcbiAgICAgICAgc2VhcmNoOiAnJyxcclxuICAgICAgICBzb3J0Qnk6ICdjcmVhdGVkX2F0JyxcclxuICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIGxpbWl0OiAxMixcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJDaGFuZ2VzKHByZXZpb3VzRmlsdGVycywgY3VycmVudEZpbHRlcnMsIDgpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIERlYmUgdHJhY2tlYXIgcmVtb2Npw7NuIGRlICdJbnRlcmlvcicgeSAnU2hlcndpbiBXaWxsaWFtcydcclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBzZSBsbGFtw7MgYSBmZXRjaCBwYXJhIGNhZGEgcmVtb2Npw7NuIGVzcGVjw61maWNhXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZmlsdGVyX3ZhbHVlXCI6XCJJbnRlcmlvclwiJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hbmFseXRpY3MvZXZlbnRzJyxcclxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcImZpbHRlcl92YWx1ZVwiOlwiU2hlcndpbiBXaWxsaWFtc1wiJylcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgICAvLyBFbCBob29rIGhhY2UgMyBsbGFtYWRhczogMiByZW1vY2lvbmVzICsgMSBhZGljaW9uYWwgKHBvc2libGVtZW50ZSBwb3Igb3Ryb3MgY2FtYmlvcyBkZXRlY3RhZG9zKVxyXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGV0ZWN0YSBjYW1iaW9zIGRlIHByZWNpbycsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZldGNoUmVzcG9uc2UodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwcmV2aW91c0ZpbHRlcnMgPSB7XHJcbiAgICAgICAgY2F0ZWdvcmllczogW10sXHJcbiAgICAgICAgYnJhbmRzOiBbXSxcclxuICAgICAgICBwcmljZU1pbjogdW5kZWZpbmVkLFxyXG4gICAgICAgIHByaWNlTWF4OiB1bmRlZmluZWQsXHJcbiAgICAgICAgc2VhcmNoOiAnJyxcclxuICAgICAgICBzb3J0Qnk6ICdjcmVhdGVkX2F0JyxcclxuICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIGxpbWl0OiAxMixcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRGaWx0ZXJzID0ge1xyXG4gICAgICAgIGNhdGVnb3JpZXM6IFtdLFxyXG4gICAgICAgIGJyYW5kczogW10sXHJcbiAgICAgICAgcHJpY2VNaW46IDEwMDAsXHJcbiAgICAgICAgcHJpY2VNYXg6IDUwMDAsXHJcbiAgICAgICAgc2VhcmNoOiAnJyxcclxuICAgICAgICBzb3J0Qnk6ICdjcmVhdGVkX2F0JyxcclxuICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIGxpbWl0OiAxMixcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJDaGFuZ2VzKHByZXZpb3VzRmlsdGVycywgY3VycmVudEZpbHRlcnMsIDUpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZmlsdGVyX3ZhbHVlXCI6XCIxMDAwLTUwMDBcIicpLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFRFU1RTIERFIE1BTkVKTyBERSBFUlJPUkVTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgZGVzY3JpYmUoJ01hbmVqbyBkZSBFcnJvcmVzJywgKCkgPT4ge1xyXG4gICAgaXQoJ21hbmVqYSBlcnJvcmVzIGRlIGZldGNoIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0ZpbHRlckFwcGxpZWQoJ2NhdGVnb3J5JywgJ0V4dGVyaW9yJywgMTIpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICdGYWlsZWQgdG8gc2VuZCBhbmFseXRpY3MgZXZlbnQgdG8gU3VwYWJhc2U6JyxcclxuICAgICAgICBleHBlY3QuYW55KEVycm9yKVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2NvbnRpbsO6YSBmdW5jaW9uYW5kbyBjdWFuZG8gZ3RhZyBubyBlc3TDoSBkaXNwb25pYmxlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBkZWxldGUgKHdpbmRvdyBhcyBhbnkpLmd0YWc7XHJcbiAgICAgIG1vY2tGZXRjaFJlc3BvbnNlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0ZpbHRlckFwcGxpZWQoJ2NhdGVnb3J5JywgJ0V4dGVyaW9yJywgMTIpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIERlYmUgc2VndWlyIGVudmlhbmRvIGEgU3VwYWJhc2VcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gVEVTVFMgREUgQ09ORklHVVJBQ0nDk05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgnQ29uZmlndXJhY2nDs24nLCAoKSA9PiB7XHJcbiAgICBpdCgnbm8gdHJhY2tlYSBjdWFuZG8gZXN0w6EgZGVzaGFiaWxpdGFkbycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXHJcbiAgICAgICAgdXNlRmlsdGVyQW5hbHl0aWNzKHsgZW5hYmxlZDogZmFsc2UgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJBcHBsaWVkKCdjYXRlZ29yeScsICdFeHRlcmlvcicsIDEyKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgICBleHBlY3Qod2luZG93Lmd0YWcpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZnVuY2lvbmEgY29ycmVjdGFtZW50ZSBlbiBtb2RvIGRlYnVnJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XHJcbiAgICAgICAgdXNlRmlsdGVyQW5hbHl0aWNzKHsgZGVidWc6IHRydWUgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tGaWx0ZXJBcHBsaWVkKCdjYXRlZ29yeScsICdFeHRlcmlvcicsIDEyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGVsIHRyYWNraW5nIGZ1bmNpb25hIG5vcm1hbG1lbnRlIGVuIG1vZG8gZGVidWdcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsXHJcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJmaWx0ZXJfdmFsdWVcIjpcIkV4dGVyaW9yXCInKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBURVNUUyBERSBFVkVOVE9TIERFIFNFU0nDk05cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBkZXNjcmliZSgnRXZlbnRvcyBkZSBTZXNpw7NuJywgKCkgPT4ge1xyXG4gICAgaXQoJ3RyYWNrZWEgaW5pY2lvIGRlIHNlc2nDs24gYWwgbW9udGFyJywgKCkgPT4ge1xyXG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlckhvb2soKCkgPT4gdXNlRmlsdGVyQW5hbHl0aWNzKCkpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYW5hbHl0aWNzL2V2ZW50cycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJldmVudFwiOlwiZmlsdGVyX3Nlc3Npb25fc3RhcnRlZFwiJyksXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3RyYWNrZWEgZmluIGRlIHNlc2nDs24gYWwgZGVzbW9udGFyJywgKCkgPT4ge1xyXG4gICAgICBtb2NrRmV0Y2hSZXNwb25zZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VGaWx0ZXJBbmFseXRpY3MoKSk7XHJcbiAgICAgIFxyXG4gICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgICAgXHJcbiAgICAgIHVubW91bnQoKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wiZXZlbnRcIjpcImZpbHRlcl9zZXNzaW9uX2VuZGVkXCInKSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmZXRjaCIsImplc3QiLCJmbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJ3cml0YWJsZSIsIm1vY2tTZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiaHJlZiIsInBhdGhuYW1lIiwic2VhcmNoIiwiZG9jdW1lbnQiLCJtb2NrRmV0Y2hSZXNwb25zZSIsInN1Y2Nlc3MiLCJkYXRhIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib2siLCJqc29uIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlRmlsdGVyQW5hbHl0aWNzIiwiZXhwZWN0IiwiY3VycmVudCIsImVuYWJsZWQiLCJ0b0JlIiwic2Vzc2lvbklkIiwidG9NYXRjaCIsInVzZXJJZCIsInRvQmVVbmRlZmluZWQiLCJkZWJ1ZyIsInJlc3VsdDEiLCJyZXN1bHQyIiwibm90IiwiYWN0IiwidHJhY2tGaWx0ZXJBcHBsaWVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0cmluZ0NvbnRhaW5pbmciLCJndGFnIiwiYW55IiwidHJhY2tGaWx0ZXJSZW1vdmVkIiwidHJhY2tGaWx0ZXJzQ2xlYXJlZCIsInRyYWNrU2VhcmNoUGVyZm9ybWVkIiwidHJhY2tQYWdpbmF0aW9uVXNlZCIsInRyYWNrU29ydENoYW5nZWQiLCJwcmV2aW91c0ZpbHRlcnMiLCJjYXRlZ29yaWVzIiwiYnJhbmRzIiwicHJpY2VNaW4iLCJ1bmRlZmluZWQiLCJwcmljZU1heCIsInNvcnRCeSIsInBhZ2UiLCJsaW1pdCIsImN1cnJlbnRGaWx0ZXJzIiwidHJhY2tGaWx0ZXJDaGFuZ2VzIiwib2JqZWN0Q29udGFpbmluZyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwidG9IYXZlQmVlbkNhbGxlZCIsInVubW91bnQiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0Qyw2REFBNkQ7QUFDN0Qsc0NBQXNDOzs7Ozt1QkFFTjtvQ0FDRztBQUVuQyxzQ0FBc0M7QUFDdEMsUUFBUTtBQUNSLHNDQUFzQztBQUV0QyxvQkFBb0I7QUFDcEJBLE9BQU9DLEtBQUssR0FBR0MsS0FBS0MsRUFBRTtBQUV0QixtQkFBbUI7QUFDbkJDLE9BQU9DLGNBQWMsQ0FBQ0MsUUFBUSxRQUFRO0lBQ3BDQyxPQUFPTCxLQUFLQyxFQUFFO0lBQ2RLLFVBQVU7QUFDWjtBQUVBLHNCQUFzQjtBQUN0QixNQUFNQyxxQkFBcUI7SUFDekJDLFNBQVNSLEtBQUtDLEVBQUU7SUFDaEJRLFNBQVNULEtBQUtDLEVBQUU7SUFDaEJTLFlBQVlWLEtBQUtDLEVBQUU7SUFDbkJVLE9BQU9YLEtBQUtDLEVBQUU7QUFDaEI7QUFFQUMsT0FBT0MsY0FBYyxDQUFDQyxRQUFRLGtCQUFrQjtJQUM5Q0MsT0FBT0U7SUFDUEQsVUFBVTtBQUNaO0FBRUEsdUJBQXVCO0FBQ3ZCSixPQUFPQyxjQUFjLENBQUNDLFFBQVEsWUFBWTtJQUN4Q0MsT0FBTztRQUNMTyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsUUFBUTtJQUNWO0lBQ0FSLFVBQVU7QUFDWjtBQUVBLHNCQUFzQjtBQUN0QkosT0FBT0MsY0FBYyxDQUFDWSxVQUFVLFNBQVM7SUFDdkNWLE9BQU87SUFDUEMsVUFBVTtBQUNaO0FBRUEsc0NBQXNDO0FBQ3RDLGtCQUFrQjtBQUNsQixzQ0FBc0M7QUFFdEMsTUFBTVUsb0JBQW9CLENBQUNDLFVBQVUsSUFBSSxFQUFFQyxPQUFPLENBQUMsQ0FBQztJQUNqRHBCLE9BQU9DLEtBQUssQ0FBZW9CLHFCQUFxQixDQUFDO1FBQ2hEQyxJQUFJSDtRQUNKSSxNQUFNLFVBQVlIO0lBQ3BCO0FBQ0Y7QUFFQSxzQ0FBc0M7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