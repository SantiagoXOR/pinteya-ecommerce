{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\__tests__\\logistics\\setup\\test-config.ts"],"sourcesContent":["// =====================================================\r\n// CONFIGURACIÓN: TESTING SUITE LOGISTICS ENTERPRISE\r\n// Descripción: Configuración optimizada para testing del módulo de logística\r\n// Basado en: Jest + RTL + MSW + Testing Library\r\n// =====================================================\r\n\r\nimport '@testing-library/jest-dom';\r\nimport { configure } from '@testing-library/react';\r\n\r\n// Interfaces para tipado\r\ninterface MockWebSocketInstance {\r\n  send: jest.Mock;\r\n  close: jest.Mock;\r\n  readyState: number;\r\n  CONNECTING: number;\r\n  OPEN: number;\r\n  CLOSING: number;\r\n  CLOSED: number;\r\n  addEventListener: jest.Mock;\r\n  removeEventListener: jest.Mock;\r\n  onopen: (() => void) | null;\r\n  onclose: (() => void) | null;\r\n  onmessage: (() => void) | null;\r\n  onerror: (() => void) | null;\r\n}\r\n\r\ninterface Coordinates {\r\n  latitude: number;\r\n  longitude: number;\r\n  accuracy: number;\r\n}\r\n\r\ninterface GeolocationPosition {\r\n  coords: Coordinates;\r\n}\r\n\r\ntype CoordinatesPair = [number, number];\r\n\r\n// =====================================================\r\n// CONFIGURACIÓN DE TESTING LIBRARY\r\n// =====================================================\r\n\r\nconfigure({\r\n  testIdAttribute: 'data-testid',\r\n  asyncUtilTimeout: 5000,\r\n  computedStyleSupportsPseudoElements: true\r\n});\r\n\r\n// =====================================================\r\n// CONFIGURACIÓN DE MOCKS SIMPLES (SIN MSW)\r\n// =====================================================\r\n\r\n// Mock global fetch para APIs\r\nglobal.fetch = jest.fn();\r\n\r\n// Configurar mocks antes de todos los tests\r\nbeforeAll(() => {\r\n  // Mock básico para APIs de logistics\r\n  (global.fetch as jest.Mock).mockImplementation((url: string) => {\r\n    if (url.includes('/api/admin/logistics')) {\r\n      return Promise.resolve({\r\n        ok: true,\r\n        json: () => Promise.resolve({\r\n          data: [],\r\n          success: true,\r\n          message: 'Mock response'\r\n        })\r\n      });\r\n    }\r\n    return Promise.resolve({\r\n      ok: true,\r\n      json: () => Promise.resolve({})\r\n    });\r\n  });\r\n});\r\n\r\n// Resetear mocks después de cada test\r\nafterEach(() => {\r\n  jest.clearAllMocks();\r\n});\r\n\r\n// Limpiar después de todos los tests\r\nafterAll(() => {\r\n  jest.restoreAllMocks();\r\n});\r\n\r\n// =====================================================\r\n// MOCKS GLOBALES\r\n// =====================================================\r\n\r\n// Mock de MapLibre GL JS\r\njest.mock('maplibre-gl', () => ({\r\n  Map: jest.fn(() => ({\r\n    on: jest.fn(),\r\n    off: jest.fn(),\r\n    addSource: jest.fn(),\r\n    addLayer: jest.fn(),\r\n    getSource: jest.fn(() => ({\r\n      setData: jest.fn()\r\n    })),\r\n    setStyle: jest.fn(),\r\n    fitBounds: jest.fn(),\r\n    remove: jest.fn(),\r\n    getCanvas: jest.fn(() => ({\r\n      style: {}\r\n    })),\r\n    readyState: 1\r\n  })),\r\n  LngLatBounds: jest.fn(() => ({\r\n    extend: jest.fn()\r\n  }))\r\n}));\r\n\r\n// Mock de WebSocket\r\nglobal.WebSocket = jest.fn(() => ({\r\n  addEventListener: jest.fn(),\r\n  removeEventListener: jest.fn(),\r\n  send: jest.fn(),\r\n  close: jest.fn(),\r\n  readyState: 1,\r\n  CONNECTING: 0,\r\n  OPEN: 1,\r\n  CLOSING: 2,\r\n  CLOSED: 3\r\n})) as MockWebSocketInstance;\r\n\r\n// Mock de Notification API\r\nObject.defineProperty(window, 'Notification', {\r\n  writable: true,\r\n  value: jest.fn(() => ({\r\n    close: jest.fn()\r\n  }))\r\n});\r\n\r\nObject.defineProperty(Notification, 'permission', {\r\n  writable: true,\r\n  value: 'granted'\r\n});\r\n\r\n// Mock de geolocation\r\nObject.defineProperty(navigator, 'geolocation', {\r\n  writable: true,\r\n  value: {\r\n    getCurrentPosition: jest.fn((success) => \r\n      success({\r\n        coords: {\r\n          latitude: -34.6037,\r\n          longitude: -58.3816,\r\n          accuracy: 10\r\n        }\r\n      })\r\n    ),\r\n    watchPosition: jest.fn(),\r\n    clearWatch: jest.fn()\r\n  }\r\n});\r\n\r\n// Mock de IntersectionObserver\r\nglobal.IntersectionObserver = jest.fn(() => ({\r\n  observe: jest.fn(),\r\n  unobserve: jest.fn(),\r\n  disconnect: jest.fn()\r\n})) as jest.MockedClass<typeof IntersectionObserver>;\r\n\r\n// Mock de ResizeObserver\r\nglobal.ResizeObserver = jest.fn(() => ({\r\n  observe: jest.fn(),\r\n  unobserve: jest.fn(),\r\n  disconnect: jest.fn()\r\n})) as jest.MockedClass<typeof ResizeObserver>;\r\n\r\n// =====================================================\r\n// UTILIDADES DE TESTING\r\n// =====================================================\r\n\r\nexport const mockShipment = {\r\n  id: 1,\r\n  shipment_number: 'SHP-001',\r\n  order_id: 1,\r\n  status: 'in_transit',\r\n  carrier_id: 1,\r\n  shipping_service: 'standard',\r\n  tracking_number: 'TRK-123456',\r\n  delivery_address: {\r\n    street: 'Av. Corrientes',\r\n    number: '1234',\r\n    apartment: '',\r\n    neighborhood: 'San Nicolás',\r\n    city: 'Buenos Aires',\r\n    state: 'Buenos Aires',\r\n    postal_code: '1043',\r\n    country: 'Argentina'\r\n  },\r\n  pickup_address: {\r\n    street: 'Av. Santa Fe',\r\n    number: '5678',\r\n    apartment: '',\r\n    neighborhood: 'Palermo',\r\n    city: 'Buenos Aires',\r\n    state: 'Buenos Aires',\r\n    postal_code: '1425',\r\n    country: 'Argentina'\r\n  },\r\n  weight_kg: 2.5,\r\n  dimensions_cm: '30x20x15',\r\n  total_cost: 1500,\r\n  estimated_delivery_date: '2024-02-15',\r\n  special_instructions: 'Llamar antes de entregar',\r\n  notes: 'Producto frágil',\r\n  created_at: '2024-02-10T10:00:00Z',\r\n  updated_at: '2024-02-10T10:00:00Z',\r\n  carrier: {\r\n    id: 1,\r\n    name: 'OCA',\r\n    code: 'OCA',\r\n    logo_url: '/logos/oca.png',\r\n    is_active: true\r\n  },\r\n  items: [{\r\n    id: 1,\r\n    product_id: 1,\r\n    quantity: 1,\r\n    weight_kg: 2.5\r\n  }]\r\n};\r\n\r\nexport const mockTrackingEvent = {\r\n  id: 1,\r\n  shipment_id: 1,\r\n  status: 'in_transit',\r\n  description: 'Paquete en tránsito hacia destino',\r\n  location: 'Buenos Aires, Argentina',\r\n  latitude: -34.6037,\r\n  longitude: -58.3816,\r\n  occurred_at: '2024-02-10T12:00:00Z',\r\n  created_at: '2024-02-10T12:00:00Z'\r\n};\r\n\r\nexport const mockCourier = {\r\n  id: 1,\r\n  name: 'OCA',\r\n  code: 'OCA',\r\n  logo_url: '/logos/oca.png',\r\n  website_url: 'https://oca.com.ar',\r\n  contact_phone: '+54 11 4000-0000',\r\n  contact_email: 'info@oca.com.ar',\r\n  is_active: true,\r\n  supported_services: ['standard', 'express'],\r\n  coverage_areas: ['Buenos Aires', 'Córdoba', 'Santa Fe'],\r\n  base_cost: 500,\r\n  cost_per_kg: 100,\r\n  api_config: {\r\n    base_url: 'https://api.oca.com.ar',\r\n    api_key: 'test-key',\r\n    environment: 'sandbox'\r\n  },\r\n  created_at: '2024-01-01T00:00:00Z',\r\n  updated_at: '2024-01-01T00:00:00Z'\r\n};\r\n\r\nexport const mockLogisticsStats = {\r\n  total_shipments: 150,\r\n  pending_shipments: 25,\r\n  confirmed_shipments: 30,\r\n  in_transit_shipments: 45,\r\n  delivered_shipments: 40,\r\n  exception_shipments: 5,\r\n  cancelled_shipments: 5,\r\n  average_delivery_time: 3.5,\r\n  on_time_delivery_rate: 92.5,\r\n  total_shipping_cost: 225000,\r\n  active_couriers: 4\r\n};\r\n\r\nexport const mockGeofenceZone = {\r\n  id: 'test-zone',\r\n  name: 'Zona de Prueba',\r\n  type: 'delivery_zone' as const,\r\n  coordinates: [\r\n    [-58.5, -34.5],\r\n    [-58.4, -34.5],\r\n    [-58.4, -34.6],\r\n    [-58.5, -34.6],\r\n    [-58.5, -34.5]\r\n  ] as [number, number][],\r\n  center: [-58.45, -34.55] as [number, number],\r\n  active: true,\r\n  created_at: '2024-01-01T00:00:00Z',\r\n  updated_at: '2024-01-01T00:00:00Z',\r\n  rules: [{\r\n    id: 'rule-1',\r\n    event_type: 'enter' as const,\r\n    action: 'notification' as const,\r\n    conditions: {\r\n      shipment_status: ['in_transit']\r\n    },\r\n    active: true\r\n  }],\r\n  stats: {\r\n    total_events: 50,\r\n    enter_events: 25,\r\n    exit_events: 25,\r\n    unique_shipments: 30,\r\n    avg_dwell_time: 45,\r\n    last_event: '2024-02-10T10:00:00Z'\r\n  }\r\n};\r\n\r\n// =====================================================\r\n// HELPERS DE TESTING\r\n// =====================================================\r\n\r\nexport const waitForLoadingToFinish = () => {\r\n  return new Promise(resolve => setTimeout(resolve, 100));\r\n};\r\n\r\nexport const mockIntersectionObserver = () => {\r\n  const mockIntersectionObserver = jest.fn();\r\n  mockIntersectionObserver.mockReturnValue({\r\n    observe: () => null,\r\n    unobserve: () => null,\r\n    disconnect: () => null\r\n  });\r\n  window.IntersectionObserver = mockIntersectionObserver;\r\n};\r\n\r\nexport const mockResizeObserver = () => {\r\n  const mockResizeObserver = jest.fn();\r\n  mockResizeObserver.mockReturnValue({\r\n    observe: () => null,\r\n    unobserve: () => null,\r\n    disconnect: () => null\r\n  });\r\n  window.ResizeObserver = mockResizeObserver;\r\n};\r\n\r\nexport const createMockWebSocket = () => {\r\n  const mockWebSocket = {\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    send: jest.fn(),\r\n    close: jest.fn(),\r\n    readyState: 1,\r\n    CONNECTING: 0,\r\n    OPEN: 1,\r\n    CLOSING: 2,\r\n    CLOSED: 3,\r\n    onopen: null,\r\n    onclose: null,\r\n    onmessage: null,\r\n    onerror: null\r\n  };\r\n  \r\n  global.WebSocket = jest.fn(() => mockWebSocket) as jest.MockedClass<typeof WebSocket>;\r\n  return mockWebSocket;\r\n};\r\n\r\n// =====================================================\r\n// CUSTOM MATCHERS\r\n// =====================================================\r\n\r\nexpect.extend({\r\n  toBeWithinRange(received: number, floor: number, ceiling: number) {\r\n    const pass = received >= floor && received <= ceiling;\r\n    if (pass) {\r\n      return {\r\n        message: () =>\r\n          `expected ${received} not to be within range ${floor} - ${ceiling}`,\r\n        pass: true,\r\n      };\r\n    } else {\r\n      return {\r\n        message: () =>\r\n          `expected ${received} to be within range ${floor} - ${ceiling}`,\r\n        pass: false,\r\n      };\r\n    }\r\n  },\r\n  \r\n  toHaveValidCoordinates(received: CoordinatesPair) {\r\n    const isValid = Array.isArray(received) && \r\n                   received.length === 2 && \r\n                   typeof received[0] === 'number' && \r\n                   typeof received[1] === 'number' &&\r\n                   received[0] >= -180 && received[0] <= 180 &&\r\n                   received[1] >= -90 && received[1] <= 90;\r\n    \r\n    if (isValid) {\r\n      return {\r\n        message: () => `expected ${received} not to be valid coordinates`,\r\n        pass: true,\r\n      };\r\n    } else {\r\n      return {\r\n        message: () => `expected ${received} to be valid coordinates [lng, lat]`,\r\n        pass: false,\r\n      };\r\n    }\r\n  }\r\n});\r\n\r\n// =====================================================\r\n// TIPOS PARA CUSTOM MATCHERS\r\n// =====================================================\r\n\r\ndeclare global {\r\n  namespace jest {\r\n    interface Matchers<R> {\r\n      toBeWithinRange(floor: number, ceiling: number): R;\r\n      toHaveValidCoordinates(): R;\r\n    }\r\n  }\r\n}\r\n"],"names":["jest","mock","Map","fn","on","off","addSource","addLayer","getSource","setData","setStyle","fitBounds","remove","getCanvas","style","readyState","LngLatBounds","extend","createMockWebSocket","mockCourier","mockGeofenceZone","mockIntersectionObserver","mockLogisticsStats","mockResizeObserver","mockShipment","mockTrackingEvent","waitForLoadingToFinish","configure","testIdAttribute","asyncUtilTimeout","computedStyleSupportsPseudoElements","global","fetch","beforeAll","mockImplementation","url","includes","Promise","resolve","ok","json","data","success","message","afterEach","clearAllMocks","afterAll","restoreAllMocks","WebSocket","addEventListener","removeEventListener","send","close","CONNECTING","OPEN","CLOSING","CLOSED","Object","defineProperty","window","writable","value","Notification","navigator","getCurrentPosition","coords","latitude","longitude","accuracy","watchPosition","clearWatch","IntersectionObserver","observe","unobserve","disconnect","ResizeObserver","id","shipment_number","order_id","status","carrier_id","shipping_service","tracking_number","delivery_address","street","number","apartment","neighborhood","city","state","postal_code","country","pickup_address","weight_kg","dimensions_cm","total_cost","estimated_delivery_date","special_instructions","notes","created_at","updated_at","carrier","name","code","logo_url","is_active","items","product_id","quantity","shipment_id","description","location","occurred_at","website_url","contact_phone","contact_email","supported_services","coverage_areas","base_cost","cost_per_kg","api_config","base_url","api_key","environment","total_shipments","pending_shipments","confirmed_shipments","in_transit_shipments","delivered_shipments","exception_shipments","cancelled_shipments","average_delivery_time","on_time_delivery_rate","total_shipping_cost","active_couriers","type","coordinates","center","active","rules","event_type","action","conditions","shipment_status","stats","total_events","enter_events","exit_events","unique_shipments","avg_dwell_time","last_event","setTimeout","mockReturnValue","mockWebSocket","onopen","onclose","onmessage","onerror","expect","toBeWithinRange","received","floor","ceiling","pass","toHaveValidCoordinates","isValid","Array","isArray","length"],"mappings":"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"}