a813b2a24812950b10304e9051d9d2d7
// ===================================
// HOOK: useTrendingSearches - BÃºsquedas populares/trending
// ===================================
"use strict";

/* istanbul ignore next */
function cov_fdwkozdgr() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\useTrendingSearches.ts";
  var hash = "f27d39eb1ac434762516b9d1aa2097ff42fc7ffc";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\useTrendingSearches.ts",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 7,
          column: 3
        }
      },
      "1": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "2": {
        start: {
          line: 9,
          column: 24
        },
        end: {
          line: 12,
          column: 7
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 27,
          column: 3
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 24
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 35
        }
      },
      "6": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 45
        }
      },
      "7": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 41
        }
      },
      "8": {
        start: {
          line: 28,
          column: 20
        },
        end: {
          line: 28,
          column: 52
        }
      },
      "9": {
        start: {
          line: 29,
          column: 21
        },
        end: {
          line: 29,
          column: 51
        }
      },
      "10": {
        start: {
          line: 31,
          column: 95
        },
        end: {
          line: 31,
          column: 102
        }
      },
      "11": {
        start: {
          line: 33,
          column: 57
        },
        end: {
          line: 88,
          column: 6
        }
      },
      "12": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 49,
          column: 15
        }
      },
      "13": {
        start: {
          line: 50,
          column: 27
        },
        end: {
          line: 50,
          column: 48
        }
      },
      "14": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 51,
          column: 50
        }
      },
      "15": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 52,
          column: 48
        }
      },
      "16": {
        start: {
          line: 53,
          column: 12
        },
        end: {
          line: 55,
          column: 13
        }
      },
      "17": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 54,
          column: 49
        }
      },
      "18": {
        start: {
          line: 56,
          column: 24
        },
        end: {
          line: 56,
          column: 67
        }
      },
      "19": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 57,
          column: 72
        }
      },
      "20": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 80,
          column: 13
        }
      },
      "21": {
        start: {
          line: 59,
          column: 33
        },
        end: {
          line: 59,
          column: 49
        }
      },
      "22": {
        start: {
          line: 60,
          column: 16
        },
        end: {
          line: 60,
          column: 89
        }
      },
      "23": {
        start: {
          line: 61,
          column: 16
        },
        end: {
          line: 64,
          column: 17
        }
      },
      "24": {
        start: {
          line: 62,
          column: 20
        },
        end: {
          line: 62,
          column: 116
        }
      },
      "25": {
        start: {
          line: 63,
          column: 20
        },
        end: {
          line: 63,
          column: 92
        }
      },
      "26": {
        start: {
          line: 65,
          column: 31
        },
        end: {
          line: 65,
          column: 52
        }
      },
      "27": {
        start: {
          line: 66,
          column: 16
        },
        end: {
          line: 66,
          column: 81
        }
      },
      "28": {
        start: {
          line: 67,
          column: 16
        },
        end: {
          line: 70,
          column: 17
        }
      },
      "29": {
        start: {
          line: 68,
          column: 20
        },
        end: {
          line: 68,
          column: 95
        }
      },
      "30": {
        start: {
          line: 69,
          column: 20
        },
        end: {
          line: 69,
          column: 91
        }
      },
      "31": {
        start: {
          line: 71,
          column: 16
        },
        end: {
          line: 75,
          column: 19
        }
      },
      "32": {
        start: {
          line: 76,
          column: 16
        },
        end: {
          line: 76,
          column: 35
        }
      },
      "33": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 78,
          column: 82
        }
      },
      "34": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 79,
          column: 33
        }
      },
      "35": {
        start: {
          line: 87,
          column: 36
        },
        end: {
          line: 87,
          column: 77
        }
      },
      "36": {
        start: {
          line: 90,
          column: 24
        },
        end: {
          line: 111,
          column: 5
        }
      },
      "37": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 110,
          column: 9
        }
      },
      "38": {
        start: {
          line: 92,
          column: 29
        },
        end: {
          line: 103,
          column: 14
        }
      },
      "39": {
        start: {
          line: 104,
          column: 12
        },
        end: {
          line: 106,
          column: 21
        }
      },
      "40": {
        start: {
          line: 105,
          column: 16
        },
        end: {
          line: 105,
          column: 75
        }
      },
      "41": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 61
        }
      },
      "42": {
        start: {
          line: 112,
          column: 19
        },
        end: {
          line: 120,
          column: 5
        }
      },
      "43": {
        start: {
          line: 121,
          column: 4
        },
        end: {
          line: 128,
          column: 7
        }
      },
      "44": {
        start: {
          line: 129,
          column: 4
        },
        end: {
          line: 129,
          column: 18
        }
      },
      "45": {
        start: {
          line: 132,
          column: 33
        },
        end: {
          line: 134,
          column: 6
        }
      },
      "46": {
        start: {
          line: 135,
          column: 4
        },
        end: {
          line: 135,
          column: 28
        }
      },
      "47": {
        start: {
          line: 138,
          column: 33
        },
        end: {
          line: 142,
          column: 6
        }
      },
      "48": {
        start: {
          line: 143,
          column: 4
        },
        end: {
          line: 143,
          column: 28
        }
      },
      "49": {
        start: {
          line: 145,
          column: 17
        },
        end: {
          line: 145,
          column: 36
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 16
          }
        },
        loc: {
          start: {
            line: 8,
            column: 30
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 19
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 31
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 41
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 37
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "5": {
        name: "useTrendingSearches",
        decl: {
          start: {
            line: 30,
            column: 9
          },
          end: {
            line: 30,
            column: 28
          }
        },
        loc: {
          start: {
            line: 30,
            column: 43
          },
          end: {
            line: 130,
            column: 1
          }
        },
        line: 30
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 43,
            column: 17
          },
          end: {
            line: 43,
            column: 18
          }
        },
        loc: {
          start: {
            line: 43,
            column: 27
          },
          end: {
            line: 81,
            column: 9
          }
        },
        line: 43
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 87,
            column: 20
          },
          end: {
            line: 87,
            column: 21
          }
        },
        loc: {
          start: {
            line: 87,
            column: 36
          },
          end: {
            line: 87,
            column: 77
          }
        },
        line: 87
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 90,
            column: 24
          },
          end: {
            line: 90,
            column: 25
          }
        },
        loc: {
          start: {
            line: 90,
            column: 55
          },
          end: {
            line: 111,
            column: 5
          }
        },
        line: 90
      },
      "9": {
        name: "useTrendingSearchesSimple",
        decl: {
          start: {
            line: 131,
            column: 9
          },
          end: {
            line: 131,
            column: 34
          }
        },
        loc: {
          start: {
            line: 131,
            column: 46
          },
          end: {
            line: 136,
            column: 1
          }
        },
        line: 131
      },
      "10": {
        name: "useTrendingSearchesByCategory",
        decl: {
          start: {
            line: 137,
            column: 9
          },
          end: {
            line: 137,
            column: 38
          }
        },
        loc: {
          start: {
            line: 137,
            column: 60
          },
          end: {
            line: 144,
            column: 1
          }
        },
        line: 137
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 30,
            column: 29
          },
          end: {
            line: 30,
            column: 41
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 30,
            column: 39
          },
          end: {
            line: 30,
            column: 41
          }
        }],
        line: 30
      },
      "1": {
        loc: {
          start: {
            line: 31,
            column: 12
          },
          end: {
            line: 31,
            column: 21
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 31,
            column: 20
          },
          end: {
            line: 31,
            column: 21
          }
        }],
        line: 31
      },
      "2": {
        loc: {
          start: {
            line: 31,
            column: 23
          },
          end: {
            line: 31,
            column: 31
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 31,
            column: 30
          },
          end: {
            line: 31,
            column: 31
          }
        }],
        line: 31
      },
      "3": {
        loc: {
          start: {
            line: 31,
            column: 43
          },
          end: {
            line: 31,
            column: 57
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 31,
            column: 53
          },
          end: {
            line: 31,
            column: 57
          }
        }],
        line: 31
      },
      "4": {
        loc: {
          start: {
            line: 31,
            column: 59
          },
          end: {
            line: 31,
            column: 90
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 31,
            column: 77
          },
          end: {
            line: 31,
            column: 90
          }
        }],
        line: 31
      },
      "5": {
        loc: {
          start: {
            line: 53,
            column: 12
          },
          end: {
            line: 55,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 53,
            column: 12
          },
          end: {
            line: 55,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 53
      },
      "6": {
        loc: {
          start: {
            line: 61,
            column: 16
          },
          end: {
            line: 64,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 61,
            column: 16
          },
          end: {
            line: 64,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 61
      },
      "7": {
        loc: {
          start: {
            line: 67,
            column: 16
          },
          end: {
            line: 70,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 16
          },
          end: {
            line: 70,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "8": {
        loc: {
          start: {
            line: 67,
            column: 20
          },
          end: {
            line: 67,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 20
          },
          end: {
            line: 67,
            column: 35
          }
        }, {
          start: {
            line: 67,
            column: 39
          },
          end: {
            line: 67,
            column: 51
          }
        }],
        line: 67
      },
      "9": {
        loc: {
          start: {
            line: 69,
            column: 36
          },
          end: {
            line: 69,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 69,
            column: 36
          },
          end: {
            line: 69,
            column: 48
          }
        }, {
          start: {
            line: 69,
            column: 52
          },
          end: {
            line: 69,
            column: 89
          }
        }],
        line: 69
      },
      "10": {
        loc: {
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 106,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 106,
            column: 21
          }
        }, {
          start: {
            line: 106,
            column: 19
          },
          end: {
            line: 106,
            column: 21
          }
        }],
        line: 104
      },
      "11": {
        loc: {
          start: {
            line: 113,
            column: 26
          },
          end: {
            line: 113,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 113,
            column: 26
          },
          end: {
            line: 113,
            column: 40
          }
        }, {
          start: {
            line: 113,
            column: 44
          },
          end: {
            line: 113,
            column: 46
          }
        }],
        line: 113
      },
      "12": {
        loc: {
          start: {
            line: 118,
            column: 21
          },
          end: {
            line: 118,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 118,
            column: 21
          },
          end: {
            line: 118,
            column: 38
          }
        }, {
          start: {
            line: 118,
            column: 42
          },
          end: {
            line: 118,
            column: 46
          }
        }],
        line: 118
      },
      "13": {
        loc: {
          start: {
            line: 131,
            column: 35
          },
          end: {
            line: 131,
            column: 44
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 131,
            column: 43
          },
          end: {
            line: 131,
            column: 44
          }
        }],
        line: 131
      },
      "14": {
        loc: {
          start: {
            line: 137,
            column: 49
          },
          end: {
            line: 137,
            column: 58
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 137,
            column: 57
          },
          end: {
            line: 137,
            column: 58
          }
        }],
        line: 137
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0],
      "3": [0],
      "4": [0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0],
      "14": [0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\useTrendingSearches.ts"],
      sourcesContent: ["// ===================================\r\n// HOOK: useTrendingSearches - B\xFAsquedas populares/trending\r\n// ===================================\r\n\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { searchQueryKeys } from '@/lib/query-client';\r\nimport { TrendingSearch, TrendingSearchesResponse } from '@/app/api/search/trending/route';\r\nimport { ApiResponse } from '@/types/api';\r\n\r\nexport interface UseTrendingSearchesOptions {\r\n  /** N\xFAmero m\xE1ximo de b\xFAsquedas trending a obtener */\r\n  limit?: number;\r\n  /** N\xFAmero de d\xEDas hacia atr\xE1s para calcular trending */\r\n  days?: number;\r\n  /** Filtrar por categor\xEDa espec\xEDfica */\r\n  category?: string;\r\n  /** Habilitar/deshabilitar la query */\r\n  enabled?: boolean;\r\n  /** Intervalo de refetch en milisegundos */\r\n  refetchInterval?: number;\r\n}\r\n\r\nexport interface UseTrendingSearchesReturn {\r\n  /** B\xFAsquedas trending */\r\n  trendingSearches: TrendingSearch[];\r\n  /** Indica si est\xE1 cargando */\r\n  isLoading: boolean;\r\n  /** Indica si hay un error */\r\n  error: Error | null;\r\n  /** Funci\xF3n para refrescar los datos */\r\n  refetch: () => void;\r\n  /** Indica si los datos est\xE1n obsoletos */\r\n  isStale: boolean;\r\n  /** Timestamp de la \xFAltima actualizaci\xF3n */\r\n  lastUpdated: string | null;\r\n  /** Funci\xF3n para registrar una b\xFAsqueda */\r\n  trackSearch: (query: string, category?: string) => Promise<void>;\r\n}\r\n\r\n/**\r\n * Hook para obtener b\xFAsquedas trending/populares\r\n * \r\n * Obtiene las b\xFAsquedas m\xE1s populares basadas en datos reales del sistema\r\n * de analytics, con fallback a datos por defecto.\r\n */\r\nexport function useTrendingSearches(options: UseTrendingSearchesOptions = {}): UseTrendingSearchesReturn {\r\n  const {\r\n    limit = 6,\r\n    days = 7,\r\n    category,\r\n    enabled = true,\r\n    refetchInterval = 5 * 60 * 1000, // 5 minutos\r\n  } = options;\r\n\r\n  // Query para obtener b\xFAsquedas trending\r\n  const {\r\n    data,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n    isStale,\r\n  } = useQuery({\r\n    queryKey: [...searchQueryKeys.trending(), 'params', { limit, days, category }],\r\n    queryFn: async (): Promise<TrendingSearchesResponse> => {\r\n      console.log('\uD83D\uDD25 useTrendingSearches: Iniciando fetch de trending searches', {\r\n        limit,\r\n        days,\r\n        category,\r\n        enabled\r\n      });\r\n\r\n      const params = new URLSearchParams();\r\n      params.set('limit', limit.toString());\r\n      params.set('days', days.toString());\r\n      \r\n      if (category) {\r\n        params.set('category', category);\r\n      }\r\n\r\n      const url = `/api/search/trending?${params.toString()}`;\r\n      console.log('\uD83D\uDD25 useTrendingSearches: URL construida:', url);\r\n\r\n      try {\r\n        const response = await fetch(url);\r\n        console.log('\uD83D\uDD25 useTrendingSearches: Response status:', response.status);\r\n        \r\n        if (!response.ok) {\r\n          console.error('\uD83D\uDD25 useTrendingSearches: Response not OK:', response.status, response.statusText);\r\n          throw new Error(`Error fetching trending searches: ${response.status}`);\r\n        }\r\n\r\n        const result: ApiResponse<TrendingSearchesResponse> = await response.json();\r\n        console.log('\uD83D\uDD25 useTrendingSearches: Raw API response:', result);\r\n        \r\n        if (!result.success || !result.data) {\r\n          console.error('\uD83D\uDD25 useTrendingSearches: API response error:', result.error);\r\n          throw new Error(result.error || 'Error obteniendo b\xFAsquedas trending');\r\n        }\r\n\r\n        console.log('\u2705 useTrendingSearches: Trending searches fetched successfully', {\r\n          count: result.data.trending.length,\r\n          lastUpdated: result.data.lastUpdated,\r\n          data: result.data.trending\r\n        });\r\n\r\n        return result.data;\r\n      } catch (fetchError) {\r\n        console.error('\uD83D\uDD25 useTrendingSearches: Fetch error:', fetchError);\r\n        throw fetchError;\r\n      }\r\n    },\r\n    enabled,\r\n    refetchInterval,\r\n    staleTime: 2 * 60 * 1000, // 2 minutos\r\n    gcTime: 10 * 60 * 1000, // 10 minutos\r\n    retry: 2,\r\n    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\r\n  });\r\n\r\n  // Funci\xF3n para registrar una b\xFAsqueda en analytics\r\n  const trackSearch = async (query: string, searchCategory?: string): Promise<void> => {\r\n    try {\r\n\r\n      const response = await fetch('/api/search/trending', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          query: query.trim(),\r\n          category: searchCategory,\r\n          userId: null, // Se puede obtener del contexto de auth si est\xE1 disponible\r\n          sessionId: `session-${Date.now()}`, // Generar session ID simple\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.warn('\u26A0\uFE0F Error tracking search:', response.status);\r\n      } else {\r\n      }\r\n    } catch (error) {\r\n      console.warn('\u26A0\uFE0F Error tracking search:', error);\r\n      // No lanzar error para no interrumpir la experiencia del usuario\r\n    }\r\n  };\r\n\r\n  const result = {\r\n    trendingSearches: data?.trending || [],\r\n    isLoading,\r\n    error: error as Error | null,\r\n    refetch,\r\n    isStale,\r\n    lastUpdated: data?.lastUpdated || null,\r\n    trackSearch,\r\n  };\r\n\r\n  console.log('\uD83D\uDD25 useTrendingSearches: Hook result:', {\r\n    trendingSearchesCount: result.trendingSearches.length,\r\n    isLoading: result.isLoading,\r\n    error: result.error,\r\n    data: data,\r\n    rawTrending: data?.trending,\r\n    enabled\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Hook simplificado para obtener solo las b\xFAsquedas trending\r\n */\r\nexport function useTrendingSearchesSimple(limit: number = 6): TrendingSearch[] {\r\n  const { trendingSearches } = useTrendingSearches({ limit });\r\n  return trendingSearches;\r\n}\r\n\r\n/**\r\n * Hook para obtener b\xFAsquedas trending por categor\xEDa\r\n */\r\nexport function useTrendingSearchesByCategory(category: string, limit: number = 4): TrendingSearch[] {\r\n  const { trendingSearches } = useTrendingSearches({ \r\n    category, \r\n    limit,\r\n    refetchInterval: 10 * 60 * 1000 // 10 minutos para categor\xEDas espec\xEDficas\r\n  });\r\n  return trendingSearches;\r\n}\r\n\r\nexport default useTrendingSearches;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["useTrendingSearches", "useTrendingSearchesByCategory", "useTrendingSearchesSimple", "options", "limit", "days", "category", "enabled", "refetchInterval", "data", "isLoading", "error", "refetch", "isStale", "useQuery", "queryKey", "searchQueryKeys", "trending", "queryFn", "console", "log", "params", "URLSearchParams", "set", "toString", "url", "response", "fetch", "status", "ok", "statusText", "Error", "result", "json", "success", "count", "length", "lastUpdated", "fetchError", "staleTime", "gcTime", "retry", "retryDelay", "attemptIndex", "Math", "min", "trackSearch", "query", "searchCategory", "method", "headers", "body", "JSON", "stringify", "trim", "userId", "sessionId", "Date", "now", "warn", "trendingSearches", "trendingSearchesCount", "rawTrending"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f27d39eb1ac434762516b9d1aa2097ff42fc7ffc"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_fdwkozdgr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_fdwkozdgr();
cov_fdwkozdgr().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_fdwkozdgr().f[0]++;
  cov_fdwkozdgr().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_fdwkozdgr().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_fdwkozdgr().s[3]++;
_export(exports, {
  get default() {
    /* istanbul ignore next */
    cov_fdwkozdgr().f[1]++;
    cov_fdwkozdgr().s[4]++;
    return _default;
  },
  get useTrendingSearches() {
    /* istanbul ignore next */
    cov_fdwkozdgr().f[2]++;
    cov_fdwkozdgr().s[5]++;
    return useTrendingSearches;
  },
  get useTrendingSearchesByCategory() {
    /* istanbul ignore next */
    cov_fdwkozdgr().f[3]++;
    cov_fdwkozdgr().s[6]++;
    return useTrendingSearchesByCategory;
  },
  get useTrendingSearchesSimple() {
    /* istanbul ignore next */
    cov_fdwkozdgr().f[4]++;
    cov_fdwkozdgr().s[7]++;
    return useTrendingSearchesSimple;
  }
});
const _reactquery =
/* istanbul ignore next */
(cov_fdwkozdgr().s[8]++, require("@tanstack/react-query"));
const _queryclient =
/* istanbul ignore next */
(cov_fdwkozdgr().s[9]++, require("../lib/query-client"));
function useTrendingSearches(options =
/* istanbul ignore next */
(cov_fdwkozdgr().b[0][0]++, {})) {
  /* istanbul ignore next */
  cov_fdwkozdgr().f[5]++;
  const {
    limit =
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[1][0]++, 6),
    days =
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[2][0]++, 7),
    category,
    enabled =
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[3][0]++, true),
    refetchInterval =
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[4][0]++, 5 * 60 * 1000)
  } =
  /* istanbul ignore next */
  (cov_fdwkozdgr().s[10]++, options);
  // Query para obtener bÃºsquedas trending
  const {
    data,
    isLoading,
    error,
    refetch,
    isStale
  } =
  /* istanbul ignore next */
  (cov_fdwkozdgr().s[11]++, (0, _reactquery.useQuery)({
    queryKey: [..._queryclient.searchQueryKeys.trending(), 'params', {
      limit,
      days,
      category
    }],
    queryFn: async () => {
      /* istanbul ignore next */
      cov_fdwkozdgr().f[6]++;
      cov_fdwkozdgr().s[12]++;
      console.log('ğ¥ useTrendingSearches: Iniciando fetch de trending searches', {
        limit,
        days,
        category,
        enabled
      });
      const params =
      /* istanbul ignore next */
      (cov_fdwkozdgr().s[13]++, new URLSearchParams());
      /* istanbul ignore next */
      cov_fdwkozdgr().s[14]++;
      params.set('limit', limit.toString());
      /* istanbul ignore next */
      cov_fdwkozdgr().s[15]++;
      params.set('days', days.toString());
      /* istanbul ignore next */
      cov_fdwkozdgr().s[16]++;
      if (category) {
        /* istanbul ignore next */
        cov_fdwkozdgr().b[5][0]++;
        cov_fdwkozdgr().s[17]++;
        params.set('category', category);
      } else
      /* istanbul ignore next */
      {
        cov_fdwkozdgr().b[5][1]++;
      }
      const url =
      /* istanbul ignore next */
      (cov_fdwkozdgr().s[18]++, `/api/search/trending?${params.toString()}`);
      /* istanbul ignore next */
      cov_fdwkozdgr().s[19]++;
      console.log('ğ¥ useTrendingSearches: URL construida:', url);
      /* istanbul ignore next */
      cov_fdwkozdgr().s[20]++;
      try {
        const response =
        /* istanbul ignore next */
        (cov_fdwkozdgr().s[21]++, await fetch(url));
        /* istanbul ignore next */
        cov_fdwkozdgr().s[22]++;
        console.log('ğ¥ useTrendingSearches: Response status:', response.status);
        /* istanbul ignore next */
        cov_fdwkozdgr().s[23]++;
        if (!response.ok) {
          /* istanbul ignore next */
          cov_fdwkozdgr().b[6][0]++;
          cov_fdwkozdgr().s[24]++;
          console.error('ğ¥ useTrendingSearches: Response not OK:', response.status, response.statusText);
          /* istanbul ignore next */
          cov_fdwkozdgr().s[25]++;
          throw new Error(`Error fetching trending searches: ${response.status}`);
        } else
        /* istanbul ignore next */
        {
          cov_fdwkozdgr().b[6][1]++;
        }
        const result =
        /* istanbul ignore next */
        (cov_fdwkozdgr().s[26]++, await response.json());
        /* istanbul ignore next */
        cov_fdwkozdgr().s[27]++;
        console.log('ğ¥ useTrendingSearches: Raw API response:', result);
        /* istanbul ignore next */
        cov_fdwkozdgr().s[28]++;
        if (
        /* istanbul ignore next */
        (cov_fdwkozdgr().b[8][0]++, !result.success) ||
        /* istanbul ignore next */
        (cov_fdwkozdgr().b[8][1]++, !result.data)) {
          /* istanbul ignore next */
          cov_fdwkozdgr().b[7][0]++;
          cov_fdwkozdgr().s[29]++;
          console.error('ğ¥ useTrendingSearches: API response error:', result.error);
          /* istanbul ignore next */
          cov_fdwkozdgr().s[30]++;
          throw new Error(
          /* istanbul ignore next */
          (cov_fdwkozdgr().b[9][0]++, result.error) ||
          /* istanbul ignore next */
          (cov_fdwkozdgr().b[9][1]++, 'Error obteniendo bÃºsquedas trending'));
        } else
        /* istanbul ignore next */
        {
          cov_fdwkozdgr().b[7][1]++;
        }
        cov_fdwkozdgr().s[31]++;
        console.log('â useTrendingSearches: Trending searches fetched successfully', {
          count: result.data.trending.length,
          lastUpdated: result.data.lastUpdated,
          data: result.data.trending
        });
        /* istanbul ignore next */
        cov_fdwkozdgr().s[32]++;
        return result.data;
      } catch (fetchError) {
        /* istanbul ignore next */
        cov_fdwkozdgr().s[33]++;
        console.error('ğ¥ useTrendingSearches: Fetch error:', fetchError);
        /* istanbul ignore next */
        cov_fdwkozdgr().s[34]++;
        throw fetchError;
      }
    },
    enabled,
    refetchInterval,
    staleTime: 2 * 60 * 1000,
    gcTime: 10 * 60 * 1000,
    retry: 2,
    retryDelay: attemptIndex => {
      /* istanbul ignore next */
      cov_fdwkozdgr().f[7]++;
      cov_fdwkozdgr().s[35]++;
      return Math.min(1000 * 2 ** attemptIndex, 30000);
    }
  }));
  // FunciÃ³n para registrar una bÃºsqueda en analytics
  /* istanbul ignore next */
  cov_fdwkozdgr().s[36]++;
  const trackSearch = async (query, searchCategory) => {
    /* istanbul ignore next */
    cov_fdwkozdgr().f[8]++;
    cov_fdwkozdgr().s[37]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_fdwkozdgr().s[38]++, await fetch('/api/search/trending', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          query: query.trim(),
          category: searchCategory,
          userId: null,
          sessionId: `session-${Date.now()}`
        })
      }));
      /* istanbul ignore next */
      cov_fdwkozdgr().s[39]++;
      if (!response.ok) {
        /* istanbul ignore next */
        cov_fdwkozdgr().b[10][0]++;
        cov_fdwkozdgr().s[40]++;
        console.warn('â ï¸ Error tracking search:', response.status);
      } else {
        /* istanbul ignore next */
        cov_fdwkozdgr().b[10][1]++;
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_fdwkozdgr().s[41]++;
      console.warn('â ï¸ Error tracking search:', error);
      // No lanzar error para no interrumpir la experiencia del usuario
    }
  };
  const result =
  /* istanbul ignore next */
  (cov_fdwkozdgr().s[42]++, {
    trendingSearches:
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[11][0]++, data?.trending) ||
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[11][1]++, []),
    isLoading,
    error: error,
    refetch,
    isStale,
    lastUpdated:
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[12][0]++, data?.lastUpdated) ||
    /* istanbul ignore next */
    (cov_fdwkozdgr().b[12][1]++, null),
    trackSearch
  });
  /* istanbul ignore next */
  cov_fdwkozdgr().s[43]++;
  console.log('ğ¥ useTrendingSearches: Hook result:', {
    trendingSearchesCount: result.trendingSearches.length,
    isLoading: result.isLoading,
    error: result.error,
    data: data,
    rawTrending: data?.trending,
    enabled
  });
  /* istanbul ignore next */
  cov_fdwkozdgr().s[44]++;
  return result;
}
function useTrendingSearchesSimple(limit =
/* istanbul ignore next */
(cov_fdwkozdgr().b[13][0]++, 6)) {
  /* istanbul ignore next */
  cov_fdwkozdgr().f[9]++;
  const {
    trendingSearches
  } =
  /* istanbul ignore next */
  (cov_fdwkozdgr().s[45]++, useTrendingSearches({
    limit
  }));
  /* istanbul ignore next */
  cov_fdwkozdgr().s[46]++;
  return trendingSearches;
}
function useTrendingSearchesByCategory(category, limit =
/* istanbul ignore next */
(cov_fdwkozdgr().b[14][0]++, 4)) {
  /* istanbul ignore next */
  cov_fdwkozdgr().f[10]++;
  const {
    trendingSearches
  } =
  /* istanbul ignore next */
  (cov_fdwkozdgr().s[47]++, useTrendingSearches({
    category,
    limit,
    refetchInterval: 10 * 60 * 1000 // 10 minutos para categorÃ­as especÃ­ficas
  }));
  /* istanbul ignore next */
  cov_fdwkozdgr().s[48]++;
  return trendingSearches;
}
const _default =
/* istanbul ignore next */
(cov_fdwkozdgr().s[49]++, useTrendingSearches);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwiY292X2Zkd2tvemRnciIsImYiLCJzIiwiX2RlZmF1bHQiLCJ1c2VUcmVuZGluZ1NlYXJjaGVzIiwidXNlVHJlbmRpbmdTZWFyY2hlc0J5Q2F0ZWdvcnkiLCJ1c2VUcmVuZGluZ1NlYXJjaGVzU2ltcGxlIiwib3B0aW9ucyIsImIiLCJsaW1pdCIsImRheXMiLCJjYXRlZ29yeSIsImVuYWJsZWQiLCJyZWZldGNoSW50ZXJ2YWwiLCJkYXRhIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJyZWZldGNoIiwiaXNTdGFsZSIsIl9yZWFjdHF1ZXJ5IiwidXNlUXVlcnkiLCJxdWVyeUtleSIsIl9xdWVyeWNsaWVudCIsInNlYXJjaFF1ZXJ5S2V5cyIsInRyZW5kaW5nIiwicXVlcnlGbiIsImNvbnNvbGUiLCJsb2ciLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZXQiLCJ0b1N0cmluZyIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiY291bnQiLCJsZW5ndGgiLCJsYXN0VXBkYXRlZCIsImZldGNoRXJyb3IiLCJzdGFsZVRpbWUiLCJnY1RpbWUiLCJyZXRyeSIsInJldHJ5RGVsYXkiLCJhdHRlbXB0SW5kZXgiLCJNYXRoIiwibWluIiwidHJhY2tTZWFyY2giLCJxdWVyeSIsInNlYXJjaENhdGVnb3J5IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidHJpbSIsInVzZXJJZCIsInNlc3Npb25JZCIsIkRhdGUiLCJub3ciLCJ3YXJuIiwidHJlbmRpbmdTZWFyY2hlcyIsInRyZW5kaW5nU2VhcmNoZXNDb3VudCIsInJhd1RyZW5kaW5nIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxob29rc1xcdXNlVHJlbmRpbmdTZWFyY2hlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIT09LOiB1c2VUcmVuZGluZ1NlYXJjaGVzIC0gQsO6c3F1ZWRhcyBwb3B1bGFyZXMvdHJlbmRpbmdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcclxuaW1wb3J0IHsgc2VhcmNoUXVlcnlLZXlzIH0gZnJvbSAnQC9saWIvcXVlcnktY2xpZW50JztcclxuaW1wb3J0IHsgVHJlbmRpbmdTZWFyY2gsIFRyZW5kaW5nU2VhcmNoZXNSZXNwb25zZSB9IGZyb20gJ0AvYXBwL2FwaS9zZWFyY2gvdHJlbmRpbmcvcm91dGUnO1xyXG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMvYXBpJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVHJlbmRpbmdTZWFyY2hlc09wdGlvbnMge1xyXG4gIC8qKiBOw7ptZXJvIG3DoXhpbW8gZGUgYsO6c3F1ZWRhcyB0cmVuZGluZyBhIG9idGVuZXIgKi9cclxuICBsaW1pdD86IG51bWJlcjtcclxuICAvKiogTsO6bWVybyBkZSBkw61hcyBoYWNpYSBhdHLDoXMgcGFyYSBjYWxjdWxhciB0cmVuZGluZyAqL1xyXG4gIGRheXM/OiBudW1iZXI7XHJcbiAgLyoqIEZpbHRyYXIgcG9yIGNhdGVnb3LDrWEgZXNwZWPDrWZpY2EgKi9cclxuICBjYXRlZ29yeT86IHN0cmluZztcclxuICAvKiogSGFiaWxpdGFyL2Rlc2hhYmlsaXRhciBsYSBxdWVyeSAqL1xyXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xyXG4gIC8qKiBJbnRlcnZhbG8gZGUgcmVmZXRjaCBlbiBtaWxpc2VndW5kb3MgKi9cclxuICByZWZldGNoSW50ZXJ2YWw/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVHJlbmRpbmdTZWFyY2hlc1JldHVybiB7XHJcbiAgLyoqIELDunNxdWVkYXMgdHJlbmRpbmcgKi9cclxuICB0cmVuZGluZ1NlYXJjaGVzOiBUcmVuZGluZ1NlYXJjaFtdO1xyXG4gIC8qKiBJbmRpY2Egc2kgZXN0w6EgY2FyZ2FuZG8gKi9cclxuICBpc0xvYWRpbmc6IGJvb2xlYW47XHJcbiAgLyoqIEluZGljYSBzaSBoYXkgdW4gZXJyb3IgKi9cclxuICBlcnJvcjogRXJyb3IgfCBudWxsO1xyXG4gIC8qKiBGdW5jacOzbiBwYXJhIHJlZnJlc2NhciBsb3MgZGF0b3MgKi9cclxuICByZWZldGNoOiAoKSA9PiB2b2lkO1xyXG4gIC8qKiBJbmRpY2Egc2kgbG9zIGRhdG9zIGVzdMOhbiBvYnNvbGV0b3MgKi9cclxuICBpc1N0YWxlOiBib29sZWFuO1xyXG4gIC8qKiBUaW1lc3RhbXAgZGUgbGEgw7psdGltYSBhY3R1YWxpemFjacOzbiAqL1xyXG4gIGxhc3RVcGRhdGVkOiBzdHJpbmcgfCBudWxsO1xyXG4gIC8qKiBGdW5jacOzbiBwYXJhIHJlZ2lzdHJhciB1bmEgYsO6c3F1ZWRhICovXHJcbiAgdHJhY2tTZWFyY2g6IChxdWVyeTogc3RyaW5nLCBjYXRlZ29yeT86IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhvb2sgcGFyYSBvYnRlbmVyIGLDunNxdWVkYXMgdHJlbmRpbmcvcG9wdWxhcmVzXHJcbiAqIFxyXG4gKiBPYnRpZW5lIGxhcyBiw7pzcXVlZGFzIG3DoXMgcG9wdWxhcmVzIGJhc2FkYXMgZW4gZGF0b3MgcmVhbGVzIGRlbCBzaXN0ZW1hXHJcbiAqIGRlIGFuYWx5dGljcywgY29uIGZhbGxiYWNrIGEgZGF0b3MgcG9yIGRlZmVjdG8uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJlbmRpbmdTZWFyY2hlcyhvcHRpb25zOiBVc2VUcmVuZGluZ1NlYXJjaGVzT3B0aW9ucyA9IHt9KTogVXNlVHJlbmRpbmdTZWFyY2hlc1JldHVybiB7XHJcbiAgY29uc3Qge1xyXG4gICAgbGltaXQgPSA2LFxyXG4gICAgZGF5cyA9IDcsXHJcbiAgICBjYXRlZ29yeSxcclxuICAgIGVuYWJsZWQgPSB0cnVlLFxyXG4gICAgcmVmZXRjaEludGVydmFsID0gNSAqIDYwICogMTAwMCwgLy8gNSBtaW51dG9zXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIC8vIFF1ZXJ5IHBhcmEgb2J0ZW5lciBiw7pzcXVlZGFzIHRyZW5kaW5nXHJcbiAgY29uc3Qge1xyXG4gICAgZGF0YSxcclxuICAgIGlzTG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgcmVmZXRjaCxcclxuICAgIGlzU3RhbGUsXHJcbiAgfSA9IHVzZVF1ZXJ5KHtcclxuICAgIHF1ZXJ5S2V5OiBbLi4uc2VhcmNoUXVlcnlLZXlzLnRyZW5kaW5nKCksICdwYXJhbXMnLCB7IGxpbWl0LCBkYXlzLCBjYXRlZ29yeSB9XSxcclxuICAgIHF1ZXJ5Rm46IGFzeW5jICgpOiBQcm9taXNlPFRyZW5kaW5nU2VhcmNoZXNSZXNwb25zZT4gPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UpSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBJbmljaWFuZG8gZmV0Y2ggZGUgdHJlbmRpbmcgc2VhcmNoZXMnLCB7XHJcbiAgICAgICAgbGltaXQsXHJcbiAgICAgICAgZGF5cyxcclxuICAgICAgICBjYXRlZ29yeSxcclxuICAgICAgICBlbmFibGVkXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xyXG4gICAgICBwYXJhbXMuc2V0KCdsaW1pdCcsIGxpbWl0LnRvU3RyaW5nKCkpO1xyXG4gICAgICBwYXJhbXMuc2V0KCdkYXlzJywgZGF5cy50b1N0cmluZygpKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjYXRlZ29yeSkge1xyXG4gICAgICAgIHBhcmFtcy5zZXQoJ2NhdGVnb3J5JywgY2F0ZWdvcnkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSBgL2FwaS9zZWFyY2gvdHJlbmRpbmc/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UpSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBVUkwgY29uc3RydWlkYTonLCB1cmwpO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflKUgdXNlVHJlbmRpbmdTZWFyY2hlczogUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UpSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBSZXNwb25zZSBub3QgT0s6JywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgdHJlbmRpbmcgc2VhcmNoZXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0OiBBcGlSZXNwb25zZTxUcmVuZGluZ1NlYXJjaGVzUmVzcG9uc2U+ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SlIHVzZVRyZW5kaW5nU2VhcmNoZXM6IFJhdyBBUEkgcmVzcG9uc2U6JywgcmVzdWx0KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzIHx8ICFyZXN1bHQuZGF0YSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UpSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBBUEkgcmVzcG9uc2UgZXJyb3I6JywgcmVzdWx0LmVycm9yKTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0Vycm9yIG9idGVuaWVuZG8gYsO6c3F1ZWRhcyB0cmVuZGluZycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBUcmVuZGluZyBzZWFyY2hlcyBmZXRjaGVkIHN1Y2Nlc3NmdWxseScsIHtcclxuICAgICAgICAgIGNvdW50OiByZXN1bHQuZGF0YS50cmVuZGluZy5sZW5ndGgsXHJcbiAgICAgICAgICBsYXN0VXBkYXRlZDogcmVzdWx0LmRhdGEubGFzdFVwZGF0ZWQsXHJcbiAgICAgICAgICBkYXRhOiByZXN1bHQuZGF0YS50cmVuZGluZ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XHJcbiAgICAgIH0gY2F0Y2ggKGZldGNoRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SlIHVzZVRyZW5kaW5nU2VhcmNoZXM6IEZldGNoIGVycm9yOicsIGZldGNoRXJyb3IpO1xyXG4gICAgICAgIHRocm93IGZldGNoRXJyb3I7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlbmFibGVkLFxyXG4gICAgcmVmZXRjaEludGVydmFsLFxyXG4gICAgc3RhbGVUaW1lOiAyICogNjAgKiAxMDAwLCAvLyAyIG1pbnV0b3NcclxuICAgIGdjVGltZTogMTAgKiA2MCAqIDEwMDAsIC8vIDEwIG1pbnV0b3NcclxuICAgIHJldHJ5OiAyLFxyXG4gICAgcmV0cnlEZWxheTogKGF0dGVtcHRJbmRleCkgPT4gTWF0aC5taW4oMTAwMCAqIDIgKiogYXR0ZW1wdEluZGV4LCAzMDAwMCksXHJcbiAgfSk7XHJcblxyXG4gIC8vIEZ1bmNpw7NuIHBhcmEgcmVnaXN0cmFyIHVuYSBiw7pzcXVlZGEgZW4gYW5hbHl0aWNzXHJcbiAgY29uc3QgdHJhY2tTZWFyY2ggPSBhc3luYyAocXVlcnk6IHN0cmluZywgc2VhcmNoQ2F0ZWdvcnk/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NlYXJjaC90cmVuZGluZycsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LnRyaW0oKSxcclxuICAgICAgICAgIGNhdGVnb3J5OiBzZWFyY2hDYXRlZ29yeSxcclxuICAgICAgICAgIHVzZXJJZDogbnVsbCwgLy8gU2UgcHVlZGUgb2J0ZW5lciBkZWwgY29udGV4dG8gZGUgYXV0aCBzaSBlc3TDoSBkaXNwb25pYmxlXHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IGBzZXNzaW9uLSR7RGF0ZS5ub3coKX1gLCAvLyBHZW5lcmFyIHNlc3Npb24gSUQgc2ltcGxlXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEVycm9yIHRyYWNraW5nIHNlYXJjaDonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBFcnJvciB0cmFja2luZyBzZWFyY2g6JywgZXJyb3IpO1xyXG4gICAgICAvLyBObyBsYW56YXIgZXJyb3IgcGFyYSBubyBpbnRlcnJ1bXBpciBsYSBleHBlcmllbmNpYSBkZWwgdXN1YXJpb1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgIHRyZW5kaW5nU2VhcmNoZXM6IGRhdGE/LnRyZW5kaW5nIHx8IFtdLFxyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgZXJyb3I6IGVycm9yIGFzIEVycm9yIHwgbnVsbCxcclxuICAgIHJlZmV0Y2gsXHJcbiAgICBpc1N0YWxlLFxyXG4gICAgbGFzdFVwZGF0ZWQ6IGRhdGE/Lmxhc3RVcGRhdGVkIHx8IG51bGwsXHJcbiAgICB0cmFja1NlYXJjaCxcclxuICB9O1xyXG5cclxuICBjb25zb2xlLmxvZygn8J+UpSB1c2VUcmVuZGluZ1NlYXJjaGVzOiBIb29rIHJlc3VsdDonLCB7XHJcbiAgICB0cmVuZGluZ1NlYXJjaGVzQ291bnQ6IHJlc3VsdC50cmVuZGluZ1NlYXJjaGVzLmxlbmd0aCxcclxuICAgIGlzTG9hZGluZzogcmVzdWx0LmlzTG9hZGluZyxcclxuICAgIGVycm9yOiByZXN1bHQuZXJyb3IsXHJcbiAgICBkYXRhOiBkYXRhLFxyXG4gICAgcmF3VHJlbmRpbmc6IGRhdGE/LnRyZW5kaW5nLFxyXG4gICAgZW5hYmxlZFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vKipcclxuICogSG9vayBzaW1wbGlmaWNhZG8gcGFyYSBvYnRlbmVyIHNvbG8gbGFzIGLDunNxdWVkYXMgdHJlbmRpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUcmVuZGluZ1NlYXJjaGVzU2ltcGxlKGxpbWl0OiBudW1iZXIgPSA2KTogVHJlbmRpbmdTZWFyY2hbXSB7XHJcbiAgY29uc3QgeyB0cmVuZGluZ1NlYXJjaGVzIH0gPSB1c2VUcmVuZGluZ1NlYXJjaGVzKHsgbGltaXQgfSk7XHJcbiAgcmV0dXJuIHRyZW5kaW5nU2VhcmNoZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIb29rIHBhcmEgb2J0ZW5lciBiw7pzcXVlZGFzIHRyZW5kaW5nIHBvciBjYXRlZ29yw61hXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJlbmRpbmdTZWFyY2hlc0J5Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDQpOiBUcmVuZGluZ1NlYXJjaFtdIHtcclxuICBjb25zdCB7IHRyZW5kaW5nU2VhcmNoZXMgfSA9IHVzZVRyZW5kaW5nU2VhcmNoZXMoeyBcclxuICAgIGNhdGVnb3J5LCBcclxuICAgIGxpbWl0LFxyXG4gICAgcmVmZXRjaEludGVydmFsOiAxMCAqIDYwICogMTAwMCAvLyAxMCBtaW51dG9zIHBhcmEgY2F0ZWdvcsOtYXMgZXNwZWPDrWZpY2FzXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHRyZW5kaW5nU2VhcmNoZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZVRyZW5kaW5nU2VhcmNoZXM7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BMExBQSxRQUFBO0lBQUE7SUFBQUMsYUFBQSxHQUFBQyxDQUFBO0lBQUFELGFBQUEsR0FBQUUsQ0FBQTtXQUFBQyxRQUFBOztNQS9JZ0JDLG9CQUFBO0lBQUE7SUFBQUosYUFBQSxHQUFBQyxDQUFBO0lBQUFELGFBQUEsR0FBQUUsQ0FB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