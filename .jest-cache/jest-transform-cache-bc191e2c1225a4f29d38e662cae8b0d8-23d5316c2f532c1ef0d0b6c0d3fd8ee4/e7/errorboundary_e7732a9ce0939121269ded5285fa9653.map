{"version":3,"names":["ErrorBoundary","cov_1lcyc4js7g","f","s","useErrorBoundary","_react","Component","constructor","props","handleRetry","setState","hasError","error","undefined","errorInfo","onRetry","b","handleGoHome","window","location","href","state","getDerivedStateFromError","componentDidCatch","console","onError","render","fallback","_jsxruntime","jsx","className","jsxs","_card","Card","CardHeader","_lucidereact","AlertTriangle","CardTitle","title","CardDescription","description","CardContent","showDetails","message","_button","Button","onClick","RefreshCw","variant","Home","children","captureError"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\error-boundary.tsx"],"sourcesContent":["// =====================================================\r\n// COMPONENTE: ERROR BOUNDARY\r\n// Descripción: Componente para manejo de errores con UI elegante\r\n// Basado en: React Error Boundary patterns + shadcn/ui\r\n// =====================================================\r\n\r\n'use client';\r\n\r\nimport { Component, ReactNode } from 'react';\r\nimport { AlertTriangle, RefreshCw, Home } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\ninterface ErrorBoundaryState {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: any;\r\n}\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  onError?: (error: Error, errorInfo: any) => void;\r\n  title?: string;\r\n  description?: string;\r\n  showDetails?: boolean;\r\n  onRetry?: () => void;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\r\n    return {\r\n      hasError: true,\r\n      error\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: any) {\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n  }\r\n\r\n  handleRetry = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n    if (this.props.onRetry) {\r\n      this.props.onRetry();\r\n    }\r\n  };\r\n\r\n  handleGoHome = () => {\r\n    window.location.href = '/';\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"min-h-[400px] flex items-center justify-center p-6\">\r\n          <Card className=\"w-full max-w-md\">\r\n            <CardHeader className=\"text-center\">\r\n              <div className=\"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4\">\r\n                <AlertTriangle className=\"w-6 h-6 text-red-600\" />\r\n              </div>\r\n              <CardTitle className=\"text-red-900\">\r\n                {this.props.title || 'Algo salió mal'}\r\n              </CardTitle>\r\n              <CardDescription>\r\n                {this.props.description || 'Ha ocurrido un error inesperado. Por favor, intenta nuevamente.'}\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {this.props.showDetails && this.state.error && (\r\n                <div className=\"bg-gray-50 p-3 rounded-md\">\r\n                  <p className=\"text-sm font-medium text-gray-900 mb-1\">\r\n                    Error técnico:\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-600 font-mono\">\r\n                    {this.state.error.message}\r\n                  </p>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                <Button \r\n                  onClick={this.handleRetry}\r\n                  className=\"flex items-center gap-2 flex-1\"\r\n                >\r\n                  <RefreshCw className=\"w-4 h-4\" />\r\n                  Reintentar\r\n                </Button>\r\n                <Button \r\n                  variant=\"outline\"\r\n                  onClick={this.handleGoHome}\r\n                  className=\"flex items-center gap-2 flex-1\"\r\n                >\r\n                  <Home className=\"w-4 h-4\" />\r\n                  Ir al Inicio\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Hook version para componentes funcionales\r\nexport function useErrorBoundary() {\r\n  return {\r\n    captureError: (error: Error) => {\r\n      throw error;\r\n    }\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}