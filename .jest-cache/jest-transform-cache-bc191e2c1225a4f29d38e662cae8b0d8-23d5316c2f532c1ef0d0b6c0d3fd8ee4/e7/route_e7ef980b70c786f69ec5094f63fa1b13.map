{"version":3,"names":["cov_25sv6u588n","actualCoverage","s","GET","f","runtime","publishableKey","process","env","NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY","secretKey","CLERK_SECRET_KEY","signInUrl","NEXT_PUBLIC_CLERK_SIGN_IN_URL","signUpUrl","NEXT_PUBLIC_CLERK_SIGN_UP_URL","config","exists","type","startsWith","b","length","preview","substring","urls","signIn","signUp","environment","NODE_ENV","timestamp","Date","toISOString","issues","push","pubType","secType","_server","NextResponse","json","status","recommendations","error","console","details","Error","message"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\debug\\clerk-config\\route.ts"],"sourcesContent":["// Configuración para Node.js Runtime\r\nexport const runtime = 'nodejs';\r\n\r\nimport { NextResponse } from 'next/server'\r\n\r\n/**\r\n * API para verificar la configuración actual de Clerk\r\n * Solo muestra información de diagnóstico, no claves completas\r\n */\r\nexport async function GET() {\r\n  try {\r\n    const publishableKey = process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY\r\n    const secretKey = process.env.CLERK_SECRET_KEY\r\n    const signInUrl = process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL\r\n    const signUpUrl = process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL\r\n\r\n    // Información de diagnóstico (sin exponer claves completas)\r\n    const config = {\r\n      publishableKey: {\r\n        exists: !!publishableKey,\r\n        type: publishableKey?.startsWith('pk_live_') ? 'PRODUCTION' : \r\n              publishableKey?.startsWith('[STRIPE_PUBLIC_KEY_REMOVED]') ? 'DEVELOPMENT' : 'UNKNOWN',\r\n        length: publishableKey?.length || 0,\r\n        preview: publishableKey ? `${publishableKey.substring(0, 15)}...` : 'NO CONFIGURADA'\r\n      },\r\n      secretKey: {\r\n        exists: !!secretKey,\r\n        type: secretKey?.startsWith('sk_live_') ? 'PRODUCTION' : \r\n              secretKey?.startsWith('[STRIPE_SECRET_KEY_REMOVED]') ? 'DEVELOPMENT' : 'UNKNOWN',\r\n        length: secretKey?.length || 0,\r\n        preview: secretKey ? `${secretKey.substring(0, 15)}...` : 'NO CONFIGURADA'\r\n      },\r\n      urls: {\r\n        signIn: signInUrl || 'NO CONFIGURADA',\r\n        signUp: signUpUrl || 'NO CONFIGURADA'\r\n      },\r\n      environment: process.env.NODE_ENV,\r\n      timestamp: new Date().toISOString()\r\n    }\r\n\r\n    // Verificar consistencia\r\n    const issues = []\r\n    \r\n    if (!publishableKey) {\r\n      issues.push('❌ NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY no configurada')\r\n    }\r\n    \r\n    if (!secretKey) {\r\n      issues.push('❌ CLERK_SECRET_KEY no configurada')\r\n    }\r\n    \r\n    if (publishableKey && secretKey) {\r\n      const pubType = publishableKey.startsWith('pk_live_') ? 'live' : 'test'\r\n      const secType = secretKey.startsWith('sk_live_') ? 'live' : 'test'\r\n      \r\n      if (pubType !== secType) {\r\n        issues.push('⚠️ Inconsistencia: publishable key y secret key son de tipos diferentes')\r\n      }\r\n    }\r\n    \r\n    if (config.publishableKey.type === 'PRODUCTION') {\r\n      issues.push('ℹ️ Usando claves de PRODUCCIÓN - verificar que el dominio esté autorizado en Clerk')\r\n    }\r\n\r\n    return NextResponse.json({\r\n      status: 'success',\r\n      config,\r\n      issues,\r\n      recommendations: [\r\n        'Si usas claves de producción, agrega pinteya-ecommerce.vercel.app a dominios autorizados en Clerk',\r\n        'Si usas claves de desarrollo, funcionarán en cualquier dominio',\r\n        'Verifica que las claves estén completas (no truncadas)',\r\n        'Redeploy después de cambiar variables de entorno'\r\n      ]\r\n    })\r\n\r\n  } catch (error) {\r\n    console.error('Error verificando configuración de Clerk:', error)\r\n    return NextResponse.json({\r\n      status: 'error',\r\n      error: 'Error interno del servidor',\r\n      details: error instanceof Error ? error.message : 'Error desconocido'\r\n    }, { status: 500 })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}