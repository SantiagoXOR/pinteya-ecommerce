3f8c9680681401dfbaaddc84e42c46ed
// =====================================================
// WEBSOCKET: LOGISTICS REAL-TIME SYSTEM
// DescripciÃ³n: Sistema WebSocket para tracking tiempo real
// Basado en: WebSocket API + React Context + Event Emitter
// =====================================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get LogisticsWebSocketClient () {
        return LogisticsWebSocketClient;
    },
    get LogisticsWebSocketSimulator () {
        return LogisticsWebSocketSimulator;
    },
    get getLogisticsWebSocket () {
        return getLogisticsWebSocket;
    }
});
const _events = require("events");
class LogisticsWebSocketClient extends _events.EventEmitter {
    constructor(url){
        super(), this.ws = null, this.reconnectAttempts = 0, this.maxReconnectAttempts = 5, this.reconnectDelay = 1000, this.heartbeatInterval = null, this.isConnected = false, this.subscriptions = new Set();
        this.url = url;
    }
    // =====================================================
    // CONEXIÃ“N Y RECONEXIÃ“N
    // =====================================================
    connect() {
        return new Promise((resolve, reject)=>{
            try {
                this.ws = new WebSocket(this.url);
                this.ws.onopen = ()=>{
                    console.log('ðŸ”— WebSocket conectado');
                    this.isConnected = true;
                    this.reconnectAttempts = 0;
                    this.startHeartbeat();
                    this.resubscribe();
                    this.emit('connected');
                    resolve();
                };
                this.ws.onmessage = (event)=>{
                    try {
                        const message = JSON.parse(event.data);
                        this.handleMessage(message);
                    } catch (error) {
                        console.error('âŒ Error parsing WebSocket message:', error);
                    }
                };
                this.ws.onclose = (event)=>{
                    console.log('ðŸ”Œ WebSocket desconectado:', event.code, event.reason);
                    this.isConnected = false;
                    this.stopHeartbeat();
                    this.emit('disconnected', event);
                    if (!event.wasClean && this.reconnectAttempts < this.maxReconnectAttempts) {
                        this.scheduleReconnect();
                    }
                };
                this.ws.onerror = (error)=>{
                    console.error('âŒ WebSocket error:', error);
                    this.emit('error', error);
                    reject(error);
                };
            } catch (error) {
                reject(error);
            }
        });
    }
    scheduleReconnect() {
        const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts);
        console.log(`ðŸ”„ Reconectando en ${delay}ms (intento ${this.reconnectAttempts + 1}/${this.maxReconnectAttempts})`);
        setTimeout(()=>{
            this.reconnectAttempts++;
            this.connect().catch(()=>{
                if (this.reconnectAttempts >= this.maxReconnectAttempts) {
                    console.error('âŒ MÃ¡ximo de intentos de reconexiÃ³n alcanzado');
                    this.emit('max_reconnect_attempts');
                }
            });
        }, delay);
    }
    disconnect() {
        if (this.ws) {
            this.ws.close(1000, 'Client disconnect');
            this.ws = null;
        }
        this.stopHeartbeat();
        this.isConnected = false;
    }
    // =====================================================
    // HEARTBEAT
    // =====================================================
    startHeartbeat() {
        this.heartbeatInterval = setInterval(()=>{
            if (this.isConnected && this.ws?.readyState === WebSocket.OPEN) {
                this.send({
                    type: 'ping',
                    data: {},
                    timestamp: new Date().toISOString()
                });
            }
        }, 30000); // 30 segundos
    }
    stopHeartbeat() {
        if (this.heartbeatInterval) {
            clearInterval(this.heartbeatInterval);
            this.heartbeatInterval = null;
        }
    }
    // =====================================================
    // ENVÃO DE MENSAJES
    // =====================================================
    send(message) {
        if (this.ws?.readyState === WebSocket.OPEN) {
            this.ws.send(JSON.stringify(message));
        } else {
            console.warn('âš ï¸ WebSocket no estÃ¡ conectado, mensaje no enviado:', message);
        }
    }
    // =====================================================
    // SUSCRIPCIONES
    // =====================================================
    subscribeToShipment(shipmentId) {
        const subscription = `shipment:${shipmentId}`;
        this.subscriptions.add(subscription);
        this.send({
            type: 'subscribe',
            data: {
                subscription
            },
            timestamp: new Date().toISOString()
        });
    }
    unsubscribeFromShipment(shipmentId) {
        const subscription = `shipment:${shipmentId}`;
        this.subscriptions.delete(subscription);
        this.send({
            type: 'unsubscribe',
            data: {
                subscription
            },
            timestamp: new Date().toISOString()
        });
    }
    subscribeToGeofence(zoneId) {
        const subscription = `geofence:${zoneId}`;
        this.subscriptions.add(subscription);
        this.send({
            type: 'subscribe',
            data: {
                subscription
            },
            timestamp: new Date().toISOString()
        });
    }
    subscribeToAlerts() {
        const subscription = 'alerts:all';
        this.subscriptions.add(subscription);
        this.send({
            type: 'subscribe',
            data: {
                subscription
            },
            timestamp: new Date().toISOString()
        });
    }
    resubscribe() {
        this.subscriptions.forEach((subscription)=>{
            this.send({
                type: 'subscribe',
                data: {
                    subscription
                },
                timestamp: new Date().toISOString()
            });
        });
    }
    // =====================================================
    // MANEJO DE MENSAJES
    // =====================================================
    handleMessage(message) {
        console.log('ðŸ“¨ WebSocket message received:', message.type);
        switch(message.type){
            case 'tracking_update':
                this.handleTrackingUpdate(message.data);
                break;
            case 'shipment_status':
                this.handleShipmentStatus(message.data);
                break;
            case 'alert':
                this.handleAlert(message.data);
                break;
            case 'geofence_event':
                this.handleGeofenceEvent(message.data);
                break;
            case 'route_update':
                this.handleRouteUpdate(message.data);
                break;
            default:
                console.log('ðŸ¤· Unknown message type:', message.type);
        }
        // Emitir evento genÃ©rico
        this.emit('message', message);
    }
    handleTrackingUpdate(update) {
        console.log('ðŸ“ Tracking update:', update);
        this.emit('tracking_update', update);
    }
    handleShipmentStatus(data) {
        console.log('ðŸ“¦ Shipment status update:', data);
        this.emit('shipment_status', data);
    }
    handleAlert(alert) {
        console.log('ðŸš¨ Alert received:', alert);
        this.emit('alert', alert);
        // Mostrar notificaciÃ³n del navegador si estÃ¡ permitido (DESHABILITADO EN DESARROLLO)
        if ('Notification' in window && Notification.permission === 'granted' && process.env.NODE_ENV === 'production') {
            new Notification(`Alerta de LogÃ­stica - ${alert.type}`, {
                body: alert.message,
                icon: '/favicon.ico',
                tag: alert.id
            });
        }
    }
    handleGeofenceEvent(event) {
        console.log('ðŸ—ºï¸ Geofence event:', event);
        this.emit('geofence_event', event);
    }
    handleRouteUpdate(data) {
        console.log('ðŸ›£ï¸ Route update:', data);
        this.emit('route_update', data);
    }
    // =====================================================
    // UTILIDADES
    // =====================================================
    getConnectionState() {
        if (!this.ws) {
            return 'disconnected';
        }
        switch(this.ws.readyState){
            case WebSocket.CONNECTING:
                return 'connecting';
            case WebSocket.OPEN:
                return 'connected';
            case WebSocket.CLOSING:
            case WebSocket.CLOSED:
                return 'disconnected';
            default:
                return 'error';
        }
    }
    isReady() {
        return this.isConnected && this.ws?.readyState === WebSocket.OPEN;
    }
    getSubscriptions() {
        return Array.from(this.subscriptions);
    }
}
// =====================================================
// INSTANCIA SINGLETON
// =====================================================
let logisticsWS = null;
function getLogisticsWebSocket() {
    if (!logisticsWS) {
        // En desarrollo usar WebSocket local, en producciÃ³n usar WSS
        const wsUrl = process.env.NODE_ENV === 'development' ? 'ws://localhost:3001/logistics' : 'wss://api.pinteya.com/logistics';
        logisticsWS = new LogisticsWebSocketClient(wsUrl);
    }
    return logisticsWS;
}
class LogisticsWebSocketSimulator extends _events.EventEmitter {
    start() {
        if (this.isRunning) {
            return;
        }
        this.isRunning = true;
        console.log('ðŸŽ­ Iniciando simulador WebSocket');
        // Simular actualizaciones de tracking cada 10 segundos
        const trackingInterval = setInterval(()=>{
            this.simulateTrackingUpdate();
        }, 10000);
        // Simular alertas cada 30 segundos
        const alertInterval = setInterval(()=>{
            this.simulateAlert();
        }, 30000);
        // Simular eventos de geofence cada 45 segundos
        const geofenceInterval = setInterval(()=>{
            this.simulateGeofenceEvent();
        }, 45000);
        this.intervals.push(trackingInterval, alertInterval, geofenceInterval);
    }
    stop() {
        this.intervals.forEach((interval)=>clearInterval(interval));
        this.intervals = [];
        this.isRunning = false;
        console.log('ðŸ›‘ Simulador WebSocket detenido');
    }
    simulateTrackingUpdate() {
        const update = {
            shipment_id: Math.floor(Math.random() * 100) + 1,
            location: {
                latitude: -34.6037 + (Math.random() - 0.5) * 0.1,
                longitude: -58.3816 + (Math.random() - 0.5) * 0.1,
                address: 'Av. Corrientes 1234, CABA'
            },
            status: [
                'in_transit',
                'out_for_delivery'
            ][Math.floor(Math.random() * 2)],
            timestamp: new Date().toISOString(),
            courier_id: Math.floor(Math.random() * 4) + 1,
            estimated_arrival: new Date(Date.now() + 3600000).toISOString()
        };
        this.emit('tracking_update', update);
    }
    simulateAlert() {
        const alerts = [
            {
                type: 'delay',
                message: 'Retraso en la entrega debido al trÃ¡fico'
            },
            {
                type: 'exception',
                message: 'DirecciÃ³n incorrecta, contactar cliente'
            },
            {
                type: 'delivery_attempt',
                message: 'Primer intento de entrega fallido'
            }
        ];
        const randomAlert = alerts[Math.floor(Math.random() * alerts.length)];
        const alert = {
            id: `alert_${Date.now()}`,
            type: randomAlert.type,
            severity: [
                'low',
                'medium',
                'high'
            ][Math.floor(Math.random() * 3)],
            shipment_id: Math.floor(Math.random() * 100) + 1,
            message: randomAlert.message,
            timestamp: new Date().toISOString(),
            auto_resolve: Math.random() > 0.5
        };
        this.emit('alert', alert);
    }
    simulateGeofenceEvent() {
        const event = {
            shipment_id: Math.floor(Math.random() * 100) + 1,
            zone_id: [
                'caba',
                'gba_norte'
            ][Math.floor(Math.random() * 2)],
            zone_name: [
                'CABA - Zona Prioritaria',
                'GBA Norte - Zona de Entrega'
            ][Math.floor(Math.random() * 2)],
            event_type: [
                'enter',
                'exit'
            ][Math.floor(Math.random() * 2)],
            location: {
                latitude: -34.6037 + (Math.random() - 0.5) * 0.1,
                longitude: -58.3816 + (Math.random() - 0.5) * 0.1
            },
            timestamp: new Date().toISOString()
        };
        this.emit('geofence_event', event);
    }
    constructor(...args){
        super(...args), this.intervals = [], this.isRunning = false;
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFx3ZWJzb2NrZXRzXFxsb2dpc3RpY3Mtd2Vic29ja2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFdFQlNPQ0tFVDogTE9HSVNUSUNTIFJFQUwtVElNRSBTWVNURU1cclxuLy8gRGVzY3JpcGNpw7NuOiBTaXN0ZW1hIFdlYlNvY2tldCBwYXJhIHRyYWNraW5nIHRpZW1wbyByZWFsXHJcbi8vIEJhc2FkbyBlbjogV2ViU29ja2V0IEFQSSArIFJlYWN0IENvbnRleHQgKyBFdmVudCBFbWl0dGVyXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSU5URVJGQUNFU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXZWJTb2NrZXRNZXNzYWdlIHtcclxuICB0eXBlOiAndHJhY2tpbmdfdXBkYXRlJyB8ICdzaGlwbWVudF9zdGF0dXMnIHwgJ2FsZXJ0JyB8ICdnZW9mZW5jZV9ldmVudCcgfCAncm91dGVfdXBkYXRlJztcclxuICBkYXRhOiBhbnk7XHJcbiAgdGltZXN0YW1wOiBzdHJpbmc7XHJcbiAgc2hpcG1lbnRfaWQ/OiBudW1iZXI7XHJcbiAgdXNlcl9pZD86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUcmFja2luZ1VwZGF0ZSB7XHJcbiAgc2hpcG1lbnRfaWQ6IG51bWJlcjtcclxuICBsb2NhdGlvbjoge1xyXG4gICAgbGF0aXR1ZGU6IG51bWJlcjtcclxuICAgIGxvbmdpdHVkZTogbnVtYmVyO1xyXG4gICAgYWRkcmVzcz86IHN0cmluZztcclxuICB9O1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xyXG4gIGNvdXJpZXJfaWQ/OiBudW1iZXI7XHJcbiAgZXN0aW1hdGVkX2Fycml2YWw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VFdmVudCB7XHJcbiAgc2hpcG1lbnRfaWQ6IG51bWJlcjtcclxuICB6b25lX2lkOiBzdHJpbmc7XHJcbiAgem9uZV9uYW1lOiBzdHJpbmc7XHJcbiAgZXZlbnRfdHlwZTogJ2VudGVyJyB8ICdleGl0JztcclxuICBsb2NhdGlvbjoge1xyXG4gICAgbGF0aXR1ZGU6IG51bWJlcjtcclxuICAgIGxvbmdpdHVkZTogbnVtYmVyO1xyXG4gIH07XHJcbiAgdGltZXN0YW1wOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9naXN0aWNzQWxlcnQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdHlwZTogJ2RlbGF5JyB8ICdleGNlcHRpb24nIHwgJ2RlbGl2ZXJ5X2F0dGVtcHQnIHwgJ3JvdXRlX2RldmlhdGlvbic7XHJcbiAgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnO1xyXG4gIHNoaXBtZW50X2lkOiBudW1iZXI7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xyXG4gIGF1dG9fcmVzb2x2ZTogYm9vbGVhbjtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gV0VCU09DS0VUIENMSUVOVCBDTEFTU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2lzdGljc1dlYlNvY2tldENsaWVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgcHJpdmF0ZSB3czogV2ViU29ja2V0IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZztcclxuICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMDtcclxuICBwcml2YXRlIG1heFJlY29ubmVjdEF0dGVtcHRzID0gNTtcclxuICBwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMTAwMDtcclxuICBwcml2YXRlIGhlYXJ0YmVhdEludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICBwcml2YXRlIHN1YnNjcmlwdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICBcclxuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZykge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMudXJsID0gdXJsO1xyXG4gIH1cclxuICBcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIENPTkVYScOTTiBZIFJFQ09ORVhJw5NOXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICBjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh0aGlzLnVybCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UlyBXZWJTb2NrZXQgY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xyXG4gICAgICAgICAgdGhpcy5zdGFydEhlYXJ0YmVhdCgpO1xyXG4gICAgICAgICAgdGhpcy5yZXN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnKTtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlOiBXZWJTb2NrZXRNZXNzYWdlID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHBhcnNpbmcgV2ViU29ja2V0IG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBXZWJTb2NrZXQgZGVzY29uZWN0YWRvOicsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbik7XHJcbiAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnN0b3BIZWFydGJlYXQoKTtcclxuICAgICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJywgZXZlbnQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIWV2ZW50Lndhc0NsZWFuICYmIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPCB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KCk6IHZvaWQge1xyXG4gICAgY29uc3QgZGVsYXkgPSB0aGlzLnJlY29ubmVjdERlbGF5ICogTWF0aC5wb3coMiwgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyk7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+UhCBSZWNvbmVjdGFuZG8gZW4gJHtkZWxheX1tcyAoaW50ZW50byAke3RoaXMucmVjb25uZWN0QXR0ZW1wdHMgKyAxfS8ke3RoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHN9KWApO1xyXG4gICAgXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrO1xyXG4gICAgICB0aGlzLmNvbm5lY3QoKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPj0gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE3DoXhpbW8gZGUgaW50ZW50b3MgZGUgcmVjb25leGnDs24gYWxjYW56YWRvJyk7XHJcbiAgICAgICAgICB0aGlzLmVtaXQoJ21heF9yZWNvbm5lY3RfYXR0ZW1wdHMnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgZGVsYXkpO1xyXG4gIH1cclxuICBcclxuICBkaXNjb25uZWN0KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMud3MpIHtcclxuICAgICAgdGhpcy53cy5jbG9zZSgxMDAwLCAnQ2xpZW50IGRpc2Nvbm5lY3QnKTtcclxuICAgICAgdGhpcy53cyA9IG51bGw7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoKTtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBIRUFSVEJFQVRcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIFxyXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCAmJiB0aGlzLndzPy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgICAgICB0eXBlOiAncGluZycsXHJcbiAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sIDMwMDAwKTsgLy8gMzAgc2VndW5kb3NcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzdG9wSGVhcnRiZWF0KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdEludGVydmFsKTtcclxuICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRU5Ww41PIERFIE1FTlNBSkVTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICBwcml2YXRlIHNlbmQobWVzc2FnZTogV2ViU29ja2V0TWVzc2FnZSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMud3M/LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBXZWJTb2NrZXQgbm8gZXN0w6EgY29uZWN0YWRvLCBtZW5zYWplIG5vIGVudmlhZG86JywgbWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gU1VTQ1JJUENJT05FU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgXHJcbiAgc3Vic2NyaWJlVG9TaGlwbWVudChzaGlwbWVudElkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGBzaGlwbWVudDoke3NoaXBtZW50SWR9YDtcclxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTtcclxuICAgIFxyXG4gICAgdGhpcy5zZW5kKHtcclxuICAgICAgdHlwZTogJ3N1YnNjcmliZScsXHJcbiAgICAgIGRhdGE6IHsgc3Vic2NyaXB0aW9uIH0sXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgdW5zdWJzY3JpYmVGcm9tU2hpcG1lbnQoc2hpcG1lbnRJZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBgc2hpcG1lbnQ6JHtzaGlwbWVudElkfWA7XHJcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvbik7XHJcbiAgICBcclxuICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsXHJcbiAgICAgIGRhdGE6IHsgc3Vic2NyaXB0aW9uIH0sXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgc3Vic2NyaWJlVG9HZW9mZW5jZSh6b25lSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYGdlb2ZlbmNlOiR7em9uZUlkfWA7XHJcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKHN1YnNjcmlwdGlvbik7XHJcbiAgICBcclxuICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLFxyXG4gICAgICBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9LFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHN1YnNjcmliZVRvQWxlcnRzKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gJ2FsZXJ0czphbGwnO1xyXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmFkZChzdWJzY3JpcHRpb24pO1xyXG4gICAgXHJcbiAgICB0aGlzLnNlbmQoe1xyXG4gICAgICB0eXBlOiAnc3Vic2NyaWJlJyxcclxuICAgICAgZGF0YTogeyBzdWJzY3JpcHRpb24gfSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHJlc3Vic2NyaWJlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3Vic2NyaXB0aW9uID0+IHtcclxuICAgICAgdGhpcy5zZW5kKHtcclxuICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJyxcclxuICAgICAgICBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9LFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gTUFORUpPIERFIE1FTlNBSkVTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBcclxuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2UobWVzc2FnZTogV2ViU29ja2V0TWVzc2FnZSk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk6ggV2ViU29ja2V0IG1lc3NhZ2UgcmVjZWl2ZWQ6JywgbWVzc2FnZS50eXBlKTtcclxuICAgIFxyXG4gICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcclxuICAgICAgY2FzZSAndHJhY2tpbmdfdXBkYXRlJzpcclxuICAgICAgICB0aGlzLmhhbmRsZVRyYWNraW5nVXBkYXRlKG1lc3NhZ2UuZGF0YSBhcyBUcmFja2luZ1VwZGF0ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ3NoaXBtZW50X3N0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5oYW5kbGVTaGlwbWVudFN0YXR1cyhtZXNzYWdlLmRhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdhbGVydCc6XHJcbiAgICAgICAgdGhpcy5oYW5kbGVBbGVydChtZXNzYWdlLmRhdGEgYXMgTG9naXN0aWNzQWxlcnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdnZW9mZW5jZV9ldmVudCc6XHJcbiAgICAgICAgdGhpcy5oYW5kbGVHZW9mZW5jZUV2ZW50KG1lc3NhZ2UuZGF0YSBhcyBHZW9mZW5jZUV2ZW50KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBcclxuICAgICAgY2FzZSAncm91dGVfdXBkYXRlJzpcclxuICAgICAgICB0aGlzLmhhbmRsZVJvdXRlVXBkYXRlKG1lc3NhZ2UuZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfpLcgVW5rbm93biBtZXNzYWdlIHR5cGU6JywgbWVzc2FnZS50eXBlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRW1pdGlyIGV2ZW50byBnZW7DqXJpY29cclxuICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGhhbmRsZVRyYWNraW5nVXBkYXRlKHVwZGF0ZTogVHJhY2tpbmdVcGRhdGUpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5ONIFRyYWNraW5nIHVwZGF0ZTonLCB1cGRhdGUpO1xyXG4gICAgdGhpcy5lbWl0KCd0cmFja2luZ191cGRhdGUnLCB1cGRhdGUpO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGhhbmRsZVNoaXBtZW50U3RhdHVzKGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk6YgU2hpcG1lbnQgc3RhdHVzIHVwZGF0ZTonLCBkYXRhKTtcclxuICAgIHRoaXMuZW1pdCgnc2hpcG1lbnRfc3RhdHVzJywgZGF0YSk7XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgaGFuZGxlQWxlcnQoYWxlcnQ6IExvZ2lzdGljc0FsZXJ0KTogdm9pZCB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+aqCBBbGVydCByZWNlaXZlZDonLCBhbGVydCk7XHJcbiAgICB0aGlzLmVtaXQoJ2FsZXJ0JywgYWxlcnQpO1xyXG4gICAgXHJcbiAgICAvLyBNb3N0cmFyIG5vdGlmaWNhY2nDs24gZGVsIG5hdmVnYWRvciBzaSBlc3TDoSBwZXJtaXRpZG8gKERFU0hBQklMSVRBRE8gRU4gREVTQVJST0xMTylcclxuICAgIGlmICgnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgIG5ldyBOb3RpZmljYXRpb24oYEFsZXJ0YSBkZSBMb2fDrXN0aWNhIC0gJHthbGVydC50eXBlfWAsIHtcclxuICAgICAgICBib2R5OiBhbGVydC5tZXNzYWdlLFxyXG4gICAgICAgIGljb246ICcvZmF2aWNvbi5pY28nLFxyXG4gICAgICAgIHRhZzogYWxlcnQuaWRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgaGFuZGxlR2VvZmVuY2VFdmVudChldmVudDogR2VvZmVuY2VFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfl7rvuI8gR2VvZmVuY2UgZXZlbnQ6JywgZXZlbnQpO1xyXG4gICAgdGhpcy5lbWl0KCdnZW9mZW5jZV9ldmVudCcsIGV2ZW50KTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBoYW5kbGVSb3V0ZVVwZGF0ZShkYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5uj77iPIFJvdXRlIHVwZGF0ZTonLCBkYXRhKTtcclxuICAgIHRoaXMuZW1pdCgncm91dGVfdXBkYXRlJywgZGF0YSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gVVRJTElEQURFU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgXHJcbiAgZ2V0Q29ubmVjdGlvblN0YXRlKCk6ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnZXJyb3InIHtcclxuICAgIGlmICghdGhpcy53cykge3JldHVybiAnZGlzY29ubmVjdGVkJzt9XHJcbiAgICBcclxuICAgIHN3aXRjaCAodGhpcy53cy5yZWFkeVN0YXRlKSB7XHJcbiAgICAgIGNhc2UgV2ViU29ja2V0LkNPTk5FQ1RJTkc6XHJcbiAgICAgICAgcmV0dXJuICdjb25uZWN0aW5nJztcclxuICAgICAgY2FzZSBXZWJTb2NrZXQuT1BFTjpcclxuICAgICAgICByZXR1cm4gJ2Nvbm5lY3RlZCc7XHJcbiAgICAgIGNhc2UgV2ViU29ja2V0LkNMT1NJTkc6XHJcbiAgICAgIGNhc2UgV2ViU29ja2V0LkNMT1NFRDpcclxuICAgICAgICByZXR1cm4gJ2Rpc2Nvbm5lY3RlZCc7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuICdlcnJvcic7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGlzUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZCAmJiB0aGlzLndzPy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTjtcclxuICB9XHJcbiAgXHJcbiAgZ2V0U3Vic2NyaXB0aW9ucygpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSU5TVEFOQ0lBIFNJTkdMRVRPTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxubGV0IGxvZ2lzdGljc1dTOiBMb2dpc3RpY3NXZWJTb2NrZXRDbGllbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpc3RpY3NXZWJTb2NrZXQoKTogTG9naXN0aWNzV2ViU29ja2V0Q2xpZW50IHtcclxuICBpZiAoIWxvZ2lzdGljc1dTKSB7XHJcbiAgICAvLyBFbiBkZXNhcnJvbGxvIHVzYXIgV2ViU29ja2V0IGxvY2FsLCBlbiBwcm9kdWNjacOzbiB1c2FyIFdTU1xyXG4gICAgY29uc3Qgd3NVcmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyBcclxuICAgICAgPyAnd3M6Ly9sb2NhbGhvc3Q6MzAwMS9sb2dpc3RpY3MnXHJcbiAgICAgIDogJ3dzczovL2FwaS5waW50ZXlhLmNvbS9sb2dpc3RpY3MnO1xyXG4gICAgXHJcbiAgICBsb2dpc3RpY3NXUyA9IG5ldyBMb2dpc3RpY3NXZWJTb2NrZXRDbGllbnQod3NVcmwpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gbG9naXN0aWNzV1M7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNJTVVMQURPUiBQQVJBIERFU0FSUk9MTE9cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dpc3RpY3NXZWJTb2NrZXRTaW11bGF0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gIHByaXZhdGUgaW50ZXJ2YWxzOiBOb2RlSlMuVGltZW91dFtdID0gW107XHJcbiAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICBcclxuICBzdGFydCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzUnVubmluZykge3JldHVybjt9XHJcbiAgICBcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKCfwn46tIEluaWNpYW5kbyBzaW11bGFkb3IgV2ViU29ja2V0Jyk7XHJcbiAgICBcclxuICAgIC8vIFNpbXVsYXIgYWN0dWFsaXphY2lvbmVzIGRlIHRyYWNraW5nIGNhZGEgMTAgc2VndW5kb3NcclxuICAgIGNvbnN0IHRyYWNraW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2ltdWxhdGVUcmFja2luZ1VwZGF0ZSgpO1xyXG4gICAgfSwgMTAwMDApO1xyXG4gICAgXHJcbiAgICAvLyBTaW11bGFyIGFsZXJ0YXMgY2FkYSAzMCBzZWd1bmRvc1xyXG4gICAgY29uc3QgYWxlcnRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5zaW11bGF0ZUFsZXJ0KCk7XHJcbiAgICB9LCAzMDAwMCk7XHJcbiAgICBcclxuICAgIC8vIFNpbXVsYXIgZXZlbnRvcyBkZSBnZW9mZW5jZSBjYWRhIDQ1IHNlZ3VuZG9zXHJcbiAgICBjb25zdCBnZW9mZW5jZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNpbXVsYXRlR2VvZmVuY2VFdmVudCgpO1xyXG4gICAgfSwgNDUwMDApO1xyXG4gICAgXHJcbiAgICB0aGlzLmludGVydmFscy5wdXNoKHRyYWNraW5nSW50ZXJ2YWwsIGFsZXJ0SW50ZXJ2YWwsIGdlb2ZlbmNlSW50ZXJ2YWwpO1xyXG4gIH1cclxuICBcclxuICBzdG9wKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbnRlcnZhbHMuZm9yRWFjaChpbnRlcnZhbCA9PiBjbGVhckludGVydmFsKGludGVydmFsKSk7XHJcbiAgICB0aGlzLmludGVydmFscyA9IFtdO1xyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5uRIFNpbXVsYWRvciBXZWJTb2NrZXQgZGV0ZW5pZG8nKTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzaW11bGF0ZVRyYWNraW5nVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgY29uc3QgdXBkYXRlOiBUcmFja2luZ1VwZGF0ZSA9IHtcclxuICAgICAgc2hpcG1lbnRfaWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxLFxyXG4gICAgICBsb2NhdGlvbjoge1xyXG4gICAgICAgIGxhdGl0dWRlOiAtMzQuNjAzNyArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMSxcclxuICAgICAgICBsb25naXR1ZGU6IC01OC4zODE2ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xLFxyXG4gICAgICAgIGFkZHJlc3M6ICdBdi4gQ29ycmllbnRlcyAxMjM0LCBDQUJBJ1xyXG4gICAgICB9LFxyXG4gICAgICBzdGF0dXM6IFsnaW5fdHJhbnNpdCcsICdvdXRfZm9yX2RlbGl2ZXJ5J11bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMildLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgY291cmllcl9pZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCkgKyAxLFxyXG4gICAgICBlc3RpbWF0ZWRfYXJyaXZhbDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDM2MDAwMDApLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuZW1pdCgndHJhY2tpbmdfdXBkYXRlJywgdXBkYXRlKTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzaW11bGF0ZUFsZXJ0KCk6IHZvaWQge1xyXG4gICAgY29uc3QgYWxlcnRzID0gW1xyXG4gICAgICB7IHR5cGU6ICdkZWxheScsIG1lc3NhZ2U6ICdSZXRyYXNvIGVuIGxhIGVudHJlZ2EgZGViaWRvIGFsIHRyw6FmaWNvJyB9LFxyXG4gICAgICB7IHR5cGU6ICdleGNlcHRpb24nLCBtZXNzYWdlOiAnRGlyZWNjacOzbiBpbmNvcnJlY3RhLCBjb250YWN0YXIgY2xpZW50ZScgfSxcclxuICAgICAgeyB0eXBlOiAnZGVsaXZlcnlfYXR0ZW1wdCcsIG1lc3NhZ2U6ICdQcmltZXIgaW50ZW50byBkZSBlbnRyZWdhIGZhbGxpZG8nIH1cclxuICAgIF07XHJcbiAgICBcclxuICAgIGNvbnN0IHJhbmRvbUFsZXJ0ID0gYWxlcnRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsZXJ0cy5sZW5ndGgpXTtcclxuICAgIFxyXG4gICAgY29uc3QgYWxlcnQ6IExvZ2lzdGljc0FsZXJ0ID0ge1xyXG4gICAgICBpZDogYGFsZXJ0XyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICB0eXBlOiByYW5kb21BbGVydC50eXBlIGFzIGFueSxcclxuICAgICAgc2V2ZXJpdHk6IFsnbG93JywgJ21lZGl1bScsICdoaWdoJ11bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyldIGFzIGFueSxcclxuICAgICAgc2hpcG1lbnRfaWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxLFxyXG4gICAgICBtZXNzYWdlOiByYW5kb21BbGVydC5tZXNzYWdlLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgYXV0b19yZXNvbHZlOiBNYXRoLnJhbmRvbSgpID4gMC41XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLmVtaXQoJ2FsZXJ0JywgYWxlcnQpO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHNpbXVsYXRlR2VvZmVuY2VFdmVudCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGV2ZW50OiBHZW9mZW5jZUV2ZW50ID0ge1xyXG4gICAgICBzaGlwbWVudF9pZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDEsXHJcbiAgICAgIHpvbmVfaWQ6IFsnY2FiYScsICdnYmFfbm9ydGUnXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKV0sXHJcbiAgICAgIHpvbmVfbmFtZTogWydDQUJBIC0gWm9uYSBQcmlvcml0YXJpYScsICdHQkEgTm9ydGUgLSBab25hIGRlIEVudHJlZ2EnXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKV0sXHJcbiAgICAgIGV2ZW50X3R5cGU6IFsnZW50ZXInLCAnZXhpdCddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpXSBhcyBhbnksXHJcbiAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgbGF0aXR1ZGU6IC0zNC42MDM3ICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4xLFxyXG4gICAgICAgIGxvbmdpdHVkZTogLTU4LjM4MTYgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjFcclxuICAgICAgfSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuZW1pdCgnZ2VvZmVuY2VfZXZlbnQnLCBldmVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJMb2dpc3RpY3NXZWJTb2NrZXRDbGllbnQiLCJMb2dpc3RpY3NXZWJTb2NrZXRTaW11bGF0b3IiLCJnZXRMb2dpc3RpY3NXZWJTb2NrZXQiLCJFdmVudEVtaXR0ZXIiLCJ1cmwiLCJ3cyIsInJlY29ubmVjdEF0dGVtcHRzIiwibWF4UmVjb25uZWN0QXR0ZW1wdHMiLCJyZWNvbm5lY3REZWxheSIsImhlYXJ0YmVhdEludGVydmFsIiwiaXNDb25uZWN0ZWQiLCJzdWJzY3JpcHRpb25zIiwiU2V0IiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsInN0YXJ0SGVhcnRiZWF0IiwicmVzdWJzY3JpYmUiLCJlbWl0Iiwib25tZXNzYWdlIiwiZXZlbnQiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsImhhbmRsZU1lc3NhZ2UiLCJlcnJvciIsIm9uY2xvc2UiLCJjb2RlIiwicmVhc29uIiwic3RvcEhlYXJ0YmVhdCIsIndhc0NsZWFuIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJvbmVycm9yIiwiZGVsYXkiLCJNYXRoIiwicG93Iiwic2V0VGltZW91dCIsImNhdGNoIiwiZGlzY29ubmVjdCIsImNsb3NlIiwic2V0SW50ZXJ2YWwiLCJyZWFkeVN0YXRlIiwiT1BFTiIsInNlbmQiLCJ0eXBlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY2xlYXJJbnRlcnZhbCIsInN0cmluZ2lmeSIsIndhcm4iLCJzdWJzY3JpYmVUb1NoaXBtZW50Iiwic2hpcG1lbnRJZCIsInN1YnNjcmlwdGlvbiIsImFkZCIsInVuc3Vic2NyaWJlRnJvbVNoaXBtZW50IiwiZGVsZXRlIiwic3Vic2NyaWJlVG9HZW9mZW5jZSIsInpvbmVJZCIsInN1YnNjcmliZVRvQWxlcnRzIiwiZm9yRWFjaCIsImhhbmRsZVRyYWNraW5nVXBkYXRlIiwiaGFuZGxlU2hpcG1lbnRTdGF0dXMiLCJoYW5kbGVBbGVydCIsImhhbmRsZUdlb2ZlbmNlRXZlbnQiLCJoYW5kbGVSb3V0ZVVwZGF0ZSIsInVwZGF0ZSIsImFsZXJ0Iiwid2luZG93IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImJvZHkiLCJpY29uIiwidGFnIiwiaWQiLCJnZXRDb25uZWN0aW9uU3RhdGUiLCJDT05ORUNUSU5HIiwiQ0xPU0lORyIsIkNMT1NFRCIsImlzUmVhZHkiLCJnZXRTdWJzY3JpcHRpb25zIiwiQXJyYXkiLCJmcm9tIiwibG9naXN0aWNzV1MiLCJ3c1VybCIsInN0YXJ0IiwiaXNSdW5uaW5nIiwidHJhY2tpbmdJbnRlcnZhbCIsInNpbXVsYXRlVHJhY2tpbmdVcGRhdGUiLCJhbGVydEludGVydmFsIiwic2ltdWxhdGVBbGVydCIsImdlb2ZlbmNlSW50ZXJ2YWwiLCJzaW11bGF0ZUdlb2ZlbmNlRXZlbnQiLCJpbnRlcnZhbHMiLCJwdXNoIiwic3RvcCIsImludGVydmFsIiwic2hpcG1lbnRfaWQiLCJmbG9vciIsInJhbmRvbSIsImxvY2F0aW9uIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJhZGRyZXNzIiwic3RhdHVzIiwiY291cmllcl9pZCIsImVzdGltYXRlZF9hcnJpdmFsIiwibm93IiwiYWxlcnRzIiwicmFuZG9tQWxlcnQiLCJsZW5ndGgiLCJzZXZlcml0eSIsImF1dG9fcmVzb2x2ZSIsInpvbmVfaWQiLCJ6b25lX25hbWUiLCJldmVudF90eXBlIl0sIm1hcHBpbmdzIjoiQUFBQSx3REFBd0Q7QUFDeEQsd0NBQXdDO0FBQ3hDLDJEQUEyRDtBQUMzRCwyREFBMkQ7QUFDM0Qsd0RBQXdEOzs7Ozs7Ozs7Ozs7UUF1RDNDQTtlQUFBQTs7UUFpVEFDO2VBQUFBOztRQWpCR0M7ZUFBQUE7Ozt3QkFyVmE7QUFxRHRCLE1BQU1GLGlDQUFpQ0csb0JBQVk7SUFVeEQsWUFBWUMsR0FBVyxDQUFFO1FBQ3ZCLEtBQUssU0FWQ0MsS0FBdUIsV0FFdkJDLG9CQUFvQixRQUNwQkMsdUJBQXVCLFFBQ3ZCQyxpQkFBaUIsV0FDakJDLG9CQUEyQyxXQUMzQ0MsY0FBYyxZQUNkQyxnQkFBZ0IsSUFBSUM7UUFJMUIsSUFBSSxDQUFDUixHQUFHLEdBQUdBO0lBQ2I7SUFFQSx3REFBd0Q7SUFDeEQsd0JBQXdCO0lBQ3hCLHdEQUF3RDtJQUV4RFMsVUFBeUI7UUFDdkIsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1lBQzNCLElBQUk7Z0JBQ0YsSUFBSSxDQUFDWCxFQUFFLEdBQUcsSUFBSVksVUFBVSxJQUFJLENBQUNiLEdBQUc7Z0JBRWhDLElBQUksQ0FBQ0MsRUFBRSxDQUFDYSxNQUFNLEdBQUc7b0JBQ2ZDLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixJQUFJLENBQUNWLFdBQVcsR0FBRztvQkFDbkIsSUFBSSxDQUFDSixpQkFBaUIsR0FBRztvQkFDekIs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