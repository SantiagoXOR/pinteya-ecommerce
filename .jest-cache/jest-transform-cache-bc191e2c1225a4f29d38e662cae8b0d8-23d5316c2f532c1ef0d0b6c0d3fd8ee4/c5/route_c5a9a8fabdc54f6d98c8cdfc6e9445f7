e13c9ec2f83ab8469c9ecd66a32cac07
// ConfiguraciÃ³n para Node.js Runtime
"use strict";

/* istanbul ignore next */
function cov_1twkem731g() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\users\\route.ts";
  var hash = "b50526f2a7c3abb2dde46dee02227f92c489482a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\users\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "2": {
        start: {
          line: 7,
          column: 24
        },
        end: {
          line: 10,
          column: 7
        }
      },
      "3": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 22,
          column: 3
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 19
        }
      },
      "5": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 20
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 23
        }
      },
      "7": {
        start: {
          line: 23,
          column: 16
        },
        end: {
          line: 23,
          column: 38
        }
      },
      "8": {
        start: {
          line: 24,
          column: 18
        },
        end: {
          line: 24,
          column: 66
        }
      },
      "9": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 54
        }
      },
      "10": {
        start: {
          line: 26,
          column: 13
        },
        end: {
          line: 26,
          column: 27
        }
      },
      "11": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 60
        }
      },
      "12": {
        start: {
          line: 28,
          column: 22
        },
        end: {
          line: 28,
          column: 67
        }
      },
      "13": {
        start: {
          line: 29,
          column: 21
        },
        end: {
          line: 29,
          column: 71
        }
      },
      "14": {
        start: {
          line: 30,
          column: 17
        },
        end: {
          line: 30,
          column: 62
        }
      },
      "15": {
        start: {
          line: 31,
          column: 16
        },
        end: {
          line: 31,
          column: 24
        }
      },
      "16": {
        start: {
          line: 35,
          column: 26
        },
        end: {
          line: 61,
          column: 2
        }
      },
      "17": {
        start: {
          line: 62,
          column: 25
        },
        end: {
          line: 80,
          column: 2
        }
      },
      "18": {
        start: {
          line: 81,
          column: 25
        },
        end: {
          line: 97,
          column: 2
        }
      },
      "19": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 141,
          column: 5
        }
      },
      "20": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 113,
          column: 9
        }
      },
      "21": {
        start: {
          line: 105,
          column: 12
        },
        end: {
          line: 112,
          column: 14
        }
      },
      "22": {
        start: {
          line: 114,
          column: 24
        },
        end: {
          line: 114,
          column: 49
        }
      },
      "23": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 120,
          column: 9
        }
      },
      "24": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 119,
          column: 14
        }
      },
      "25": {
        start: {
          line: 122,
          column: 24
        },
        end: {
          line: 122,
          column: 68
        }
      },
      "26": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "27": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 127,
          column: 14
        }
      },
      "28": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "29": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 136,
          column: 11
        }
      },
      "30": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 140,
          column: 10
        }
      },
      "31": {
        start: {
          line: 147,
          column: 4
        },
        end: {
          line: 237,
          column: 5
        }
      },
      "32": {
        start: {
          line: 148,
          column: 20
        },
        end: {
          line: 164,
          column: 10
        }
      },
      "33": {
        start: {
          line: 166,
          column: 8
        },
        end: {
          line: 168,
          column: 9
        }
      },
      "34": {
        start: {
          line: 167,
          column: 12
        },
        end: {
          line: 167,
          column: 95
        }
      },
      "35": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 175,
          column: 9
        }
      },
      "36": {
        start: {
          line: 170,
          column: 12
        },
        end: {
          line: 174,
          column: 13
        }
      },
      "37": {
        start: {
          line: 171,
          column: 16
        },
        end: {
          line: 171,
          column: 52
        }
      },
      "38": {
        start: {
          line: 172,
          column: 19
        },
        end: {
          line: 174,
          column: 13
        }
      },
      "39": {
        start: {
          line: 173,
          column: 16
        },
        end: {
          line: 173,
          column: 53
        }
      },
      "40": {
        start: {
          line: 176,
          column: 8
        },
        end: {
          line: 178,
          column: 9
        }
      },
      "41": {
        start: {
          line: 177,
          column: 12
        },
        end: {
          line: 177,
          column: 51
        }
      },
      "42": {
        start: {
          line: 179,
          column: 8
        },
        end: {
          line: 181,
          column: 9
        }
      },
      "43": {
        start: {
          line: 180,
          column: 12
        },
        end: {
          line: 180,
          column: 63
        }
      },
      "44": {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 184,
          column: 9
        }
      },
      "45": {
        start: {
          line: 183,
          column: 12
        },
        end: {
          line: 183,
          column: 61
        }
      },
      "46": {
        start: {
          line: 186,
          column: 8
        },
        end: {
          line: 188,
          column: 11
        }
      },
      "47": {
        start: {
          line: 190,
          column: 21
        },
        end: {
          line: 190,
          column: 61
        }
      },
      "48": {
        start: {
          line: 191,
          column: 19
        },
        end: {
          line: 191,
          column: 46
        }
      },
      "49": {
        start: {
          line: 192,
          column: 8
        },
        end: {
          line: 192,
          column: 38
        }
      },
      "50": {
        start: {
          line: 193,
          column: 46
        },
        end: {
          line: 193,
          column: 57
        }
      },
      "51": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 196,
          column: 9
        }
      },
      "52": {
        start: {
          line: 195,
          column: 12
        },
        end: {
          line: 195,
          column: 24
        }
      },
      "53": {
        start: {
          line: 198,
          column: 31
        },
        end: {
          line: 198,
          column: 33
        }
      },
      "54": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 227,
          column: 9
        }
      },
      "55": {
        start: {
          line: 200,
          column: 28
        },
        end: {
          line: 200,
          column: 54
        }
      },
      "56": {
        start: {
          line: 200,
          column: 46
        },
        end: {
          line: 200,
          column: 53
        }
      },
      "57": {
        start: {
          line: 202,
          column: 41
        },
        end: {
          line: 202,
          column: 159
        }
      },
      "58": {
        start: {
          line: 204,
          column: 29
        },
        end: {
          line: 214,
          column: 24
        }
      },
      "59": {
        start: {
          line: 205,
          column: 16
        },
        end: {
          line: 210,
          column: 17
        }
      },
      "60": {
        start: {
          line: 206,
          column: 20
        },
        end: {
          line: 209,
          column: 22
        }
      },
      "61": {
        start: {
          line: 211,
          column: 16
        },
        end: {
          line: 211,
          column: 53
        }
      },
      "62": {
        start: {
          line: 212,
          column: 16
        },
        end: {
          line: 212,
          column: 67
        }
      },
      "63": {
        start: {
          line: 213,
          column: 16
        },
        end: {
          line: 213,
          column: 27
        }
      },
      "64": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 226,
          column: 13
        }
      },
      "65": {
        start: {
          line: 217,
          column: 30
        },
        end: {
          line: 220,
          column: 17
        }
      },
      "66": {
        start: {
          line: 221,
          column: 16
        },
        end: {
          line: 225,
          column: 19
        }
      },
      "67": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 231,
          column: 10
        }
      },
      "68": {
        start: {
          line: 233,
          column: 8
        },
        end: {
          line: 235,
          column: 11
        }
      },
      "69": {
        start: {
          line: 236,
          column: 8
        },
        end: {
          line: 236,
          column: 20
        }
      },
      "70": {
        start: {
          line: 240,
          column: 22
        },
        end: {
          line: 240,
          column: 32
        }
      },
      "71": {
        start: {
          line: 241,
          column: 4
        },
        end: {
          line: 359,
          column: 5
        }
      },
      "72": {
        start: {
          line: 243,
          column: 32
        },
        end: {
          line: 247,
          column: 25
        }
      },
      "73": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 256,
          column: 9
        }
      },
      "74": {
        start: {
          line: 249,
          column: 29
        },
        end: {
          line: 253,
          column: 14
        }
      },
      "75": {
        start: {
          line: 254,
          column: 12
        },
        end: {
          line: 254,
          column: 77
        }
      },
      "76": {
        start: {
          line: 255,
          column: 12
        },
        end: {
          line: 255,
          column: 28
        }
      },
      "77": {
        start: {
          line: 258,
          column: 27
        },
        end: {
          line: 258,
          column: 52
        }
      },
      "78": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 268,
          column: 9
        }
      },
      "79": {
        start: {
          line: 260,
          column: 34
        },
        end: {
          line: 264,
          column: 13
        }
      },
      "80": {
        start: {
          line: 265,
          column: 12
        },
        end: {
          line: 267,
          column: 15
        }
      },
      "81": {
        start: {
          line: 270,
          column: 33
        },
        end: {
          line: 270,
          column: 53
        }
      },
      "82": {
        start: {
          line: 271,
          column: 33
        },
        end: {
          line: 281,
          column: 10
        }
      },
      "83": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 291,
          column: 9
        }
      },
      "84": {
        start: {
          line: 283,
          column: 34
        },
        end: {
          line: 287,
          column: 13
        }
      },
      "85": {
        start: {
          line: 288,
          column: 12
        },
        end: {
          line: 290,
          column: 15
        }
      },
      "86": {
        start: {
          line: 292,
          column: 24
        },
        end: {
          line: 292,
          column: 45
        }
      },
      "87": {
        start: {
          line: 293,
          column: 33
        },
        end: {
          line: 293,
          column: 74
        }
      },
      "88": {
        start: {
          line: 294,
          column: 27
        },
        end: {
          line: 294,
          column: 59
        }
      },
      "89": {
        start: {
          line: 295,
          column: 29
        },
        end: {
          line: 316,
          column: 9
        }
      },
      "90": {
        start: {
          line: 318,
          column: 8
        },
        end: {
          line: 324,
          column: 11
        }
      },
      "91": {
        start: {
          line: 326,
          column: 8
        },
        end: {
          line: 330,
          column: 11
        }
      },
      "92": {
        start: {
          line: 331,
          column: 25
        },
        end: {
          line: 335,
          column: 9
        }
      },
      "93": {
        start: {
          line: 336,
          column: 29
        },
        end: {
          line: 336,
          column: 64
        }
      },
      "94": {
        start: {
          line: 337,
          column: 8
        },
        end: {
          line: 337,
          column: 77
        }
      },
      "95": {
        start: {
          line: 338,
          column: 8
        },
        end: {
          line: 338,
          column: 28
        }
      },
      "96": {
        start: {
          line: 340,
          column: 8
        },
        end: {
          line: 342,
          column: 11
        }
      },
      "97": {
        start: {
          line: 344,
          column: 8
        },
        end: {
          line: 350,
          column: 11
        }
      },
      "98": {
        start: {
          line: 351,
          column: 30
        },
        end: {
          line: 355,
          column: 9
        }
      },
      "99": {
        start: {
          line: 356,
          column: 8
        },
        end: {
          line: 358,
          column: 11
        }
      },
      "100": {
        start: {
          line: 362,
          column: 22
        },
        end: {
          line: 362,
          column: 32
        }
      },
      "101": {
        start: {
          line: 363,
          column: 4
        },
        end: {
          line: 515,
          column: 5
        }
      },
      "102": {
        start: {
          line: 365,
          column: 32
        },
        end: {
          line: 369,
          column: 32
        }
      },
      "103": {
        start: {
          line: 370,
          column: 8
        },
        end: {
          line: 378,
          column: 9
        }
      },
      "104": {
        start: {
          line: 371,
          column: 29
        },
        end: {
          line: 375,
          column: 14
        }
      },
      "105": {
        start: {
          line: 376,
          column: 12
        },
        end: {
          line: 376,
          column: 77
        }
      },
      "106": {
        start: {
          line: 377,
          column: 12
        },
        end: {
          line: 377,
          column: 28
        }
      },
      "107": {
        start: {
          line: 380,
          column: 27
        },
        end: {
          line: 380,
          column: 52
        }
      },
      "108": {
        start: {
          line: 381,
          column: 8
        },
        end: {
          line: 390,
          column: 9
        }
      },
      "109": {
        start: {
          line: 382,
          column: 34
        },
        end: {
          line: 386,
          column: 13
        }
      },
      "110": {
        start: {
          line: 387,
          column: 12
        },
        end: {
          line: 389,
          column: 15
        }
      },
      "111": {
        start: {
          line: 392,
          column: 21
        },
        end: {
          line: 392,
          column: 41
        }
      },
      "112": {
        start: {
          line: 393,
          column: 33
        },
        end: {
          line: 393,
          column: 65
        }
      },
      "113": {
        start: {
          line: 394,
          column: 8
        },
        end: {
          line: 403,
          column: 9
        }
      },
      "114": {
        start: {
          line: 395,
          column: 34
        },
        end: {
          line: 399,
          column: 13
        }
      },
      "115": {
        start: {
          line: 400,
          column: 12
        },
        end: {
          line: 402,
          column: 15
        }
      },
      "116": {
        start: {
          line: 404,
          column: 25
        },
        end: {
          line: 404,
          column: 46
        }
      },
      "117": {
        start: {
          line: 406,
          column: 39
        },
        end: {
          line: 406,
          column: 132
        }
      },
      "118": {
        start: {
          line: 407,
          column: 8
        },
        end: {
          line: 416,
          column: 9
        }
      },
      "119": {
        start: {
          line: 408,
          column: 34
        },
        end: {
          line: 412,
          column: 13
        }
      },
      "120": {
        start: {
          line: 413,
          column: 12
        },
        end: {
          line: 415,
          column: 15
        }
      },
      "121": {
        start: {
          line: 418,
          column: 53
        },
        end: {
          line: 426,
          column: 10
        }
      },
      "122": {
        start: {
          line: 427,
          column: 8
        },
        end: {
          line: 439,
          column: 9
        }
      },
      "123": {
        start: {
          line: 428,
          column: 12
        },
        end: {
          line: 430,
          column: 15
        }
      },
      "124": {
        start: {
          line: 431,
          column: 34
        },
        end: {
          line: 435,
          column: 13
        }
      },
      "125": {
        start: {
          line: 436,
          column: 12
        },
        end: {
          line: 438,
          column: 15
        }
      },
      "126": {
        start: {
          line: 441,
          column: 55
        },
        end: {
          line: 449,
          column: 28
        }
      },
      "127": {
        start: {
          line: 450,
          column: 8
        },
        end: {
          line: 464,
          column: 9
        }
      },
      "128": {
        start: {
          line: 452,
          column: 12
        },
        end: {
          line: 452,
          column: 82
        }
      },
      "129": {
        start: {
          line: 453,
          column: 12
        },
        end: {
          line: 455,
          column: 15
        }
      },
      "130": {
        start: {
          line: 456,
          column: 34
        },
        end: {
          line: 460,
          column: 13
        }
      },
      "131": {
        start: {
          line: 461,
          column: 12
        },
        end: {
          line: 463,
          column: 15
        }
      },
      "132": {
        start: {
          line: 466,
          column: 8
        },
        end: {
          line: 472,
          column: 11
        }
      },
      "133": {
        start: {
          line: 474,
          column: 8
        },
        end: {
          line: 479,
          column: 11
        }
      },
      "134": {
        start: {
          line: 480,
          column: 30
        },
        end: {
          line: 484,
          column: 9
        }
      },
      "135": {
        start: {
          line: 485,
          column: 25
        },
        end: {
          line: 489,
          column: 9
        }
      },
      "136": {
        start: {
          line: 490,
          column: 29
        },
        end: {
          line: 492,
          column: 10
        }
      },
      "137": {
        start: {
          line: 493,
          column: 8
        },
        end: {
          line: 493,
          column: 77
        }
      },
      "138": {
        start: {
          line: 494,
          column: 8
        },
        end: {
          line: 494,
          column: 28
        }
      },
      "139": {
        start: {
          line: 496,
          column: 8
        },
        end: {
          line: 498,
          column: 11
        }
      },
      "140": {
        start: {
          line: 500,
          column: 8
        },
        end: {
          line: 506,
          column: 11
        }
      },
      "141": {
        start: {
          line: 507,
          column: 30
        },
        end: {
          line: 511,
          column: 9
        }
      },
      "142": {
        start: {
          line: 512,
          column: 8
        },
        end: {
          line: 514,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 16
          }
        },
        loc: {
          start: {
            line: 6,
            column: 30
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 16
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 19
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "4": {
        name: "validateAdminAuth",
        decl: {
          start: {
            line: 101,
            column: 15
          },
          end: {
            line: 101,
            column: 32
          }
        },
        loc: {
          start: {
            line: 101,
            column: 35
          },
          end: {
            line: 142,
            column: 1
          }
        },
        line: 101
      },
      "5": {
        name: "getUsersWithStats",
        decl: {
          start: {
            line: 146,
            column: 15
          },
          end: {
            line: 146,
            column: 32
          }
        },
        loc: {
          start: {
            line: 146,
            column: 54
          },
          end: {
            line: 238,
            column: 1
          }
        },
        line: 146
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 200,
            column: 38
          },
          end: {
            line: 200,
            column: 39
          }
        },
        loc: {
          start: {
            line: 200,
            column: 46
          },
          end: {
            line: 200,
            column: 53
          }
        },
        line: 200
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 204,
            column: 48
          },
          end: {
            line: 204,
            column: 49
          }
        },
        loc: {
          start: {
            line: 204,
            column: 62
          },
          end: {
            line: 214,
            column: 13
          }
        },
        line: 204
      },
      "8": {
        name: "GET",
        decl: {
          start: {
            line: 239,
            column: 15
          },
          end: {
            line: 239,
            column: 18
          }
        },
        loc: {
          start: {
            line: 239,
            column: 28
          },
          end: {
            line: 360,
            column: 1
          }
        },
        line: 239
      },
      "9": {
        name: "POST",
        decl: {
          start: {
            line: 361,
            column: 15
          },
          end: {
            line: 361,
            column: 19
          }
        },
        loc: {
          start: {
            line: 361,
            column: 29
          },
          end: {
            line: 516,
            column: 1
          }
        },
        line: 361
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 113,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 8
          },
          end: {
            line: 113,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 104
      },
      "1": {
        loc: {
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 104,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 104,
            column: 12
          },
          end: {
            line: 104,
            column: 50
          }
        }, {
          start: {
            line: 104,
            column: 54
          },
          end: {
            line: 104,
            column: 88
          }
        }],
        line: 104
      },
      "2": {
        loc: {
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 120,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 120,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 115
      },
      "3": {
        loc: {
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "4": {
        loc: {
          start: {
            line: 166,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 166
      },
      "5": {
        loc: {
          start: {
            line: 169,
            column: 8
          },
          end: {
            line: 175,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 169,
            column: 8
          },
          end: {
            line: 175,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 169
      },
      "6": {
        loc: {
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        }, {
          start: {
            line: 172,
            column: 19
          },
          end: {
            line: 174,
            column: 13
          }
        }],
        line: 170
      },
      "7": {
        loc: {
          start: {
            line: 172,
            column: 19
          },
          end: {
            line: 174,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 172,
            column: 19
          },
          end: {
            line: 174,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 172
      },
      "8": {
        loc: {
          start: {
            line: 176,
            column: 8
          },
          end: {
            line: 178,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 176,
            column: 8
          },
          end: {
            line: 178,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 176
      },
      "9": {
        loc: {
          start: {
            line: 179,
            column: 8
          },
          end: {
            line: 181,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 179,
            column: 8
          },
          end: {
            line: 181,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 179
      },
      "10": {
        loc: {
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 184,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 184,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 182
      },
      "11": {
        loc: {
          start: {
            line: 194,
            column: 8
          },
          end: {
            line: 196,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 194,
            column: 8
          },
          end: {
            line: 196,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 194
      },
      "12": {
        loc: {
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 199
      },
      "13": {
        loc: {
          start: {
            line: 199,
            column: 12
          },
          end: {
            line: 199,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 199,
            column: 12
          },
          end: {
            line: 199,
            column: 17
          }
        }, {
          start: {
            line: 199,
            column: 21
          },
          end: {
            line: 199,
            column: 37
          }
        }],
        line: 199
      },
      "14": {
        loc: {
          start: {
            line: 204,
            column: 29
          },
          end: {
            line: 214,
            column: 24
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 204,
            column: 29
          },
          end: {
            line: 214,
            column: 18
          }
        }, {
          start: {
            line: 214,
            column: 22
          },
          end: {
            line: 214,
            column: 24
          }
        }],
        line: 204
      },
      "15": {
        loc: {
          start: {
            line: 205,
            column: 16
          },
          end: {
            line: 210,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 205,
            column: 16
          },
          end: {
            line: 210,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 205
      },
      "16": {
        loc: {
          start: {
            line: 212,
            column: 50
          },
          end: {
            line: 212,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 212,
            column: 50
          },
          end: {
            line: 212,
            column: 61
          }
        }, {
          start: {
            line: 212,
            column: 65
          },
          end: {
            line: 212,
            column: 66
          }
        }],
        line: 212
      },
      "17": {
        loc: {
          start: {
            line: 217,
            column: 30
          },
          end: {
            line: 220,
            column: 17
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 217,
            column: 30
          },
          end: {
            line: 217,
            column: 47
          }
        }, {
          start: {
            line: 217,
            column: 51
          },
          end: {
            line: 220,
            column: 17
          }
        }],
        line: 217
      },
      "18": {
        loc: {
          start: {
            line: 230,
            column: 19
          },
          end: {
            line: 230,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 19
          },
          end: {
            line: 230,
            column: 24
          }
        }, {
          start: {
            line: 230,
            column: 28
          },
          end: {
            line: 230,
            column: 29
          }
        }],
        line: 230
      },
      "19": {
        loc: {
          start: {
            line: 246,
            column: 21
          },
          end: {
            line: 246,
            column: 110
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 246,
            column: 21
          },
          end: {
            line: 246,
            column: 66
          }
        }, {
          start: {
            line: 246,
            column: 70
          },
          end: {
            line: 246,
            column: 110
          }
        }],
        line: 246
      },
      "20": {
        loc: {
          start: {
            line: 248,
            column: 8
          },
          end: {
            line: 256,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 248,
            column: 8
          },
          end: {
            line: 256,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 248
      },
      "21": {
        loc: {
          start: {
            line: 259,
            column: 8
          },
          end: {
            line: 268,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 259,
            column: 8
          },
          end: {
            line: 268,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 259
      },
      "22": {
        loc: {
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 291,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 291,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 282
      },
      "23": {
        loc: {
          start: {
            line: 306,
            column: 24
          },
          end: {
            line: 306,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 306,
            column: 24
          },
          end: {
            line: 306,
            column: 38
          }
        }, {
          start: {
            line: 306,
            column: 42
          },
          end: {
            line: 306,
            column: 51
          }
        }],
        line: 306
      },
      "24": {
        loc: {
          start: {
            line: 307,
            column: 24
          },
          end: {
            line: 307,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 307,
            column: 24
          },
          end: {
            line: 307,
            column: 38
          }
        }, {
          start: {
            line: 307,
            column: 42
          },
          end: {
            line: 307,
            column: 51
          }
        }],
        line: 307
      },
      "25": {
        loc: {
          start: {
            line: 308,
            column: 22
          },
          end: {
            line: 308,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 308,
            column: 22
          },
          end: {
            line: 308,
            column: 34
          }
        }, {
          start: {
            line: 308,
            column: 38
          },
          end: {
            line: 308,
            column: 47
          }
        }],
        line: 308
      },
      "26": {
        loc: {
          start: {
            line: 309,
            column: 27
          },
          end: {
            line: 309,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 309,
            column: 27
          },
          end: {
            line: 309,
            column: 44
          }
        }, {
          start: {
            line: 309,
            column: 48
          },
          end: {
            line: 309,
            column: 57
          }
        }],
        line: 309
      },
      "27": {
        loc: {
          start: {
            line: 310,
            column: 25
          },
          end: {
            line: 310,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 310,
            column: 25
          },
          end: {
            line: 310,
            column: 40
          }
        }, {
          start: {
            line: 310,
            column: 44
          },
          end: {
            line: 310,
            column: 53
          }
        }],
        line: 310
      },
      "28": {
        loc: {
          start: {
            line: 349,
            column: 19
          },
          end: {
            line: 349,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 349,
            column: 44
          },
          end: {
            line: 349,
            column: 57
          }
        }, {
          start: {
            line: 349,
            column: 60
          },
          end: {
            line: 349,
            column: 75
          }
        }],
        line: 349
      },
      "29": {
        loc: {
          start: {
            line: 368,
            column: 21
          },
          end: {
            line: 368,
            column: 110
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 368,
            column: 21
          },
          end: {
            line: 368,
            column: 66
          }
        }, {
          start: {
            line: 368,
            column: 70
          },
          end: {
            line: 368,
            column: 110
          }
        }],
        line: 368
      },
      "30": {
        loc: {
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 378,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 378,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 370
      },
      "31": {
        loc: {
          start: {
            line: 381,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 381,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 381
      },
      "32": {
        loc: {
          start: {
            line: 394,
            column: 8
          },
          end: {
            line: 403,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 394,
            column: 8
          },
          end: {
            line: 403,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 394
      },
      "33": {
        loc: {
          start: {
            line: 407,
            column: 8
          },
          end: {
            line: 416,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 407,
            column: 8
          },
          end: {
            line: 416,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 407
      },
      "34": {
        loc: {
          start: {
            line: 427,
            column: 8
          },
          end: {
            line: 439,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 427,
            column: 8
          },
          end: {
            line: 439,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 427
      },
      "35": {
        loc: {
          start: {
            line: 427,
            column: 12
          },
          end: {
            line: 427,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 427,
            column: 12
          },
          end: {
            line: 427,
            column: 21
          }
        }, {
          start: {
            line: 427,
            column: 25
          },
          end: {
            line: 427,
            column: 39
          }
        }],
        line: 427
      },
      "36": {
        loc: {
          start: {
            line: 450,
            column: 8
          },
          end: {
            line: 464,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 450,
            column: 8
          },
          end: {
            line: 464,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 450
      },
      "37": {
        loc: {
          start: {
            line: 505,
            column: 19
          },
          end: {
            line: 505,
            column: 75
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 505,
            column: 44
          },
          end: {
            line: 505,
            column: 57
          }
        }, {
          start: {
            line: 505,
            column: 60
          },
          end: {
            line: 505,
            column: 75
          }
        }],
        line: 505
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\users\\route.ts"],
      sourcesContent: ["// Configuraci\xF3n para Node.js Runtime\r\nexport const runtime = 'nodejs';\r\n\r\n// ===================================\r\n// PINTEYA E-COMMERCE - ADMIN USERS API ENTERPRISE\r\n// ===================================\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { supabaseAdmin } from '@/lib/integrations/supabase';\r\nimport { auth } from '@/lib/auth/config';\r\nimport { ApiResponse } from '@/types/api';\r\nimport { z } from 'zod';\r\nimport { logger, LogLevel, LogCategory } from '@/lib/enterprise/logger';\r\nimport { checkRateLimit } from '@/lib/auth/rate-limiting';\r\nimport { addRateLimitHeaders, RATE_LIMIT_CONFIGS } from '@/lib/enterprise/rate-limiter';\r\nimport { metricsCollector } from '@/lib/enterprise/metrics';\r\n\r\n// ===================================\r\n// SCHEMAS DE VALIDACI\xD3N\r\n// ===================================\r\n\r\nconst UserFiltersSchema = z.object({\r\n  page: z.coerce.number().min(1).default(1),\r\n  limit: z.coerce.number().min(1).max(100).default(25),\r\n  search: z.string().optional().nullable(),\r\n  status: z.enum(['active', 'inactive', 'banned']).optional().nullable(),\r\n  role: z.enum(['user', 'admin', 'moderator']).optional().nullable(),\r\n  date_from: z.string().optional().nullable(),\r\n  date_to: z.string().optional().nullable(),\r\n  sort_by: z.enum(['created_at', 'email', 'name', 'last_login']).default('created_at'),\r\n  sort_order: z.enum(['asc', 'desc']).default('desc'),\r\n});\r\n\r\nconst CreateUserSchema = z.object({\r\n  email: z.string().email('Email inv\xE1lido'),\r\n  name: z.string().min(1, 'Nombre requerido').max(100, 'M\xE1ximo 100 caracteres'),\r\n  password: z.string().min(8, 'M\xEDnimo 8 caracteres').max(100, 'M\xE1ximo 100 caracteres'),\r\n  role: z.enum(['user', 'admin', 'moderator']).default('user'),\r\n  is_active: z.boolean().default(true),\r\n  phone: z.string().optional().nullable(),\r\n  address: z.object({\r\n    street_name: z.string().optional(),\r\n    street_number: z.string().optional(),\r\n    zip_code: z.string().optional(),\r\n    city_name: z.string().optional(),\r\n    state_name: z.string().optional(),\r\n  }).optional().nullable(),\r\n});\r\n\r\nconst UpdateUserSchema = z.object({\r\n  name: z.string().min(1).max(100).optional(),\r\n  role: z.enum(['user', 'admin', 'moderator']).optional(),\r\n  is_active: z.boolean().optional(),\r\n  phone: z.string().optional().nullable(),\r\n  address: z.object({\r\n    street_name: z.string().optional(),\r\n    street_number: z.string().optional(),\r\n    zip_code: z.string().optional(),\r\n    city_name: z.string().optional(),\r\n    state_name: z.string().optional(),\r\n  }).optional().nullable(),\r\n});\r\n\r\n// ===================================\r\n// TIPOS DE DATOS\r\n// ===================================\r\n\r\ninterface UserWithStats {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n  role: string;\r\n  is_active: boolean;\r\n  phone?: string;\r\n  address?: any;\r\n  created_at: string;\r\n  updated_at: string;\r\n  last_login?: string;\r\n  orders_count: number;\r\n  total_spent: number;\r\n  avatar_url?: string;\r\n}\r\n\r\ninterface UsersListResponse {\r\n  users: UserWithStats[];\r\n  total: number;\r\n  pagination: {\r\n    page: number;\r\n    limit: number;\r\n    totalPages: number;\r\n    hasNext: boolean;\r\n    hasPrev: boolean;\r\n  };\r\n  filters: {\r\n    search?: string;\r\n    status?: string;\r\n    role?: string;\r\n    date_from?: string;\r\n    date_to?: string;\r\n  };\r\n  sort: {\r\n    by: string;\r\n    order: string;\r\n  };\r\n}\r\n\r\n// ===================================\r\n// MIDDLEWARE DE AUTENTICACI\xD3N ADMIN\r\n// ===================================\r\n\r\nasync function validateAdminAuth() {\r\n  try {\r\n    // BYPASS TEMPORAL PARA DESARROLLO\r\n    if (process.env.NODE_ENV === 'development' && process.env.BYPASS_AUTH === 'true') {\r\n      return {\r\n        user: {\r\n          id: 'dev-admin',\r\n          email: 'santiago@xor.com.ar',\r\n          name: 'Dev Admin'\r\n        },\r\n        userId: 'dev-admin'\r\n      };\r\n    }\r\n\r\n    const session = await auth();\r\n    if (!session?.user) {\r\n      return { error: 'Usuario no autenticado', status: 401 };\r\n    }\r\n\r\n    // Verificar si es admin\r\n    const isAdmin = session.user.email === 'santiago@xor.com.ar';\r\n    if (!isAdmin) {\r\n      return { error: 'Acceso denegado - Se requieren permisos de administrador', status: 403 };\r\n    }\r\n\r\n    return { user: session.user, userId: session.user.id };\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.AUTH, 'Error en validaci\xF3n admin', { error });\r\n    return { error: 'Error de autenticaci\xF3n', status: 500 };\r\n  }\r\n}\r\n\r\n// ===================================\r\n// FUNCIONES AUXILIARES\r\n// ===================================\r\n\r\nasync function getUsersWithStats(filters: any, pagination: any) {\r\n  try {\r\n    let query = supabaseAdmin\r\n      .from('user_profiles')\r\n      .select(`\r\n        id,\r\n        email,\r\n        first_name,\r\n        last_name,\r\n        role_id,\r\n        is_active,\r\n        metadata,\r\n        created_at,\r\n        updated_at,\r\n        user_roles (\r\n          role_name,\r\n          permissions\r\n        )\r\n      `, { count: 'exact' });\r\n\r\n    // Aplicar filtros\r\n    if (filters.search) {\r\n      query = query.or(`email.ilike.%${filters.search}%,name.ilike.%${filters.search}%`);\r\n    }\r\n\r\n    if (filters.status) {\r\n      if (filters.status === 'active') {\r\n        query = query.eq('is_active', true);\r\n      } else if (filters.status === 'inactive') {\r\n        query = query.eq('is_active', false);\r\n      }\r\n    }\r\n\r\n    if (filters.role) {\r\n      query = query.eq('role', filters.role);\r\n    }\r\n\r\n    if (filters.date_from) {\r\n      query = query.gte('created_at', filters.date_from);\r\n    }\r\n\r\n    if (filters.date_to) {\r\n      query = query.lte('created_at', filters.date_to);\r\n    }\r\n\r\n    // Aplicar ordenamiento\r\n    query = query.order(pagination.sort_by, { ascending: pagination.sort_order === 'asc' });\r\n\r\n    // Aplicar paginaci\xF3n\r\n    const from = (pagination.page - 1) * pagination.limit;\r\n    const to = from + pagination.limit - 1;\r\n    query = query.range(from, to);\r\n\r\n    const { data: users, error, count } = await query;\r\n\r\n    if (error) {\r\n      throw error;\r\n    }\r\n\r\n    // Obtener estad\xEDsticas de \xF3rdenes para cada usuario\r\n    const usersWithStats: UserWithStats[] = [];\r\n    \r\n    if (users && users.length > 0) {\r\n      const userIds = users.map(user => user.id);\r\n      \r\n      // Obtener estad\xEDsticas de \xF3rdenes\r\n      const { data: orderStats } = await supabaseAdmin\r\n        .from('orders')\r\n        .select('user_id, total')\r\n        .in('user_id', userIds)\r\n        .eq('status', 'completed');\r\n\r\n      // Calcular estad\xEDsticas por usuario\r\n      const statsMap = orderStats?.reduce((acc: any, order) => {\r\n        if (!acc[order.user_id]) {\r\n          acc[order.user_id] = { orders_count: 0, total_spent: 0 };\r\n        }\r\n        acc[order.user_id].orders_count += 1;\r\n        acc[order.user_id].total_spent += order.total || 0;\r\n        return acc;\r\n      }, {}) || {};\r\n\r\n      // Combinar datos\r\n      for (const user of users) {\r\n        const stats = statsMap[user.id] || { orders_count: 0, total_spent: 0 };\r\n        usersWithStats.push({\r\n          ...user,\r\n          orders_count: stats.orders_count,\r\n          total_spent: stats.total_spent\r\n        });\r\n      }\r\n    }\r\n\r\n    return {\r\n      users: usersWithStats,\r\n      total: count || 0\r\n    };\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error obteniendo usuarios con estad\xEDsticas', { error });\r\n    throw error;\r\n  }\r\n}\r\n\r\n// ===================================\r\n// GET - Listar usuarios con filtros y estad\xEDsticas\r\n// ===================================\r\nexport async function GET(request: NextRequest) {\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      {\r\n        windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,\r\n        maxRequests: RATE_LIMIT_CONFIGS.admin.maxRequests,\r\n        message: RATE_LIMIT_CONFIGS.admin.message || 'Demasiadas solicitudes administrativas'\r\n      },\r\n      'admin-users'\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { error: rateLimitResult.message },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult);\r\n      return response;\r\n    }\r\n\r\n    // Validar autenticaci\xF3n admin\r\n    const authResult = await validateAdminAuth();\r\n    if (authResult.error) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: authResult.error,\r\n      };\r\n      return NextResponse.json(errorResponse, { status: authResult.status });\r\n    }\r\n\r\n    // Validar par\xE1metros\r\n    const { searchParams } = new URL(request.url);\r\n    const validationResult = UserFiltersSchema.safeParse({\r\n      page: searchParams.get('page'),\r\n      limit: searchParams.get('limit'),\r\n      search: searchParams.get('search'),\r\n      status: searchParams.get('status'),\r\n      role: searchParams.get('role'),\r\n      date_from: searchParams.get('date_from'),\r\n      date_to: searchParams.get('date_to'),\r\n      sort_by: searchParams.get('sort_by'),\r\n      sort_order: searchParams.get('sort_order'),\r\n    });\r\n\r\n    if (!validationResult.success) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'Par\xE1metros inv\xE1lidos',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 400 });\r\n    }\r\n\r\n    const filters = validationResult.data;\r\n    const { users, total } = await getUsersWithStats(filters, filters);\r\n\r\n    const totalPages = Math.ceil(total / filters.limit);\r\n\r\n    const responseData: UsersListResponse = {\r\n      users,\r\n      total,\r\n      pagination: {\r\n        page: filters.page,\r\n        limit: filters.limit,\r\n        totalPages,\r\n        hasNext: filters.page < totalPages,\r\n        hasPrev: filters.page > 1,\r\n      },\r\n      filters: {\r\n        search: filters.search || undefined,\r\n        status: filters.status || undefined,\r\n        role: filters.role || undefined,\r\n        date_from: filters.date_from || undefined,\r\n        date_to: filters.date_to || undefined,\r\n      },\r\n      sort: {\r\n        by: filters.sort_by,\r\n        order: filters.sort_order,\r\n      },\r\n    };\r\n\r\n    // Registrar m\xE9tricas\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/users',\r\n      method: 'GET',\r\n      statusCode: 200,\r\n      responseTime: Date.now() - startTime,\r\n      userId: authResult.userId\r\n    });\r\n\r\n    // Log de auditor\xEDa\r\n    logger.log(LogLevel.INFO, LogCategory.ADMIN, 'Lista de usuarios consultada', {\r\n      userId: authResult.userId,\r\n      filters,\r\n      total\r\n    });\r\n\r\n    const response: ApiResponse<UsersListResponse> = {\r\n      data: responseData,\r\n      success: true,\r\n      message: 'Usuarios obtenidos exitosamente'\r\n    };\r\n\r\n    const nextResponse = NextResponse.json(response);\r\n    addRateLimitHeaders(nextResponse, rateLimitResult);\r\n    return nextResponse;\r\n\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error en GET /api/admin/users', { error });\r\n\r\n    // Registrar m\xE9tricas de error\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/users',\r\n      method: 'GET',\r\n      statusCode: 500,\r\n      responseTime: Date.now() - startTime,\r\n      error: error instanceof Error ? error.message : 'Unknown error'\r\n    });\r\n\r\n    const errorResponse: ApiResponse<null> = {\r\n      data: null,\r\n      success: false,\r\n      error: 'Error interno del servidor',\r\n    };\r\n\r\n    return NextResponse.json(errorResponse, { status: 500 });\r\n  }\r\n}\r\n\r\n// ===================================\r\n// POST - Crear nuevo usuario\r\n// ===================================\r\nexport async function POST(request: NextRequest) {\r\n  const startTime = Date.now();\r\n\r\n  try {\r\n    // Rate limiting\r\n    const rateLimitResult = await checkRateLimit(\r\n      request,\r\n      {\r\n        windowMs: RATE_LIMIT_CONFIGS.admin.windowMs,\r\n        maxRequests: RATE_LIMIT_CONFIGS.admin.maxRequests,\r\n        message: RATE_LIMIT_CONFIGS.admin.message || 'Demasiadas solicitudes administrativas'\r\n      },\r\n      'admin-users-create'\r\n    );\r\n\r\n    if (!rateLimitResult.success) {\r\n      const response = NextResponse.json(\r\n        { error: rateLimitResult.message },\r\n        { status: 429 }\r\n      );\r\n      addRateLimitHeaders(response, rateLimitResult);\r\n      return response;\r\n    }\r\n\r\n    // Validar autenticaci\xF3n admin\r\n    const authResult = await validateAdminAuth();\r\n    if (authResult.error) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: authResult.error,\r\n      };\r\n      return NextResponse.json(errorResponse, { status: authResult.status });\r\n    }\r\n\r\n    // Validar datos de entrada\r\n    const body = await request.json();\r\n    const validationResult = CreateUserSchema.safeParse(body);\r\n\r\n    if (!validationResult.success) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'Datos de usuario inv\xE1lidos',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 400 });\r\n    }\r\n\r\n    const userData = validationResult.data;\r\n\r\n    // Verificar si el email ya existe\r\n    const { data: existingUser } = await supabaseAdmin\r\n      .from('users')\r\n      .select('id')\r\n      .eq('email', userData.email)\r\n      .single();\r\n\r\n    if (existingUser) {\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'El email ya est\xE1 registrado',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 409 });\r\n    }\r\n\r\n    // Crear usuario en Supabase Auth\r\n    const { data: authUser, error: authError } = await supabaseAdmin.auth.admin.createUser({\r\n      email: userData.email,\r\n      password: userData.password,\r\n      email_confirm: true,\r\n      user_metadata: {\r\n        name: userData.name,\r\n        role: userData.role\r\n      }\r\n    });\r\n\r\n    if (authError || !authUser.user) {\r\n      logger.log(LogLevel.ERROR, LogCategory.AUTH, 'Error creando usuario en Auth', { authError });\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'Error creando usuario',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 500 });\r\n    }\r\n\r\n    // Crear perfil de usuario en la tabla users\r\n    const { data: newUser, error: profileError } = await supabaseAdmin\r\n      .from('users')\r\n      .insert({\r\n        id: authUser.user.id,\r\n        email: userData.email,\r\n        name: userData.name,\r\n        role: userData.role,\r\n        is_active: userData.is_active,\r\n        phone: userData.phone,\r\n        address: userData.address,\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (profileError) {\r\n      // Si falla la creaci\xF3n del perfil, eliminar el usuario de Auth\r\n      await supabaseAdmin.auth.admin.deleteUser(authUser.user.id);\r\n      \r\n      logger.log(LogLevel.ERROR, LogCategory.API, 'Error creando perfil de usuario', { profileError });\r\n      const errorResponse: ApiResponse<null> = {\r\n        data: null,\r\n        success: false,\r\n        error: 'Error creando perfil de usuario',\r\n      };\r\n      return NextResponse.json(errorResponse, { status: 500 });\r\n    }\r\n\r\n    // Registrar m\xE9tricas\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/users',\r\n      method: 'POST',\r\n      statusCode: 201,\r\n      responseTime: Date.now() - startTime,\r\n      userId: authResult.userId\r\n    });\r\n\r\n    // Log de auditor\xEDa\r\n    logger.log(LogLevel.INFO, LogCategory.ADMIN, 'Usuario creado', {\r\n      adminUserId: authResult.userId,\r\n      newUserId: newUser.id,\r\n      email: newUser.email,\r\n      role: newUser.role\r\n    });\r\n\r\n    const userWithStats: UserWithStats = {\r\n      ...newUser,\r\n      orders_count: 0,\r\n      total_spent: 0\r\n    };\r\n\r\n    const response: ApiResponse<UserWithStats> = {\r\n      data: userWithStats,\r\n      success: true,\r\n      message: 'Usuario creado exitosamente'\r\n    };\r\n\r\n    const nextResponse = NextResponse.json(response, { status: 201 });\r\n    addRateLimitHeaders(nextResponse, rateLimitResult);\r\n    return nextResponse;\r\n\r\n  } catch (error) {\r\n    logger.log(LogLevel.ERROR, LogCategory.API, 'Error en POST /api/admin/users', { error });\r\n\r\n    // Registrar m\xE9tricas de error\r\n    metricsCollector.recordApiCall({\r\n      endpoint: '/api/admin/users',\r\n      method: 'POST',\r\n      statusCode: 500,\r\n      responseTime: Date.now() - startTime,\r\n      error: error instanceof Error ? error.message : 'Unknown error'\r\n    });\r\n\r\n    const errorResponse: ApiResponse<null> = {\r\n      data: null,\r\n      success: false,\r\n      error: 'Error interno del servidor',\r\n    };\r\n\r\n    return NextResponse.json(errorResponse, { status: 500 });\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],
      names: ["GET", "POST", "runtime", "UserFiltersSchema", "z", "object", "page", "coerce", "number", "min", "default", "limit", "max", "search", "string", "optional", "nullable", "status", "enum", "role", "date_from", "date_to", "sort_by", "sort_order", "CreateUserSchema", "email", "name", "password", "is_active", "boolean", "phone", "address", "street_name", "street_number", "zip_code", "city_name", "state_name", "UpdateUserSchema", "validateAdminAuth", "process", "env", "NODE_ENV", "BYPASS_AUTH", "user", "id", "userId", "session", "auth", "error", "isAdmin", "logger", "log", "LogLevel", "ERROR", "LogCategory", "AUTH", "getUsersWithStats", "filters", "pagination", "query", "supabaseAdmin", "from", "select", "count", "or", "eq", "gte", "lte", "order", "ascending", "to", "range", "data", "users", "usersWithStats", "length", "userIds", "map", "orderStats", "in", "statsMap", "reduce", "acc", "user_id", "orders_count", "total_spent", "total", "stats", "push", "API", "request", "startTime", "Date", "now", "rateLimitResult", "checkRateLimit", "windowMs", "RATE_LIMIT_CONFIGS", "admin", "maxRequests", "message", "success", "response", "NextResponse", "json", "addRateLimitHeaders", "authResult", "errorResponse", "searchParams", "URL", "url", "validationResult", "safeParse", "get", "totalPages", "Math", "ceil", "responseData", "hasNext", "hasPrev", "undefined", "sort", "by", "metricsCollector", "recordApiCall", "endpoint", "method", "statusCode", "responseTime", "INFO", "ADMIN", "nextResponse", "Error", "body", "userData", "existingUser", "single", "authUser", "authError", "createUser", "email_confirm", "user_metadata", "newUser", "profileError", "insert", "deleteUser", "adminUserId", "newUserId", "userWithStats"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "b50526f2a7c3abb2dde46dee02227f92c489482a"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1twkem731g = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1twkem731g();
cov_1twkem731g().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1twkem731g().f[0]++;
  cov_1twkem731g().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1twkem731g().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1twkem731g().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_1twkem731g().f[1]++;
    cov_1twkem731g().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_1twkem731g().f[2]++;
    cov_1twkem731g().s[5]++;
    return POST;
  },
  get runtime() {
    /* istanbul ignore next */
    cov_1twkem731g().f[3]++;
    cov_1twkem731g().s[6]++;
    return runtime;
  }
});
const _server =
/* istanbul ignore next */
(cov_1twkem731g().s[7]++, require("next/server"));
const _supabase =
/* istanbul ignore next */
(cov_1twkem731g().s[8]++, require("../../../../lib/integrations/supabase"));
const _config =
/* istanbul ignore next */
(cov_1twkem731g().s[9]++, require("../../../../lib/auth/config"));
const _zod =
/* istanbul ignore next */
(cov_1twkem731g().s[10]++, require("zod"));
const _logger =
/* istanbul ignore next */
(cov_1twkem731g().s[11]++, require("../../../../lib/enterprise/logger"));
const _ratelimiting =
/* istanbul ignore next */
(cov_1twkem731g().s[12]++, require("../../../../lib/auth/rate-limiting"));
const _ratelimiter =
/* istanbul ignore next */
(cov_1twkem731g().s[13]++, require("../../../../lib/enterprise/rate-limiter"));
const _metrics =
/* istanbul ignore next */
(cov_1twkem731g().s[14]++, require("../../../../lib/enterprise/metrics"));
const runtime =
/* istanbul ignore next */
(cov_1twkem731g().s[15]++, 'nodejs');
// ===================================
// SCHEMAS DE VALIDACIÃN
// ===================================
const UserFiltersSchema =
/* istanbul ignore next */
(cov_1twkem731g().s[16]++, _zod.z.object({
  page: _zod.z.coerce.number().min(1).default(1),
  limit: _zod.z.coerce.number().min(1).max(100).default(25),
  search: _zod.z.string().optional().nullable(),
  status: _zod.z.enum(['active', 'inactive', 'banned']).optional().nullable(),
  role: _zod.z.enum(['user', 'admin', 'moderator']).optional().nullable(),
  date_from: _zod.z.string().optional().nullable(),
  date_to: _zod.z.string().optional().nullable(),
  sort_by: _zod.z.enum(['created_at', 'email', 'name', 'last_login']).default('created_at'),
  sort_order: _zod.z.enum(['asc', 'desc']).default('desc')
}));
const CreateUserSchema =
/* istanbul ignore next */
(cov_1twkem731g().s[17]++, _zod.z.object({
  email: _zod.z.string().email('Email invÃ¡lido'),
  name: _zod.z.string().min(1, 'Nombre requerido').max(100, 'MÃ¡ximo 100 caracteres'),
  password: _zod.z.string().min(8, 'MÃ­nimo 8 caracteres').max(100, 'MÃ¡ximo 100 caracteres'),
  role: _zod.z.enum(['user', 'admin', 'moderator']).default('user'),
  is_active: _zod.z.boolean().default(true),
  phone: _zod.z.string().optional().nullable(),
  address: _zod.z.object({
    street_name: _zod.z.string().optional(),
    street_number: _zod.z.string().optional(),
    zip_code: _zod.z.string().optional(),
    city_name: _zod.z.string().optional(),
    state_name: _zod.z.string().optional()
  }).optional().nullable()
}));
const UpdateUserSchema =
/* istanbul ignore next */
(cov_1twkem731g().s[18]++, _zod.z.object({
  name: _zod.z.string().min(1).max(100).optional(),
  role: _zod.z.enum(['user', 'admin', 'moderator']).optional(),
  is_active: _zod.z.boolean().optional(),
  phone: _zod.z.string().optional().nullable(),
  address: _zod.z.object({
    street_name: _zod.z.string().optional(),
    street_number: _zod.z.string().optional(),
    zip_code: _zod.z.string().optional(),
    city_name: _zod.z.string().optional(),
    state_name: _zod.z.string().optional()
  }).optional().nullable()
}));
// ===================================
// MIDDLEWARE DE AUTENTICACIÃN ADMIN
// ===================================
async function validateAdminAuth() {
  /* istanbul ignore next */
  cov_1twkem731g().f[4]++;
  cov_1twkem731g().s[19]++;
  try {
    /* istanbul ignore next */
    cov_1twkem731g().s[20]++;
    // BYPASS TEMPORAL PARA DESARROLLO
    if (
    /* istanbul ignore next */
    (cov_1twkem731g().b[1][0]++, process.env.NODE_ENV === 'development') &&
    /* istanbul ignore next */
    (cov_1twkem731g().b[1][1]++, process.env.BYPASS_AUTH === 'true')) {
      /* istanbul ignore next */
      cov_1twkem731g().b[0][0]++;
      cov_1twkem731g().s[21]++;
      return {
        user: {
          id: 'dev-admin',
          email: 'santiago@xor.com.ar',
          name: 'Dev Admin'
        },
        userId: 'dev-admin'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[0][1]++;
    }
    const session =
    /* istanbul ignore next */
    (cov_1twkem731g().s[22]++, await (0, _config.auth)());
    /* istanbul ignore next */
    cov_1twkem731g().s[23]++;
    if (!session?.user) {
      /* istanbul ignore next */
      cov_1twkem731g().b[2][0]++;
      cov_1twkem731g().s[24]++;
      return {
        error: 'Usuario no autenticado',
        status: 401
      };
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[2][1]++;
    }
    // Verificar si es admin
    const isAdmin =
    /* istanbul ignore next */
    (cov_1twkem731g().s[25]++, session.user.email === 'santiago@xor.com.ar');
    /* istanbul ignore next */
    cov_1twkem731g().s[26]++;
    if (!isAdmin) {
      /* istanbul ignore next */
      cov_1twkem731g().b[3][0]++;
      cov_1twkem731g().s[27]++;
      return {
        error: 'Acceso denegado - Se requieren permisos de administrador',
        status: 403
      };
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[3][1]++;
    }
    cov_1twkem731g().s[28]++;
    return {
      user: session.user,
      userId: session.user.id
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_1twkem731g().s[29]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.AUTH, 'Error en validaciÃ³n admin', {
      error
    });
    /* istanbul ignore next */
    cov_1twkem731g().s[30]++;
    return {
      error: 'Error de autenticaciÃ³n',
      status: 500
    };
  }
}
// ===================================
// FUNCIONES AUXILIARES
// ===================================
async function getUsersWithStats(filters, pagination) {
  /* istanbul ignore next */
  cov_1twkem731g().f[5]++;
  cov_1twkem731g().s[31]++;
  try {
    let query =
    /* istanbul ignore next */
    (cov_1twkem731g().s[32]++, _supabase.supabaseAdmin.from('user_profiles').select(`
        id,
        email,
        first_name,
        last_name,
        role_id,
        is_active,
        metadata,
        created_at,
        updated_at,
        user_roles (
          role_name,
          permissions
        )
      `, {
      count: 'exact'
    }));
    // Aplicar filtros
    /* istanbul ignore next */
    cov_1twkem731g().s[33]++;
    if (filters.search) {
      /* istanbul ignore next */
      cov_1twkem731g().b[4][0]++;
      cov_1twkem731g().s[34]++;
      query = query.or(`email.ilike.%${filters.search}%,name.ilike.%${filters.search}%`);
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[4][1]++;
    }
    cov_1twkem731g().s[35]++;
    if (filters.status) {
      /* istanbul ignore next */
      cov_1twkem731g().b[5][0]++;
      cov_1twkem731g().s[36]++;
      if (filters.status === 'active') {
        /* istanbul ignore next */
        cov_1twkem731g().b[6][0]++;
        cov_1twkem731g().s[37]++;
        query = query.eq('is_active', true);
      } else {
        /* istanbul ignore next */
        cov_1twkem731g().b[6][1]++;
        cov_1twkem731g().s[38]++;
        if (filters.status === 'inactive') {
          /* istanbul ignore next */
          cov_1twkem731g().b[7][0]++;
          cov_1twkem731g().s[39]++;
          query = query.eq('is_active', false);
        } else
        /* istanbul ignore next */
        {
          cov_1twkem731g().b[7][1]++;
        }
      }
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[5][1]++;
    }
    cov_1twkem731g().s[40]++;
    if (filters.role) {
      /* istanbul ignore next */
      cov_1twkem731g().b[8][0]++;
      cov_1twkem731g().s[41]++;
      query = query.eq('role', filters.role);
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[8][1]++;
    }
    cov_1twkem731g().s[42]++;
    if (filters.date_from) {
      /* istanbul ignore next */
      cov_1twkem731g().b[9][0]++;
      cov_1twkem731g().s[43]++;
      query = query.gte('created_at', filters.date_from);
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[9][1]++;
    }
    cov_1twkem731g().s[44]++;
    if (filters.date_to) {
      /* istanbul ignore next */
      cov_1twkem731g().b[10][0]++;
      cov_1twkem731g().s[45]++;
      query = query.lte('created_at', filters.date_to);
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[10][1]++;
    }
    // Aplicar ordenamiento
    cov_1twkem731g().s[46]++;
    query = query.order(pagination.sort_by, {
      ascending: pagination.sort_order === 'asc'
    });
    // Aplicar paginaciÃ³n
    const from =
    /* istanbul ignore next */
    (cov_1twkem731g().s[47]++, (pagination.page - 1) * pagination.limit);
    const to =
    /* istanbul ignore next */
    (cov_1twkem731g().s[48]++, from + pagination.limit - 1);
    /* istanbul ignore next */
    cov_1twkem731g().s[49]++;
    query = query.range(from, to);
    const {
      data: users,
      error,
      count
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[50]++, await query);
    /* istanbul ignore next */
    cov_1twkem731g().s[51]++;
    if (error) {
      /* istanbul ignore next */
      cov_1twkem731g().b[11][0]++;
      cov_1twkem731g().s[52]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[11][1]++;
    }
    // Obtener estadÃ­sticas de Ã³rdenes para cada usuario
    const usersWithStats =
    /* istanbul ignore next */
    (cov_1twkem731g().s[53]++, []);
    /* istanbul ignore next */
    cov_1twkem731g().s[54]++;
    if (
    /* istanbul ignore next */
    (cov_1twkem731g().b[13][0]++, users) &&
    /* istanbul ignore next */
    (cov_1twkem731g().b[13][1]++, users.length > 0)) {
      /* istanbul ignore next */
      cov_1twkem731g().b[12][0]++;
      const userIds =
      /* istanbul ignore next */
      (cov_1twkem731g().s[55]++, users.map(user => {
        /* istanbul ignore next */
        cov_1twkem731g().f[6]++;
        cov_1twkem731g().s[56]++;
        return user.id;
      }));
      // Obtener estadÃ­sticas de Ã³rdenes
      const {
        data: orderStats
      } =
      /* istanbul ignore next */
      (cov_1twkem731g().s[57]++, await _supabase.supabaseAdmin.from('orders').select('user_id, total').in('user_id', userIds).eq('status', 'completed'));
      // Calcular estadÃ­sticas por usuario
      const statsMap =
      /* istanbul ignore next */
      (cov_1twkem731g().s[58]++,
      /* istanbul ignore next */
      (cov_1twkem731g().b[14][0]++, orderStats?.reduce((acc, order) => {
        /* istanbul ignore next */
        cov_1twkem731g().f[7]++;
        cov_1twkem731g().s[59]++;
        if (!acc[order.user_id]) {
          /* istanbul ignore next */
          cov_1twkem731g().b[15][0]++;
          cov_1twkem731g().s[60]++;
          acc[order.user_id] = {
            orders_count: 0,
            total_spent: 0
          };
        } else
        /* istanbul ignore next */
        {
          cov_1twkem731g().b[15][1]++;
        }
        cov_1twkem731g().s[61]++;
        acc[order.user_id].orders_count += 1;
        /* istanbul ignore next */
        cov_1twkem731g().s[62]++;
        acc[order.user_id].total_spent +=
        /* istanbul ignore next */
        (cov_1twkem731g().b[16][0]++, order.total) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[16][1]++, 0);
        /* istanbul ignore next */
        cov_1twkem731g().s[63]++;
        return acc;
      }, {})) ||
      /* istanbul ignore next */
      (cov_1twkem731g().b[14][1]++, {}));
      // Combinar datos
      /* istanbul ignore next */
      cov_1twkem731g().s[64]++;
      for (const user of users) {
        const stats =
        /* istanbul ignore next */
        (cov_1twkem731g().s[65]++,
        /* istanbul ignore next */
        (cov_1twkem731g().b[17][0]++, statsMap[user.id]) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[17][1]++, {
          orders_count: 0,
          total_spent: 0
        }));
        /* istanbul ignore next */
        cov_1twkem731g().s[66]++;
        usersWithStats.push({
          ...user,
          orders_count: stats.orders_count,
          total_spent: stats.total_spent
        });
      }
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[12][1]++;
    }
    cov_1twkem731g().s[67]++;
    return {
      users: usersWithStats,
      total:
      /* istanbul ignore next */
      (cov_1twkem731g().b[18][0]++, count) ||
      /* istanbul ignore next */
      (cov_1twkem731g().b[18][1]++, 0)
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_1twkem731g().s[68]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error obteniendo usuarios con estadÃ­sticas', {
      error
    });
    /* istanbul ignore next */
    cov_1twkem731g().s[69]++;
    throw error;
  }
}
async function GET(request) {
  /* istanbul ignore next */
  cov_1twkem731g().f[8]++;
  const startTime =
  /* istanbul ignore next */
  (cov_1twkem731g().s[70]++, Date.now());
  /* istanbul ignore next */
  cov_1twkem731g().s[71]++;
  try {
    // Rate limiting
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[72]++, await (0, _ratelimiting.checkRateLimit)(request, {
      windowMs: _ratelimiter.RATE_LIMIT_CONFIGS.admin.windowMs,
      maxRequests: _ratelimiter.RATE_LIMIT_CONFIGS.admin.maxRequests,
      message:
      /* istanbul ignore next */
      (cov_1twkem731g().b[19][0]++, _ratelimiter.RATE_LIMIT_CONFIGS.admin.message) ||
      /* istanbul ignore next */
      (cov_1twkem731g().b[19][1]++, 'Demasiadas solicitudes administrativas')
    }, 'admin-users'));
    /* istanbul ignore next */
    cov_1twkem731g().s[73]++;
    if (!rateLimitResult.success) {
      /* istanbul ignore next */
      cov_1twkem731g().b[20][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1twkem731g().s[74]++, _server.NextResponse.json({
        error: rateLimitResult.message
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_1twkem731g().s[75]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
      /* istanbul ignore next */
      cov_1twkem731g().s[76]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[20][1]++;
    }
    // Validar autenticaciÃ³n admin
    const authResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[77]++, await validateAdminAuth());
    /* istanbul ignore next */
    cov_1twkem731g().s[78]++;
    if (authResult.error) {
      /* istanbul ignore next */
      cov_1twkem731g().b[21][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[79]++, {
        data: null,
        success: false,
        error: authResult.error
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[80]++;
      return _server.NextResponse.json(errorResponse, {
        status: authResult.status
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[21][1]++;
    }
    // Validar parÃ¡metros
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[81]++, new URL(request.url));
    const validationResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[82]++, UserFiltersSchema.safeParse({
      page: searchParams.get('page'),
      limit: searchParams.get('limit'),
      search: searchParams.get('search'),
      status: searchParams.get('status'),
      role: searchParams.get('role'),
      date_from: searchParams.get('date_from'),
      date_to: searchParams.get('date_to'),
      sort_by: searchParams.get('sort_by'),
      sort_order: searchParams.get('sort_order')
    }));
    /* istanbul ignore next */
    cov_1twkem731g().s[83]++;
    if (!validationResult.success) {
      /* istanbul ignore next */
      cov_1twkem731g().b[22][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[84]++, {
        data: null,
        success: false,
        error: 'ParÃ¡metros invÃ¡lidos'
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[85]++;
      return _server.NextResponse.json(errorResponse, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[22][1]++;
    }
    const filters =
    /* istanbul ignore next */
    (cov_1twkem731g().s[86]++, validationResult.data);
    const {
      users,
      total
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[87]++, await getUsersWithStats(filters, filters));
    const totalPages =
    /* istanbul ignore next */
    (cov_1twkem731g().s[88]++, Math.ceil(total / filters.limit));
    const responseData =
    /* istanbul ignore next */
    (cov_1twkem731g().s[89]++, {
      users,
      total,
      pagination: {
        page: filters.page,
        limit: filters.limit,
        totalPages,
        hasNext: filters.page < totalPages,
        hasPrev: filters.page > 1
      },
      filters: {
        search:
        /* istanbul ignore next */
        (cov_1twkem731g().b[23][0]++, filters.search) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[23][1]++, undefined),
        status:
        /* istanbul ignore next */
        (cov_1twkem731g().b[24][0]++, filters.status) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[24][1]++, undefined),
        role:
        /* istanbul ignore next */
        (cov_1twkem731g().b[25][0]++, filters.role) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[25][1]++, undefined),
        date_from:
        /* istanbul ignore next */
        (cov_1twkem731g().b[26][0]++, filters.date_from) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[26][1]++, undefined),
        date_to:
        /* istanbul ignore next */
        (cov_1twkem731g().b[27][0]++, filters.date_to) ||
        /* istanbul ignore next */
        (cov_1twkem731g().b[27][1]++, undefined)
      },
      sort: {
        by: filters.sort_by,
        order: filters.sort_order
      }
    });
    // Registrar mÃ©tricas
    /* istanbul ignore next */
    cov_1twkem731g().s[90]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/users',
      method: 'GET',
      statusCode: 200,
      responseTime: Date.now() - startTime,
      userId: authResult.userId
    });
    // Log de auditorÃ­a
    /* istanbul ignore next */
    cov_1twkem731g().s[91]++;
    _logger.logger.log(_logger.LogLevel.INFO, _logger.LogCategory.ADMIN, 'Lista de usuarios consultada', {
      userId: authResult.userId,
      filters,
      total
    });
    const response =
    /* istanbul ignore next */
    (cov_1twkem731g().s[92]++, {
      data: responseData,
      success: true,
      message: 'Usuarios obtenidos exitosamente'
    });
    const nextResponse =
    /* istanbul ignore next */
    (cov_1twkem731g().s[93]++, _server.NextResponse.json(response));
    /* istanbul ignore next */
    cov_1twkem731g().s[94]++;
    (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
    /* istanbul ignore next */
    cov_1twkem731g().s[95]++;
    return nextResponse;
  } catch (error) {
    /* istanbul ignore next */
    cov_1twkem731g().s[96]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en GET /api/admin/users', {
      error
    });
    // Registrar mÃ©tricas de error
    /* istanbul ignore next */
    cov_1twkem731g().s[97]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/users',
      method: 'GET',
      statusCode: 500,
      responseTime: Date.now() - startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1twkem731g().b[28][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1twkem731g().b[28][1]++, 'Unknown error')
    });
    const errorResponse =
    /* istanbul ignore next */
    (cov_1twkem731g().s[98]++, {
      data: null,
      success: false,
      error: 'Error interno del servidor'
    });
    /* istanbul ignore next */
    cov_1twkem731g().s[99]++;
    return _server.NextResponse.json(errorResponse, {
      status: 500
    });
  }
}
async function POST(request) {
  /* istanbul ignore next */
  cov_1twkem731g().f[9]++;
  const startTime =
  /* istanbul ignore next */
  (cov_1twkem731g().s[100]++, Date.now());
  /* istanbul ignore next */
  cov_1twkem731g().s[101]++;
  try {
    // Rate limiting
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[102]++, await (0, _ratelimiting.checkRateLimit)(request, {
      windowMs: _ratelimiter.RATE_LIMIT_CONFIGS.admin.windowMs,
      maxRequests: _ratelimiter.RATE_LIMIT_CONFIGS.admin.maxRequests,
      message:
      /* istanbul ignore next */
      (cov_1twkem731g().b[29][0]++, _ratelimiter.RATE_LIMIT_CONFIGS.admin.message) ||
      /* istanbul ignore next */
      (cov_1twkem731g().b[29][1]++, 'Demasiadas solicitudes administrativas')
    }, 'admin-users-create'));
    /* istanbul ignore next */
    cov_1twkem731g().s[103]++;
    if (!rateLimitResult.success) {
      /* istanbul ignore next */
      cov_1twkem731g().b[30][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1twkem731g().s[104]++, _server.NextResponse.json({
        error: rateLimitResult.message
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_1twkem731g().s[105]++;
      (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
      /* istanbul ignore next */
      cov_1twkem731g().s[106]++;
      return response;
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[30][1]++;
    }
    // Validar autenticaciÃ³n admin
    const authResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[107]++, await validateAdminAuth());
    /* istanbul ignore next */
    cov_1twkem731g().s[108]++;
    if (authResult.error) {
      /* istanbul ignore next */
      cov_1twkem731g().b[31][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[109]++, {
        data: null,
        success: false,
        error: authResult.error
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[110]++;
      return _server.NextResponse.json(errorResponse, {
        status: authResult.status
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[31][1]++;
    }
    // Validar datos de entrada
    const body =
    /* istanbul ignore next */
    (cov_1twkem731g().s[111]++, await request.json());
    const validationResult =
    /* istanbul ignore next */
    (cov_1twkem731g().s[112]++, CreateUserSchema.safeParse(body));
    /* istanbul ignore next */
    cov_1twkem731g().s[113]++;
    if (!validationResult.success) {
      /* istanbul ignore next */
      cov_1twkem731g().b[32][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[114]++, {
        data: null,
        success: false,
        error: 'Datos de usuario invÃ¡lidos'
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[115]++;
      return _server.NextResponse.json(errorResponse, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[32][1]++;
    }
    const userData =
    /* istanbul ignore next */
    (cov_1twkem731g().s[116]++, validationResult.data);
    // Verificar si el email ya existe
    const {
      data: existingUser
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[117]++, await _supabase.supabaseAdmin.from('users').select('id').eq('email', userData.email).single());
    /* istanbul ignore next */
    cov_1twkem731g().s[118]++;
    if (existingUser) {
      /* istanbul ignore next */
      cov_1twkem731g().b[33][0]++;
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[119]++, {
        data: null,
        success: false,
        error: 'El email ya estÃ¡ registrado'
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[120]++;
      return _server.NextResponse.json(errorResponse, {
        status: 409
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[33][1]++;
    }
    // Crear usuario en Supabase Auth
    const {
      data: authUser,
      error: authError
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[121]++, await _supabase.supabaseAdmin.auth.admin.createUser({
      email: userData.email,
      password: userData.password,
      email_confirm: true,
      user_metadata: {
        name: userData.name,
        role: userData.role
      }
    }));
    /* istanbul ignore next */
    cov_1twkem731g().s[122]++;
    if (
    /* istanbul ignore next */
    (cov_1twkem731g().b[35][0]++, authError) ||
    /* istanbul ignore next */
    (cov_1twkem731g().b[35][1]++, !authUser.user)) {
      /* istanbul ignore next */
      cov_1twkem731g().b[34][0]++;
      cov_1twkem731g().s[123]++;
      _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.AUTH, 'Error creando usuario en Auth', {
        authError
      });
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[124]++, {
        data: null,
        success: false,
        error: 'Error creando usuario'
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[125]++;
      return _server.NextResponse.json(errorResponse, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[34][1]++;
    }
    // Crear perfil de usuario en la tabla users
    const {
      data: newUser,
      error: profileError
    } =
    /* istanbul ignore next */
    (cov_1twkem731g().s[126]++, await _supabase.supabaseAdmin.from('users').insert({
      id: authUser.user.id,
      email: userData.email,
      name: userData.name,
      role: userData.role,
      is_active: userData.is_active,
      phone: userData.phone,
      address: userData.address
    }).select().single());
    /* istanbul ignore next */
    cov_1twkem731g().s[127]++;
    if (profileError) {
      /* istanbul ignore next */
      cov_1twkem731g().b[36][0]++;
      cov_1twkem731g().s[128]++;
      // Si falla la creaciÃ³n del perfil, eliminar el usuario de Auth
      await _supabase.supabaseAdmin.auth.admin.deleteUser(authUser.user.id);
      /* istanbul ignore next */
      cov_1twkem731g().s[129]++;
      _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error creando perfil de usuario', {
        profileError
      });
      const errorResponse =
      /* istanbul ignore next */
      (cov_1twkem731g().s[130]++, {
        data: null,
        success: false,
        error: 'Error creando perfil de usuario'
      });
      /* istanbul ignore next */
      cov_1twkem731g().s[131]++;
      return _server.NextResponse.json(errorResponse, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_1twkem731g().b[36][1]++;
    }
    // Registrar mÃ©tricas
    cov_1twkem731g().s[132]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/users',
      method: 'POST',
      statusCode: 201,
      responseTime: Date.now() - startTime,
      userId: authResult.userId
    });
    // Log de auditorÃ­a
    /* istanbul ignore next */
    cov_1twkem731g().s[133]++;
    _logger.logger.log(_logger.LogLevel.INFO, _logger.LogCategory.ADMIN, 'Usuario creado', {
      adminUserId: authResult.userId,
      newUserId: newUser.id,
      email: newUser.email,
      role: newUser.role
    });
    const userWithStats =
    /* istanbul ignore next */
    (cov_1twkem731g().s[134]++, {
      ...newUser,
      orders_count: 0,
      total_spent: 0
    });
    const response =
    /* istanbul ignore next */
    (cov_1twkem731g().s[135]++, {
      data: userWithStats,
      success: true,
      message: 'Usuario creado exitosamente'
    });
    const nextResponse =
    /* istanbul ignore next */
    (cov_1twkem731g().s[136]++, _server.NextResponse.json(response, {
      status: 201
    }));
    /* istanbul ignore next */
    cov_1twkem731g().s[137]++;
    (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
    /* istanbul ignore next */
    cov_1twkem731g().s[138]++;
    return nextResponse;
  } catch (error) {
    /* istanbul ignore next */
    cov_1twkem731g().s[139]++;
    _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en POST /api/admin/users', {
      error
    });
    // Registrar mÃ©tricas de error
    /* istanbul ignore next */
    cov_1twkem731g().s[140]++;
    _metrics.metricsCollector.recordApiCall({
      endpoint: '/api/admin/users',
      method: 'POST',
      statusCode: 500,
      responseTime: Date.now() - startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1twkem731g().b[37][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1twkem731g().b[37][1]++, 'Unknown error')
    });
    const errorResponse =
    /* istanbul ignore next */
    (cov_1twkem731g().s[141]++, {
      data: null,
      success: false,
      error: 'Error interno del servidor'
    });
    /* istanbul ignore next */
    cov_1twkem731g().s[142]++;
    return _server.NextResponse.json(errorResponse, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXR3a2VtNzMxZyIsImFjdHVhbENvdmVyYWdlIiwicyIsIkdFVCIsImYiLCJQT1NUIiwicnVudGltZSIsIlVzZXJGaWx0ZXJzU2NoZW1hIiwiX3pvZCIsInoiLCJvYmplY3QiLCJwYWdlIiwiY29lcmNlIiwibnVtYmVyIiwibWluIiwiZGVmYXVsdCIsImxpbWl0IiwibWF4Iiwic2VhcmNoIiwic3RyaW5nIiwib3B0aW9uYWwiLCJudWxsYWJsZSIsInN0YXR1cyIsImVudW0iLCJyb2xlIiwiZGF0ZV9mcm9tIiwiZGF0ZV90byIsInNvcnRfYnkiLCJzb3J0X29yZGVyIiwiQ3JlYXRlVXNlclNjaGVtYSIsImVtYWlsIiwibmFtZSIsInBhc3N3b3JkIiwiaXNfYWN0aXZlIiwiYm9vbGVhbiIsInBob25lIiwiYWRkcmVzcyIsInN0cmVldF9uYW1lIiwic3RyZWV0X251bWJlciIsInppcF9jb2RlIiwiY2l0eV9uYW1lIiwic3RhdGVfbmFtZSIsIlVwZGF0ZVVzZXJTY2hlbWEiLCJ2YWxpZGF0ZUFkbWluQXV0aCIsImIiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJCWVBBU1NfQVVUSCIsInVzZXIiLCJpZCIsInVzZXJJZCIsInNlc3Npb24iLCJfY29uZmlnIiwiYXV0aCIsImVycm9yIiwiaXNBZG1pbiIsIl9sb2dnZXIiLCJsb2dnZXIiLCJsb2ciLCJMb2dMZXZlbCIsIkVSUk9SIiwiTG9nQ2F0ZWdvcnkiLCJBVVRIIiwiZ2V0VXNlcnNXaXRoU3RhdHMiLCJmaWx0ZXJzIiwicGFnaW5hdGlvbiIsInF1ZXJ5IiwiX3N1cGFiYXNlIiwic3VwYWJhc2VBZG1pbiIsImZyb20iLCJzZWxlY3QiLCJjb3VudCIsIm9yIiwiZXEiLCJndGUiLCJsdGUiLCJvcmRlciIsImFzY2VuZGluZyIsInRvIiwicmFuZ2UiLCJkYXRhIiwidXNlcnMiLCJ1c2Vyc1dpdGhTdGF0cyIsImxlbmd0aCIsInVzZXJJZHMiLCJtYXAiLCJvcmRlclN0YXRzIiwiaW4iLCJzdGF0c01hcCIsInJlZHVjZSIsImFjYyIsInVzZXJfaWQiLCJvcmRlcnNfY291bnQiLCJ0b3RhbF9zcGVudCIsInRvdGFsIiwic3RhdHMiLCJwdXNoIiwiQVBJIiwicmVxdWVzdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyYXRlTGltaXRSZXN1bHQiLCJfcmF0ZWxpbWl0aW5nIiwiY2hlY2tSYXRlTGltaXQiLCJ3aW5kb3dNcyIsIl9yYXRlbGltaXRlciIsIlJBVEVfTElNSVRfQ09ORklHUyIsImFkbWluIiwibWF4UmVxdWVzdHMiLCJtZXNzYWdlIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJhZGRSYXRlTGltaXRIZWFkZXJzIiwiYXV0aFJlc3VsdCIsImVycm9yUmVzcG9uc2UiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJ2YWxpZGF0aW9uUmVzdWx0Iiwic2FmZVBhcnNlIiwiZ2V0IiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwicmVzcG9uc2VEYXRhIiwiaGFzTmV4dCIsImhhc1ByZXYiLCJ1bmRlZmluZWQiLCJzb3J0IiwiYnkiLCJfbWV0cmljcyIsIm1ldHJpY3NDb2xsZWN0b3IiLCJyZWNvcmRBcGlDYWxsIiwiZW5kcG9pbnQiLCJtZXRob2QiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2VUaW1lIiwiSU5GTyIsIkFETUlOIiwibmV4dFJlc3BvbnNlIiwiRXJyb3IiLCJib2R5IiwidXNlckRhdGEiLCJleGlzdGluZ1VzZXIiLCJzaW5nbGUiLCJhdXRoVXNlciIsImF1dGhFcnJvciIsImNyZWF0ZVVzZXIiLCJlbWFpbF9jb25maXJtIiwidXNlcl9tZXRhZGF0YSIsIm5ld1VzZXIiLCJwcm9maWxlRXJyb3IiLCJpbnNlcnQiLCJkZWxldGVVc2VyIiwiYWRtaW5Vc2VySWQiLCJuZXdVc2VySWQiLCJ1c2VyV2l0aFN0YXRzIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcYWRtaW5cXHVzZXJzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb25maWd1cmFjacOzbiBwYXJhIE5vZGUuanMgUnVudGltZVxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gQURNSU4gVVNFUlMgQVBJIEVOVEVSUFJJU0VcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICdAL2xpYi9pbnRlZ3JhdGlvbnMvc3VwYWJhc2UnO1xyXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9saWIvYXV0aC9jb25maWcnO1xyXG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMvYXBpJztcclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XHJcbmltcG9ydCB7IGxvZ2dlciwgTG9nTGV2ZWwsIExvZ0NhdGVnb3J5IH0gZnJvbSAnQC9saWIvZW50ZXJwcmlzZS9sb2dnZXInO1xyXG5pbXBvcnQgeyBjaGVja1JhdGVMaW1pdCB9IGZyb20gJ0AvbGliL2F1dGgvcmF0ZS1saW1pdGluZyc7XHJcbmltcG9ydCB7IGFkZFJhdGVMaW1pdEhlYWRlcnMsIFJBVEVfTElNSVRfQ09ORklHUyB9IGZyb20gJ0AvbGliL2VudGVycHJpc2UvcmF0ZS1saW1pdGVyJztcclxuaW1wb3J0IHsgbWV0cmljc0NvbGxlY3RvciB9IGZyb20gJ0AvbGliL2VudGVycHJpc2UvbWV0cmljcyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTQ0hFTUFTIERFIFZBTElEQUNJw5NOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBVc2VyRmlsdGVyc1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBwYWdlOiB6LmNvZXJjZS5udW1iZXIoKS5taW4oMSkuZGVmYXVsdCgxKSxcclxuICBsaW1pdDogei5jb2VyY2UubnVtYmVyKCkubWluKDEpLm1heCgxMDApLmRlZmF1bHQoMjUpLFxyXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXHJcbiAgc3RhdHVzOiB6LmVudW0oWydhY3RpdmUnLCAnaW5hY3RpdmUnLCAnYmFubmVkJ10pLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICByb2xlOiB6LmVudW0oWyd1c2VyJywgJ2FkbWluJywgJ21vZGVyYXRvciddKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXHJcbiAgZGF0ZV9mcm9tOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICBkYXRlX3RvOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICBzb3J0X2J5OiB6LmVudW0oWydjcmVhdGVkX2F0JywgJ2VtYWlsJywgJ25hbWUnLCAnbGFzdF9sb2dpbiddKS5kZWZhdWx0KCdjcmVhdGVkX2F0JyksXHJcbiAgc29ydF9vcmRlcjogei5lbnVtKFsnYXNjJywgJ2Rlc2MnXSkuZGVmYXVsdCgnZGVzYycpLFxyXG59KTtcclxuXHJcbmNvbnN0IENyZWF0ZVVzZXJTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoJ0VtYWlsIGludsOhbGlkbycpLFxyXG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdOb21icmUgcmVxdWVyaWRvJykubWF4KDEwMCwgJ03DoXhpbW8gMTAwIGNhcmFjdGVyZXMnKSxcclxuICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oOCwgJ03DrW5pbW8gOCBjYXJhY3RlcmVzJykubWF4KDEwMCwgJ03DoXhpbW8gMTAwIGNhcmFjdGVyZXMnKSxcclxuICByb2xlOiB6LmVudW0oWyd1c2VyJywgJ2FkbWluJywgJ21vZGVyYXRvciddKS5kZWZhdWx0KCd1c2VyJyksXHJcbiAgaXNfYWN0aXZlOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxyXG4gIHBob25lOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICBhZGRyZXNzOiB6Lm9iamVjdCh7XHJcbiAgICBzdHJlZXRfbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgc3RyZWV0X251bWJlcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgemlwX2NvZGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICAgIGNpdHlfbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgc3RhdGVfbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIH0pLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxufSk7XHJcblxyXG5jb25zdCBVcGRhdGVVc2VyU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLm1heCgxMDApLm9wdGlvbmFsKCksXHJcbiAgcm9sZTogei5lbnVtKFsndXNlcicsICdhZG1pbicsICdtb2RlcmF0b3InXSkub3B0aW9uYWwoKSxcclxuICBpc19hY3RpdmU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgcGhvbmU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxyXG4gIGFkZHJlc3M6IHoub2JqZWN0KHtcclxuICAgIHN0cmVldF9uYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgICBzdHJlZXRfbnVtYmVyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgICB6aXBfY29kZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gICAgY2l0eV9uYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgICBzdGF0ZV9uYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgfSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRJUE9TIERFIERBVE9TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbnRlcmZhY2UgVXNlcldpdGhTdGF0cyB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICByb2xlOiBzdHJpbmc7XHJcbiAgaXNfYWN0aXZlOiBib29sZWFuO1xyXG4gIHBob25lPzogc3RyaW5nO1xyXG4gIGFkZHJlc3M/OiBhbnk7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxuICBsYXN0X2xvZ2luPzogc3RyaW5nO1xyXG4gIG9yZGVyc19jb3VudDogbnVtYmVyO1xyXG4gIHRvdGFsX3NwZW50OiBudW1iZXI7XHJcbiAgYXZhdGFyX3VybD86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFVzZXJzTGlzdFJlc3BvbnNlIHtcclxuICB1c2VyczogVXNlcldpdGhTdGF0c1tdO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbiAgcGFnaW5hdGlvbjoge1xyXG4gICAgcGFnZTogbnVtYmVyO1xyXG4gICAgbGltaXQ6IG51bWJlcjtcclxuICAgIHRvdGFsUGFnZXM6IG51bWJlcjtcclxuICAgIGhhc05leHQ6IGJvb2xlYW47XHJcbiAgICBoYXNQcmV2OiBib29sZWFuO1xyXG4gIH07XHJcbiAgZmlsdGVyczoge1xyXG4gICAgc2VhcmNoPzogc3RyaW5nO1xyXG4gICAgc3RhdHVzPzogc3RyaW5nO1xyXG4gICAgcm9sZT86IHN0cmluZztcclxuICAgIGRhdGVfZnJvbT86IHN0cmluZztcclxuICAgIGRhdGVfdG8/OiBzdHJpbmc7XHJcbiAgfTtcclxuICBzb3J0OiB7XHJcbiAgICBieTogc3RyaW5nO1xyXG4gICAgb3JkZXI6IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNSURETEVXQVJFIERFIEFVVEVOVElDQUNJw5NOIEFETUlOXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUFkbWluQXV0aCgpIHtcclxuICB0cnkge1xyXG4gICAgLy8gQllQQVNTIFRFTVBPUkFMIFBBUkEgREVTQVJST0xMT1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHByb2Nlc3MuZW52LkJZUEFTU19BVVRIID09PSAndHJ1ZScpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICBpZDogJ2Rldi1hZG1pbicsXHJcbiAgICAgICAgICBlbWFpbDogJ3NhbnRpYWdvQHhvci5jb20uYXInLFxyXG4gICAgICAgICAgbmFtZTogJ0RldiBBZG1pbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVzZXJJZDogJ2Rldi1hZG1pbidcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiAnVXN1YXJpbyBubyBhdXRlbnRpY2FkbycsIHN0YXR1czogNDAxIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGVzIGFkbWluXHJcbiAgICBjb25zdCBpc0FkbWluID0gc2Vzc2lvbi51c2VyLmVtYWlsID09PSAnc2FudGlhZ29AeG9yLmNvbS5hcic7XHJcbiAgICBpZiAoIWlzQWRtaW4pIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc28gZGVuZWdhZG8gLSBTZSByZXF1aWVyZW4gcGVybWlzb3MgZGUgYWRtaW5pc3RyYWRvcicsIHN0YXR1czogNDAzIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgdXNlcjogc2Vzc2lvbi51c2VyLCB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BVVRILCAnRXJyb3IgZW4gdmFsaWRhY2nDs24gYWRtaW4nLCB7IGVycm9yIH0pO1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6ICdFcnJvciBkZSBhdXRlbnRpY2FjacOzbicsIHN0YXR1czogNTAwIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGVU5DSU9ORVMgQVVYSUxJQVJFU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcnNXaXRoU3RhdHMoZmlsdGVyczogYW55LCBwYWdpbmF0aW9uOiBhbnkpIHtcclxuICB0cnkge1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIGVtYWlsLFxyXG4gICAgICAgIGZpcnN0X25hbWUsXHJcbiAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgIHJvbGVfaWQsXHJcbiAgICAgICAgaXNfYWN0aXZlLFxyXG4gICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdCxcclxuICAgICAgICB1c2VyX3JvbGVzIChcclxuICAgICAgICAgIHJvbGVfbmFtZSxcclxuICAgICAgICAgIHBlcm1pc3Npb25zXHJcbiAgICAgICAgKVxyXG4gICAgICBgLCB7IGNvdW50OiAnZXhhY3QnIH0pO1xyXG5cclxuICAgIC8vIEFwbGljYXIgZmlsdHJvc1xyXG4gICAgaWYgKGZpbHRlcnMuc2VhcmNoKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYGVtYWlsLmlsaWtlLiUke2ZpbHRlcnMuc2VhcmNofSUsbmFtZS5pbGlrZS4lJHtmaWx0ZXJzLnNlYXJjaH0lYCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbHRlcnMuc3RhdHVzKSB7XHJcbiAgICAgIGlmIChmaWx0ZXJzLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzLnN0YXR1cyA9PT0gJ2luYWN0aXZlJykge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2lzX2FjdGl2ZScsIGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXJzLnJvbGUpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgncm9sZScsIGZpbHRlcnMucm9sZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbHRlcnMuZGF0ZV9mcm9tKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlX2Zyb20pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXJzLmRhdGVfdG8pIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ2NyZWF0ZWRfYXQnLCBmaWx0ZXJzLmRhdGVfdG8pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwbGljYXIgb3JkZW5hbWllbnRvXHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKHBhZ2luYXRpb24uc29ydF9ieSwgeyBhc2NlbmRpbmc6IHBhZ2luYXRpb24uc29ydF9vcmRlciA9PT0gJ2FzYycgfSk7XHJcblxyXG4gICAgLy8gQXBsaWNhciBwYWdpbmFjacOzblxyXG4gICAgY29uc3QgZnJvbSA9IChwYWdpbmF0aW9uLnBhZ2UgLSAxKSAqIHBhZ2luYXRpb24ubGltaXQ7XHJcbiAgICBjb25zdCB0byA9IGZyb20gKyBwYWdpbmF0aW9uLmxpbWl0IC0gMTtcclxuICAgIHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pO1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogdXNlcnMsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGVuZXIgZXN0YWTDrXN0aWNhcyBkZSDDs3JkZW5lcyBwYXJhIGNhZGEgdXN1YXJpb1xyXG4gICAgY29uc3QgdXNlcnNXaXRoU3RhdHM6IFVzZXJXaXRoU3RhdHNbXSA9IFtdO1xyXG4gICAgXHJcbiAgICBpZiAodXNlcnMgJiYgdXNlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCB1c2VySWRzID0gdXNlcnMubWFwKHVzZXIgPT4gdXNlci5pZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBPYnRlbmVyIGVzdGFkw61zdGljYXMgZGUgw7NyZGVuZXNcclxuICAgICAgY29uc3QgeyBkYXRhOiBvcmRlclN0YXRzIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ29yZGVycycpXHJcbiAgICAgICAgLnNlbGVjdCgndXNlcl9pZCwgdG90YWwnKVxyXG4gICAgICAgIC5pbigndXNlcl9pZCcsIHVzZXJJZHMpXHJcbiAgICAgICAgLmVxKCdzdGF0dXMnLCAnY29tcGxldGVkJyk7XHJcblxyXG4gICAgICAvLyBDYWxjdWxhciBlc3RhZMOtc3RpY2FzIHBvciB1c3VhcmlvXHJcbiAgICAgIGNvbnN0IHN0YXRzTWFwID0gb3JkZXJTdGF0cz8ucmVkdWNlKChhY2M6IGFueSwgb3JkZXIpID0+IHtcclxuICAgICAgICBpZiAoIWFjY1tvcmRlci51c2VyX2lkXSkge1xyXG4gICAgICAgICAgYWNjW29yZGVyLnVzZXJfaWRdID0geyBvcmRlcnNfY291bnQ6IDAsIHRvdGFsX3NwZW50OiAwIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjY1tvcmRlci51c2VyX2lkXS5vcmRlcnNfY291bnQgKz0gMTtcclxuICAgICAgICBhY2Nbb3JkZXIudXNlcl9pZF0udG90YWxfc3BlbnQgKz0gb3JkZXIudG90YWwgfHwgMDtcclxuICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICB9LCB7fSkgfHwge307XHJcblxyXG4gICAgICAvLyBDb21iaW5hciBkYXRvc1xyXG4gICAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHtcclxuICAgICAgICBjb25zdCBzdGF0cyA9IHN0YXRzTWFwW3VzZXIuaWRdIHx8IHsgb3JkZXJzX2NvdW50OiAwLCB0b3RhbF9zcGVudDogMCB9O1xyXG4gICAgICAgIHVzZXJzV2l0aFN0YXRzLnB1c2goe1xyXG4gICAgICAgICAgLi4udXNlcixcclxuICAgICAgICAgIG9yZGVyc19jb3VudDogc3RhdHMub3JkZXJzX2NvdW50LFxyXG4gICAgICAgICAgdG90YWxfc3BlbnQ6IHN0YXRzLnRvdGFsX3NwZW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB1c2VyczogdXNlcnNXaXRoU3RhdHMsXHJcbiAgICAgIHRvdGFsOiBjb3VudCB8fCAwXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BUEksICdFcnJvciBvYnRlbmllbmRvIHVzdWFyaW9zIGNvbiBlc3RhZMOtc3RpY2FzJywgeyBlcnJvciB9KTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0VUIC0gTGlzdGFyIHVzdWFyaW9zIGNvbiBmaWx0cm9zIHkgZXN0YWTDrXN0aWNhc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFJhdGUgbGltaXRpbmdcclxuICAgIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IGF3YWl0IGNoZWNrUmF0ZUxpbWl0KFxyXG4gICAgICByZXF1ZXN0LFxyXG4gICAgICB7XHJcbiAgICAgICAgd2luZG93TXM6IFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi53aW5kb3dNcyxcclxuICAgICAgICBtYXhSZXF1ZXN0czogUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLm1heFJlcXVlc3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi5tZXNzYWdlIHx8ICdEZW1hc2lhZGFzIHNvbGljaXR1ZGVzIGFkbWluaXN0cmF0aXZhcydcclxuICAgICAgfSxcclxuICAgICAgJ2FkbWluLXVzZXJzJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIXJhdGVMaW1pdFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogcmF0ZUxpbWl0UmVzdWx0Lm1lc3NhZ2UgfSxcclxuICAgICAgICB7IHN0YXR1czogNDI5IH1cclxuICAgICAgKTtcclxuICAgICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhyZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0KTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgYXV0ZW50aWNhY2nDs24gYWRtaW5cclxuICAgIGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUFkbWluQXV0aCgpO1xyXG4gICAgaWYgKGF1dGhSZXN1bHQuZXJyb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogYXV0aFJlc3VsdC5lcnJvcixcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiBhdXRoUmVzdWx0LnN0YXR1cyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGFyIHBhcsOhbWV0cm9zXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gVXNlckZpbHRlcnNTY2hlbWEuc2FmZVBhcnNlKHtcclxuICAgICAgcGFnZTogc2VhcmNoUGFyYW1zLmdldCgncGFnZScpLFxyXG4gICAgICBsaW1pdDogc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSxcclxuICAgICAgc2VhcmNoOiBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSxcclxuICAgICAgc3RhdHVzOiBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0dXMnKSxcclxuICAgICAgcm9sZTogc2VhcmNoUGFyYW1zLmdldCgncm9sZScpLFxyXG4gICAgICBkYXRlX2Zyb206IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGVfZnJvbScpLFxyXG4gICAgICBkYXRlX3RvOiBzZWFyY2hQYXJhbXMuZ2V0KCdkYXRlX3RvJyksXHJcbiAgICAgIHNvcnRfYnk6IHNlYXJjaFBhcmFtcy5nZXQoJ3NvcnRfYnknKSxcclxuICAgICAgc29ydF9vcmRlcjogc2VhcmNoUGFyYW1zLmdldCgnc29ydF9vcmRlcicpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ1BhcsOhbWV0cm9zIGludsOhbGlkb3MnLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWx0ZXJzID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xyXG4gICAgY29uc3QgeyB1c2VycywgdG90YWwgfSA9IGF3YWl0IGdldFVzZXJzV2l0aFN0YXRzKGZpbHRlcnMsIGZpbHRlcnMpO1xyXG5cclxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWwgLyBmaWx0ZXJzLmxpbWl0KTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZURhdGE6IFVzZXJzTGlzdFJlc3BvbnNlID0ge1xyXG4gICAgICB1c2VycyxcclxuICAgICAgdG90YWwsXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBwYWdlOiBmaWx0ZXJzLnBhZ2UsXHJcbiAgICAgICAgbGltaXQ6IGZpbHRlcnMubGltaXQsXHJcbiAgICAgICAgdG90YWxQYWdlcyxcclxuICAgICAgICBoYXNOZXh0OiBmaWx0ZXJzLnBhZ2UgPCB0b3RhbFBhZ2VzLFxyXG4gICAgICAgIGhhc1ByZXY6IGZpbHRlcnMucGFnZSA+IDEsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZpbHRlcnM6IHtcclxuICAgICAgICBzZWFyY2g6IGZpbHRlcnMuc2VhcmNoIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICBzdGF0dXM6IGZpbHRlcnMuc3RhdHVzIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICByb2xlOiBmaWx0ZXJzLnJvbGUgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIGRhdGVfZnJvbTogZmlsdGVycy5kYXRlX2Zyb20gfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIGRhdGVfdG86IGZpbHRlcnMuZGF0ZV90byB8fCB1bmRlZmluZWQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHNvcnQ6IHtcclxuICAgICAgICBieTogZmlsdGVycy5zb3J0X2J5LFxyXG4gICAgICAgIG9yZGVyOiBmaWx0ZXJzLnNvcnRfb3JkZXIsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFJlZ2lzdHJhciBtw6l0cmljYXNcclxuICAgIG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkQXBpQ2FsbCh7XHJcbiAgICAgIGVuZHBvaW50OiAnL2FwaS9hZG1pbi91c2VycycsXHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgcmVzcG9uc2VUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxyXG4gICAgICB1c2VySWQ6IGF1dGhSZXN1bHQudXNlcklkXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5JTkZPLCBMb2dDYXRlZ29yeS5BRE1JTiwgJ0xpc3RhIGRlIHVzdWFyaW9zIGNvbnN1bHRhZGEnLCB7XHJcbiAgICAgIHVzZXJJZDogYXV0aFJlc3VsdC51c2VySWQsXHJcbiAgICAgIGZpbHRlcnMsXHJcbiAgICAgIHRvdGFsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8VXNlcnNMaXN0UmVzcG9uc2U+ID0ge1xyXG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdVc3VhcmlvcyBvYnRlbmlkb3MgZXhpdG9zYW1lbnRlJ1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuZXh0UmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZSk7XHJcbiAgICBhZGRSYXRlTGltaXRIZWFkZXJzKG5leHRSZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0KTtcclxuICAgIHJldHVybiBuZXh0UmVzcG9uc2U7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BUEksICdFcnJvciBlbiBHRVQgL2FwaS9hZG1pbi91c2VycycsIHsgZXJyb3IgfSk7XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG3DqXRyaWNhcyBkZSBlcnJvclxyXG4gICAgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRBcGlDYWxsKHtcclxuICAgICAgZW5kcG9pbnQ6ICcvYXBpL2FkbWluL3VzZXJzJyxcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQT1NUIC0gQ3JlYXIgbnVldm8gdXN1YXJpb1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBSYXRlIGxpbWl0aW5nXHJcbiAgICBjb25zdCByYXRlTGltaXRSZXN1bHQgPSBhd2FpdCBjaGVja1JhdGVMaW1pdChcclxuICAgICAgcmVxdWVzdCxcclxuICAgICAge1xyXG4gICAgICAgIHdpbmRvd01zOiBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4ud2luZG93TXMsXHJcbiAgICAgICAgbWF4UmVxdWVzdHM6IFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi5tYXhSZXF1ZXN0cyxcclxuICAgICAgICBtZXNzYWdlOiBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4ubWVzc2FnZSB8fCAnRGVtYXNpYWRhcyBzb2xpY2l0dWRlcyBhZG1pbmlzdHJhdGl2YXMnXHJcbiAgICAgIH0sXHJcbiAgICAgICdhZG1pbi11c2Vycy1jcmVhdGUnXHJcbiAgICApO1xyXG5cclxuICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiByYXRlTGltaXRSZXN1bHQubWVzc2FnZSB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxyXG4gICAgICApO1xyXG4gICAgICBhZGRSYXRlTGltaXRIZWFkZXJzKHJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhciBhdXRlbnRpY2FjacOzbiBhZG1pblxyXG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlQWRtaW5BdXRoKCk7XHJcbiAgICBpZiAoYXV0aFJlc3VsdC5lcnJvcikge1xyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBBcGlSZXNwb25zZTxudWxsPiA9IHtcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBhdXRoUmVzdWx0LmVycm9yLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IGF1dGhSZXN1bHQuc3RhdHVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgZGF0b3MgZGUgZW50cmFkYVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IENyZWF0ZVVzZXJTY2hlbWEuc2FmZVBhcnNlKGJvZHkpO1xyXG5cclxuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdEYXRvcyBkZSB1c3VhcmlvIGludsOhbGlkb3MnLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcclxuXHJcbiAgICAvLyBWZXJpZmljYXIgc2kgZWwgZW1haWwgeWEgZXhpc3RlXHJcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgIC5lcSgnZW1haWwnLCB1c2VyRGF0YS5lbWFpbClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ0VsIGVtYWlsIHlhIGVzdMOhIHJlZ2lzdHJhZG8nLFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZXJyb3JSZXNwb25zZSwgeyBzdGF0dXM6IDQwOSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhciB1c3VhcmlvIGVuIFN1cGFiYXNlIEF1dGhcclxuICAgIGNvbnN0IHsgZGF0YTogYXV0aFVzZXIsIGVycm9yOiBhdXRoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4uYXV0aC5hZG1pbi5jcmVhdGVVc2VyKHtcclxuICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxyXG4gICAgICBwYXNzd29yZDogdXNlckRhdGEucGFzc3dvcmQsXHJcbiAgICAgIGVtYWlsX2NvbmZpcm06IHRydWUsXHJcbiAgICAgIHVzZXJfbWV0YWRhdGE6IHtcclxuICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgICAgIHJvbGU6IHVzZXJEYXRhLnJvbGVcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGF1dGhFcnJvciB8fCAhYXV0aFVzZXIudXNlcikge1xyXG4gICAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BVVRILCAnRXJyb3IgY3JlYW5kbyB1c3VhcmlvIGVuIEF1dGgnLCB7IGF1dGhFcnJvciB9KTtcclxuICAgICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogJ0Vycm9yIGNyZWFuZG8gdXN1YXJpbycsXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihlcnJvclJlc3BvbnNlLCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWFyIHBlcmZpbCBkZSB1c3VhcmlvIGVuIGxhIHRhYmxhIHVzZXJzXHJcbiAgICBjb25zdCB7IGRhdGE6IG5ld1VzZXIsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgaWQ6IGF1dGhVc2VyLnVzZXIuaWQsXHJcbiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxyXG4gICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgcm9sZTogdXNlckRhdGEucm9sZSxcclxuICAgICAgICBpc19hY3RpdmU6IHVzZXJEYXRhLmlzX2FjdGl2ZSxcclxuICAgICAgICBwaG9uZTogdXNlckRhdGEucGhvbmUsXHJcbiAgICAgICAgYWRkcmVzczogdXNlckRhdGEuYWRkcmVzcyxcclxuICAgICAgfSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAocHJvZmlsZUVycm9yKSB7XHJcbiAgICAgIC8vIFNpIGZhbGxhIGxhIGNyZWFjacOzbiBkZWwgcGVyZmlsLCBlbGltaW5hciBlbCB1c3VhcmlvIGRlIEF1dGhcclxuICAgICAgYXdhaXQgc3VwYWJhc2VBZG1pbi5hdXRoLmFkbWluLmRlbGV0ZVVzZXIoYXV0aFVzZXIudXNlci5pZCk7XHJcbiAgICAgIFxyXG4gICAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BUEksICdFcnJvciBjcmVhbmRvIHBlcmZpbCBkZSB1c3VhcmlvJywgeyBwcm9maWxlRXJyb3IgfSk7XHJcbiAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2U6IEFwaVJlc3BvbnNlPG51bGw+ID0ge1xyXG4gICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdFcnJvciBjcmVhbmRvIHBlcmZpbCBkZSB1c3VhcmlvJyxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVnaXN0cmFyIG3DqXRyaWNhc1xyXG4gICAgbWV0cmljc0NvbGxlY3Rvci5yZWNvcmRBcGlDYWxsKHtcclxuICAgICAgZW5kcG9pbnQ6ICcvYXBpL2FkbWluL3VzZXJzJyxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIHN0YXR1c0NvZGU6IDIwMSxcclxuICAgICAgcmVzcG9uc2VUaW1lOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxyXG4gICAgICB1c2VySWQ6IGF1dGhSZXN1bHQudXNlcklkXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5JTkZPLCBMb2dDYXRlZ29yeS5BRE1JTiwgJ1VzdWFyaW8gY3JlYWRvJywge1xyXG4gICAgICBhZG1pblVzZXJJZDogYXV0aFJlc3VsdC51c2VySWQsXHJcbiAgICAgIG5ld1VzZXJJZDogbmV3VXNlci5pZCxcclxuICAgICAgZW1haWw6IG5ld1VzZXIuZW1haWwsXHJcbiAgICAgIHJvbGU6IG5ld1VzZXIucm9sZVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdXNlcldpdGhTdGF0czogVXNlcldpdGhTdGF0cyA9IHtcclxuICAgICAgLi4ubmV3VXNlcixcclxuICAgICAgb3JkZXJzX2NvdW50OiAwLFxyXG4gICAgICB0b3RhbF9zcGVudDogMFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZTogQXBpUmVzcG9uc2U8VXNlcldpdGhTdGF0cz4gPSB7XHJcbiAgICAgIGRhdGE6IHVzZXJXaXRoU3RhdHMsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdVc3VhcmlvIGNyZWFkbyBleGl0b3NhbWVudGUnXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5leHRSZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlLCB7IHN0YXR1czogMjAxIH0pO1xyXG4gICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhuZXh0UmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCk7XHJcbiAgICByZXR1cm4gbmV4dFJlc3BvbnNlO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5FUlJPUiwgTG9nQ2F0ZWdvcnkuQVBJLCAnRXJyb3IgZW4gUE9TVCAvYXBpL2FkbWluL3VzZXJzJywgeyBlcnJvciB9KTtcclxuXHJcbiAgICAvLyBSZWdpc3RyYXIgbcOpdHJpY2FzIGRlIGVycm9yXHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoe1xyXG4gICAgICBlbmRwb2ludDogJy9hcGkvYWRtaW4vdXNlcnMnLFxyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgc3RhdHVzQ29kZTogNTAwLFxyXG4gICAgICByZXNwb25zZVRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JSZXNwb25zZTogQXBpUmVzcG9uc2U8bnVsbD4gPSB7XHJcbiAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVycm9yUmVzcG9uc2UsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBcVlzQjtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBQUFBLGNBQUEsR0FBQUUsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUF6SUFDLElBQUE7SUFBQTtJQUFBSCxjQUFBLEdBQUFJLENBQUE7SUFBQUosY0FBQSxHQUFBRSxDQUFBO1dBQUFDLEdBQUE7O01BeUlBRSxLQUFBO0lBQUE7SUFBQUwsY0FBQSxHQUFBSSxDQUFBO0lBQUFKLGNBQUEsR0FBQUUsQ0FBQTtXQUFBRyxJQUFBOztNQXBZVEMsUUFBQTtJQUFBO0lBQUFOLGNBQUEsR0FBQUksQ0FBQTtJQUFBSixjQUFBLEdBQUFFLENBQUE7V0FBQUksT0FBQTs7Ozs7a0NBTTZCOzs7a0NBQ1o7OztrQ0FDVDs7O21DQUVIOzs7bUNBQzRCOzs7bUNBQ2Y7OzttQ0FDeUI7OzttQ0FDdkI7QUFkMUIsTUFBTUEsT0FBQTtBQUFBO0FBQUEsQ0FBQU4sY0FBQSxHQUFBRSxDQUFBLFFBQVU7QUFnQnZCO0FBQ0E7QUFDQTtBQUVBLE1BQU1LLGlCQUFBO0FBQUE7QUFBQSxDQUFBUCxjQUFBLEdBQUFFLENBQUEsUUFBb0JNLElBQUEsQ0FBQUMsQ0FBQyxDQUFDQyxNQUFNLENBQUM7RUFDakNDLElBQUEsRUFBTUgsSUFBQSxDQUFBQyxDQUFDLENBQUNHLE1BQU0sQ0FBQ0MsTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBR0MsT0FBTyxDQUFDO0VBQ3ZDQyxLQUFBLEVBQU9SLElBQUEsQ0FBQUMsQ0FBQyxDQUFDRyxNQUFNLENBQUNDLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUdHLEdBQUcsQ0FBQyxLQUFLRixPQUFPLENBQUM7RUFDakRHLE1BQUEsRUFBUVYsSUFBQSxDQUFBQyxDQUFDLENBQUNVLE1BQU0sR0FBR0MsUUFBUSxHQUFHQyxRQUFRO0VBQ3RDQyxNQUFBLEVBQVFkLElBQUEsQ0FBQUMsQ0FBQyxDQUFDYyxJQUFJLENBQUMsQ0FBQyxVQUFVLFlBQVksU0FBUyxFQUFFSCxRQUFRLEdBQUdDLFFBQVE7RUFDcEVHLElBQUEsRUFBTWhCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDYyxJQUFJLENBQUMsQ0FBQyxRQUFRLFNBQVMsWUFBWSxFQUFFSCxRQUFRLEdBQUdDLFFBQVE7RUFDaEVJLFNBQUEsRUFBV2pCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdDLFFBQVEsR0FBR0MsUUFBUTtFQUN6Q0ssT0FBQSxFQUFTbEIsSUFBQSxDQUFBQyxDQUFDLENBQUNVLE1BQU0sR0FBR0MsUUFBUSxHQUFHQyxRQUFRO0VBQ3ZDTSxPQUFBLEVBQVNuQixJQUFBLENBQUFDLENBQUMsQ0FBQ2MsSUFBSSxDQUFDLENBQUMsY0FBYyxTQUFTLFFBQVEsYUFBYSxFQUFFUixPQUFPLENBQUM7RUFDdkVhLFVBQUEsRUFBWXBCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDYyxJQUFJLENBQUMsQ0FBQyxPQUFPLE9BQU8sRUFBRVIsT0FBTyxDQUFDO0FBQzlDO0FBRUEsTUFBTWMsZ0JBQUE7QUFBQTtBQUFBLENBQUE3QixjQUFBLEdBQUFFLENBQUEsUUFBbUJNLElBQUEsQ0FBQUMsQ0FBQyxDQUFDQyxNQUFNLENBQUM7RUFDaENvQixLQUFBLEVBQU90QixJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHVyxLQUFLLENBQUM7RUFDeEJDLElBQUEsRUFBTXZCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdMLEdBQUcsQ0FBQyxHQUFHLG9CQUFvQkcsR0FBRyxDQUFDLEtBQUs7RUFDckRlLFFBQUEsRUFBVXhCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdMLEdBQUcsQ0FBQyxHQUFHLHVCQUF1QkcsR0FBRyxDQUFDLEtBQUs7RUFDNURPLElBQUEsRUFBTWhCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDYyxJQUFJLENBQUMsQ0FBQyxRQUFRLFNBQVMsWUFBWSxFQUFFUixPQUFPLENBQUM7RUFDckRrQixTQUFBLEVBQVd6QixJQUFBLENBQUFDLENBQUMsQ0FBQ3lCLE9BQU8sR0FBR25CLE9BQU8sQ0FBQztFQUMvQm9CLEtBQUEsRUFBTzNCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdDLFFBQVEsR0FBR0MsUUFBUTtFQUNyQ2UsT0FBQSxFQUFTNUIsSUFBQSxDQUFBQyxDQUFDLENBQUNDLE1BQU0sQ0FBQztJQUNoQjJCLFdBQUEsRUFBYTdCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdDLFFBQVE7SUFDaENrQixhQUFBLEVBQWU5QixJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHQyxRQUFRO0lBQ2xDbUIsUUFBQSxFQUFVL0IsSUFBQSxDQUFBQyxDQUFDLENBQUNVLE1BQU0sR0FBR0MsUUFBUTtJQUM3Qm9CLFNBQUEsRUFBV2hDLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdDLFFBQVE7SUFDOUJxQixVQUFBLEVBQVlqQyxJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHQyxRQUFRO0VBQ2pDLEdBQUdBLFFBQVEsR0FBR0MsUUFBUTtBQUN4QjtBQUVBLE1BQU1xQixnQkFBQTtBQUFBO0FBQUEsQ0FBQTFDLGNBQUEsR0FBQUUsQ0FBQSxRQUFtQk0sSUFBQSxDQUFBQyxDQUFDLENBQUNDLE1BQU0sQ0FBQztFQUNoQ3FCLElBQUEsRUFBTXZCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdMLEdBQUcsQ0FBQyxHQUFHRyxHQUFHLENBQUMsS0FBS0csUUFBUTtFQUN6Q0ksSUFBQSxFQUFNaEIsSUFBQSxDQUFBQyxDQUFDLENBQUNjLElBQUksQ0FBQyxDQUFDLFFBQVEsU0FBUyxZQUFZLEVBQUVILFFBQVE7RUFDckRhLFNBQUEsRUFBV3pCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDeUIsT0FBTyxHQUFHZCxRQUFRO0VBQy9CZSxLQUFBLEVBQU8zQixJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHQyxRQUFRLEdBQUdDLFFBQVE7RUFDckNlLE9BQUEsRUFBUzVCLElBQUEsQ0FBQUMsQ0FBQyxDQUFDQyxNQUFNLENBQUM7SUFDaEIyQixXQUFBLEVBQWE3QixJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHQyxRQUFRO0lBQ2hDa0IsYUFBQSxFQUFlOUIsSUFBQSxDQUFBQyxDQUFDLENBQUNVLE1BQU0sR0FBR0MsUUFBUTtJQUNsQ21CLFFBQUEsRUFBVS9CLElBQUEsQ0FBQUMsQ0FBQyxDQUFDVSxNQUFNLEdBQUdDLFFBQVE7SUFDN0JvQixTQUFBLEVBQVdoQyxJQUFBLENBQUFDLENBQUMsQ0FBQ1UsTUFBTSxHQUFHQyxRQUFRO0lBQzlCcUIsVUFBQSxFQUFZakMsSUFBQSxDQUFBQyxDQUFDLENBQUNVLE1BQU0sR0FBR0MsUUFBUTtFQUNqQyxHQUFHQSxRQUFRLEdBQUdDLFFBQVE7QUFDeEI7QUE2Q0E7QUFDQTtBQUNBO0FBRUEsZUFBZXNCLGtCQUFBO0VBQUE7RUFBQTNDLGNBQUEsR0FBQUksQ0FBQTtFQUFBSixjQUFBLEdBQUFFLENBQUE7RUFDYixJQUFJO0lBQUE7SUFBQUYsY0FBQSxHQUFBRSxDQUFBO0lBQ0Y7SUFDQTtJQUFJO0lBQUEsQ0FBQUYsY0FBQSxHQUFBNEMsQ0FBQSxVQUFBQyxPQUFBLENBQVFDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLO0lBQUE7SUFBQSxDQUFBL0MsY0FBQSxHQUFBNEMsQ0FBQSxVQUFpQkMsT0FBQSxDQUFRQyxHQUFHLENBQUNFLFdBQVcsS0FBSyxTQUFRO01BQUE7TUFBQWhELGNBQUEsR0FBQTRDLENBQUE7TUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtNQUNoRixPQUFPO1FBQ0wrQyxJQUFBLEVBQU07VUFDSkMsRUFBQSxFQUFJO1VBQ0pwQixLQUFBLEVBQU87VUFDUEMsSUFBQSxFQUFNO1FBQ1I7UUFDQW9CLE1BQUEsRUFBUTtNQUNWO0lBQ0Y7SUFBQTtJQUFBO01BQUFuRCxjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFFQSxNQUFNUSxPQUFBO0lBQUE7SUFBQSxDQUFBcEQsY0FBQSxHQUFBRSxDQUFBLFFBQVUsTUFBTSxJQUFBbUQsT0FBQSxDQUFBQyxJQUFJO0lBQUE7SUFBQXRELGNBQUEsR0FBQUUsQ0FBQTtJQUMxQixJQUFJLENBQUNrRCxPQUFBLEVBQVNILElBQUEsRUFBTTtNQUFBO01BQUFqRCxjQUFBLEdBQUE0QyxDQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDbEIsT0FBTztRQUFFcUQsS0FBQSxFQUFPO1FBQTBCakMsTUFBQSxFQUFRO01BQUk7SUFDeEQ7SUFBQTtJQUFBO01BQUF0QixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFFQTtJQUNBLE1BQU1ZLE9BQUE7SUFBQTtJQUFBLENBQUF4RCxjQUFBLEdBQUFFLENBQUEsUUFBVWtELE9BQUEsQ0FBUUgsSUFBSSxDQUFDbkIsS0FBSyxLQUFLO0lBQUE7SUFBQTlCLGNBQUEsR0FBQUUsQ0FBQTtJQUN2QyxJQUFJLENBQUNzRCxPQUFBLEVBQVM7TUFBQTtNQUFBeEQsY0FBQSxHQUFBNEMsQ0FBQTtNQUFBNUMsY0FBQSxHQUFBRSxDQUFBO01BQ1osT0FBTztRQUFFcUQsS0FBQSxFQUFPO1FBQTREakMsTUFBQSxFQUFRO01BQUk7SUFDMUY7SUFBQTtJQUFBO01BQUF0QixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtJQUVBLE9BQU87TUFBRStDLElBQUEsRUFBTUcsT0FBQSxDQUFRSCxJQUFJO01BQUVFLE1BQUEsRUFBUUMsT0FBQSxDQUFRSCxJQUFJLENBQUNDO0lBQUc7RUFDdkQsRUFBRSxPQUFPSyxLQUFBLEVBQU87SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBQ2R1RCxPQUFBLENBQUFDLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDRixPQUFBLENBQUFHLFFBQVEsQ0FBQ0MsS0FBSyxFQUFFSixPQUFBLENBQUFLLFdBQVcsQ0FBQ0MsSUFBSSxFQUFFLDZCQUE2QjtNQUFFUjtJQUFNO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNsRixPQUFPO01BQUVxRCxLQUFBLEVBQU87TUFBMEJqQyxNQUFBLEVBQVE7SUFBSTtFQUN4RDtBQUNGO0FBRUE7QUFDQTtBQUNBO0FBRUEsZUFBZTBDLGtCQUFrQkMsT0FBWSxFQUFFQyxVQUFlO0VBQUE7RUFBQWxFLGNBQUEsR0FBQUksQ0FBQTtFQUFBSixjQUFBLEdBQUFFLENBQUE7RUFDNUQsSUFBSTtJQUNGLElBQUlpRSxLQUFBO0lBQUE7SUFBQSxDQUFBbkUsY0FBQSxHQUFBRSxDQUFBLFFBQVFrRSxTQUFBLENBQUFDLGFBQWEsQ0FDdEJDLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDOzs7Ozs7Ozs7Ozs7OztPQWNQLEVBQUU7TUFBRUMsS0FBQSxFQUFPO0lBQVE7SUFFdEI7SUFBQTtJQUFBeEUsY0FBQSxHQUFBRSxDQUFBO0lBQ0EsSUFBSStELE9BQUEsQ0FBUS9DLE1BQU0sRUFBRTtNQUFBO01BQUFsQixjQUFBLEdBQUE0QyxDQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDbEJpRSxLQUFBLEdBQVFBLEtBQUEsQ0FBTU0sRUFBRSxDQUFDLGdCQUFnQlIsT0FBQSxDQUFRL0MsTUFBTSxpQkFBaUIrQyxPQUFBLENBQVEvQyxNQUFNLEdBQUc7SUFDbkY7SUFBQTtJQUFBO01BQUFsQixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtJQUVBLElBQUkrRCxPQUFBLENBQVEzQyxNQUFNLEVBQUU7TUFBQTtNQUFBdEIsY0FBQSxHQUFBNEMsQ0FBQTtNQUFBNUMsY0FBQSxHQUFBRSxDQUFBO01BQ2xCLElBQUkrRCxPQUFBLENBQVEzQyxNQUFNLEtBQUssVUFBVTtRQUFBO1FBQUF0QixjQUFBLEdBQUE0QyxDQUFBO1FBQUE1QyxjQUFBLEdBQUFFLENBQUE7UUFDL0JpRSxLQUFBLEdBQVFBLEtBQUEsQ0FBTU8sRUFBRSxDQUFDLGFBQWE7TUFDaEMsT0FBTztRQUFBO1FBQUExRSxjQUFBLEdBQUE0QyxDQUFBO1FBQUE1QyxjQUFBLEdBQUFFLENBQUE7UUFBQSxJQUFJK0QsT0FBQSxDQUFRM0MsTUFBTSxLQUFLLFlBQVk7VUFBQTtVQUFBdEIsY0FBQSxHQUFBNEMsQ0FBQTtVQUFBNUMsY0FBQSxHQUFBRSxDQUFBO1VBQ3hDaUUsS0FBQSxHQUFRQSxLQUFBLENBQU1PLEVBQUUsQ0FBQyxhQUFhO1FBQ2hDO1FBQUE7UUFBQTtVQUFBMUUsY0FBQSxHQUFBNEMsQ0FBQTtRQUFBO01BQUE7SUFDRjtJQUFBO0lBQUE7TUFBQTVDLGNBQUEsR0FBQTRDLENBQUE7SUFBQTtJQUFBNUMsY0FBQSxHQUFBRSxDQUFBO0lBRUEsSUFBSStELE9BQUEsQ0FBUXpDLElBQUksRUFBRTtNQUFBO01BQUF4QixjQUFBLEdBQUE0QyxDQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDaEJpRSxLQUFBLEdBQVFBLEtBQUEsQ0FBTU8sRUFBRSxDQUFDLFFBQVFULE9BQUEsQ0FBUXpDLElBQUk7SUFDdkM7SUFBQTtJQUFBO01BQUF4QixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtJQUVBLElBQUkrRCxPQUFBLENBQVF4QyxTQUFTLEVBQUU7TUFBQTtNQUFBekIsY0FBQSxHQUFBNEMsQ0FBQTtNQUFBNUMsY0FBQSxHQUFBRSxDQUFBO01BQ3JCaUUsS0FBQSxHQUFRQSxLQUFBLENBQU1RLEdBQUcsQ0FBQyxjQUFjVixPQUFBLENBQVF4QyxTQUFTO0lBQ25EO0lBQUE7SUFBQTtNQUFBekIsY0FBQSxHQUFBNEMsQ0FBQTtJQUFBO0lBQUE1QyxjQUFBLEdBQUFFLENBQUE7SUFFQSxJQUFJK0QsT0FBQSxDQUFRdkMsT0FBTyxFQUFFO01BQUE7TUFBQTFCLGNBQUEsR0FBQTRDLENBQUE7TUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtNQUNuQmlFLEtBQUEsR0FBUUEsS0FBQSxDQUFNUyxHQUFHLENBQUMsY0FBY1gsT0FBQSxDQUFRdkMsT0FBTztJQUNqRDtJQUFBO0lBQUE7TUFBQTFCLGNBQUEsR0FBQTRDLENBQUE7SUFBQTtJQUVBO0lBQUE1QyxjQUFBLEdBQUFFLENBQUE7SUFDQWlFLEtBQUEsR0FBUUEsS0FBQSxDQUFNVSxLQUFLLENBQUNYLFVBQUEsQ0FBV3ZDLE9BQU8sRUFBRTtNQUFFbUQsU0FBQSxFQUFXWixVQUFBLENBQVd0QyxVQUFVLEtBQUs7SUFBTTtJQUVyRjtJQUNBLE1BQU0wQyxJQUFBO0lBQUE7SUFBQSxDQUFBdEUsY0FBQSxHQUFBRSxDQUFBLFFBQU8sQ0FBQ2dFLFVBQUEsQ0FBV3ZELElBQUksR0FBRyxLQUFLdUQsVUFBQSxDQUFXbEQsS0FBSztJQUNyRCxNQUFNK0QsRUFBQTtJQUFBO0lBQUEsQ0FBQS9FLGNBQUEsR0FBQUUsQ0FBQSxRQUFLb0UsSUFBQSxHQUFPSixVQUFBLENBQVdsRCxLQUFLLEdBQUc7SUFBQTtJQUFBaEIsY0FBQSxHQUFBRSxDQUFBO0lBQ3JDaUUsS0FBQSxHQUFRQSxLQUFBLENBQU1hLEtBQUssQ0FBQ1YsSUFBQSxFQUFNUyxFQUFBO0lBRTFCLE1BQU07TUFBRUUsSUFBQSxFQUFNQyxLQUFLO01BQUUzQixLQUFLO01BQUVpQjtJQUFLLENBQUU7SUFBQTtJQUFBLENBQUF4RSxjQUFBLEdBQUFFLENBQUEsUUFBRyxNQUFNaUUsS0FBQTtJQUFBO0lBQUFuRSxjQUFBLEdBQUFFLENBQUE7SUFFNUMsSUFBSXFELEtBQUEsRUFBTztNQUFBO01BQUF2RCxjQUFBLEdBQUE0QyxDQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDVCxNQUFNcUQsS0FBQTtJQUNSO0lBQUE7SUFBQTtNQUFBdkQsY0FBQSxHQUFBNEMsQ0FBQTtJQUFBO0lBRUE7SUFDQSxNQUFNdUMsY0FBQTtJQUFBO0lBQUEsQ0FBQW5GLGNBQUEsR0FBQUUsQ0FBQSxRQUFrQyxFQUFFO0lBQUE7SUFBQUYsY0FBQSxHQUFBRSxDQUFBO0lBRTFDO0lBQUk7SUFBQSxDQUFBRixjQUFBLEdBQUE0QyxDQUFBLFdBQUFzQyxLQUFBO0lBQUE7SUFBQSxDQUFBbEYsY0FBQSxHQUFBNEMsQ0FBQSxXQUFTc0MsS0FBQSxDQUFNRSxNQUFNLEdBQUcsSUFBRztNQUFBO01BQUFwRixjQUFBLEdBQUE0QyxDQUFBO01BQzdCLE1BQU15QyxPQUFBO01BQUE7TUFBQSxDQUFBckYsY0FBQSxHQUFBRSxDQUFBLFFBQVVnRixLQUFBLENBQU1JLEdBQUcsQ0FBQ3JDLElBQUEsSUFBUTtRQUFBO1FBQUFqRCxjQUFBLEdBQUFJLENBQUE7UUFBQUosY0FBQSxHQUFBRSxDQUFBO1FBQUEsT0FBQStDLElBQUEsQ0FBS0MsRUFBRTtNQUFGLENBQUU7TUFFekM7TUFDQSxNQUFNO1FBQUUrQixJQUFBLEVBQU1NO01BQVUsQ0FBRTtNQUFBO01BQUEsQ0FBQXZGLGNBQUEsR0FBQUUsQ0FBQSxRQUFHLE1BQU1rRSxTQUFBLENBQUFDLGFBQWEsQ0FDN0NDLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsa0JBQ1BpQixFQUFFLENBQUMsV0FBV0gsT0FBQSxFQUNkWCxFQUFFLENBQUMsVUFBVTtNQUVoQjtNQUNBLE1BQU1lLFFBQUE7TUFBQTtNQUFBLENBQUF6RixjQUFBLEdBQUFFLENBQUE7TUFBVztNQUFBLENBQUFGLGNBQUEsR0FBQTRDLENBQUEsV0FBQTJDLFVBQUEsRUFBWUcsTUFBQSxDQUFPLENBQUNDLEdBQUEsRUFBVWQsS0FBQTtRQUFBO1FBQUE3RSxjQUFBLEdBQUFJLENBQUE7UUFBQUosY0FBQSxHQUFBRSxDQUFBO1FBQzdDLElBQUksQ0FBQ3lGLEdBQUcsQ0FBQ2QsS0FBQSxDQUFNZSxPQUFPLENBQUMsRUFBRTtVQUFBO1VBQUE1RixjQUFBLEdBQUE0QyxDQUFBO1VBQUE1QyxjQUFBLEdBQUFFLENBQUE7VUFDdkJ5RixHQUFHLENBQUNkLEtBQUEsQ0FBTWUsT0FBTyxDQUFDLEdBQUc7WUFBRUMsWUFBQSxFQUFjO1lBQUdDLFdBQUEsRUFBYTtVQUFFO1FBQ3pEO1FBQUE7UUFBQTtVQUFBOUYsY0FBQSxHQUFBNEMsQ0FBQTtRQUFBO1FBQUE1QyxjQUFBLEdBQUFFLENBQUE7UUFDQXlGLEdBQUcsQ0FBQ2QsS0FBQSxDQUFNZSxPQUFPLENBQUMsQ0FBQ0MsWUFBWSxJQUFJO1FBQUE7UUFBQTdGLGNBQUEsR0FBQUUsQ0FBQTtRQUNuQ3lGLEdBQUcsQ0FBQ2QsS0FBQSxDQUFNZSxPQUFPLENBQUMsQ0FBQ0UsV0FBVztRQUFJO1FBQUEsQ0FBQTlGLGNBQUEsR0FBQTRDLENBQUEsV0FBQWlDLEtBQUEsQ0FBTWtCLEtBQUs7UUFBQTtRQUFBLENBQUEvRixjQUFBLEdBQUE0QyxDQUFBLFdBQUk7UUFBQTtRQUFBNUMsY0FBQSxHQUFBRSxDQUFBO1FBQ2pELE9BQU95RixHQUFBO01BQ1QsR0FBRyxDQUFDO01BQUE7TUFBQSxDQUFBM0YsY0FBQSxHQUFBNEMsQ0FBQSxXQUFNLENBQUM7TUFFWDtNQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDQSxLQUFLLE1BQU0rQyxJQUFBLElBQVFpQyxLQUFBLEVBQU87UUFDeEIsTUFBTWMsS0FBQTtRQUFBO1FBQUEsQ0FBQWhHLGNBQUEsR0FBQUUsQ0FBQTtRQUFRO1FBQUEsQ0FBQUYsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBNkMsUUFBUSxDQUFDeEMsSUFBQSxDQUFLQyxFQUFFLENBQUM7UUFBQTtRQUFBLENBQUFsRCxjQUFBLEdBQUE0QyxDQUFBLFdBQUk7VUFBRWlELFlBQUEsRUFBYztVQUFHQyxXQUFBLEVBQWE7UUFBRTtRQUFBO1FBQUE5RixjQUFBLEdBQUFFLENBQUE7UUFDckVpRixjQUFBLENBQWVjLElBQUksQ0FBQztVQUNsQixHQUFHaEQsSUFBSTtVQUNQNEMsWUFBQSxFQUFjRyxLQUFBLENBQU1ILFlBQVk7VUFDaENDLFdBQUEsRUFBYUUsS0FBQSxDQUFNRjtRQUNyQjtNQUNGO0lBQ0Y7SUFBQTtJQUFBO01BQUE5RixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtJQUVBLE9BQU87TUFDTGdGLEtBQUEsRUFBT0MsY0FBQTtNQUNQWSxLQUFBO01BQU87TUFBQSxDQUFBL0YsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBNEIsS0FBQTtNQUFBO01BQUEsQ0FBQXhFLGNBQUEsR0FBQTRDLENBQUEsV0FBUztJQUNsQjtFQUNGLEVBQUUsT0FBT1csS0FBQSxFQUFPO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNkdUQsT0FBQSxDQUFBQyxNQUFNLENBQUNDLEdBQUcsQ0FBQ0YsT0FBQSxDQUFBRyxRQUFRLENBQUNDLEtBQUssRUFBRUosT0FBQSxDQUFBSyxXQUFXLENBQUNvQyxHQUFHLEVBQUUsOENBQThDO01BQUUzQztJQUFNO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNsRyxNQUFNcUQsS0FBQTtFQUNSO0FBQ0Y7QUFLTyxlQUFlcEQsSUFBSWdHLE9BQW9CO0VBQUE7RUFBQW5HLGNBQUEsR0FBQUksQ0FBQTtFQUM1QyxNQUFNZ0csU0FBQTtFQUFBO0VBQUEsQ0FBQXBHLGNBQUEsR0FBQUUsQ0FBQSxRQUFZbUcsSUFBQSxDQUFLQyxHQUFHO0VBQUE7RUFBQXRHLGNBQUEsR0FBQUUsQ0FBQTtFQUUxQixJQUFJO0lBQ0Y7SUFDQSxNQUFNcUcsZUFBQTtJQUFBO0lBQUEsQ0FBQXZHLGNBQUEsR0FBQUUsQ0FBQSxRQUFrQixNQUFNLElBQUFzRyxhQUFBLENBQUFDLGNBQWMsRUFDMUNOLE9BQUEsRUFDQTtNQUNFTyxRQUFBLEVBQVVDLFlBQUEsQ0FBQUMsa0JBQWtCLENBQUNDLEtBQUssQ0FBQ0gsUUFBUTtNQUMzQ0ksV0FBQSxFQUFhSCxZQUFBLENBQUFDLGtCQUFrQixDQUFDQyxLQUFLLENBQUNDLFdBQVc7TUFDakRDLE9BQUE7TUFBUztNQUFBLENBQUEvRyxjQUFBLEdBQUE0QyxDQUFBLFdBQUErRCxZQUFBLENBQUFDLGtCQUFrQixDQUFDQyxLQUFLLENBQUNFLE9BQU87TUFBQTtNQUFBLENBQUEvRyxjQUFBLEdBQUE0QyxDQUFBLFdBQUk7SUFDL0MsR0FDQTtJQUFBO0lBQUE1QyxjQUFBLEdBQUFFLENBQUE7SUFHRixJQUFJLENBQUNxRyxlQUFBLENBQWdCUyxPQUFPLEVBQUU7TUFBQTtNQUFBaEgsY0FBQSxHQUFBNEMsQ0FBQTtNQUM1QixNQUFNcUUsUUFBQTtNQUFBO01BQUEsQ0FBQWpILGNBQUEsR0FBQUUsQ0FBQSxRQUFXZ0gsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FDaEM7UUFBRTdELEtBQUEsRUFBT2dELGVBQUEsQ0FBZ0JRO01BQVEsR0FDakM7UUFBRXpGLE1BQUEsRUFBUTtNQUFJO01BQUE7TUFBQXRCLGNBQUEsR0FBQUUsQ0FBQTtNQUVoQixJQUFBeUcsWUFBQSxDQUFBVSxtQkFBbUIsRUFBQ0osUUFBQSxFQUFVVixlQUFBO01BQUE7TUFBQXZHLGNBQUEsR0FBQUUsQ0FBQTtNQUM5QixPQUFPK0csUUFBQTtJQUNUO0lBQUE7SUFBQTtNQUFBakgsY0FBQSxHQUFBNEMsQ0FBQTtJQUFBO0lBRUE7SUFDQSxNQUFNMEUsVUFBQTtJQUFBO0lBQUEsQ0FBQXRILGNBQUEsR0FBQUUsQ0FBQSxRQUFhLE1BQU15QyxpQkFBQTtJQUFBO0lBQUEzQyxjQUFBLEdBQUFFLENBQUE7SUFDekIsSUFBSW9ILFVBQUEsQ0FBVy9ELEtBQUssRUFBRTtNQUFBO01BQUF2RCxjQUFBLEdBQUE0QyxDQUFBO01BQ3BCLE1BQU0yRSxhQUFBO01BQUE7TUFBQSxDQUFBdkgsY0FBQSxHQUFBRSxDQUFBLFFBQW1DO1FBQ3ZDK0UsSUFBQSxFQUFNO1FBQ04rQixPQUFBLEVBQVM7UUFDVHpELEtBQUEsRUFBTytELFVBQUEsQ0FBVy9EO01BQ3BCO01BQUE7TUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtNQUNBLE9BQU9nSCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDRyxhQUFBLEVBQWU7UUFBRWpHLE1BQUEsRUFBUWdHLFVBQUEsQ0FBV2hHO01BQU87SUFDdEU7SUFBQTtJQUFBO01BQUF0QixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFFQTtJQUNBLE1BQU07TUFBRTRFO0lBQVksQ0FBRTtJQUFBO0lBQUEsQ0FBQXhILGNBQUEsR0FBQUUsQ0FBQSxRQUFHLElBQUl1SCxHQUFBLENBQUl0QixPQUFBLENBQVF1QixHQUFHO0lBQzVDLE1BQU1DLGdCQUFBO0lBQUE7SUFBQSxDQUFBM0gsY0FBQSxHQUFBRSxDQUFBLFFBQW1CSyxpQkFBQSxDQUFrQnFILFNBQVMsQ0FBQztNQUNuRGpILElBQUEsRUFBTTZHLFlBQUEsQ0FBYUssR0FBRyxDQUFDO01BQ3ZCN0csS0FBQSxFQUFPd0csWUFBQSxDQUFhSyxHQUFHLENBQUM7TUFDeEIzRyxNQUFBLEVBQVFzRyxZQUFBLENBQWFLLEdBQUcsQ0FBQztNQUN6QnZHLE1BQUEsRUFBUWtHLFlBQUEsQ0FBYUssR0FBRyxDQUFDO01BQ3pCckcsSUFBQSxFQUFNZ0csWUFBQSxDQUFhSyxHQUFHLENBQUM7TUFDdkJwRyxTQUFBLEVBQVcrRixZQUFBLENBQWFLLEdBQUcsQ0FBQztNQUM1Qm5HLE9BQUEsRUFBUzhGLFlBQUEsQ0FBYUssR0FBRyxDQUFDO01BQzFCbEcsT0FBQSxFQUFTNkYsWUFBQSxDQUFhSyxHQUFHLENBQUM7TUFDMUJqRyxVQUFBLEVBQVk0RixZQUFBLENBQWFLLEdBQUcsQ0FBQztJQUMvQjtJQUFBO0lBQUE3SCxjQUFBLEdBQUFFLENBQUE7SUFFQSxJQUFJLENBQUN5SCxnQkFBQSxDQUFpQlgsT0FBTyxFQUFFO01BQUE7TUFBQWhILGNBQUEsR0FBQTRDLENBQUE7TUFDN0IsTUFBTTJFLGFBQUE7TUFBQTtNQUFBLENBQUF2SCxjQUFBLEdBQUFFLENBQUEsUUFBbUM7UUFDdkMrRSxJQUFBLEVBQU07UUFDTitCLE9BQUEsRUFBUztRQUNUekQsS0FBQSxFQUFPO01BQ1Q7TUFBQTtNQUFBdkQsY0FBQSxHQUFBRSxDQUFBO01BQ0EsT0FBT2dILE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNHLGFBQUEsRUFBZTtRQUFFakcsTUFBQSxFQUFRO01BQUk7SUFDeEQ7SUFBQTtJQUFBO01BQUF0QixjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFFQSxNQUFNcUIsT0FBQTtJQUFBO0lBQUEsQ0FBQWpFLGNBQUEsR0FBQUUsQ0FBQSxRQUFVeUgsZ0JBQUEsQ0FBaUIxQyxJQUFJO0lBQ3JDLE1BQU07TUFBRUMsS0FBSztNQUFFYTtJQUFLLENBQUU7SUFBQTtJQUFBLENBQUEvRixjQUFBLEdBQUFFLENBQUEsUUFBRyxNQUFNOEQsaUJBQUEsQ0FBa0JDLE9BQUEsRUFBU0EsT0FBQTtJQUUxRCxNQUFNNkQsVUFBQTtJQUFBO0lBQUEsQ0FBQTlILGNBQUEsR0FBQUUsQ0FBQSxRQUFhNkgsSUFBQSxDQUFLQyxJQUFJLENBQUNqQyxLQUFBLEdBQVE5QixPQUFBLENBQVFqRCxLQUFLO0lBRWxELE1BQU1pSCxZQUFBO0lBQUE7SUFBQSxDQUFBakksY0FBQSxHQUFBRSxDQUFBLFFBQWtDO01BQ3RDZ0YsS0FBQTtNQUNBYSxLQUFBO01BQ0E3QixVQUFBLEVBQVk7UUFDVnZELElBQUEsRUFBTXNELE9BQUEsQ0FBUXRELElBQUk7UUFDbEJLLEtBQUEsRUFBT2lELE9BQUEsQ0FBUWpELEtBQUs7UUFDcEI4RyxVQUFBO1FBQ0FJLE9BQUEsRUFBU2pFLE9BQUEsQ0FBUXRELElBQUksR0FBR21ILFVBQUE7UUFDeEJLLE9BQUEsRUFBU2xFLE9BQUEsQ0FBUXRELElBQUksR0FBRztNQUMxQjtNQUNBc0QsT0FBQSxFQUFTO1FBQ1AvQyxNQUFBO1FBQVE7UUFBQSxDQUFBbEIsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBcUIsT0FBQSxDQUFRL0MsTUFBTTtRQUFBO1FBQUEsQ0FBQWxCLGNBQUEsR0FBQTRDLENBQUEsV0FBSXdGLFNBQUE7UUFDMUI5RyxNQUFBO1FBQVE7UUFBQSxDQUFBdEIsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBcUIsT0FBQSxDQUFRM0MsTUFBTTtRQUFBO1FBQUEsQ0FBQXRCLGNBQUEsR0FBQTRDLENBQUEsV0FBSXdGLFNBQUE7UUFDMUI1RyxJQUFBO1FBQU07UUFBQSxDQUFBeEIsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBcUIsT0FBQSxDQUFRekMsSUFBSTtRQUFBO1FBQUEsQ0FBQXhCLGNBQUEsR0FBQTRDLENBQUEsV0FBSXdGLFNBQUE7UUFDdEIzRyxTQUFBO1FBQVc7UUFBQSxDQUFBekIsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBcUIsT0FBQSxDQUFReEMsU0FBUztRQUFBO1FBQUEsQ0FBQXpCLGNBQUEsR0FBQTRDLENBQUEsV0FBSXdGLFNBQUE7UUFDaEMxRyxPQUFBO1FBQVM7UUFBQSxDQUFBMUIsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBcUIsT0FBQSxDQUFRdkMsT0FBTztRQUFBO1FBQUEsQ0FBQTFCLGNBQUEsR0FBQTRDLENBQUEsV0FBSXdGLFNBQUE7TUFDOUI7TUFDQUMsSUFBQSxFQUFNO1FBQ0pDLEVBQUEsRUFBSXJFLE9BQUEsQ0FBUXRDLE9BQU87UUFDbkJrRCxLQUFBLEVBQU9aLE9BQUEsQ0FBUXJDO01BQ2pCO0lBQ0Y7SUFFQTtJQUFBO0lBQUE1QixjQUFBLEdBQUFFLENBQUE7SUFDQXFJLFFBQUEsQ0FBQUMsZ0JBQWdCLENBQUNDLGFBQWEsQ0FBQztNQUM3QkMsUUFBQSxFQUFVO01BQ1ZDLE1BQUEsRUFBUTtNQUNSQyxVQUFBLEVBQVk7TUFDWkMsWUFBQSxFQUFjeEMsSUFBQSxDQUFLQyxHQUFHLEtBQUtGLFNBQUE7TUFDM0JqRCxNQUFBLEVBQVFtRSxVQUFBLENBQVduRTtJQUNyQjtJQUVBO0lBQUE7SUFBQW5ELGNBQUEsR0FBQUUsQ0FBQTtJQUNBdUQsT0FBQSxDQUFBQyxNQUFNLENBQUNDLEdBQUcsQ0FBQ0YsT0FBQSxDQUFBRyxRQUFRLENBQUNrRixJQUFJLEVBQUVyRixPQUFBLENBQUFLLFdBQVcsQ0FBQ2lGLEtBQUssRUFBRSxnQ0FBZ0M7TUFDM0U1RixNQUFBLEVBQVFtRSxVQUFBLENBQVduRSxNQUFNO01BQ3pCYyxPQUFBO01BQ0E4QjtJQUNGO0lBRUEsTUFBTWtCLFFBQUE7SUFBQTtJQUFBLENBQUFqSCxjQUFBLEdBQUFFLENBQUEsUUFBMkM7TUFDL0MrRSxJQUFBLEVBQU1nRCxZQUFBO01BQ05qQixPQUFBLEVBQVM7TUFDVEQsT0FBQSxFQUFTO0lBQ1g7SUFFQSxNQUFNaUMsWUFBQTtJQUFBO0lBQUEsQ0FBQWhKLGNBQUEsR0FBQUUsQ0FBQSxRQUFlZ0gsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQ0gsUUFBQTtJQUFBO0lBQUFqSCxjQUFBLEdBQUFFLENBQUE7SUFDdkMsSUFBQXlHLFlBQUEsQ0FBQVUsbUJBQW1CLEVBQUMyQixZQUFBLEVBQWN6QyxlQUFBO0lBQUE7SUFBQXZHLGNBQUEsR0FBQUUsQ0FBQTtJQUNsQyxPQUFPOEksWUFBQTtFQUVULEVBQUUsT0FBT3pGLEtBQUEsRUFBTztJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDZHVELE9BQUEsQ0FBQUMsTUFBTSxDQUFDQyxHQUFHLENBQUNGLE9BQUEsQ0FBQUcsUUFBUSxDQUFDQyxLQUFLLEVBQUVKLE9BQUEsQ0FBQUssV0FBVyxDQUFDb0MsR0FBRyxFQUFFLGlDQUFpQztNQUFFM0M7SUFBTTtJQUVyRjtJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDQXFJLFFBQUEsQ0FBQUMsZ0JBQWdCLENBQUNDLGFBQWEsQ0FBQztNQUM3QkMsUUFBQSxFQUFVO01BQ1ZDLE1BQUEsRUFBUTtNQUNSQyxVQUFBLEVBQVk7TUFDWkMsWUFBQSxFQUFjeEMsSUFBQSxDQUFLQyxHQUFHLEtBQUtGLFNBQUE7TUFDM0I3QyxLQUFBLEVBQU9BLEtBQUEsWUFBaUIwRixLQUFBO01BQUE7TUFBQSxDQUFBakosY0FBQSxHQUFBNEMsQ0FBQSxXQUFRVyxLQUFBLENBQU13RCxPQUFPO01BQUE7TUFBQSxDQUFBL0csY0FBQSxHQUFBNEMsQ0FBQSxXQUFHO0lBQ2xEO0lBRUEsTUFBTTJFLGFBQUE7SUFBQTtJQUFBLENBQUF2SCxjQUFBLEdBQUFFLENBQUEsUUFBbUM7TUFDdkMrRSxJQUFBLEVBQU07TUFDTitCLE9BQUEsRUFBUztNQUNUekQsS0FBQSxFQUFPO0lBQ1Q7SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBRUEsT0FBT2dILE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNHLGFBQUEsRUFBZTtNQUFFakcsTUFBQSxFQUFRO0lBQUk7RUFDeEQ7QUFDRjtBQUtPLGVBQWVqQixLQUFLOEYsT0FBb0I7RUFBQTtFQUFBbkcsY0FBQSxHQUFBSSxDQUFBO0VBQzdDLE1BQU1nRyxTQUFBO0VBQUE7RUFBQSxDQUFBcEcsY0FBQSxHQUFBRSxDQUFBLFNBQVltRyxJQUFBLENBQUtDLEdBQUc7RUFBQTtFQUFBdEcsY0FBQSxHQUFBRSxDQUFBO0VBRTFCLElBQUk7SUFDRjtJQUNBLE1BQU1xRyxlQUFBO0lBQUE7SUFBQSxDQUFBdkcsY0FBQSxHQUFBRSxDQUFBLFNBQWtCLE1BQU0sSUFBQXNHLGFBQUEsQ0FBQUMsY0FBYyxFQUMxQ04sT0FBQSxFQUNBO01BQ0VPLFFBQUEsRUFBVUMsWUFBQSxDQUFBQyxrQkFBa0IsQ0FBQ0MsS0FBSyxDQUFDSCxRQUFRO01BQzNDSSxXQUFBLEVBQWFILFlBQUEsQ0FBQUMsa0JBQWtCLENBQUNDLEtBQUssQ0FBQ0MsV0FBVztNQUNqREMsT0FBQTtNQUFTO01BQUEsQ0FBQS9HLGNBQUEsR0FBQTRDLENBQUEsV0FBQStELFlBQUEsQ0FBQUMsa0JBQWtCLENBQUNDLEtBQUssQ0FBQ0UsT0FBTztNQUFBO01BQUEsQ0FBQS9HLGNBQUEsR0FBQTRDLENBQUEsV0FBSTtJQUMvQyxHQUNBO0lBQUE7SUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtJQUdGLElBQUksQ0FBQ3FHLGVBQUEsQ0FBZ0JTLE9BQU8sRUFBRTtNQUFBO01BQUFoSCxjQUFBLEdBQUE0QyxDQUFBO01BQzVCLE1BQU1xRSxRQUFBO01BQUE7TUFBQSxDQUFBakgsY0FBQSxHQUFBRSxDQUFBLFNBQVdnSCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUNoQztRQUFFN0QsS0FBQSxFQUFPZ0QsZUFBQSxDQUFnQlE7TUFBUSxHQUNqQztRQUFFekYsTUFBQSxFQUFRO01BQUk7TUFBQTtNQUFBdEIsY0FBQSxHQUFBRSxDQUFBO01BRWhCLElBQUF5RyxZQUFBLENBQUFVLG1CQUFtQixFQUFDSixRQUFBLEVBQVVWLGVBQUE7TUFBQTtNQUFBdkcsY0FBQSxHQUFBRSxDQUFBO01BQzlCLE9BQU8rRyxRQUFBO0lBQ1Q7SUFBQTtJQUFBO01BQUFqSCxjQUFBLEdBQUE0QyxDQUFBO0lBQUE7SUFFQTtJQUNBLE1BQU0wRSxVQUFBO0lBQUE7SUFBQSxDQUFBdEgsY0FBQSxHQUFBRSxDQUFBLFNBQWEsTUFBTXlDLGlCQUFBO0lBQUE7SUFBQTNDLGNBQUEsR0FBQUUsQ0FBQTtJQUN6QixJQUFJb0gsVUFBQSxDQUFXL0QsS0FBSyxFQUFFO01BQUE7TUFBQXZELGNBQUEsR0FBQTRDLENBQUE7TUFDcEIsTUFBTTJFLGFBQUE7TUFBQTtNQUFBLENBQUF2SCxjQUFBLEdBQUFFLENBQUEsU0FBbUM7UUFDdkMrRSxJQUFBLEVBQU07UUFDTitCLE9BQUEsRUFBUztRQUNUekQsS0FBQSxFQUFPK0QsVUFBQSxDQUFXL0Q7TUFDcEI7TUFBQTtNQUFBdkQsY0FBQSxHQUFBRSxDQUFBO01BQ0EsT0FBT2dILE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNHLGFBQUEsRUFBZTtRQUFFakcsTUFBQSxFQUFRZ0csVUFBQSxDQUFXaEc7TUFBTztJQUN0RTtJQUFBO0lBQUE7TUFBQXRCLGNBQUEsR0FBQTRDLENBQUE7SUFBQTtJQUVBO0lBQ0EsTUFBTXNHLElBQUE7SUFBQTtJQUFBLENBQUFsSixjQUFBLEdBQUFFLENBQUEsU0FBTyxNQUFNaUcsT0FBQSxDQUFRaUIsSUFBSTtJQUMvQixNQUFNTyxnQkFBQTtJQUFBO0lBQUEsQ0FBQTNILGNBQUEsR0FBQUUsQ0FBQSxTQUFtQjJCLGdCQUFBLENBQWlCK0YsU0FBUyxDQUFDc0IsSUFBQTtJQUFBO0lBQUFsSixjQUFBLEdBQUFFLENBQUE7SUFFcEQsSUFBSSxDQUFDeUgsZ0JBQUEsQ0FBaUJYLE9BQU8sRUFBRTtNQUFBO01BQUFoSCxjQUFBLEdBQUE0QyxDQUFBO01BQzdCLE1BQU0yRSxhQUFBO01BQUE7TUFBQSxDQUFBdkgsY0FBQSxHQUFBRSxDQUFBLFNBQW1DO1FBQ3ZDK0UsSUFBQSxFQUFNO1FBQ04rQixPQUFBLEVBQVM7UUFDVHpELEtBQUEsRUFBTztNQUNUO01BQUE7TUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtNQUNBLE9BQU9nSCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDRyxhQUFBLEVBQWU7UUFBRWpHLE1BQUEsRUFBUTtNQUFJO0lBQ3hEO0lBQUE7SUFBQTtNQUFBdEIsY0FBQSxHQUFBNEMsQ0FBQTtJQUFBO0lBRUEsTUFBTXVHLFFBQUE7SUFBQTtJQUFBLENBQUFuSixjQUFBLEdBQUFFLENBQUEsU0FBV3lILGdCQUFBLENBQWlCMUMsSUFBSTtJQUV0QztJQUNBLE1BQU07TUFBRUEsSUFBQSxFQUFNbUU7SUFBWSxDQUFFO0lBQUE7SUFBQSxDQUFBcEosY0FBQSxHQUFBRSxDQUFBLFNBQUcsTUFBTWtFLFNBQUEsQ0FBQUMsYUFBYSxDQUMvQ0MsSUFBSSxDQUFDLFNBQ0xDLE1BQU0sQ0FBQyxNQUNQRyxFQUFFLENBQUMsU0FBU3lFLFFBQUEsQ0FBU3JILEtBQUssRUFDMUJ1SCxNQUFNO0lBQUE7SUFBQXJKLGNBQUEsR0FBQUUsQ0FBQTtJQUVULElBQUlrSixZQUFBLEVBQWM7TUFBQTtNQUFBcEosY0FBQSxHQUFBNEMsQ0FBQTtNQUNoQixNQUFNMkUsYUFBQTtNQUFBO01BQUEsQ0FBQXZILGNBQUEsR0FBQUUsQ0FBQSxTQUFtQztRQUN2QytFLElBQUEsRUFBTTtRQUNOK0IsT0FBQSxFQUFTO1FBQ1R6RCxLQUFBLEVBQU87TUFDVDtNQUFBO01BQUF2RCxjQUFBLEdBQUFFLENBQUE7TUFDQSxPQUFPZ0gsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQ0csYUFBQSxFQUFlO1FBQUVqRyxNQUFBLEVBQVE7TUFBSTtJQUN4RDtJQUFBO0lBQUE7TUFBQXRCLGNBQUEsR0FBQTRDLENBQUE7SUFBQTtJQUVBO0lBQ0EsTUFBTTtNQUFFcUMsSUFBQSxFQUFNcUUsUUFBUTtNQUFFL0YsS0FBQSxFQUFPZ0c7SUFBUyxDQUFFO0lBQUE7SUFBQSxDQUFBdkosY0FBQSxHQUFBRSxDQUFBLFNBQUcsTUFBTWtFLFNBQUEsQ0FBQUMsYUFBYSxDQUFDZixJQUFJLENBQUN1RCxLQUFLLENBQUMyQyxVQUFVLENBQUM7TUFDckYxSCxLQUFBLEVBQU9xSCxRQUFBLENBQVNySCxLQUFLO01BQ3JCRSxRQUFBLEVBQVVtSCxRQUFBLENBQVNuSCxRQUFRO01BQzNCeUgsYUFBQSxFQUFlO01BQ2ZDLGFBQUEsRUFBZTtRQUNiM0gsSUFBQSxFQUFNb0gsUUFBQSxDQUFTcEgsSUFBSTtRQUNuQlAsSUFBQSxFQUFNMkgsUUFBQSxDQUFTM0g7TUFDakI7SUFDRjtJQUFBO0lBQUF4QixjQUFBLEdBQUFFLENBQUE7SUFFQTtJQUFJO0lBQUEsQ0FBQUYsY0FBQSxHQUFBNEMsQ0FBQSxXQUFBMkcsU0FBQTtJQUFBO0lBQUEsQ0FBQXZKLGNBQUEsR0FBQTRDLENBQUEsV0FBYSxDQUFDMEcsUUFBQSxDQUFTckcsSUFBSSxHQUFFO01BQUE7TUFBQWpELGNBQUEsR0FBQTRDLENBQUE7TUFBQTVDLGNBQUEsR0FBQUUsQ0FBQTtNQUMvQnVELE9BQUEsQ0FBQUMsTUFBTSxDQUFDQyxHQUFHLENBQUNGLE9BQUEsQ0FBQUcsUUFBUSxDQUFDQyxLQUFLLEVBQUVKLE9BQUEsQ0FBQUssV0FBVyxDQUFDQyxJQUFJLEVBQUUsaUNBQWlDO1FBQUV3RjtNQUFVO01BQzFGLE1BQU1oQyxhQUFBO01BQUE7TUFBQSxDQUFBdkgsY0FBQSxHQUFBRSxDQUFBLFNBQW1DO1FBQ3ZDK0UsSUFBQSxFQUFNO1FBQ04rQixPQUFBLEVBQVM7UUFDVHpELEtBQUEsRUFBTztNQUNUO01BQUE7TUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtNQUNBLE9BQU9nSCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDRyxhQUFBLEVBQWU7UUFBRWpHLE1BQUEsRUFBUTtNQUFJO0lBQ3hEO0lBQUE7SUFBQTtNQUFBdEIsY0FBQSxHQUFBNEMsQ0FBQTtJQUFBO0lBRUE7SUFDQSxNQUFNO01BQUVxQyxJQUFBLEVBQU0wRSxPQUFPO01BQUVwRyxLQUFBLEVBQU9xRztJQUFZLENBQUU7SUFBQTtJQUFBLENBQUE1SixjQUFBLEdBQUFFLENBQUEsU0FBRyxNQUFNa0UsU0FBQSxDQUFBQyxhQUFhLENBQy9EQyxJQUFJLENBQUMsU0FDTHVGLE1BQU0sQ0FBQztNQUNOM0csRUFBQSxFQUFJb0csUUFBQSxDQUFTckcsSUFBSSxDQUFDQyxFQUFFO01BQ3BCcEIsS0FBQSxFQUFPcUgsUUFBQSxDQUFTckgsS0FBSztNQUNyQkMsSUFBQSxFQUFNb0gsUUFBQSxDQUFTcEgsSUFBSTtNQUNuQlAsSUFBQSxFQUFNMkgsUUFBQSxDQUFTM0gsSUFBSTtNQUNuQlMsU0FBQSxFQUFXa0gsUUFBQSxDQUFTbEgsU0FBUztNQUM3QkUsS0FBQSxFQUFPZ0gsUUFBQSxDQUFTaEgsS0FBSztNQUNyQkMsT0FBQSxFQUFTK0csUUFBQSxDQUFTL0c7SUFDcEIsR0FDQ21DLE1BQU0sR0FDTjhFLE1BQU07SUFBQTtJQUFBckosY0FBQSxHQUFBRSxDQUFBO0lBRVQsSUFBSTBKLFlBQUEsRUFBYztNQUFBO01BQUE1SixjQUFBLEdBQUE0QyxDQUFBO01BQUE1QyxjQUFBLEdBQUFFLENBQUE7TUFDaEI7TUFDQSxNQUFNa0UsU0FBQSxDQUFBQyxhQUFhLENBQUNmLElBQUksQ0FBQ3VELEtBQUssQ0FBQ2lELFVBQVUsQ0FBQ1IsUUFBQSxDQUFTckcsSUFBSSxDQUFDQyxFQUFFO01BQUE7TUFBQWxELGNBQUEsR0FBQUUsQ0FBQTtNQUUxRHVELE9BQUEsQ0FBQUMsTUFBTSxDQUFDQyxHQUFHLENBQUNGLE9BQUEsQ0FBQUcsUUFBUSxDQUFDQyxLQUFLLEVBQUVKLE9BQUEsQ0FBQUssV0FBVyxDQUFDb0MsR0FBRyxFQUFFLG1DQUFtQztRQUFFMEQ7TUFBYTtNQUM5RixNQUFNckMsYUFBQTtNQUFBO01BQUEsQ0FBQXZILGNBQUEsR0FBQUUsQ0FBQSxTQUFtQztRQUN2QytFLElBQUEsRUFBTTtRQUNOK0IsT0FBQSxFQUFTO1FBQ1R6RCxLQUFBLEVBQU87TUFDVDtNQUFBO01BQUF2RCxjQUFBLEdBQUFFLENBQUE7TUFDQSxPQUFPZ0gsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQ0csYUFBQSxFQUFlO1FBQUVqRyxNQUFBLEVBQVE7TUFBSTtJQUN4RDtJQUFBO0lBQUE7TUFBQXRCLGNBQUEsR0FBQTRDLENBQUE7SUFBQTtJQUVBO0lBQUE1QyxjQUFBLEdBQUFFLENBQUE7SUFDQXFJLFFBQUEsQ0FBQUMsZ0JBQWdCLENBQUNDLGFBQWEsQ0FBQztNQUM3QkMsUUFBQSxFQUFVO01BQ1ZDLE1BQUEsRUFBUTtNQUNSQyxVQUFBLEVBQVk7TUFDWkMsWUFBQSxFQUFjeEMsSUFBQSxDQUFLQyxHQUFHLEtBQUtGLFNBQUE7TUFDM0JqRCxNQUFBLEVBQVFtRSxVQUFBLENBQVduRTtJQUNyQjtJQUVBO0lBQUE7SUFBQW5ELGNBQUEsR0FBQUUsQ0FBQTtJQUNBdUQsT0FBQSxDQUFBQyxNQUFNLENBQUNDLEdBQUcsQ0FBQ0YsT0FBQSxDQUFBRyxRQUFRLENBQUNrRixJQUFJLEVBQUVyRixPQUFBLENBQUFLLFdBQVcsQ0FBQ2lGLEtBQUssRUFBRSxrQkFBa0I7TUFDN0RnQixXQUFBLEVBQWF6QyxVQUFBLENBQVduRSxNQUFNO01BQzlCNkcsU0FBQSxFQUFXTCxPQUFBLENBQVF6RyxFQUFFO01BQ3JCcEIsS0FBQSxFQUFPNkgsT0FBQSxDQUFRN0gsS0FBSztNQUNwQk4sSUFBQSxFQUFNbUksT0FBQSxDQUFRbkk7SUFDaEI7SUFFQSxNQUFNeUksYUFBQTtJQUFBO0lBQUEsQ0FBQWpLLGNBQUEsR0FBQUUsQ0FBQSxTQUErQjtNQUNuQyxHQUFHeUosT0FBTztNQUNWOUQsWUFBQSxFQUFjO01BQ2RDLFdBQUEsRUFBYTtJQUNmO0lBRUEsTUFBTW1CLFFBQUE7SUFBQTtJQUFBLENBQUFqSCxjQUFBLEdBQUFFLENBQUEsU0FBdUM7TUFDM0MrRSxJQUFBLEVBQU1nRixhQUFBO01BQ05qRCxPQUFBLEVBQVM7TUFDVEQsT0FBQSxFQUFTO0lBQ1g7SUFFQSxNQUFNaUMsWUFBQTtJQUFBO0lBQUEsQ0FBQWhKLGNBQUEsR0FBQUUsQ0FBQSxTQUFlZ0gsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQ0gsUUFBQSxFQUFVO01BQUUzRixNQUFBLEVBQVE7SUFBSTtJQUFBO0lBQUF0QixjQUFBLEdBQUFFLENBQUE7SUFDL0QsSUFBQXlHLFlBQUEsQ0FBQVUsbUJBQW1CLEVBQUMyQixZQUFBLEVBQWN6QyxlQUFBO0lBQUE7SUFBQXZHLGNBQUEsR0FBQUUsQ0FBQTtJQUNsQyxPQUFPOEksWUFBQTtFQUVULEVBQUUsT0FBT3pGLEtBQUEsRUFBTztJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDZHVELE9BQUEsQ0FBQUMsTUFBTSxDQUFDQyxHQUFHLENBQUNGLE9BQUEsQ0FBQUcsUUFBUSxDQUFDQyxLQUFLLEVBQUVKLE9BQUEsQ0FBQUssV0FBVyxDQUFDb0MsR0FBRyxFQUFFLGtDQUFrQztNQUFFM0M7SUFBTTtJQUV0RjtJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDQXFJLFFBQUEsQ0FBQUMsZ0JBQWdCLENBQUNDLGFBQWEsQ0FBQztNQUM3QkMsUUFBQSxFQUFVO01BQ1ZDLE1BQUEsRUFBUTtNQUNSQyxVQUFBLEVBQVk7TUFDWkMsWUFBQSxFQUFjeEMsSUFBQSxDQUFLQyxHQUFHLEtBQUtGLFNBQUE7TUFDM0I3QyxLQUFBLEVBQU9BLEtBQUEsWUFBaUIwRixLQUFBO01BQUE7TUFBQSxDQUFBakosY0FBQSxHQUFBNEMsQ0FBQSxXQUFRVyxLQUFBLENBQU13RCxPQUFPO01BQUE7TUFBQSxDQUFBL0csY0FBQSxHQUFBNEMsQ0FBQSxXQUFHO0lBQ2xEO0lBRUEsTUFBTTJFLGFBQUE7SUFBQTtJQUFBLENBQUF2SCxjQUFBLEdBQUFFLENBQUEsU0FBbUM7TUFDdkMrRSxJQUFBLEVBQU07TUFDTitCLE9BQUEsRUFBUztNQUNUekQsS0FBQSxFQUFPO0lBQ1Q7SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBRUEsT0FBT2dILE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNHLGFBQUEsRUFBZTtNQUFFakcsTUFBQSxFQUFRO0lBQUk7RUFDeEQ7QUFDRiIsImlnbm9yZUxpc3QiOltdfQ==