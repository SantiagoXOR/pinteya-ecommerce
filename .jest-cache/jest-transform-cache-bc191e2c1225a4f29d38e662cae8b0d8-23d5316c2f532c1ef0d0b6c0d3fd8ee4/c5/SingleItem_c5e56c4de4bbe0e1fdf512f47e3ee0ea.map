{"version":3,"names":["_default","SingleItem","product","cov_1zka1df0ww","f","addToCart","s","_useCartActions","useCartActions","trackEvent","_useAnalytics","useAnalytics","dispatch","_reactredux","useDispatch","b","item","handleQuickViewUpdate","_quickViewslice","updateQuickView","handleAddToCart","_cartslice","addItemToCart","quantity","handleItemToWishList","addItemToWishlist","status","discount","discountedPrice","price","Math","round","undefined","badge","_jsxruntime","jsx","CommercialProductCard","image","imgs","previews","title","originalPrice","isNew","stock","productId","id","cta","onAddToCart","showCartAnimation","installments","amount","interestFree","freeShipping","shippingText"],"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Home\\BestSeller\\SingleItem.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { Product } from \"@/types/product\";\r\nimport { useCartActions } from \"@/hooks/useCartActions\";\r\nimport { useAnalytics } from \"@/hooks/useAnalytics\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AppDispatch } from \"@/redux/store\";\r\nimport { updateQuickView } from \"@/redux/features/quickView-slice\";\r\nimport { addItemToCart } from \"@/redux/features/cart-slice\";\r\n\r\ninterface SingleItemProps {\r\n  product: Product;\r\n}\r\n\r\nconst SingleItem: React.FC<SingleItemProps> = ({ product }) => {\r\n  const { addToCart } = useCartActions();\r\n  const { trackEvent } = useAnalytics();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  // Validar que product existe\r\n  if (!product) {\r\n    return null;\r\n  }\r\n\r\n  // Usar product directamente\r\n  const item = product;\r\n\r\n  // update the QuickView state\r\n  const handleQuickViewUpdate = () => {\r\n    dispatch(updateQuickView({ ...item }));\r\n  };\r\n\r\n  // add to cart\r\n  const handleAddToCart = () => {\r\n    dispatch(\r\n      addItemToCart({\r\n        ...item,\r\n        quantity: 1,\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleItemToWishList = () => {\r\n    dispatch(\r\n      addItemToWishlist({\r\n        ...item,\r\n        status: \"available\",\r\n        quantity: 1,\r\n      })\r\n    );\r\n  };\r\n\r\n  // Calcular descuento si existe\r\n  const discount = item.discountedPrice && item.discountedPrice < item.price\r\n    ? Math.round(((item.price - item.discountedPrice) / item.price) * 100)\r\n    : undefined;\r\n\r\n  // Badge para best sellers - usar precio base para envío gratis\r\n  const badge = discount\r\n    ? \"Best Seller\"\r\n    : item.price >= 15000\r\n    ? \"Envío gratis\"\r\n    : \"Destacado\";\r\n\r\n  return (\r\n    <CommercialProductCard\r\n      image={item.imgs?.previews?.[0] || '/images/products/placeholder.svg'}\r\n      title={item.title}\r\n      price={item.discountedPrice}\r\n      originalPrice={item.discountedPrice < item.price ? item.price : undefined}\r\n      discount={discount ? `${discount}%` : undefined}\r\n      isNew={badge === \"Destacado\"}\r\n      stock={50} // Stock por defecto para productos legacy\r\n      productId={item.id}\r\n      cta=\"Agregar al carrito\"\r\n      onAddToCart={handleAddToCart}\r\n      showCartAnimation={true}\r\n      // Información de cuotas automática\r\n      installments={item.discountedPrice >= 5000 ? {\r\n        quantity: 3,\r\n        amount: Math.round(item.discountedPrice / 3),\r\n        interestFree: true\r\n      } : undefined}\r\n      // Envío gratis automático para productos >= $15000\r\n      freeShipping={item.discountedPrice >= 15000}\r\n      shippingText={badge === \"Envío gratis\" ? \"Envío gratis\" : badge === \"Best Seller\" ? \"Best Seller\" : undefined}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SingleItem;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}