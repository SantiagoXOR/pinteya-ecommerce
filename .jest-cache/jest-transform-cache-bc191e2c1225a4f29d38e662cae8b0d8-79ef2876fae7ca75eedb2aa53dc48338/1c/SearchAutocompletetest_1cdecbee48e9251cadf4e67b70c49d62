5adc2a966136df756813d2601e7848d7
"use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush
            })
    }));
// Mock API
jest.mock('@/lib/api/products', ()=>({
        searchProducts: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _searchautocomplete = require("../../../components/ui/search-autocomplete");
const _products = require("../../../lib/api/products");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock Next.js router
const mockPush = jest.fn();
const mockSearchProducts = _products.searchProducts;
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
describe('SearchAutocomplete', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        localStorageMock.getItem.mockReturnValue(null);
    });
    it('renders with default placeholder', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        expect(_react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')).toBeInTheDocument();
    });
    it('renders with custom placeholder', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            placeholder: "Buscar productos..."
        }));
        expect(_react1.screen.getByPlaceholderText('Buscar productos...')).toBeInTheDocument();
    });
    it('shows trending searches when focused without query', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showTrendingSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas populares')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pintura látex')).toBeInTheDocument();
            expect(_react1.screen.getByText('Sherwin Williams')).toBeInTheDocument();
        });
    });
    it('shows recent searches when available', async ()=>{
        const user = _userevent.default.setup();
        const recentSearches = [
            'pintura blanca',
            'rodillos'
        ];
        localStorageMock.getItem.mockReturnValue(JSON.stringify(recentSearches));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showRecentSearches: true
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas recientes')).toBeInTheDocument();
            expect(_react1.screen.getByText('pintura blanca')).toBeInTheDocument();
            expect(_react1.screen.getByText('rodillos')).toBeInTheDocument();
        });
    });
    it('searches products when typing', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Pintura Látex Blanca',
                category: {
                    name: 'Pinturas'
                },
                image_url: '/test-image.jpg',
                stock: 10
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'pintura');
        await (0, _react1.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 6);
        }, {
            timeout: 500
        });
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Productos')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pintura Látex Blanca')).toBeInTheDocument();
            expect(_react1.screen.getByText('Pinturas')).toBeInTheDocument();
        });
    });
    it('handles API errors gracefully', async ()=>{
        const user = _userevent.default.setup();
        mockSearchProducts.mockRejectedValue(new Error('API Error'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente
        const input = _react1.screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...');
        await user.type(input, 'test');
        await (0, _react1.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalled();
        }, {
            timeout: 500
        });
        // Should not crash and should clear suggestions
        expect(_react1.screen.queryByText('Productos')).not.toBeInTheDocument();
    });
    it('navigates to product when suggestion is clicked', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Pintura Test',
                category: {
                    name: 'Pinturas'
                },
                image_url: '/test.jpg',
                stock: 5
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'pintura');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Pintura Test')).toBeInTheDocument();
        });
        await user.click(_react1.screen.getByText('Pintura Test'));
        expect(mockPush).toHaveBeenCalledWith('/product/1');
    });
    it('submits search on Enter key', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        expect(mockPush).toHaveBeenCalledWith('/shop?search=test%20search');
    });
    it('saves recent searches', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            showRecentSearches: true
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        expect(localStorageMock.setItem).toHaveBeenCalledWith('pinteya-recent-searches', JSON.stringify([
            'test search'
        ]));
    });
    it('clears input when X button is clicked', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'test');
        const clearButton = _react1.screen.getByRole('button', {
            name: /clear/i
        });
        await user.click(clearButton);
        expect(input).toHaveValue('');
    });
    it('handles keyboard navigation', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = [
            {
                id: '1',
                name: 'Product 1',
                category: {
                    name: 'Category'
                },
                stock: 5
            },
            {
                id: '2',
                name: 'Product 2',
                category: {
                    name: 'Category'
                },
                stock: 3
            }
        ];
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            debounceMs: 100,
            showTrendingSearches: false,
            showRecentSearches: false
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'product');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Product 1')).toBeInTheDocument();
        });
        // Navigate down to first product
        await user.keyboard('{ArrowDown}');
        // Select with Enter
        await user.keyboard('{Enter}');
        expect(mockPush).toHaveBeenCalledWith('/product/1');
    });
    it('closes dropdown on Escape key', async ()=>{
        const user = _userevent.default.setup();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {}));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Búsquedas populares')).toBeInTheDocument();
        });
        await user.keyboard('{Escape}');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.queryByText('Búsquedas populares')).not.toBeInTheDocument();
        });
    });
    it('respects maxSuggestions prop', async ()=>{
        const user = _userevent.default.setup();
        const mockProducts = Array.from({
            length: 10
        }, (_, i)=>({
                id: `${i + 1}`,
                name: `Product ${i + 1}`,
                category: {
                    name: 'Category'
                },
                stock: 5
            }));
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProducts
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            maxSuggestions: 3,
            debounceMs: 100
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'product');
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Product 1')).toBeInTheDocument();
            expect(_react1.screen.getByText('Product 2')).toBeInTheDocument();
            expect(_react1.screen.getByText('Product 3')).toBeInTheDocument();
            expect(_react1.screen.queryByText('Product 4')).not.toBeInTheDocument();
        });
    });
    it('calls custom onSearch callback', async ()=>{
        const user = _userevent.default.setup();
        const onSearch = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            onSearch: onSearch
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.type(input, 'test search');
        await user.keyboard('{Enter}');
        expect(onSearch).toHaveBeenCalledWith('test search');
        expect(mockPush).not.toHaveBeenCalled();
    });
    it('calls custom onSuggestionSelect callback', async ()=>{
        const user = _userevent.default.setup();
        const onSuggestionSelect = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_searchautocomplete.SearchAutocomplete, {
            onSuggestionSelect: onSuggestionSelect,
            showTrendingSearches: true
        }));
        const input = _react1.screen.getByPlaceholderText('Busco productos de pinturería...');
        await user.click(input);
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('Pintura látex')).toBeInTheDocument();
        });
        await user.click(_react1.screen.getByText('Pintura látex'));
        expect(onSuggestionSelect).toHaveBeenCalledWith(expect.objectContaining({
            title: 'Pintura látex',
            type: 'trending'
        }));
        expect(mockPush).not.toHaveBeenCalled();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFx1aVxcU2VhcmNoQXV0b2NvbXBsZXRlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcclxuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5pbXBvcnQgeyBTZWFyY2hBdXRvY29tcGxldGUsIHR5cGUgU2VhcmNoU3VnZ2VzdGlvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9zZWFyY2gtYXV0b2NvbXBsZXRlJztcclxuaW1wb3J0IHsgc2VhcmNoUHJvZHVjdHMgfSBmcm9tICdAL2xpYi9hcGkvcHJvZHVjdHMnO1xyXG5cclxuLy8gTW9jayBOZXh0LmpzIHJvdXRlclxyXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcclxuICAgIHB1c2g6IG1vY2tQdXNoLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIEFQSVxyXG5qZXN0Lm1vY2soJ0AvbGliL2FwaS9wcm9kdWN0cycsICgpID0+ICh7XHJcbiAgc2VhcmNoUHJvZHVjdHM6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuY29uc3QgbW9ja1NlYXJjaFByb2R1Y3RzID0gc2VhcmNoUHJvZHVjdHMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2Ygc2VhcmNoUHJvZHVjdHM+O1xyXG5cclxuLy8gTW9jayBsb2NhbFN0b3JhZ2VcclxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9IHtcclxuICBnZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgc2V0SXRlbTogamVzdC5mbigpLFxyXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcclxuICBjbGVhcjogamVzdC5mbigpLFxyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xyXG4gIHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrLFxyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdTZWFyY2hBdXRvY29tcGxldGUnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZW5kZXJzIHdpdGggZGVmYXVsdCBwbGFjZWhvbGRlcicsICgpID0+IHtcclxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIC8+KTtcclxuXHJcbiAgICAvLyBQYXRyw7NuIDIgZXhpdG9zbzogRXhwZWN0YXRpdmFzIGVzcGVjw61maWNhcyAtIHVzYXIgcGxhY2Vob2xkZXIgcmVhbCBkZWwgY29tcG9uZW50ZVxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZW5kZXJzIHdpdGggY3VzdG9tIHBsYWNlaG9sZGVyJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgcGxhY2Vob2xkZXI9XCJCdXNjYXIgcHJvZHVjdG9zLi4uXCIgLz4pO1xyXG4gICAgXHJcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjYXIgcHJvZHVjdG9zLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG93cyB0cmVuZGluZyBzZWFyY2hlcyB3aGVuIGZvY3VzZWQgd2l0aG91dCBxdWVyeScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIHNob3dUcmVuZGluZ1NlYXJjaGVzPXt0cnVlfSAvPik7XHJcbiAgICBcclxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGlucHV0KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0LDunNxdWVkYXMgcG9wdWxhcmVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIGzDoXRleCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2hlcndpbiBXaWxsaWFtcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG93cyByZWNlbnQgc2VhcmNoZXMgd2hlbiBhdmFpbGFibGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICBjb25zdCByZWNlbnRTZWFyY2hlcyA9IFsncGludHVyYSBibGFuY2EnLCAncm9kaWxsb3MnXTtcclxuICAgIGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUoSlNPTi5zdHJpbmdpZnkocmVjZW50U2VhcmNoZXMpKTtcclxuICAgIFxyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgc2hvd1JlY2VudFNlYXJjaGVzPXt0cnVlfSAvPik7XHJcbiAgICBcclxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGlucHV0KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0LDunNxdWVkYXMgcmVjaWVudGVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdwaW50dXJhIGJsYW5jYScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgncm9kaWxsb3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2VhcmNoZXMgcHJvZHVjdHMgd2hlbiB0eXBpbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICBjb25zdCBtb2NrUHJvZHVjdHMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgIG5hbWU6ICdQaW50dXJhIEzDoXRleCBCbGFuY2EnLFxyXG4gICAgICAgIGNhdGVnb3J5OiB7IG5hbWU6ICdQaW50dXJhcycgfSxcclxuICAgICAgICBpbWFnZV91cmw6ICcvdGVzdC1pbWFnZS5qcGcnLFxyXG4gICAgICAgIHN0b2NrOiAxMCxcclxuICAgICAgfSxcclxuICAgIF07XHJcblxyXG4gICAgbW9ja1NlYXJjaFByb2R1Y3RzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogbW9ja1Byb2R1Y3RzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgZGVib3VuY2VNcz17MTAwfSAvPik7XHJcbiAgICBcclxuICAgIC8vIFBhdHLDs24gMiBleGl0b3NvOiBFeHBlY3RhdGl2YXMgZXNwZWPDrWZpY2FzIC0gdXNhciBwbGFjZWhvbGRlciByZWFsIGRlbCBjb21wb25lbnRlXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnTMOhdGV4IGludGVyaW9yIGJsYW5jbyAyMGx0cywgcm9kaWxsb3MsIHBpbmNlbGVzLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdwaW50dXJhJyk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrU2VhcmNoUHJvZHVjdHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdwaW50dXJhJywgNik7XHJcbiAgICB9LCB7IHRpbWVvdXQ6IDUwMCB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3RvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBMw6F0ZXggQmxhbmNhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdoYW5kbGVzIEFQSSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0FQSSBFcnJvcicpKTtcclxuXHJcbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBkZWJvdW5jZU1zPXsxMDB9IC8+KTtcclxuICAgIFxyXG4gICAgLy8gUGF0csOzbiAyIGV4aXRvc286IEV4cGVjdGF0aXZhcyBlc3BlY8OtZmljYXMgLSB1c2FyIHBsYWNlaG9sZGVyIHJlYWwgZGVsIGNvbXBvbmVudGVcclxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdMw6F0ZXggaW50ZXJpb3IgYmxhbmNvIDIwbHRzLCByb2RpbGxvcywgcGluY2VsZXMuLi4nKTtcclxuICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ3Rlc3QnKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSwgeyB0aW1lb3V0OiA1MDAgfSk7XHJcblxyXG4gICAgLy8gU2hvdWxkIG5vdCBjcmFzaCBhbmQgc2hvdWxkIGNsZWFyIHN1Z2dlc3Rpb25zXHJcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdQcm9kdWN0b3MnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCduYXZpZ2F0ZXMgdG8gcHJvZHVjdCB3aGVuIHN1Z2dlc3Rpb24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgIGNvbnN0IG1vY2tQcm9kdWN0cyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnMScsXHJcbiAgICAgICAgbmFtZTogJ1BpbnR1cmEgVGVzdCcsXHJcbiAgICAgICAgY2F0ZWdvcnk6IHsgbmFtZTogJ1BpbnR1cmFzJyB9LFxyXG4gICAgICAgIGltYWdlX3VybDogJy90ZXN0LmpwZycsXHJcbiAgICAgICAgc3RvY2s6IDUsXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IG1vY2tQcm9kdWN0cyxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIGRlYm91bmNlTXM9ezEwMH0gLz4pO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY28gcHJvZHVjdG9zIGRlIHBpbnR1cmVyw61hLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdwaW50dXJhJyk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIFRlc3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnUGludHVyYSBUZXN0JykpO1xyXG5cclxuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9wcm9kdWN0LzEnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3N1Ym1pdHMgc2VhcmNoIG9uIEVudGVyIGtleScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIC8+KTtcclxuICAgIFxyXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0J1c2NvIHByb2R1Y3RvcyBkZSBwaW50dXJlcsOtYS4uLicpO1xyXG4gICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAndGVzdCBzZWFyY2gnKTtcclxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFbnRlcn0nKTtcclxuXHJcbiAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvc2hvcD9zZWFyY2g9dGVzdCUyMHNlYXJjaCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2F2ZXMgcmVjZW50IHNlYXJjaGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgc2hvd1JlY2VudFNlYXJjaGVzPXt0cnVlfSAvPik7XHJcbiAgICBcclxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjbyBwcm9kdWN0b3MgZGUgcGludHVyZXLDrWEuLi4nKTtcclxuICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ3Rlc3Qgc2VhcmNoJyk7XHJcbiAgICBhd2FpdCB1c2VyLmtleWJvYXJkKCd7RW50ZXJ9Jyk7XHJcblxyXG4gICAgZXhwZWN0KGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICdwaW50ZXlhLXJlY2VudC1zZWFyY2hlcycsXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KFsndGVzdCBzZWFyY2gnXSlcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdjbGVhcnMgaW5wdXQgd2hlbiBYIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgLz4pO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY28gcHJvZHVjdG9zIGRlIHBpbnR1cmVyw61hLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICd0ZXN0Jyk7XHJcblxyXG4gICAgY29uc3QgY2xlYXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbGVhci9pIH0pO1xyXG4gICAgYXdhaXQgdXNlci5jbGljayhjbGVhckJ1dHRvbik7XHJcblxyXG4gICAgZXhwZWN0KGlucHV0KS50b0hhdmVWYWx1ZSgnJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdoYW5kbGVzIGtleWJvYXJkIG5hdmlnYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICBjb25zdCBtb2NrUHJvZHVjdHMgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJzEnLFxyXG4gICAgICAgIG5hbWU6ICdQcm9kdWN0IDEnLFxyXG4gICAgICAgIGNhdGVnb3J5OiB7IG5hbWU6ICdDYXRlZ29yeScgfSxcclxuICAgICAgICBzdG9jazogNSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnMicsXHJcbiAgICAgICAgbmFtZTogJ1Byb2R1Y3QgMicsXHJcbiAgICAgICAgY2F0ZWdvcnk6IHsgbmFtZTogJ0NhdGVnb3J5JyB9LFxyXG4gICAgICAgIHN0b2NrOiAzLFxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuXHJcbiAgICBtb2NrU2VhcmNoUHJvZHVjdHMubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiBtb2NrUHJvZHVjdHMsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBkZWJvdW5jZU1zPXsxMDB9IHNob3dUcmVuZGluZ1NlYXJjaGVzPXtmYWxzZX0gc2hvd1JlY2VudFNlYXJjaGVzPXtmYWxzZX0gLz4pO1xyXG5cclxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjbyBwcm9kdWN0b3MgZGUgcGludHVyZXLDrWEuLi4nKTtcclxuICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ3Byb2R1Y3QnKTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3QgMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTmF2aWdhdGUgZG93biB0byBmaXJzdCBwcm9kdWN0XHJcbiAgICBhd2FpdCB1c2VyLmtleWJvYXJkKCd7QXJyb3dEb3dufScpO1xyXG5cclxuICAgIC8vIFNlbGVjdCB3aXRoIEVudGVyXHJcbiAgICBhd2FpdCB1c2VyLmtleWJvYXJkKCd7RW50ZXJ9Jyk7XHJcblxyXG4gICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3Byb2R1Y3QvMScpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2xvc2VzIGRyb3Bkb3duIG9uIEVzY2FwZSBrZXknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSAvPik7XHJcbiAgICBcclxuICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjbyBwcm9kdWN0b3MgZGUgcGludHVyZXLDrWEuLi4nKTtcclxuICAgIGF3YWl0IHVzZXIuY2xpY2soaW5wdXQpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQsO6c3F1ZWRhcyBwb3B1bGFyZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFc2NhcGV9Jyk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0LDunNxdWVkYXMgcG9wdWxhcmVzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdyZXNwZWN0cyBtYXhTdWdnZXN0aW9ucyBwcm9wJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgY29uc3QgbW9ja1Byb2R1Y3RzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgIGlkOiBgJHtpICsgMX1gLFxyXG4gICAgICBuYW1lOiBgUHJvZHVjdCAke2kgKyAxfWAsXHJcbiAgICAgIGNhdGVnb3J5OiB7IG5hbWU6ICdDYXRlZ29yeScgfSxcclxuICAgICAgc3RvY2s6IDUsXHJcbiAgICB9KSk7XHJcblxyXG4gICAgbW9ja1NlYXJjaFByb2R1Y3RzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogbW9ja1Byb2R1Y3RzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxTZWFyY2hBdXRvY29tcGxldGUgbWF4U3VnZ2VzdGlvbnM9ezN9IGRlYm91bmNlTXM9ezEwMH0gLz4pO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY28gcHJvZHVjdG9zIGRlIHBpbnR1cmVyw61hLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdwcm9kdWN0Jyk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0IDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb2R1Y3QgMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdCAzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1Byb2R1Y3QgNCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnY2FsbHMgY3VzdG9tIG9uU2VhcmNoIGNhbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgY29uc3Qgb25TZWFyY2ggPSBqZXN0LmZuKCk7XHJcbiAgICBcclxuICAgIHJlbmRlcig8U2VhcmNoQXV0b2NvbXBsZXRlIG9uU2VhcmNoPXtvblNlYXJjaH0gLz4pO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY28gcHJvZHVjdG9zIGRlIHBpbnR1cmVyw61hLi4uJyk7XHJcbiAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICd0ZXN0IHNlYXJjaCcpO1xyXG4gICAgYXdhaXQgdXNlci5rZXlib2FyZCgne0VudGVyfScpO1xyXG5cclxuICAgIGV4cGVjdChvblNlYXJjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3Qgc2VhcmNoJyk7XHJcbiAgICBleHBlY3QobW9ja1B1c2gpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdjYWxscyBjdXN0b20gb25TdWdnZXN0aW9uU2VsZWN0IGNhbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgY29uc3Qgb25TdWdnZXN0aW9uU2VsZWN0ID0gamVzdC5mbigpO1xyXG4gICAgXHJcbiAgICByZW5kZXIoPFNlYXJjaEF1dG9jb21wbGV0ZSBvblN1Z2dlc3Rpb25TZWxlY3Q9e29uU3VnZ2VzdGlvblNlbGVjdH0gc2hvd1RyZW5kaW5nU2VhcmNoZXM9e3RydWV9IC8+KTtcclxuICAgIFxyXG4gICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0J1c2NvIHByb2R1Y3RvcyBkZSBwaW50dXJlcsOtYS4uLicpO1xyXG4gICAgYXdhaXQgdXNlci5jbGljayhpbnB1dCk7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIGzDoXRleCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIGzDoXRleCcpKTtcclxuXHJcbiAgICBleHBlY3Qob25TdWdnZXN0aW9uU2VsZWN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgIHRpdGxlOiAnUGludHVyYSBsw6F0ZXgnLFxyXG4gICAgICAgIHR5cGU6ICd0cmVuZGluZycsXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gICAgZXhwZWN0KG1vY2tQdXNoKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwicHVzaCIsIm1vY2tQdXNoIiwic2VhcmNoUHJvZHVjdHMiLCJmbiIsIm1vY2tTZWFyY2hQcm9kdWN0cyIsImxvY2FsU3RvcmFnZU1vY2siLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwiaXQiLCJyZW5kZXIiLCJTZWFyY2hBdXRvY29tcGxldGUiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwicGxhY2Vob2xkZXIiLCJ1c2VyIiwidXNlckV2ZW50Iiwic2V0dXAiLCJzaG93VHJlbmRpbmdTZWFyY2hlcyIsImlucHV0IiwiY2xpY2siLCJ3YWl0Rm9yIiwiZ2V0QnlUZXh0IiwicmVjZW50U2VhcmNoZXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic2hvd1JlY2VudFNlYXJjaGVzIiwibW9ja1Byb2R1Y3RzIiwiaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZV91cmwiLCJzdG9jayIsIm1vY2tSZXNvbHZlZFZhbHVlIiwic3VjY2VzcyIsImRhdGEiLCJkZWJvdW5jZU1zIiwidHlwZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidGltZW91dCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwicXVlcnlCeVRleHQiLCJub3QiLCJrZXlib2FyZCIsImNsZWFyQnV0dG9uIiwiZ2V0QnlSb2xlIiwidG9IYXZlVmFsdWUiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsIm1heFN1Z2dlc3Rpb25zIiwib25TZWFyY2giLCJvblN1Z2dlc3Rpb25TZWxlY3QiLCJvYmplY3RDb250YWluaW5nIiwidGl0bGUiXSwibWFwcGluZ3MiOiI7QUFTQUEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVcsSUFBTyxDQUFBO2dCQUNoQkMsTUFBTUM7WUFDUixDQUFBO0lBQ0YsQ0FBQTtBQUVBLFdBQVc7QUFDWEosS0FBS0MsSUFBSSxDQUFDLHNCQUFzQixJQUFPLENBQUE7UUFDckNJLGdCQUFnQkwsS0FBS00sRUFBRTtJQUN6QixDQUFBOzs7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