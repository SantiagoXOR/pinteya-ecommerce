e0f3ed2aafff513702477d56fe613800
/**
 * CategoryPill Component Tests
 * Enterprise-ready test suite with accessibility focus
 * Pinteya E-commerce
 */ "use strict";
// Mock Next.js Image component
jest.mock('next/image', ()=>{
    return function MockImage({ src, alt, onError, ...props }) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
            src: src,
            alt: alt,
            onError: onError,
            "data-testid": "category-icon",
            ...props
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _jestaxe = require("jest-axe");
const _CategoryPill = /*#__PURE__*/ _interop_require_default(require("../../../components/Home/Categories/CategoryPill"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Extend Jest matchers
expect.extend(_jestaxe.toHaveNoViolations);
// Test data
const mockCategory = {
    id: 'test-category',
    name: 'Test Category',
    icon: '/test-icon.png',
    description: 'Test category description',
    count: 5
};
const defaultProps = {
    category: mockCategory,
    isSelected: false,
    onClick: jest.fn(),
    size: 'md',
    disabled: false
};
describe('CategoryPill Component', ()=>{
    const mockOnClick = jest.fn();
    const mockOnKeyDown = jest.fn();
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Rendering', ()=>{
        it('renders without crashing', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            expect(_react1.screen.getByRole('button')).toBeInTheDocument();
        });
        it('displays category name', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            expect(_react1.screen.getByText(mockCategory.name)).toBeInTheDocument();
        });
        it('displays category icon', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const icon = _react1.screen.getByTestId('category-icon');
            expect(icon).toHaveAttribute('src', mockCategory.icon);
        });
        it('displays product count when available', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            expect(_react1.screen.getByText('(5)')).toBeInTheDocument();
        });
        it('hides product count when not available', ()=>{
            const categoryWithoutCount = {
                ...mockCategory,
                count: undefined
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                category: categoryWithoutCount,
                onClick: mockOnClick
            }));
            expect(_react1.screen.queryByText(/\(\d+\)/)).not.toBeInTheDocument();
        });
        it('renders description for screen readers', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            expect(_react1.screen.getByText(mockCategory.description)).toHaveClass('sr-only');
        });
    });
    describe('Accessibility', ()=>{
        it('should not have accessibility violations', async ()=>{
            const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const results = await (0, _jestaxe.axe)(container);
            expect(results).toHaveNoViolations();
        });
        it('has proper ARIA attributes when not selected', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('aria-pressed', 'false');
            expect(button).toHaveAttribute('aria-label', expect.stringContaining(mockCategory.name));
            expect(button).toHaveAttribute('aria-label', expect.stringContaining('no seleccionada'));
            expect(button).toHaveAttribute('role', 'button');
            expect(button).toHaveAttribute('tabIndex', '0');
        });
        it('has proper ARIA attributes when selected', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                isSelected: true,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('aria-pressed', 'true');
            expect(button).toHaveAttribute('aria-label', expect.stringContaining('seleccionada'));
        });
        it('has proper ARIA attributes when disabled', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                disabled: true,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('tabIndex', '-1');
            expect(button).toBeDisabled();
        });
        it('links to description with aria-describedby', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('aria-describedby', `${mockCategory.id}-description`);
        });
        it('has empty alt text for decorative icon', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const icon = _react1.screen.getByTestId('category-icon');
            expect(icon).toHaveAttribute('alt', '');
        });
    });
    describe('Interactions', ()=>{
        it('calls onClick when clicked', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            await user.click(button);
            expect(mockOnClick).toHaveBeenCalledWith(mockCategory.id);
        });
        it('does not call onClick when disabled', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                disabled: true,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            await user.click(button);
            expect(mockOnClick).not.toHaveBeenCalled();
        });
        it('handles Enter key press', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            button.focus();
            await user.keyboard('{Enter}');
            expect(mockOnClick).toHaveBeenCalledWith(mockCategory.id);
        });
        it('handles Space key press', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            button.focus();
            await user.keyboard(' ');
            expect(mockOnClick).toHaveBeenCalledWith(mockCategory.id);
        });
        it('calls custom onKeyDown handler', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick,
                onKeyDown: mockOnKeyDown
            }));
            const button = _react1.screen.getByRole('button');
            button.focus();
            await user.keyboard('{ArrowRight}');
            expect(mockOnKeyDown).toHaveBeenCalledWith(expect.any(Object), mockCategory.id);
        });
        it('prevents default behavior for Enter and Space', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            button.focus();
            const enterEvent = new KeyboardEvent('keydown', {
                key: 'Enter'
            });
            const preventDefaultSpy = jest.spyOn(enterEvent, 'preventDefault');
            _react1.fireEvent.keyDown(button, enterEvent);
            expect(preventDefaultSpy).toHaveBeenCalled();
        });
    });
    describe('Visual States', ()=>{
        it('applies selected styles when selected', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                isSelected: true,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('data-selected', 'true');
            expect(button).toHaveClass('scale-105');
        });
        it('applies not selected styles when not selected', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('data-selected', 'false');
        });
        it('applies disabled styles when disabled', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                disabled: true,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveClass('opacity-50', 'cursor-not-allowed');
        });
    });
    describe('Size Variants', ()=>{
        it('applies small size styles', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                size: "sm",
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveClass('pl-6', 'pr-3', 'py-1.5', 'text-xs');
        });
        it('applies medium size styles', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                size: "md",
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveClass('pl-8', 'pr-4', 'py-2', 'text-sm');
        });
        it('applies large size styles', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                size: "lg",
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveClass('pl-10', 'pr-5', 'py-3', 'text-base');
        });
    });
    describe('Error Handling', ()=>{
        it('handles image loading errors gracefully', ()=>{
            const consoleSpy = jest.spyOn(console, 'warn').mockImplementation();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const icon = _react1.screen.getByTestId('category-icon');
            _react1.fireEvent.error(icon);
            expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining(`Failed to load image for category: ${mockCategory.name}`));
            consoleSpy.mockRestore();
        });
    });
    describe('Custom Props', ()=>{
        it('applies custom className', ()=>{
            const customClass = 'custom-test-class';
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                className: customClass,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveClass(customClass);
        });
        it('applies custom testId', ()=>{
            const customTestId = 'custom-test-id';
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                testId: customTestId,
                onClick: mockOnClick
            }));
            expect(_react1.screen.getByTestId(customTestId)).toBeInTheDocument();
        });
        it('sets data attributes correctly', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CategoryPill.default, {
                ...defaultProps,
                onClick: mockOnClick
            }));
            const button = _react1.screen.getByRole('button');
            expect(button).toHaveAttribute('data-category-id', mockCategory.id);
            expect(button).toHaveAttribute('data-selected', 'false');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFxDYXRlZ29yaWVzXFxDYXRlZ29yeVBpbGwudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDYXRlZ29yeVBpbGwgQ29tcG9uZW50IFRlc3RzXG4gKiBFbnRlcnByaXNlLXJlYWR5IHRlc3Qgc3VpdGUgd2l0aCBhY2Nlc3NpYmlsaXR5IGZvY3VzXG4gKiBQaW50ZXlhIEUtY29tbWVyY2VcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IHsgYXhlLCB0b0hhdmVOb1Zpb2xhdGlvbnMgfSBmcm9tICdqZXN0LWF4ZSc7XG5pbXBvcnQgQ2F0ZWdvcnlQaWxsIGZyb20gJ0AvY29tcG9uZW50cy9Ib21lL0NhdGVnb3JpZXMvQ2F0ZWdvcnlQaWxsJztcbmltcG9ydCB0eXBlIHsgQ2F0ZWdvcnksIENhdGVnb3J5UGlsbFByb3BzIH0gZnJvbSAnQC90eXBlcy9jYXRlZ29yaWVzJztcblxuLy8gRXh0ZW5kIEplc3QgbWF0Y2hlcnNcbmV4cGVjdC5leHRlbmQodG9IYXZlTm9WaW9sYXRpb25zKTtcblxuLy8gTW9jayBOZXh0LmpzIEltYWdlIGNvbXBvbmVudFxuamVzdC5tb2NrKCduZXh0L2ltYWdlJywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0ltYWdlKHsgc3JjLCBhbHQsIG9uRXJyb3IsIC4uLnByb3BzIH06IGFueSkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW1nIFxuICAgICAgICBzcmM9e3NyY30gXG4gICAgICAgIGFsdD17YWx0fSBcbiAgICAgICAgb25FcnJvcj17b25FcnJvcn1cbiAgICAgICAgZGF0YS10ZXN0aWQ9XCJjYXRlZ29yeS1pY29uXCJcbiAgICAgICAgey4uLnByb3BzfSBcbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcbn0pO1xuXG4vLyBUZXN0IGRhdGFcbmNvbnN0IG1vY2tDYXRlZ29yeTogQ2F0ZWdvcnkgPSB7XG4gIGlkOiAndGVzdC1jYXRlZ29yeScsXG4gIG5hbWU6ICdUZXN0IENhdGVnb3J5JyxcbiAgaWNvbjogJy90ZXN0LWljb24ucG5nJyxcbiAgZGVzY3JpcHRpb246ICdUZXN0IGNhdGVnb3J5IGRlc2NyaXB0aW9uJyxcbiAgY291bnQ6IDUsXG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcHM6IENhdGVnb3J5UGlsbFByb3BzID0ge1xuICBjYXRlZ29yeTogbW9ja0NhdGVnb3J5LFxuICBpc1NlbGVjdGVkOiBmYWxzZSxcbiAgb25DbGljazogamVzdC5mbigpLFxuICBzaXplOiAnbWQnLFxuICBkaXNhYmxlZDogZmFsc2UsXG59O1xuXG5kZXNjcmliZSgnQ2F0ZWdvcnlQaWxsIENvbXBvbmVudCcsICgpID0+IHtcbiAgY29uc3QgbW9ja09uQ2xpY2sgPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tPbktleURvd24gPSBqZXN0LmZuKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3JlbmRlcnMgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGxheXMgY2F0ZWdvcnkgbmFtZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChtb2NrQ2F0ZWdvcnkubmFtZSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGxheXMgY2F0ZWdvcnkgaWNvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBjb25zdCBpY29uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdjYXRlZ29yeS1pY29uJyk7XG4gICAgICBleHBlY3QoaWNvbikudG9IYXZlQXR0cmlidXRlKCdzcmMnLCBtb2NrQ2F0ZWdvcnkuaWNvbik7XG4gICAgfSk7XG5cbiAgICBpdCgnZGlzcGxheXMgcHJvZHVjdCBjb3VudCB3aGVuIGF2YWlsYWJsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnKDUpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGlkZXMgcHJvZHVjdCBjb3VudCB3aGVuIG5vdCBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeVdpdGhvdXRDb3VudCA9IHsgLi4ubW9ja0NhdGVnb3J5LCBjb3VudDogdW5kZWZpbmVkIH07XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxDYXRlZ29yeVBpbGwgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5V2l0aG91dENvdW50fVxuICAgICAgICAgIG9uQ2xpY2s9e21vY2tPbkNsaWNrfSBcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KC9cXChcXGQrXFwpLykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JlbmRlcnMgZGVzY3JpcHRpb24gZm9yIHNjcmVlbiByZWFkZXJzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYXRlZ29yeVBpbGwgey4uLmRlZmF1bHRQcm9wc30gb25DbGljaz17bW9ja09uQ2xpY2t9IC8+KTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KG1vY2tDYXRlZ29yeS5kZXNjcmlwdGlvbiEpKS50b0hhdmVDbGFzcygnc3Itb25seScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG5vdCBoYXZlIGFjY2Vzc2liaWxpdHkgdmlvbGF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGF4ZShjb250YWluZXIpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZU5vVmlvbGF0aW9ucygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhcyBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzIHdoZW4gbm90IHNlbGVjdGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDYXRlZ29yeVBpbGwgey4uLmRlZmF1bHRQcm9wc30gb25DbGljaz17bW9ja09uQ2xpY2t9IC8+KTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICdmYWxzZScpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcobW9ja0NhdGVnb3J5Lm5hbWUpKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdubyBzZWxlY2Npb25hZGEnKSk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJzAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYXMgcHJvcGVyIEFSSUEgYXR0cmlidXRlcyB3aGVuIHNlbGVjdGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8Q2F0ZWdvcnlQaWxsIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RydWV9XG4gICAgICAgICAgb25DbGljaz17bW9ja09uQ2xpY2t9IFxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICd0cnVlJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnc2VsZWNjaW9uYWRhJykpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2hhcyBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzIHdoZW4gZGlzYWJsZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxDYXRlZ29yeVBpbGwgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgb25DbGljaz17bW9ja09uQ2xpY2t9IFxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdsaW5rcyB0byBkZXNjcmlwdGlvbiB3aXRoIGFyaWEtZGVzY3JpYmVkYnknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIGAke21vY2tDYXRlZ29yeS5pZH0tZGVzY3JpcHRpb25gKTtcbiAgICB9KTtcblxuICAgIGl0KCdoYXMgZW1wdHkgYWx0IHRleHQgZm9yIGRlY29yYXRpdmUgaWNvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBjb25zdCBpY29uID0gc2NyZWVuLmdldEJ5VGVzdElkKCdjYXRlZ29yeS1pY29uJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChpY29uKS50b0hhdmVBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ludGVyYWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnY2FsbHMgb25DbGljayB3aGVuIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYnV0dG9uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tPbkNsaWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChtb2NrQ2F0ZWdvcnkuaWQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IGNhbGwgb25DbGljayB3aGVuIGRpc2FibGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8Q2F0ZWdvcnlQaWxsIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgICAgIG9uQ2xpY2s9e21vY2tPbkNsaWNrfSBcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhidXR0b24pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja09uQ2xpY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBFbnRlciBrZXkgcHJlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgICAgYXdhaXQgdXNlci5rZXlib2FyZCgne0VudGVyfScpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja09uQ2xpY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tDYXRlZ29yeS5pZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFuZGxlcyBTcGFjZSBrZXkgcHJlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgICAgYXdhaXQgdXNlci5rZXlib2FyZCgnICcpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja09uQ2xpY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tDYXRlZ29yeS5pZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnY2FsbHMgY3VzdG9tIG9uS2V5RG93biBoYW5kbGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8Q2F0ZWdvcnlQaWxsIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIG9uQ2xpY2s9e21vY2tPbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17bW9ja09uS2V5RG93bn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmZvY3VzKCk7XG4gICAgICBhd2FpdCB1c2VyLmtleWJvYXJkKCd7QXJyb3dSaWdodH0nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tPbktleURvd24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICAgIG1vY2tDYXRlZ29yeS5pZFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdwcmV2ZW50cyBkZWZhdWx0IGJlaGF2aW9yIGZvciBFbnRlciBhbmQgU3BhY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENhdGVnb3J5UGlsbCB7Li4uZGVmYXVsdFByb3BzfSBvbkNsaWNrPXttb2NrT25DbGlja30gLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgICAgXG4gICAgICBjb25zdCBlbnRlckV2ZW50ID0gbmV3IEtleWJvYXJkRXZlbnQoJ2tleWRvd24nLCB7IGtleTogJ0VudGVyJyB9KTtcbiAgICAgIGNvbnN0IHByZXZlbnREZWZhdWx0U3B5ID0gamVzdC5zcHlPbihlbnRlckV2ZW50LCAncHJldmVudERlZmF1bHQnKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmtleURvd24oYnV0dG9uLCBlbnRlckV2ZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHByZXZlbnREZWZhdWx0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdWaXN1YWwgU3RhdGVzJywgKCkgPT4ge1xuICAgIGl0KCdhcHBsaWVzIHNlbGVjdGVkIHN0eWxlcyB3aGVuIHNlbGVjdGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8Q2F0ZWdvcnlQaWxsIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e3RydWV9XG4gICAgICAgICAgb25DbGljaz17bW9ja09uQ2xpY2t9IFxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ3NjYWxlLTEwNScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FwcGxpZXMgbm90IHNlbGVjdGVkIHN0eWxlcyB3aGVuIG5vdCBzZWxlY3RlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdkYXRhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnYXBwbGllcyBkaXNhYmxlZCBzdHlsZXMgd2hlbiBkaXNhYmxlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5UGlsbCBcbiAgICAgICAgICB7Li4uZGVmYXVsdFByb3BzfSBcbiAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgICBvbkNsaWNrPXttb2NrT25DbGlja30gXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdvcGFjaXR5LTUwJywgJ2N1cnNvci1ub3QtYWxsb3dlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2l6ZSBWYXJpYW50cycsICgpID0+IHtcbiAgICBpdCgnYXBwbGllcyBzbWFsbCBzaXplIHN0eWxlcycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5UGlsbCBcbiAgICAgICAgICB7Li4uZGVmYXVsdFByb3BzfSBcbiAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgIG9uQ2xpY2s9e21vY2tPbkNsaWNrfSBcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoJ3BsLTYnLCAncHItMycsICdweS0xLjUnLCAndGV4dC14cycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FwcGxpZXMgbWVkaXVtIHNpemUgc3R5bGVzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8Q2F0ZWdvcnlQaWxsIFxuICAgICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxuICAgICAgICAgIHNpemU9XCJtZFwiXG4gICAgICAgICAgb25DbGljaz17bW9ja09uQ2xpY2t9IFxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVDbGFzcygncGwtOCcsICdwci00JywgJ3B5LTInLCAndGV4dC1zbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FwcGxpZXMgbGFyZ2Ugc2l6ZSBzdHlsZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxDYXRlZ29yeVBpbGwgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICBvbkNsaWNrPXttb2NrT25DbGlja30gXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUNsYXNzKCdwbC0xMCcsICdwci01JywgJ3B5LTMnLCAndGV4dC1iYXNlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnaGFuZGxlcyBpbWFnZSBsb2FkaW5nIGVycm9ycyBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGljb24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NhdGVnb3J5LWljb24nKTtcbiAgICAgIGZpcmVFdmVudC5lcnJvcihpY29uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyhgRmFpbGVkIHRvIGxvYWQgaW1hZ2UgZm9yIGNhdGVnb3J5OiAke21vY2tDYXRlZ29yeS5uYW1lfWApXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDdXN0b20gUHJvcHMnLCAoKSA9PiB7XG4gICAgaXQoJ2FwcGxpZXMgY3VzdG9tIGNsYXNzTmFtZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbUNsYXNzID0gJ2N1c3RvbS10ZXN0LWNsYXNzJztcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPENhdGVnb3J5UGlsbCBcbiAgICAgICAgICB7Li4uZGVmYXVsdFByb3BzfSBcbiAgICAgICAgICBjbGFzc05hbWU9e2N1c3RvbUNsYXNzfVxuICAgICAgICAgIG9uQ2xpY2s9e21vY2tPbkNsaWNrfSBcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQ2xhc3MoY3VzdG9tQ2xhc3MpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2FwcGxpZXMgY3VzdG9tIHRlc3RJZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbVRlc3RJZCA9ICdjdXN0b20tdGVzdC1pZCc7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxDYXRlZ29yeVBpbGwgXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXG4gICAgICAgICAgdGVzdElkPXtjdXN0b21UZXN0SWR9XG4gICAgICAgICAgb25DbGljaz17bW9ja09uQ2xpY2t9IFxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChjdXN0b21UZXN0SWQpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3NldHMgZGF0YSBhdHRyaWJ1dGVzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q2F0ZWdvcnlQaWxsIHsuLi5kZWZhdWx0UHJvcHN9IG9uQ2xpY2s9e21vY2tPbkNsaWNrfSAvPik7XG4gICAgICBjb25zdCBidXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5LWlkJywgbW9ja0NhdGVnb3J5LmlkKTtcbiAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS1zZWxlY3RlZCcsICdmYWxzZScpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiTW9ja0ltYWdlIiwic3JjIiwiYWx0Iiwib25FcnJvciIsInByb3BzIiwiaW1nIiwiZGF0YS10ZXN0aWQiLCJleHBlY3QiLCJleHRlbmQiLCJ0b0hhdmVOb1Zpb2xhdGlvbnMiLCJtb2NrQ2F0ZWdvcnkiLCJpZCIsIm5hbWUiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJjb3VudCIsImRlZmF1bHRQcm9wcyIsImNhdGVnb3J5IiwiaXNTZWxlY3RlZCIsIm9uQ2xpY2siLCJmbiIsInNpemUiLCJkaXNhYmxlZCIsImRlc2NyaWJlIiwibW9ja09uQ2xpY2siLCJtb2NrT25LZXlEb3duIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIkNhdGVnb3J5UGlsbCIsInNjcmVlbiIsImdldEJ5Um9sZSIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QnlUZXh0IiwiZ2V0QnlUZXN0SWQiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJjYXRlZ29yeVdpdGhvdXRDb3VudCIsInVuZGVmaW5lZCIsInF1ZXJ5QnlUZXh0Iiwibm90IiwidG9IYXZlQ2xhc3MiLCJjb250YWluZXIiLCJyZXN1bHRzIiwiYXhlIiwiYnV0dG9uIiwic3RyaW5nQ29udGFpbmluZyIsInRvQmVEaXNhYmxlZCIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiZm9jdXMiLCJrZXlib2FyZCIsIm9uS2V5RG93biIsImFueSIsIk9iamVjdCIsImVudGVyRXZlbnQiLCJLZXlib2FyZEV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHRTcHkiLCJzcHlPbiIsImZpcmVFdmVudCIsImtleURvd24iLCJjb25zb2xlU3B5IiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImVycm9yIiwibW9ja1Jlc3RvcmUiLCJjdXN0b21DbGFzcyIsImNsYXNzTmFtZSIsImN1c3RvbVRlc3RJZCIsInRlc3RJZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Q0FJQztBQVlELCtCQUErQjtBQUMvQkEsS0FBS0MsSUFBSSxDQUFDLGNBQWM7SUFDdEIsT0FB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