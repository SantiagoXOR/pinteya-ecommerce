a64918894ba0d8bc8e36135dedc5109c
// ===================================
// TESTS: API de Marcas
// ===================================
"use strict";
// Mock de Supabase - Versión completa para brands
jest.mock('@/lib/supabase', ()=>{
    const createMockQueryBuilder = ()=>{
        const mockData = {
            data: [
                {
                    brand: 'El Galgo',
                    product_count: 2
                },
                {
                    brand: 'Plavicon',
                    product_count: 3
                },
                {
                    brand: 'Akapol',
                    product_count: 1
                }
            ],
            error: null
        };
        const mockQueryBuilder = {
            select: jest.fn(()=>mockQueryBuilder),
            from: jest.fn(()=>mockQueryBuilder),
            insert: jest.fn(()=>mockQueryBuilder),
            update: jest.fn(()=>mockQueryBuilder),
            delete: jest.fn(()=>mockQueryBuilder),
            eq: jest.fn(()=>mockQueryBuilder),
            neq: jest.fn(()=>mockQueryBuilder),
            gt: jest.fn(()=>mockQueryBuilder),
            gte: jest.fn(()=>mockQueryBuilder),
            lt: jest.fn(()=>mockQueryBuilder),
            lte: jest.fn(()=>mockQueryBuilder),
            like: jest.fn(()=>mockQueryBuilder),
            ilike: jest.fn(()=>mockQueryBuilder),
            is: jest.fn(()=>mockQueryBuilder),
            in: jest.fn(()=>mockQueryBuilder),
            not: jest.fn(()=>mockQueryBuilder),
            or: jest.fn(()=>mockQueryBuilder),
            and: jest.fn(()=>mockQueryBuilder),
            order: jest.fn(()=>mockQueryBuilder),
            limit: jest.fn(()=>mockQueryBuilder),
            range: jest.fn(()=>mockQueryBuilder),
            single: jest.fn(()=>Promise.resolve(mockData)),
            maybeSingle: jest.fn(()=>Promise.resolve(mockData)),
            then: jest.fn((callback)=>Promise.resolve(callback(mockData))),
            catch: jest.fn(()=>Promise.resolve())
        };
        return mockQueryBuilder;
    };
    const mockClient = {
        from: jest.fn(()=>createMockQueryBuilder()),
        auth: {
            getUser: jest.fn(()=>Promise.resolve({
                    data: {
                        user: null
                    },
                    error: null
                }))
        }
    };
    return {
        getSupabaseClient: jest.fn(()=>mockClient),
        supabase: mockClient,
        supabaseAdmin: mockClient,
        handleSupabaseError: jest.fn((error, context)=>{
            if (error?.message) {
                throw new Error(error.message);
            }
            throw new Error('Supabase error');
        }),
        isAuthenticated: jest.fn(()=>Promise.resolve(false)),
        getCurrentUser: jest.fn(()=>Promise.resolve(null))
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../app/api/brands/route");
describe('API de Marcas', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('GET /api/brands', ()=>{
        it('debería obtener marcas con conteo de productos', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toBeInstanceOf(Array);
            expect(data.data.length).toBeGreaterThan(0);
            // Verificar estructura de marca
            const firstBrand = data.data[0];
            expect(firstBrand).toHaveProperty('name');
            expect(firstBrand).toHaveProperty('products_count');
            expect(typeof firstBrand.name).toBe('string');
            expect(typeof firstBrand.products_count).toBe('number');
        });
        it('debería filtrar marcas por búsqueda', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands?search=galgo');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toBeInstanceOf(Array);
        });
        it('debería filtrar por mínimo de productos', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands?minProducts=2');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toBeInstanceOf(Array);
            // Verificar que todas las marcas tienen al menos 2 productos
            data.data.forEach((brand)=>{
                expect(brand.products_count).toBeGreaterThanOrEqual(2);
            });
        });
        it('debería ordenar marcas por número de productos', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            // Verificar ordenamiento descendente por productos
            for(let i = 0; i < data.data.length - 1; i++){
                expect(data.data[i].products_count).toBeGreaterThanOrEqual(data.data[i + 1].products_count);
            }
        });
        it('debería manejar errores de base de datos', async ()=>{
            // Mock error de Supabase
            const mockSupabase = require('@/lib/supabase');
            mockSupabase.getSupabaseClient.mockReturnValueOnce(null);
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(503);
            expect(data.success).toBe(false);
            expect(data.error).toBe('Servicio de base de datos no disponible');
        });
    });
    describe('POST /api/brands (estadísticas)', ()=>{
        beforeEach(()=>{
            // Mock para estadísticas
            const mockSupabase = require('@/lib/supabase');
            mockSupabase.getSupabaseClient.mockReturnValue({
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                not: jest.fn(()=>Promise.resolve({
                                        data: [
                                            {
                                                brand: 'El Galgo',
                                                price: 100,
                                                discounted_price: null,
                                                stock: 10,
                                                category_id: 1
                                            },
                                            {
                                                brand: 'El Galgo',
                                                price: 150,
                                                discounted_price: 120,
                                                stock: 5,
                                                category_id: 1
                                            },
                                            {
                                                brand: 'Plavicon',
                                                price: 200,
                                                discounted_price: null,
                                                stock: 8,
                                                category_id: 2
                                            },
                                            {
                                                brand: 'Plavicon',
                                                price: 250,
                                                discounted_price: 200,
                                                stock: 3,
                                                category_id: 2
                                            },
                                            {
                                                brand: 'Akapol',
                                                price: 300,
                                                discounted_price: null,
                                                stock: 15,
                                                category_id: 3
                                            }
                                        ],
                                        error: null
                                    }))
                            }))
                    }))
            });
        });
        it('debería calcular estadísticas de marcas', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toBeInstanceOf(Array);
            // Verificar estructura de estadísticas
            const firstStat = data.data[0];
            expect(firstStat).toHaveProperty('name');
            expect(firstStat).toHaveProperty('products_count');
            expect(firstStat).toHaveProperty('total_stock');
            expect(firstStat).toHaveProperty('avg_price');
            expect(firstStat).toHaveProperty('min_price');
            expect(firstStat).toHaveProperty('max_price');
            expect(firstStat).toHaveProperty('discounted_products');
        });
        it('debería calcular precios promedio correctamente', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            // Verificar que los precios promedio son números válidos
            data.data.forEach((stat)=>{
                expect(typeof stat.avg_price).toBe('number');
                expect(stat.avg_price).toBeGreaterThan(0);
                expect(stat.min_price).toBeLessThanOrEqual(stat.max_price);
            });
        });
        it('debería contar productos con descuento correctamente', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            // Verificar conteo de productos con descuento
            data.data.forEach((stat)=>{
                expect(typeof stat.discounted_products).toBe('number');
                expect(stat.discounted_products).toBeGreaterThanOrEqual(0);
                expect(stat.discounted_products).toBeLessThanOrEqual(stat.products_count);
            });
        });
    });
    describe('Validación de parámetros', ()=>{
        it('debería manejar parámetros de búsqueda vacíos', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands?search=');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
        });
        it('debería manejar minProducts inválido', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands?minProducts=abc');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
        // Debería usar valor por defecto (1)
        });
        it('debería manejar minProducts negativo', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/brands?minProducts=-5');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
        });
    });
    describe('Casos edge', ()=>{
        it('debería manejar respuesta vacía de base de datos', async ()=>{
            // Mock respuesta vacía
            const mockSupabase = require('@/lib/supabase');
            mockSupabase.getSupabaseClient.mockReturnValue({
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                not: jest.fn(()=>({
                                        gt: jest.fn(()=>({
                                                ilike: jest.fn(()=>Promise.resolve({
                                                        data: [],
                                                        error: null
                                                    }))
                                            }))
                                    }))
                            }))
                    }))
            });
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual([]);
            expect(data.message).toBe('0 marcas encontradas');
        });
        it('debería manejar marcas con nombres especiales', async ()=>{
            // Mock con caracteres especiales
            const mockSupabase = require('@/lib/supabase');
            // Crear un mock más robusto que maneje tanto con como sin ilike
            const mockQueryBuilder = {
                select: jest.fn(()=>mockQueryBuilder),
                not: jest.fn(()=>mockQueryBuilder),
                gt: jest.fn(()=>mockQueryBuilder),
                ilike: jest.fn(()=>Promise.resolve({
                        data: [
                            {
                                brand: 'Marca & Cía.'
                            },
                            {
                                brand: 'Marca-Test'
                            },
                            {
                                brand: 'Marca 123'
                            }
                        ],
                        error: null
                    })),
                // Agregar método then para manejar casos sin ilike
                then: jest.fn((callback)=>callback({
                        data: [
                            {
                                brand: 'Marca & Cía.'
                            },
                            {
                                brand: 'Marca-Test'
                            },
                            {
                                brand: 'Marca 123'
                            }
                        ],
                        error: null
                    }))
            };
            mockSupabase.getSupabaseClient.mockReturnValue({
                from: jest.fn(()=>mockQueryBuilder)
            });
            const request = new _server.NextRequest('http://localhost:3000/api/brands');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.length).toBe(3);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxhcGlcXGJyYW5kcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTOiBBUEkgZGUgTWFyY2FzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgR0VULCBQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL2JyYW5kcy9yb3V0ZSc7XHJcblxyXG4vLyBNb2NrIGRlIFN1cGFiYXNlIC0gVmVyc2nDs24gY29tcGxldGEgcGFyYSBicmFuZHNcclxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZScsICgpID0+IHtcclxuICBjb25zdCBjcmVhdGVNb2NrUXVlcnlCdWlsZGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja0RhdGEgPSB7XHJcbiAgICAgIGRhdGE6IFtcclxuICAgICAgICB7IGJyYW5kOiAnRWwgR2FsZ28nLCBwcm9kdWN0X2NvdW50OiAyIH0sXHJcbiAgICAgICAgeyBicmFuZDogJ1BsYXZpY29uJywgcHJvZHVjdF9jb3VudDogMyB9LFxyXG4gICAgICAgIHsgYnJhbmQ6ICdBa2Fwb2wnLCBwcm9kdWN0X2NvdW50OiAxIH0sXHJcbiAgICAgIF0sXHJcbiAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG1vY2tRdWVyeUJ1aWxkZXIgPSB7XHJcbiAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgZnJvbTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCgpID0+IG1vY2tRdWVyeUJ1aWxkZXIpLFxyXG4gICAgICB1cGRhdGU6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIGRlbGV0ZTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgZXE6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIG5lcTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgZ3Q6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIGd0ZTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgbHQ6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIGx0ZTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgbGlrZTogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgaWxpa2U6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIGlzOiBqZXN0LmZuKCgpID0+IG1vY2tRdWVyeUJ1aWxkZXIpLFxyXG4gICAgICBpbjogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgbm90OiBqZXN0LmZuKCgpID0+IG1vY2tRdWVyeUJ1aWxkZXIpLFxyXG4gICAgICBvcjogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgYW5kOiBqZXN0LmZuKCgpID0+IG1vY2tRdWVyeUJ1aWxkZXIpLFxyXG4gICAgICBvcmRlcjogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgbGltaXQ6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgIHJhbmdlOiBqZXN0LmZuKCgpID0+IG1vY2tRdWVyeUJ1aWxkZXIpLFxyXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tEYXRhKSksXHJcbiAgICAgIG1heWJlU2luZ2xlOiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrRGF0YSkpLFxyXG4gICAgICB0aGVuOiBqZXN0LmZuKChjYWxsYmFjaykgPT4gUHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrKG1vY2tEYXRhKSkpLFxyXG4gICAgICBjYXRjaDogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSksXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBtb2NrUXVlcnlCdWlsZGVyO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG1vY2tDbGllbnQgPSB7XHJcbiAgICBmcm9tOiBqZXN0LmZuKCgpID0+IGNyZWF0ZU1vY2tRdWVyeUJ1aWxkZXIoKSksXHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIGdldFVzZXI6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcclxuICAgICAgICBlcnJvcjogbnVsbCxcclxuICAgICAgfSkpLFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0U3VwYWJhc2VDbGllbnQ6IGplc3QuZm4oKCkgPT4gbW9ja0NsaWVudCksXHJcbiAgICBzdXBhYmFzZTogbW9ja0NsaWVudCxcclxuICAgIHN1cGFiYXNlQWRtaW46IG1vY2tDbGllbnQsXHJcbiAgICBoYW5kbGVTdXBhYmFzZUVycm9yOiBqZXN0LmZuKChlcnJvciwgY29udGV4dCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3I/Lm1lc3NhZ2UpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGVycm9yJylcclxuICAgIH0pLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkOiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZShmYWxzZSkpLFxyXG4gICAgZ2V0Q3VycmVudFVzZXI6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpKSxcclxuICB9O1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdBUEkgZGUgTWFyY2FzJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9icmFuZHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnZGViZXLDrWEgb2J0ZW5lciBtYXJjYXMgY29uIGNvbnRlbyBkZSBwcm9kdWN0b3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzJyk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0JlSW5zdGFuY2VPZihBcnJheSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWZXJpZmljYXIgZXN0cnVjdHVyYSBkZSBtYXJjYVxyXG4gICAgICBjb25zdCBmaXJzdEJyYW5kID0gZGF0YS5kYXRhWzBdO1xyXG4gICAgICBleHBlY3QoZmlyc3RCcmFuZCkudG9IYXZlUHJvcGVydHkoJ25hbWUnKTtcclxuICAgICAgZXhwZWN0KGZpcnN0QnJhbmQpLnRvSGF2ZVByb3BlcnR5KCdwcm9kdWN0c19jb3VudCcpO1xyXG4gICAgICBleHBlY3QodHlwZW9mIGZpcnN0QnJhbmQubmFtZSkudG9CZSgnc3RyaW5nJyk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgZmlyc3RCcmFuZC5wcm9kdWN0c19jb3VudCkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgZmlsdHJhciBtYXJjYXMgcG9yIGLDunNxdWVkYScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9icmFuZHM/c2VhcmNoPWdhbGdvJyk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0JlSW5zdGFuY2VPZihBcnJheSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgZmlsdHJhciBwb3IgbcOtbmltbyBkZSBwcm9kdWN0b3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzP21pblByb2R1Y3RzPTInKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgdG9kYXMgbGFzIG1hcmNhcyB0aWVuZW4gYWwgbWVub3MgMiBwcm9kdWN0b3NcclxuICAgICAgZGF0YS5kYXRhLmZvckVhY2goKGJyYW5kOiBhbnkpID0+IHtcclxuICAgICAgICBleHBlY3QoYnJhbmQucHJvZHVjdHNfY291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIG9yZGVuYXIgbWFyY2FzIHBvciBuw7ptZXJvIGRlIHByb2R1Y3RvcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9icmFuZHMnKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWZXJpZmljYXIgb3JkZW5hbWllbnRvIGRlc2NlbmRlbnRlIHBvciBwcm9kdWN0b3NcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmRhdGEubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgZXhwZWN0KGRhdGEuZGF0YVtpXS5wcm9kdWN0c19jb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChcclxuICAgICAgICAgIGRhdGEuZGF0YVtpICsgMV0ucHJvZHVjdHNfY291bnRcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgbWFuZWphciBlcnJvcmVzIGRlIGJhc2UgZGUgZGF0b3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIE1vY2sgZXJyb3IgZGUgU3VwYWJhc2VcclxuICAgICAgY29uc3QgbW9ja1N1cGFiYXNlID0gcmVxdWlyZSgnQC9saWIvc3VwYWJhc2UnKTtcclxuICAgICAgbW9ja1N1cGFiYXNlLmdldFN1cGFiYXNlQ2xpZW50Lm1vY2tSZXR1cm5WYWx1ZU9uY2UobnVsbCk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2JyYW5kcycpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAzKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yKS50b0JlKCdTZXJ2aWNpbyBkZSBiYXNlIGRlIGRhdG9zIG5vIGRpc3BvbmlibGUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2JyYW5kcyAoZXN0YWTDrXN0aWNhcyknLCAoKSA9PiB7XHJcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgICAgLy8gTW9jayBwYXJhIGVzdGFkw61zdGljYXNcclxuICAgICAgY29uc3QgbW9ja1N1cGFiYXNlID0gcmVxdWlyZSgnQC9saWIvc3VwYWJhc2UnKTtcclxuICAgICAgbW9ja1N1cGFiYXNlLmdldFN1cGFiYXNlQ2xpZW50Lm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgICAgZnJvbTogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgICAgIG5vdDogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgICAgICAgIHsgYnJhbmQ6ICdFbCBHYWxnbycsIHByaWNlOiAxMDAsIGRpc2NvdW50ZWRfcHJpY2U6IG51bGwsIHN0b2NrOiAxMCwgY2F0ZWdvcnlfaWQ6IDEgfSxcclxuICAgICAgICAgICAgICAgIHsgYnJhbmQ6ICdFbCBHYWxnbycsIHByaWNlOiAxNTAsIGRpc2NvdW50ZWRfcHJpY2U6IDEyMCwgc3RvY2s6IDUsIGNhdGVnb3J5X2lkOiAxIH0sXHJcbiAgICAgICAgICAgICAgICB7IGJyYW5kOiAnUGxhdmljb24nLCBwcmljZTogMjAwLCBkaXNjb3VudGVkX3ByaWNlOiBudWxsLCBzdG9jazogOCwgY2F0ZWdvcnlfaWQ6IDIgfSxcclxuICAgICAgICAgICAgICAgIHsgYnJhbmQ6ICdQbGF2aWNvbicsIHByaWNlOiAyNTAsIGRpc2NvdW50ZWRfcHJpY2U6IDIwMCwgc3RvY2s6IDMsIGNhdGVnb3J5X2lkOiAyIH0sXHJcbiAgICAgICAgICAgICAgICB7IGJyYW5kOiAnQWthcG9sJywgcHJpY2U6IDMwMCwgZGlzY291bnRlZF9wcmljZTogbnVsbCwgc3RvY2s6IDE1LCBjYXRlZ29yeV9pZDogMyB9LFxyXG4gICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9KSlcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgY2FsY3VsYXIgZXN0YWTDrXN0aWNhcyBkZSBtYXJjYXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzJyk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIGVzdHJ1Y3R1cmEgZGUgZXN0YWTDrXN0aWNhc1xyXG4gICAgICBjb25zdCBmaXJzdFN0YXQgPSBkYXRhLmRhdGFbMF07XHJcbiAgICAgIGV4cGVjdChmaXJzdFN0YXQpLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XHJcbiAgICAgIGV4cGVjdChmaXJzdFN0YXQpLnRvSGF2ZVByb3BlcnR5KCdwcm9kdWN0c19jb3VudCcpO1xyXG4gICAgICBleHBlY3QoZmlyc3RTdGF0KS50b0hhdmVQcm9wZXJ0eSgndG90YWxfc3RvY2snKTtcclxuICAgICAgZXhwZWN0KGZpcnN0U3RhdCkudG9IYXZlUHJvcGVydHkoJ2F2Z19wcmljZScpO1xyXG4gICAgICBleHBlY3QoZmlyc3RTdGF0KS50b0hhdmVQcm9wZXJ0eSgnbWluX3ByaWNlJyk7XHJcbiAgICAgIGV4cGVjdChmaXJzdFN0YXQpLnRvSGF2ZVByb3BlcnR5KCdtYXhfcHJpY2UnKTtcclxuICAgICAgZXhwZWN0KGZpcnN0U3RhdCkudG9IYXZlUHJvcGVydHkoJ2Rpc2NvdW50ZWRfcHJvZHVjdHMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSBjYWxjdWxhciBwcmVjaW9zIHByb21lZGlvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzJyk7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgbG9zIHByZWNpb3MgcHJvbWVkaW8gc29uIG7Dum1lcm9zIHbDoWxpZG9zXHJcbiAgICAgIGRhdGEuZGF0YS5mb3JFYWNoKChzdGF0OiBhbnkpID0+IHtcclxuICAgICAgICBleHBlY3QodHlwZW9mIHN0YXQuYXZnX3ByaWNlKS50b0JlKCdudW1iZXInKTtcclxuICAgICAgICBleHBlY3Qoc3RhdC5hdmdfcHJpY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgICBleHBlY3Qoc3RhdC5taW5fcHJpY2UpLnRvQmVMZXNzVGhhbk9yRXF1YWwoc3RhdC5tYXhfcHJpY2UpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSBjb250YXIgcHJvZHVjdG9zIGNvbiBkZXNjdWVudG8gY29ycmVjdGFtZW50ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9icmFuZHMnKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIGNvbnRlbyBkZSBwcm9kdWN0b3MgY29uIGRlc2N1ZW50b1xyXG4gICAgICBkYXRhLmRhdGEuZm9yRWFjaCgoc3RhdDogYW55KSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBzdGF0LmRpc2NvdW50ZWRfcHJvZHVjdHMpLnRvQmUoJ251bWJlcicpO1xyXG4gICAgICAgIGV4cGVjdChzdGF0LmRpc2NvdW50ZWRfcHJvZHVjdHMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgICAgZXhwZWN0KHN0YXQuZGlzY291bnRlZF9wcm9kdWN0cykudG9CZUxlc3NUaGFuT3JFcXVhbChzdGF0LnByb2R1Y3RzX2NvdW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1ZhbGlkYWNpw7NuIGRlIHBhcsOhbWV0cm9zJywgKCkgPT4ge1xyXG4gICAgaXQoJ2RlYmVyw61hIG1hbmVqYXIgcGFyw6FtZXRyb3MgZGUgYsO6c3F1ZWRhIHZhY8Otb3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzP3NlYXJjaD0nKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgbWFuZWphciBtaW5Qcm9kdWN0cyBpbnbDoWxpZG8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYnJhbmRzP21pblByb2R1Y3RzPWFiYycpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgLy8gRGViZXLDrWEgdXNhciB2YWxvciBwb3IgZGVmZWN0byAoMSlcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSBtYW5lamFyIG1pblByb2R1Y3RzIG5lZ2F0aXZvJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2JyYW5kcz9taW5Qcm9kdWN0cz0tNScpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ2Fzb3MgZWRnZScsICgpID0+IHtcclxuICAgIGl0KCdkZWJlcsOtYSBtYW5lamFyIHJlc3B1ZXN0YSB2YWPDrWEgZGUgYmFzZSBkZSBkYXRvcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gTW9jayByZXNwdWVzdGEgdmFjw61hXHJcbiAgICAgIGNvbnN0IG1vY2tTdXBhYmFzZSA9IHJlcXVpcmUoJ0AvbGliL3N1cGFiYXNlJyk7XHJcbiAgICAgIG1vY2tTdXBhYmFzZS5nZXRTdXBhYmFzZUNsaWVudC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIGZyb206IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgICBub3Q6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgICAgICBndDogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgaWxpa2U6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgZGF0YTogW10sXHJcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9KSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2JyYW5kcycpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9FcXVhbChbXSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLm1lc3NhZ2UpLnRvQmUoJzAgbWFyY2FzIGVuY29udHJhZGFzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgbWFuZWphciBtYXJjYXMgY29uIG5vbWJyZXMgZXNwZWNpYWxlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gTW9jayBjb24gY2FyYWN0ZXJlcyBlc3BlY2lhbGVzXHJcbiAgICAgIGNvbnN0IG1vY2tTdXBhYmFzZSA9IHJlcXVpcmUoJ0AvbGliL3N1cGFiYXNlJyk7XHJcblxyXG4gICAgICAvLyBDcmVhciB1biBtb2NrIG3DoXMgcm9idXN0byBxdWUgbWFuZWplIHRhbnRvIGNvbiBjb21vIHNpbiBpbGlrZVxyXG4gICAgICBjb25zdCBtb2NrUXVlcnlCdWlsZGVyID0ge1xyXG4gICAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiBtb2NrUXVlcnlCdWlsZGVyKSxcclxuICAgICAgICBub3Q6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgICAgZ3Q6IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlciksXHJcbiAgICAgICAgaWxpa2U6IGplc3QuZm4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgICAgeyBicmFuZDogJ01hcmNhICYgQ8OtYS4nIH0sXHJcbiAgICAgICAgICAgIHsgYnJhbmQ6ICdNYXJjYS1UZXN0JyB9LFxyXG4gICAgICAgICAgICB7IGJyYW5kOiAnTWFyY2EgMTIzJyB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIC8vIEFncmVnYXIgbcOpdG9kbyB0aGVuIHBhcmEgbWFuZWphciBjYXNvcyBzaW4gaWxpa2VcclxuICAgICAgICB0aGVuOiBqZXN0LmZuKChjYWxsYmFjaykgPT4gY2FsbGJhY2soe1xyXG4gICAgICAgICAgZGF0YTogW1xyXG4gICAgICAgICAgICB7IGJyYW5kOiAnTWFyY2EgJiBDw61hLicgfSxcclxuICAgICAgICAgICAgeyBicmFuZDogJ01hcmNhLVRlc3QnIH0sXHJcbiAgICAgICAgICAgIHsgYnJhbmQ6ICdNYXJjYSAxMjMnIH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgICB9KSlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIG1vY2tTdXBhYmFzZS5nZXRTdXBhYmFzZUNsaWVudC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICAgIGZyb206IGplc3QuZm4oKCkgPT4gbW9ja1F1ZXJ5QnVpbGRlcilcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2JyYW5kcycpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5sZW5ndGgpLnRvQmUoMyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImNyZWF0ZU1vY2tRdWVyeUJ1aWxkZXIiLCJtb2NrRGF0YSIsImRhdGEiLCJicmFuZCIsInByb2R1Y3RfY291bnQiLCJlcnJvciIsIm1vY2tRdWVyeUJ1aWxkZXIiLCJzZWxlY3QiLCJmbiIsImZyb20iLCJpbnNlcnQiLCJ1cGRhdGUiLCJkZWxldGUiLCJlcSIsIm5lcSIsImd0IiwiZ3RlIiwibHQiLCJsdGUiLCJsaWtlIiwiaWxpa2UiLCJpcyIsImluIiwibm90Iiwib3IiLCJhbmQiLCJvcmRlciIsImxpbWl0IiwicmFuZ2UiLCJzaW5nbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1heWJlU2luZ2xlIiwidGhlbiIsImNhbGxiYWNrIiwiY2F0Y2giLCJtb2NrQ2xpZW50IiwiYXV0aCIsImdldFVzZXIiLCJ1c2VyIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJoYW5kbGVTdXBhYmFzZUVycm9yIiwiY29udGV4dCIsIm1lc3NhZ2UiLCJFcnJvciIsImlzQXV0aGVudGljYXRlZCIsImdldEN1cnJlbnRVc2VyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVxdWVzdCIsIk5leHRSZXF1ZXN0IiwicmVzcG9uc2UiLCJHRVQiLCJqc29uIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsInN1Y2Nlc3MiLCJ0b0JlSW5zdGFuY2VPZiIsIkFycmF5IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZmlyc3RCcmFuZCIsInRvSGF2ZVByb3BlcnR5IiwibmFtZSIsInByb2R1Y3RzX2NvdW50IiwiZm9yRWFjaCIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJpIiwibW9ja1N1cGFiYXNlIiwicmVxdWlyZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJtb2NrUmV0dXJuVmFsdWUiLCJwcmljZSIsImRpc2NvdW50ZWRfcHJpY2UiLCJzdG9jayIsImNhdGVnb3J5X2lkIiwiUE9TVCIsImZpcnN0U3RhdCIsInN0YXQiLCJhdmdfcHJpY2UiLCJtaW5fcHJpY2UiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwibWF4X3ByaWNlIiwiZGlzY291bnRlZF9wcm9kdWN0cyIsInRvRXF1YWwiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0Qyx1QkFBdUI7QUFDdkIsc0NBQXNDOztBQUt0QyxrREFBa0Q7QUFDbERBLEtBQUtDLElBQUksQ0FBQyxrQkFBa0I7SUFDMUIsTUFBTUMseUJBQXlCO1FBQzdCLE1BQU1DLFdBQVc7WUFDZkMsTUFBTTtnQkFDSjtvQkFBRUMsT0FBTztvQkFBWUMsZUFBZTtnQkFBRTtnQkFDdEM7b0JBQUVELE9BQU87b0JBQVlDLGVBQWU7Z0JBQUU7Z0JBQ3RDO29CQUFFRCxPQUFPO29CQUFVQyxlQUFlO2dCQUFFO2FBQ3JDO1lBQ0RDLE9BQU87UUFDVDtRQUVBLE1BQU1DLG1CQUFtQjtZQUN2QkMsUUFBUVQsS0FBS1UsRUFBRSxDQUFDLElBQU1GO1lBQ3RCRyxNQUFNWCxLQUFLVSxFQUFFLENBQUMsSUFBTUY7WUFDcEJJLFFBQVFaLEtBQUtVLEVBQUUsQ0FBQyxJQUFNRjtZQUN0QkssUUFBUWIsS0FBS1UsRUFBRSxDQUFDLElBQU1GO1lBQ3RCTSxRQUFRZCxLQUFLVSxFQUFFLENBQUMs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