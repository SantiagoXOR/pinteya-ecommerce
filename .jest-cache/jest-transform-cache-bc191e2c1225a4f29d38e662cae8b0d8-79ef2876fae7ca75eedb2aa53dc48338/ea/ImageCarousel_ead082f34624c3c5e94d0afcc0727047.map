{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\ImageCarousel.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useState, useCallback } from \"react\";\nimport Image from \"next/image\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Autoplay, Pagination, Navigation, EffectFade } from \"swiper/modules\";\nimport type { Swiper as SwiperType } from \"swiper\";\n\n// Import Swiper styles\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport \"swiper/css/navigation\";\nimport \"swiper/css/effect-fade\";\n\n// Tipos para las imágenes del carrusel\nexport interface CarouselImage {\n  src: string;\n  alt: string;\n  priority?: boolean;\n}\n\n// Props del componente\nexport interface ImageCarouselProps {\n  images: CarouselImage[];\n  autoplay?: boolean;\n  autoplayDelay?: number;\n  pauseOnHover?: boolean;\n  showNavigation?: boolean;\n  showPagination?: boolean;\n  effect?: \"slide\" | \"fade\";\n  className?: string;\n  imageClassName?: string;\n  aspectRatio?: \"square\" | \"video\" | \"wide\" | \"auto\";\n  sizes?: string;\n  onSlideChange?: (activeIndex: number) => void;\n  ariaLabel?: string;\n}\n\nconst ImageCarousel: React.FC<ImageCarouselProps> = ({\n  images,\n  autoplay = true,\n  autoplayDelay = 4000,\n  pauseOnHover = true,\n  showNavigation = true,\n  showPagination = true,\n  effect = \"slide\",\n  className = \"\",\n  imageClassName = \"\",\n  aspectRatio = \"auto\",\n  sizes = \"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\n  onSlideChange,\n  ariaLabel = \"Carrusel de imágenes\"\n}) => {\n  const swiperRef = useRef<SwiperType | null>(null);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Manejar cambio de slide\n  const handleSlideChange = useCallback((swiper: SwiperType) => {\n    setActiveIndex(swiper.activeIndex);\n    onSlideChange?.(swiper.activeIndex);\n  }, [onSlideChange]);\n\n  // Manejar hover para pausar autoplay\n  const handleMouseEnter = useCallback(() => {\n    setIsHovered(true);\n    if (pauseOnHover && swiperRef.current?.autoplay) {\n      swiperRef.current.autoplay.stop();\n    }\n  }, [pauseOnHover]);\n\n  const handleMouseLeave = useCallback(() => {\n    setIsHovered(false);\n    if (pauseOnHover && swiperRef.current?.autoplay && autoplay) {\n      swiperRef.current.autoplay.start();\n    }\n  }, [pauseOnHover, autoplay]);\n\n  // Navegación por teclado\n  const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n    if (!swiperRef.current) return;\n\n    switch (event.key) {\n      case \"ArrowLeft\":\n        event.preventDefault();\n        swiperRef.current.slidePrev();\n        break;\n      case \"ArrowRight\":\n        event.preventDefault();\n        swiperRef.current.slideNext();\n        break;\n      case \"Home\":\n        event.preventDefault();\n        swiperRef.current.slideTo(0);\n        break;\n      case \"End\":\n        event.preventDefault();\n        swiperRef.current.slideTo(images.length - 1);\n        break;\n    }\n  }, [images.length]);\n\n  // Clases CSS para aspect ratio\n  const getAspectRatioClass = () => {\n    switch (aspectRatio) {\n      case \"square\":\n        return \"aspect-square\";\n      case \"video\":\n        return \"aspect-video\";\n      case \"wide\":\n        return \"aspect-[21/9]\";\n      default:\n        return \"\";\n    }\n  };\n\n  // Configuración de Swiper\n  const swiperConfig = {\n    modules: [Autoplay, Pagination, Navigation, EffectFade],\n    spaceBetween: 0,\n    slidesPerView: 1,\n    loop: images.length > 1,\n    effect: effect,\n    autoplay: autoplay ? {\n      delay: autoplayDelay,\n      disableOnInteraction: false,\n      pauseOnMouseEnter: pauseOnHover,\n    } : false,\n    pagination: showPagination ? {\n      clickable: true,\n      bulletClass: \"swiper-pagination-bullet !bg-white/60 !w-3 !h-3 !mx-1\",\n      bulletActiveClass: \"swiper-pagination-bullet-active !bg-blaze-orange-500 !scale-125\",\n    } : false,\n    navigation: showNavigation ? {\n      nextEl: \".swiper-button-next-custom\",\n      prevEl: \".swiper-button-prev-custom\",\n    } : false,\n    onSwiper: (swiper: SwiperType) => {\n      swiperRef.current = swiper;\n    },\n    onSlideChange: handleSlideChange,\n  };\n\n  if (!images || images.length === 0) {\n    return (\n      <div className={`bg-gray-200 animate-pulse ${getAspectRatioClass()} ${className}`}>\n        <div className=\"flex items-center justify-center h-full text-gray-400\">\n          Sin imágenes disponibles\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className={`relative group ${className}`}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"region\"\n      aria-label={ariaLabel}\n      aria-live=\"polite\"\n    >\n      <Swiper {...swiperConfig} className=\"w-full h-full\">\n        {images.map((image, index) => (\n          <SwiperSlide key={`${image.src}-${index}`}>\n            <div className={`relative w-full h-full ${getAspectRatioClass()}`}>\n              <Image\n                src={image.src}\n                alt={image.alt}\n                fill\n                className={`object-cover transition-transform duration-700 ease-out group-hover:scale-105 ${imageClassName}`}\n                sizes={sizes}\n                priority={image.priority || index === 0}\n                quality={85}\n              />\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      {/* Controles de navegación personalizados */}\n      {showNavigation && images.length > 1 && (\n        <>\n          <button\n            className=\"swiper-button-prev-custom absolute left-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/80 hover:bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:ring-offset-2\"\n            aria-label=\"Imagen anterior\"\n            type=\"button\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n          <button\n            className=\"swiper-button-next-custom absolute right-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/80 hover:bg-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:ring-offset-2\"\n            aria-label=\"Imagen siguiente\"\n            type=\"button\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </button>\n        </>\n      )}\n\n      {/* Indicador de slide actual para lectores de pantalla */}\n      <div className=\"sr-only\" aria-live=\"polite\">\n        Imagen {activeIndex + 1} de {images.length}: {images[activeIndex]?.alt}\n      </div>\n\n      {/* Indicador visual del estado de autoplay */}\n      {autoplay && (\n        <div className=\"absolute top-4 right-4 z-10\">\n          <div className={`w-2 h-2 rounded-full transition-colors duration-300 ${\n            isHovered ? 'bg-yellow-400' : 'bg-white/60'\n          }`} title={isHovered ? 'Autoplay pausado' : 'Autoplay activo'} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageCarousel;\n"],"names":["ImageCarousel","images","autoplay","autoplayDelay","pauseOnHover","showNavigation","showPagination","effect","className","imageClassName","aspectRatio","sizes","onSlideChange","ariaLabel","swiperRef","useRef","activeIndex","setActiveIndex","useState","isHovered","setIsHovered","handleSlideChange","useCallback","swiper","handleMouseEnter","current","stop","handleMouseLeave","start","handleKeyDown","event","key","preventDefault","slidePrev","slideNext","slideTo","length","getAspectRatioClass","swiperConfig","modules","Autoplay","Pagination","Navigation","EffectFade","spaceBetween","slidesPerView","loop","delay","disableOnInteraction","pauseOnMouseEnter","pagination","clickable","bulletClass","bulletActiveClass","navigation","nextEl","prevEl","onSwiper","div","onMouseEnter","onMouseLeave","onKeyDown","tabIndex","role","aria-label","aria-live","Swiper","map","image","index","SwiperSlide","Image","src","alt","fill","priority","quality","button","type","svg","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","title"],"mappings":"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"}