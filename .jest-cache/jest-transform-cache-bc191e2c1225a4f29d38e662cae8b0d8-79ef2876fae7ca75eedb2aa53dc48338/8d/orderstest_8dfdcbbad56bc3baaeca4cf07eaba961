5b92231a270b2d8de462249d9c3dc9c2
// ===================================
// PINTEYA E-COMMERCE - TESTS API ORDERS
// ===================================
"use strict";
// Mock Supabase específico para orders
jest.mock('@/lib/supabase', ()=>{
    const mockSupabaseAdmin = {
        from: jest.fn().mockImplementation((table)=>{
            if (table === 'users') {
                return {
                    select: jest.fn().mockImplementation((columns)=>({
                            eq: jest.fn().mockImplementation((column, value)=>({
                                    single: jest.fn().mockImplementation(()=>{
                                        // Simular que no existe usuario para forzar la creación
                                        if (value === 'demo-user-id') {
                                            return Promise.resolve({
                                                data: null,
                                                error: {
                                                    code: 'PGRST116'
                                                }
                                            });
                                        }
                                        return Promise.resolve({
                                            data: mockUser,
                                            error: null
                                        });
                                    })
                                }))
                        })),
                    insert: jest.fn().mockImplementation((data)=>({
                            select: jest.fn().mockImplementation(()=>({
                                    single: jest.fn().mockImplementation(()=>{
                                        // Retornar un usuario válido con id
                                        return Promise.resolve({
                                            data: {
                                                id: 'test-user-id',
                                                clerk_id: data[0].clerk_id,
                                                email: data[0].email,
                                                name: data[0].name
                                            },
                                            error: null
                                        });
                                    })
                                }))
                        }))
                };
            }
            if (table === 'orders') {
                const mockQuery = {
                    eq: jest.fn().mockImplementation(()=>mockQuery),
                    order: jest.fn().mockImplementation(()=>mockQuery),
                    range: jest.fn().mockImplementation(()=>Promise.resolve({
                            data: mockOrders,
                            error: null,
                            count: 1
                        }))
                };
                return {
                    select: jest.fn().mockImplementation(()=>mockQuery),
                    insert: jest.fn().mockImplementation(()=>({
                            select: jest.fn().mockImplementation(()=>Promise.resolve({
                                    data: mockOrders,
                                    error: null
                                }))
                        }))
                };
            }
            if (table === 'products') {
                return {
                    select: jest.fn().mockImplementation(()=>({
                            limit: jest.fn().mockImplementation(()=>Promise.resolve({
                                    data: mockProducts,
                                    error: null
                                }))
                        }))
                };
            }
            if (table === 'order_items') {
                return {
                    insert: jest.fn().mockImplementation(()=>Promise.resolve({
                            data: null,
                            error: null
                        }))
                };
            }
            // Default fallback
            return {
                select: jest.fn().mockImplementation(()=>({
                        eq: jest.fn().mockImplementation(()=>Promise.resolve({
                                data: [],
                                error: null
                            }))
                    }))
            };
        })
    };
    return {
        supabaseAdmin: mockSupabaseAdmin,
        getSupabaseClient: jest.fn(()=>mockSupabaseAdmin)
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../app/api/user/orders/route");
// Mock data
const mockUser = {
    id: 'test-user-id',
    clerk_id: 'demo-user-id',
    email: 'test@example.com',
    name: 'Test User'
};
const mockOrders = [
    {
        id: 'order-1',
        user_id: 'test-user-id',
        total: 15000.00,
        status: 'delivered',
        payment_id: 'payment-1',
        created_at: '2024-01-01T00:00:00Z',
        order_items: [
            {
                id: 'item-1',
                quantity: 2,
                price: 7500.00,
                products: {
                    id: 1,
                    name: 'Test Product',
                    images: [
                        'test.jpg'
                    ]
                }
            }
        ]
    }
];
const mockProducts = [
    {
        id: 1,
        name: 'Test Product',
        price: 7500.00
    }
];
describe('/api/user/orders', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('creates new user when user does not exist and returns orders', async ()=>{
        const request = new _server.NextRequest('http://localhost:3001/api/user/orders');
        const response = await (0, _route.GET)(request);
        const data = await response.json();
        expect(response.status).toBe(200);
        expect(data.success).toBe(true);
        expect(data.orders).toBeDefined();
        expect(data.pagination).toBeDefined();
        expect(data.statistics).toBeDefined();
    });
    it('handles pagination parameters correctly', async ()=>{
        const request = new _server.NextRequest('http://localhost:3001/api/user/orders?page=2&limit=5');
        const response = await (0, _route.GET)(request);
        const data = await response.json();
        expect(response.status).toBe(200);
        expect(data.success).toBe(true);
        expect(data.pagination.page).toBe(2);
        expect(data.pagination.limit).toBe(5);
    });
    it('handles status filter correctly', async ()=>{
        const request = new _server.NextRequest('http://localhost:3001/api/user/orders?status=delivered');
        const response = await (0, _route.GET)(request);
        const data = await response.json();
        expect(response.status).toBe(200);
        expect(data.success).toBe(true);
    });
    it('returns statistics correctly', async ()=>{
        const request = new _server.NextRequest('http://localhost:3001/api/user/orders');
        const response = await (0, _route.GET)(request);
        const data = await response.json();
        expect(response.status).toBe(200);
        expect(data.statistics).toMatchObject({
            total_orders: expect.any(Number),
            total_spent: expect.any(Number),
            pending_orders: expect.any(Number),
            completed_orders: expect.any(Number)
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxhcGlcXG9yZGVycy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIFRFU1RTIEFQSSBPUkRFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IEdFVCB9IGZyb20gJ0AvYXBwL2FwaS91c2VyL29yZGVycy9yb3V0ZSdcclxuXHJcbi8vIE1vY2sgZGF0YVxyXG5jb25zdCBtb2NrVXNlciA9IHtcclxuICBpZDogJ3Rlc3QtdXNlci1pZCcsXHJcbiAgY2xlcmtfaWQ6ICdkZW1vLXVzZXItaWQnLFxyXG4gIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXHJcbiAgbmFtZTogJ1Rlc3QgVXNlcidcclxufVxyXG5cclxuY29uc3QgbW9ja09yZGVycyA9IFtcclxuICB7XHJcbiAgICBpZDogJ29yZGVyLTEnLFxyXG4gICAgdXNlcl9pZDogJ3Rlc3QtdXNlci1pZCcsXHJcbiAgICB0b3RhbDogMTUwMDAuMDAsXHJcbiAgICBzdGF0dXM6ICdkZWxpdmVyZWQnLFxyXG4gICAgcGF5bWVudF9pZDogJ3BheW1lbnQtMScsXHJcbiAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxyXG4gICAgb3JkZXJfaXRlbXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnaXRlbS0xJyxcclxuICAgICAgICBxdWFudGl0eTogMixcclxuICAgICAgICBwcmljZTogNzUwMC4wMCxcclxuICAgICAgICBwcm9kdWN0czoge1xyXG4gICAgICAgICAgaWQ6IDEsXHJcbiAgICAgICAgICBuYW1lOiAnVGVzdCBQcm9kdWN0JyxcclxuICAgICAgICAgIGltYWdlczogWyd0ZXN0LmpwZyddXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfVxyXG5dXHJcblxyXG5jb25zdCBtb2NrUHJvZHVjdHMgPSBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICBuYW1lOiAnVGVzdCBQcm9kdWN0JyxcclxuICAgIHByaWNlOiA3NTAwLjAwXHJcbiAgfVxyXG5dXHJcblxyXG4vLyBNb2NrIFN1cGFiYXNlIGVzcGVjw61maWNvIHBhcmEgb3JkZXJzXHJcbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2UnLCAoKSA9PiB7XHJcbiAgY29uc3QgbW9ja1N1cGFiYXNlQWRtaW4gPSB7XHJcbiAgICBmcm9tOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCh0YWJsZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmICh0YWJsZSA9PT0gJ3VzZXJzJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKGNvbHVtbnM/OiBzdHJpbmcpID0+ICh7XHJcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjb2x1bW46IHN0cmluZywgdmFsdWU6IGFueSkgPT4gKHtcclxuICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gU2ltdWxhciBxdWUgbm8gZXhpc3RlIHVzdWFyaW8gcGFyYSBmb3J6YXIgbGEgY3JlYWNpw7NuXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdkZW1vLXVzZXItaWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBudWxsLCBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnIH0gfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrVXNlciwgZXJyb3I6IG51bGwgfSlcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICAgIH0pKSxcclxuICAgICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoZGF0YTogYW55KSA9PiAoe1xyXG4gICAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcclxuICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0b3JuYXIgdW4gdXN1YXJpbyB2w6FsaWRvIGNvbiBpZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ3Rlc3QtdXNlci1pZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlcmtfaWQ6IGRhdGFbMF0uY2xlcmtfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGRhdGFbMF0uZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YVswXS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAodGFibGUgPT09ICdvcmRlcnMnKSB7XHJcbiAgICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xyXG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gbW9ja1F1ZXJ5KSxcclxuICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IG1vY2tRdWVyeSksXHJcbiAgICAgICAgICByYW5nZTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PlxyXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrT3JkZXJzLCBlcnJvcjogbnVsbCwgY291bnQ6IDEgfSlcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gbW9ja1F1ZXJ5KSxcclxuICAgICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cclxuICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBtb2NrT3JkZXJzLCBlcnJvcjogbnVsbCB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICh0YWJsZSA9PT0gJ3Byb2R1Y3RzJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcclxuICAgICAgICAgICAgbGltaXQ6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gXHJcbiAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbW9ja1Byb2R1Y3RzLCBlcnJvcjogbnVsbCB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICh0YWJsZSA9PT0gJ29yZGVyX2l0ZW1zJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gXHJcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZWZhdWx0IGZhbGxiYWNrXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBcclxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW10sIGVycm9yOiBudWxsIH0pXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc3VwYWJhc2VBZG1pbjogbW9ja1N1cGFiYXNlQWRtaW4sXHJcbiAgICBnZXRTdXBhYmFzZUNsaWVudDogamVzdC5mbigoKSA9PiBtb2NrU3VwYWJhc2VBZG1pbilcclxuICB9XHJcbn0pXHJcblxyXG5kZXNjcmliZSgnL2FwaS91c2VyL29yZGVycycsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2NyZWF0ZXMgbmV3IHVzZXIgd2hlbiB1c2VyIGRvZXMgbm90IGV4aXN0IGFuZCByZXR1cm5zIG9yZGVycycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvdXNlci9vcmRlcnMnKVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KVxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG5cclxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxyXG4gICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxyXG4gICAgZXhwZWN0KGRhdGEub3JkZXJzKS50b0JlRGVmaW5lZCgpXHJcbiAgICBleHBlY3QoZGF0YS5wYWdpbmF0aW9uKS50b0JlRGVmaW5lZCgpXHJcbiAgICBleHBlY3QoZGF0YS5zdGF0aXN0aWNzKS50b0JlRGVmaW5lZCgpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2hhbmRsZXMgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGkvdXNlci9vcmRlcnM/cGFnZT0yJmxpbWl0PTUnKVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KVxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG5cclxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxyXG4gICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxyXG4gICAgZXhwZWN0KGRhdGEucGFnaW5hdGlvbi5wYWdlKS50b0JlKDIpXHJcbiAgICBleHBlY3QoZGF0YS5wYWdpbmF0aW9uLmxpbWl0KS50b0JlKDUpXHJcbiAgfSlcclxuXHJcbiAgaXQoJ2hhbmRsZXMgc3RhdHVzIGZpbHRlciBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDEvYXBpL3VzZXIvb3JkZXJzP3N0YXR1cz1kZWxpdmVyZWQnKVxyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KVxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG5cclxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxyXG4gICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKVxyXG4gIH0pXHJcblxyXG4gIGl0KCdyZXR1cm5zIHN0YXRpc3RpY3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaS91c2VyL29yZGVycycpXHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcblxyXG4gICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXHJcbiAgICBleHBlY3QoZGF0YS5zdGF0aXN0aWNzKS50b01hdGNoT2JqZWN0KHtcclxuICAgICAgdG90YWxfb3JkZXJzOiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgIHRvdGFsX3NwZW50OiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgIHBlbmRpbmdfb3JkZXJzOiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgIGNvbXBsZXRlZF9vcmRlcnM6IGV4cGVjdC5hbnkoTnVtYmVyKVxyXG4gICAgfSlcclxuICB9KVxyXG59KVxyXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJtb2NrU3VwYWJhc2VBZG1pbiIsImZyb20iLCJmbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInRhYmxlIiwic2VsZWN0IiwiY29sdW1ucyIsImVxIiwiY29sdW1uIiwidmFsdWUiLCJzaW5nbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRhdGEiLCJlcnJvciIsImNvZGUiLCJtb2NrVXNlciIsImluc2VydCIsImlkIiwiY2xlcmtfaWQiLCJlbWFpbCIsIm5hbWUiLCJtb2NrUXVlcnkiLCJvcmRlciIsInJhbmdlIiwibW9ja09yZGVycyIsImNvdW50IiwibGltaXQiLCJtb2NrUHJvZHVjdHMiLCJzdXBhYmFzZUFkbWluIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJ1c2VyX2lkIiwidG90YWwiLCJzdGF0dXMiLCJwYXltZW50X2lkIiwiY3JlYXRlZF9hdCIsIm9yZGVyX2l0ZW1zIiwicXVhbnRpdHkiLCJwcmljZSIsInByb2R1Y3RzIiwiaW1hZ2VzIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVxdWVzdCIsIk5leHRSZXF1ZXN0IiwicmVzcG9uc2UiLCJHRVQiLCJqc29uIiwiZXhwZWN0IiwidG9CZSIsInN1Y2Nlc3MiLCJvcmRlcnMiLCJ0b0JlRGVmaW5lZCIsInBhZ2luYXRpb24iLCJzdGF0aXN0aWNzIiwicGFnZSIsInRvTWF0Y2hPYmplY3QiLCJ0b3RhbF9vcmRlcnMiLCJhbnkiLCJOdW1iZXIiLCJ0b3RhbF9zcGVudCIsInBlbmRpbmdfb3JkZXJzIiwiY29tcGxldGVkX29yZGVycyJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLHdDQUF3QztBQUN4QyxzQ0FBc0M7O0FBNEN0Qyx1Q0FBdUM7QUFDdkNBLEtBQUtDLElBQUksQ0FBQyxrQkFBa0I7SUFDMUIsTUFBTUMsb0JBQW9CO1FBQ3hCQyxNQUFNSCxLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLENBQUNDO1lBQ2xDLElBQUlBLFVBQVUsU0FBUztnQkFDckIsT0FBTztvQkFDTEMsUUFBUVAsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxDQUFDRyxVQUFzQixDQUFBOzRCQUMxREMsSUFBSVQsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxDQUFDSyxRQUFnQkMsUUFBZ0IsQ0FBQTtvQ0FDaEVDLFFBQVFaLEtBQUtJLEVBQUUsR0FBR0Msa0JBQWtCLENBQUM7d0NBQ25DLHdEQUF3RDt3Q0FDeEQsSUFBSU0sVUFBVSxnQkFBZ0I7NENBQzVCLE9BQU9FLFFBQVFDLE9BQU8sQ0FBQztnREFBRUMsTUFBTTtnREFBTUMsT0FBTztvREFBRUMsTUFBTTtnREFBVzs0Q0FBRTt3Q0FDbkU7d0NBQ0EsT0FBT0osUUFBUUMsT0FBTyxDQUFDOzRDQUFFQyxNQUFNRzs0Q0FBVUYsT0FBTzt3Q0FBSztvQ0FDdkQ7Z0NBQ0YsQ0FBQTt3QkFDRixDQUFBO29CQUNBRyxRQUFRbkIsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxDQUFDVSxPQUFlLENBQUE7NEJBQ25EUixRQUFRUCxLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQU8sQ0FBQTtvQ0FDMUNPLFFBQVFaLEtBQUtJLEVBQUUsR0FBR0Msa0JBQWtCLENBQUM7d0NBQ25DLG9DQUFvQzt3Q0FDcEMsT0FBT1EsUUFBUUMsT0FBTyxDQUFDOzRDQUNyQkMsTUFBTTtnREFDSkssSUFBSTtnREFDSkMsVUFBVU4sSUFBSSxDQUFDLEVBQUUsQ0FBQ00sUUFBUTtnREFDMUJDLE9BQU9QLElBQUksQ0FBQyxFQUFFLENBQUNPLEtBQUs7Z0RBQ3BCQyxNQUFNUixJQUFJLENBQUMsRUFBRSxDQUFDUSxJQUFJOzRDQUNwQjs0Q0FDQVAsT0FBTzt3Q0FDVDtvQ0FDRjtnQ0FDRixDQUFBO3dCQUNGLENBQUE7Z0JBQ0Y7WUFDRjtZQUVBLElBQUlWLFVBQVUsVUFBVTtnQkFDdEIsTUFBTWtCLFlBQVk7b0JBQ2hCZixJQUFJVCxLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQU1tQjtvQkFDdkNDLE9BQU96QixLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQU1tQjtvQkFDMUNFLE9BQU8xQixLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQ2xDUSxRQUFRQyxPQUFPLENBQUM7NEJBQUVDLE1BQU1ZOzRCQUFZWCxPQUFPOzRCQUFNWSxPQUFPO3dCQUFFO2dCQUU5RDtnQkFFQSxPQUFPO29CQUNMckIsUUFBUVAsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxJQUFNbUI7b0JBQzNDTCxRQUFRbkIsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxJQUFPLENBQUE7NEJBQzFDRSxRQUFRUCxLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQ25DUSxRQUFRQyxPQUFPLENBQUM7b0NBQUVDLE1BQU1ZO29DQUFZWCxPQUFPO2dDQUFLO3dCQUVwRCxDQUFBO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJVixVQUFVLFlBQVk7Z0JBQ3hCLE9BQU87b0JBQ0xDLFFBQVFQLEtBQUtJLEVBQUUsR0FBR0Msa0JBQWtCLENBQUMsSUFBTyxDQUFBOzRCQUMxQ3dCLE9BQU83QixLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQ2xDUSxRQUFRQyxPQUFPLENBQUM7b0NBQUVDLE1BQU1lO29DQUFjZCxPQUFPO2dDQUFLO3dCQUV0RCxDQUFBO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJVixVQUFVLGVBQWU7Z0JBQzNCLE9BQU87b0JBQ0xhLFFBQVFuQixLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQ25DUSxRQUFRQyxPQUFPLENBQUM7NEJBQUVDLE1BQU07NEJBQU1DLE9BQU87d0JBQUs7Z0JBRTlDO1lBQ0Y7WUFFQSxtQkFBbUI7WUFDbkIsT0FBTztnQkFDTFQsUUFBUVAsS0FBS0ksRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxJQUFPLENBQUE7d0JBQzFDSSxJQUFJVCxLQUFLSSxFQUFFLEdBQUdDLGtCQUFrQixDQUFDLElBQy9CUSxRQUFRQyxPQUFPLENBQUM7Z0NBQUVDLE1BQU0sRUFBRTtnQ0FBRUMsT0FBTzs0QkFBSztvQkFFNUMsQ0FBQTtZQUNGO1FBQ0Y7SUFDRjtJQUVBLE9BQU87UUFDTGUsZUFBZTdCO1FBQ2Y4QixtQkFBbUJoQyxLQUFLSSxFQUFFLENBQUMsSUFBTUY7SUFDbkM7QUFDRjs7Ozt3QkFsSTRCO3VCQUNSO0FBRXBCLFlBQVk7QUFDWixNQUFNZ0IsV0FBVztJQUNmRSxJQUFJO0lBQ0pDLFVBQVU7SUFDVkMsT0FBTztJQUNQQyxNQUFNO0FBQ1I7QUFFQSxNQUFNSSxhQUFhO0lBQ2pCO1FBQ0VQLElBQUk7UUFDSmEsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLFFBQVE7UUFDUkMsWUFBWTtRQUNaQyxZQUFZO1FBQ1pDLGFBQWE7WUFDWDtnQkFDRWxCLElBQUk7Z0JBQ0ptQixVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxVQUFVO29CQUNSckIsSUFBSTtvQkFDSkcsTUFBTTtvQkFDTm1CLFFBQVE7d0JBQUM7cUJBQVc7Z0JBQ3RCO1lBQ0Y7U0FDRDtJQUNIO0NBQ0Q7QUFFRCxNQUFNWixlQUFlO0lBQ25CO1FBQ0VWLElBQUk7UUFDSkcsTUFBTTtRQUNOaUIsT0FBTztJQUNUO0NBQ0Q7QUE0RkRHLFNBQVMsb0JBQW9CO0lBQzNCQyxXQUFXO1FBQ1Q1QyxLQUFLNkMsYUFBYTtJQUNwQjtJQUVBQyxHQUFHLGdFQUFnRTtRQUNqRSxNQUFNQyxVQUFVLElBQUlDLG1CQUFXLENBQUM7UUFFaEMsTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxVQUFHLEVBQUNIO1FBQzNCLE1BQU1oQyxPQUFPLE1BQU1rQyxTQUFTRSxJQUFJO1FBRWhDQyxPQUFPSCxTQUFTZCxNQUFNLEVBQUVrQixJQUFJLENBQUM7UUFDN0JELE9BQU9yQyxLQUFLdUMsT0FBTyxFQUFFRCxJQUFJLENBQUM7UUFDMUJELE9BQU9yQyxLQUFLd0MsTUFBTSxFQUFFQyxXQUFXO1FBQy9CSixPQUFPckMsS0FBSzBDLFVBQVUsRUFBRUQsV0FBVztRQUNuQ0osT0FBT3JDLEtBQUsyQyxVQUFVLEVBQUVGLFdBQVc7SUFDckM7SUFFQVYsR0FBRywyQ0FBMkM7UUFDNUMsTUFBTUMsVUFBVSxJQUFJQyxtQkFBVyxDQUFDO1FBRWhDLE1BQU1DLFdBQVcsTUFBTUMsSUFBQUEsVUFBRyxFQUFDSDtRQUMzQixNQUFNaEMsT0FBTyxNQUFNa0MsU0FBU0UsSUFBSTtRQUVoQ0MsT0FBT0gsU0FBU2QsTUFBTSxFQUFFa0IsSUFBSSxDQUFDO1FBQzdCRCxPQUFPckMsS0FBS3VDLE9BQU8sRUFBRUQsSUFBSSxDQUFDO1FBQzFCRCxPQUFPckMsS0FBSzBDLFVBQVUsQ0FBQ0UsSUFBSSxFQUFFTixJQUFJLENBQUM7UUFDbENELE9BQU9yQyxLQUFLMEMsVUFBVSxDQUFDNUIsS0FBSyxFQUFFd0IsSUFBSSxDQUFDO0lBQ3JDO0lBRUFQLEdBQUcsbUNBQW1DO1FBQ3BDLE1BQU1DLFVBQVUsSUFBSUMsbUJBQVcsQ0FBQztRQUVoQyxNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFVBQUcsRUFBQ0g7UUFDM0IsTUFBTWhDLE9BQU8sTUFBTWtDLFNBQVNFLElBQUk7UUFFaENDLE9BQU9ILFNBQVNkLE1BQU0sRUFBRWtCLElBQUksQ0FBQztRQUM3QkQsT0FBT3JDLEtBQUt1QyxPQUFPLEVBQUVELElBQUksQ0FBQztJQUM1QjtJQUVBUCxHQUFHLGdDQUFnQztRQUNqQyxNQUFNQyxVQUFVLElBQUlDLG1CQUFXLENBQUM7UUFFaEMsTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxVQUFHLEVBQUNIO1FBQzNCLE1BQU1oQyxPQUFPLE1BQU1rQyxTQUFTRSxJQUFJO1FBRWhDQyxPQUFPSCxTQUFTZCxNQUFNLEVBQUVrQixJQUFJLENBQUM7UUFDN0JELE9BQU9yQyxLQUFLMkMsVUFBVSxFQUFFRSxhQUFhLENBQUM7WUFDcENDLGNBQWNULE9BQU9VLEdBQUcsQ0FBQ0M7WUFDekJDLGFBQWFaLE9BQU9VLEdBQUcsQ0FBQ0M7WUFDeEJFLGdCQUFnQmIsT0FBT1UsR0FBRyxDQUFDQztZQUMzQkcsa0JBQWtCZCxPQUFPVSxHQUFHLENBQUNDO1FBQy9CO0lBQ0Y7QUFDRiJ9