cfbcce973e98607c8222dca8abf27375
// ===================================
// PINTEYA E-COMMERCE - FUNCIONES DE API PARA PRODUCTOS
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    calculateDiscountPercentage: function() {
        return calculateDiscountPercentage;
    },
    convertLegacyProduct: function() {
        return convertLegacyProduct;
    },
    formatPrice: function() {
        return formatPrice;
    },
    getDiscountedProducts: function() {
        return getDiscountedProducts;
    },
    getProductById: function() {
        return getProductById;
    },
    getProductMainImage: function() {
        return getProductMainImage;
    },
    getProducts: function() {
        return getProducts;
    },
    getProductsByBrand: function() {
        return getProductsByBrand;
    },
    getProductsByCategory: function() {
        return getProductsByCategory;
    },
    getRelatedProducts: function() {
        return getRelatedProducts;
    },
    isProductInStock: function() {
        return isProductInStock;
    },
    searchProducts: function() {
        return searchProducts;
    }
});
const _jsonutils = require("../json-utils");
async function getProducts(filters) {
    try {
        const searchParams = new URLSearchParams();
        if (filters) {
            Object.entries(filters).forEach(([key, value])=>{
                if (value !== undefined && value !== null) {
                    searchParams.append(key, value.toString());
                }
            });
        }
        const url = `/api/products?${searchParams.toString()}`;
        const DEBUG_MODE = process.env.NODE_ENV === 'development';
        if (DEBUG_MODE) {}
        const response = await fetch(url, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        });
        if (DEBUG_MODE) {}
        // Usar parsing seguro de JSON
        const result = await (0, _jsonutils.safeApiResponseJson)(response);
        if (DEBUG_MODE) {}
        if (!result.success) {
            console.error('❌ JSON parsing failed:', result.error);
            // Return a fallback response instead of throwing
            return {
                data: [],
                pagination: {
                    page: 1,
                    limit: 12,
                    total: 0,
                    totalPages: 0
                },
                success: false,
                message: result.error || 'Error loading products'
            };
        }
        if (!result.data) {
            console.error('❌ Result data is null');
            // Return a fallback response instead of throwing
            return {
                data: [],
                pagination: {
                    page: 1,
                    limit: 12,
                    total: 0,
                    totalPages: 0
                },
                success: false,
                message: 'Error: respuesta nula del servidor'
            };
        }
        if (DEBUG_MODE) {}
        return result.data;
    } catch (error) {
        console.error('❌ Error obteniendo productos:', error);
        // Return a fallback response instead of throwing
        return {
            data: [],
            pagination: {
                page: 1,
                limit: 12,
                total: 0,
                totalPages: 0
            },
            success: false,
            message: error instanceof Error ? error.message : 'Error inesperado'
        };
    }
}
async function getProductById(id) {
    try {
        const response = await fetch(`/api/products/${id}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        });
        // Usar parsing seguro de JSON
        const result = await (0, _jsonutils.safeApiResponseJson)(response);
        if (!result || !result.success || !result.data) {
            throw new Error(result?.error || 'Error parsing API response');
        }
        return result.data;
    } catch (error) {
        console.error(`Error obteniendo producto ${id}:`, error);
        throw error;
    }
}
async function searchProducts(searchTerm, limit = 12) {
    return getProducts({
        search: searchTerm,
        limit,
        page: 1
    });
}
async function getProductsByCategory(categorySlug, page = 1, limit = 12) {
    return getProducts({
        category: categorySlug,
        page,
        limit
    });
}
async function getDiscountedProducts(page = 1, limit = 12) {
    // Nota: Esto requeriría un filtro adicional en la API
    // Por ahora, obtenemos todos los productos y filtramos en el frontend
    const response = await getProducts({
        page,
        limit
    });
    // Filtrar productos con descuento
    const discountedProducts = response.data.filter((product)=>product.discounted_price && product.discounted_price < product.price);
    return {
        ...response,
        data: discountedProducts
    };
}
async function getProductsByBrand(brandName, page = 1, limit = 12) {
    return getProducts({
        brand: brandName,
        page,
        limit
    });
}
async function getRelatedProducts(productId, categoryId, limit = 4) {
    try {
        // Obtener productos de la misma categoría
        const response = await fetch(`/api/products?category_id=${categoryId}&limit=${limit + 1}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        });
        // Usar parsing seguro de JSON
        const result = await (0, _jsonutils.safeApiResponseJson)(response);
        if (!result || !result.success || !result.data) {
            throw new Error(result?.error || 'Error parsing API response');
        }
        const data = result.data;
        // Filtrar el producto actual y limitar resultados
        return data.data.filter((product)=>product.id !== productId).slice(0, limit);
    } catch (error) {
        console.error('Error obteniendo productos relacionados:', error);
        return [];
    }
}
function convertLegacyProduct(oldProduct) {
    return {
        id: oldProduct.id,
        name: oldProduct.title,
        brand: oldProduct.brand || null,
        slug: oldProduct.title.toLowerCase().replace(/[^a-z0-9]+/g, '-'),
        description: `Producto ${oldProduct.title}`,
        price: oldProduct.price,
        discounted_price: oldProduct.discountedPrice,
        stock: 50,
        category_id: 1,
        images: oldProduct.imgs,
        created_at: new Date().toISOString(),
        updated_at: null
    };
}
function calculateDiscountPercentage(originalPrice, discountedPrice) {
    if (!discountedPrice || discountedPrice >= originalPrice) {
        return 0;
    }
    return Math.round((originalPrice - discountedPrice) / originalPrice * 100);
}
function formatPrice(price, currency = 'ARS') {
    return new Intl.NumberFormat('es-AR', {
        style: 'currency',
        currency,
        minimumFractionDigits: 0,
        maximumFractionDigits: 2
    }).format(price);
}
function isProductInStock(product) {
    return product.stock > 0;
}
function getProductMainImage(product) {
    if (product.images?.previews?.[0]) {
        return product.images.previews[0];
    }
    if (product.images?.thumbnails?.[0]) {
        return product.images.thumbnails[0];
    }
    return '/images/products/placeholder.jpg';
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFxhcGlcXHByb2R1Y3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIEZVTkNJT05FUyBERSBBUEkgUEFSQSBQUk9EVUNUT1NcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IFByb2R1Y3RGaWx0ZXJzLCBQcm9kdWN0V2l0aENhdGVnb3J5LCBBcGlSZXNwb25zZSwgUGFnaW5hdGVkUmVzcG9uc2UgfSBmcm9tICdAL3R5cGVzL2FwaSc7XHJcbmltcG9ydCB7IHNhZmVBcGlSZXNwb25zZUpzb24gfSBmcm9tICdAL2xpYi9qc29uLXV0aWxzJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZVTkNJT05FUyBQQVJBIEVMIEZST05URU5EXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBwcm9kdWN0b3MgY29uIGZpbHRyb3MgZGVzZGUgbGEgQVBJXHJcbiAqIEBwYXJhbSBmaWx0ZXJzIC0gRmlsdHJvcyBkZSBwcm9kdWN0b3NcclxuICogQHJldHVybnMgUHJvbWlzZTxQYWdpbmF0ZWRSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0cyhmaWx0ZXJzPzogUHJvZHVjdEZpbHRlcnMpOiBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPFByb2R1Y3RXaXRoQ2F0ZWdvcnk+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcclxuXHJcbiAgICBpZiAoZmlsdGVycykge1xyXG4gICAgICBPYmplY3QuZW50cmllcyhmaWx0ZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXJsID0gYC9hcGkvcHJvZHVjdHM/JHtzZWFyY2hQYXJhbXMudG9TdHJpbmcoKX1gO1xyXG4gICAgY29uc3QgREVCVUdfTU9ERSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xyXG5cclxuICAgIGlmIChERUJVR19NT0RFKSB7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoREVCVUdfTU9ERSkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzYXIgcGFyc2luZyBzZWd1cm8gZGUgSlNPTlxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZUFwaVJlc3BvbnNlSnNvbjxQYWdpbmF0ZWRSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj4ocmVzcG9uc2UpO1xyXG5cclxuICAgIGlmIChERUJVR19NT0RFKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgSlNPTiBwYXJzaW5nIGZhaWxlZDonLCByZXN1bHQuZXJyb3IpO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIGEgZmFsbGJhY2sgcmVzcG9uc2UgaW5zdGVhZCBvZiB0aHJvd2luZ1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IFtdLFxyXG4gICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICBsaW1pdDogMTIsXHJcbiAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgIHRvdGFsUGFnZXM6IDAsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfHwgJ0Vycm9yIGxvYWRpbmcgcHJvZHVjdHMnLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFJlc3VsdCBkYXRhIGlzIG51bGwnKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiBhIGZhbGxiYWNrIHJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmdcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBbXSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgbGltaXQ6IDEyLFxyXG4gICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICB0b3RhbFBhZ2VzOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ0Vycm9yOiByZXNwdWVzdGEgbnVsYSBkZWwgc2Vydmlkb3InLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChERUJVR19NT0RFKSB7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBvYnRlbmllbmRvIHByb2R1Y3RvczonLCBlcnJvcik7XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgZmFsbGJhY2sgcmVzcG9uc2UgaW5zdGVhZCBvZiB0aHJvd2luZ1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogW10sXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgIGxpbWl0OiAxMixcclxuICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICB0b3RhbFBhZ2VzOiAwLFxyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRXJyb3IgaW5lc3BlcmFkbycsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgdW4gcHJvZHVjdG8gcG9yIElEIGRlc2RlIGxhIEFQSVxyXG4gKiBAcGFyYW0gaWQgLSBJRCBkZWwgcHJvZHVjdG9cclxuICogQHJldHVybnMgUHJvbWlzZTxBcGlSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0QnlJZChpZDogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3Byb2R1Y3RzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFVzYXIgcGFyc2luZyBzZWd1cm8gZGUgSlNPTlxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZUFwaVJlc3BvbnNlSnNvbjxBcGlSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj4ocmVzcG9uc2UpO1xyXG5cclxuICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0LmRhdGEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdD8uZXJyb3IgfHwgJ0Vycm9yIHBhcnNpbmcgQVBJIHJlc3BvbnNlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvYnRlbmllbmRvIHByb2R1Y3RvICR7aWR9OmAsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1c2NhIHByb2R1Y3RvcyBwb3IgdMOpcm1pbm8gZGUgYsO6c3F1ZWRhXHJcbiAqIEBwYXJhbSBzZWFyY2hUZXJtIC0gVMOpcm1pbm8gZGUgYsO6c3F1ZWRhXHJcbiAqIEBwYXJhbSBsaW1pdCAtIEzDrW1pdGUgZGUgcmVzdWx0YWRvc1xyXG4gKiBAcmV0dXJucyBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPFByb2R1Y3RXaXRoQ2F0ZWdvcnk+PlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaFByb2R1Y3RzKFxyXG4gIHNlYXJjaFRlcm06IHN0cmluZywgXHJcbiAgbGltaXQ6IG51bWJlciA9IDEyXHJcbik6IFByb21pc2U8UGFnaW5hdGVkUmVzcG9uc2U8UHJvZHVjdFdpdGhDYXRlZ29yeT4+IHtcclxuICByZXR1cm4gZ2V0UHJvZHVjdHMoe1xyXG4gICAgc2VhcmNoOiBzZWFyY2hUZXJtLFxyXG4gICAgbGltaXQsXHJcbiAgICBwYWdlOiAxLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBwcm9kdWN0b3MgcG9yIGNhdGVnb3LDrWFcclxuICogQHBhcmFtIGNhdGVnb3J5U2x1ZyAtIFNsdWcgZGUgbGEgY2F0ZWdvcsOtYVxyXG4gKiBAcGFyYW0gcGFnZSAtIFDDoWdpbmFcclxuICogQHBhcmFtIGxpbWl0IC0gTMOtbWl0ZSBkZSByZXN1bHRhZG9zXHJcbiAqIEByZXR1cm5zIFByb21pc2U8UGFnaW5hdGVkUmVzcG9uc2U8UHJvZHVjdFdpdGhDYXRlZ29yeT4+XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdHNCeUNhdGVnb3J5KFxyXG4gIGNhdGVnb3J5U2x1Zzogc3RyaW5nLFxyXG4gIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgbGltaXQ6IG51bWJlciA9IDEyXHJcbik6IFByb21pc2U8UGFnaW5hdGVkUmVzcG9uc2U8UHJvZHVjdFdpdGhDYXRlZ29yeT4+IHtcclxuICByZXR1cm4gZ2V0UHJvZHVjdHMoe1xyXG4gICAgY2F0ZWdvcnk6IGNhdGVnb3J5U2x1ZyxcclxuICAgIHBhZ2UsXHJcbiAgICBsaW1pdCxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgcHJvZHVjdG9zIGNvbiBkZXNjdWVudG9cclxuICogQHBhcmFtIHBhZ2UgLSBQw6FnaW5hXHJcbiAqIEBwYXJhbSBsaW1pdCAtIEzDrW1pdGUgZGUgcmVzdWx0YWRvc1xyXG4gKiBAcmV0dXJucyBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPFByb2R1Y3RXaXRoQ2F0ZWdvcnk+PlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERpc2NvdW50ZWRQcm9kdWN0cyhcclxuICBwYWdlOiBudW1iZXIgPSAxLFxyXG4gIGxpbWl0OiBudW1iZXIgPSAxMlxyXG4pOiBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPFByb2R1Y3RXaXRoQ2F0ZWdvcnk+PiB7XHJcbiAgLy8gTm90YTogRXN0byByZXF1ZXJpcsOtYSB1biBmaWx0cm8gYWRpY2lvbmFsIGVuIGxhIEFQSVxyXG4gIC8vIFBvciBhaG9yYSwgb2J0ZW5lbW9zIHRvZG9zIGxvcyBwcm9kdWN0b3MgeSBmaWx0cmFtb3MgZW4gZWwgZnJvbnRlbmRcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFByb2R1Y3RzKHsgcGFnZSwgbGltaXQgfSk7XHJcblxyXG4gIC8vIEZpbHRyYXIgcHJvZHVjdG9zIGNvbiBkZXNjdWVudG9cclxuICBjb25zdCBkaXNjb3VudGVkUHJvZHVjdHMgPSByZXNwb25zZS5kYXRhLmZpbHRlcihcclxuICAgIHByb2R1Y3QgPT4gcHJvZHVjdC5kaXNjb3VudGVkX3ByaWNlICYmIHByb2R1Y3QuZGlzY291bnRlZF9wcmljZSA8IHByb2R1Y3QucHJpY2VcclxuICApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4ucmVzcG9uc2UsXHJcbiAgICBkYXRhOiBkaXNjb3VudGVkUHJvZHVjdHMsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgcHJvZHVjdG9zIHBvciBtYXJjYVxyXG4gKiBAcGFyYW0gYnJhbmROYW1lIC0gTm9tYnJlIGRlIGxhIG1hcmNhXHJcbiAqIEBwYXJhbSBwYWdlIC0gUMOhZ2luYVxyXG4gKiBAcGFyYW0gbGltaXQgLSBMw61taXRlIGRlIHJlc3VsdGFkb3NcclxuICogQHJldHVybnMgUHJvbWlzZTxQYWdpbmF0ZWRSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0c0J5QnJhbmQoXHJcbiAgYnJhbmROYW1lOiBzdHJpbmcsXHJcbiAgcGFnZTogbnVtYmVyID0gMSxcclxuICBsaW1pdDogbnVtYmVyID0gMTJcclxuKTogUHJvbWlzZTxQYWdpbmF0ZWRSZXNwb25zZTxQcm9kdWN0V2l0aENhdGVnb3J5Pj4ge1xyXG4gIHJldHVybiBnZXRQcm9kdWN0cyh7XHJcbiAgICBicmFuZDogYnJhbmROYW1lLFxyXG4gICAgcGFnZSxcclxuICAgIGxpbWl0LFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBwcm9kdWN0b3MgcmVsYWNpb25hZG9zIChtaXNtYSBjYXRlZ29yw61hKVxyXG4gKiBAcGFyYW0gcHJvZHVjdElkIC0gSUQgZGVsIHByb2R1Y3RvIGFjdHVhbFxyXG4gKiBAcGFyYW0gY2F0ZWdvcnlJZCAtIElEIGRlIGxhIGNhdGVnb3LDrWFcclxuICogQHBhcmFtIGxpbWl0IC0gTMOtbWl0ZSBkZSByZXN1bHRhZG9zXHJcbiAqIEByZXR1cm5zIFByb21pc2U8UHJvZHVjdFdpdGhDYXRlZ29yeVtdPlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlbGF0ZWRQcm9kdWN0cyhcclxuICBwcm9kdWN0SWQ6IG51bWJlcixcclxuICBjYXRlZ29yeUlkOiBudW1iZXIsXHJcbiAgbGltaXQ6IG51bWJlciA9IDRcclxuKTogUHJvbWlzZTxQcm9kdWN0V2l0aENhdGVnb3J5W10+IHtcclxuICB0cnkge1xyXG4gICAgLy8gT2J0ZW5lciBwcm9kdWN0b3MgZGUgbGEgbWlzbWEgY2F0ZWdvcsOtYVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wcm9kdWN0cz9jYXRlZ29yeV9pZD0ke2NhdGVnb3J5SWR9JmxpbWl0PSR7bGltaXQgKyAxfWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVc2FyIHBhcnNpbmcgc2VndXJvIGRlIEpTT05cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVBcGlSZXNwb25zZUpzb248UGFnaW5hdGVkUmVzcG9uc2U8UHJvZHVjdFdpdGhDYXRlZ29yeT4+KHJlc3BvbnNlKTtcclxuXHJcbiAgICBpZiAoIXJlc3VsdCB8fCAhcmVzdWx0LnN1Y2Nlc3MgfHwgIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQ/LmVycm9yIHx8ICdFcnJvciBwYXJzaW5nIEFQSSByZXNwb25zZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAvLyBGaWx0cmFyIGVsIHByb2R1Y3RvIGFjdHVhbCB5IGxpbWl0YXIgcmVzdWx0YWRvc1xyXG4gICAgcmV0dXJuIGRhdGEuZGF0YVxyXG4gICAgICAuZmlsdGVyKHByb2R1Y3QgPT4gcHJvZHVjdC5pZCAhPT0gcHJvZHVjdElkKVxyXG4gICAgICAuc2xpY2UoMCwgbGltaXQpO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igb2J0ZW5pZW5kbyBwcm9kdWN0b3MgcmVsYWNpb25hZG9zOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZVTkNJT05FUyBBVVhJTElBUkVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQ29udmllcnRlIHVuIHByb2R1Y3RvIGRlbCBmb3JtYXRvIGFudGlndW8gYWwgbnVldm9cclxuICogQHBhcmFtIG9sZFByb2R1Y3QgLSBQcm9kdWN0byBlbiBmb3JtYXRvIGFudGlndW9cclxuICogQHJldHVybnMgUHJvZHVjdFdpdGhDYXRlZ29yeVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lQcm9kdWN0KG9sZFByb2R1Y3Q6IGFueSk6IFByb2R1Y3RXaXRoQ2F0ZWdvcnkge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogb2xkUHJvZHVjdC5pZCxcclxuICAgIG5hbWU6IG9sZFByb2R1Y3QudGl0bGUsXHJcbiAgICBicmFuZDogb2xkUHJvZHVjdC5icmFuZCB8fCBudWxsLCAvLyBNYXJjYSBkZWwgcHJvZHVjdG8gbGVnYWN5XHJcbiAgICBzbHVnOiBvbGRQcm9kdWN0LnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXowLTldKy9nLCAnLScpLFxyXG4gICAgZGVzY3JpcHRpb246IGBQcm9kdWN0byAke29sZFByb2R1Y3QudGl0bGV9YCxcclxuICAgIHByaWNlOiBvbGRQcm9kdWN0LnByaWNlLFxyXG4gICAgZGlzY291bnRlZF9wcmljZTogb2xkUHJvZHVjdC5kaXNjb3VudGVkUHJpY2UsXHJcbiAgICBzdG9jazogNTAsIC8vIFN0b2NrIHBvciBkZWZlY3RvXHJcbiAgICBjYXRlZ29yeV9pZDogMSwgLy8gQ2F0ZWdvcsOtYSBwb3IgZGVmZWN0b1xyXG4gICAgaW1hZ2VzOiBvbGRQcm9kdWN0LmltZ3MsXHJcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB1cGRhdGVkX2F0OiBudWxsLCAvLyBDYW1wbyByZXF1ZXJpZG8gcG9yIGVsIHRpcG9cclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYSBlbCBwb3JjZW50YWplIGRlIGRlc2N1ZW50b1xyXG4gKiBAcGFyYW0gb3JpZ2luYWxQcmljZSAtIFByZWNpbyBvcmlnaW5hbFxyXG4gKiBAcGFyYW0gZGlzY291bnRlZFByaWNlIC0gUHJlY2lvIGNvbiBkZXNjdWVudG9cclxuICogQHJldHVybnMgbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGlzY291bnRQZXJjZW50YWdlKFxyXG4gIG9yaWdpbmFsUHJpY2U6IG51bWJlcixcclxuICBkaXNjb3VudGVkUHJpY2U6IG51bWJlclxyXG4pOiBudW1iZXIge1xyXG4gIGlmICghZGlzY291bnRlZFByaWNlIHx8IGRpc2NvdW50ZWRQcmljZSA+PSBvcmlnaW5hbFByaWNlKSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIE1hdGgucm91bmQoKChvcmlnaW5hbFByaWNlIC0gZGlzY291bnRlZFByaWNlKSAvIG9yaWdpbmFsUHJpY2UpICogMTAwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdGVhIGVsIHByZWNpbyBwYXJhIG1vc3RyYXJcclxuICogQHBhcmFtIHByaWNlIC0gUHJlY2lvXHJcbiAqIEBwYXJhbSBjdXJyZW5jeSAtIE1vbmVkYVxyXG4gKiBAcmV0dXJucyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRQcmljZShwcmljZTogbnVtYmVyLCBjdXJyZW5jeTogc3RyaW5nID0gJ0FSUycpOiBzdHJpbmcge1xyXG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VzLUFSJywge1xyXG4gICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICBjdXJyZW5jeSxcclxuICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCxcclxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMixcclxuICB9KS5mb3JtYXQocHJpY2UpO1xyXG59XHJcblxyXG4vKipcclxuICogVmVyaWZpY2Egc2kgdW4gcHJvZHVjdG8gZXN0w6EgZW4gc3RvY2tcclxuICogQHBhcmFtIHByb2R1Y3QgLSBQcm9kdWN0b1xyXG4gKiBAcmV0dXJucyBib29sZWFuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9kdWN0SW5TdG9jayhwcm9kdWN0OiBQcm9kdWN0V2l0aENhdGVnb3J5KTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHByb2R1Y3Quc3RvY2sgPiAwO1xyXG59XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBsYSBVUkwgZGUgbGEgaW1hZ2VuIHByaW5jaXBhbCBkZWwgcHJvZHVjdG9cclxuICogQHBhcmFtIHByb2R1Y3QgLSBQcm9kdWN0b1xyXG4gKiBAcmV0dXJucyBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9kdWN0TWFpbkltYWdlKHByb2R1Y3Q6IFByb2R1Y3RXaXRoQ2F0ZWdvcnkpOiBzdHJpbmcge1xyXG4gIGlmIChwcm9kdWN0LmltYWdlcz8ucHJldmlld3M/LlswXSkge1xyXG4gICAgcmV0dXJuIHByb2R1Y3QuaW1hZ2VzLnByZXZpZXdzWzBdO1xyXG4gIH1cclxuICBcclxuICBpZiAocHJvZHVjdC5pbWFnZXM/LnRodW1ibmFpbHM/LlswXSkge1xyXG4gICAgcmV0dXJuIHByb2R1Y3QuaW1hZ2VzLnRodW1ibmFpbHNbMF07XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiAnL2ltYWdlcy9wcm9kdWN0cy9wbGFjZWhvbGRlci5qcGcnO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjYWxjdWxhdGVEaXNjb3VudFBlcmNlbnRhZ2UiLCJjb252ZXJ0TGVnYWN5UHJvZHVjdCIsImZvcm1hdFByaWNlIiwiZ2V0RGlzY291bnRlZFByb2R1Y3RzIiwiZ2V0UHJvZHVjdEJ5SWQiLCJnZXRQcm9kdWN0TWFpbkltYWdlIiwiZ2V0UHJvZHVjdHMiLCJnZXRQcm9kdWN0c0J5QnJhbmQiLCJnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJnZXRSZWxhdGVkUHJvZHVjdHMiLCJpc1Byb2R1Y3RJblN0b2NrIiwic2VhcmNoUHJvZHVjdHMiLCJmaWx0ZXJzIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImFwcGVuZCIsInRvU3RyaW5nIiwidXJsIiwiREVCVUdfTU9ERSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwicmVzdWx0Iiwic2FmZUFwaVJlc3BvbnNlSnNvbiIsInN1Y2Nlc3MiLCJjb25zb2xlIiwiZXJyb3IiLCJkYXRhIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwidG90YWxQYWdlcyIsIm1lc3NhZ2UiLCJFcnJvciIsImlkIiwic2VhcmNoVGVybSIsInNlYXJjaCIsImNhdGVnb3J5U2x1ZyIsImNhdGVnb3J5IiwiZGlzY291bnRlZFByb2R1Y3RzIiwiZmlsdGVyIiwicHJvZHVjdCIsImRpc2NvdW50ZWRfcHJpY2UiLCJwcmljZSIsImJyYW5kTmFtZSIsImJyYW5kIiwicHJvZHVjdElkIiwiY2F0ZWdvcnlJZCIsInNsaWNlIiwib2xkUHJvZHVjdCIsIm5hbWUiLCJ0aXRsZSIsInNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJkZXNjcmlwdGlvbiIsImRpc2NvdW50ZWRQcmljZSIsInN0b2NrIiwiY2F0ZWdvcnlfaWQiLCJpbWFnZXMiLCJpbWdzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJvcmlnaW5hbFByaWNlIiwiTWF0aCIsInJvdW5kIiwiY3VycmVuY3kiLCJJbnRsIiwiTnVtYmVyRm9ybWF0Iiwic3R5bGUiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJmb3JtYXQiLCJwcmV2aWV3cyIsInRodW1ibmFpbHMiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0Qyx1REFBdUQ7QUFDdkQsc0NBQXNDOzs7Ozs7Ozs7Ozs7SUE0UnRCQSwyQkFBMkI7ZUFBM0JBOztJQXZCQUMsb0JBQW9CO2VBQXBCQTs7SUF3Q0FDLFdBQVc7ZUFBWEE7O0lBaElNQyxxQkFBcUI7ZUFBckJBOztJQWpFQUMsY0FBYztlQUFkQTs7SUF3Tk5DLG1CQUFtQjtlQUFuQkE7O0lBdFRNQyxXQUFXO2VBQVhBOztJQXlMQUMsa0JBQWtCO2VBQWxCQTs7SUE1Q0FDLHFCQUFxQjtlQUFyQkE7O0lBK0RBQyxrQkFBa0I7ZUFBbEJBOztJQWlHTkMsZ0JBQWdCO2VBQWhCQTs7SUFsTE1DLGNBQWM7ZUFBZEE7OzsyQkF0SWM7QUFXN0IsZUFBZUwsWUFBWU0sT0FBd0I7SUFDeEQsSUFBSTtRQUNGLE1BQU1DLGVBQWUsSUFBSUM7UUFFekIsSUFBSUYsU0FBUztZQUNYRyxPQUFPQyxPQUFPLENBQUNKLFNBQVNLLE9BQU8sQ0FBQyxDQUFDLENBQUNDLEtBQUtDLE1BQU07Z0JBQzNDLElBQUlBLFVBQVVDLGFBQWFELFVBQVUsTUFBTTtvQkFDekNOLGFBQWFRLE1BQU0sQ0FBQ0gsS0FBS0MsTUFBTUcsUUFBUTtnQkFDekM7WUFDRjtRQUNGO1FB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