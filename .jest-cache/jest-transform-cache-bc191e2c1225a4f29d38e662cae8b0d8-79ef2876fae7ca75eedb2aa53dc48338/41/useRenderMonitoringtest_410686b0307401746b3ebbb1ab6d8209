bff4b3cbeb1e85f5d0e6aa5124011dca
// ===================================
// PINTEYA E-COMMERCE - UNIT TESTS
// Pruebas unitarias para useRenderMonitoring
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _useRenderMonitoring = require("../../hooks/monitoring/useRenderMonitoring");
const _react1 = /*#__PURE__*/ _interop_require_default(require("react"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// ===================================
// MOCKS
// ===================================
// Mock de performance.now()
const mockPerformanceNow = _globals.jest.fn();
Object.defineProperty(global, 'performance', {
    value: {
        now: mockPerformanceNow,
        memory: {
            usedJSHeapSize: 50 * 1024 * 1024 // 50MB
        }
    },
    writable: true
});
// Mock de console
const mockConsoleLog = _globals.jest.spyOn(console, 'log').mockImplementation(()=>{});
const mockConsoleWarn = _globals.jest.spyOn(console, 'warn').mockImplementation(()=>{});
const mockConsoleError = _globals.jest.spyOn(console, 'error').mockImplementation(()=>{});
// Mock de localStorage
const mockLocalStorage = {
    getItem: _globals.jest.fn(),
    setItem: _globals.jest.fn(),
    removeItem: _globals.jest.fn(),
    clear: _globals.jest.fn()
};
Object.defineProperty(global, 'localStorage', {
    value: mockLocalStorage,
    writable: true
});
// ===================================
// SETUP Y CLEANUP
// ===================================
(0, _globals.beforeEach)(()=>{
    _globals.jest.clearAllMocks();
    mockPerformanceNow.mockReturnValue(1000);
    mockLocalStorage.getItem.mockReturnValue(null);
});
(0, _globals.afterEach)(()=>{
    _globals.jest.clearAllTimers();
});
// ===================================
// TESTS PRINCIPALES
// ===================================
(0, _globals.describe)('useRenderMonitoring', ()=>{
    (0, _globals.describe)('Inicialización', ()=>{
        (0, _globals.it)('debe inicializar con configuración por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
            (0, _globals.expect)(result.current.metrics).toBeDefined();
            (0, _globals.expect)(result.current.alerts).toEqual([]);
            (0, _globals.expect)(typeof result.current.trackError).toBe('function');
        });
        (0, _globals.it)('debe respetar la configuración personalizada', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enabled: false,
                    enableConsoleLogging: false,
                    enableToasts: false
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(false);
        });
        (0, _globals.it)('debe aplicar thresholds personalizados', ()=>{
            const customThresholds = {
                slowRenderThreshold: 20,
                maxRenderCount: 50,
                memoryThreshold: 100,
                errorThreshold: 5
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: customThresholds
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
        });
    });
    (0, _globals.describe)('Tracking de renders', ()=>{
        (0, _globals.it)('debe trackear renders correctamente', ()=>{
            let renderCount = 0;
            mockPerformanceNow.mockReturnValueOnce(1000) // Inicio del render
            .mockReturnValueOnce(1010); // Fin del render (10ms)
            const { result, rerender } = (0, _react.renderHook)(()=>{
                renderCount++;
                return (0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: true
                });
            });
            // Forzar re-render
            rerender();
            (0, _globals.expect)(result.current.metrics?.renderCount).toBeGreaterThan(0);
        });
        (0, _globals.it)('debe detectar renders lentos', ()=>{
            mockPerformanceNow.mockReturnValueOnce(1000) // Inicio
            .mockReturnValueOnce(1100); // Fin (100ms - lento)
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        slowRenderThreshold: 50 // 50ms threshold
                    }
                }));
            rerender();
            (0, _globals.expect)(result.current.metrics?.slowRenders).toBeGreaterThan(0);
        });
        (0, _globals.it)('debe calcular tiempo promedio de render', ()=>{
            // Simular múltiples renders con diferentes tiempos
            mockPerformanceNow.mockReturnValueOnce(1000).mockReturnValueOnce(1010) // 10ms
            .mockReturnValueOnce(2000).mockReturnValueOnce(2020) // 20ms
            .mockReturnValueOnce(3000).mockReturnValueOnce(3030); // 30ms
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            rerender();
            rerender();
            rerender();
            // Promedio debería ser (10 + 20 + 30) / 3 = 20ms
            (0, _globals.expect)(result.current.metrics?.averageRenderTime).toBeCloseTo(20, 1);
        });
    });
    (0, _globals.describe)('Tracking de errores', ()=>{
        (0, _globals.it)('debe trackear errores correctamente', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            const testError = new Error('Test error');
            (0, _react.act)(()=>{
                result.current.trackError(testError, {
                    action: 'test_action',
                    context: 'test_context'
                });
            });
            (0, _globals.expect)(result.current.metrics?.errorCount).toBe(1);
        });
        (0, _globals.it)('debe generar alertas por errores frecuentes', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 2 // 2 errores por minuto
                    }
                }));
            const testError = new Error('Test error');
            (0, _react.act)(()=>{
                // Generar múltiples errores
                result.current.trackError(testError);
                result.current.trackError(testError);
                result.current.trackError(testError);
            });
            (0, _globals.expect)(result.current.alerts.length).toBeGreaterThan(0);
            (0, _globals.expect)(result.current.alerts[0].type).toBe('high_error_rate');
        });
    });
    (0, _globals.describe)('Monitoreo de memoria', ()=>{
        (0, _globals.it)('debe trackear uso de memoria', ()=>{
            // Mock de performance.memory con alto uso
            Object.defineProperty(global.performance, 'memory', {
                value: {
                    usedJSHeapSize: 150 * 1024 * 1024 // 150MB
                },
                configurable: true
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        memoryThreshold: 100 // 100MB threshold
                    }
                }));
            (0, _globals.expect)(result.current.metrics?.memoryUsage).toBeGreaterThan(100);
        });
        (0, _globals.it)('debe generar alertas por alto uso de memoria', ()=>{
            Object.defineProperty(global.performance, 'memory', {
                value: {
                    usedJSHeapSize: 200 * 1024 * 1024 // 200MB
                },
                configurable: true
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        memoryThreshold: 100 // 100MB threshold
                    }
                }));
            (0, _globals.expect)(result.current.alerts.some((alert)=>alert.type === 'high_memory_usage')).toBe(true);
        });
    });
    (0, _globals.describe)('Sistema de alertas', ()=>{
        (0, _globals.it)('debe generar alertas con severidad correcta', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 1
                    }
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Critical error'));
            });
            const alert = result.current.alerts[0];
            (0, _globals.expect)(alert).toBeDefined();
            (0, _globals.expect)([
                'low',
                'medium',
                'high',
                'critical'
            ]).toContain(alert.severity);
        });
        (0, _globals.it)('debe limpiar alertas resueltas', ()=>{
            _globals.jest.useFakeTimers();
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 1
                    }
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Test error'));
            });
            (0, _globals.expect)(result.current.alerts.length).toBeGreaterThan(0);
            // Avanzar tiempo para que las alertas se resuelvan automáticamente
            (0, _react.act)(()=>{
                _globals.jest.advanceTimersByTime(5 * 60 * 1000); // 5 minutos
            });
            // Las alertas deberían estar marcadas como resueltas o eliminadas
            const unresolvedAlerts = result.current.alerts.filter((a)=>!a.resolved);
            (0, _globals.expect)(unresolvedAlerts.length).toBeLessThanOrEqual(result.current.alerts.length);
            _globals.jest.useRealTimers();
        });
    });
    (0, _globals.describe)('Persistencia de datos', ()=>{
        (0, _globals.it)('debe guardar métricas en localStorage', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enablePersistence: true
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Test error'));
            });
            (0, _globals.expect)(mockLocalStorage.setItem).toHaveBeenCalled();
        });
        (0, _globals.it)('debe cargar métricas desde localStorage', ()=>{
            const savedMetrics = {
                renderCount: 10,
                errorCount: 2,
                slowRenders: 1,
                averageRenderTime: 15.5,
                memoryUsage: 75.2
            };
            mockLocalStorage.getItem.mockReturnValue(JSON.stringify(savedMetrics));
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enablePersistence: true
                }));
            (0, _globals.expect)(result.current.metrics?.renderCount).toBe(10);
            (0, _globals.expect)(result.current.metrics?.errorCount).toBe(2);
        });
    });
    (0, _globals.describe)('Configuración dinámica', ()=>{
        (0, _globals.it)('debe permitir habilitar/deshabilitar monitoreo', ()=>{
            const { result, rerender } = (0, _react.renderHook)(({ enabled })=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enabled
                }), {
                initialProps: {
                    enabled: true
                }
            });
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
            rerender({
                enabled: false
            });
            (0, _globals.expect)(result.current.isEnabled).toBe(false);
        });
        (0, _globals.it)('debe actualizar thresholds dinámicamente', ()=>{
            const { result, rerender } = (0, _react.renderHook)(({ threshold })=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        slowRenderThreshold: threshold
                    }
                }), {
                initialProps: {
                    threshold: 16
                }
            });
            // Cambiar threshold
            rerender({
                threshold: 50
            });
            // El hook debería usar el nuevo threshold
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
        });
    });
    (0, _globals.describe)('Logging y debugging', ()=>{
        (0, _globals.it)('debe loggear información cuando está habilitado', ()=>{
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: true
                }));
            rerender(); // Forzar re-render
            (0, _globals.expect)(mockConsoleLog).toHaveBeenCalled();
        });
        (0, _globals.it)('no debe loggear cuando está deshabilitado', ()=>{
            mockConsoleLog.mockClear();
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: false
                }));
            rerender();
            (0, _globals.expect)(mockConsoleLog).not.toHaveBeenCalled();
        });
    });
});
// ===================================
// TESTS PARA HOC
// ===================================
(0, _globals.describe)('withRenderMonitoring HOC', ()=>{
    (0, _globals.it)('debe envolver componente correctamente', ()=>{
        const TestComponent = ({ title })=>{
            return _react1.default.createElement('div', null, title);
        };
        const WrappedComponent = (0, _useRenderMonitoring.withRenderMonitoring)(TestComponent, {
            enabled: true,
            enableConsoleLogging: true
        });
        (0, _globals.expect)(WrappedComponent).toBeDefined();
        (0, _globals.expect)(typeof WrappedComponent).toBe('function');
    });
    (0, _globals.it)('debe pasar props correctamente al componente envuelto', ()=>{
        const TestComponent = ({ title, count })=>{
            return _react1.default.createElement('div', null, `${title}: ${count}`);
        };
        const WrappedComponent = (0, _useRenderMonitoring.withRenderMonitoring)(TestComponent, {
            enabled: true
        });
        const { container } = render(_react1.default.createElement(WrappedComponent, {
            title: 'Test',
            count: 42
        }));
        (0, _globals.expect)(container.textContent).toBe('Test: 42');
    });
});
// Helper para render (simplificado para el test)
function render(element) {
    const container = document.createElement('div');
    // Simulación básica de render para el test
    return {
        container
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlUmVuZGVyTW9uaXRvcmluZy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBVTklUIFRFU1RTXG4vLyBQcnVlYmFzIHVuaXRhcmlhcyBwYXJhIHVzZVJlbmRlck1vbml0b3Jpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgamVzdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgdXNlUmVuZGVyTW9uaXRvcmluZywgd2l0aFJlbmRlck1vbml0b3JpbmcgfSBmcm9tICdAL2hvb2tzL21vbml0b3JpbmcvdXNlUmVuZGVyTW9uaXRvcmluZyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTU9DS1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIE1vY2sgZGUgcGVyZm9ybWFuY2Uubm93KClcbmNvbnN0IG1vY2tQZXJmb3JtYW5jZU5vdyA9IGplc3QuZm4oKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdwZXJmb3JtYW5jZScsIHtcbiAgdmFsdWU6IHtcbiAgICBub3c6IG1vY2tQZXJmb3JtYW5jZU5vdyxcbiAgICBtZW1vcnk6IHtcbiAgICAgIHVzZWRKU0hlYXBTaXplOiA1MCAqIDEwMjQgKiAxMDI0IC8vIDUwTUJcbiAgICB9XG4gIH0sXG4gIHdyaXRhYmxlOiB0cnVlXG59KTtcblxuLy8gTW9jayBkZSBjb25zb2xlXG5jb25zdCBtb2NrQ29uc29sZUxvZyA9IGplc3Quc3B5T24oY29uc29sZSwgJ2xvZycpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG5jb25zdCBtb2NrQ29uc29sZVdhcm4gPSBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbmNvbnN0IG1vY2tDb25zb2xlRXJyb3IgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG5cbi8vIE1vY2sgZGUgbG9jYWxTdG9yYWdlXG5jb25zdCBtb2NrTG9jYWxTdG9yYWdlID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbCwgJ2xvY2FsU3RvcmFnZScsIHtcbiAgdmFsdWU6IG1vY2tMb2NhbFN0b3JhZ2UsXG4gIHdyaXRhYmxlOiB0cnVlXG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNFVFVQIFkgQ0xFQU5VUFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICBtb2NrUGVyZm9ybWFuY2VOb3cubW9ja1JldHVyblZhbHVlKDEwMDApO1xuICBtb2NrTG9jYWxTdG9yYWdlLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlKG51bGwpO1xufSk7XG5cbmFmdGVyRWFjaCgoKSA9PiB7XG4gIGplc3QuY2xlYXJBbGxUaW1lcnMoKTtcbn0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVFMgUFJJTkNJUEFMRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmRlc2NyaWJlKCd1c2VSZW5kZXJNb25pdG9yaW5nJywgKCkgPT4ge1xuICBkZXNjcmliZSgnSW5pY2lhbGl6YWNpw7NuJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIGluaWNpYWxpemFyIGNvbiBjb25maWd1cmFjacOzbiBwb3IgZGVmZWN0bycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCdcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hbGVydHMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgcmVzcGV0YXIgbGEgY29uZmlndXJhY2nDs24gcGVyc29uYWxpemFkYScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgZW5hYmxlQ29uc29sZUxvZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgIGVuYWJsZVRvYXN0czogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgYXBsaWNhciB0aHJlc2hvbGRzIHBlcnNvbmFsaXphZG9zJywgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tVGhyZXNob2xkcyA9IHtcbiAgICAgICAgc2xvd1JlbmRlclRocmVzaG9sZDogMjAsXG4gICAgICAgIG1heFJlbmRlckNvdW50OiA1MCxcbiAgICAgICAgbWVtb3J5VGhyZXNob2xkOiAxMDAsXG4gICAgICAgIGVycm9yVGhyZXNob2xkOiA1XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIHRocmVzaG9sZHM6IGN1c3RvbVRocmVzaG9sZHNcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUcmFja2luZyBkZSByZW5kZXJzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRyYWNrZWFyIHJlbmRlcnMgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGxldCByZW5kZXJDb3VudCA9IDA7XG4gICAgICBtb2NrUGVyZm9ybWFuY2VOb3dcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwMCkgLy8gSW5pY2lvIGRlbCByZW5kZXJcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAxMCk7IC8vIEZpbiBkZWwgcmVuZGVyICgxMG1zKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4ge1xuICAgICAgICByZW5kZXJDb3VudCsrO1xuICAgICAgICByZXR1cm4gdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZUNvbnNvbGVMb2dnaW5nOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEZvcnphciByZS1yZW5kZXJcbiAgICAgIHJlcmVuZGVyKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5tZXRyaWNzPy5yZW5kZXJDb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgZGV0ZWN0YXIgcmVuZGVycyBsZW50b3MnLCAoKSA9PiB7XG4gICAgICBtb2NrUGVyZm9ybWFuY2VOb3dcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwMCkgLy8gSW5pY2lvXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKDExMDApOyAvLyBGaW4gKDEwMG1zIC0gbGVudG8pXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCByZXJlbmRlciB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIHRocmVzaG9sZHM6IHtcbiAgICAgICAgICAgIHNsb3dSZW5kZXJUaHJlc2hvbGQ6IDUwIC8vIDUwbXMgdGhyZXNob2xkXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmVyZW5kZXIoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/LnNsb3dSZW5kZXJzKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSBjYWxjdWxhciB0aWVtcG8gcHJvbWVkaW8gZGUgcmVuZGVyJywgKCkgPT4ge1xuICAgICAgLy8gU2ltdWxhciBtw7psdGlwbGVzIHJlbmRlcnMgY29uIGRpZmVyZW50ZXMgdGllbXBvc1xuICAgICAgbW9ja1BlcmZvcm1hbmNlTm93XG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKDEwMDApLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAxMCkgLy8gMTBtc1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgyMDAwKS5tb2NrUmV0dXJuVmFsdWVPbmNlKDIwMjApIC8vIDIwbXNcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMzAwMCkubW9ja1JldHVyblZhbHVlT25jZSgzMDMwKTsgLy8gMzBtc1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50J1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmVyZW5kZXIoKTtcbiAgICAgIHJlcmVuZGVyKCk7XG4gICAgICByZXJlbmRlcigpO1xuXG4gICAgICAvLyBQcm9tZWRpbyBkZWJlcsOtYSBzZXIgKDEwICsgMjAgKyAzMCkgLyAzID0gMjBtc1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/LmF2ZXJhZ2VSZW5kZXJUaW1lKS50b0JlQ2xvc2VUbygyMCwgMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUcmFja2luZyBkZSBlcnJvcmVzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRyYWNrZWFyIGVycm9yZXMgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCdcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHRlc3RFcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKHRlc3RFcnJvciwge1xuICAgICAgICAgIGFjdGlvbjogJ3Rlc3RfYWN0aW9uJyxcbiAgICAgICAgICBjb250ZXh0OiAndGVzdF9jb250ZXh0J1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcz8uZXJyb3JDb3VudCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIGdlbmVyYXIgYWxlcnRhcyBwb3IgZXJyb3JlcyBmcmVjdWVudGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBlcnJvclRocmVzaG9sZDogMiAvLyAyIGVycm9yZXMgcG9yIG1pbnV0b1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHRlc3RFcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICAvLyBHZW5lcmFyIG3Dumx0aXBsZXMgZXJyb3Jlc1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKHRlc3RFcnJvcik7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRXJyb3IodGVzdEVycm9yKTtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcih0ZXN0RXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hbGVydHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWxlcnRzWzBdLnR5cGUpLnRvQmUoJ2hpZ2hfZXJyb3JfcmF0ZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9uaXRvcmVvIGRlIG1lbW9yaWEnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgdHJhY2tlYXIgdXNvIGRlIG1lbW9yaWEnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGRlIHBlcmZvcm1hbmNlLm1lbW9yeSBjb24gYWx0byB1c29cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwucGVyZm9ybWFuY2UsICdtZW1vcnknLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgdXNlZEpTSGVhcFNpemU6IDE1MCAqIDEwMjQgKiAxMDI0IC8vIDE1ME1CXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgbWVtb3J5VGhyZXNob2xkOiAxMDAgLy8gMTAwTUIgdGhyZXNob2xkXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/Lm1lbW9yeVVzYWdlKS50b0JlR3JlYXRlclRoYW4oMTAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIGdlbmVyYXIgYWxlcnRhcyBwb3IgYWx0byB1c28gZGUgbWVtb3JpYScsICgpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwucGVyZm9ybWFuY2UsICdtZW1vcnknLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgdXNlZEpTSGVhcFNpemU6IDIwMCAqIDEwMjQgKiAxMDI0IC8vIDIwME1CXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgbWVtb3J5VGhyZXNob2xkOiAxMDAgLy8gMTAwTUIgdGhyZXNob2xkXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFsZXJ0cy5zb21lKGFsZXJ0ID0+IFxuICAgICAgICBhbGVydC50eXBlID09PSAnaGlnaF9tZW1vcnlfdXNhZ2UnXG4gICAgICApKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2lzdGVtYSBkZSBhbGVydGFzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIGdlbmVyYXIgYWxlcnRhcyBjb24gc2V2ZXJpZGFkIGNvcnJlY3RhJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBlcnJvclRocmVzaG9sZDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRXJyb3IobmV3IEVycm9yKCdDcml0aWNhbCBlcnJvcicpKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhbGVydCA9IHJlc3VsdC5jdXJyZW50LmFsZXJ0c1swXTtcbiAgICAgIGV4cGVjdChhbGVydCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddKS50b0NvbnRhaW4oYWxlcnQuc2V2ZXJpdHkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgbGltcGlhciBhbGVydGFzIHJlc3VlbHRhcycsICgpID0+IHtcbiAgICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgZXJyb3JUaHJlc2hvbGQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKG5ldyBFcnJvcignVGVzdCBlcnJvcicpKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWxlcnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICAvLyBBdmFuemFyIHRpZW1wbyBwYXJhIHF1ZSBsYXMgYWxlcnRhcyBzZSByZXN1ZWx2YW4gYXV0b23DoXRpY2FtZW50ZVxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDUgKiA2MCAqIDEwMDApOyAvLyA1IG1pbnV0b3NcbiAgICAgIH0pO1xuXG4gICAgICAvLyBMYXMgYWxlcnRhcyBkZWJlcsOtYW4gZXN0YXIgbWFyY2FkYXMgY29tbyByZXN1ZWx0YXMgbyBlbGltaW5hZGFzXG4gICAgICBjb25zdCB1bnJlc29sdmVkQWxlcnRzID0gcmVzdWx0LmN1cnJlbnQuYWxlcnRzLmZpbHRlcihhID0+ICFhLnJlc29sdmVkKTtcbiAgICAgIGV4cGVjdCh1bnJlc29sdmVkQWxlcnRzLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbChyZXN1bHQuY3VycmVudC5hbGVydHMubGVuZ3RoKTtcblxuICAgICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJzaXN0ZW5jaWEgZGUgZGF0b3MnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgZ3VhcmRhciBtw6l0cmljYXMgZW4gbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVQZXJzaXN0ZW5jZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcihuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tMb2NhbFN0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgY2FyZ2FyIG3DqXRyaWNhcyBkZXNkZSBsb2NhbFN0b3JhZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzYXZlZE1ldHJpY3MgPSB7XG4gICAgICAgIHJlbmRlckNvdW50OiAxMCxcbiAgICAgICAgZXJyb3JDb3VudDogMixcbiAgICAgICAgc2xvd1JlbmRlcnM6IDEsXG4gICAgICAgIGF2ZXJhZ2VSZW5kZXJUaW1lOiAxNS41LFxuICAgICAgICBtZW1vcnlVc2FnZTogNzUuMlxuICAgICAgfTtcblxuICAgICAgbW9ja0xvY2FsU3RvcmFnZS5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShKU09OLnN0cmluZ2lmeShzYXZlZE1ldHJpY3MpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVQZXJzaXN0ZW5jZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/LnJlbmRlckNvdW50KS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5tZXRyaWNzPy5lcnJvckNvdW50KS50b0JlKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uZmlndXJhY2nDs24gZGluw6FtaWNhJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHBlcm1pdGlyIGhhYmlsaXRhci9kZXNoYWJpbGl0YXIgbW9uaXRvcmVvJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKFxuICAgICAgICAoeyBlbmFibGVkIH0pID0+IHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVkXG4gICAgICAgIH0pLFxuICAgICAgICB7IGluaXRpYWxQcm9wczogeyBlbmFibGVkOiB0cnVlIH0gfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcblxuICAgICAgcmVyZW5kZXIoeyBlbmFibGVkOiBmYWxzZSB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgYWN0dWFsaXphciB0aHJlc2hvbGRzIGRpbsOhbWljYW1lbnRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKFxuICAgICAgICAoeyB0aHJlc2hvbGQgfSkgPT4gdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIHRocmVzaG9sZHM6IHtcbiAgICAgICAgICAgIHNsb3dSZW5kZXJUaHJlc2hvbGQ6IHRocmVzaG9sZFxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHsgaW5pdGlhbFByb3BzOiB7IHRocmVzaG9sZDogMTYgfSB9XG4gICAgICApO1xuXG4gICAgICAvLyBDYW1iaWFyIHRocmVzaG9sZFxuICAgICAgcmVyZW5kZXIoeyB0aHJlc2hvbGQ6IDUwIH0pO1xuXG4gICAgICAvLyBFbCBob29rIGRlYmVyw61hIHVzYXIgZWwgbnVldm8gdGhyZXNob2xkXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9nZ2luZyB5IGRlYnVnZ2luZycsICgpID0+IHtcbiAgICBpdCgnZGViZSBsb2dnZWFyIGluZm9ybWFjacOzbiBjdWFuZG8gZXN0w6EgaGFiaWxpdGFkbycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCByZXJlbmRlciB9ID0gcmVuZGVySG9vaygoKSA9PiBcbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZUNvbnNvbGVMb2dnaW5nOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXJlbmRlcigpOyAvLyBGb3J6YXIgcmUtcmVuZGVyXG5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ25vIGRlYmUgbG9nZ2VhciBjdWFuZG8gZXN0w6EgZGVzaGFiaWxpdGFkbycsICgpID0+IHtcbiAgICAgIG1vY2tDb25zb2xlTG9nLm1vY2tDbGVhcigpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gXG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVDb25zb2xlTG9nZ2luZzogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJlcmVuZGVyKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRFU1RTIFBBUkEgSE9DXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kZXNjcmliZSgnd2l0aFJlbmRlck1vbml0b3JpbmcgSE9DJywgKCkgPT4ge1xuICBpdCgnZGViZSBlbnZvbHZlciBjb21wb25lbnRlIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgY29uc3QgVGVzdENvbXBvbmVudDogUmVhY3QuRkM8eyB0aXRsZTogc3RyaW5nIH0+ID0gKHsgdGl0bGUgfSkgPT4ge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwsIHRpdGxlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgV3JhcHBlZENvbXBvbmVudCA9IHdpdGhSZW5kZXJNb25pdG9yaW5nKFRlc3RDb21wb25lbnQsIHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBlbmFibGVDb25zb2xlTG9nZ2luZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgZXhwZWN0KFdyYXBwZWRDb21wb25lbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50KS50b0JlKCdmdW5jdGlvbicpO1xuICB9KTtcblxuICBpdCgnZGViZSBwYXNhciBwcm9wcyBjb3JyZWN0YW1lbnRlIGFsIGNvbXBvbmVudGUgZW52dWVsdG8nLCAoKSA9PiB7XG4gICAgY29uc3QgVGVzdENvbXBvbmVudDogUmVhY3QuRkM8eyB0aXRsZTogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+ID0gKHsgdGl0bGUsIGNvdW50IH0pID0+IHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBudWxsLCBgJHt0aXRsZX06ICR7Y291bnR9YCk7XG4gICAgfTtcblxuICAgIGNvbnN0IFdyYXBwZWRDb21wb25lbnQgPSB3aXRoUmVuZGVyTW9uaXRvcmluZyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICBlbmFibGVkOiB0cnVlXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB7IHRpdGxlOiAnVGVzdCcsIGNvdW50OiA0MiB9KVxuICAgICk7XG5cbiAgICBleHBlY3QoY29udGFpbmVyLnRleHRDb250ZW50KS50b0JlKCdUZXN0OiA0MicpO1xuICB9KTtcbn0pO1xuXG4vLyBIZWxwZXIgcGFyYSByZW5kZXIgKHNpbXBsaWZpY2FkbyBwYXJhIGVsIHRlc3QpXG5mdW5jdGlvbiByZW5kZXIoZWxlbWVudDogUmVhY3QuUmVhY3RFbGVtZW50KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAvLyBTaW11bGFjacOzbiBiw6FzaWNhIGRlIHJlbmRlciBwYXJhIGVsIHRlc3RcbiAgcmV0dXJuIHsgY29udGFpbmVyIH07XG59Il0sIm5hbWVzIjpbIm1vY2tQZXJmb3JtYW5jZU5vdyIsImplc3QiLCJmbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2xvYmFsIiwidmFsdWUiLCJub3ciLCJtZW1vcnkiLCJ1c2VkSlNIZWFwU2l6ZSIsIndyaXRhYmxlIiwibW9ja0NvbnNvbGVMb2ciLCJzcHlPbiIsImNvbnNvbGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtb2NrQ29uc29sZVdhcm4iLCJtb2NrQ29uc29sZUVycm9yIiwibW9ja0xvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJjbGVhckFsbFRpbWVycyIsImRlc2NyaWJlIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlUmVuZGVyTW9uaXRvcmluZyIsImNvbXBvbmVudE5hbWUiLCJleHBlY3QiLCJjdXJyZW50IiwiaXNFbmFibGVkIiwidG9CZSIsIm1ldHJpY3MiLCJ0b0JlRGVmaW5lZCIsImFsZXJ0cyIsInRvRXF1YWwiLCJ0cmFja0Vycm9yIiwiZW5hYmxlZCIsImVuYWJsZUNvbnNvbGVMb2dnaW5nIiwiZW5hYmxlVG9hc3RzIiwiY3VzdG9tVGhyZXNob2xkcyIsInNsb3dSZW5kZXJUaHJlc2hvbGQiLCJtYXhSZW5kZXJDb3VudCIsIm1lbW9yeVRocmVzaG9sZCIsImVycm9yVGhyZXNob2xkIiwidGhyZXNob2xkcyIsInJlbmRlckNvdW50IiwibW9ja1JldHVyblZhbHVlT25jZSIsInJlcmVuZGVyIiwidG9CZUdyZWF0ZXJUaGFuIiwic2xvd1JlbmRlcnMiLCJhdmVyYWdlUmVuZGVyVGltZSIsInRvQmVDbG9zZVRvIiwidGVzdEVycm9yIiwiRXJyb3IiLCJhY3QiLCJhY3Rpb24iLCJjb250ZXh0IiwiZXJyb3JDb3VudCIsImxlbmd0aCIsInR5cGUiLCJwZXJmb3JtYW5jZSIsImNvbmZpZ3VyYWJsZSIsIm1lbW9yeVVzYWdlIiwic29tZSIsImFsZXJ0IiwidG9Db250YWluIiwic2V2ZXJpdHkiLCJ1c2VGYWtlVGltZXJzIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsInVucmVzb2x2ZWRBbGVydHMiLCJmaWx0ZXIiLCJhIiwicmVzb2x2ZWQiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwidXNlUmVhbFRpbWVycyIsImVuYWJsZVBlcnNpc3RlbmNlIiwidG9IYXZlQmVlbkNhbGxlZCIsInNhdmVkTWV0cmljcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbml0aWFsUHJvcHMiLCJ0aHJlc2hvbGQiLCJtb2NrQ2xlYXIiLCJub3QiLCJUZXN0Q29tcG9uZW50IiwidGl0bGUiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJXcmFwcGVkQ29tcG9uZW50Iiwid2l0aFJlbmRlck1vbml0b3JpbmciLCJjb3VudCIsImNvbnRhaW5lciIsInJlbmRlciIsInRleHRDb250ZW50IiwiZWxlbWVudCIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsa0NBQWtDO0FBQ2xDLDZDQUE2QztBQUM3QyxzQ0FBc0M7Ozs7O3VCQUVOO3lCQUM0QjtxQ0FFRjsrREFDeEM7Ozs7OztBQUVsQixzQ0FBc0M7QUFDdEMsUUFBUTtBQUNSLHNDQUFzQztBQUV0Qyw0QkFBNEI7QUFDNUIsTUFBTUEscUJBQXFCQyxhQUFJLENBQUNDLEVBQUU7QUFDbENDLE9BQU9DLGNBQWMsQ0FBQ0MsUUFBUSxlQUFlO0lBQzNDQyxPQUFPO1FBQ0xDLEtBQUtQO1FBQ0xRLFFBQVE7WUFDTkMsZ0JBQWdCLEtBQUssT0FBTyxLQUFLLE9BQU87UUFDMUM7SUFDRjtJQUNBQyxVQUFVO0FBQ1o7QUFFQSxrQkFBa0I7QUFDbEIsTUFBTUMsaUJBQWlCVixhQUFJLENBQUNXLEtBQUssQ0FBQ0MsU0FBUyxPQUFPQyxrQkFBa0IsQ0FBQyxLQUFPO0FBQzVFLE1BQU1DLGtCQUFrQmQsYUFBSSxDQUFDVyxLQUFLLENBQUNDLFNBQVMsUUFBUUMsa0JBQWtCLENBQUMsS0FBTztBQUM5RSxNQUFNRSxtQkFBbUJmLGFBQUksQ0FBQ1csS0FBSyxDQUFDQyxTQUFTLFNBQVNDLGtCQUFrQixDQUFDLEtB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