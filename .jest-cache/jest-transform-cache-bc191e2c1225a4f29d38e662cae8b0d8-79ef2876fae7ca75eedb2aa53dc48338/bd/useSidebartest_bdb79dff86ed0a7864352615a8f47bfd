0653257cf4205b4666479e11566fbdcb
// ===================================
// PINTEYA E-COMMERCE - TESTS PARA HOOK SIDEBAR
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useSidebar = require("../../hooks/useSidebar");
// Mock para eventos del DOM
const mockAddEventListener = jest.fn();
const mockRemoveEventListener = jest.fn();
beforeEach(()=>{
    // Reset mocks
    mockAddEventListener.mockClear();
    mockRemoveEventListener.mockClear();
    // Mock document.addEventListener
    Object.defineProperty(document, 'addEventListener', {
        value: mockAddEventListener,
        writable: true
    });
    Object.defineProperty(document, 'removeEventListener', {
        value: mockRemoveEventListener,
        writable: true
    });
});
describe('useSidebar', ()=>{
    it('should initialize with closed state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        expect(result.current.isOpen).toBe(false);
    });
    it('should toggle sidebar state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        (0, _react.act)(()=>{
            result.current.toggle();
        });
        expect(result.current.isOpen).toBe(true);
        (0, _react.act)(()=>{
            result.current.toggle();
        });
        expect(result.current.isOpen).toBe(false);
    });
    it('should open sidebar', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        (0, _react.act)(()=>{
            result.current.open();
        });
        expect(result.current.isOpen).toBe(true);
    });
    it('should close sidebar', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        // First open it
        (0, _react.act)(()=>{
            result.current.open();
        });
        expect(result.current.isOpen).toBe(true);
        // Then close it
        (0, _react.act)(()=>{
            result.current.close();
        });
        expect(result.current.isOpen).toBe(false);
    });
    it('should add event listeners when sidebar is open', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        (0, _react.act)(()=>{
            result.current.open();
        });
        expect(mockAddEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));
        expect(mockAddEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));
    });
    it('should remove event listeners when sidebar is closed', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        // Open sidebar first
        (0, _react.act)(()=>{
            result.current.open();
        });
        // Then close it
        (0, _react.act)(()=>{
            result.current.close();
        });
        expect(mockRemoveEventListener).toHaveBeenCalledWith('mousedown', expect.any(Function));
        expect(mockRemoveEventListener).toHaveBeenCalledWith('keydown', expect.any(Function));
    });
    it('should provide stable function references', ()=>{
        const { result, rerender } = (0, _react.renderHook)(()=>(0, _useSidebar.useSidebar)());
        const initialToggle = result.current.toggle;
        const initialOpen = result.current.open;
        const initialClose = result.current.close;
        rerender();
        expect(result.current.toggle).toBe(initialToggle);
        expect(result.current.open).toBe(initialOpen);
        expect(result.current.close).toBe(initialClose);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlU2lkZWJhci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBURVNUUyBQQVJBIEhPT0sgU0lERUJBUlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyB1c2VTaWRlYmFyIH0gZnJvbSAnQC9ob29rcy91c2VTaWRlYmFyJztcblxuLy8gTW9jayBwYXJhIGV2ZW50b3MgZGVsIERPTVxuY29uc3QgbW9ja0FkZEV2ZW50TGlzdGVuZXIgPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGplc3QuZm4oKTtcblxuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIC8vIFJlc2V0IG1vY2tzXG4gIG1vY2tBZGRFdmVudExpc3RlbmVyLm1vY2tDbGVhcigpO1xuICBtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lci5tb2NrQ2xlYXIoKTtcbiAgXG4gIC8vIE1vY2sgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdhZGRFdmVudExpc3RlbmVyJywge1xuICAgIHZhbHVlOiBtb2NrQWRkRXZlbnRMaXN0ZW5lcixcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgfSk7XG4gIFxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdyZW1vdmVFdmVudExpc3RlbmVyJywge1xuICAgIHZhbHVlOiBtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lcixcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3VzZVNpZGViYXInLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGNsb3NlZCBzdGF0ZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTaWRlYmFyKCkpO1xuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc09wZW4pLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRvZ2dsZSBzaWRlYmFyIHN0YXRlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNpZGViYXIoKSk7XG4gICAgXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnRvZ2dsZSgpO1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc09wZW4pLnRvQmUodHJ1ZSk7XG4gICAgXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnRvZ2dsZSgpO1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc09wZW4pLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG9wZW4gc2lkZWJhcicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTaWRlYmFyKCkpO1xuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5vcGVuKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzT3BlbikudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjbG9zZSBzaWRlYmFyJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNpZGViYXIoKSk7XG4gICAgXG4gICAgLy8gRmlyc3Qgb3BlbiBpdFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5vcGVuKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzT3BlbikudG9CZSh0cnVlKTtcbiAgICBcbiAgICAvLyBUaGVuIGNsb3NlIGl0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsb3NlKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzT3BlbikudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWRkIGV2ZW50IGxpc3RlbmVycyB3aGVuIHNpZGViYXIgaXMgb3BlbicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTaWRlYmFyKCkpO1xuICAgIFxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5vcGVuKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tBZGRFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbW91c2Vkb3duJywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIGV4cGVjdChtb2NrQWRkRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2tleWRvd24nLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB3aGVuIHNpZGViYXIgaXMgY2xvc2VkJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNpZGViYXIoKSk7XG4gICAgXG4gICAgLy8gT3BlbiBzaWRlYmFyIGZpcnN0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50Lm9wZW4oKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUaGVuIGNsb3NlIGl0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsb3NlKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tSZW1vdmVFdmVudExpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbW91c2Vkb3duJywgZXhwZWN0LmFueShGdW5jdGlvbikpO1xuICAgIGV4cGVjdChtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2tleWRvd24nLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcHJvdmlkZSBzdGFibGUgZnVuY3Rpb24gcmVmZXJlbmNlcycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2lkZWJhcigpKTtcbiAgICBcbiAgICBjb25zdCBpbml0aWFsVG9nZ2xlID0gcmVzdWx0LmN1cnJlbnQudG9nZ2xlO1xuICAgIGNvbnN0IGluaXRpYWxPcGVuID0gcmVzdWx0LmN1cnJlbnQub3BlbjtcbiAgICBjb25zdCBpbml0aWFsQ2xvc2UgPSByZXN1bHQuY3VycmVudC5jbG9zZTtcbiAgICBcbiAgICByZXJlbmRlcigpO1xuICAgIFxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b2dnbGUpLnRvQmUoaW5pdGlhbFRvZ2dsZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm9wZW4pLnRvQmUoaW5pdGlhbE9wZW4pO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jbG9zZSkudG9CZShpbml0aWFsQ2xvc2UpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vY2tBZGRFdmVudExpc3RlbmVyIiwiamVzdCIsImZuIiwibW9ja1JlbW92ZUV2ZW50TGlzdGVuZXIiLCJiZWZvcmVFYWNoIiwibW9ja0NsZWFyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJkb2N1bWVudCIsInZhbHVlIiwid3JpdGFibGUiLCJkZXNjcmliZSIsIml0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZVNpZGViYXIiLCJleHBlY3QiLCJjdXJyZW50IiwiaXNPcGVuIiwidG9CZSIsImFjdCIsInRvZ2dsZSIsIm9wZW4iLCJjbG9zZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYW55IiwiRnVuY3Rpb24iLCJyZXJlbmRlciIsImluaXRpYWxUb2dnbGUiLCJpbml0aWFsT3BlbiIsImluaXRpYWxDbG9zZSJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQyxzQ0FBc0M7Ozs7O3VCQUVOOzRCQUNMO0FBRTNCLDRCQUE0QjtBQUM1QixNQUFNQSx1QkFBdUJDLEtBQUtDLEVBQUU7QUFDcEMsTUFBTUMsMEJBQTBCRixLQUFLQyxFQUFFO0FBRXZDRSxXQUFXO0lBQ1QsY0FBYztJQUNkSixxQkFBcUJLLFNBQVM7SUFDOUJGLHdCQUF3QkUsU0FBUztJQUVqQyxpQ0FBaUM7SUFDakNDLE9BQU9DLGNBQWMsQ0FBQ0MsVUFBVSxvQkFBb0I7UUFDbERDLE9BQU9UO1FBQ1BVLFVBQVU7SUFDWjtJQUVBSixPQUFPQyxjQUFjLENBQUNDLFVBQVUsdUJBQXVCO1FBQ3JEQyxPQUFPTjtRQUNQTyxVQUFVO0lBQ1o7QUFDRjtBQUVBQyxTQUFTLGNBQWM7SUFDckJDLEdBQUcsdUNBQXVDO1FBQ3hDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsc0JBQVU7UUFFOUNDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFQyxJQUFJLENBQUM7SUFDckM7SUFFQVAsR0FBRywrQkFBK0I7UUFDaEMsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSxzQkFBVTtRQUU5Q0ssSUFBQUEsVUFBRyxFQUFDO1lBQ0ZQLE9BQU9JLE9BQU8sQ0FBQ0ksTUFBTTtRQUN2QjtRQUVBTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLE1BQU0sRUFBRUMsSUFBSSxDQUFDO1FBRW5D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