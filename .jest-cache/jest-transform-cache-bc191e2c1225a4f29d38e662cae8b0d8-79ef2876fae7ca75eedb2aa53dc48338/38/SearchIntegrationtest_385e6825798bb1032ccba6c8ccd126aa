bdbb11e0e3de0cabaf6eebe86a3422c4
/**
 * Search Integration Test Ultra-Simplificado
 * Sin dependencias complejas - Solo integración básica de búsqueda
 */ "use strict";
// Mock completo del Header con funcionalidad de búsqueda
jest.mock('../../index', ()=>{
    return function MockHeaderSearchIntegration() {
        const [searchValue, setSearchValue] = _react.default.useState('');
        const [searchResults, setSearchResults] = _react.default.useState([]);
        const [isLoading, setIsLoading] = _react.default.useState(false);
        const [recentSearches, setRecentSearches] = _react.default.useState([]);
        const handleSearch = async (value)=>{
            if (!value.trim()) {
                setSearchResults([]);
                return;
            }
            setIsLoading(true);
            // Simular búsqueda con delay
            setTimeout(()=>{
                const mockResults = [
                    `Pintura ${value}`,
                    `Rodillo para ${value}`,
                    `Pincel ${value}`,
                    `Látex ${value}`,
                    `Esmalte ${value}`
                ];
                setSearchResults(mockResults);
                setIsLoading(false);
                // Agregar a búsquedas recientes
                setRecentSearches((prev)=>{
                    const updated = [
                        value,
                        ...prev.filter((s)=>s !== value)
                    ].slice(0, 5);
                    return updated;
                });
            }, 100);
        };
        const handleSubmit = (e)=>{
            e.preventDefault();
            handleSearch(searchValue);
        };
        const handleKeyDown = (e)=>{
            if (e.key === 'Enter') {
                handleSearch(searchValue);
            } else if (e.key === 'Escape') {
                setSearchValue('');
                setSearchResults([]);
            }
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("header", {
            role: "banner",
            "data-testid": "header-search-integration",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "search-integration-section",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                        onSubmit: handleSubmit,
                        "data-testid": "search-form",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                htmlFor: "search-input",
                                className: "sr-only",
                                children: "Buscar productos"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                id: "search-input",
                                role: "searchbox",
                                "aria-label": "Buscar productos en nuestra tienda",
                                "aria-describedby": "search-help",
                                value: searchValue,
                                onChange: (e)=>setSearchValue(e.target.value),
                                onKeyDown: handleKeyDown,
                                placeholder: "Buscar productos...",
                                "data-testid": "search-input"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "submit",
                                "data-testid": "search-submit",
                                children: "Buscar"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        id: "search-help",
                        className: "sr-only",
                        children: "Escriba para buscar productos. Use Enter para buscar o Escape para limpiar."
                    }),
                    isLoading && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "search-loading",
                        "aria-live": "polite",
                        children: "Buscando productos..."
                    }),
                    searchResults.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": "search-results",
                        role: "region",
                        "aria-label": "Resultados de b\xfasqueda",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                children: [
                                    'Resultados para "',
                                    searchValue,
                                    '"'
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("ul", {
                                children: searchResults.map((result, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                        "data-testid": `search-result-${index}`,
                                        children: result
                                    }, index))
                            })
                        ]
                    }),
                    recentSearches.length > 0 && searchValue === '' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": "recent-searches",
                        role: "region",
                        "aria-label": "B\xfasquedas recientes",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                children: "B\xfasquedas recientes"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("ul", {
                                children: recentSearches.map((search, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                        "data-testid": `recent-search-${index}`,
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            onClick: ()=>{
                                                setSearchValue(search);
                                                handleSearch(search);
                                            },
                                            children: search
                                        })
                                    }, index))
                            })
                        ]
                    })
                ]
            })
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _index = /*#__PURE__*/ _interop_require_default(require("../../index"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Search Integration - Ultra-Simplified Tests', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Funcionalidad de Búsqueda', ()=>{
        it('debe renderizar campo de búsqueda', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            expect(searchInput).toBeInTheDocument();
            expect(searchInput).toHaveAttribute('placeholder', 'Buscar productos...');
        });
        it('debe permitir escribir en el campo de búsqueda', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'pintura'
                }
            });
            expect(searchInput.value).toBe('pintura');
        });
        it('debe enviar búsqueda al hacer submit', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const searchForm = _react1.screen.getByTestId('search-form');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex'
                }
            });
            _react1.fireEvent.submit(searchForm);
            // Verificar loading
            expect(_react1.screen.getByTestId('search-loading')).toBeInTheDocument();
            // Esperar resultados
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "látex"')).toBeInTheDocument();
        });
        it('debe manejar Enter en el campo de búsqueda', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'rodillo'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter',
                code: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "rodillo"')).toBeInTheDocument();
        });
        it('debe limpiar campo con Escape', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'test'
                }
            });
            expect(searchInput.value).toBe('test');
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Escape',
                code: 'Escape'
            });
            expect(searchInput.value).toBe('');
        });
    });
    describe('Estados de Búsqueda', ()=>{
        it('debe manejar búsqueda vacía', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const searchForm = _react1.screen.getByTestId('search-form');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            _react1.fireEvent.submit(searchForm);
            // No debe mostrar loading ni resultados
            expect(_react1.screen.queryByTestId('search-loading')).not.toBeInTheDocument();
            expect(_react1.screen.queryByTestId('search-results')).not.toBeInTheDocument();
        });
        it('debe manejar búsqueda con espacios', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: '  pincel  '
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Verificar que el resultado contiene el término (sin espacios exactos)
            expect(_react1.screen.getByText(/Resultados para.*pincel/)).toBeInTheDocument();
        });
        it('debe manejar caracteres especiales', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex-20%'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Verificar que el resultado contiene el término con caracteres especiales
            expect(_react1.screen.getByText(/Resultados para.*látex-20%/)).toBeInTheDocument();
        });
    });
    describe('Accesibilidad de Búsqueda', ()=>{
        it('debe tener labels apropiados', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            expect(searchInput).toHaveAttribute('aria-label', 'Buscar productos en nuestra tienda');
            expect(searchInput).toHaveAttribute('aria-describedby', 'search-help');
            const helpText = document.getElementById('search-help');
            expect(helpText).toBeInTheDocument();
        });
        it('debe ser navegable por teclado', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            const submitButton = _react1.screen.getByTestId('search-submit');
            searchInput.focus();
            expect(document.activeElement).toBe(searchInput);
            submitButton.focus();
            expect(document.activeElement).toBe(submitButton);
        });
        it('debe anunciar cambios a screen readers', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'test'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            // Verificar aria-live
            const loadingElement = _react1.screen.getByTestId('search-loading');
            expect(loadingElement).toHaveAttribute('aria-live', 'polite');
            await (0, _react1.waitFor)(()=>{
                const resultsRegion = _react1.screen.getByRole('region', {
                    name: 'Resultados de búsqueda'
                });
                expect(resultsRegion).toBeInTheDocument();
            });
        });
    });
    describe('Integración con Header', ()=>{
        it('debe integrarse correctamente con el header', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const header = _react1.screen.getByRole('banner');
            const searchSection = _react1.screen.getByTestId('search-integration-section');
            expect(header).toBeInTheDocument();
            expect(searchSection).toBeInTheDocument();
        });
        it('debe mantener layout responsive', ()=>{
            // Simular móvil
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 375
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
            // Simular desktop
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 1200
            });
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
        });
    });
    describe('Búsquedas Recientes', ()=>{
        it('debe guardar búsquedas recientes', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Realizar búsqueda
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'pintura'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Limpiar búsqueda
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            // Verificar búsquedas recientes
            expect(_react1.screen.getByTestId('recent-searches')).toBeInTheDocument();
            expect(_react1.screen.getByTestId('recent-search-0')).toHaveTextContent('pintura');
        });
        it('debe permitir seleccionar búsquedas recientes', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Realizar búsqueda inicial
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'látex'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Limpiar y seleccionar búsqueda reciente
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: ''
                }
            });
            const recentSearchButton = _react1.screen.getByText('látex');
            _react1.fireEvent.click(recentSearchButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "látex"')).toBeInTheDocument();
        });
    });
    describe('Manejo de Errores', ()=>{
        it('debe manejar errores de red gracefully', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Simular búsqueda que podría fallar
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'error-test'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            // Verificar que el componente sigue funcionando
            expect(_react1.screen.getByTestId('search-loading')).toBeInTheDocument();
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
        });
        it('debe manejar respuestas inválidas', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            _react1.fireEvent.change(searchInput, {
                target: {
                    value: 'invalid-response'
                }
            });
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            // Debe mostrar resultados mock incluso con respuesta "inválida"
            expect(_react1.screen.getByText('Resultados para "invalid-response"')).toBeInTheDocument();
        });
    });
    describe('Performance', ()=>{
        it('debe renderizar rápidamente', ()=>{
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            expect(renderTime).toBeLessThan(100);
            expect(_react1.screen.getByRole('searchbox')).toBeInTheDocument();
        });
        it('debe manejar múltiples cambios de input', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_index.default, {}));
            const searchInput = _react1.screen.getByRole('searchbox');
            // Múltiples cambios rápidos
            for(let i = 0; i < 5; i++){
                _react1.fireEvent.change(searchInput, {
                    target: {
                        value: `búsqueda ${i}`
                    }
                });
            }
            _react1.fireEvent.keyDown(searchInput, {
                key: 'Enter'
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('search-results')).toBeInTheDocument();
            });
            expect(_react1.screen.getByText('Resultados para "búsqueda 4"')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcSGVhZGVyXFxfX3Rlc3RzX19cXGludGVncmF0aW9uXFxTZWFyY2hJbnRlZ3JhdGlvbi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlYXJjaCBJbnRlZ3JhdGlvbiBUZXN0IFVsdHJhLVNpbXBsaWZpY2Fkb1xuICogU2luIGRlcGVuZGVuY2lhcyBjb21wbGVqYXMgLSBTb2xvIGludGVncmFjacOzbiBiw6FzaWNhIGRlIGLDunNxdWVkYVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuXG4vLyBNb2NrIGNvbXBsZXRvIGRlbCBIZWFkZXIgY29uIGZ1bmNpb25hbGlkYWQgZGUgYsO6c3F1ZWRhXG5qZXN0Lm1vY2soJy4uLy4uL2luZGV4JywgKCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gTW9ja0hlYWRlclNlYXJjaEludGVncmF0aW9uKCkge1xuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gUmVhY3QudXNlU3RhdGUoJycpXG4gICAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gUmVhY3QudXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbcmVjZW50U2VhcmNoZXMsIHNldFJlY2VudFNlYXJjaGVzXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZ1tdPihbXSlcbiAgICBcbiAgICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKCF2YWx1ZS50cmltKCkpIHtcbiAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhbXSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgICAgXG4gICAgICAvLyBTaW11bGFyIGLDunNxdWVkYSBjb24gZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrUmVzdWx0cyA9IFtcbiAgICAgICAgICBgUGludHVyYSAke3ZhbHVlfWAsXG4gICAgICAgICAgYFJvZGlsbG8gcGFyYSAke3ZhbHVlfWAsXG4gICAgICAgICAgYFBpbmNlbCAke3ZhbHVlfWAsXG4gICAgICAgICAgYEzDoXRleCAke3ZhbHVlfWAsXG4gICAgICAgICAgYEVzbWFsdGUgJHt2YWx1ZX1gXG4gICAgICAgIF1cbiAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhtb2NrUmVzdWx0cylcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICBcbiAgICAgICAgLy8gQWdyZWdhciBhIGLDunNxdWVkYXMgcmVjaWVudGVzXG4gICAgICAgIHNldFJlY2VudFNlYXJjaGVzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbdmFsdWUsIC4uLnByZXYuZmlsdGVyKHMgPT4gcyAhPT0gdmFsdWUpXS5zbGljZSgwLCA1KVxuICAgICAgICAgIHJldHVybiB1cGRhdGVkXG4gICAgICAgIH0pXG4gICAgICB9LCAxMDApXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgaGFuZGxlU2VhcmNoKHNlYXJjaFZhbHVlKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBoYW5kbGVTZWFyY2goc2VhcmNoVmFsdWUpXG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICBzZXRTZWFyY2hWYWx1ZSgnJylcbiAgICAgICAgc2V0U2VhcmNoUmVzdWx0cyhbXSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxoZWFkZXIgcm9sZT1cImJhbm5lclwiIGRhdGEtdGVzdGlkPVwiaGVhZGVyLXNlYXJjaC1pbnRlZ3JhdGlvblwiPlxuICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic2VhcmNoLWludGVncmF0aW9uLXNlY3Rpb25cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBkYXRhLXRlc3RpZD1cInNlYXJjaC1mb3JtXCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInNlYXJjaC1pbnB1dFwiIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAgQnVzY2FyIHByb2R1Y3Rvc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgaWQ9XCJzZWFyY2gtaW5wdXRcIlxuICAgICAgICAgICAgICByb2xlPVwic2VhcmNoYm94XCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkJ1c2NhciBwcm9kdWN0b3MgZW4gbnVlc3RyYSB0aWVuZGFcIlxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwic2VhcmNoLWhlbHBcIlxuICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVmFsdWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVmFsdWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIHByb2R1Y3Rvcy4uLlwiXG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwic2VhcmNoLWlucHV0XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkYXRhLXRlc3RpZD1cInNlYXJjaC1zdWJtaXRcIj5cbiAgICAgICAgICAgICAgQnVzY2FyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBpZD1cInNlYXJjaC1oZWxwXCIgY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAgRXNjcmliYSBwYXJhIGJ1c2NhciBwcm9kdWN0b3MuIFVzZSBFbnRlciBwYXJhIGJ1c2NhciBvIEVzY2FwZSBwYXJhIGxpbXBpYXIuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwic2VhcmNoLWxvYWRpbmdcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgICAgICAgQnVzY2FuZG8gcHJvZHVjdG9zLi4uXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHtzZWFyY2hSZXN1bHRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cInNlYXJjaC1yZXN1bHRzXCIgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJSZXN1bHRhZG9zIGRlIGLDunNxdWVkYVwiPlxuICAgICAgICAgICAgICA8aDM+UmVzdWx0YWRvcyBwYXJhIFwie3NlYXJjaFZhbHVlfVwiPC9oMz5cbiAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIHtzZWFyY2hSZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9IGRhdGEtdGVzdGlkPXtgc2VhcmNoLXJlc3VsdC0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICB7cmVzdWx0fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAge3JlY2VudFNlYXJjaGVzLmxlbmd0aCA+IDAgJiYgc2VhcmNoVmFsdWUgPT09ICcnICYmIChcbiAgICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJyZWNlbnQtc2VhcmNoZXNcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkLDunNxdWVkYXMgcmVjaWVudGVzXCI+XG4gICAgICAgICAgICAgIDxoND5Cw7pzcXVlZGFzIHJlY2llbnRlczwvaDQ+XG4gICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICB7cmVjZW50U2VhcmNoZXMubWFwKChzZWFyY2gsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gZGF0YS10ZXN0aWQ9e2ByZWNlbnQtc2VhcmNoLSR7aW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VhcmNoVmFsdWUoc2VhcmNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VhcmNoKHNlYXJjaClcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3NlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cbiAgICApXG4gIH1cbn0pXG5cbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vLi4vaW5kZXgnXG5cbmRlc2NyaWJlKCdTZWFyY2ggSW50ZWdyYXRpb24gLSBVbHRyYS1TaW1wbGlmaWVkIFRlc3RzJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdGdW5jaW9uYWxpZGFkIGRlIELDunNxdWVkYScsICgpID0+IHtcbiAgICBpdCgnZGViZSByZW5kZXJpemFyIGNhbXBvIGRlIGLDunNxdWVkYScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dCkudG9IYXZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdCdXNjYXIgcHJvZHVjdG9zLi4uJylcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgcGVybWl0aXIgZXNjcmliaXIgZW4gZWwgY2FtcG8gZGUgYsO6c3F1ZWRhJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JykgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3BpbnR1cmEnIH0gfSlcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dC52YWx1ZSkudG9CZSgncGludHVyYScpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGVudmlhciBiw7pzcXVlZGEgYWwgaGFjZXIgc3VibWl0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIGNvbnN0IHNlYXJjaEZvcm0gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1mb3JtJylcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdsw6F0ZXgnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5zdWJtaXQoc2VhcmNoRm9ybSlcbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FyIGxvYWRpbmdcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1sb2FkaW5nJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIFxuICAgICAgLy8gRXNwZXJhciByZXN1bHRhZG9zXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Jlc3VsdGFkb3MgcGFyYSBcImzDoXRleFwiJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBFbnRlciBlbiBlbCBjYW1wbyBkZSBiw7pzcXVlZGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcbiAgICAgIFxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuICAgICAgXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3JvZGlsbG8nIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJywgY29kZTogJ0VudGVyJyB9KVxuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Jlc3VsdGFkb3MgcGFyYSBcInJvZGlsbG9cIicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGxpbXBpYXIgY2FtcG8gY29uIEVzY2FwZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0JyB9IH0pXG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQudmFsdWUpLnRvQmUoJ3Rlc3QnKVxuICAgICAgXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFc2NhcGUnLCBjb2RlOiAnRXNjYXBlJyB9KVxuICAgICAgZXhwZWN0KHNlYXJjaElucHV0LnZhbHVlKS50b0JlKCcnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0VzdGFkb3MgZGUgQsO6c3F1ZWRhJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIG1hbmVqYXIgYsO6c3F1ZWRhIHZhY8OtYScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG4gICAgICBjb25zdCBzZWFyY2hGb3JtID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtZm9ybScpXG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnJyB9IH0pXG4gICAgICBmaXJlRXZlbnQuc3VibWl0KHNlYXJjaEZvcm0pXG4gICAgICBcbiAgICAgIC8vIE5vIGRlYmUgbW9zdHJhciBsb2FkaW5nIG5pIHJlc3VsdGFkb3NcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnc2VhcmNoLWxvYWRpbmcnKSkubm90LnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgnc2VhcmNoLXJlc3VsdHMnKSkubm90LnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBiw7pzcXVlZGEgY29uIGVzcGFjaW9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICcgIHBpbmNlbCAgJyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgcmVzdWx0YWRvIGNvbnRpZW5lIGVsIHTDqXJtaW5vIChzaW4gZXNwYWNpb3MgZXhhY3RvcylcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXN1bHRhZG9zIHBhcmEuKnBpbmNlbC8pKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgY2FyYWN0ZXJlcyBlc3BlY2lhbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdsw6F0ZXgtMjAlJyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgcmVzdWx0YWRvIGNvbnRpZW5lIGVsIHTDqXJtaW5vIGNvbiBjYXJhY3RlcmVzIGVzcGVjaWFsZXNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9SZXN1bHRhZG9zIHBhcmEuKmzDoXRleC0yMCUvKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0FjY2VzaWJpbGlkYWQgZGUgQsO6c3F1ZWRhJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRlbmVyIGxhYmVscyBhcHJvcGlhZG9zJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0J1c2NhciBwcm9kdWN0b3MgZW4gbnVlc3RyYSB0aWVuZGEnKVxuICAgICAgZXhwZWN0KHNlYXJjaElucHV0KS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCAnc2VhcmNoLWhlbHAnKVxuICAgICAgXG4gICAgICBjb25zdCBoZWxwVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtaGVscCcpXG4gICAgICBleHBlY3QoaGVscFRleHQpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgc2VyIG5hdmVnYWJsZSBwb3IgdGVjbGFkbycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG4gICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1zdWJtaXQnKVxuICAgICAgXG4gICAgICBzZWFyY2hJbnB1dC5mb2N1cygpXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShzZWFyY2hJbnB1dClcbiAgICAgIFxuICAgICAgc3VibWl0QnV0dG9uLmZvY3VzKClcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKHN1Ym1pdEJ1dHRvbilcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgYW51bmNpYXIgY2FtYmlvcyBhIHNjcmVlbiByZWFkZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0ZXN0JyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FyIGFyaWEtbGl2ZVxuICAgICAgY29uc3QgbG9hZGluZ0VsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1sb2FkaW5nJylcbiAgICAgIGV4cGVjdChsb2FkaW5nRWxlbWVudCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJylcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHNSZWdpb24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdyZWdpb24nLCB7IG5hbWU6ICdSZXN1bHRhZG9zIGRlIGLDunNxdWVkYScgfSlcbiAgICAgICAgZXhwZWN0KHJlc3VsdHNSZWdpb24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnSW50ZWdyYWNpw7NuIGNvbiBIZWFkZXInLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgaW50ZWdyYXJzZSBjb3JyZWN0YW1lbnRlIGNvbiBlbCBoZWFkZXInLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcbiAgICAgIFxuICAgICAgY29uc3QgaGVhZGVyID0gc2NyZWVuLmdldEJ5Um9sZSgnYmFubmVyJylcbiAgICAgIGNvbnN0IHNlYXJjaFNlY3Rpb24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1pbnRlZ3JhdGlvbi1zZWN0aW9uJylcbiAgICAgIFxuICAgICAgZXhwZWN0KGhlYWRlcikudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgICAgZXhwZWN0KHNlYXJjaFNlY3Rpb24pLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFudGVuZXIgbGF5b3V0IHJlc3BvbnNpdmUnLCAoKSA9PiB7XG4gICAgICAvLyBTaW11bGFyIG3Ds3ZpbFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2lubmVyV2lkdGgnLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAzNzUsXG4gICAgICB9KVxuXG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXIgZGVza3RvcFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2lubmVyV2lkdGgnLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAxMjAwLFxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnQsO6c3F1ZWRhcyBSZWNpZW50ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgZ3VhcmRhciBiw7pzcXVlZGFzIHJlY2llbnRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG4gICAgICBcbiAgICAgIC8vIFJlYWxpemFyIGLDunNxdWVkYVxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdwaW50dXJhJyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIExpbXBpYXIgYsO6c3F1ZWRhXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJycgfSB9KVxuICAgICAgXG4gICAgICAvLyBWZXJpZmljYXIgYsO6c3F1ZWRhcyByZWNpZW50ZXNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JlY2VudC1zZWFyY2hlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZWNlbnQtc2VhcmNoLTAnKSkudG9IYXZlVGV4dENvbnRlbnQoJ3BpbnR1cmEnKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBwZXJtaXRpciBzZWxlY2Npb25hciBiw7pzcXVlZGFzIHJlY2llbnRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8SGVhZGVyIC8+KVxuICAgICAgXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVJvbGUoJ3NlYXJjaGJveCcpXG4gICAgICBcbiAgICAgIC8vIFJlYWxpemFyIGLDunNxdWVkYSBpbmljaWFsXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2zDoXRleCcgfSB9KVxuICAgICAgZmlyZUV2ZW50LmtleURvd24oc2VhcmNoSW5wdXQsIHsga2V5OiAnRW50ZXInIH0pXG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtcmVzdWx0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyBMaW1waWFyIHkgc2VsZWNjaW9uYXIgYsO6c3F1ZWRhIHJlY2llbnRlXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJycgfSB9KVxuICAgICAgXG4gICAgICBjb25zdCByZWNlbnRTZWFyY2hCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdsw6F0ZXgnKVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHJlY2VudFNlYXJjaEJ1dHRvbilcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZXN1bHRhZG9zIHBhcmEgXCJsw6F0ZXhcIicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnTWFuZWpvIGRlIEVycm9yZXMnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgbWFuZWphciBlcnJvcmVzIGRlIHJlZCBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhciBiw7pzcXVlZGEgcXVlIHBvZHLDrWEgZmFsbGFyXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ2Vycm9yLXRlc3QnIH0gfSlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKHNlYXJjaElucHV0LCB7IGtleTogJ0VudGVyJyB9KVxuICAgICAgXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGVsIGNvbXBvbmVudGUgc2lndWUgZnVuY2lvbmFuZG9cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1sb2FkaW5nJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgcmVzcHVlc3RhcyBpbnbDoWxpZGFzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JylcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzZWFyY2hJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdpbnZhbGlkLXJlc3BvbnNlJyB9IH0pXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihzZWFyY2hJbnB1dCwgeyBrZXk6ICdFbnRlcicgfSlcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1yZXN1bHRzJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIERlYmUgbW9zdHJhciByZXN1bHRhZG9zIG1vY2sgaW5jbHVzbyBjb24gcmVzcHVlc3RhIFwiaW52w6FsaWRhXCJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZXN1bHRhZG9zIHBhcmEgXCJpbnZhbGlkLXJlc3BvbnNlXCInKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHJlbmRlcml6YXIgcsOhcGlkYW1lbnRlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIFxuICAgICAgcmVuZGVyKDxIZWFkZXIgLz4pXG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWVcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigxMDApXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94JykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBtw7psdGlwbGVzIGNhbWJpb3MgZGUgaW5wdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEhlYWRlciAvPilcbiAgICAgIFxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKVxuICAgICAgXG4gICAgICAvLyBNw7psdGlwbGVzIGNhbWJpb3MgcsOhcGlkb3NcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiBgYsO6c3F1ZWRhICR7aX1gIH0gfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmtleURvd24oc2VhcmNoSW5wdXQsIHsga2V5OiAnRW50ZXInIH0pXG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtcmVzdWx0cycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgICB9KVxuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzdWx0YWRvcyBwYXJhIFwiYsO6c3F1ZWRhIDRcIicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfSlcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJNb2NrSGVhZGVyU2VhcmNoSW50ZWdyYXRpb24iLCJzZWFyY2hWYWx1ZSIsInNldFNlYXJjaFZhbHVlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInNlYXJjaFJlc3VsdHMiLCJzZXRTZWFyY2hSZXN1bHRzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwicmVjZW50U2VhcmNoZXMiLCJzZXRSZWNlbnRTZWFyY2hlcyIsImhhbmRsZVNlYXJjaCIsInZhbHVlIiwidHJpbSIsInNldFRpbWVvdXQiLCJtb2NrUmVzdWx0cyIsInByZXYiLCJ1cGRhdGVkIiwiZmlsdGVyIiwicyIsInNsaWNlIiwiaGFuZGxlU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlS2V5RG93biIsImtleSIsImhlYWRlciIsInJvbGUiLCJkYXRhLXRlc3RpZCIsImRpdiIsImZvcm0iLCJvblN1Ym1pdCIsImxhYmVsIiwiaHRtbEZvciIsImNsYXNzTmFtZSIsImlucHV0IiwiaWQiLCJhcmlhLWxhYmVsIiwiYXJpYS1kZXNjcmliZWRieSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJidXR0b24iLCJ0eXBlIiwiYXJpYS1saXZlIiwibGVuZ3RoIiwiaDMiLCJ1bCIsIm1hcCIsInJlc3VsdCIsImluZGV4IiwibGkiLCJoNCIsInNlYXJjaCIsIm9uQ2xpY2siLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXIiLCJIZWFkZXIiLCJzZWFyY2hJbnB1dCIsInNjcmVlbiIsImdldEJ5Um9sZSIsImV4cGVjdCIsInRvQmVJblRoZURvY3VtZW50IiwidG9IYXZlQXR0cmlidXRlIiwiZmlyZUV2ZW50IiwiY2hhbmdlIiwidG9CZSIsInNlYXJjaEZvcm0iLCJnZXRCeVRlc3RJZCIsInN1Ym1pdCIsIndhaXRGb3IiLCJnZXRCeVRleHQiLCJrZXlEb3duIiwiY29kZSIsInF1ZXJ5QnlUZXN0SWQiLCJub3QiLCJoZWxwVGV4dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdWJtaXRCdXR0b24iLCJmb2N1cyIsImFjdGl2ZUVsZW1lbnQiLCJsb2FkaW5nRWxlbWVudCIsInJlc3VsdHNSZWdpb24iLCJuYW1lIiwic2VhcmNoU2VjdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJ0b0hhdmVUZXh0Q29udGVudCIsInJlY2VudFNlYXJjaEJ1dHRvbiIsImNsaWNrIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiIsImkiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQztBQUtELHlEQUF5RDtBQUN6REEsS0FBS0MsSUFBSSxDQUFDLGVBQWU7SUFDdkIsT0FBTyxTQUFTQztRQUNkLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHQyxjQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNyRCxNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHSCxjQUFLLENBQUNDLFFBQVEsQ0FBVyxFQUFFO1FBQ3JFLE1BQU0sQ0FBQ0csV0FBV0MsYUFBYSxHQUFHTCxjQUFLLENBQUNDLFFBQVEsQ0FBQztRQUNqRCxNQUFNLENBQUNLLGdCQUFnQkMsa0JBQWtCLEdBQUdQLGNBQUssQ0FBQ0MsUUFBUSxDQUFXLEVBQUU7UUFFdkUsTUFBTU8sZUFBZSxPQUFPQztZQUMxQixJQUFJLENBQUNBLE1BQU1DLElBQUksSUFBSTtnQkFDakJQLGlCQUFpQixFQUFFO2dCQUNuQjtZQUNGO1lBRUFFLGFBQWE7WUFFYiw2QkFBNkI7WUFDN0JNLFdBQVc7Z0JBQ1QsTUFBTUMsY0FBYztvQkFDbEIsQ0FBQyxRQUFRLEVBQUVILE9BQU87b0JBQ2xCLENBQUMsYUFBYSxFQUFFQSxPQUFPO29CQUN2QixDQUFDLE9BQU8sRUFBRUEsT0FBTztvQkFDakIsQ0FBQyxNQUFNLEVBQUVBLE9BQU87b0JBQ2hCLENBQUMsUUFBUSxFQUFFQSxPQUFPO2lCQUNuQjtnQkFDRE4saUJBQWlCUztnQkFDakJQLGFBQWE7Z0JBRWIsZ0NBQWdDO2dC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