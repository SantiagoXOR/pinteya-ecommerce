{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Home\\BestSeller\\index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport SingleItem from \"./SingleItem\";\r\nimport Link from \"next/link\";\r\nimport { useFilteredProducts } from \"@/hooks/useFilteredProducts\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { TrendingUp, ArrowRight, Trophy } from \"@/lib/optimized-imports\";\r\n\r\ninterface BestSellerProps {\r\n  selectedCategories?: string[];\r\n}\r\n\r\nconst BestSeller: React.FC<BestSellerProps> = ({ selectedCategories = [] }) => {\r\n  const { data, isLoading, error } = useFilteredProducts({\r\n    categories: selectedCategories.length > 0 ? selectedCategories : undefined,\r\n    limit: 6,\r\n    sortBy: 'price',\r\n    sortOrder: 'desc'\r\n  });\r\n\r\n  // Obtener productos y filtrar los que tienen descuento\r\n  const products = data?.data || [];\r\n  const bestSellerProducts = products.filter(product =>\r\n    product.discountedPrice && product.discountedPrice < product.price\r\n  ).slice(0, 6);\r\n\r\n  // Mostrar título dinámico según si hay filtros activos\r\n  const sectionTitle = selectedCategories.length > 0\r\n    ? `Mejores Ofertas en ${selectedCategories.length === 1 ? 'esta categoría' : 'estas categorías'}`\r\n    : 'Mejores Ofertas';\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section className=\"overflow-hidden py-4 sm:py-8\">\r\n        <div className=\"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0\">\r\n          {/* Header con Design System */}\r\n          <div className=\"mb-10 flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2.5 font-medium text-gray-700 mb-1.5\">\r\n                <div className=\"w-5 h-5 rounded-full bg-yellow-100 flex items-center justify-center\">\r\n                  <Trophy className=\"w-3 h-3 text-yellow-600\" />\r\n                </div>\r\n                <span>Este Mes</span>\r\n                <Badge variant=\"warning\" size=\"sm\">\r\n                  Top\r\n                </Badge>\r\n              </div>\r\n              <h2 className=\"font-semibold text-xl xl:text-heading-5 text-gray-900\">\r\n                Más Vendidos\r\n              </h2>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Loading State mejorado - Mobile-First 2 columnas */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-7.5\">\r\n            {[...Array(6)].map((_, index) => (\r\n              <Card key={index} className=\"overflow-hidden\">\r\n                <div className=\"animate-pulse\">\r\n                  <div className=\"bg-gray-200 h-40 md:h-64 rounded-t-lg\"></div>\r\n                  <CardContent className=\"p-2 md:p-4\">\r\n                    <div className=\"space-y-2 md:space-y-3\">\r\n                      <div className=\"bg-gray-200 h-3 md:h-4 rounded w-3/4\"></div>\r\n                      <div className=\"bg-gray-200 h-3 md:h-4 rounded w-1/2\"></div>\r\n                      <div className=\"bg-gray-200 h-4 md:h-6 rounded w-1/3\"></div>\r\n                    </div>\r\n                  </CardContent>\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section className=\"overflow-hidden py-4 sm:py-8\">\r\n        <div className=\"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0\">\r\n          {/* Error State mejorado */}\r\n          <Card variant=\"outlined\" className=\"border-red-200 bg-red-50\">\r\n            <CardContent className=\"p-8 text-center\">\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center\">\r\n                  <span className=\"text-red-600 text-xl\">⚠️</span>\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-red-900 mb-1\">\r\n                    Error al cargar productos más vendidos\r\n                  </h3>\r\n                  <p className=\"text-red-700 text-sm\">{error}</p>\r\n                </div>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => window.location.reload()}\r\n                  className=\"border-red-300 text-red-700 hover:bg-red-100\"\r\n                >\r\n                  Reintentar\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"overflow-hidden py-4 sm:py-8\">\r\n      <div className=\"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0\">\r\n        {/* Section Header - Migrado al Design System */}\r\n        <div className=\"mb-10 flex items-center justify-between\">\r\n          <div>\r\n            <div className=\"flex items-center gap-2.5 font-medium text-gray-700 mb-1.5\">\r\n              <div className=\"w-5 h-5 rounded-full bg-yellow-100 flex items-center justify-center\">\r\n                <Trophy className=\"w-3 h-3 text-yellow-600\" />\r\n              </div>\r\n              <span>Este Mes</span>\r\n              <Badge variant=\"warning\" size=\"sm\">\r\n                Top\r\n              </Badge>\r\n            </div>\r\n            <h2 className=\"font-semibold text-xl xl:text-heading-5 text-gray-900\">\r\n              {sectionTitle}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-7.5\">\r\n          {/* Best Sellers Grid - Mobile-First 2 columnas */}\r\n          {bestSellerProducts.length > 0 ? (\r\n            bestSellerProducts.map((item, key) => (\r\n              <SingleItem item={item} key={key} />\r\n            ))\r\n          ) : (\r\n            /* Empty State mejorado */\r\n            <div className=\"col-span-full\">\r\n              <Card variant=\"outlined\" className=\"border-gray-200\">\r\n                <CardContent className=\"p-12 text-center\">\r\n                  <div className=\"flex flex-col items-center gap-4\">\r\n                    <div className=\"w-16 h-16 rounded-full bg-yellow-100 flex items-center justify-center\">\r\n                      <Trophy className=\"w-8 h-8 text-yellow-500\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900 mb-2\">\r\n                        No hay productos en oferta\r\n                      </h3>\r\n                      <p className=\"text-gray-600 text-sm mb-4\">\r\n                        Pronto tendremos nuevas ofertas disponibles\r\n                      </p>\r\n                      <Button variant=\"outline\" asChild>\r\n                        <Link href=\"/shop\">\r\n                          Ver Catálogo Completo\r\n                        </Link>\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* CTA Button mejorado */}\r\n        {bestSellerProducts.length > 0 && (\r\n          <div className=\"text-center mt-12.5\">\r\n            <Button variant=\"outline\" size=\"lg\" asChild>\r\n              <Link href=\"/shop\">\r\n                Ver Todos los Productos\r\n                <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BestSeller;\r\n"],"names":["BestSeller","selectedCategories","data","isLoading","error","useFilteredProducts","categories","length","undefined","limit","sortBy","sortOrder","products","bestSellerProducts","filter","product","discountedPrice","price","slice","sectionTitle","section","className","div","Trophy","span","Badge","variant","size","h2","Array","map","_","index","Card","CardContent","h3","p","Button","onClick","window","location","reload","item","key","SingleItem","asChild","Link","href","ArrowRight"],"mappings":"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"}