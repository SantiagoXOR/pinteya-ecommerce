{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\components\\PinteyaRaffle.test.tsx"],"sourcesContent":["import React from 'react';\r\nimport { render, screen, act } from '@testing-library/react';\r\nimport '@testing-library/jest-dom';\r\nimport PinteyaRaffle from '@/components/Home/PinteyaRaffle';\r\n\r\n// Mock de Next.js Image\r\njest.mock('next/image', () => ({\r\n  __esModule: true,\r\n  default: ({ src, alt, ...props }: any) => (\r\n    <img src={src} alt={alt} {...props} />\r\n  ),\r\n}));\r\n\r\n// Mock de los iconos de Lucide\r\njest.mock('lucide-react', () => ({\r\n  Gift: () => <div data-testid=\"gift-icon\" />,\r\n  Sparkles: () => <div data-testid=\"sparkles-icon\" />,\r\n  Palette: () => <div data-testid=\"palette-icon\" />,\r\n  Trophy: () => <div data-testid=\"trophy-icon\" />,\r\n  Clock: () => <div data-testid=\"clock-icon\" />,\r\n  Star: () => <div data-testid=\"star-icon\" />,\r\n}));\r\n\r\ndescribe('PinteyaRaffle', () => {\r\n  beforeEach(() => {\r\n    // Mock de Date.now para tener un tiempo consistente en las pruebas\r\n    jest.spyOn(Date, 'now').mockImplementation(() => new Date('2024-01-01T00:00:00Z').getTime());\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.restoreAllMocks();\r\n  });\r\n\r\n  test('renderiza el componente correctamente', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Verificar que el título principal está presente\r\n    expect(screen.getByText('Ganá un Kit Completo de Pinturería')).toBeInTheDocument();\r\n    \r\n    // Verificar que los badges están presentes\r\n    expect(screen.getByText('¡GRAN SORTEO!')).toBeInTheDocument();\r\n    expect(screen.getByText('GRATIS')).toBeInTheDocument();\r\n  });\r\n\r\n  test('muestra la información del premio correctamente', () => {\r\n    render(<PinteyaRaffle />);\r\n\r\n    // Verificar el valor del premio (hay múltiples instancias, usar getAllByText)\r\n    const priceElements = screen.getAllByText('$150.000');\r\n    expect(priceElements.length).toBeGreaterThan(0);\r\n\r\n    // Verificar la descripción del premio\r\n    expect(screen.getByText(/productos premium de las mejores marcas/)).toBeInTheDocument();\r\n  });\r\n\r\n  test('muestra los productos incluidos en el kit', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Verificar que se muestran los tipos de productos\r\n    expect(screen.getByText('Látex Premium')).toBeInTheDocument();\r\n    expect(screen.getByText('Esmaltes')).toBeInTheDocument();\r\n    expect(screen.getByText('Herramientas')).toBeInTheDocument();\r\n    expect(screen.getByText('Accesorios')).toBeInTheDocument();\r\n  });\r\n\r\n  test('muestra el contador regresivo', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Verificar que las etiquetas del contador están presentes\r\n    expect(screen.getByText('Días')).toBeInTheDocument();\r\n    expect(screen.getByText('Horas')).toBeInTheDocument();\r\n    expect(screen.getByText('Minutos')).toBeInTheDocument();\r\n    expect(screen.getByText('Segundos')).toBeInTheDocument();\r\n    \r\n    // Verificar que el texto del contador está presente\r\n    expect(screen.getByText('Tiempo restante para participar:')).toBeInTheDocument();\r\n  });\r\n\r\n  test('muestra el botón de participación', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    const participateButton = screen.getByRole('button', { name: /participar ahora/i });\r\n    expect(participateButton).toBeInTheDocument();\r\n    expect(participateButton).toHaveClass('bg-bright-sun-400');\r\n  });\r\n\r\n  test('muestra las instrucciones de participación', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Verificar el título de las instrucciones\r\n    expect(screen.getByText('Cómo participar:')).toBeInTheDocument();\r\n    \r\n    // Verificar los pasos de participación\r\n    expect(screen.getByText('Seguinos en Instagram @pinteya')).toBeInTheDocument();\r\n    expect(screen.getByText('Compartí esta publicación en tu historia')).toBeInTheDocument();\r\n    expect(screen.getByText('Etiquetá a 3 amigos en los comentarios')).toBeInTheDocument();\r\n  });\r\n\r\n  test('muestra las imágenes de productos', () => {\r\n    render(<PinteyaRaffle />);\r\n\r\n    // Verificar que la imagen principal está presente\r\n    const mainImage = screen.getByAltText('Kit de Pinturería Pinteya');\r\n    expect(mainImage).toBeInTheDocument();\r\n\r\n    // Verificar que hay elementos decorativos (los círculos animados)\r\n    const decorativeElements = document.querySelectorAll('.animate-bounce, .animate-pulse, .animate-ping');\r\n    expect(decorativeElements.length).toBeGreaterThan(0);\r\n  });\r\n\r\n  test('actualiza el contador cada segundo', async () => {\r\n    jest.useFakeTimers();\r\n    \r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Avanzar el tiempo 1 segundo\r\n    act(() => {\r\n      jest.advanceTimersByTime(1000);\r\n    });\r\n    \r\n    // Verificar que el componente sigue funcionando\r\n    expect(screen.getByText('Días')).toBeInTheDocument();\r\n    \r\n    jest.useRealTimers();\r\n  });\r\n\r\n  test('muestra los iconos correctamente', () => {\r\n    render(<PinteyaRaffle />);\r\n\r\n    // Verificar que los iconos están presentes (algunos aparecen múltiples veces)\r\n    expect(screen.getAllByTestId('gift-icon')).toHaveLength(2); // Badge y botón\r\n    expect(screen.getByTestId('sparkles-icon')).toBeInTheDocument();\r\n    expect(screen.getAllByTestId('palette-icon')).toHaveLength(3); // 3 iconos de paleta\r\n    expect(screen.getByTestId('trophy-icon')).toBeInTheDocument();\r\n    expect(screen.getByTestId('clock-icon')).toBeInTheDocument();\r\n    expect(screen.getByTestId('star-icon')).toBeInTheDocument();\r\n  });\r\n\r\n  test('tiene las clases de estilo de Pinteya correctas', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    // Verificar que usa los colores de la marca Pinteya\r\n    const card = screen.getByRole('button', { name: /participar ahora/i }).closest('section');\r\n    expect(card).toBeInTheDocument();\r\n    \r\n    // Verificar que el botón tiene los estilos correctos\r\n    const button = screen.getByRole('button', { name: /participar ahora/i });\r\n    expect(button).toHaveClass('bg-bright-sun-400');\r\n  });\r\n\r\n  test('muestra el disclaimer correctamente', () => {\r\n    render(<PinteyaRaffle />);\r\n    \r\n    expect(screen.getByText('* Solo necesitás seguirnos en redes sociales. Sin compra mínima.')).toBeInTheDocument();\r\n  });\r\n});\r\n"],"names":["jest","mock","__esModule","default","src","alt","props","img","Gift","div","data-testid","Sparkles","Palette","Trophy","Clock","Star","describe","beforeEach","spyOn","Date","mockImplementation","getTime","afterEach","restoreAllMocks","test","render","PinteyaRaffle","expect","screen","getByText","toBeInTheDocument","priceElements","getAllByText","length","toBeGreaterThan","participateButton","getByRole","name","toHaveClass","mainImage","getByAltText","decorativeElements","document","querySelectorAll","useFakeTimers","act","advanceTimersByTime","useRealTimers","getAllByTestId","toHaveLength","getByTestId","card","closest","button"],"mappings":"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"}