792ab4e281859b37fa332d8459a51937
// ===================================
// PINTEYA E-COMMERCE - MERCADOPAGO METRICS API TESTS
// ===================================
"use strict";
// NextAuth se mockea automÃ¡ticamente
jest.mock('@/auth', ()=>({
        auth: jest.fn()
    }));
// Mock del metrics collector
jest.mock('@/lib/metrics', ()=>({
        metricsCollector: {
            getMercadoPagoMetrics: jest.fn(()=>Promise.resolve({
                    payment_creation: {
                        requests: {
                            total: 100,
                            success: 95,
                            error: 5,
                            rate_limited: 2
                        },
                        response_times: {
                            avg: 250,
                            min: 100,
                            max: 500,
                            p95: 400,
                            p99: 450
                        },
                        retry_stats: {
                            total_retries: 3,
                            successful_retries: 2,
                            failed_retries: 1
                        }
                    },
                    payment_queries: {
                        requests: {
                            total: 50,
                            success: 48,
                            error: 2,
                            rate_limited: 1
                        },
                        response_times: {
                            avg: 150,
                            min: 80,
                            max: 300,
                            p95: 250,
                            p99: 280
                        },
                        retry_stats: {
                            total_retries: 1,
                            successful_retries: 1,
                            failed_retries: 0
                        }
                    },
                    webhook_processing: {
                        requests: {
                            total: 200,
                            success: 195,
                            error: 5,
                            rate_limited: 0
                        },
                        response_times: {
                            avg: 100,
                            min: 50,
                            max: 200,
                            p95: 180,
                            p99: 190
                        },
                        retry_stats: {
                            total_retries: 2,
                            successful_retries: 2,
                            failed_retries: 0
                        }
                    }
                }))
        }
    }));
// Mock de Redis
jest.mock('@/lib/redis', ()=>({
        isRedisAvailable: jest.fn(()=>Promise.resolve(true))
    }));
// Mock del logger
jest.mock('@/lib/logger', ()=>({
        logger: {
            info: jest.fn(),
            error: jest.fn(),
            warn: jest.fn()
        },
        LogCategory: {
            API: 'api'
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../../app/api/admin/mercadopago/metrics/route");
describe('/api/admin/mercadopago/metrics', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('GET /api/admin/mercadopago/metrics', ()=>{
        it('should return metrics successfully for authenticated user', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toBeDefined();
            expect(data.data.realTimeMetrics).toBeDefined();
            expect(data.data.endpointMetrics).toBeDefined();
            expect(data.data.systemHealth).toBeDefined();
            expect(data.data.alerts).toBeDefined();
        });
        it('should calculate real-time metrics correctly', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            const realTimeMetrics = data.data.realTimeMetrics;
            // Total requests = 100 + 50 + 200 = 350
            expect(realTimeMetrics.totalRequests).toBe(350);
            // Success rate = (95 + 48 + 195) / 350 = 338/350 = 96.57%
            expect(realTimeMetrics.successRate).toBeCloseTo(96.57, 1);
            // Error rate = (5 + 2 + 5) / 350 = 12/350 = 3.43%
            expect(realTimeMetrics.errorRate).toBeCloseTo(3.43, 1);
            // Rate limit hits = 2 + 1 + 0 = 3
            expect(realTimeMetrics.rateLimitHits).toBe(3);
            // Retry attempts = 3 + 1 + 2 = 6
            expect(realTimeMetrics.retryAttempts).toBe(6);
        });
        it('should include endpoint-specific metrics', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            const endpointMetrics = data.data.endpointMetrics;
            // Create Preference metrics
            expect(endpointMetrics.createPreference.requests).toBe(100);
            expect(endpointMetrics.createPreference.successRate).toBe(95);
            expect(endpointMetrics.createPreference.averageResponseTime).toBe(250);
            expect(endpointMetrics.createPreference.errorCount).toBe(5);
            // Webhook metrics
            expect(endpointMetrics.webhook.requests).toBe(200);
            expect(endpointMetrics.webhook.successRate).toBe(97.5);
            expect(endpointMetrics.webhook.averageResponseTime).toBe(100);
            expect(endpointMetrics.webhook.errorCount).toBe(5);
            // Payment Query metrics
            expect(endpointMetrics.paymentQuery.requests).toBe(50);
            expect(endpointMetrics.paymentQuery.successRate).toBe(96);
            expect(endpointMetrics.paymentQuery.averageResponseTime).toBe(150);
            expect(endpointMetrics.paymentQuery.errorCount).toBe(2);
        });
        it('should include system health information', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            const systemHealth = data.data.systemHealth;
            expect(systemHealth.redisStatus).toBe('connected');
            expect(systemHealth.lastUpdate).toBeDefined();
            expect(systemHealth.uptime).toBeGreaterThan(0);
        });
        it('should generate alerts for high error rates', async ()=>{
            // Mock high error rate scenario
            const { metricsCollector } = require('@/lib/metrics');
            metricsCollector.getMercadoPagoMetrics.mockResolvedValueOnce({
                payment_creation: {
                    requests: {
                        total: 100,
                        success: 80,
                        error: 20,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 250
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                },
                payment_queries: {
                    requests: {
                        total: 0,
                        success: 0,
                        error: 0,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 0
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                },
                webhook_processing: {
                    requests: {
                        total: 0,
                        success: 0,
                        error: 0,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 0
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            const alerts = data.data.alerts;
            // Should have an error alert for high error rate (20%)
            expect(alerts).toHaveLength(1);
            expect(alerts[0].type).toBe('error');
            expect(alerts[0].message).toContain('Tasa de error alta');
        });
        it('should generate alerts for high response times', async ()=>{
            // Mock high response time scenario
            const { metricsCollector } = require('@/lib/metrics');
            metricsCollector.getMercadoPagoMetrics.mockResolvedValueOnce({
                payment_creation: {
                    requests: {
                        total: 100,
                        success: 100,
                        error: 0,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 5000
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                },
                payment_queries: {
                    requests: {
                        total: 0,
                        success: 0,
                        error: 0,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 0
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                },
                webhook_processing: {
                    requests: {
                        total: 0,
                        success: 0,
                        error: 0,
                        rate_limited: 0
                    },
                    response_times: {
                        avg: 0
                    },
                    retry_stats: {
                        total_retries: 0,
                        successful_retries: 0,
                        failed_retries: 0
                    }
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            const alerts = data.data.alerts;
            // Should have a warning alert for high response time
            expect(alerts).toHaveLength(1);
            expect(alerts[0].type).toBe('warning');
            expect(alerts[0].message).toContain('Tiempo de respuesta alto');
        });
        it('should return 401 for unauthenticated requests', async ()=>{
            // Mock unauthenticated user
            const { auth } = require('@clerk/nextjs/server');
            auth.mockReturnValueOnce({
                userId: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error).toBe('No autorizado');
        });
    });
    describe('POST /api/admin/mercadopago/metrics', ()=>{
        it('should reset metrics successfully for authenticated user', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics', {
                method: 'POST'
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.message).toBe('MÃ©tricas reiniciadas correctamente');
        });
        it('should return 401 for unauthenticated requests', async ()=>{
            // Mock unauthenticated user
            const { auth } = require('@clerk/nextjs/server');
            auth.mockReturnValueOnce({
                userId: null
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/mercadopago/metrics', {
                method: 'POST'
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error).toBe('No autorizado');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxhcGlcXGFkbWluXFxtZXJjYWRvcGFnby1tZXRyaWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gTUVSQ0FET1BBR08gTUVUUklDUyBBUEkgVEVTVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBHRVQsIFBPU1QgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vbWVyY2Fkb3BhZ28vbWV0cmljcy9yb3V0ZSc7XHJcblxyXG4vLyBOZXh0QXV0aCBzZSBtb2NrZWEgYXV0b23DoXRpY2FtZW50ZVxyXG5qZXN0Lm1vY2soJ0AvYXV0aCcsICgpID0+ICh7IGF1dGg6IGplc3QuZm4oKSB9KSk7XHJcblxyXG4vLyBNb2NrIGRlbCBtZXRyaWNzIGNvbGxlY3RvclxyXG5qZXN0Lm1vY2soJ0AvbGliL21ldHJpY3MnLCAoKSA9PiAoe1xyXG4gIG1ldHJpY3NDb2xsZWN0b3I6IHtcclxuICAgIGdldE1lcmNhZG9QYWdvTWV0cmljczogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICBwYXltZW50X2NyZWF0aW9uOiB7XHJcbiAgICAgICAgcmVxdWVzdHM6IHsgdG90YWw6IDEwMCwgc3VjY2VzczogOTUsIGVycm9yOiA1LCByYXRlX2xpbWl0ZWQ6IDIgfSxcclxuICAgICAgICByZXNwb25zZV90aW1lczogeyBhdmc6IDI1MCwgbWluOiAxMDAsIG1heDogNTAwLCBwOTU6IDQwMCwgcDk5OiA0NTAgfSxcclxuICAgICAgICByZXRyeV9zdGF0czogeyB0b3RhbF9yZXRyaWVzOiAzLCBzdWNjZXNzZnVsX3JldHJpZXM6IDIsIGZhaWxlZF9yZXRyaWVzOiAxIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHBheW1lbnRfcXVlcmllczoge1xyXG4gICAgICAgIHJlcXVlc3RzOiB7IHRvdGFsOiA1MCwgc3VjY2VzczogNDgsIGVycm9yOiAyLCByYXRlX2xpbWl0ZWQ6IDEgfSxcclxuICAgICAgICByZXNwb25zZV90aW1lczogeyBhdmc6IDE1MCwgbWluOiA4MCwgbWF4OiAzMDAsIHA5NTogMjUwLCBwOTk6IDI4MCB9LFxyXG4gICAgICAgIHJldHJ5X3N0YXRzOiB7IHRvdGFsX3JldHJpZXM6IDEsIHN1Y2Nlc3NmdWxfcmV0cmllczogMSwgZmFpbGVkX3JldHJpZXM6IDAgfSxcclxuICAgICAgfSxcclxuICAgICAgd2ViaG9va19wcm9jZXNzaW5nOiB7XHJcbiAgICAgICAgcmVxdWVzdHM6IHsgdG90YWw6IDIwMCwgc3VjY2VzczogMTk1LCBlcnJvcjogNSwgcmF0ZV9saW1pdGVkOiAwIH0sXHJcbiAgICAgICAgcmVzcG9uc2VfdGltZXM6IHsgYXZnOiAxMDAsIG1pbjogNTAsIG1heDogMjAwLCBwOTU6IDE4MCwgcDk5OiAxOTAgfSxcclxuICAgICAgICByZXRyeV9zdGF0czogeyB0b3RhbF9yZXRyaWVzOiAyLCBzdWNjZXNzZnVsX3JldHJpZXM6IDIsIGZhaWxlZF9yZXRyaWVzOiAwIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KSksXHJcbiAgfSxcclxufSkpO1xyXG5cclxuLy8gTW9jayBkZSBSZWRpc1xyXG5qZXN0Lm1vY2soJ0AvbGliL3JlZGlzJywgKCkgPT4gKHtcclxuICBpc1JlZGlzQXZhaWxhYmxlOiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh0cnVlKSksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgZGVsIGxvZ2dlclxyXG5qZXN0Lm1vY2soJ0AvbGliL2xvZ2dlcicsICgpID0+ICh7XHJcbiAgbG9nZ2VyOiB7XHJcbiAgICBpbmZvOiBqZXN0LmZuKCksXHJcbiAgICBlcnJvcjogamVzdC5mbigpLFxyXG4gICAgd2FybjogamVzdC5mbigpLFxyXG4gIH0sXHJcbiAgTG9nQ2F0ZWdvcnk6IHtcclxuICAgIEFQSTogJ2FwaScsXHJcbiAgfSxcclxufSkpO1xyXG5cclxuZGVzY3JpYmUoJy9hcGkvYWRtaW4vbWVyY2Fkb3BhZ28vbWV0cmljcycsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vbWVyY2Fkb3BhZ28vbWV0cmljcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG1ldHJpY3Mgc3VjY2Vzc2Z1bGx5IGZvciBhdXRoZW50aWNhdGVkIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vbWVyY2Fkb3BhZ28vbWV0cmljcycpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEucmVhbFRpbWVNZXRyaWNzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmVuZHBvaW50TWV0cmljcykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5zeXN0ZW1IZWFsdGgpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuYWxlcnRzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcmVhbC10aW1lIG1ldHJpY3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgY29uc3QgcmVhbFRpbWVNZXRyaWNzID0gZGF0YS5kYXRhLnJlYWxUaW1lTWV0cmljcztcclxuICAgICAgXHJcbiAgICAgIC8vIFRvdGFsIHJlcXVlc3RzID0gMTAwICsgNTAgKyAyMDAgPSAzNTBcclxuICAgICAgZXhwZWN0KHJlYWxUaW1lTWV0cmljcy50b3RhbFJlcXVlc3RzKS50b0JlKDM1MCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTdWNjZXNzIHJhdGUgPSAoOTUgKyA0OCArIDE5NSkgLyAzNTAgPSAzMzgvMzUwID0gOTYuNTclXHJcbiAgICAgIGV4cGVjdChyZWFsVGltZU1ldHJpY3Muc3VjY2Vzc1JhdGUpLnRvQmVDbG9zZVRvKDk2LjU3LCAxKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEVycm9yIHJhdGUgPSAoNSArIDIgKyA1KSAvIDM1MCA9IDEyLzM1MCA9IDMuNDMlXHJcbiAgICAgIGV4cGVjdChyZWFsVGltZU1ldHJpY3MuZXJyb3JSYXRlKS50b0JlQ2xvc2VUbygzLjQzLCAxKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJhdGUgbGltaXQgaGl0cyA9IDIgKyAxICsgMCA9IDNcclxuICAgICAgZXhwZWN0KHJlYWxUaW1lTWV0cmljcy5yYXRlTGltaXRIaXRzKS50b0JlKDMpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmV0cnkgYXR0ZW1wdHMgPSAzICsgMSArIDIgPSA2XHJcbiAgICAgIGV4cGVjdChyZWFsVGltZU1ldHJpY3MucmV0cnlBdHRlbXB0cykudG9CZSg2KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBlbmRwb2ludC1zcGVjaWZpYyBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgY29uc3QgZW5kcG9pbnRNZXRyaWNzID0gZGF0YS5kYXRhLmVuZHBvaW50TWV0cmljcztcclxuICAgICAgXHJcbiAgICAgIC8vIENyZWF0ZSBQcmVmZXJlbmNlIG1ldHJpY3NcclxuICAgICAgZXhwZWN0KGVuZHBvaW50TWV0cmljcy5jcmVhdGVQcmVmZXJlbmNlLnJlcXVlc3RzKS50b0JlKDEwMCk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3MuY3JlYXRlUHJlZmVyZW5jZS5zdWNjZXNzUmF0ZSkudG9CZSg5NSk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3MuY3JlYXRlUHJlZmVyZW5jZS5hdmVyYWdlUmVzcG9uc2VUaW1lKS50b0JlKDI1MCk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3MuY3JlYXRlUHJlZmVyZW5jZS5lcnJvckNvdW50KS50b0JlKDUpO1xyXG4gICAgICBcclxuICAgICAgLy8gV2ViaG9vayBtZXRyaWNzXHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3Mud2ViaG9vay5yZXF1ZXN0cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoZW5kcG9pbnRNZXRyaWNzLndlYmhvb2suc3VjY2Vzc1JhdGUpLnRvQmUoOTcuNSk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3Mud2ViaG9vay5hdmVyYWdlUmVzcG9uc2VUaW1lKS50b0JlKDEwMCk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3Mud2ViaG9vay5lcnJvckNvdW50KS50b0JlKDUpO1xyXG4gICAgICBcclxuICAgICAgLy8gUGF5bWVudCBRdWVyeSBtZXRyaWNzXHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3MucGF5bWVudFF1ZXJ5LnJlcXVlc3RzKS50b0JlKDUwKTtcclxuICAgICAgZXhwZWN0KGVuZHBvaW50TWV0cmljcy5wYXltZW50UXVlcnkuc3VjY2Vzc1JhdGUpLnRvQmUoOTYpO1xyXG4gICAgICBleHBlY3QoZW5kcG9pbnRNZXRyaWNzLnBheW1lbnRRdWVyeS5hdmVyYWdlUmVzcG9uc2VUaW1lKS50b0JlKDE1MCk7XHJcbiAgICAgIGV4cGVjdChlbmRwb2ludE1ldHJpY3MucGF5bWVudFF1ZXJ5LmVycm9yQ291bnQpLnRvQmUoMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgc3lzdGVtIGhlYWx0aCBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9tZXJjYWRvcGFnby9tZXRyaWNzJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGNvbnN0IHN5c3RlbUhlYWx0aCA9IGRhdGEuZGF0YS5zeXN0ZW1IZWFsdGg7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc3lzdGVtSGVhbHRoLnJlZGlzU3RhdHVzKS50b0JlKCdjb25uZWN0ZWQnKTtcclxuICAgICAgZXhwZWN0KHN5c3RlbUhlYWx0aC5sYXN0VXBkYXRlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc3lzdGVtSGVhbHRoLnVwdGltZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhbGVydHMgZm9yIGhpZ2ggZXJyb3IgcmF0ZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIE1vY2sgaGlnaCBlcnJvciByYXRlIHNjZW5hcmlvXHJcbiAgICAgIGNvbnN0IHsgbWV0cmljc0NvbGxlY3RvciB9ID0gcmVxdWlyZSgnQC9saWIvbWV0cmljcycpO1xyXG4gICAgICBtZXRyaWNzQ29sbGVjdG9yLmdldE1lcmNhZG9QYWdvTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgIHBheW1lbnRfY3JlYXRpb246IHtcclxuICAgICAgICAgIHJlcXVlc3RzOiB7IHRvdGFsOiAxMDAsIHN1Y2Nlc3M6IDgwLCBlcnJvcjogMjAsIHJhdGVfbGltaXRlZDogMCB9LFxyXG4gICAgICAgICAgcmVzcG9uc2VfdGltZXM6IHsgYXZnOiAyNTAgfSxcclxuICAgICAgICAgIHJldHJ5X3N0YXRzOiB7IHRvdGFsX3JldHJpZXM6IDAsIHN1Y2Nlc3NmdWxfcmV0cmllczogMCwgZmFpbGVkX3JldHJpZXM6IDAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBheW1lbnRfcXVlcmllczoge1xyXG4gICAgICAgICAgcmVxdWVzdHM6IHsgdG90YWw6IDAsIHN1Y2Nlc3M6IDAsIGVycm9yOiAwLCByYXRlX2xpbWl0ZWQ6IDAgfSxcclxuICAgICAgICAgIHJlc3BvbnNlX3RpbWVzOiB7IGF2ZzogMCB9LFxyXG4gICAgICAgICAgcmV0cnlfc3RhdHM6IHsgdG90YWxfcmV0cmllczogMCwgc3VjY2Vzc2Z1bF9yZXRyaWVzOiAwLCBmYWlsZWRfcmV0cmllczogMCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2ViaG9va19wcm9jZXNzaW5nOiB7XHJcbiAgICAgICAgICByZXF1ZXN0czogeyB0b3RhbDogMCwgc3VjY2VzczogMCwgZXJyb3I6IDAsIHJhdGVfbGltaXRlZDogMCB9LFxyXG4gICAgICAgICAgcmVzcG9uc2VfdGltZXM6IHsgYXZnOiAwIH0sXHJcbiAgICAgICAgICByZXRyeV9zdGF0czogeyB0b3RhbF9yZXRyaWVzOiAwLCBzdWNjZXNzZnVsX3JldHJpZXM6IDAsIGZhaWxlZF9yZXRyaWVzOiAwIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgY29uc3QgYWxlcnRzID0gZGF0YS5kYXRhLmFsZXJ0cztcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3VsZCBoYXZlIGFuIGVycm9yIGFsZXJ0IGZvciBoaWdoIGVycm9yIHJhdGUgKDIwJSlcclxuICAgICAgZXhwZWN0KGFsZXJ0cykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QoYWxlcnRzWzBdLnR5cGUpLnRvQmUoJ2Vycm9yJyk7XHJcbiAgICAgIGV4cGVjdChhbGVydHNbMF0ubWVzc2FnZSkudG9Db250YWluKCdUYXNhIGRlIGVycm9yIGFsdGEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgYWxlcnRzIGZvciBoaWdoIHJlc3BvbnNlIHRpbWVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIGhpZ2ggcmVzcG9uc2UgdGltZSBzY2VuYXJpb1xyXG4gICAgICBjb25zdCB7IG1ldHJpY3NDb2xsZWN0b3IgfSA9IHJlcXVpcmUoJ0AvbGliL21ldHJpY3MnKTtcclxuICAgICAgbWV0cmljc0NvbGxlY3Rvci5nZXRNZXJjYWRvUGFnb01ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBwYXltZW50X2NyZWF0aW9uOiB7XHJcbiAgICAgICAgICByZXF1ZXN0czogeyB0b3RhbDogMTAwLCBzdWNjZXNzOiAxMDAsIGVycm9yOiAwLCByYXRlX2xpbWl0ZWQ6IDAgfSxcclxuICAgICAgICAgIHJlc3BvbnNlX3RpbWVzOiB7IGF2ZzogNTAwMCB9LCAvLyA1IHNlY29uZHNcclxuICAgICAgICAgIHJldHJ5X3N0YXRzOiB7IHRvdGFsX3JldHJpZXM6IDAsIHN1Y2Nlc3NmdWxfcmV0cmllczogMCwgZmFpbGVkX3JldHJpZXM6IDAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBheW1lbnRfcXVlcmllczoge1xyXG4gICAgICAgICAgcmVxdWVzdHM6IHsgdG90YWw6IDAsIHN1Y2Nlc3M6IDAsIGVycm9yOiAwLCByYXRlX2xpbWl0ZWQ6IDAgfSxcclxuICAgICAgICAgIHJlc3BvbnNlX3RpbWVzOiB7IGF2ZzogMCB9LFxyXG4gICAgICAgICAgcmV0cnlfc3RhdHM6IHsgdG90YWxfcmV0cmllczogMCwgc3VjY2Vzc2Z1bF9yZXRyaWVzOiAwLCBmYWlsZWRfcmV0cmllczogMCB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2ViaG9va19wcm9jZXNzaW5nOiB7XHJcbiAgICAgICAgICByZXF1ZXN0czogeyB0b3RhbDogMCwgc3VjY2VzczogMCwgZXJyb3I6IDAsIHJhdGVfbGltaXRlZDogMCB9LFxyXG4gICAgICAgICAgcmVzcG9uc2VfdGltZXM6IHsgYXZnOiAwIH0sXHJcbiAgICAgICAgICByZXRyeV9zdGF0czogeyB0b3RhbF9yZXRyaWVzOiAwLCBzdWNjZXNzZnVsX3JldHJpZXM6IDAsIGZhaWxlZF9yZXRyaWVzOiAwIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgY29uc3QgYWxlcnRzID0gZGF0YS5kYXRhLmFsZXJ0cztcclxuICAgICAgXHJcbiAgICAgIC8vIFNob3VsZCBoYXZlIGEgd2FybmluZyBhbGVydCBmb3IgaGlnaCByZXNwb25zZSB0aW1lXHJcbiAgICAgIGV4cGVjdChhbGVydHMpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KGFsZXJ0c1swXS50eXBlKS50b0JlKCd3YXJuaW5nJyk7XHJcbiAgICAgIGV4cGVjdChhbGVydHNbMF0ubWVzc2FnZSkudG9Db250YWluKCdUaWVtcG8gZGUgcmVzcHVlc3RhIGFsdG8nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSBmb3IgdW5hdXRoZW50aWNhdGVkIHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIHVuYXV0aGVudGljYXRlZCB1c2VyXHJcbiAgICAgIGNvbnN0IHsgYXV0aCB9ID0gcmVxdWlyZSgnQGNsZXJrL25leHRqcy9zZXJ2ZXInKTtcclxuICAgICAgYXV0aC5tb2NrUmV0dXJuVmFsdWVPbmNlKHsgdXNlcklkOiBudWxsIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9tZXJjYWRvcGFnby9tZXRyaWNzJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcclxuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yKS50b0JlKCdObyBhdXRvcml6YWRvJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9hZG1pbi9tZXJjYWRvcGFnby9tZXRyaWNzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXNldCBtZXRyaWNzIHN1Y2Nlc3NmdWxseSBmb3IgYXV0aGVudGljYXRlZCB1c2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoZGF0YS5tZXNzYWdlKS50b0JlKCdNw6l0cmljYXMgcmVpbmljaWFkYXMgY29ycmVjdGFtZW50ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIGZvciB1bmF1dGhlbnRpY2F0ZWQgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIE1vY2sgdW5hdXRoZW50aWNhdGVkIHVzZXJcclxuICAgICAgY29uc3QgeyBhdXRoIH0gPSByZXF1aXJlKCdAY2xlcmsvbmV4dGpzL3NlcnZlcicpO1xyXG4gICAgICBhdXRoLm1vY2tSZXR1cm5WYWx1ZU9uY2UoeyB1c2VySWQ6IG51bGwgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL21lcmNhZG9wYWdvL21ldHJpY3MnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xyXG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IpLnRvQmUoJ05vIGF1dG9yaXphZG8nKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiYXV0aCIsImZuIiwibWV0cmljc0NvbGxlY3RvciIsImdldE1lcmNhZG9QYWdvTWV0cmljcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicGF5bWVudF9jcmVhdGlvbiIsInJlcXVlc3RzIiwidG90YWwiLCJzdWNjZXNzIiwiZXJyb3IiLCJyYXRlX2xpbWl0ZWQiLCJyZXNwb25zZV90aW1lcyIsImF2ZyIsIm1pbiIsIm1heCIsInA5NSIsInA5OSIsInJldHJ5X3N0YXRzIiwidG90YWxfcmV0cmllcyIsInN1Y2Nlc3NmdWxfcmV0cmllcyIsImZhaWxlZF9yZXRyaWVzIiwicGF5bWVudF9xdWVyaWVzIiwid2ViaG9va19wcm9jZXNzaW5nIiwiaXNSZWRpc0F2YWlsYWJsZSIsImxvZ2dlciIsImluZm8iLCJ3YXJuIiwiTG9nQ2F0ZWdvcnkiLCJBUEkiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJyZXNwb25zZSIsIkdFVCIsImRhdGEiLCJqc29uIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsInRvQmVEZWZpbmVkIiwicmVhbFRpbWVNZXRyaWNzIiwiZW5kcG9pbnRNZXRyaWNzIiwic3lzdGVtSGVhbHRoIiwiYWxlcnRzIiwidG90YWxSZXF1ZXN0cyIsInN1Y2Nlc3NSYXRlIiwidG9CZUNsb3NlVG8iLCJlcnJvclJhdGUiLCJyYXRlTGltaXRIaXRzIiwicmV0cnlBdHRlbXB0cyIsImNyZWF0ZVByZWZlcmVuY2UiLCJhdmVyYWdlUmVzcG9uc2VUaW1lIiwiZXJyb3JDb3VudCIsIndlYmhvb2siLCJwYXltZW50UXVlcnkiLCJyZWRpc1N0YXR1cyIsImxhc3RVcGRhdGUiLCJ1cHRpbWUiLCJ0b0JlR3JlYXRlclRoYW4iLCJyZXF1aXJlIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwidG9IYXZlTGVuZ3RoIiwidHlwZSIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJtb2NrUmV0dXJuVmFsdWVPbmNlIiwidXNlcklkIiwibWV0aG9kIiwiUE9TVCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLHFEQUFxRDtBQUNyRCxzQ0FBc0M7O0FBS3RDLHFDQUFxQztBQUNyQ0EsS0FBS0MsSUFBSSxDQUFDLFVBQVUsSUFBTyxDQUFBO1FBQUVDLE1BQU1GLEtBQUtHLEVBQUU7SUFBRyxDQUFBO0FBRTdDLDZCQUE2QjtBQUM3QkgsS0FBS0MsSUFBSSxDQUFDLGlCQUFpQixJQUFPLENBQUE7UUFDaENHLGtCQUFrQjtZQUNoQkMsdUJBQXVCTCxLQUFLRyxFQUFFLENBQUMsSUFBTUcsUUFBUUMsT0FBTyxDQUFDO29CQUNuREMsa0JBQWtCO3dCQUNoQkMsVUFBVTs0QkFBRUMsT0FBTzs0QkFBS0MsU0FBUzs0QkFBSUMsT0FBTzs0QkFBR0MsY0FBYzt3QkFBRTt3QkFDL0RDLGdCQUFnQjs0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