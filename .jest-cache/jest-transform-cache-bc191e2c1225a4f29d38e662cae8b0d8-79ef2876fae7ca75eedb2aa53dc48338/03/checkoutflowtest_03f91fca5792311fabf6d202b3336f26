aef068815d79b828eb746469557738d9
// ===================================
// TESTS DE INTEGRACIÓN - FLUJO DE CHECKOUT
// Tests completos del proceso de compra
// ===================================
"use strict";
// Mocks
jest.mock('@/lib/supabase', ()=>({
        supabase: {
            auth: {
                getUser: jest.fn(),
                signInWithPassword: jest.fn()
            },
            from: jest.fn(()=>({
                    select: jest.fn(()=>({
                            eq: jest.fn(()=>({
                                    single: jest.fn(),
                                    order: jest.fn(()=>({
                                            limit: jest.fn()
                                        }))
                                })),
                            insert: jest.fn(),
                            update: jest.fn(()=>({
                                    eq: jest.fn()
                                }))
                        }))
                }))
        }
    }));
jest.mock('sonner', ()=>({
        toast: {
            success: jest.fn(),
            error: jest.fn(),
            loading: jest.fn()
        }
    }));
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
// Mock MercadoPago
jest.mock('@/lib/mercadopago', ()=>({
        createPreference: jest.fn(),
        processPayment: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _reactquery = require("@tanstack/react-query");
const _page = require("../../app/checkout/page");
const _CartContext = require("../../contexts/CartContext");
const _AuthContext = require("../../contexts/AuthContext");
const _supabase = require("../../lib/supabase");
const _sonner = require("sonner");
const _navigation = require("next/navigation");
const _react1 = /*#__PURE__*/ _interop_require_default(require("react"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockRouter = {
    push: jest.fn(),
    replace: jest.fn(),
    refresh: jest.fn()
};
// Mock localStorage
const localStorageMock = (()=>{
    let store = {};
    return {
        getItem: (key)=>store[key] || null,
        setItem: (key, value)=>{
            store[key] = value;
        },
        removeItem: (key)=>{
            delete store[key];
        },
        clear: ()=>{
            store = {};
        }
    };
})();
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
// Datos de prueba
const mockUser = {
    id: 'user-123',
    email: 'test@example.com',
    user_metadata: {
        full_name: 'Test User'
    }
};
const mockCartItems = [
    {
        id: 1,
        name: 'Producto Test 1',
        price: 100,
        quantity: 2,
        image: 'https://example.com/image1.jpg',
        stock: 10
    },
    {
        id: 2,
        name: 'Producto Test 2',
        price: 50,
        quantity: 1,
        image: 'https://example.com/image2.jpg',
        stock: 5
    }
];
const mockShippingAddress = {
    street: 'Av. Corrientes 1234',
    city: 'Buenos Aires',
    state: 'CABA',
    postal_code: '1043',
    country: 'Argentina'
};
// Wrapper de providers
const createWrapper = (initialCartItems = mockCartItems)=>{
    const queryClient = new _reactquery.QueryClient({
        defaultOptions: {
            queries: {
                retry: false
            },
            mutations: {
                retry: false
            }
        }
    });
    // Configurar localStorage con items del carrito
    localStorageMock.setItem('cart-items', JSON.stringify(initialCartItems));
    return ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactquery.QueryClientProvider, {
            client: queryClient,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_AuthContext.AuthProvider, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CartContext.CartProvider, {
                    children: children
                })
            })
        });
};
describe('Flujo de Checkout - Integración', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        localStorageMock.clear();
        _navigation.useRouter.mockReturnValue(mockRouter);
    });
    describe('Inicialización del Checkout', ()=>{
        it('debe mostrar los productos del carrito correctamente', async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Verificar que se muestran los productos
            expect(_react.screen.getByText('Producto Test 1')).toBeInTheDocument();
            expect(_react.screen.getByText('Producto Test 2')).toBeInTheDocument();
            // Verificar cantidades
            expect(_react.screen.getByText('Cantidad: 2')).toBeInTheDocument();
            expect(_react.screen.getByText('Cantidad: 1')).toBeInTheDocument();
            // Verificar total
            expect(_react.screen.getByText('Total: $250')).toBeInTheDocument();
        });
        it('debe redirigir si el carrito está vacío', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper([])
            });
            await (0, _react.waitFor)(()=>{
                expect(mockRouter.push).toHaveBeenCalledWith('/cart');
            });
            expect(_sonner.toast.error).toHaveBeenCalledWith('Tu carrito está vacío. Agrega productos antes de continuar.');
        });
        it('debe mostrar formulario de login si no está autenticado', async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            expect(_react.screen.getByText('Iniciar Sesión')).toBeInTheDocument();
            expect(_react.screen.getByLabelText('Email')).toBeInTheDocument();
            expect(_react.screen.getByLabelText('Contraseña')).toBeInTheDocument();
        });
    });
    describe('Autenticación en Checkout', ()=>{
        it('debe permitir login durante el checkout', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            _supabase.supabase.auth.signInWithPassword.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Llenar formulario de login
            await user.type(_react.screen.getByLabelText('Email'), 'test@example.com');
            await user.type(_react.screen.getByLabelText('Contraseña'), 'password123');
            // Hacer click en login
            await user.click(_react.screen.getByRole('button', {
                name: /iniciar sesión/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.auth.signInWithPassword).toHaveBeenCalledWith({
                    email: 'test@example.com',
                    password: 'password123'
                });
            });
            // Debe mostrar el formulario de checkout después del login
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Información de Envío')).toBeInTheDocument();
            });
        });
        it('debe manejar errores de login', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            _supabase.supabase.auth.signInWithPassword.mockResolvedValue({
                data: null,
                error: {
                    message: 'Invalid credentials'
                }
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await user.type(_react.screen.getByLabelText('Email'), 'test@example.com');
            await user.type(_react.screen.getByLabelText('Contraseña'), 'wrongpassword');
            await user.click(_react.screen.getByRole('button', {
                name: /iniciar sesión/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Credenciales inválidas');
            });
        });
    });
    describe('Formulario de Información de Envío', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        it('debe validar campos requeridos', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Intentar continuar sin llenar campos
            const continueButton = _react.screen.getByRole('button', {
                name: /continuar/i
            });
            await user.click(continueButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('La dirección es requerida')).toBeInTheDocument();
                expect(_react.screen.getByText('La ciudad es requerida')).toBeInTheDocument();
                expect(_react.screen.getByText('El código postal es requerido')).toBeInTheDocument();
            });
        });
        it('debe llenar y validar el formulario correctamente', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Llenar formulario de envío
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            // Seleccionar país
            const countrySelect = _react.screen.getByLabelText('País');
            await user.selectOptions(countrySelect, mockShippingAddress.country);
            // Continuar al siguiente paso
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Método de Pago')).toBeInTheDocument();
            });
        });
        it('debe validar formato de código postal', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await user.type(_react.screen.getByLabelText('Código Postal'), 'invalid');
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Formato de código postal inválido')).toBeInTheDocument();
            });
        });
    });
    describe('Selección de Método de Pago', ()=>{
        beforeEach(async ()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        const fillShippingForm = async (user)=>{
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
        };
        it('debe mostrar opciones de pago disponibles', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('MercadoPago')).toBeInTheDocument();
                expect(_react.screen.getByText('Transferencia Bancaria')).toBeInTheDocument();
                expect(_react.screen.getByText('Efectivo')).toBeInTheDocument();
            });
        });
        it('debe seleccionar método de pago', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            // Seleccionar MercadoPago
            const mercadopagoOption = _react.screen.getByLabelText('MercadoPago');
            await user.click(mercadopagoOption);
            expect(mercadopagoOption).toBeChecked();
            // Debe mostrar información adicional de MercadoPago
            expect(_react.screen.getByText('Paga con tarjeta de crédito, débito o efectivo')).toBeInTheDocument();
        });
        it('debe validar selección de método de pago', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await fillShippingForm(user);
            // Intentar continuar sin seleccionar método de pago
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Selecciona un método de pago')).toBeInTheDocument();
            });
        });
    });
    describe('Finalización de Compra', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        const completeCheckoutForm = async (user)=>{
            // Llenar información de envío
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            // Seleccionar método de pago
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
        };
        it('debe crear la orden exitosamente', async ()=>{
            const user = _userevent.default.setup();
            // Mock de creación de orden
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            // Finalizar compra
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.from).toHaveBeenCalledWith('orders');
                expect(_sonner.toast.success).toHaveBeenCalledWith('¡Compra realizada exitosamente!');
                expect(mockRouter.push).toHaveBeenCalledWith('/orders/order-123');
            });
        });
        it('debe manejar errores al crear la orden', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: null,
                    error: {
                        message: 'Database error'
                    }
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Error al procesar la compra. Intenta nuevamente.');
            });
        });
        it('debe validar stock antes de crear la orden', async ()=>{
            const user = _userevent.default.setup();
            // Mock de productos con stock insuficiente
            const itemsWithLowStock = [
                {
                    ...mockCartItems[0],
                    quantity: 15,
                    stock: 10
                } // Más cantidad que stock
            ];
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper(itemsWithLowStock)
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Algunos productos no tienen stock suficiente');
            });
        });
        it('debe limpiar el carrito después de compra exitosa', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            await completeCheckoutForm(user);
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                // Verificar que el localStorage se limpió
                const cartItems = JSON.parse(localStorageMock.getItem('cart-items') || '[]');
                expect(cartItems).toEqual([]);
            });
        });
    });
    describe('Integración con MercadoPago', ()=>{
        beforeEach(()=>{
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
        });
        it('debe crear preferencia de MercadoPago', async ()=>{
            const user = _userevent.default.setup();
            const { createPreference } = require('@/lib/mercadopago');
            createPreference.mockResolvedValue({
                id: 'preference-123',
                init_point: 'https://mercadopago.com/checkout/preference-123'
            });
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'order-123'
                        }
                    ],
                    error: null
                })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(createPreference).toHaveBeenCalledWith({
                    items: expect.arrayContaining([
                        expect.objectContaining({
                            title: 'Producto Test 1',
                            unit_price: 100,
                            quantity: 2
                        })
                    ]),
                    payer: {
                        email: mockUser.email
                    },
                    external_reference: 'order-123'
                });
            });
        });
    });
    describe('Casos Edge y Errores', ()=>{
        it('debe manejar pérdida de conexión', async ()=>{
            const user = _userevent.default.setup();
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockRejectedValue(new Error('Network error'))
            });
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario rápidamente
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            await user.click(_react.screen.getByRole('button', {
                name: /finalizar compra/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_sonner.toast.error).toHaveBeenCalledWith('Error de conexión. Verifica tu internet e intenta nuevamente.');
            });
        });
        it('debe prevenir doble envío de formulario', async ()=>{
            const user = _userevent.default.setup();
            let resolveInsert;
            const insertPromise = new Promise((resolve)=>{
                resolveInsert = resolve;
            });
            _supabase.supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue(insertPromise)
            });
            _supabase.supabase.auth.getUser.mockResolvedValue({
                data: {
                    user: mockUser
                },
                error: null
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.CheckoutPage, {}), {
                wrapper: createWrapper()
            });
            // Completar formulario
            await user.type(_react.screen.getByLabelText('Dirección'), mockShippingAddress.street);
            await user.type(_react.screen.getByLabelText('Ciudad'), mockShippingAddress.city);
            await user.type(_react.screen.getByLabelText('Provincia/Estado'), mockShippingAddress.state);
            await user.type(_react.screen.getByLabelText('Código Postal'), mockShippingAddress.postal_code);
            await user.selectOptions(_react.screen.getByLabelText('País'), mockShippingAddress.country);
            await user.click(_react.screen.getByRole('button', {
                name: /continuar/i
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByLabelText('MercadoPago')).toBeInTheDocument();
            });
            await user.click(_react.screen.getByLabelText('MercadoPago'));
            const submitButton = _react.screen.getByRole('button', {
                name: /finalizar compra/i
            });
            // Hacer doble click rápido
            await user.click(submitButton);
            await user.click(submitButton);
            // El botón debe estar deshabilitado después del primer click
            expect(submitButton).toBeDisabled();
            // Resolver la promesa
            resolveInsert({
                data: [
                    {
                        id: 'order-123'
                    }
                ],
                error: null
            });
            // Solo debe haberse llamado una vez
            await (0, _react.waitFor)(()=>{
                expect(_supabase.supabase.from().insert).toHaveBeenCalledTimes(1);
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxpbnRlZ3JhdGlvblxcY2hlY2tvdXQtZmxvdy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVEVTVFMgREUgSU5URUdSQUNJw5NOIC0gRkxVSk8gREUgQ0hFQ0tPVVRcbi8vIFRlc3RzIGNvbXBsZXRvcyBkZWwgcHJvY2VzbyBkZSBjb21wcmFcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IsIHdpdGhpbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IHsgUXVlcnlDbGllbnQsIFF1ZXJ5Q2xpZW50UHJvdmlkZXIgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgQ2hlY2tvdXRQYWdlIH0gZnJvbSAnQC9hcHAvY2hlY2tvdXQvcGFnZSc7XG5pbXBvcnQgeyBDYXJ0UHJvdmlkZXIgfSBmcm9tICdAL2NvbnRleHRzL0NhcnRDb250ZXh0JztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3Nvbm5lcic7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gTW9ja3Ncbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2UnLCAoKSA9PiAoe1xuICBzdXBhYmFzZToge1xuICAgIGF1dGg6IHtcbiAgICAgIGdldFVzZXI6IGplc3QuZm4oKSxcbiAgICAgIHNpZ25JbldpdGhQYXNzd29yZDogamVzdC5mbigpXG4gICAgfSxcbiAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgZXE6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICAgICAgICBvcmRlcjogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgbGltaXQ6IGplc3QuZm4oKVxuICAgICAgICAgIH0pKVxuICAgICAgICB9KSksXG4gICAgICAgIGluc2VydDogamVzdC5mbigpLFxuICAgICAgICB1cGRhdGU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpXG4gICAgICAgIH0pKVxuICAgICAgfSkpXG4gICAgfSkpXG4gIH1cbn0pKTtcblxuamVzdC5tb2NrKCdzb25uZXInLCAoKSA9PiAoe1xuICB0b2FzdDoge1xuICAgIHN1Y2Nlc3M6IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpLFxuICAgIGxvYWRpbmc6IGplc3QuZm4oKVxuICB9XG59KSk7XG5cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayBNZXJjYWRvUGFnb1xuamVzdC5tb2NrKCdAL2xpYi9tZXJjYWRvcGFnbycsICgpID0+ICh7XG4gIGNyZWF0ZVByZWZlcmVuY2U6IGplc3QuZm4oKSxcbiAgcHJvY2Vzc1BheW1lbnQ6IGplc3QuZm4oKVxufSkpO1xuXG5jb25zdCBtb2NrUm91dGVyID0ge1xuICBwdXNoOiBqZXN0LmZuKCksXG4gIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgcmVmcmVzaDogamVzdC5mbigpXG59O1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbG9jYWxTdG9yYWdlTW9jayA9ICgoKSA9PiB7XG4gIGxldCBzdG9yZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICByZXR1cm4ge1xuICAgIGdldEl0ZW06IChrZXk6IHN0cmluZykgPT4gc3RvcmVba2V5XSB8fCBudWxsLFxuICAgIHNldEl0ZW06IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4geyBzdG9yZVtrZXldID0gdmFsdWU7IH0sXG4gICAgcmVtb3ZlSXRlbTogKGtleTogc3RyaW5nKSA9PiB7IGRlbGV0ZSBzdG9yZVtrZXldOyB9LFxuICAgIGNsZWFyOiAoKSA9PiB7IHN0b3JlID0ge307IH1cbiAgfTtcbn0pKCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7IHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrIH0pO1xuXG4vLyBEYXRvcyBkZSBwcnVlYmFcbmNvbnN0IG1vY2tVc2VyID0ge1xuICBpZDogJ3VzZXItMTIzJyxcbiAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgdXNlcl9tZXRhZGF0YTogeyBmdWxsX25hbWU6ICdUZXN0IFVzZXInIH1cbn07XG5cbmNvbnN0IG1vY2tDYXJ0SXRlbXMgPSBbXG4gIHtcbiAgICBpZDogMSxcbiAgICBuYW1lOiAnUHJvZHVjdG8gVGVzdCAxJyxcbiAgICBwcmljZTogMTAwLFxuICAgIHF1YW50aXR5OiAyLFxuICAgIGltYWdlOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZTEuanBnJyxcbiAgICBzdG9jazogMTBcbiAgfSxcbiAge1xuICAgIGlkOiAyLFxuICAgIG5hbWU6ICdQcm9kdWN0byBUZXN0IDInLFxuICAgIHByaWNlOiA1MCxcbiAgICBxdWFudGl0eTogMSxcbiAgICBpbWFnZTogJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UyLmpwZycsXG4gICAgc3RvY2s6IDVcbiAgfVxuXTtcblxuY29uc3QgbW9ja1NoaXBwaW5nQWRkcmVzcyA9IHtcbiAgc3RyZWV0OiAnQXYuIENvcnJpZW50ZXMgMTIzNCcsXG4gIGNpdHk6ICdCdWVub3MgQWlyZXMnLFxuICBzdGF0ZTogJ0NBQkEnLFxuICBwb3N0YWxfY29kZTogJzEwNDMnLFxuICBjb3VudHJ5OiAnQXJnZW50aW5hJ1xufTtcblxuLy8gV3JhcHBlciBkZSBwcm92aWRlcnNcbmNvbnN0IGNyZWF0ZVdyYXBwZXIgPSAoaW5pdGlhbENhcnRJdGVtcyA9IG1vY2tDYXJ0SXRlbXMpID0+IHtcbiAgY29uc3QgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoe1xuICAgIGRlZmF1bHRPcHRpb25zOiB7XG4gICAgICBxdWVyaWVzOiB7IHJldHJ5OiBmYWxzZSB9LFxuICAgICAgbXV0YXRpb25zOiB7IHJldHJ5OiBmYWxzZSB9XG4gICAgfVxuICB9KTtcblxuICAvLyBDb25maWd1cmFyIGxvY2FsU3RvcmFnZSBjb24gaXRlbXMgZGVsIGNhcnJpdG9cbiAgbG9jYWxTdG9yYWdlTW9jay5zZXRJdGVtKCdjYXJ0LWl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoaW5pdGlhbENhcnRJdGVtcykpO1xuXG4gIHJldHVybiAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4gKFxuICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgPENhcnRQcm92aWRlcj5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvQ2FydFByb3ZpZGVyPlxuICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICApO1xufTtcblxuZGVzY3JpYmUoJ0ZsdWpvIGRlIENoZWNrb3V0IC0gSW50ZWdyYWNpw7NuJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmNsZWFyKCk7XG4gICAgKHVzZVJvdXRlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrUm91dGVyKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0luaWNpYWxpemFjacOzbiBkZWwgQ2hlY2tvdXQnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgbW9zdHJhciBsb3MgcHJvZHVjdG9zIGRlbCBjYXJyaXRvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoc3VwYWJhc2UuYXV0aC5nZXRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IG1vY2tVc2VyIH0sXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xuXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIHNlIG11ZXN0cmFuIGxvcyBwcm9kdWN0b3NcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0byBUZXN0IDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcm9kdWN0byBUZXN0IDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FyIGNhbnRpZGFkZXNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDYW50aWRhZDogMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhbnRpZGFkOiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmaWNhciB0b3RhbFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvdGFsOiAkMjUwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSByZWRpcmlnaXIgc2kgZWwgY2Fycml0byBlc3TDoSB2YWPDrW8nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKFtdKSB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrUm91dGVyLnB1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvY2FydCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdCh0b2FzdC5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdUdSBjYXJyaXRvIGVzdMOhIHZhY8Otby4gQWdyZWdhIHByb2R1Y3RvcyBhbnRlcyBkZSBjb250aW51YXIuJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIG1vc3RyYXIgZm9ybXVsYXJpbyBkZSBsb2dpbiBzaSBubyBlc3TDoSBhdXRlbnRpY2FkbycsIGFzeW5jICgpID0+IHtcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luaWNpYXIgU2VzacOzbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRW1haWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NvbnRyYXNlw7FhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBdXRlbnRpY2FjacOzbiBlbiBDaGVja291dCcsICgpID0+IHtcbiAgICBpdCgnZGViZSBwZXJtaXRpciBsb2dpbiBkdXJhbnRlIGVsIGNoZWNrb3V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoc3VwYWJhc2UuYXV0aC5nZXRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICAoc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG5cbiAgICAgIC8vIExsZW5hciBmb3JtdWxhcmlvIGRlIGxvZ2luXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCcpLCAndGVzdEBleGFtcGxlLmNvbScpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ29udHJhc2XDsWEnKSwgJ3Bhc3N3b3JkMTIzJyk7XG4gICAgICBcbiAgICAgIC8vIEhhY2VyIGNsaWNrIGVuIGxvZ2luXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2luaWNpYXIgc2VzacOzbi9pIH0pKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRGViZSBtb3N0cmFyIGVsIGZvcm11bGFyaW8gZGUgY2hlY2tvdXQgZGVzcHXDqXMgZGVsIGxvZ2luXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm9ybWFjacOzbiBkZSBFbnbDrW8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBlcnJvcmVzIGRlIGxvZ2luJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoc3VwYWJhc2UuYXV0aC5nZXRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICAoc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xuXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdFbWFpbCcpLCAndGVzdEBleGFtcGxlLmNvbScpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ29udHJhc2XDsWEnKSwgJ3dyb25ncGFzc3dvcmQnKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5pY2lhciBzZXNpw7NuL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHRvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQ3JlZGVuY2lhbGVzIGludsOhbGlkYXMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRm9ybXVsYXJpbyBkZSBJbmZvcm1hY2nDs24gZGUgRW52w61vJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSB2YWxpZGFyIGNhbXBvcyByZXF1ZXJpZG9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG5cbiAgICAgIC8vIEludGVudGFyIGNvbnRpbnVhciBzaW4gbGxlbmFyIGNhbXBvc1xuICAgICAgY29uc3QgY29udGludWVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY29udGludWVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xhIGRpcmVjY2nDs24gZXMgcmVxdWVyaWRhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMYSBjaXVkYWQgZXMgcmVxdWVyaWRhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbCBjw7NkaWdvIHBvc3RhbCBlcyByZXF1ZXJpZG8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgbGxlbmFyIHkgdmFsaWRhciBlbCBmb3JtdWxhcmlvIGNvcnJlY3RhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcblxuICAgICAgLy8gTGxlbmFyIGZvcm11bGFyaW8gZGUgZW52w61vXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdEaXJlY2Npw7NuJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RyZWV0KTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUHJvdmluY2lhL0VzdGFkbycpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0YXRlKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0PDs2RpZ28gUG9zdGFsJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MucG9zdGFsX2NvZGUpO1xuICAgICAgXG4gICAgICAvLyBTZWxlY2Npb25hciBwYcOtc1xuICAgICAgY29uc3QgY291bnRyeVNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKTtcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjb3VudHJ5U2VsZWN0LCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNvdW50cnkpO1xuXG4gICAgICAvLyBDb250aW51YXIgYWwgc2lndWllbnRlIHBhc29cbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ03DqXRvZG8gZGUgUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSB2YWxpZGFyIGZvcm1hdG8gZGUgY8OzZGlnbyBwb3N0YWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBcbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcblxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ8OzZGlnbyBQb3N0YWwnKSwgJ2ludmFsaWQnKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Zvcm1hdG8gZGUgY8OzZGlnbyBwb3N0YWwgaW52w6FsaWRvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlbGVjY2nDs24gZGUgTcOpdG9kbyBkZSBQYWdvJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBmaWxsU2hpcHBpbmdGb3JtID0gYXN5bmMgKHVzZXI6IGFueSkgPT4ge1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDaXVkYWQnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jaXR5KTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Byb3ZpbmNpYS9Fc3RhZG8nKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5zdGF0ZSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhw61zJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MuY291bnRyeSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NvbnRpbnVhci9pIH0pKTtcbiAgICB9O1xuXG4gICAgaXQoJ2RlYmUgbW9zdHJhciBvcGNpb25lcyBkZSBwYWdvIGRpc3BvbmlibGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGZpbGxTaGlwcGluZ0Zvcm0odXNlcik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWVyY2Fkb1BhZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RyYW5zZmVyZW5jaWEgQmFuY2FyaWEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VmZWN0aXZvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHNlbGVjY2lvbmFyIG3DqXRvZG8gZGUgcGFnbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBmaWxsU2hpcHBpbmdGb3JtKHVzZXIpO1xuXG4gICAgICAvLyBTZWxlY2Npb25hciBNZXJjYWRvUGFnb1xuICAgICAgY29uc3QgbWVyY2Fkb3BhZ29PcHRpb24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG1lcmNhZG9wYWdvT3B0aW9uKTtcblxuICAgICAgZXhwZWN0KG1lcmNhZG9wYWdvT3B0aW9uKS50b0JlQ2hlY2tlZCgpO1xuICAgICAgXG4gICAgICAvLyBEZWJlIG1vc3RyYXIgaW5mb3JtYWNpw7NuIGFkaWNpb25hbCBkZSBNZXJjYWRvUGFnb1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BhZ2EgY29uIHRhcmpldGEgZGUgY3LDqWRpdG8sIGTDqWJpdG8gbyBlZmVjdGl2bycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgdmFsaWRhciBzZWxlY2Npw7NuIGRlIG3DqXRvZG8gZGUgcGFnbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxDaGVja291dFBhZ2UgLz4sIHsgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBmaWxsU2hpcHBpbmdGb3JtKHVzZXIpO1xuXG4gICAgICAvLyBJbnRlbnRhciBjb250aW51YXIgc2luIHNlbGVjY2lvbmFyIG3DqXRvZG8gZGUgcGFnb1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjY2lvbmEgdW4gbcOpdG9kbyBkZSBwYWdvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ZpbmFsaXphY2nDs24gZGUgQ29tcHJhJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlLmF1dGguZ2V0VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBtb2NrVXNlciB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb21wbGV0ZUNoZWNrb3V0Rm9ybSA9IGFzeW5jICh1c2VyOiBhbnkpID0+IHtcbiAgICAgIC8vIExsZW5hciBpbmZvcm1hY2nDs24gZGUgZW52w61vXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdEaXJlY2Npw7NuJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RyZWV0KTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUHJvdmluY2lhL0VzdGFkbycpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0YXRlKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0PDs2RpZ28gUG9zdGFsJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MucG9zdGFsX2NvZGUpO1xuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xuXG4gICAgICAvLyBTZWxlY2Npb25hciBtw6l0b2RvIGRlIHBhZ29cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnTWVyY2Fkb1BhZ28nKSk7XG4gICAgfTtcblxuICAgIGl0KCdkZWJlIGNyZWFyIGxhIG9yZGVuIGV4aXRvc2FtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBkZSBjcmVhY2nDs24gZGUgb3JkZW5cbiAgICAgIChzdXBhYmFzZS5mcm9tIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFt7IGlkOiAnb3JkZXItMTIzJyB9XSxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29tcGxldGVDaGVja291dEZvcm0odXNlcik7XG5cbiAgICAgIC8vIEZpbmFsaXphciBjb21wcmFcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZmluYWxpemFyIGNvbXByYS9pIH0pKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzdXBhYmFzZS5mcm9tKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnb3JkZXJzJyk7XG4gICAgICAgIGV4cGVjdCh0b2FzdC5zdWNjZXNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnwqFDb21wcmEgcmVhbGl6YWRhIGV4aXRvc2FtZW50ZSEnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9vcmRlcnMvb3JkZXItMTIzJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgZXJyb3JlcyBhbCBjcmVhciBsYSBvcmRlbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgKHN1cGFiYXNlLmZyb20gYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGF0YWJhc2UgZXJyb3InIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGNvbXBsZXRlQ2hlY2tvdXRGb3JtKHVzZXIpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHRvYXN0LmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnRXJyb3IgYWwgcHJvY2VzYXIgbGEgY29tcHJhLiBJbnRlbnRhIG51ZXZhbWVudGUuJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSB2YWxpZGFyIHN0b2NrIGFudGVzIGRlIGNyZWFyIGxhIG9yZGVuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAvLyBNb2NrIGRlIHByb2R1Y3RvcyBjb24gc3RvY2sgaW5zdWZpY2llbnRlXG4gICAgICBjb25zdCBpdGVtc1dpdGhMb3dTdG9jayA9IFtcbiAgICAgICAgeyAuLi5tb2NrQ2FydEl0ZW1zWzBdLCBxdWFudGl0eTogMTUsIHN0b2NrOiAxMCB9IC8vIE3DoXMgY2FudGlkYWQgcXVlIHN0b2NrXG4gICAgICBdO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKGl0ZW1zV2l0aExvd1N0b2NrKSB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29tcGxldGVDaGVja291dEZvcm0odXNlcik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QodG9hc3QuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICdBbGd1bm9zIHByb2R1Y3RvcyBubyB0aWVuZW4gc3RvY2sgc3VmaWNpZW50ZSdcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgbGltcGlhciBlbCBjYXJyaXRvIGRlc3B1w6lzIGRlIGNvbXByYSBleGl0b3NhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoc3VwYWJhc2UuZnJvbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBkYXRhOiBbeyBpZDogJ29yZGVyLTEyMycgfV0sXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGNvbXBsZXRlQ2hlY2tvdXRGb3JtKHVzZXIpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBlbCBsb2NhbFN0b3JhZ2Ugc2UgbGltcGnDs1xuICAgICAgICBjb25zdCBjYXJ0SXRlbXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZU1vY2suZ2V0SXRlbSgnY2FydC1pdGVtcycpIHx8ICdbXScpO1xuICAgICAgICBleHBlY3QoY2FydEl0ZW1zKS50b0VxdWFsKFtdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYWNpw7NuIGNvbiBNZXJjYWRvUGFnbycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgY3JlYXIgcHJlZmVyZW5jaWEgZGUgTWVyY2Fkb1BhZ28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCB7IGNyZWF0ZVByZWZlcmVuY2UgfSA9IHJlcXVpcmUoJ0AvbGliL21lcmNhZG9wYWdvJyk7XG4gICAgICBcbiAgICAgIGNyZWF0ZVByZWZlcmVuY2UubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBpZDogJ3ByZWZlcmVuY2UtMTIzJyxcbiAgICAgICAgaW5pdF9wb2ludDogJ2h0dHBzOi8vbWVyY2Fkb3BhZ28uY29tL2NoZWNrb3V0L3ByZWZlcmVuY2UtMTIzJ1xuICAgICAgfSk7XG5cbiAgICAgIChzdXBhYmFzZS5mcm9tIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFt7IGlkOiAnb3JkZXItMTIzJyB9XSxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8Q2hlY2tvdXRQYWdlIC8+LCB7IHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSB9KTtcbiAgICAgIFxuICAgICAgLy8gQ29tcGxldGFyIGZvcm11bGFyaW9cbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0RpcmVjY2nDs24nKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5zdHJlZXQpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ2l1ZGFkJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MuY2l0eSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQcm92aW5jaWEvRXN0YWRvJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RhdGUpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ8OzZGlnbyBQb3N0YWwnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5wb3N0YWxfY29kZSk7XG4gICAgICBhd2FpdCB1c2VyLnNlbGVjdE9wdGlvbnMoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdQYcOtcycpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNvdW50cnkpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb250aW51YXIvaSB9KSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnTWVyY2Fkb1BhZ28nKSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbmFsaXphciBjb21wcmEvaSB9KSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoY3JlYXRlUHJlZmVyZW5jZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIGl0ZW1zOiBleHBlY3QuYXJyYXlDb250YWluaW5nKFtcbiAgICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICAgdGl0bGU6ICdQcm9kdWN0byBUZXN0IDEnLFxuICAgICAgICAgICAgICB1bml0X3ByaWNlOiAxMDAsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiAyXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIHBheWVyOiB7XG4gICAgICAgICAgICBlbWFpbDogbW9ja1VzZXIuZW1haWxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV4dGVybmFsX3JlZmVyZW5jZTogJ29yZGVyLTEyMydcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nhc29zIEVkZ2UgeSBFcnJvcmVzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIG1hbmVqYXIgcMOpcmRpZGEgZGUgY29uZXhpw7NuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoc3VwYWJhc2UuZnJvbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKVxuICAgICAgfSk7XG5cbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG4gICAgICBcbiAgICAgIC8vIENvbXBsZXRhciBmb3JtdWxhcmlvIHLDoXBpZGFtZW50ZVxuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnRGlyZWNjacOzbicpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0cmVldCk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDaXVkYWQnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jaXR5KTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Byb3ZpbmNpYS9Fc3RhZG8nKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5zdGF0ZSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDw7NkaWdvIFBvc3RhbCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnBvc3RhbF9jb2RlKTtcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ1Bhw61zJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MuY291bnRyeSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NvbnRpbnVhci9pIH0pKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdNZXJjYWRvUGFnbycpKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZmluYWxpemFyIGNvbXByYS9pIH0pKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdCh0b2FzdC5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJ0Vycm9yIGRlIGNvbmV4acOzbi4gVmVyaWZpY2EgdHUgaW50ZXJuZXQgZSBpbnRlbnRhIG51ZXZhbWVudGUuJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSBwcmV2ZW5pciBkb2JsZSBlbnbDrW8gZGUgZm9ybXVsYXJpbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgbGV0IHJlc29sdmVJbnNlcnQ6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAgICAgY29uc3QgaW5zZXJ0UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICByZXNvbHZlSW5zZXJ0ID0gcmVzb2x2ZTtcbiAgICAgIH0pO1xuXG4gICAgICAoc3VwYWJhc2UuZnJvbSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShpbnNlcnRQcm9taXNlKVxuICAgICAgfSk7XG5cbiAgICAgIChzdXBhYmFzZS5hdXRoLmdldFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbW9ja1VzZXIgfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPENoZWNrb3V0UGFnZSAvPiwgeyB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCkgfSk7XG4gICAgICBcbiAgICAgIC8vIENvbXBsZXRhciBmb3JtdWxhcmlvXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdEaXJlY2Npw7NuJyksIG1vY2tTaGlwcGluZ0FkZHJlc3Muc3RyZWV0KTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0NpdWRhZCcpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLmNpdHkpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUHJvdmluY2lhL0VzdGFkbycpLCBtb2NrU2hpcHBpbmdBZGRyZXNzLnN0YXRlKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0PDs2RpZ28gUG9zdGFsJyksIG1vY2tTaGlwcGluZ0FkZHJlc3MucG9zdGFsX2NvZGUpO1xuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnUGHDrXMnKSwgbW9ja1NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGludWFyL2kgfSkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnTWVyY2Fkb1BhZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ01lcmNhZG9QYWdvJykpO1xuICAgICAgXG4gICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maW5hbGl6YXIgY29tcHJhL2kgfSk7XG4gICAgICBcbiAgICAgIC8vIEhhY2VyIGRvYmxlIGNsaWNrIHLDoXBpZG9cbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3VibWl0QnV0dG9uKTtcblxuICAgICAgLy8gRWwgYm90w7NuIGRlYmUgZXN0YXIgZGVzaGFiaWxpdGFkbyBkZXNwdcOpcyBkZWwgcHJpbWVyIGNsaWNrXG4gICAgICBleHBlY3Qoc3VibWl0QnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIFxuICAgICAgLy8gUmVzb2x2ZXIgbGEgcHJvbWVzYVxuICAgICAgcmVzb2x2ZUluc2VydCEoe1xuICAgICAgICBkYXRhOiBbeyBpZDogJ29yZGVyLTEyMycgfV0sXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgLy8gU29sbyBkZWJlIGhhYmVyc2UgbGxhbWFkbyB1bmEgdmV6XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHN1cGFiYXNlLmZyb20oKS5pbnNlcnQpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInN1cGFiYXNlIiwiYXV0aCIsImdldFVzZXIiLCJmbiIsInNpZ25JbldpdGhQYXNzd29yZCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIm9yZGVyIiwibGltaXQiLCJpbnNlcnQiLCJ1cGRhdGUiLCJ0b2FzdCIsInN1Y2Nlc3MiLCJlcnJvciIsImxvYWRpbmciLCJ1c2VSb3V0ZXIiLCJjcmVhdGVQcmVmZXJlbmNlIiwicHJvY2Vzc1BheW1lbnQiLCJtb2NrUm91dGVyIiwicHVzaCIsInJlcGxhY2UiLCJyZWZyZXNoIiwibG9jYWxTdG9yYWdlTW9jayIsInN0b3JlIiwiZ2V0SXRlbSIsImtleSIsInNldEl0ZW0iLCJ2YWx1ZSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwibW9ja1VzZXIiLCJpZCIsImVtYWlsIiwidXNlcl9tZXRhZGF0YSIsImZ1bGxfbmFtZSIsIm1vY2tDYXJ0SXRlbXMiLCJuYW1lIiwicHJpY2UiLCJxdWFudGl0eSIsImltYWdlIiwic3RvY2siLCJtb2NrU2hpcHBpbmdBZGRyZXNzIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwicG9zdGFsX2NvZGUiLCJjb3VudHJ5IiwiY3JlYXRlV3JhcHBlciIsImluaXRpYWxDYXJ0SXRlbXMiLCJxdWVyeUNsaWVudCIsIlF1ZXJ5Q2xpZW50IiwiZGVmYXVsdE9wdGlvbnMiLCJxdWVyaWVzIiwicmV0cnkiLCJtdXRhdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiY2hpbGRyZW4iLCJRdWVyeUNsaWVudFByb3ZpZGVyIiwiY2xpZW50IiwiQXV0aFByb3ZpZGVyIiwiQ2FydFByb3ZpZGVyIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0IiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwidXNlciIsInJlbmRlciIsIkNoZWNrb3V0UGFnZSIsIndyYXBwZXIiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImdldEJ5TGFiZWxUZXh0IiwidXNlckV2ZW50Iiwic2V0dXAiLCJ0eXBlIiwiY2xpY2siLCJnZXRCeVJvbGUiLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJjb250aW51ZUJ1dHRvbiIsImNvdW50cnlTZWxlY3QiLCJzZWxlY3RPcHRpb25zIiwiZmlsbFNoaXBwaW5nRm9ybSIsIm1lcmNhZG9wYWdvT3B0aW9uIiwidG9CZUNoZWNrZWQiLCJjb21wbGV0ZUNoZWNrb3V0Rm9ybSIsIml0ZW1zV2l0aExvd1N0b2NrIiwiY2FydEl0ZW1zIiwicGFyc2UiLCJ0b0VxdWFsIiwicmVxdWlyZSIsImluaXRfcG9pbnQiLCJpdGVtcyIsImFycmF5Q29udGFpbmluZyIsIm9iamVjdENvbnRhaW5pbmciLCJ0aXRsZSIsInVuaXRfcHJpY2UiLCJwYXllciIsImV4dGVybmFsX3JlZmVyZW5jZSIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJyZXNvbHZlSW5zZXJ0IiwiaW5zZXJ0UHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic3VibWl0QnV0dG9uIiwidG9CZURpc2FibGVkIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsMkNBQTJDO0FBQzNDLHdDQUF3QztBQUN4QyxzQ0FBc0M7O0FBYXRD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