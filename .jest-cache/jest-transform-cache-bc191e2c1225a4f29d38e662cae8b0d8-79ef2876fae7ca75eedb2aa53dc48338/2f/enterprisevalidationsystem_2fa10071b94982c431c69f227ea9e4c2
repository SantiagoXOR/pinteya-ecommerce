ba8aef1d8d6f1f5b3b8446dd815f1512
/**
 * Sistema Enterprise de Validación y Sanitización
 * Unifica y extiende todas las validaciones con capacidades enterprise
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ENTERPRISE_VALIDATION_CONFIGS () {
        return ENTERPRISE_VALIDATION_CONFIGS;
    },
    get EnterpriseSanitizer () {
        return EnterpriseSanitizer;
    },
    get EnterpriseValidator () {
        return EnterpriseValidator;
    },
    get basicSanitizer () {
        return basicSanitizer;
    },
    get basicValidator () {
        return basicValidator;
    },
    get criticalSanitizer () {
        return criticalSanitizer;
    },
    get criticalValidator () {
        return criticalValidator;
    },
    get highSanitizer () {
        return highSanitizer;
    },
    get highValidator () {
        return highValidator;
    },
    get standardSanitizer () {
        return standardSanitizer;
    },
    get standardValidator () {
        return standardValidator;
    }
});
const _isomorphicdompurify = /*#__PURE__*/ _interop_require_default(require("isomorphic-dompurify"));
const _validator = /*#__PURE__*/ _interop_require_default(require("validator"));
const _enterpriseauditsystem = require("../security/enterprise-audit-system");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const ENTERPRISE_VALIDATION_CONFIGS = {
    // Validación crítica para operaciones admin
    CRITICAL_ADMIN: {
        enableSanitization: true,
        enableSecurityValidation: true,
        enableAuditLogging: true,
        securityLevel: 'critical',
        allowedTags: [],
        maxStringLength: 1000,
        maxArrayLength: 100,
        maxObjectDepth: 5
    },
    // Validación alta para APIs de pagos
    HIGH_PAYMENT: {
        enableSanitization: true,
        enableSecurityValidation: true,
        enableAuditLogging: true,
        securityLevel: 'high',
        allowedTags: [],
        maxStringLength: 500,
        maxArrayLength: 50,
        maxObjectDepth: 3
    },
    // Validación estándar para APIs públicas
    STANDARD_PUBLIC: {
        enableSanitization: true,
        enableSecurityValidation: true,
        enableAuditLogging: false,
        securityLevel: 'standard',
        allowedTags: [
            'b',
            'i',
            'em',
            'strong'
        ],
        maxStringLength: 2000,
        maxArrayLength: 200,
        maxObjectDepth: 4
    },
    // Validación básica para contenido de usuario
    BASIC_USER: {
        enableSanitization: true,
        enableSecurityValidation: false,
        enableAuditLogging: false,
        securityLevel: 'basic',
        allowedTags: [
            'b',
            'i',
            'em',
            'strong',
            'p',
            'br'
        ],
        maxStringLength: 5000,
        maxArrayLength: 500,
        maxObjectDepth: 3
    }
};
class EnterpriseSanitizer {
    constructor(config = ENTERPRISE_VALIDATION_CONFIGS.STANDARD_PUBLIC){
        this.config = config;
    }
    /**
   * Sanitiza una cadena de texto
   */ sanitizeString(value, options = {}) {
        if (typeof value !== 'string') {
            return String(value || '');
        }
        let sanitized = value;
        // Remover scripts maliciosos
        if (options.removeScripts !== false) {
            sanitized = sanitized.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
            sanitized = sanitized.replace(/javascript:/gi, '');
            sanitized = sanitized.replace(/on\w+\s*=/gi, '');
        }
        // Remover HTML si está configurado
        if (options.removeHtml) {
            sanitized = _isomorphicdompurify.default.sanitize(sanitized, {
                ALLOWED_TAGS: this.config.allowedTags || [],
                ALLOWED_ATTR: this.config.allowedAttributes || []
            });
        }
        // Escapar HTML
        if (options.escapeHtml) {
            sanitized = _validator.default.escape(sanitized);
        }
        // Normalizar espacios en blanco
        if (options.normalizeWhitespace !== false) {
            sanitized = sanitized.replace(/\s+/g, ' ');
        }
        // Trim strings
        if (options.trimStrings !== false) {
            sanitized = sanitized.trim();
        }
        // Remover emojis si está configurado
        if (options.removeEmojis) {
            sanitized = sanitized.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]/gu, '');
        }
        // Remover palabras clave SQL sospechosas
        if (options.removeSqlKeywords) {
            const sqlKeywords = /\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|UNION|SCRIPT)\b/gi;
            sanitized = sanitized.replace(sqlKeywords, '');
        }
        // Aplicar longitud máxima
        const maxLength = options.maxLength || this.config.maxStringLength || 10000;
        if (sanitized.length > maxLength) {
            sanitized = sanitized.substring(0, maxLength);
        }
        // Validar caracteres permitidos
        if (options.allowedCharacters) {
            sanitized = sanitized.replace(options.allowedCharacters, '');
        }
        return sanitized;
    }
    /**
   * Sanitiza un objeto recursivamente
   */ sanitizeObject(obj, depth = 0) {
        const maxDepth = this.config.maxObjectDepth || 10;
        if (depth > maxDepth) {
            throw new Error(`Objeto excede la profundidad máxima permitida (${maxDepth})`);
        }
        if (obj === null || obj === undefined) {
            return obj;
        }
        if (typeof obj === 'string') {
            return this.sanitizeString(obj, {
                removeHtml: this.config.securityLevel === 'critical',
                removeScripts: true,
                removeSqlKeywords: this.config.securityLevel !== 'basic'
            });
        }
        if (typeof obj === 'number' || typeof obj === 'boolean') {
            return obj;
        }
        if (Array.isArray(obj)) {
            const maxLength = this.config.maxArrayLength || 1000;
            if (obj.length > maxLength) {
                throw new Error(`Array excede la longitud máxima permitida (${maxLength})`);
            }
            return obj.map((item)=>this.sanitizeObject(item, depth + 1));
        }
        if (typeof obj === 'object') {
            const sanitized = {};
            for (const [key, value] of Object.entries(obj)){
                const sanitizedKey = this.sanitizeString(key, {
                    removeHtml: true,
                    removeScripts: true
                });
                sanitized[sanitizedKey] = this.sanitizeObject(value, depth + 1);
            }
            return sanitized;
        }
        return obj;
    }
    /**
   * Sanitiza datos de formulario
   */ sanitizeFormData(formData) {
        const sanitized = {};
        for (const [key, value] of formData.entries()){
            const sanitizedKey = this.sanitizeString(key, {
                removeHtml: true
            });
            if (value instanceof File) {
                // Validar archivo
                sanitized[sanitizedKey] = this.sanitizeFile(value);
            } else {
                sanitized[sanitizedKey] = this.sanitizeString(value.toString());
            }
        }
        return sanitized;
    }
    /**
   * Sanitiza información de archivos
   */ sanitizeFile(file) {
        const allowedTypes = [
            'image/jpeg',
            'image/png',
            'image/gif',
            'image/webp',
            'application/pdf',
            'text/plain',
            'text/csv'
        ];
        const sanitizedName = this.sanitizeString(file.name, {
            removeHtml: true,
            removeScripts: true,
            allowedCharacters: /[^a-zA-Z0-9._-]/g
        });
        if (!allowedTypes.includes(file.type)) {
            throw new Error(`Tipo de archivo no permitido: ${file.type}`);
        }
        const maxSize = 10 * 1024 * 1024; // 10MB
        if (file.size > maxSize) {
            throw new Error(`Archivo excede el tamaño máximo permitido (${maxSize} bytes)`);
        }
        return {
            name: sanitizedName,
            size: file.size,
            type: file.type
        };
    }
}
class EnterpriseValidator {
    constructor(config = ENTERPRISE_VALIDATION_CONFIGS.STANDARD_PUBLIC){
        this.config = config;
        this.sanitizer = new EnterpriseSanitizer(config);
    }
    /**
   * Valida y sanitiza datos usando un schema de Zod
   */ async validateAndSanitize(schema, data, context, request) {
        const startTime = Date.now();
        const rulesApplied = [];
        try {
            // 1. Sanitización si está habilitada
            let sanitizedData = data;
            if (this.config.enableSanitization) {
                sanitizedData = this.sanitizer.sanitizeObject(data);
                rulesApplied.push('sanitization');
            }
            // 2. Validación con Zod
            const validationResult = schema.safeParse(sanitizedData);
            if (!validationResult.success) {
                const errors = validationResult.error.errors.map((err)=>({
                        field: err.path.join('.'),
                        message: err.message,
                        code: err.code,
                        value: err.input,
                        severity: this.determineSeverity(err.code, err.path)
                    }));
                // Registrar errores de validación si está habilitado
                if (this.config.enableAuditLogging && context) {
                    await this.logValidationEvent('VALIDATION_FAILED', errors, context, request);
                }
                return {
                    success: false,
                    errors,
                    metadata: {
                        validatedAt: new Date().toISOString(),
                        validatedBy: context?.userId,
                        sanitizationApplied: this.config.enableSanitization || false,
                        securityLevel: this.config.securityLevel || 'standard',
                        rulesApplied,
                        performanceMs: Date.now() - startTime
                    }
                };
            }
            // 3. Validaciones de seguridad adicionales
            if (this.config.enableSecurityValidation) {
                const securityValidation = await this.performSecurityValidation(validationResult.data);
                if (!securityValidation.success) {
                    return securityValidation;
                }
                rulesApplied.push('security_validation');
            }
            // 4. Registrar validación exitosa
            if (this.config.enableAuditLogging && context) {
                await this.logValidationEvent('VALIDATION_SUCCESS', [], context, request);
            }
            return {
                success: true,
                data: validationResult.data,
                sanitized: sanitizedData,
                metadata: {
                    validatedAt: new Date().toISOString(),
                    validatedBy: context?.userId,
                    sanitizationApplied: this.config.enableSanitization || false,
                    securityLevel: this.config.securityLevel || 'standard',
                    rulesApplied,
                    performanceMs: Date.now() - startTime
                }
            };
        } catch (error) {
            const validationError = {
                field: 'general',
                message: error instanceof Error ? error.message : 'Error de validación desconocido',
                code: 'VALIDATION_ERROR',
                severity: 'high'
            };
            // Registrar error crítico
            if (this.config.enableAuditLogging && context) {
                await this.logValidationEvent('VALIDATION_ERROR', [
                    validationError
                ], context, request);
            }
            return {
                success: false,
                errors: [
                    validationError
                ],
                metadata: {
                    validatedAt: new Date().toISOString(),
                    validatedBy: context?.userId,
                    sanitizationApplied: false,
                    securityLevel: this.config.securityLevel || 'standard',
                    rulesApplied,
                    performanceMs: Date.now() - startTime
                }
            };
        }
    }
    /**
   * Determina la severidad de un error de validación
   */ determineSeverity(code, path) {
        // Campos críticos
        const criticalFields = [
            'password',
            'email',
            'payment',
            'admin',
            'auth'
        ];
        const highFields = [
            'user_id',
            'amount',
            'price',
            'quantity'
        ];
        const fieldPath = path.join('.').toLowerCase();
        if (criticalFields.some((field)=>fieldPath.includes(field))) {
            return 'critical';
        }
        if (highFields.some((field)=>fieldPath.includes(field))) {
            return 'high';
        }
        // Códigos críticos
        const criticalCodes = [
            'invalid_type',
            'custom'
        ];
        if (criticalCodes.includes(code)) {
            return 'high';
        }
        return 'medium';
    }
    /**
   * Realiza validaciones de seguridad adicionales
   */ async performSecurityValidation(data) {
        try {
            // Detectar patrones sospechosos
            const dataString = JSON.stringify(data).toLowerCase();
            // Patrones de inyección SQL
            const sqlPatterns = [
                /(\bselect\b.*\bfrom\b)/i,
                /(\bunion\b.*\bselect\b)/i,
                /(\binsert\b.*\binto\b)/i,
                /(\bupdate\b.*\bset\b)/i,
                /(\bdelete\b.*\bfrom\b)/i,
                /(\bdrop\b.*\btable\b)/i
            ];
            for (const pattern of sqlPatterns){
                if (pattern.test(dataString)) {
                    return {
                        success: false,
                        errors: [
                            {
                                field: 'security',
                                message: 'Patrón de inyección SQL detectado',
                                code: 'SQL_INJECTION_DETECTED',
                                severity: 'critical'
                            }
                        ]
                    };
                }
            }
            // Patrones de XSS
            const xssPatterns = [
                /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
                /javascript:/i,
                /on\w+\s*=/i,
                /eval\s*\(/i,
                /expression\s*\(/i
            ];
            for (const pattern of xssPatterns){
                if (pattern.test(dataString)) {
                    return {
                        success: false,
                        errors: [
                            {
                                field: 'security',
                                message: 'Patrón de XSS detectado',
                                code: 'XSS_DETECTED',
                                severity: 'critical'
                            }
                        ]
                    };
                }
            }
            return {
                success: true
            };
        } catch (error) {
            return {
                success: false,
                errors: [
                    {
                        field: 'security',
                        message: 'Error en validación de seguridad',
                        code: 'SECURITY_VALIDATION_ERROR',
                        severity: 'high'
                    }
                ]
            };
        }
    }
    /**
   * Registra eventos de validación en el sistema de auditoría
   */ async logValidationEvent(eventType, errors, context, request) {
        try {
            await _enterpriseauditsystem.enterpriseAuditSystem.logEnterpriseEvent({
                user_id: context.userId,
                event_type: eventType,
                event_category: 'data_validation',
                severity: errors.some((e)=>e.severity === 'critical') ? 'critical' : errors.some((e)=>e.severity === 'high') ? 'high' : 'low',
                description: `Validación de datos: ${eventType}`,
                metadata: {
                    errors_count: errors.length,
                    errors: errors.map((e)=>({
                            field: e.field,
                            code: e.code,
                            severity: e.severity
                        })),
                    security_level: this.config.securityLevel
                },
                ip_address: this.getClientIP(request),
                user_agent: this.getUserAgent(request)
            }, context, request);
        } catch (error) {
            console.error('[ENTERPRISE_VALIDATION] Error logging validation event:', error);
        }
    }
    getClientIP(request) {
        if (!request) return 'unknown';
        if ('headers' in request && typeof request.headers.get === 'function') {
            return request.headers.get('x-forwarded-for') || 'unknown';
        } else if ('headers' in request) {
            const headerValue = request.headers['x-forwarded-for'];
            return Array.isArray(headerValue) ? headerValue[0] : headerValue || 'unknown';
        }
        return 'unknown';
    }
    getUserAgent(request) {
        if (!request) return 'unknown';
        if ('headers' in request && typeof request.headers.get === 'function') {
            return request.headers.get('user-agent') || 'unknown';
        } else if ('headers' in request) {
            const headerValue = request.headers['user-agent'];
            return Array.isArray(headerValue) ? headerValue[0] : headerValue || 'unknown';
        }
        return 'unknown';
    }
}
const criticalValidator = new EnterpriseValidator(ENTERPRISE_VALIDATION_CONFIGS.CRITICAL_ADMIN);
const highValidator = new EnterpriseValidator(ENTERPRISE_VALIDATION_CONFIGS.HIGH_PAYMENT);
const standardValidator = new EnterpriseValidator(ENTERPRISE_VALIDATION_CONFIGS.STANDARD_PUBLIC);
const basicValidator = new EnterpriseValidator(ENTERPRISE_VALIDATION_CONFIGS.BASIC_USER);
const criticalSanitizer = new EnterpriseSanitizer(ENTERPRISE_VALIDATION_CONFIGS.CRITICAL_ADMIN);
const highSanitizer = new EnterpriseSanitizer(ENTERPRISE_VALIDATION_CONFIGS.HIGH_PAYMENT);
const standardSanitizer = new EnterpriseSanitizer(ENTERPRISE_VALIDATION_CONFIGS.STANDARD_PUBLIC);
const basicSanitizer = new EnterpriseSanitizer(ENTERPRISE_VALIDATION_CONFIGS.BASIC_USER);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFx2YWxpZGF0aW9uXFxlbnRlcnByaXNlLXZhbGlkYXRpb24tc3lzdGVtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2lzdGVtYSBFbnRlcnByaXNlIGRlIFZhbGlkYWNpw7NuIHkgU2FuaXRpemFjacOzblxuICogVW5pZmljYSB5IGV4dGllbmRlIHRvZGFzIGxhcyB2YWxpZGFjaW9uZXMgY29uIGNhcGFjaWRhZGVzIGVudGVycHJpc2VcbiAqL1xuXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gJ25leHQnO1xuaW1wb3J0IERPTVB1cmlmeSBmcm9tICdpc29tb3JwaGljLWRvbXB1cmlmeSc7XG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJ3ZhbGlkYXRvcic7XG5pbXBvcnQgeyBlbnRlcnByaXNlQXVkaXRTeXN0ZW0gfSBmcm9tICdAL2xpYi9zZWN1cml0eS9lbnRlcnByaXNlLWF1ZGl0LXN5c3RlbSc7XG5pbXBvcnQgdHlwZSB7IEVudGVycHJpc2VBdXRoQ29udGV4dCB9IGZyb20gJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1hdXRoLXV0aWxzJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRJUE9TIFkgSU5URVJGQUNFUyBFTlRFUlBSSVNFXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25SZXN1bHQ8VCA9IGFueT4ge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkYXRhPzogVDtcbiAgZXJyb3JzPzogVmFsaWRhdGlvbkVycm9yW107XG4gIHNhbml0aXplZD86IFQ7XG4gIG1ldGFkYXRhPzogVmFsaWRhdGlvbk1ldGFkYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25FcnJvciB7XG4gIGZpZWxkOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICB2YWx1ZT86IGFueTtcbiAgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25NZXRhZGF0YSB7XG4gIHZhbGlkYXRlZEF0OiBzdHJpbmc7XG4gIHZhbGlkYXRlZEJ5Pzogc3RyaW5nO1xuICBzYW5pdGl6YXRpb25BcHBsaWVkOiBib29sZWFuO1xuICBzZWN1cml0eUxldmVsOiAnYmFzaWMnIHwgJ3N0YW5kYXJkJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIHJ1bGVzQXBwbGllZDogc3RyaW5nW107XG4gIHBlcmZvcm1hbmNlTXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRlcnByaXNlVmFsaWRhdGlvbkNvbmZpZyB7XG4gIGVuYWJsZVNhbml0aXphdGlvbj86IGJvb2xlYW47XG4gIGVuYWJsZVNlY3VyaXR5VmFsaWRhdGlvbj86IGJvb2xlYW47XG4gIGVuYWJsZUF1ZGl0TG9nZ2luZz86IGJvb2xlYW47XG4gIHNlY3VyaXR5TGV2ZWw/OiAnYmFzaWMnIHwgJ3N0YW5kYXJkJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIGN1c3RvbVNhbml0aXplcnM/OiBSZWNvcmQ8c3RyaW5nLCAodmFsdWU6IGFueSkgPT4gYW55PjtcbiAgY3VzdG9tVmFsaWRhdG9ycz86IFJlY29yZDxzdHJpbmcsIHouWm9kU2NoZW1hPjtcbiAgYWxsb3dlZFRhZ3M/OiBzdHJpbmdbXTtcbiAgYWxsb3dlZEF0dHJpYnV0ZXM/OiBzdHJpbmdbXTtcbiAgbWF4U3RyaW5nTGVuZ3RoPzogbnVtYmVyO1xuICBtYXhBcnJheUxlbmd0aD86IG51bWJlcjtcbiAgbWF4T2JqZWN0RGVwdGg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FuaXRpemF0aW9uT3B0aW9ucyB7XG4gIHJlbW92ZUh0bWw/OiBib29sZWFuO1xuICByZW1vdmVTY3JpcHRzPzogYm9vbGVhbjtcbiAgbm9ybWFsaXplV2hpdGVzcGFjZT86IGJvb2xlYW47XG4gIHRyaW1TdHJpbmdzPzogYm9vbGVhbjtcbiAgZXNjYXBlSHRtbD86IGJvb2xlYW47XG4gIHJlbW92ZUVtb2ppcz86IGJvb2xlYW47XG4gIHJlbW92ZVNxbEtleXdvcmRzPzogYm9vbGVhbjtcbiAgbWF4TGVuZ3RoPzogbnVtYmVyO1xuICBhbGxvd2VkQ2hhcmFjdGVycz86IFJlZ0V4cDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENPTkZJR1VSQUNJT05FUyBQUkVERUZJTklEQVMgRU5URVJQUklTRVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IEVOVEVSUFJJU0VfVkFMSURBVElPTl9DT05GSUdTOiBSZWNvcmQ8c3RyaW5nLCBFbnRlcnByaXNlVmFsaWRhdGlvbkNvbmZpZz4gPSB7XG4gIC8vIFZhbGlkYWNpw7NuIGNyw610aWNhIHBhcmEgb3BlcmFjaW9uZXMgYWRtaW5cbiAgQ1JJVElDQUxfQURNSU46IHtcbiAgICBlbmFibGVTYW5pdGl6YXRpb246IHRydWUsXG4gICAgZW5hYmxlU2VjdXJpdHlWYWxpZGF0aW9uOiB0cnVlLFxuICAgIGVuYWJsZUF1ZGl0TG9nZ2luZzogdHJ1ZSxcbiAgICBzZWN1cml0eUxldmVsOiAnY3JpdGljYWwnLFxuICAgIGFsbG93ZWRUYWdzOiBbXSwgLy8gTm8gSFRNTCBwZXJtaXRpZG9cbiAgICBtYXhTdHJpbmdMZW5ndGg6IDEwMDAsXG4gICAgbWF4QXJyYXlMZW5ndGg6IDEwMCxcbiAgICBtYXhPYmplY3REZXB0aDogNVxuICB9LFxuXG4gIC8vIFZhbGlkYWNpw7NuIGFsdGEgcGFyYSBBUElzIGRlIHBhZ29zXG4gIEhJR0hfUEFZTUVOVDoge1xuICAgIGVuYWJsZVNhbml0aXphdGlvbjogdHJ1ZSxcbiAgICBlbmFibGVTZWN1cml0eVZhbGlkYXRpb246IHRydWUsXG4gICAgZW5hYmxlQXVkaXRMb2dnaW5nOiB0cnVlLFxuICAgIHNlY3VyaXR5TGV2ZWw6ICdoaWdoJyxcbiAgICBhbGxvd2VkVGFnczogW10sXG4gICAgbWF4U3RyaW5nTGVuZ3RoOiA1MDAsXG4gICAgbWF4QXJyYXlMZW5ndGg6IDUwLFxuICAgIG1heE9iamVjdERlcHRoOiAzXG4gIH0sXG5cbiAgLy8gVmFsaWRhY2nDs24gZXN0w6FuZGFyIHBhcmEgQVBJcyBww7pibGljYXNcbiAgU1RBTkRBUkRfUFVCTElDOiB7XG4gICAgZW5hYmxlU2FuaXRpemF0aW9uOiB0cnVlLFxuICAgIGVuYWJsZVNlY3VyaXR5VmFsaWRhdGlvbjogdHJ1ZSxcbiAgICBlbmFibGVBdWRpdExvZ2dpbmc6IGZhbHNlLFxuICAgIHNlY3VyaXR5TGV2ZWw6ICdzdGFuZGFyZCcsXG4gICAgYWxsb3dlZFRhZ3M6IFsnYicsICdpJywgJ2VtJywgJ3N0cm9uZyddLFxuICAgIG1heFN0cmluZ0xlbmd0aDogMjAwMCxcbiAgICBtYXhBcnJheUxlbmd0aDogMjAwLFxuICAgIG1heE9iamVjdERlcHRoOiA0XG4gIH0sXG5cbiAgLy8gVmFsaWRhY2nDs24gYsOhc2ljYSBwYXJhIGNvbnRlbmlkbyBkZSB1c3VhcmlvXG4gIEJBU0lDX1VTRVI6IHtcbiAgICBlbmFibGVTYW5pdGl6YXRpb246IHRydWUsXG4gICAgZW5hYmxlU2VjdXJpdHlWYWxpZGF0aW9uOiBmYWxzZSxcbiAgICBlbmFibGVBdWRpdExvZ2dpbmc6IGZhbHNlLFxuICAgIHNlY3VyaXR5TGV2ZWw6ICdiYXNpYycsXG4gICAgYWxsb3dlZFRhZ3M6IFsnYicsICdpJywgJ2VtJywgJ3N0cm9uZycsICdwJywgJ2JyJ10sXG4gICAgbWF4U3RyaW5nTGVuZ3RoOiA1MDAwLFxuICAgIG1heEFycmF5TGVuZ3RoOiA1MDAsXG4gICAgbWF4T2JqZWN0RGVwdGg6IDNcbiAgfVxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNBTklUSVpBRE9SRVMgRU5URVJQUklTRVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNsYXNzIEVudGVycHJpc2VTYW5pdGl6ZXIge1xuICBwcml2YXRlIGNvbmZpZzogRW50ZXJwcmlzZVZhbGlkYXRpb25Db25maWc7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBFbnRlcnByaXNlVmFsaWRhdGlvbkNvbmZpZyA9IEVOVEVSUFJJU0VfVkFMSURBVElPTl9DT05GSUdTLlNUQU5EQVJEX1BVQkxJQykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXphIHVuYSBjYWRlbmEgZGUgdGV4dG9cbiAgICovXG4gIHNhbml0aXplU3RyaW5nKHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IFNhbml0aXphdGlvbk9wdGlvbnMgPSB7fSk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBTdHJpbmcodmFsdWUgfHwgJycpO1xuICAgIH1cblxuICAgIGxldCBzYW5pdGl6ZWQgPSB2YWx1ZTtcblxuICAgIC8vIFJlbW92ZXIgc2NyaXB0cyBtYWxpY2lvc29zXG4gICAgaWYgKG9wdGlvbnMucmVtb3ZlU2NyaXB0cyAhPT0gZmFsc2UpIHtcbiAgICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpLCAnJyk7XG4gICAgICBzYW5pdGl6ZWQgPSBzYW5pdGl6ZWQucmVwbGFjZSgvamF2YXNjcmlwdDovZ2ksICcnKTtcbiAgICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9vblxcdytcXHMqPS9naSwgJycpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZXIgSFRNTCBzaSBlc3TDoSBjb25maWd1cmFkb1xuICAgIGlmIChvcHRpb25zLnJlbW92ZUh0bWwpIHtcbiAgICAgIHNhbml0aXplZCA9IERPTVB1cmlmeS5zYW5pdGl6ZShzYW5pdGl6ZWQsIHsgXG4gICAgICAgIEFMTE9XRURfVEFHUzogdGhpcy5jb25maWcuYWxsb3dlZFRhZ3MgfHwgW10sXG4gICAgICAgIEFMTE9XRURfQVRUUjogdGhpcy5jb25maWcuYWxsb3dlZEF0dHJpYnV0ZXMgfHwgW11cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVzY2FwYXIgSFRNTFxuICAgIGlmIChvcHRpb25zLmVzY2FwZUh0bWwpIHtcbiAgICAgIHNhbml0aXplZCA9IHZhbGlkYXRvci5lc2NhcGUoc2FuaXRpemVkKTtcbiAgICB9XG5cbiAgICAvLyBOb3JtYWxpemFyIGVzcGFjaW9zIGVuIGJsYW5jb1xuICAgIGlmIChvcHRpb25zLm5vcm1hbGl6ZVdoaXRlc3BhY2UgIT09IGZhbHNlKSB7XG4gICAgICBzYW5pdGl6ZWQgPSBzYW5pdGl6ZWQucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgIH1cblxuICAgIC8vIFRyaW0gc3RyaW5nc1xuICAgIGlmIChvcHRpb25zLnRyaW1TdHJpbmdzICE9PSBmYWxzZSkge1xuICAgICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmVyIGVtb2ppcyBzaSBlc3TDoSBjb25maWd1cmFkb1xuICAgIGlmIChvcHRpb25zLnJlbW92ZUVtb2ppcykge1xuICAgICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnJlcGxhY2UoL1tcXHV7MUY2MDB9LVxcdXsxRjY0Rn1dfFtcXHV7MUYzMDB9LVxcdXsxRjVGRn1dfFtcXHV7MUY2ODB9LVxcdXsxRjZGRn1dfFtcXHV7MUYxRTB9LVxcdXsxRjFGRn1dL2d1LCAnJyk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlciBwYWxhYnJhcyBjbGF2ZSBTUUwgc29zcGVjaG9zYXNcbiAgICBpZiAob3B0aW9ucy5yZW1vdmVTcWxLZXl3b3Jkcykge1xuICAgICAgY29uc3Qgc3FsS2V5d29yZHMgPSAvXFxiKFNFTEVDVHxJTlNFUlR8VVBEQVRFfERFTEVURXxEUk9QfENSRUFURXxBTFRFUnxFWEVDfFVOSU9OfFNDUklQVClcXGIvZ2k7XG4gICAgICBzYW5pdGl6ZWQgPSBzYW5pdGl6ZWQucmVwbGFjZShzcWxLZXl3b3JkcywgJycpO1xuICAgIH1cblxuICAgIC8vIEFwbGljYXIgbG9uZ2l0dWQgbcOheGltYVxuICAgIGNvbnN0IG1heExlbmd0aCA9IG9wdGlvbnMubWF4TGVuZ3RoIHx8IHRoaXMuY29uZmlnLm1heFN0cmluZ0xlbmd0aCB8fCAxMDAwMDtcbiAgICBpZiAoc2FuaXRpemVkLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgc2FuaXRpemVkID0gc2FuaXRpemVkLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXIgY2FyYWN0ZXJlcyBwZXJtaXRpZG9zXG4gICAgaWYgKG9wdGlvbnMuYWxsb3dlZENoYXJhY3RlcnMpIHtcbiAgICAgIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKG9wdGlvbnMuYWxsb3dlZENoYXJhY3RlcnMsICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2FuaXRpemVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXphIHVuIG9iamV0byByZWN1cnNpdmFtZW50ZVxuICAgKi9cbiAgc2FuaXRpemVPYmplY3Qob2JqOiBhbnksIGRlcHRoOiBudW1iZXIgPSAwKTogYW55IHtcbiAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMuY29uZmlnLm1heE9iamVjdERlcHRoIHx8IDEwO1xuICAgIFxuICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9iamV0byBleGNlZGUgbGEgcHJvZnVuZGlkYWQgbcOheGltYSBwZXJtaXRpZGEgKCR7bWF4RGVwdGh9KWApO1xuICAgIH1cblxuICAgIGlmIChvYmogPT09IG51bGwgfHwgb2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdGhpcy5zYW5pdGl6ZVN0cmluZyhvYmosIHtcbiAgICAgICAgcmVtb3ZlSHRtbDogdGhpcy5jb25maWcuc2VjdXJpdHlMZXZlbCA9PT0gJ2NyaXRpY2FsJyxcbiAgICAgICAgcmVtb3ZlU2NyaXB0czogdHJ1ZSxcbiAgICAgICAgcmVtb3ZlU3FsS2V5d29yZHM6IHRoaXMuY29uZmlnLnNlY3VyaXR5TGV2ZWwgIT09ICdiYXNpYydcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgY29uc3QgbWF4TGVuZ3RoID0gdGhpcy5jb25maWcubWF4QXJyYXlMZW5ndGggfHwgMTAwMDtcbiAgICAgIGlmIChvYmoubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQXJyYXkgZXhjZWRlIGxhIGxvbmdpdHVkIG3DoXhpbWEgcGVybWl0aWRhICgke21heExlbmd0aH0pYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqLm1hcChpdGVtID0+IHRoaXMuc2FuaXRpemVPYmplY3QoaXRlbSwgZGVwdGggKyAxKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBzYW5pdGl6ZWQ6IGFueSA9IHt9O1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgICBjb25zdCBzYW5pdGl6ZWRLZXkgPSB0aGlzLnNhbml0aXplU3RyaW5nKGtleSwgeyByZW1vdmVIdG1sOiB0cnVlLCByZW1vdmVTY3JpcHRzOiB0cnVlIH0pO1xuICAgICAgICBzYW5pdGl6ZWRbc2FuaXRpemVkS2V5XSA9IHRoaXMuc2FuaXRpemVPYmplY3QodmFsdWUsIGRlcHRoICsgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2FuaXRpemVkO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvKipcbiAgICogU2FuaXRpemEgZGF0b3MgZGUgZm9ybXVsYXJpb1xuICAgKi9cbiAgc2FuaXRpemVGb3JtRGF0YShmb3JtRGF0YTogRm9ybURhdGEpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBjb25zdCBzYW5pdGl6ZWQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xuICAgICAgY29uc3Qgc2FuaXRpemVkS2V5ID0gdGhpcy5zYW5pdGl6ZVN0cmluZyhrZXksIHsgcmVtb3ZlSHRtbDogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAvLyBWYWxpZGFyIGFyY2hpdm9cbiAgICAgICAgc2FuaXRpemVkW3Nhbml0aXplZEtleV0gPSB0aGlzLnNhbml0aXplRmlsZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzYW5pdGl6ZWRbc2FuaXRpemVkS2V5XSA9IHRoaXMuc2FuaXRpemVTdHJpbmcodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYW5pdGl6YSBpbmZvcm1hY2nDs24gZGUgYXJjaGl2b3NcbiAgICovXG4gIHByaXZhdGUgc2FuaXRpemVGaWxlKGZpbGU6IEZpbGUpOiB7IG5hbWU6IHN0cmluZzsgc2l6ZTogbnVtYmVyOyB0eXBlOiBzdHJpbmcgfSB7XG4gICAgY29uc3QgYWxsb3dlZFR5cGVzID0gW1xuICAgICAgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL2dpZicsICdpbWFnZS93ZWJwJyxcbiAgICAgICdhcHBsaWNhdGlvbi9wZGYnLCAndGV4dC9wbGFpbicsICd0ZXh0L2NzdidcbiAgICBdO1xuXG4gICAgY29uc3Qgc2FuaXRpemVkTmFtZSA9IHRoaXMuc2FuaXRpemVTdHJpbmcoZmlsZS5uYW1lLCB7XG4gICAgICByZW1vdmVIdG1sOiB0cnVlLFxuICAgICAgcmVtb3ZlU2NyaXB0czogdHJ1ZSxcbiAgICAgIGFsbG93ZWRDaGFyYWN0ZXJzOiAvW15hLXpBLVowLTkuXy1dL2dcbiAgICB9KTtcblxuICAgIGlmICghYWxsb3dlZFR5cGVzLmluY2x1ZGVzKGZpbGUudHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGlwbyBkZSBhcmNoaXZvIG5vIHBlcm1pdGlkbzogJHtmaWxlLnR5cGV9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgbWF4U2l6ZSA9IDEwICogMTAyNCAqIDEwMjQ7IC8vIDEwTUJcbiAgICBpZiAoZmlsZS5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBcmNoaXZvIGV4Y2VkZSBlbCB0YW1hw7FvIG3DoXhpbW8gcGVybWl0aWRvICgke21heFNpemV9IGJ5dGVzKWApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzYW5pdGl6ZWROYW1lLFxuICAgICAgc2l6ZTogZmlsZS5zaXplLFxuICAgICAgdHlwZTogZmlsZS50eXBlXG4gICAgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBRE9SRVMgRU5URVJQUklTRVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNsYXNzIEVudGVycHJpc2VWYWxpZGF0b3Ige1xuICBwcml2YXRlIHNhbml0aXplcjogRW50ZXJwcmlzZVNhbml0aXplcjtcbiAgcHJpdmF0ZSBjb25maWc6IEVudGVycHJpc2VWYWxpZGF0aW9uQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogRW50ZXJwcmlzZVZhbGlkYXRpb25Db25maWcgPSBFTlRFUlBSSVNFX1ZBTElEQVRJT05fQ09ORklHUy5TVEFOREFSRF9QVUJMSUMpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnNhbml0aXplciA9IG5ldyBFbnRlcnByaXNlU2FuaXRpemVyKGNvbmZpZyk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhIHkgc2FuaXRpemEgZGF0b3MgdXNhbmRvIHVuIHNjaGVtYSBkZSBab2RcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlQW5kU2FuaXRpemU8VD4oXG4gICAgc2NoZW1hOiB6LlpvZFNjaGVtYTxUPixcbiAgICBkYXRhOiB1bmtub3duLFxuICAgIGNvbnRleHQ/OiBFbnRlcnByaXNlQXV0aENvbnRleHQsXG4gICAgcmVxdWVzdD86IE5leHRSZXF1ZXN0IHwgTmV4dEFwaVJlcXVlc3RcbiAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PFQ+PiB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBydWxlc0FwcGxpZWQ6IHN0cmluZ1tdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgLy8gMS4gU2FuaXRpemFjacOzbiBzaSBlc3TDoSBoYWJpbGl0YWRhXG4gICAgICBsZXQgc2FuaXRpemVkRGF0YSA9IGRhdGE7XG4gICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlU2FuaXRpemF0aW9uKSB7XG4gICAgICAgIHNhbml0aXplZERhdGEgPSB0aGlzLnNhbml0aXplci5zYW5pdGl6ZU9iamVjdChkYXRhKTtcbiAgICAgICAgcnVsZXNBcHBsaWVkLnB1c2goJ3Nhbml0aXphdGlvbicpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBWYWxpZGFjacOzbiBjb24gWm9kXG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gc2NoZW1hLnNhZmVQYXJzZShzYW5pdGl6ZWREYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JbXSA9IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IuZXJyb3JzLm1hcChlcnIgPT4gKHtcbiAgICAgICAgICBmaWVsZDogZXJyLnBhdGguam9pbignLicpLFxuICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICAgIGNvZGU6IGVyci5jb2RlLFxuICAgICAgICAgIHZhbHVlOiBlcnIuaW5wdXQsXG4gICAgICAgICAgc2V2ZXJpdHk6IHRoaXMuZGV0ZXJtaW5lU2V2ZXJpdHkoZXJyLmNvZGUsIGVyci5wYXRoKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gUmVnaXN0cmFyIGVycm9yZXMgZGUgdmFsaWRhY2nDs24gc2kgZXN0w6EgaGFiaWxpdGFkb1xuICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlQXVkaXRMb2dnaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmxvZ1ZhbGlkYXRpb25FdmVudCgnVkFMSURBVElPTl9GQUlMRUQnLCBlcnJvcnMsIGNvbnRleHQsIHJlcXVlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcnMsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHZhbGlkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB2YWxpZGF0ZWRCeTogY29udGV4dD8udXNlcklkLFxuICAgICAgICAgICAgc2FuaXRpemF0aW9uQXBwbGllZDogdGhpcy5jb25maWcuZW5hYmxlU2FuaXRpemF0aW9uIHx8IGZhbHNlLFxuICAgICAgICAgICAgc2VjdXJpdHlMZXZlbDogdGhpcy5jb25maWcuc2VjdXJpdHlMZXZlbCB8fCAnc3RhbmRhcmQnLFxuICAgICAgICAgICAgcnVsZXNBcHBsaWVkLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2VNczogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4gVmFsaWRhY2lvbmVzIGRlIHNlZ3VyaWRhZCBhZGljaW9uYWxlc1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVNlY3VyaXR5VmFsaWRhdGlvbikge1xuICAgICAgICBjb25zdCBzZWN1cml0eVZhbGlkYXRpb24gPSBhd2FpdCB0aGlzLnBlcmZvcm1TZWN1cml0eVZhbGlkYXRpb24odmFsaWRhdGlvblJlc3VsdC5kYXRhKTtcbiAgICAgICAgaWYgKCFzZWN1cml0eVZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiBzZWN1cml0eVZhbGlkYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcnVsZXNBcHBsaWVkLnB1c2goJ3NlY3VyaXR5X3ZhbGlkYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gUmVnaXN0cmFyIHZhbGlkYWNpw7NuIGV4aXRvc2FcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBdWRpdExvZ2dpbmcgJiYgY29udGV4dCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvZ1ZhbGlkYXRpb25FdmVudCgnVkFMSURBVElPTl9TVUNDRVNTJywgW10sIGNvbnRleHQsIHJlcXVlc3QpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB2YWxpZGF0aW9uUmVzdWx0LmRhdGEsXG4gICAgICAgIHNhbml0aXplZDogc2FuaXRpemVkRGF0YSBhcyBULFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHZhbGlkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdmFsaWRhdGVkQnk6IGNvbnRleHQ/LnVzZXJJZCxcbiAgICAgICAgICBzYW5pdGl6YXRpb25BcHBsaWVkOiB0aGlzLmNvbmZpZy5lbmFibGVTYW5pdGl6YXRpb24gfHwgZmFsc2UsXG4gICAgICAgICAgc2VjdXJpdHlMZXZlbDogdGhpcy5jb25maWcuc2VjdXJpdHlMZXZlbCB8fCAnc3RhbmRhcmQnLFxuICAgICAgICAgIHJ1bGVzQXBwbGllZCxcbiAgICAgICAgICBwZXJmb3JtYW5jZU1zOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9yOiBWYWxpZGF0aW9uRXJyb3IgPSB7XG4gICAgICAgIGZpZWxkOiAnZ2VuZXJhbCcsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm9yIGRlIHZhbGlkYWNpw7NuIGRlc2Nvbm9jaWRvJyxcbiAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnXG4gICAgICB9O1xuXG4gICAgICAvLyBSZWdpc3RyYXIgZXJyb3IgY3LDrXRpY29cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVBdWRpdExvZ2dpbmcgJiYgY29udGV4dCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvZ1ZhbGlkYXRpb25FdmVudCgnVkFMSURBVElPTl9FUlJPUicsIFt2YWxpZGF0aW9uRXJyb3JdLCBjb250ZXh0LCByZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yczogW3ZhbGlkYXRpb25FcnJvcl0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgdmFsaWRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB2YWxpZGF0ZWRCeTogY29udGV4dD8udXNlcklkLFxuICAgICAgICAgIHNhbml0aXphdGlvbkFwcGxpZWQ6IGZhbHNlLFxuICAgICAgICAgIHNlY3VyaXR5TGV2ZWw6IHRoaXMuY29uZmlnLnNlY3VyaXR5TGV2ZWwgfHwgJ3N0YW5kYXJkJyxcbiAgICAgICAgICBydWxlc0FwcGxpZWQsXG4gICAgICAgICAgcGVyZm9ybWFuY2VNczogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmEgbGEgc2V2ZXJpZGFkIGRlIHVuIGVycm9yIGRlIHZhbGlkYWNpw7NuXG4gICAqL1xuICBwcml2YXRlIGRldGVybWluZVNldmVyaXR5KGNvZGU6IHN0cmluZywgcGF0aDogKHN0cmluZyB8IG51bWJlcilbXSk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnIHtcbiAgICAvLyBDYW1wb3MgY3LDrXRpY29zXG4gICAgY29uc3QgY3JpdGljYWxGaWVsZHMgPSBbJ3Bhc3N3b3JkJywgJ2VtYWlsJywgJ3BheW1lbnQnLCAnYWRtaW4nLCAnYXV0aCddO1xuICAgIGNvbnN0IGhpZ2hGaWVsZHMgPSBbJ3VzZXJfaWQnLCAnYW1vdW50JywgJ3ByaWNlJywgJ3F1YW50aXR5J107XG4gICAgXG4gICAgY29uc3QgZmllbGRQYXRoID0gcGF0aC5qb2luKCcuJykudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICBpZiAoY3JpdGljYWxGaWVsZHMuc29tZShmaWVsZCA9PiBmaWVsZFBhdGguaW5jbHVkZXMoZmllbGQpKSkge1xuICAgICAgcmV0dXJuICdjcml0aWNhbCc7XG4gICAgfVxuICAgIFxuICAgIGlmIChoaWdoRmllbGRzLnNvbWUoZmllbGQgPT4gZmllbGRQYXRoLmluY2x1ZGVzKGZpZWxkKSkpIHtcbiAgICAgIHJldHVybiAnaGlnaCc7XG4gICAgfVxuICAgIFxuICAgIC8vIEPDs2RpZ29zIGNyw610aWNvc1xuICAgIGNvbnN0IGNyaXRpY2FsQ29kZXMgPSBbJ2ludmFsaWRfdHlwZScsICdjdXN0b20nXTtcbiAgICBpZiAoY3JpdGljYWxDb2Rlcy5pbmNsdWRlcyhjb2RlKSkge1xuICAgICAgcmV0dXJuICdoaWdoJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICdtZWRpdW0nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWxpemEgdmFsaWRhY2lvbmVzIGRlIHNlZ3VyaWRhZCBhZGljaW9uYWxlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtU2VjdXJpdHlWYWxpZGF0aW9uKGRhdGE6IGFueSk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBEZXRlY3RhciBwYXRyb25lcyBzb3NwZWNob3Nvc1xuICAgICAgY29uc3QgZGF0YVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGRhdGEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIFBhdHJvbmVzIGRlIGlueWVjY2nDs24gU1FMXG4gICAgICBjb25zdCBzcWxQYXR0ZXJucyA9IFtcbiAgICAgICAgLyhcXGJzZWxlY3RcXGIuKlxcYmZyb21cXGIpL2ksXG4gICAgICAgIC8oXFxidW5pb25cXGIuKlxcYnNlbGVjdFxcYikvaSxcbiAgICAgICAgLyhcXGJpbnNlcnRcXGIuKlxcYmludG9cXGIpL2ksXG4gICAgICAgIC8oXFxidXBkYXRlXFxiLipcXGJzZXRcXGIpL2ksXG4gICAgICAgIC8oXFxiZGVsZXRlXFxiLipcXGJmcm9tXFxiKS9pLFxuICAgICAgICAvKFxcYmRyb3BcXGIuKlxcYnRhYmxlXFxiKS9pXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2Ygc3FsUGF0dGVybnMpIHtcbiAgICAgICAgaWYgKHBhdHRlcm4udGVzdChkYXRhU3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yczogW3tcbiAgICAgICAgICAgICAgZmllbGQ6ICdzZWN1cml0eScsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXRyw7NuIGRlIGlueWVjY2nDs24gU1FMIGRldGVjdGFkbycsXG4gICAgICAgICAgICAgIGNvZGU6ICdTUUxfSU5KRUNUSU9OX0RFVEVDVEVEJyxcbiAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdjcml0aWNhbCdcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXRyb25lcyBkZSBYU1NcbiAgICAgIGNvbnN0IHhzc1BhdHRlcm5zID0gW1xuICAgICAgICAvPHNjcmlwdFxcYltePF0qKD86KD8hPFxcL3NjcmlwdD4pPFtePF0qKSo8XFwvc2NyaXB0Pi9naSxcbiAgICAgICAgL2phdmFzY3JpcHQ6L2ksXG4gICAgICAgIC9vblxcdytcXHMqPS9pLFxuICAgICAgICAvZXZhbFxccypcXCgvaSxcbiAgICAgICAgL2V4cHJlc3Npb25cXHMqXFwoL2lcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiB4c3NQYXR0ZXJucykge1xuICAgICAgICBpZiAocGF0dGVybi50ZXN0KGRhdGFTdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3JzOiBbe1xuICAgICAgICAgICAgICBmaWVsZDogJ3NlY3VyaXR5JyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1BhdHLDs24gZGUgWFNTIGRldGVjdGFkbycsXG4gICAgICAgICAgICAgIGNvZGU6ICdYU1NfREVURUNURUQnLFxuICAgICAgICAgICAgICBzZXZlcml0eTogJ2NyaXRpY2FsJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yczogW3tcbiAgICAgICAgICBmaWVsZDogJ3NlY3VyaXR5JyxcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgZW4gdmFsaWRhY2nDs24gZGUgc2VndXJpZGFkJyxcbiAgICAgICAgICBjb2RlOiAnU0VDVVJJVFlfVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgc2V2ZXJpdHk6ICdoaWdoJ1xuICAgICAgICB9XVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0cmEgZXZlbnRvcyBkZSB2YWxpZGFjacOzbiBlbiBlbCBzaXN0ZW1hIGRlIGF1ZGl0b3LDrWFcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9nVmFsaWRhdGlvbkV2ZW50KFxuICAgIGV2ZW50VHlwZTogc3RyaW5nLFxuICAgIGVycm9yczogVmFsaWRhdGlvbkVycm9yW10sXG4gICAgY29udGV4dDogRW50ZXJwcmlzZUF1dGhDb250ZXh0LFxuICAgIHJlcXVlc3Q/OiBOZXh0UmVxdWVzdCB8IE5leHRBcGlSZXF1ZXN0XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBlbnRlcnByaXNlQXVkaXRTeXN0ZW0ubG9nRW50ZXJwcmlzZUV2ZW50KHtcbiAgICAgICAgdXNlcl9pZDogY29udGV4dC51c2VySWQsXG4gICAgICAgIGV2ZW50X3R5cGU6IGV2ZW50VHlwZSBhcyBhbnksXG4gICAgICAgIGV2ZW50X2NhdGVnb3J5OiAnZGF0YV92YWxpZGF0aW9uJyxcbiAgICAgICAgc2V2ZXJpdHk6IGVycm9ycy5zb21lKGUgPT4gZS5zZXZlcml0eSA9PT0gJ2NyaXRpY2FsJykgPyAnY3JpdGljYWwnIDpcbiAgICAgICAgICAgICAgICAgZXJyb3JzLnNvbWUoZSA9PiBlLnNldmVyaXR5ID09PSAnaGlnaCcpID8gJ2hpZ2gnIDogJ2xvdycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgVmFsaWRhY2nDs24gZGUgZGF0b3M6ICR7ZXZlbnRUeXBlfWAsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgZXJyb3JzX2NvdW50OiBlcnJvcnMubGVuZ3RoLFxuICAgICAgICAgIGVycm9yczogZXJyb3JzLm1hcChlID0+ICh7IGZpZWxkOiBlLmZpZWxkLCBjb2RlOiBlLmNvZGUsIHNldmVyaXR5OiBlLnNldmVyaXR5IH0pKSxcbiAgICAgICAgICBzZWN1cml0eV9sZXZlbDogdGhpcy5jb25maWcuc2VjdXJpdHlMZXZlbFxuICAgICAgICB9LFxuICAgICAgICBpcF9hZGRyZXNzOiB0aGlzLmdldENsaWVudElQKHJlcXVlc3QpLFxuICAgICAgICB1c2VyX2FnZW50OiB0aGlzLmdldFVzZXJBZ2VudChyZXF1ZXN0KVxuICAgICAgfSwgY29udGV4dCwgcmVxdWVzdCBhcyBOZXh0UmVxdWVzdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFTlRFUlBSSVNFX1ZBTElEQVRJT05dIEVycm9yIGxvZ2dpbmcgdmFsaWRhdGlvbiBldmVudDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbGllbnRJUChyZXF1ZXN0PzogTmV4dFJlcXVlc3QgfCBOZXh0QXBpUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgaWYgKCFyZXF1ZXN0KSByZXR1cm4gJ3Vua25vd24nO1xuICAgIFxuICAgIGlmICgnaGVhZGVycycgaW4gcmVxdWVzdCAmJiB0eXBlb2YgcmVxdWVzdC5oZWFkZXJzLmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIChyZXF1ZXN0IGFzIE5leHRSZXF1ZXN0KS5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgJ3Vua25vd24nO1xuICAgIH0gZWxzZSBpZiAoJ2hlYWRlcnMnIGluIHJlcXVlc3QpIHtcbiAgICAgIGNvbnN0IGhlYWRlclZhbHVlID0gKHJlcXVlc3QgYXMgTmV4dEFwaVJlcXVlc3QpLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaGVhZGVyVmFsdWUpID8gaGVhZGVyVmFsdWVbMF0gOiBoZWFkZXJWYWx1ZSB8fCAndW5rbm93bic7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAndW5rbm93bic7XG4gIH1cblxuICBwcml2YXRlIGdldFVzZXJBZ2VudChyZXF1ZXN0PzogTmV4dFJlcXVlc3QgfCBOZXh0QXBpUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgaWYgKCFyZXF1ZXN0KSByZXR1cm4gJ3Vua25vd24nO1xuICAgIFxuICAgIGlmICgnaGVhZGVycycgaW4gcmVxdWVzdCAmJiB0eXBlb2YgcmVxdWVzdC5oZWFkZXJzLmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIChyZXF1ZXN0IGFzIE5leHRSZXF1ZXN0KS5oZWFkZXJzLmdldCgndXNlci1hZ2VudCcpIHx8ICd1bmtub3duJztcbiAgICB9IGVsc2UgaWYgKCdoZWFkZXJzJyBpbiByZXF1ZXN0KSB7XG4gICAgICBjb25zdCBoZWFkZXJWYWx1ZSA9IChyZXF1ZXN0IGFzIE5leHRBcGlSZXF1ZXN0KS5oZWFkZXJzWyd1c2VyLWFnZW50J107XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShoZWFkZXJWYWx1ZSkgPyBoZWFkZXJWYWx1ZVswXSA6IGhlYWRlclZhbHVlIHx8ICd1bmtub3duJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSU5TVEFOQ0lBUyBHTE9CQUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gSW5zdGFuY2lhcyBwcmVkZWZpbmlkYXMgcGFyYSBkaWZlcmVudGVzIG5pdmVsZXMgZGUgc2VndXJpZGFkXG5leHBvcnQgY29uc3QgY3JpdGljYWxWYWxpZGF0b3IgPSBuZXcgRW50ZXJwcmlzZVZhbGlkYXRvcihFTlRFUlBSSVNFX1ZBTElEQVRJT05fQ09ORklHUy5DUklUSUNBTF9BRE1JTik7XG5leHBvcnQgY29uc3QgaGlnaFZhbGlkYXRvciA9IG5ldyBFbnRlcnByaXNlVmFsaWRhdG9yKEVOVEVSUFJJU0VfVkFMSURBVElPTl9DT05GSUdTLkhJR0hfUEFZTUVOVCk7XG5leHBvcnQgY29uc3Qgc3RhbmRhcmRWYWxpZGF0b3IgPSBuZXcgRW50ZXJwcmlzZVZhbGlkYXRvcihFTlRFUlBSSVNFX1ZBTElEQVRJT05fQ09ORklHUy5TVEFOREFSRF9QVUJMSUMpO1xuZXhwb3J0IGNvbnN0IGJhc2ljVmFsaWRhdG9yID0gbmV3IEVudGVycHJpc2VWYWxpZGF0b3IoRU5URVJQUklTRV9WQUxJREFUSU9OX0NPTkZJR1MuQkFTSUNfVVNFUik7XG5cbi8vIFNhbml0aXphZG9yZXMgcHJlZGVmaW5pZG9zXG5leHBvcnQgY29uc3QgY3JpdGljYWxTYW5pdGl6ZXIgPSBuZXcgRW50ZXJwcmlzZVNhbml0aXplcihFTlRFUlBSSVNFX1ZBTElEQVRJT05fQ09ORklHUy5DUklUSUNBTF9BRE1JTik7XG5leHBvcnQgY29uc3QgaGlnaFNhbml0aXplciA9IG5ldyBFbnRlcnByaXNlU2FuaXRpemVyKEVOVEVSUFJJU0VfVkFMSURBVElPTl9DT05GSUdTLkhJR0hfUEFZTUVOVCk7XG5leHBvcnQgY29uc3Qgc3RhbmRhcmRTYW5pdGl6ZXIgPSBuZXcgRW50ZXJwcmlzZVNhbml0aXplcihFTlRFUlBSSVNFX1ZBTElEQVRJT05fQ09ORklHUy5TVEFOREFSRF9QVUJMSUMpO1xuZXhwb3J0IGNvbnN0IGJhc2ljU2FuaXRpemVyID0gbmV3IEVudGVycHJpc2VTYW5pdGl6ZXIoRU5URVJQUklTRV9WQUxJREFUSU9OX0NPTkZJR1MuQkFTSUNfVVNFUik7XG4iXSwibmFtZXMiOlsiRU5URVJQUklTRV9WQUxJREFUSU9OX0NPTkZJR1MiLCJFbnRlcnByaXNlU2FuaXRpemVyIiwiRW50ZXJwcmlzZVZhbGlkYXRvciIsImJhc2ljU2FuaXRpemVyIiwiYmFzaWNWYWxpZGF0b3IiLCJjcml0aWNhbFNhbml0aXplciIsImNyaXRpY2FsVmFsaWRhdG9yIiwiaGlnaFNhbml0aXplciIsImhpZ2hWYWxpZGF0b3IiLCJzdGFuZGFyZFNhbml0aXplciIsInN0YW5kYXJkVmFsaWRhdG9yIiwiQ1JJVElDQUxfQURNSU4iLCJlbmFibGVTYW5pdGl6YXRpb24iLCJlbmFibGVTZWN1cml0eVZhbGlkYXRpb24iLCJlbmFibGVBdWRpdExvZ2dpbmciLCJzZWN1cml0eUxldmVsIiwiYWxsb3dlZFRhZ3MiLCJtYXhTdHJpbmdMZW5ndGgiLCJtYXhBcnJheUxlbmd0aCIsIm1heE9iamVjdERlcHRoIiwiSElHSF9QQVlNRU5UIiwiU1RBTkRBUkRfUFVCTElDIiwiQkFTSUNfVVNFUiIsImNvbmZpZyIsInNhbml0aXplU3RyaW5nIiwidmFsdWUiLCJvcHRpb25zIiwiU3RyaW5nIiwic2FuaXRpemVkIiwicmVtb3ZlU2NyaXB0cyIsInJlcGxhY2UiLCJyZW1vdmVIdG1sIiwiRE9NUHVyaWZ5Iiwic2FuaXRpemUiLCJBTExPV0VEX1RBR1MiLCJBTExPV0VEX0FUVFIiLCJhbGxvd2VkQXR0cmlidXRlcyIsImVzY2FwZUh0bWwiLCJ2YWxpZGF0b3IiLCJlc2NhcGUiLCJub3JtYWxpemVXaGl0ZXNwYWNlIiwidHJpbVN0cmluZ3MiLCJ0cmltIiwicmVtb3ZlRW1vamlzIiwicmVtb3ZlU3FsS2V5d29yZHMiLCJzcWxLZXl3b3JkcyIsIm1heExlbmd0aCIsImxlbmd0aCIsInN1YnN0cmluZyIsImFsbG93ZWRDaGFyYWN0ZXJzIiwic2FuaXRpemVPYmplY3QiLCJvYmoiLCJkZXB0aCIsIm1heERlcHRoIiwiRXJyb3IiLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpdGVtIiwia2V5IiwiT2JqZWN0IiwiZW50cmllcyIsInNhbml0aXplZEtleSIsInNhbml0aXplRm9ybURhdGEiLCJmb3JtRGF0YSIsIkZpbGUiLCJzYW5pdGl6ZUZpbGUiLCJ0b1N0cmluZyIsImZpbGUiLCJhbGxvd2VkVHlwZXMiLCJzYW5pdGl6ZWROYW1lIiwibmFtZSIsImluY2x1ZGVzIiwidHlwZSIsIm1heFNpemUiLCJzaXplIiwic2FuaXRpemVyIiwidmFsaWRhdGVBbmRTYW5pdGl6ZSIsInNjaGVtYSIsImRhdGEiLCJjb250ZXh0IiwicmVxdWVzdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJydWxlc0FwcGxpZWQiLCJzYW5pdGl6ZWREYXRhIiwicHVzaCIsInZhbGlkYXRpb25SZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZXJyb3JzIiwiZXJyb3IiLCJlcnIiLCJmaWVsZCIsInBhdGgiLCJqb2luIiwibWVzc2FnZSIsImNvZGUiLCJpbnB1dCIsInNldmVyaXR5IiwiZGV0ZXJtaW5lU2V2ZXJpdHkiLCJsb2dWYWxpZGF0aW9uRXZlbnQiLCJtZXRhZGF0YSIsInZhbGlkYXRlZEF0IiwidG9JU09TdHJpbmciLCJ2YWxpZGF0ZWRCeSIsInVzZXJJZCIsInNhbml0aXphdGlvbkFwcGxpZWQiLCJwZXJmb3JtYW5jZU1zIiwic2VjdXJpdHlWYWxpZGF0aW9uIiwicGVyZm9ybVNlY3VyaXR5VmFsaWRhdGlvbiIsInZhbGlkYXRpb25FcnJvciIsImNyaXRpY2FsRmllbGRzIiwiaGlnaEZpZWxkcyIsImZpZWxkUGF0aCIsInRvTG93ZXJDYXNlIiwic29tZSIsImNyaXRpY2FsQ29kZXMiLCJkYXRhU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInNxbFBhdHRlcm5zIiwicGF0dGVybiIsInRlc3QiLCJ4c3NQYXR0ZXJucyIsImV2ZW50VHlwZSIsImVudGVycHJpc2VBdWRpdFN5c3RlbSIsImxvZ0VudGVycHJpc2VFdmVudCIsInVzZXJfaWQiLCJldmVudF90eXBlIiwiZXZlbnRfY2F0ZWdvcnkiLCJlIiwiZGVzY3JpcHRpb24iLCJlcnJvcnNfY291bnQiLCJzZWN1cml0eV9sZXZlbCIsImlwX2FkZHJlc3MiLCJnZXRDbGllbnRJUCIsInVzZXJfYWdlbnQiLCJnZXRVc2VyQWdlbnQiLCJjb25zb2xlIiwiaGVhZGVycyIsImdldCIsImhlYWRlclZhbHVlIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7Ozs7Ozs7Ozs7O1FBcUVZQTtlQUFBQTs7UUFzREFDO2VBQUFBOztRQThLQUM7ZUFBQUE7O1FBMlJBQztlQUFBQTs7UUFOQUM7ZUFBQUE7O1FBR0FDO2VBQUFBOztRQU5BQztlQUFBQTs7UUFPQUM7ZUFBQUE7O1FBTkFDO2VBQUFBOztRQU9BQztlQUFBQTs7UUFOQUM7ZUFBQUE7Ozs0RUF4akJTO2tFQUNBO3VDQUNnQjs7Ozs7O0FBOEQvQixNQUFNVixnQ0FBNEU7SUFDdkYsNENBQTRDO0lBQzVDVyxnQkFBZ0I7UUFDZEMsb0JBQW9CO1FBQ3BCQywwQkFBMEI7UUFDMUJDLG9CQUFvQjtRQUNwQkMsZUFBZTtRQUNmQyxhQUFhLEVBQUU7UUFDZkMsaUJBQWlCO1FBQ2pCQyxnQkFBZ0I7UUFDaEJDLGdCQUFnQjtJQUNsQjtJQUVBLHFDQUFxQztJQUNyQ0MsY0FBYztRQUNaUixvQkFBb0I7UUFDcEJDLDBCQUEwQjtRQUMxQkMsb0JBQW9CO1FBQ3BCQyxlQUFlO1FBQ2ZDLGFBQWEsRUFBRTtRQUNmQyxpQkFBaUI7UUFDakJDLGdCQUFnQjtRQUNoQkMsZ0JBQWdCO0lBQ2xCO0lBRUEseUNBQXlDO0lBQ3pDRSxpQkFBaUI7UUFDZlQsb0JBQW9CO1FBQ3BCQywwQkFBMEI7UUFDMUJDLG9CQUFvQjtRQUNwQkMsZUFBZTtRQUNmQyxhQUFhO1lBQUM7WUFBSztZQUFLO1lBQU07U0FBUztRQUN2Q0MsaUJBQWlCO1FBQ2pCQyxnQkFBZ0I7UUFDaEJDLGdCQUFnQjtJ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