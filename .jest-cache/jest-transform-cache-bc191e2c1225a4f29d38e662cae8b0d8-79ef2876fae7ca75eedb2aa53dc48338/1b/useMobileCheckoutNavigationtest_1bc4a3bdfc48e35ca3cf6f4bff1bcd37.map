{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useMobileCheckoutNavigation.test.ts"],"sourcesContent":["import { renderHook, act } from '@testing-library/react';\nimport { useMobileCheckoutNavigation } from '@/hooks/useMobileCheckoutNavigation';\nimport { useRouter } from 'next/navigation';\n\n// Mock de next/navigation\njest.mock('next/navigation', () => ({\n  useRouter: jest.fn(),\n}));\n\n// Mock de useSwipeGestures\njest.mock('@/hooks/useSwipeGestures', () => ({\n  useSwipeGestures: jest.fn(() => ({ current: null })),\n}));\n\n// Mock de navigator.vibrate\nObject.defineProperty(navigator, 'vibrate', {\n  writable: true,\n  value: jest.fn(),\n});\n\n// Mock de window.hapticFeedback\nObject.defineProperty(window, 'hapticFeedback', {\n  writable: true,\n  value: {\n    impactLight: jest.fn(),\n    impactMedium: jest.fn(),\n    impactHeavy: jest.fn(),\n  },\n});\n\n// Mock de window.addEventListener y removeEventListener\nconst mockAddEventListener = jest.fn();\nconst mockRemoveEventListener = jest.fn();\nObject.defineProperty(window, 'addEventListener', {\n  writable: true,\n  value: mockAddEventListener,\n});\nObject.defineProperty(window, 'removeEventListener', {\n  writable: true,\n  value: mockRemoveEventListener,\n});\n\n// Mock de navigator.userAgent\nObject.defineProperty(navigator, 'userAgent', {\n  writable: true,\n  value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n});\n\n// Mock de window.innerWidth\nObject.defineProperty(window, 'innerWidth', {\n  writable: true,\n  value: 1024,\n});\n\nconst mockRouter = {\n  back: jest.fn(),\n  push: jest.fn(),\n  replace: jest.fn(),\n};\n\ndescribe('useMobileCheckoutNavigation', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useRouter as jest.Mock).mockReturnValue(mockRouter);\n    \n    // Reset window properties\n    Object.defineProperty(window, 'innerWidth', {\n      writable: true,\n      value: 1024,\n    });\n    \n    Object.defineProperty(navigator, 'userAgent', {\n      writable: true,\n      value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n    });\n  });\n\n  describe('Configuración por defecto', () => {\n    it('debe inicializar con valores por defecto', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      expect(result.current.isMobile).toBe(false);\n      expect(result.current.isInteracting).toBe(false);\n      expect(result.current.containerRef).toBeDefined();\n      expect(typeof result.current.goBack).toBe('function');\n      expect(typeof result.current.goForward).toBe('function');\n      expect(typeof result.current.triggerHapticFeedback).toBe('function');\n    });\n\n    it('debe configurar event listeners para resize', () => {\n      renderHook(() => useMobileCheckoutNavigation());\n\n      expect(mockAddEventListener).toHaveBeenCalledWith('resize', expect.any(Function));\n    });\n  });\n\n  describe('Detección de dispositivo móvil', () => {\n    it('debe detectar dispositivo móvil por user agent', () => {\n      Object.defineProperty(navigator, 'userAgent', {\n        writable: true,\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\n      });\n\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      expect(result.current.isMobile).toBe(true);\n    });\n\n    it('debe detectar dispositivo móvil por tamaño de pantalla', () => {\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        value: 600,\n      });\n\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      expect(result.current.isMobile).toBe(true);\n    });\n\n    it('debe detectar dispositivo Android', () => {\n      Object.defineProperty(navigator, 'userAgent', {\n        writable: true,\n        value: 'Mozilla/5.0 (Linux; Android 10; SM-G975F)',\n      });\n\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      expect(result.current.isMobile).toBe(true);\n    });\n  });\n\n  describe('Navegación', () => {\n    it('debe llamar router.back() cuando se ejecuta goBack', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.goBack();\n      });\n\n      expect(mockRouter.back).toHaveBeenCalledTimes(1);\n    });\n\n    it('debe ejecutar callback personalizado onSwipeBack', () => {\n      const mockOnSwipeBack = jest.fn(() => true); // Retornar true para evitar router.back()\n      const { result } = renderHook(() => \n        useMobileCheckoutNavigation({ onSwipeBack: mockOnSwipeBack })\n      );\n\n      act(() => {\n        result.current.goBack();\n      });\n\n      expect(mockOnSwipeBack).toHaveBeenCalledTimes(1);\n      expect(mockRouter.back).not.toHaveBeenCalled();\n    });\n\n    it('debe ejecutar callback personalizado onSwipeForward', () => {\n      const mockOnSwipeForward = jest.fn();\n      const { result } = renderHook(() => \n        useMobileCheckoutNavigation({ onSwipeForward: mockOnSwipeForward })\n      );\n\n      act(() => {\n        result.current.goForward();\n      });\n\n      expect(mockOnSwipeForward).toHaveBeenCalledTimes(1);\n    });\n  });\n\n  describe('Feedback háptico', () => {\n    beforeEach(() => {\n      // Simular dispositivo móvil\n      Object.defineProperty(navigator, 'userAgent', {\n        writable: true,\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\n      });\n    });\n\n    it('debe activar vibración con patrón light', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback('light');\n      });\n\n      expect(navigator.vibrate).toHaveBeenCalledWith([10]);\n    });\n\n    it('debe activar vibración con patrón medium', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback('medium');\n      });\n\n      expect(navigator.vibrate).toHaveBeenCalledWith([20]);\n    });\n\n    it('debe activar vibración con patrón heavy', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback('heavy');\n      });\n\n      expect(navigator.vibrate).toHaveBeenCalledWith([30]);\n    });\n\n    it('debe usar patrón light por defecto', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback();\n      });\n\n      expect(navigator.vibrate).toHaveBeenCalledWith([10]);\n    });\n\n    it('no debe activar vibración si está deshabilitado', () => {\n      const { result } = renderHook(() => \n        useMobileCheckoutNavigation({ enableHapticFeedback: false })\n      );\n\n      act(() => {\n        result.current.triggerHapticFeedback();\n      });\n\n      expect(navigator.vibrate).not.toHaveBeenCalled();\n    });\n\n    it('no debe activar vibración en desktop', () => {\n      // Simular desktop\n      Object.defineProperty(navigator, 'userAgent', {\n        writable: true,\n        value: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n      });\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        value: 1024,\n      });\n\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback();\n      });\n\n      expect(navigator.vibrate).not.toHaveBeenCalled();\n    });\n\n    it('debe manejar errores de vibración gracefully', () => {\n      const consoleSpy = jest.spyOn(console, 'debug').mockImplementation();\n      (navigator.vibrate as jest.Mock).mockImplementation(() => {\n        throw new Error('Vibration not supported');\n      });\n\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      act(() => {\n        result.current.triggerHapticFeedback();\n      });\n\n      expect(consoleSpy).toHaveBeenCalledWith(\n        'Haptic feedback not available:',\n        expect.any(Error)\n      );\n\n      consoleSpy.mockRestore();\n    });\n  });\n\n  describe('Configuración personalizada', () => {\n    it('debe respetar enableSwipeGestures = false', () => {\n      const { useSwipeGestures } = require('@/hooks/useSwipeGestures');\n      \n      renderHook(() => \n        useMobileCheckoutNavigation({ enableSwipeGestures: false })\n      );\n\n      expect(useSwipeGestures).toHaveBeenCalledWith(\n        expect.objectContaining({\n          enabled: false,\n        })\n      );\n    });\n\n    it('debe respetar enableKeyboardNavigation = false', () => {\n      // Mock document.addEventListener\n      const mockDocumentAddEventListener = jest.fn();\n      const originalAddEventListener = document.addEventListener;\n      document.addEventListener = mockDocumentAddEventListener;\n\n      renderHook(() => \n        useMobileCheckoutNavigation({ enableKeyboardNavigation: false })\n      );\n\n      // Verificar que no se agregaron listeners de teclado\n      const keyboardListeners = mockDocumentAddEventListener.mock.calls.filter(\n        call => call[0] === 'keydown'\n      );\n      expect(keyboardListeners).toHaveLength(0);\n\n      // Restaurar\n      document.addEventListener = originalAddEventListener;\n    });\n  });\n\n  describe('Estado de interacción', () => {\n    it('debe inicializar isInteracting como false', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n      expect(result.current.isInteracting).toBe(false);\n    });\n\n    it('debe manejar touch events en dispositivos móviles', () => {\n      // Simular dispositivo móvil\n      Object.defineProperty(navigator, 'userAgent', {\n        writable: true,\n        value: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\n      });\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        value: 600,\n      });\n\n      const mockElement = {\n        addEventListener: jest.fn(),\n        removeEventListener: jest.fn(),\n      };\n\n      const { result, rerender } = renderHook(() => useMobileCheckoutNavigation());\n      \n      // Simular que el ref tiene un elemento después del primer render\n      act(() => {\n        result.current.containerRef.current = mockElement as any;\n      });\n\n      // Re-render para activar el useEffect con el elemento presente\n      rerender();\n\n      expect(mockElement.addEventListener).toHaveBeenCalledWith(\n        'touchstart',\n        expect.any(Function),\n        { passive: true }\n      );\n      expect(mockElement.addEventListener).toHaveBeenCalledWith(\n        'touchend',\n        expect.any(Function),\n        { passive: true }\n      );\n    });\n  });\n\n  describe('Cleanup', () => {\n    it('debe remover event listeners al desmontar', () => {\n      const { unmount } = renderHook(() => useMobileCheckoutNavigation());\n\n      unmount();\n\n      expect(mockRemoveEventListener).toHaveBeenCalledWith(\n        'resize',\n        expect.any(Function)\n      );\n    });\n  });\n\n  describe('Casos edge', () => {\n    it('debe manejar múltiples tipos de user agents móviles', () => {\n      const mobileUserAgents = [\n        'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)',\n        'Mozilla/5.0 (Linux; Android 10; SM-G975F)',\n        'Mozilla/5.0 (iPad; CPU OS 14_0 like Mac OS X)',\n        'Mozilla/5.0 (iPod touch; CPU iPhone OS 14_0 like Mac OS X)',\n        'Mozilla/5.0 (BlackBerry; U; BlackBerry 9900)',\n        'Opera/9.80 (J2ME/MIDP; Opera Mini/9.80)',\n      ];\n\n      mobileUserAgents.forEach(userAgent => {\n        Object.defineProperty(navigator, 'userAgent', {\n          writable: true,\n          value: userAgent,\n        });\n\n        const { result } = renderHook(() => useMobileCheckoutNavigation());\n        expect(result.current.isMobile).toBe(true);\n      });\n    });\n\n    it('debe manejar resize events correctamente', () => {\n      const { result } = renderHook(() => useMobileCheckoutNavigation());\n\n      // Inicialmente desktop\n      expect(result.current.isMobile).toBe(false);\n\n      // Simular resize a móvil\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        value: 600,\n      });\n\n      // Obtener el callback de resize\n      const resizeCallback = mockAddEventListener.mock.calls.find(\n        call => call[0] === 'resize'\n      )?.[1];\n\n      act(() => {\n        resizeCallback?.();\n      });\n\n      expect(result.current.isMobile).toBe(true);\n    });\n  });\n});"],"names":["jest","mock","useRouter","fn","useSwipeGestures","current","Object","defineProperty","navigator","writable","value","window","impactLight","impactMedium","impactHeavy","mockAddEventListener","mockRemoveEventListener","mockRouter","back","push","replace","describe","beforeEach","clearAllMocks","mockReturnValue","it","result","renderHook","useMobileCheckoutNavigation","expect","isMobile","toBe","isInteracting","containerRef","toBeDefined","goBack","goForward","triggerHapticFeedback","toHaveBeenCalledWith","any","Function","act","toHaveBeenCalledTimes","mockOnSwipeBack","onSwipeBack","not","toHaveBeenCalled","mockOnSwipeForward","onSwipeForward","vibrate","enableHapticFeedback","consoleSpy","spyOn","console","mockImplementation","Error","mockRestore","require","enableSwipeGestures","objectContaining","enabled","mockDocumentAddEventListener","originalAddEventListener","document","addEventListener","enableKeyboardNavigation","keyboardListeners","calls","filter","call","toHaveLength","mockElement","removeEventListener","rerender","passive","unmount","mobileUserAgents","forEach","userAgent","resizeCallback","find"],"mappings":"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"}