{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Home\\NewArrivals\\index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport ProductItem from \"@/components/Common/ProductItem\";\r\nimport { useFilteredProducts } from \"@/hooks/useFilteredProducts\";\r\nimport { adaptApiProductsToComponents } from \"@/lib/adapters/product-adapter\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Sparkles, ArrowRight, Loader2 } from \"@/lib/optimized-imports\";\r\n\r\ninterface NewArrivalProps {\r\n  selectedCategories?: string[];\r\n}\r\n\r\nconst NewArrival: React.FC<NewArrivalProps> = ({ selectedCategories = [] }) => {\r\n  // Hook para obtener productos más recientes filtrados\r\n  const { data, isLoading, error } = useFilteredProducts({\r\n    categories: selectedCategories.length > 0 ? selectedCategories : undefined,\r\n    limit: 8,\r\n    sortBy: 'created_at',\r\n    sortOrder: 'desc',\r\n  });\r\n\r\n  // Obtener productos de la respuesta y adaptarlos al formato de componente\r\n  const apiProducts = data?.data || [];\r\n  const products = adaptApiProductsToComponents(apiProducts);\r\n\r\n  // Título dinámico según filtros\r\n  const sectionTitle = selectedCategories.length > 0\r\n    ? `Novedades en ${selectedCategories.length === 1 ? 'esta categoría' : 'estas categorías'}`\r\n    : 'Nuevos Productos';\r\n\r\n  return (\r\n    <section className=\"overflow-hidden pt-6 sm:pt-10 pb-4 sm:pb-6\">\r\n      <div className=\"max-w-[1170px] w-full mx-auto px-4 sm:px-8 xl:px-0\">\r\n        {/* Section Header - Migrado al Design System */}\r\n        <div className=\"mb-8 sm:mb-10 flex items-center justify-between\">\r\n          <div>\r\n            <div className=\"flex items-center gap-2.5 font-medium text-gray-700 mb-1.5\">\r\n              <div className=\"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                <Sparkles className=\"w-3 h-3 text-primary\" />\r\n              </div>\r\n              <span>Esta Semana</span>\r\n              <Badge variant=\"info\" size=\"sm\">\r\n                Nuevos\r\n              </Badge>\r\n            </div>\r\n            <h2 className=\"font-semibold text-xl xl:text-heading-5 text-gray-900\">\r\n              {sectionTitle}\r\n            </h2>\r\n          </div>\r\n\r\n          {/* Botón migrado al Design System */}\r\n          <Button variant=\"outline\" asChild>\r\n            <Link href=\"/shop-with-sidebar\">\r\n              Ver Todos\r\n              <ArrowRight className=\"ml-2 h-4 w-4\" />\r\n            </Link>\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Loading State - Mobile-First 2 columnas */}\r\n        {isLoading ? (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9\">\r\n            {[...Array(8)].map((_, index) => (\r\n              <Card key={index} className=\"overflow-hidden\">\r\n                <div className=\"animate-pulse\">\r\n                  <div className=\"bg-gray-200 h-32 md:h-48 rounded-t-lg\"></div>\r\n                  <CardContent className=\"p-2 md:p-4\">\r\n                    <div className=\"space-y-2 md:space-y-3\">\r\n                      <div className=\"bg-gray-200 h-3 md:h-4 rounded w-3/4\"></div>\r\n                      <div className=\"bg-gray-200 h-3 md:h-4 rounded w-1/2\"></div>\r\n                      <div className=\"bg-gray-200 h-4 md:h-6 rounded w-1/3\"></div>\r\n                    </div>\r\n                  </CardContent>\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        ) : error ? (\r\n          /* Error State - Mejorado con Design System */\r\n          <Card variant=\"outlined\" className=\"border-red-200 bg-red-50\">\r\n            <CardContent className=\"p-8 text-center\">\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center\">\r\n                  <span className=\"text-red-600 text-xl\">⚠️</span>\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-red-900 mb-1\">\r\n                    Error al cargar productos\r\n                  </h3>\r\n                  <p className=\"text-red-700 text-sm\">{error}</p>\r\n                </div>\r\n                <Button \r\n                  variant=\"outline\" \r\n                  size=\"sm\"\r\n                  onClick={() => window.location.reload()}\r\n                  className=\"border-red-300 text-red-700 hover:bg-red-100\"\r\n                >\r\n                  Reintentar\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          /* Products Grid - Mobile-First 2 columnas */\r\n          <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-x-7.5 md:gap-y-9\">\r\n            {products.map((item, key) => (\r\n              <ProductItem item={item} key={key} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty State - Nuevo con Design System */}\r\n        {!isLoading && !error && products.length === 0 && (\r\n          <Card variant=\"outlined\" className=\"border-gray-200\">\r\n            <CardContent className=\"p-12 text-center\">\r\n              <div className=\"flex flex-col items-center gap-4\">\r\n                <div className=\"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center\">\r\n                  <Sparkles className=\"w-8 h-8 text-gray-400\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-gray-900 mb-2\">\r\n                    No hay productos nuevos\r\n                  </h3>\r\n                  <p className=\"text-gray-600 text-sm mb-4\">\r\n                    Pronto agregaremos nuevos productos de pinturería\r\n                  </p>\r\n                  <Button variant=\"outline\" asChild>\r\n                    <Link href=\"/shop-with-sidebar\">\r\n                      Ver Catálogo Completo\r\n                    </Link>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default NewArrival;\r\n"],"names":["NewArrival","selectedCategories","data","isLoading","error","useFilteredProducts","categories","length","undefined","limit","sortBy","sortOrder","apiProducts","products","adaptApiProductsToComponents","sectionTitle","section","className","div","Sparkles","span","Badge","variant","size","h2","Button","asChild","Link","href","ArrowRight","Array","map","_","index","Card","CardContent","h3","p","onClick","window","location","reload","item","key","ProductItem"],"mappings":"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"}