{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\hooks\\useAnalytics.test.ts"],"sourcesContent":["/**\n * useAnalytics Hook Tests\n * Enterprise-ready test suite for analytics tracking\n * Pinteya E-commerce\n */\n\nimport { renderHook, act } from '@testing-library/react';\nimport { useAnalytics, useRealTimeMetrics, useComponentTracking } from '@/hooks/useAnalytics';\nimport { analytics } from '@/lib/analytics';\n\n// Mock useAuth hook\njest.mock('@/hooks/useAuth', () => ({\n  useAuth: () => ({\n    user: { id: 'test-user-123', email: 'test@example.com' },\n    isLoaded: true,\n  }),\n}));\n\n// Mock usePathname\njest.mock('next/navigation', () => ({\n  usePathname: () => '/test-page',\n}));\n\n// Mock analytics lib\njest.mock('@/lib/analytics', () => ({\n  analytics: {\n    trackEvent: jest.fn(),\n    trackEcommerceEvent: jest.fn(),\n    trackPageView: jest.fn(),\n    trackConversion: jest.fn(),\n    trackProductView: jest.fn(),\n    trackAddToCart: jest.fn(),\n    trackRemoveFromCart: jest.fn(),\n    trackCheckoutStart: jest.fn(),\n    trackPurchase: jest.fn(),\n    trackSearch: jest.fn(),\n    getEvents: jest.fn(() => []),\n    getInteractions: jest.fn(() => []),\n    getConversionMetrics: jest.fn(() => ({\n      cartAdditions: 5,\n      cartRemovals: 1,\n      checkoutStarts: 3,\n      checkoutCompletions: 2,\n      productViews: 25,\n      categoryViews: 8,\n      searchQueries: 12,\n      conversionRate: 0.08,\n      averageOrderValue: 150.75,\n      cartAbandonmentRate: 0.33,\n    })),\n    getSessionId: jest.fn(() => 'test-session-123'),\n  },\n}));\n\n// Mock window.gtag\nObject.defineProperty(window, 'gtag', {\n  value: jest.fn(),\n  writable: true,\n});\n\ndescribe('useAnalytics Hook', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Initialization', () => {\n    it('should initialize with correct default state', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      expect(result.current.isEnabled).toBe(true);\n      expect(result.current.sessionMetrics).toBeDefined();\n      expect(typeof result.current.trackEvent).toBe('function');\n      expect(typeof result.current.trackPageView).toBe('function');\n      expect(typeof result.current.getSessionId).toBe('function');\n    });\n\n    it('should provide all required tracking functions', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      const expectedFunctions = [\n        'trackEvent',\n        'trackEcommerceEvent',\n        'trackPageView',\n        'trackConversion',\n        'trackProductView',\n        'trackAddToCart',\n        'trackRemoveFromCart',\n        'trackCheckoutStart',\n        'trackPurchase',\n        'trackSearch',\n      ];\n\n      expectedFunctions.forEach(funcName => {\n        expect(typeof result.current[funcName]).toBe('function');\n      });\n    });\n  });\n\n  describe('Event Tracking', () => {\n    it('should track generic events correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);\n      });\n\n      expect(analytics.trackEvent).toHaveBeenCalledWith(\n        'test_event',\n        'test_category',\n        'test_action',\n        'test_label',\n        100,\n        undefined\n      );\n    });\n\n    it('should track product view events', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);\n      });\n\n      expect(analytics.trackProductView).toHaveBeenCalledWith(\n        'prod-123',\n        'Test Product',\n        'Electronics',\n        99.99\n      );\n    });\n\n    it('should track add to cart events', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);\n      });\n\n      expect(analytics.trackAddToCart).toHaveBeenCalledWith(\n        'prod-123',\n        'Test Product',\n        99.99,\n        2\n      );\n    });\n\n    it('should track checkout start events', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.trackCheckoutStart(299.98, 3);\n      });\n\n      expect(analytics.trackCheckoutStart).toHaveBeenCalledWith(299.98, 3);\n    });\n\n    it('should track purchase events', () => {\n      const { result } = renderHook(() => useAnalytics());\n      const mockItems = [{ id: 'item1', name: 'Product 1', price: 99.99 }];\n\n      act(() => {\n        result.current.trackPurchase('order-123', 299.98, mockItems);\n      });\n\n      expect(analytics.trackPurchase).toHaveBeenCalledWith('order-123', 299.98, mockItems);\n    });\n\n    it('should track search events', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.trackSearch('test query', 15);\n      });\n\n      expect(analytics.trackSearch).toHaveBeenCalledWith('test query', 15);\n    });\n  });\n\n  describe('Data Retrieval', () => {\n    it('should get events correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      const events = result.current.getEvents();\n      expect(analytics.getEvents).toHaveBeenCalled();\n      expect(Array.isArray(events)).toBe(true);\n    });\n\n    it('should get session ID correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      const sessionId = result.current.getSessionId();\n      expect(analytics.getSessionId).toHaveBeenCalled();\n      expect(sessionId).toBe('test-session-123');\n    });\n\n    it('should get conversion metrics correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      const metrics = result.current.getConversionMetrics();\n      expect(analytics.getConversionMetrics).toHaveBeenCalled();\n      expect(metrics).toEqual({\n        cartAdditions: 5,\n        cartRemovals: 1,\n        checkoutStarts: 3,\n        checkoutCompletions: 2,\n        productViews: 25,\n        categoryViews: 8,\n        searchQueries: 12,\n        conversionRate: 0.08,\n        averageOrderValue: 150.75,\n        cartAbandonmentRate: 0.33,\n      });\n    });\n  });\n\n  describe('State Management', () => {\n    it('should toggle enabled state correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      expect(result.current.isEnabled).toBe(true);\n\n      act(() => {\n        result.current.setEnabled(false);\n      });\n\n      expect(result.current.isEnabled).toBe(false);\n\n      act(() => {\n        result.current.setEnabled(true);\n      });\n\n      expect(result.current.isEnabled).toBe(true);\n    });\n\n    it('should refresh metrics correctly', () => {\n      const { result } = renderHook(() => useAnalytics());\n\n      act(() => {\n        result.current.refreshMetrics();\n      });\n\n      expect(analytics.getConversionMetrics).toHaveBeenCalled();\n    });\n  });\n});\n\ndescribe('useRealTimeMetrics Hook', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.useRealTimers();\n  });\n\n  it('should initialize with metrics from analytics', () => {\n    const { result } = renderHook(() => useRealTimeMetrics());\n\n    expect(result.current).toEqual({\n      cartAdditions: 5,\n      cartRemovals: 1,\n      checkoutStarts: 3,\n      checkoutCompletions: 2,\n      productViews: 25,\n      categoryViews: 8,\n      searchQueries: 12,\n      conversionRate: 0.08,\n      averageOrderValue: 150.75,\n      cartAbandonmentRate: 0.33,\n    });\n  });\n\n  it('should update metrics at specified interval', () => {\n    renderHook(() => useRealTimeMetrics(1000));\n\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(1);\n\n    act(() => {\n      jest.advanceTimersByTime(1000);\n    });\n\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(2);\n\n    act(() => {\n      jest.advanceTimersByTime(1000);\n    });\n\n    expect(analytics.getConversionMetrics).toHaveBeenCalledTimes(3);\n  });\n});\n\ndescribe('useComponentTracking Hook', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should track component mount and unmount', () => {\n    const { unmount } = renderHook(() => useComponentTracking('TestComponent'));\n\n    expect(analytics.trackEvent).toHaveBeenCalledWith(\n      'component_mount',\n      'ui',\n      'mount',\n      'TestComponent',\n      undefined,\n      undefined\n    );\n\n    unmount();\n\n    expect(analytics.trackEvent).toHaveBeenCalledWith(\n      'component_unmount',\n      'ui',\n      'unmount',\n      'TestComponent',\n      undefined,\n      undefined\n    );\n  });\n\n  it('should not track mount when trackMount is false', () => {\n    renderHook(() => useComponentTracking('TestComponent', false));\n\n    expect(analytics.trackEvent).not.toHaveBeenCalledWith(\n      'component_mount',\n      'ui',\n      'mount',\n      'TestComponent',\n      undefined,\n      undefined\n    );\n  });\n\n  it('should provide trackComponentEvent function', () => {\n    const { result } = renderHook(() => useComponentTracking('TestComponent'));\n\n    act(() => {\n      result.current.trackComponentEvent('click', { button: 'primary' });\n    });\n\n    expect(analytics.trackEvent).toHaveBeenCalledWith(\n      'component_interaction',\n      'ui',\n      'click',\n      'TestComponent',\n      undefined,\n      { button: 'primary' }\n    );\n  });\n});"],"names":["jest","mock","useAuth","user","id","email","isLoaded","usePathname","analytics","trackEvent","fn","trackEcommerceEvent","trackPageView","trackConversion","trackProductView","trackAddToCart","trackRemoveFromCart","trackCheckoutStart","trackPurchase","trackSearch","getEvents","getInteractions","getConversionMetrics","cartAdditions","cartRemovals","checkoutStarts","checkoutCompletions","productViews","categoryViews","searchQueries","conversionRate","averageOrderValue","cartAbandonmentRate","getSessionId","Object","defineProperty","window","value","writable","describe","beforeEach","clearAllMocks","it","result","renderHook","useAnalytics","expect","current","isEnabled","toBe","sessionMetrics","toBeDefined","expectedFunctions","forEach","funcName","act","toHaveBeenCalledWith","undefined","mockItems","name","price","events","toHaveBeenCalled","Array","isArray","sessionId","metrics","toEqual","setEnabled","refreshMetrics","useFakeTimers","afterEach","useRealTimers","useRealTimeMetrics","toHaveBeenCalledTimes","advanceTimersByTime","unmount","useComponentTracking","not","trackComponentEvent","button"],"mappings":"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"}