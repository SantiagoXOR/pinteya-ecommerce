5523f3644711cf6359f65cd9069ce7b1
/**
 * useAnalytics Hook Tests
 * Enterprise-ready test suite for analytics tracking
 * Pinteya E-commerce
 */ "use strict";
// Mock useAuth hook
jest.mock('@/hooks/useAuth', ()=>({
        useAuth: ()=>({
                user: {
                    id: 'test-user-123',
                    email: 'test@example.com'
                },
                isLoaded: true
            })
    }));
// Mock usePathname
jest.mock('next/navigation', ()=>({
        usePathname: ()=>'/test-page'
    }));
// Mock analytics lib
jest.mock('@/lib/analytics', ()=>({
        analytics: {
            trackEvent: jest.fn(),
            trackEcommerceEvent: jest.fn(),
            trackPageView: jest.fn(),
            trackConversion: jest.fn(),
            trackProductView: jest.fn(),
            trackAddToCart: jest.fn(),
            trackRemoveFromCart: jest.fn(),
            trackCheckoutStart: jest.fn(),
            trackPurchase: jest.fn(),
            trackSearch: jest.fn(),
            getEvents: jest.fn(()=>[]),
            getInteractions: jest.fn(()=>[]),
            getConversionMetrics: jest.fn(()=>({
                    cartAdditions: 5,
                    cartRemovals: 1,
                    checkoutStarts: 3,
                    checkoutCompletions: 2,
                    productViews: 25,
                    categoryViews: 8,
                    searchQueries: 12,
                    conversionRate: 0.08,
                    averageOrderValue: 150.75,
                    cartAbandonmentRate: 0.33
                })),
            getSessionId: jest.fn(()=>'test-session-123')
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useAnalytics = require("../../hooks/useAnalytics");
const _analytics = require("../../lib/analytics");
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
describe('useAnalytics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Initialization', ()=>{
        it('should initialize with correct default state', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            expect(result.current.sessionMetrics).toBeDefined();
            expect(typeof result.current.trackEvent).toBe('function');
            expect(typeof result.current.trackPageView).toBe('function');
            expect(typeof result.current.getSessionId).toBe('function');
        });
        it('should provide all required tracking functions', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const expectedFunctions = [
                'trackEvent',
                'trackEcommerceEvent',
                'trackPageView',
                'trackConversion',
                'trackProductView',
                'trackAddToCart',
                'trackRemoveFromCart',
                'trackCheckoutStart',
                'trackPurchase',
                'trackSearch'
            ];
            expectedFunctions.forEach((funcName)=>{
                expect(typeof result.current[funcName]).toBe('function');
            });
        });
    });
    describe('Event Tracking', ()=>{
        it('should track generic events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);
            });
            expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('test_event', 'test_category', 'test_action', 'test_label', 100, undefined);
        });
        it('should track product view events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);
            });
            expect(_analytics.analytics.trackProductView).toHaveBeenCalledWith('prod-123', 'Test Product', 'Electronics', 99.99);
        });
        it('should track add to cart events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);
            });
            expect(_analytics.analytics.trackAddToCart).toHaveBeenCalledWith('prod-123', 'Test Product', 99.99, 2);
        });
        it('should track checkout start events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackCheckoutStart(299.98, 3);
            });
            expect(_analytics.analytics.trackCheckoutStart).toHaveBeenCalledWith(299.98, 3);
        });
        it('should track purchase events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const mockItems = [
                {
                    id: 'item1',
                    name: 'Product 1',
                    price: 99.99
                }
            ];
            (0, _react.act)(()=>{
                result.current.trackPurchase('order-123', 299.98, mockItems);
            });
            expect(_analytics.analytics.trackPurchase).toHaveBeenCalledWith('order-123', 299.98, mockItems);
        });
        it('should track search events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackSearch('test query', 15);
            });
            expect(_analytics.analytics.trackSearch).toHaveBeenCalledWith('test query', 15);
        });
    });
    describe('Data Retrieval', ()=>{
        it('should get events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const events = result.current.getEvents();
            expect(_analytics.analytics.getEvents).toHaveBeenCalled();
            expect(Array.isArray(events)).toBe(true);
        });
        it('should get session ID correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const sessionId = result.current.getSessionId();
            expect(_analytics.analytics.getSessionId).toHaveBeenCalled();
            expect(sessionId).toBe('test-session-123');
        });
        it('should get conversion metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const metrics = result.current.getConversionMetrics();
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
            expect(metrics).toEqual({
                cartAdditions: 5,
                cartRemovals: 1,
                checkoutStarts: 3,
                checkoutCompletions: 2,
                productViews: 25,
                categoryViews: 8,
                searchQueries: 12,
                conversionRate: 0.08,
                averageOrderValue: 150.75,
                cartAbandonmentRate: 0.33
            });
        });
    });
    describe('State Management', ()=>{
        it('should toggle enabled state correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            (0, _react.act)(()=>{
                result.current.setEnabled(false);
            });
            expect(result.current.isEnabled).toBe(false);
            (0, _react.act)(()=>{
                result.current.setEnabled(true);
            });
            expect(result.current.isEnabled).toBe(true);
        });
        it('should refresh metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.refreshMetrics();
            });
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
        });
    });
});
describe('useRealTimeMetrics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.useRealTimers();
    });
    it('should initialize with metrics from analytics', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)());
        expect(result.current).toEqual({
            cartAdditions: 5,
            cartRemovals: 1,
            checkoutStarts: 3,
            checkoutCompletions: 2,
            productViews: 25,
            categoryViews: 8,
            searchQueries: 12,
            conversionRate: 0.08,
            averageOrderValue: 150.75,
            cartAbandonmentRate: 0.33
        });
    });
    it('should update metrics at specified interval', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)(1000));
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(1);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(2);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(3);
    });
});
describe('useComponentTracking Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should track component mount and unmount', ()=>{
        const { unmount } = (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent'));
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_mount', 'ui', 'mount', 'TestComponent', undefined, undefined);
        unmount();
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_unmount', 'ui', 'unmount', 'TestComponent', undefined, undefined);
    });
    it('should not track mount when trackMount is false', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent', false));
        expect(_analytics.analytics.trackEvent).not.toHaveBeenCalledWith('component_mount', 'ui', 'mount', 'TestComponent', undefined, undefined);
    });
    it('should provide trackComponentEvent function', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent'));
        (0, _react.act)(()=>{
            result.current.trackComponentEvent('click', {
                button: 'primary'
            });
        });
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_interaction', 'ui', 'click', 'TestComponent', undefined, {
            button: 'primary'
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiB1c2VBbmFseXRpY3MgSG9vayBUZXN0c1xuICogRW50ZXJwcmlzZS1yZWFkeSB0ZXN0IHN1aXRlIGZvciBhbmFseXRpY3MgdHJhY2tpbmdcbiAqIFBpbnRleWEgRS1jb21tZXJjZVxuICovXG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlQW5hbHl0aWNzLCB1c2VSZWFsVGltZU1ldHJpY3MsIHVzZUNvbXBvbmVudFRyYWNraW5nIH0gZnJvbSAnQC9ob29rcy91c2VBbmFseXRpY3MnO1xuaW1wb3J0IHsgYW5hbHl0aWNzIH0gZnJvbSAnQC9saWIvYW5hbHl0aWNzJztcblxuLy8gTW9jayB1c2VBdXRoIGhvb2tcbmplc3QubW9jaygnQC9ob29rcy91c2VBdXRoJywgKCkgPT4gKHtcbiAgdXNlQXV0aDogKCkgPT4gKHtcbiAgICB1c2VyOiB7IGlkOiAndGVzdC11c2VyLTEyMycsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2sgdXNlUGF0aG5hbWVcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUGF0aG5hbWU6ICgpID0+ICcvdGVzdC1wYWdlJyxcbn0pKTtcblxuLy8gTW9jayBhbmFseXRpY3MgbGliXG5qZXN0Lm1vY2soJ0AvbGliL2FuYWx5dGljcycsICgpID0+ICh7XG4gIGFuYWx5dGljczoge1xuICAgIHRyYWNrRXZlbnQ6IGplc3QuZm4oKSxcbiAgICB0cmFja0Vjb21tZXJjZUV2ZW50OiBqZXN0LmZuKCksXG4gICAgdHJhY2tQYWdlVmlldzogamVzdC5mbigpLFxuICAgIHRyYWNrQ29udmVyc2lvbjogamVzdC5mbigpLFxuICAgIHRyYWNrUHJvZHVjdFZpZXc6IGplc3QuZm4oKSxcbiAgICB0cmFja0FkZFRvQ2FydDogamVzdC5mbigpLFxuICAgIHRyYWNrUmVtb3ZlRnJvbUNhcnQ6IGplc3QuZm4oKSxcbiAgICB0cmFja0NoZWNrb3V0U3RhcnQ6IGplc3QuZm4oKSxcbiAgICB0cmFja1B1cmNoYXNlOiBqZXN0LmZuKCksXG4gICAgdHJhY2tTZWFyY2g6IGplc3QuZm4oKSxcbiAgICBnZXRFdmVudHM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgIGdldEludGVyYWN0aW9uczogamVzdC5mbigoKSA9PiBbXSksXG4gICAgZ2V0Q29udmVyc2lvbk1ldHJpY3M6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGNhcnRBZGRpdGlvbnM6IDUsXG4gICAgICBjYXJ0UmVtb3ZhbHM6IDEsXG4gICAgICBjaGVja291dFN0YXJ0czogMyxcbiAgICAgIGNoZWNrb3V0Q29tcGxldGlvbnM6IDIsXG4gICAgICBwcm9kdWN0Vmlld3M6IDI1LFxuICAgICAgY2F0ZWdvcnlWaWV3czogOCxcbiAgICAgIHNlYXJjaFF1ZXJpZXM6IDEyLFxuICAgICAgY29udmVyc2lvblJhdGU6IDAuMDgsXG4gICAgICBhdmVyYWdlT3JkZXJWYWx1ZTogMTUwLjc1LFxuICAgICAgY2FydEFiYW5kb25tZW50UmF0ZTogMC4zMyxcbiAgICB9KSksXG4gICAgZ2V0U2Vzc2lvbklkOiBqZXN0LmZuKCgpID0+ICd0ZXN0LXNlc3Npb24tMTIzJyksXG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgd2luZG93Lmd0YWdcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdndGFnJywge1xuICB2YWx1ZTogamVzdC5mbigpLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG5kZXNjcmliZSgndXNlQW5hbHl0aWNzIEhvb2snLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW5pdGlhbGl6YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggY29ycmVjdCBkZWZhdWx0IHN0YXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlc3Npb25NZXRyaWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC50cmFja1BhZ2VWaWV3KS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5nZXRTZXNzaW9uSWQpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgYWxsIHJlcXVpcmVkIHRyYWNraW5nIGZ1bmN0aW9ucycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgY29uc3QgZXhwZWN0ZWRGdW5jdGlvbnMgPSBbXG4gICAgICAgICd0cmFja0V2ZW50JyxcbiAgICAgICAgJ3RyYWNrRWNvbW1lcmNlRXZlbnQnLFxuICAgICAgICAndHJhY2tQYWdlVmlldycsXG4gICAgICAgICd0cmFja0NvbnZlcnNpb24nLFxuICAgICAgICAndHJhY2tQcm9kdWN0VmlldycsXG4gICAgICAgICd0cmFja0FkZFRvQ2FydCcsXG4gICAgICAgICd0cmFja1JlbW92ZUZyb21DYXJ0JyxcbiAgICAgICAgJ3RyYWNrQ2hlY2tvdXRTdGFydCcsXG4gICAgICAgICd0cmFja1B1cmNoYXNlJyxcbiAgICAgICAgJ3RyYWNrU2VhcmNoJyxcbiAgICAgIF07XG5cbiAgICAgIGV4cGVjdGVkRnVuY3Rpb25zLmZvckVhY2goZnVuY05hbWUgPT4ge1xuICAgICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50W2Z1bmNOYW1lXSkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXZlbnQgVHJhY2tpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB0cmFjayBnZW5lcmljIGV2ZW50cyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRXZlbnQoJ3Rlc3RfZXZlbnQnLCAndGVzdF9jYXRlZ29yeScsICd0ZXN0X2FjdGlvbicsICd0ZXN0X2xhYmVsJywgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAndGVzdF9ldmVudCcsXG4gICAgICAgICd0ZXN0X2NhdGVnb3J5JyxcbiAgICAgICAgJ3Rlc3RfYWN0aW9uJyxcbiAgICAgICAgJ3Rlc3RfbGFiZWwnLFxuICAgICAgICAxMDAsXG4gICAgICAgIHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgcHJvZHVjdCB2aWV3IGV2ZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tQcm9kdWN0VmlldygncHJvZC0xMjMnLCAnVGVzdCBQcm9kdWN0JywgJ0VsZWN0cm9uaWNzJywgOTkuOTkpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tQcm9kdWN0VmlldykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdwcm9kLTEyMycsXG4gICAgICAgICdUZXN0IFByb2R1Y3QnLFxuICAgICAgICAnRWxlY3Ryb25pY3MnLFxuICAgICAgICA5OS45OVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgYWRkIHRvIGNhcnQgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0FkZFRvQ2FydCgncHJvZC0xMjMnLCAnVGVzdCBQcm9kdWN0JywgOTkuOTksIDIpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tBZGRUb0NhcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAncHJvZC0xMjMnLFxuICAgICAgICAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgOTkuOTksXG4gICAgICAgIDJcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIGNoZWNrb3V0IHN0YXJ0IGV2ZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tDaGVja291dFN0YXJ0KDI5OS45OCwgMyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0NoZWNrb3V0U3RhcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDI5OS45OCwgMyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIHB1cmNoYXNlIGV2ZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcbiAgICAgIGNvbnN0IG1vY2tJdGVtcyA9IFt7IGlkOiAnaXRlbTEnLCBuYW1lOiAnUHJvZHVjdCAxJywgcHJpY2U6IDk5Ljk5IH1dO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1B1cmNoYXNlKCdvcmRlci0xMjMnLCAyOTkuOTgsIG1vY2tJdGVtcyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja1B1cmNoYXNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnb3JkZXItMTIzJywgMjk5Ljk4LCBtb2NrSXRlbXMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBzZWFyY2ggZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1NlYXJjaCgndGVzdCBxdWVyeScsIDE1KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrU2VhcmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdCBxdWVyeScsIDE1KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgUmV0cmlldmFsJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IGV2ZW50cyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGNvbnN0IGV2ZW50cyA9IHJlc3VsdC5jdXJyZW50LmdldEV2ZW50cygpO1xuICAgICAgZXhwZWN0KGFuYWx5dGljcy5nZXRFdmVudHMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KGV2ZW50cykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCBzZXNzaW9uIElEIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgY29uc3Qgc2Vzc2lvbklkID0gcmVzdWx0LmN1cnJlbnQuZ2V0U2Vzc2lvbklkKCk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldFNlc3Npb25JZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHNlc3Npb25JZCkudG9CZSgndGVzdC1zZXNzaW9uLTEyMycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZXQgY29udmVyc2lvbiBtZXRyaWNzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgY29uc3QgbWV0cmljcyA9IHJlc3VsdC5jdXJyZW50LmdldENvbnZlcnNpb25NZXRyaWNzKCk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobWV0cmljcykudG9FcXVhbCh7XG4gICAgICAgIGNhcnRBZGRpdGlvbnM6IDUsXG4gICAgICAgIGNhcnRSZW1vdmFsczogMSxcbiAgICAgICAgY2hlY2tvdXRTdGFydHM6IDMsXG4gICAgICAgIGNoZWNrb3V0Q29tcGxldGlvbnM6IDIsXG4gICAgICAgIHByb2R1Y3RWaWV3czogMjUsXG4gICAgICAgIGNhdGVnb3J5Vmlld3M6IDgsXG4gICAgICAgIHNlYXJjaFF1ZXJpZXM6IDEyLFxuICAgICAgICBjb252ZXJzaW9uUmF0ZTogMC4wOCxcbiAgICAgICAgYXZlcmFnZU9yZGVyVmFsdWU6IDE1MC43NSxcbiAgICAgICAgY2FydEFiYW5kb25tZW50UmF0ZTogMC4zMyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3RhdGUgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBlbmFibGVkIHN0YXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZShmYWxzZSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVmcmVzaCBtZXRyaWNzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQucmVmcmVzaE1ldHJpY3MoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCd1c2VSZWFsVGltZU1ldHJpY3MgSG9vaycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIG1ldHJpY3MgZnJvbSBhbmFseXRpY3MnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUmVhbFRpbWVNZXRyaWNzKCkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0VxdWFsKHtcbiAgICAgIGNhcnRBZGRpdGlvbnM6IDUsXG4gICAgICBjYXJ0UmVtb3ZhbHM6IDEsXG4gICAgICBjaGVja291dFN0YXJ0czogMyxcbiAgICAgIGNoZWNrb3V0Q29tcGxldGlvbnM6IDIsXG4gICAgICBwcm9kdWN0Vmlld3M6IDI1LFxuICAgICAgY2F0ZWdvcnlWaWV3czogOCxcbiAgICAgIHNlYXJjaFF1ZXJpZXM6IDEyLFxuICAgICAgY29udmVyc2lvblJhdGU6IDAuMDgsXG4gICAgICBhdmVyYWdlT3JkZXJWYWx1ZTogMTUwLjc1LFxuICAgICAgY2FydEFiYW5kb25tZW50UmF0ZTogMC4zMyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB1cGRhdGUgbWV0cmljcyBhdCBzcGVjaWZpZWQgaW50ZXJ2YWwnLCAoKSA9PiB7XG4gICAgcmVuZGVySG9vaygoKSA9PiB1c2VSZWFsVGltZU1ldHJpY3MoMTAwMCkpO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwMCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCd1c2VDb21wb25lbnRUcmFja2luZyBIb29rJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0cmFjayBjb21wb25lbnQgbW91bnQgYW5kIHVubW91bnQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUNvbXBvbmVudFRyYWNraW5nKCdUZXN0Q29tcG9uZW50JykpO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0V2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdjb21wb25lbnRfbW91bnQnLFxuICAgICAgJ3VpJyxcbiAgICAgICdtb3VudCcsXG4gICAgICAnVGVzdENvbXBvbmVudCcsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuXG4gICAgdW5tb3VudCgpO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0V2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdjb21wb25lbnRfdW5tb3VudCcsXG4gICAgICAndWknLFxuICAgICAgJ3VubW91bnQnLFxuICAgICAgJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkXG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBub3QgdHJhY2sgbW91bnQgd2hlbiB0cmFja01vdW50IGlzIGZhbHNlJywgKCkgPT4ge1xuICAgIHJlbmRlckhvb2soKCkgPT4gdXNlQ29tcG9uZW50VHJhY2tpbmcoJ1Rlc3RDb21wb25lbnQnLCBmYWxzZSkpO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0V2ZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAnY29tcG9uZW50X21vdW50JyxcbiAgICAgICd1aScsXG4gICAgICAnbW91bnQnLFxuICAgICAgJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkXG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBwcm92aWRlIHRyYWNrQ29tcG9uZW50RXZlbnQgZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ29tcG9uZW50VHJhY2tpbmcoJ1Rlc3RDb21wb25lbnQnKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tDb21wb25lbnRFdmVudCgnY2xpY2snLCB7IGJ1dHRvbjogJ3ByaW1hcnknIH0pO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0V2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdjb21wb25lbnRfaW50ZXJhY3Rpb24nLFxuICAgICAgJ3VpJyxcbiAgICAgICdjbGljaycsXG4gICAgICAnVGVzdENvbXBvbmVudCcsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB7IGJ1dHRvbjogJ3ByaW1hcnknIH1cbiAgICApO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZUF1dGgiLCJ1c2VyIiwiaWQiLCJlbWFpbCIsImlzTG9hZGVkIiwidXNlUGF0aG5hbWUiLCJhbmFseXRpY3MiLCJ0cmFja0V2ZW50IiwiZm4iLCJ0cmFja0Vjb21tZXJjZUV2ZW50IiwidHJhY2tQYWdlVmlldyIsInRyYWNrQ29udmVyc2lvbiIsInRyYWNrUHJvZHVjdFZpZXciLCJ0cmFja0FkZFRvQ2FydCIsInRyYWNrUmVtb3ZlRnJvbUNhcnQiLCJ0cmFja0NoZWNrb3V0U3RhcnQiLCJ0cmFja1B1cmNoYXNlIiwidHJhY2tTZWFyY2giLCJnZXRFdmVudHMiLCJnZXRJbnRlcmFjdGlvbnMiLCJnZXRDb252ZXJzaW9uTWV0cmljcyIsImNhcnRBZGRpdGlvbnMiLCJjYXJ0UmVtb3ZhbHMiLCJjaGVja291dFN0YXJ0cyIsImNoZWNrb3V0Q29tcGxldGlvbnMiLCJwcm9kdWN0Vmlld3MiLCJjYXRlZ29yeVZpZXdzIiwic2VhcmNoUXVlcmllcyIsImNvbnZlcnNpb25SYXRlIiwiYXZlcmFnZU9yZGVyVmFsdWUiLCJjYXJ0QWJhbmRvbm1lbnRSYXRlIiwiZ2V0U2Vzc2lvbklkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIndyaXRhYmxlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZUFuYWx5dGljcyIsImV4cGVjdCIsImN1cnJlbnQiLCJpc0VuYWJsZWQiLCJ0b0JlIiwic2Vzc2lvbk1ldHJpY3MiLCJ0b0JlRGVmaW5lZCIsImV4cGVjdGVkRnVuY3Rpb25zIiwiZm9yRWFjaCIsImZ1bmNOYW1lIiwiYWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ1bmRlZmluZWQiLCJtb2NrSXRlbXMiLCJuYW1lIiwicHJpY2UiLCJldmVudHMiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2Vzc2lvbklkIiwibWV0cmljcyIsInRvRXF1YWwiLCJzZXRFbmFibGVkIiwicmVmcmVzaE1ldHJpY3MiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsInVzZVJlYWxUaW1lTWV0cmljcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ1bm1vdW50IiwidXNlQ29tcG9uZW50VHJhY2tpbmciLCJub3QiLCJ0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