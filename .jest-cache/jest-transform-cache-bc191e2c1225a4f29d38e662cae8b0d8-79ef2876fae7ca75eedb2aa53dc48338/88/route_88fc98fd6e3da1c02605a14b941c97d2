3ecc88ad191c734225595edeff52e750
// ===================================
// PINTEYA E-COMMERCE - ADMIN ORDERS API ENTERPRISE
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get GET () {
        return GET;
    },
    get POST () {
        return POST;
    }
});
const _server = require("next/server");
const _supabase = require("../../../../lib/supabase");
const _auth = require("../../../../auth");
const _zod = require("zod");
const _logger = require("../../../../lib/logger");
const _ratelimiter = require("../../../../lib/rate-limiter");
const _metrics = require("../../../../lib/metrics");
// ===================================
// SCHEMAS DE VALIDACIÓN ENTERPRISE
// ===================================
const OrderFiltersSchema = _zod.z.object({
    page: _zod.z.coerce.number().min(1).default(1),
    limit: _zod.z.coerce.number().min(1).max(100).default(20),
    status: _zod.z.string().optional(),
    payment_status: _zod.z.string().optional(),
    date_from: _zod.z.string().optional(),
    date_to: _zod.z.string().optional(),
    search: _zod.z.string().optional(),
    sort_by: _zod.z.enum([
        'created_at',
        'total_amount',
        'order_number'
    ]).default('created_at'),
    sort_order: _zod.z.enum([
        'asc',
        'desc'
    ]).default('desc')
});
const CreateOrderSchema = _zod.z.object({
    user_id: _zod.z.string().uuid('ID de usuario inválido'),
    items: _zod.z.array(_zod.z.object({
        product_id: _zod.z.number().min(1),
        quantity: _zod.z.number().min(1).max(99),
        unit_price: _zod.z.number().min(0)
    })).min(1, 'Al menos un item es requerido'),
    shipping_address: _zod.z.object({
        street_name: _zod.z.string().min(1),
        street_number: _zod.z.string().min(1),
        zip_code: _zod.z.string().min(1),
        city_name: _zod.z.string().min(1),
        state_name: _zod.z.string().min(1)
    }).optional(),
    notes: _zod.z.string().optional()
});
// ===================================
// MIDDLEWARE DE AUTENTICACIÓN ADMIN
// ===================================
async function validateAdminAuth() {
    try {
        const session = await (0, _auth.auth)();
        if (!session?.user) {
            return {
                error: 'Usuario no autenticado',
                status: 401
            };
        }
        // Verificar si es admin (usando email como en otros endpoints admin)
        const isAdmin = session.user.email === 'santiago@xor.com.ar';
        if (!isAdmin) {
            return {
                error: 'Acceso denegado - Se requieren permisos de administrador',
                status: 403
            };
        }
        return {
            user: session.user,
            userId: session.user.id
        };
    } catch (error) {
        _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.AUTH, 'Error en validación admin', {
            error
        });
        return {
            error: 'Error de autenticación',
            status: 500
        };
    }
}
async function GET(request) {
    const startTime = Date.now();
    try {
        // Rate limiting
        const rateLimitResult = await (0, _ratelimiter.checkRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.admin.requests, _ratelimiter.RATE_LIMIT_CONFIGS.admin.window, 'admin-orders');
        if (!rateLimitResult.success) {
            const response = _server.NextResponse.json({
                error: 'Demasiadas solicitudes'
            }, {
                status: 429
            });
            (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
            return response;
        }
        // Validar autenticación admin
        const authResult = await validateAdminAuth();
        if ('error' in authResult) {
            return _server.NextResponse.json({
                error: authResult.error
            }, {
                status: authResult.status
            });
        }
        // Validar parámetros de consulta
        const { searchParams } = new URL(request.url);
        const filtersResult = OrderFiltersSchema.safeParse({
            page: searchParams.get('page'),
            limit: searchParams.get('limit'),
            status: searchParams.get('status'),
            payment_status: searchParams.get('payment_status'),
            date_from: searchParams.get('date_from'),
            date_to: searchParams.get('date_to'),
            search: searchParams.get('search'),
            sort_by: searchParams.get('sort_by'),
            sort_order: searchParams.get('sort_order')
        });
        if (!filtersResult.success) {
            return _server.NextResponse.json({
                error: 'Parámetros de consulta inválidos',
                details: filtersResult.error.errors
            }, {
                status: 400
            });
        }
        const filters = filtersResult.data;
        // Construir query base con joins optimizados
        let query = _supabase.supabaseAdmin.from('orders').select(`
        id,
        order_number,
        status,
        payment_status,
        total_amount,
        currency,
        created_at,
        updated_at,
        shipping_address,
        notes,
        user_profiles!orders_user_id_fkey (
          id,
          name,
          email
        ),
        order_items (
          id,
          quantity,
          unit_price,
          total_price,
          products (
            id,
            name,
            images
          )
        )
      `, {
            count: 'exact'
        });
        // Aplicar filtros
        if (filters.status) {
            query = query.eq('status', filters.status);
        }
        if (filters.payment_status) {
            query = query.eq('payment_status', filters.payment_status);
        }
        if (filters.date_from) {
            query = query.gte('created_at', filters.date_from);
        }
        if (filters.date_to) {
            query = query.lte('created_at', filters.date_to);
        }
        if (filters.search) {
            query = query.or(`order_number.ilike.%${filters.search}%,notes.ilike.%${filters.search}%`);
        }
        // Aplicar ordenamiento y paginación
        const from = (filters.page - 1) * filters.limit;
        const to = from + filters.limit - 1;
        const { data: orders, error, count } = await query.order(filters.sort_by, {
            ascending: filters.sort_order === 'asc'
        }).range(from, to);
        if (error) {
            _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.DATABASE, 'Error al obtener órdenes admin', {
                error
            });
            return _server.NextResponse.json({
                error: 'Error al obtener órdenes'
            }, {
                status: 500
            });
        }
        // Calcular estadísticas
        const totalPages = Math.ceil((count || 0) / filters.limit);
        const hasNextPage = filters.page < totalPages;
        const hasPreviousPage = filters.page > 1;
        // Métricas de performance
        const responseTime = Date.now() - startTime;
        _metrics.metricsCollector.recordApiCall('admin-orders-list', responseTime, 200);
        const response = {
            data: {
                orders,
                pagination: {
                    page: filters.page,
                    limit: filters.limit,
                    total: count || 0,
                    totalPages,
                    hasNextPage,
                    hasPreviousPage
                },
                filters
            },
            success: true,
            error: null
        };
        const nextResponse = _server.NextResponse.json(response);
        (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
        _logger.logger.log(_logger.LogLevel.INFO, _logger.LogCategory.API, 'Órdenes admin obtenidas exitosamente', {
            count: orders?.length,
            total: count,
            responseTime
        });
        return nextResponse;
    } catch (error) {
        const responseTime = Date.now() - startTime;
        _metrics.metricsCollector.recordApiCall('admin-orders-list', responseTime, 500);
        _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en GET /api/admin/orders', {
            error
        });
        return _server.NextResponse.json({
            error: 'Error interno del servidor'
        }, {
            status: 500
        });
    }
}
async function POST(request) {
    const startTime = Date.now();
    try {
        // Rate limiting
        const rateLimitResult = await (0, _ratelimiter.checkRateLimit)(request, _ratelimiter.RATE_LIMIT_CONFIGS.admin.requests, _ratelimiter.RATE_LIMIT_CONFIGS.admin.window, 'admin-orders-create');
        if (!rateLimitResult.success) {
            const response = _server.NextResponse.json({
                error: 'Demasiadas solicitudes'
            }, {
                status: 429
            });
            (0, _ratelimiter.addRateLimitHeaders)(response, rateLimitResult);
            return response;
        }
        // Validar autenticación admin
        const authResult = await validateAdminAuth();
        if ('error' in authResult) {
            return _server.NextResponse.json({
                error: authResult.error
            }, {
                status: authResult.status
            });
        }
        // Validar datos de entrada
        const body = await request.json();
        const validationResult = CreateOrderSchema.safeParse(body);
        if (!validationResult.success) {
            return _server.NextResponse.json({
                error: 'Datos de orden inválidos',
                details: validationResult.error.errors
            }, {
                status: 400
            });
        }
        const orderData = validationResult.data;
        // Generar número de orden único
        const orderNumber = `ORD-${Date.now()}-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;
        // Calcular total
        const totalAmount = orderData.items.reduce((sum, item)=>sum + item.unit_price * item.quantity, 0);
        // Crear orden en transacción
        const { data: order, error: orderError } = await _supabase.supabaseAdmin.from('orders').insert({
            user_id: orderData.user_id,
            order_number: orderNumber,
            status: 'pending',
            payment_status: 'pending',
            total_amount: totalAmount,
            currency: 'ARS',
            shipping_address: orderData.shipping_address ? JSON.stringify(orderData.shipping_address) : null,
            notes: orderData.notes
        }).select().single();
        if (orderError) {
            _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.DATABASE, 'Error al crear orden', {
                orderError
            });
            return _server.NextResponse.json({
                error: 'Error al crear orden'
            }, {
                status: 500
            });
        }
        // Crear items de la orden
        const orderItems = orderData.items.map((item)=>({
                order_id: order.id,
                product_id: item.product_id,
                quantity: item.quantity,
                unit_price: item.unit_price,
                total_price: item.unit_price * item.quantity
            }));
        const { error: itemsError } = await _supabase.supabaseAdmin.from('order_items').insert(orderItems);
        if (itemsError) {
            // Rollback: eliminar orden creada
            await _supabase.supabaseAdmin.from('orders').delete().eq('id', order.id);
            _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.DATABASE, 'Error al crear items de orden', {
                itemsError
            });
            return _server.NextResponse.json({
                error: 'Error al crear items de orden'
            }, {
                status: 500
            });
        }
        // Métricas de performance
        const responseTime = Date.now() - startTime;
        _metrics.metricsCollector.recordApiCall('admin-orders-create', responseTime, 201);
        const response = {
            data: order,
            success: true,
            error: null
        };
        const nextResponse = _server.NextResponse.json(response, {
            status: 201
        });
        (0, _ratelimiter.addRateLimitHeaders)(nextResponse, rateLimitResult);
        _logger.logger.log(_logger.LogLevel.INFO, _logger.LogCategory.API, 'Orden creada exitosamente por admin', {
            orderId: order.id,
            orderNumber,
            totalAmount,
            responseTime
        });
        return nextResponse;
    } catch (error) {
        const responseTime = Date.now() - startTime;
        _metrics.metricsCollector.recordApiCall('admin-orders-create', responseTime, 500);
        _logger.logger.log(_logger.LogLevel.ERROR, _logger.LogCategory.API, 'Error en POST /api/admin/orders', {
            error
        });
        return _server.NextResponse.json({
            error: 'Error interno del servidor'
        }, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXGFkbWluXFxvcmRlcnNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIEFETUlOIE9SREVSUyBBUEkgRU5URVJQUklTRVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvYXV0aCc7XHJcbmltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSAnQC90eXBlcy9hcGknO1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgbG9nZ2VyLCBMb2dMZXZlbCwgTG9nQ2F0ZWdvcnkgfSBmcm9tICdAL2xpYi9sb2dnZXInO1xyXG5pbXBvcnQgeyBjaGVja1JhdGVMaW1pdCwgYWRkUmF0ZUxpbWl0SGVhZGVycywgUkFURV9MSU1JVF9DT05GSUdTIH0gZnJvbSAnQC9saWIvcmF0ZS1saW1pdGVyJztcclxuaW1wb3J0IHsgbWV0cmljc0NvbGxlY3RvciB9IGZyb20gJ0AvbGliL21ldHJpY3MnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU0NIRU1BUyBERSBWQUxJREFDScOTTiBFTlRFUlBSSVNFXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBPcmRlckZpbHRlcnNTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgcGFnZTogei5jb2VyY2UubnVtYmVyKCkubWluKDEpLmRlZmF1bHQoMSksXHJcbiAgbGltaXQ6IHouY29lcmNlLm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDIwKSxcclxuICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBwYXltZW50X3N0YXR1czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGRhdGVfZnJvbTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGRhdGVfdG86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBzZWFyY2g6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBzb3J0X2J5OiB6LmVudW0oWydjcmVhdGVkX2F0JywgJ3RvdGFsX2Ftb3VudCcsICdvcmRlcl9udW1iZXInXSkuZGVmYXVsdCgnY3JlYXRlZF9hdCcpLFxyXG4gIHNvcnRfb3JkZXI6IHouZW51bShbJ2FzYycsICdkZXNjJ10pLmRlZmF1bHQoJ2Rlc2MnKSxcclxufSk7XHJcblxyXG5jb25zdCBDcmVhdGVPcmRlclNjaGVtYSA9IHoub2JqZWN0KHtcclxuICB1c2VyX2lkOiB6LnN0cmluZygpLnV1aWQoJ0lEIGRlIHVzdWFyaW8gaW52w6FsaWRvJyksXHJcbiAgaXRlbXM6IHouYXJyYXkoei5vYmplY3Qoe1xyXG4gICAgcHJvZHVjdF9pZDogei5udW1iZXIoKS5taW4oMSksXHJcbiAgICBxdWFudGl0eTogei5udW1iZXIoKS5taW4oMSkubWF4KDk5KSxcclxuICAgIHVuaXRfcHJpY2U6IHoubnVtYmVyKCkubWluKDApLFxyXG4gIH0pKS5taW4oMSwgJ0FsIG1lbm9zIHVuIGl0ZW0gZXMgcmVxdWVyaWRvJyksXHJcbiAgc2hpcHBpbmdfYWRkcmVzczogei5vYmplY3Qoe1xyXG4gICAgc3RyZWV0X25hbWU6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gICAgc3RyZWV0X251bWJlcjogei5zdHJpbmcoKS5taW4oMSksXHJcbiAgICB6aXBfY29kZTogei5zdHJpbmcoKS5taW4oMSksXHJcbiAgICBjaXR5X25hbWU6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gICAgc3RhdGVfbmFtZTogei5zdHJpbmcoKS5taW4oMSksXHJcbiAgfSkub3B0aW9uYWwoKSxcclxuICBub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1JRERMRVdBUkUgREUgQVVURU5USUNBQ0nDk04gQURNSU5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlQWRtaW5BdXRoKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgIHJldHVybiB7IGVycm9yOiAnVXN1YXJpbyBubyBhdXRlbnRpY2FkbycsIHN0YXR1czogNDAxIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHNpIGVzIGFkbWluICh1c2FuZG8gZW1haWwgY29tbyBlbiBvdHJvcyBlbmRwb2ludHMgYWRtaW4pXHJcbiAgICBjb25zdCBpc0FkbWluID0gc2Vzc2lvbi51c2VyLmVtYWlsID09PSAnc2FudGlhZ29AeG9yLmNvbS5hcic7XHJcbiAgICBpZiAoIWlzQWRtaW4pIHtcclxuICAgICAgcmV0dXJuIHsgZXJyb3I6ICdBY2Nlc28gZGVuZWdhZG8gLSBTZSByZXF1aWVyZW4gcGVybWlzb3MgZGUgYWRtaW5pc3RyYWRvcicsIHN0YXR1czogNDAzIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgdXNlcjogc2Vzc2lvbi51c2VyLCB1c2VySWQ6IHNlc3Npb24udXNlci5pZCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BVVRILCAnRXJyb3IgZW4gdmFsaWRhY2nDs24gYWRtaW4nLCB7IGVycm9yIH0pO1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6ICdFcnJvciBkZSBhdXRlbnRpY2FjacOzbicsIHN0YXR1czogNTAwIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHRVQgLSBMaXN0YXIgw7NyZGVuZXMgY29uIGZpbHRyb3MgYXZhbnphZG9zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gUmF0ZSBsaW1pdGluZ1xyXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gYXdhaXQgY2hlY2tSYXRlTGltaXQoXHJcbiAgICAgIHJlcXVlc3QsXHJcbiAgICAgIFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi5yZXF1ZXN0cyxcclxuICAgICAgUkFURV9MSU1JVF9DT05GSUdTLmFkbWluLndpbmRvdyxcclxuICAgICAgJ2FkbWluLW9yZGVycydcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFyYXRlTGltaXRSZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdEZW1hc2lhZGFzIHNvbGljaXR1ZGVzJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxyXG4gICAgICApO1xyXG4gICAgICBhZGRSYXRlTGltaXRIZWFkZXJzKHJlc3BvbnNlLCByYXRlTGltaXRSZXN1bHQpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhciBhdXRlbnRpY2FjacOzbiBhZG1pblxyXG4gICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlQWRtaW5BdXRoKCk7XHJcbiAgICBpZiAoJ2Vycm9yJyBpbiBhdXRoUmVzdWx0KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBhdXRoUmVzdWx0LmVycm9yIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IGF1dGhSZXN1bHQuc3RhdHVzIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGFyIHBhcsOhbWV0cm9zIGRlIGNvbnN1bHRhXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICBjb25zdCBmaWx0ZXJzUmVzdWx0ID0gT3JkZXJGaWx0ZXJzU2NoZW1hLnNhZmVQYXJzZSh7XHJcbiAgICAgIHBhZ2U6IHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSxcclxuICAgICAgbGltaXQ6IHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JyksXHJcbiAgICAgIHN0YXR1czogc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJyksXHJcbiAgICAgIHBheW1lbnRfc3RhdHVzOiBzZWFyY2hQYXJhbXMuZ2V0KCdwYXltZW50X3N0YXR1cycpLFxyXG4gICAgICBkYXRlX2Zyb206IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGVfZnJvbScpLFxyXG4gICAgICBkYXRlX3RvOiBzZWFyY2hQYXJhbXMuZ2V0KCdkYXRlX3RvJyksXHJcbiAgICAgIHNlYXJjaDogc2VhcmNoUGFyYW1zLmdldCgnc2VhcmNoJyksXHJcbiAgICAgIHNvcnRfYnk6IHNlYXJjaFBhcmFtcy5nZXQoJ3NvcnRfYnknKSxcclxuICAgICAgc29ydF9vcmRlcjogc2VhcmNoUGFyYW1zLmdldCgnc29ydF9vcmRlcicpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFmaWx0ZXJzUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdQYXLDoW1ldHJvcyBkZSBjb25zdWx0YSBpbnbDoWxpZG9zJywgZGV0YWlsczogZmlsdGVyc1Jlc3VsdC5lcnJvci5lcnJvcnMgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWx0ZXJzID0gZmlsdGVyc1Jlc3VsdC5kYXRhO1xyXG5cclxuICAgIC8vIENvbnN0cnVpciBxdWVyeSBiYXNlIGNvbiBqb2lucyBvcHRpbWl6YWRvc1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnb3JkZXJzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgb3JkZXJfbnVtYmVyLFxyXG4gICAgICAgIHN0YXR1cyxcclxuICAgICAgICBwYXltZW50X3N0YXR1cyxcclxuICAgICAgICB0b3RhbF9hbW91bnQsXHJcbiAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0LFxyXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3MsXHJcbiAgICAgICAgbm90ZXMsXHJcbiAgICAgICAgdXNlcl9wcm9maWxlcyFvcmRlcnNfdXNlcl9pZF9ma2V5IChcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGVtYWlsXHJcbiAgICAgICAgKSxcclxuICAgICAgICBvcmRlcl9pdGVtcyAoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIHF1YW50aXR5LFxyXG4gICAgICAgICAgdW5pdF9wcmljZSxcclxuICAgICAgICAgIHRvdGFsX3ByaWNlLFxyXG4gICAgICAgICAgcHJvZHVjdHMgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgaW1hZ2VzXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICBgLCB7IGNvdW50OiAnZXhhY3QnIH0pO1xyXG5cclxuICAgIC8vIEFwbGljYXIgZmlsdHJvc1xyXG4gICAgaWYgKGZpbHRlcnMuc3RhdHVzKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIGZpbHRlcnMuc3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVycy5wYXltZW50X3N0YXR1cykge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdwYXltZW50X3N0YXR1cycsIGZpbHRlcnMucGF5bWVudF9zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXJzLmRhdGVfZnJvbSkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnY3JlYXRlZF9hdCcsIGZpbHRlcnMuZGF0ZV9mcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVycy5kYXRlX3RvKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkubHRlKCdjcmVhdGVkX2F0JywgZmlsdGVycy5kYXRlX3RvKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVycy5zZWFyY2gpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5vcihgb3JkZXJfbnVtYmVyLmlsaWtlLiUke2ZpbHRlcnMuc2VhcmNofSUsbm90ZXMuaWxpa2UuJSR7ZmlsdGVycy5zZWFyY2h9JWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwbGljYXIgb3JkZW5hbWllbnRvIHkgcGFnaW5hY2nDs25cclxuICAgIGNvbnN0IGZyb20gPSAoZmlsdGVycy5wYWdlIC0gMSkgKiBmaWx0ZXJzLmxpbWl0O1xyXG4gICAgY29uc3QgdG8gPSBmcm9tICsgZmlsdGVycy5saW1pdCAtIDE7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiBvcmRlcnMsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcclxuICAgICAgLm9yZGVyKGZpbHRlcnMuc29ydF9ieSwgeyBhc2NlbmRpbmc6IGZpbHRlcnMuc29ydF9vcmRlciA9PT0gJ2FzYycgfSlcclxuICAgICAgLnJhbmdlKGZyb20sIHRvKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5FUlJPUiwgTG9nQ2F0ZWdvcnkuREFUQUJBU0UsICdFcnJvciBhbCBvYnRlbmVyIMOzcmRlbmVzIGFkbWluJywgeyBlcnJvciB9KTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBvYnRlbmVyIMOzcmRlbmVzJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGFyIGVzdGFkw61zdGljYXNcclxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwoKGNvdW50IHx8IDApIC8gZmlsdGVycy5saW1pdCk7XHJcbiAgICBjb25zdCBoYXNOZXh0UGFnZSA9IGZpbHRlcnMucGFnZSA8IHRvdGFsUGFnZXM7XHJcbiAgICBjb25zdCBoYXNQcmV2aW91c1BhZ2UgPSBmaWx0ZXJzLnBhZ2UgPiAxO1xyXG5cclxuICAgIC8vIE3DqXRyaWNhcyBkZSBwZXJmb3JtYW5jZVxyXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgIG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkQXBpQ2FsbCgnYWRtaW4tb3JkZXJzLWxpc3QnLCByZXNwb25zZVRpbWUsIDIwMCk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlPHtcclxuICAgICAgb3JkZXJzOiB0eXBlb2Ygb3JkZXJzO1xyXG4gICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgcGFnZTogbnVtYmVyO1xyXG4gICAgICAgIGxpbWl0OiBudW1iZXI7XHJcbiAgICAgICAgdG90YWw6IG51bWJlcjtcclxuICAgICAgICB0b3RhbFBhZ2VzOiBudW1iZXI7XHJcbiAgICAgICAgaGFzTmV4dFBhZ2U6IGJvb2xlYW47XHJcbiAgICAgICAgaGFzUHJldmlvdXNQYWdlOiBib29sZWFuO1xyXG4gICAgICB9O1xyXG4gICAgICBmaWx0ZXJzOiB0eXBlb2YgZmlsdGVycztcclxuICAgIH0+ID0ge1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgb3JkZXJzLFxyXG4gICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgIHBhZ2U6IGZpbHRlcnMucGFnZSxcclxuICAgICAgICAgIGxpbWl0OiBmaWx0ZXJzLmxpbWl0LFxyXG4gICAgICAgICAgdG90YWw6IGNvdW50IHx8IDAsXHJcbiAgICAgICAgICB0b3RhbFBhZ2VzLFxyXG4gICAgICAgICAgaGFzTmV4dFBhZ2UsXHJcbiAgICAgICAgICBoYXNQcmV2aW91c1BhZ2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmaWx0ZXJzLFxyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xyXG4gICAgYWRkUmF0ZUxpbWl0SGVhZGVycyhuZXh0UmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCk7XHJcblxyXG4gICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5JTkZPLCBMb2dDYXRlZ29yeS5BUEksICfDk3JkZW5lcyBhZG1pbiBvYnRlbmlkYXMgZXhpdG9zYW1lbnRlJywge1xyXG4gICAgICBjb3VudDogb3JkZXJzPy5sZW5ndGgsXHJcbiAgICAgIHRvdGFsOiBjb3VudCxcclxuICAgICAgcmVzcG9uc2VUaW1lLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5leHRSZXNwb25zZTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoJ2FkbWluLW9yZGVycy1saXN0JywgcmVzcG9uc2VUaW1lLCA1MDApO1xyXG5cclxuICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuRVJST1IsIExvZ0NhdGVnb3J5LkFQSSwgJ0Vycm9yIGVuIEdFVCAvYXBpL2FkbWluL29yZGVycycsIHsgZXJyb3IgfSk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBPU1QgLSBDcmVhciBudWV2YSBvcmRlbiAoYWRtaW4pXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFJhdGUgbGltaXRpbmdcclxuICAgIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IGF3YWl0IGNoZWNrUmF0ZUxpbWl0KFxyXG4gICAgICByZXF1ZXN0LFxyXG4gICAgICBSQVRFX0xJTUlUX0NPTkZJR1MuYWRtaW4ucmVxdWVzdHMsXHJcbiAgICAgIFJBVEVfTElNSVRfQ09ORklHUy5hZG1pbi53aW5kb3csXHJcbiAgICAgICdhZG1pbi1vcmRlcnMtY3JlYXRlJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIXJhdGVMaW1pdFJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0RlbWFzaWFkYXMgc29saWNpdHVkZXMnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQyOSB9XHJcbiAgICAgICk7XHJcbiAgICAgIGFkZFJhdGVMaW1pdEhlYWRlcnMocmVzcG9uc2UsIHJhdGVMaW1pdFJlc3VsdCk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGFyIGF1dGVudGljYWNpw7NuIGFkbWluXHJcbiAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVBZG1pbkF1dGgoKTtcclxuICAgIGlmICgnZXJyb3InIGluIGF1dGhSZXN1bHQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IGF1dGhSZXN1bHQuZXJyb3IgfSxcclxuICAgICAgICB7IHN0YXR1czogYXV0aFJlc3VsdC5zdGF0dXMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgZGF0b3MgZGUgZW50cmFkYVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IENyZWF0ZU9yZGVyU2NoZW1hLnNhZmVQYXJzZShib2R5KTtcclxuXHJcbiAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0RhdG9zIGRlIG9yZGVuIGludsOhbGlkb3MnLCBkZXRhaWxzOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLmVycm9ycyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9yZGVyRGF0YSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcclxuXHJcbiAgICAvLyBHZW5lcmFyIG7Dum1lcm8gZGUgb3JkZW4gw7puaWNvXHJcbiAgICBjb25zdCBvcmRlck51bWJlciA9IGBPUkQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KS50b1VwcGVyQ2FzZSgpfWA7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXIgdG90YWxcclxuICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gb3JkZXJEYXRhLml0ZW1zLnJlZHVjZSgoc3VtLCBpdGVtKSA9PlxyXG4gICAgICBzdW0gKyAoaXRlbS51bml0X3ByaWNlICogaXRlbS5xdWFudGl0eSksIDBcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ3JlYXIgb3JkZW4gZW4gdHJhbnNhY2Npw7NuXHJcbiAgICBjb25zdCB7IGRhdGE6IG9yZGVyLCBlcnJvcjogb3JkZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnb3JkZXJzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgdXNlcl9pZDogb3JkZXJEYXRhLnVzZXJfaWQsXHJcbiAgICAgICAgb3JkZXJfbnVtYmVyOiBvcmRlck51bWJlcixcclxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcclxuICAgICAgICBwYXltZW50X3N0YXR1czogJ3BlbmRpbmcnLFxyXG4gICAgICAgIHRvdGFsX2Ftb3VudDogdG90YWxBbW91bnQsXHJcbiAgICAgICAgY3VycmVuY3k6ICdBUlMnLFxyXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IG9yZGVyRGF0YS5zaGlwcGluZ19hZGRyZXNzID8gSlNPTi5zdHJpbmdpZnkob3JkZXJEYXRhLnNoaXBwaW5nX2FkZHJlc3MpIDogbnVsbCxcclxuICAgICAgICBub3Rlczogb3JkZXJEYXRhLm5vdGVzLFxyXG4gICAgICB9KVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChvcmRlckVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5sb2coTG9nTGV2ZWwuRVJST1IsIExvZ0NhdGVnb3J5LkRBVEFCQVNFLCAnRXJyb3IgYWwgY3JlYXIgb3JkZW4nLCB7IG9yZGVyRXJyb3IgfSk7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJyb3IgYWwgY3JlYXIgb3JkZW4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXIgaXRlbXMgZGUgbGEgb3JkZW5cclxuICAgIGNvbnN0IG9yZGVySXRlbXMgPSBvcmRlckRhdGEuaXRlbXMubWFwKGl0ZW0gPT4gKHtcclxuICAgICAgb3JkZXJfaWQ6IG9yZGVyLmlkLFxyXG4gICAgICBwcm9kdWN0X2lkOiBpdGVtLnByb2R1Y3RfaWQsXHJcbiAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxyXG4gICAgICB1bml0X3ByaWNlOiBpdGVtLnVuaXRfcHJpY2UsXHJcbiAgICAgIHRvdGFsX3ByaWNlOiBpdGVtLnVuaXRfcHJpY2UgKiBpdGVtLnF1YW50aXR5LFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnN0IHsgZXJyb3I6IGl0ZW1zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ29yZGVyX2l0ZW1zJylcclxuICAgICAgLmluc2VydChvcmRlckl0ZW1zKTtcclxuXHJcbiAgICBpZiAoaXRlbXNFcnJvcikge1xyXG4gICAgICAvLyBSb2xsYmFjazogZWxpbWluYXIgb3JkZW4gY3JlYWRhXHJcbiAgICAgIGF3YWl0IHN1cGFiYXNlQWRtaW4uZnJvbSgnb3JkZXJzJykuZGVsZXRlKCkuZXEoJ2lkJywgb3JkZXIuaWQpO1xyXG5cclxuICAgICAgbG9nZ2VyLmxvZyhMb2dMZXZlbC5FUlJPUiwgTG9nQ2F0ZWdvcnkuREFUQUJBU0UsICdFcnJvciBhbCBjcmVhciBpdGVtcyBkZSBvcmRlbicsIHsgaXRlbXNFcnJvciB9KTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdFcnJvciBhbCBjcmVhciBpdGVtcyBkZSBvcmRlbicgfSxcclxuICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNw6l0cmljYXMgZGUgcGVyZm9ybWFuY2VcclxuICAgIGNvbnN0IHJlc3BvbnNlVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcbiAgICBtZXRyaWNzQ29sbGVjdG9yLnJlY29yZEFwaUNhbGwoJ2FkbWluLW9yZGVycy1jcmVhdGUnLCByZXNwb25zZVRpbWUsIDIwMSk7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2U6IEFwaVJlc3BvbnNlPHR5cGVvZiBvcmRlcj4gPSB7XHJcbiAgICAgIGRhdGE6IG9yZGVyLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBlcnJvcjogbnVsbCxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UsIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgICBhZGRSYXRlTGltaXRIZWFkZXJzKG5leHRSZXNwb25zZSwgcmF0ZUxpbWl0UmVzdWx0KTtcclxuXHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLklORk8sIExvZ0NhdGVnb3J5LkFQSSwgJ09yZGVuIGNyZWFkYSBleGl0b3NhbWVudGUgcG9yIGFkbWluJywge1xyXG4gICAgICBvcmRlcklkOiBvcmRlci5pZCxcclxuICAgICAgb3JkZXJOdW1iZXIsXHJcbiAgICAgIHRvdGFsQW1vdW50LFxyXG4gICAgICByZXNwb25zZVRpbWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV4dFJlc3BvbnNlO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgIG1ldHJpY3NDb2xsZWN0b3IucmVjb3JkQXBpQ2FsbCgnYWRtaW4tb3JkZXJzLWNyZWF0ZScsIHJlc3BvbnNlVGltZSwgNTAwKTtcclxuXHJcbiAgICBsb2dnZXIubG9nKExvZ0xldmVsLkVSUk9SLCBMb2dDYXRlZ29yeS5BUEksICdFcnJvciBlbiBQT1NUIC9hcGkvYWRtaW4vb3JkZXJzJywgeyBlcnJvciB9KTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvciBpbnRlcm5vIGRlbCBzZXJ2aWRvcicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiR0VUIiwiUE9TVCIsIk9yZGVyRmlsdGVyc1NjaGVtYSIsInoiLCJvYmplY3QiLCJwYWdlIiwiY29lcmNlIiwibnVtYmVyIiwibWluIiwiZGVmYXVsdCIsImxpbWl0IiwibWF4Iiwic3RhdHVzIiwic3RyaW5nIiwib3B0aW9uYWwiLCJwYXltZW50X3N0YXR1cyIsImRhdGVfZnJvbSIsImRhdGVfdG8iLCJzZWFyY2giLCJzb3J0X2J5IiwiZW51bSIsInNvcnRfb3JkZXIiLCJDcmVhdGVPcmRlclNjaGVtYSIsInVzZXJfaWQiLCJ1dWlkIiwiaXRlbXMiLCJhcnJheSIsInByb2R1Y3RfaWQiLCJxdWFudGl0eSIsInVuaXRfcHJpY2UiLCJzaGlwcGluZ19hZGRyZXNzIiwic3RyZWV0X25hbWUiLCJzdHJlZXRfbnVtYmVyIiwiemlwX2NvZGUiLCJjaXR5X25hbWUiLCJzdGF0ZV9uYW1lIiwibm90ZXMiLCJ2YWxpZGF0ZUFkbWluQXV0aCIsInNlc3Npb24iLCJhdXRoIiwidXNlciIsImVycm9yIiwiaXNBZG1pbiIsImVtYWlsIiwidXNlcklkIiwiaWQiLCJsb2dnZXIiLCJsb2ciLCJMb2dMZXZlbCIsIkVSUk9SIiwiTG9nQ2F0ZWdvcnkiLCJBVVRIIiwicmVxdWVzdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyYXRlTGltaXRSZXN1bHQiLCJjaGVja1JhdGVMaW1pdCIsIlJBVEVfTElNSVRfQ09ORklHUyIsImFkbWluIiwicmVxdWVzdHMiLCJ3aW5kb3ciLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiYWRkUmF0ZUxpbWl0SGVhZGVycyIsImF1dGhSZXN1bHQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJmaWx0ZXJzUmVzdWx0Iiwic2FmZVBhcnNlIiwiZ2V0IiwiZGV0YWlscyIsImVycm9ycyIsImZpbHRlcnMiLCJkYXRhIiwicXVlcnkiLCJzdXBhYmFzZUFkbWluIiwiZnJvbSIsInNlbGVjdCIsImNvdW50IiwiZXEiLCJndGUiLCJsdGUiLCJvciIsInRvIiwib3JkZXJzIiwib3JkZXIiLCJhc2NlbmRpbmciLCJyYW5nZSIsIkRBVEFCQVNFIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiaGFzTmV4dFBhZ2UiLCJoYXNQcmV2aW91c1BhZ2UiLCJyZXNwb25zZVRpbWUiLCJtZXRyaWNzQ29sbGVjdG9yIiwicmVjb3JkQXBpQ2FsbCIsInBhZ2luYXRpb24iLCJ0b3RhbCIsIm5leHRSZXNwb25zZSIsIklORk8iLCJBUEkiLCJsZW5ndGgiLCJib2R5IiwidmFsaWRhdGlvblJlc3VsdCIsIm9yZGVyRGF0YSIsIm9yZGVyTnVtYmVyIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0b1VwcGVyQ2FzZSIsInRvdGFsQW1vdW50IiwicmVkdWNlIiwic3VtIiwiaXRlbSIsIm9yZGVyRXJyb3IiLCJpbnNlcnQiLCJvcmRlcl9udW1iZXIiLCJ0b3RhbF9hbW91bnQiLCJjdXJyZW5jeSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaW5nbGUiLCJvcmRlckl0ZW1zIiwibWFwIiwib3JkZXJfaWQiLCJ0b3RhbF9wcmljZSIsIml0ZW1zRXJyb3IiLCJkZWxldGUiLCJvcmRlcklkIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsbURBQW1EO0FBQ25ELHNDQUFzQzs7Ozs7Ozs7Ozs7O1FBdUVoQkE7ZUFBQUE7O1FBMExBQztlQUFBQTs7O3dCQS9Qb0I7MEJBQ1o7c0JBQ1Q7cUJBRUg7d0JBQzRCOzZCQUMwQjt5QkFDdkM7QUFFakMsc0NBQXNDO0FBQ3RDLG1DQUFtQztBQUNuQyxzQ0FBc0M7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