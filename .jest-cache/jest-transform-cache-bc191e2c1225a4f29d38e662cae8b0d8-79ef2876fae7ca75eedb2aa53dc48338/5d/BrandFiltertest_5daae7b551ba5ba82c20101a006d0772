6c87876b13002270cf9df9184cc0555d
// ===================================
// TESTS: Componente BrandFilter
// ===================================
"use strict";
// Mock de funciones de API
jest.mock('@/lib/api/brands', ()=>({
        formatBrandName: jest.fn((name)=>name),
        getBrandColor: jest.fn(()=>'#FF6B35'),
        getBrandLogo: jest.fn(()=>'/images/brands/default.png')
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _brandfilter = require("../../components/ui/brand-filter");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockBrands = [
    {
        name: 'El Galgo',
        products_count: 5
    },
    {
        name: 'Plavicon',
        products_count: 8
    },
    {
        name: 'Akapol',
        products_count: 3
    },
    {
        name: 'Sinteplast',
        products_count: 2
    }
];
describe('BrandFilter Component', ()=>{
    const defaultProps = {
        brands: mockBrands,
        selectedBrands: [],
        onBrandChange: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Renderizado básico', ()=>{
        it('debería renderizar correctamente', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps
            }));
            expect(_react1.screen.getByText('Marcas')).toBeInTheDocument();
            expect(_react1.screen.getByPlaceholderText('Buscar marcas...')).toBeInTheDocument();
            expect(_react1.screen.getByText('Todas')).toBeInTheDocument();
            // Verificar que todas las marcas se muestran
            mockBrands.forEach((brand)=>{
                expect(_react1.screen.getByText(brand.name)).toBeInTheDocument();
                expect(_react1.screen.getByText(brand.products_count.toString())).toBeInTheDocument();
            });
        });
        it('debería mostrar estado de carga', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                isLoading: true
            }));
            expect(_react1.screen.getByText('Marcas')).toBeInTheDocument();
            // Verificar elementos de carga (skeletons)
            const skeletons = _react1.screen.getAllByRole('generic');
            expect(skeletons.length).toBeGreaterThan(0);
        });
        it('debería ocultar búsqueda si showSearch es false', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                showSearch: false
            }));
            expect(_react1.screen.queryByPlaceholderText('Buscar marcas...')).not.toBeInTheDocument();
        });
        it('debería ocultar conteo de productos si showProductCount es false', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                showProductCount: false
            }));
            // Los números de conteo no deberían estar visibles
            mockBrands.forEach((brand)=>{
                expect(_react1.screen.getByText(brand.name)).toBeInTheDocument();
                expect(_react1.screen.queryByText(brand.products_count.toString())).not.toBeInTheDocument();
            });
        });
    });
    describe('Funcionalidad de selección', ()=>{
        it('debería llamar onBrandChange al seleccionar una marca', async ()=>{
            const user = _userevent.default.setup();
            const onBrandChange = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                onBrandChange: onBrandChange
            }));
            const checkbox = _react1.screen.getByLabelText(/El Galgo/);
            await user.click(checkbox);
            expect(onBrandChange).toHaveBeenCalledWith([
                'El Galgo'
            ]);
        });
        it('debería mostrar marcas seleccionadas', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                selectedBrands: [
                    'El Galgo',
                    'Plavicon'
                ]
            }));
            // Buscar el badge específico que muestra el número de marcas seleccionadas
            const badges = _react1.screen.getAllByText('2');
            expect(badges.length).toBeGreaterThan(0); // Al menos un badge con "2"
            expect(_react1.screen.getByText('Filtros activos:')).toBeInTheDocument();
            expect(_react1.screen.getByText('El Galgo')).toBeInTheDocument();
            expect(_react1.screen.getByText('Plavicon')).toBeInTheDocument();
        });
        it('debería permitir deseleccionar marcas desde los badges', async ()=>{
            const user = _userevent.default.setup();
            const onBrandChange = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                selectedBrands: [
                    'El Galgo'
                ],
                onBrandChange: onBrandChange
            }));
            // Buscar el badge de marca seleccionada y hacer click
            const badge = _react1.screen.getByText('El Galgo').closest('div');
            if (badge) {
                await user.click(badge);
                expect(onBrandChange).toHaveBeenCalledWith([]);
            }
        });
        it('debería seleccionar todas las marcas visibles', async ()=>{
            const user = _userevent.default.setup();
            const onBrandChange = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                onBrandChange: onBrandChange
            }));
            const selectAllButton = _react1.screen.getByText('Todas');
            await user.click(selectAllButton);
            expect(onBrandChange).toHaveBeenCalledWith([
                'El Galgo',
                'Plavicon',
                'Akapol',
                'Sinteplast'
            ]);
        });
        it('debería limpiar todas las marcas seleccionadas', async ()=>{
            const user = _userevent.default.setup();
            const onBrandChange = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                selectedBrands: [
                    'El Galgo',
                    'Plavicon'
                ],
                onBrandChange: onBrandChange
            }));
            const clearButton = _react1.screen.getByText('Limpiar');
            await user.click(clearButton);
            expect(onBrandChange).toHaveBeenCalledWith([]);
        });
    });
    describe('Funcionalidad de búsqueda', ()=>{
        it('debería filtrar marcas por término de búsqueda', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps
            }));
            const searchInput = _react1.screen.getByPlaceholderText('Buscar marcas...');
            await user.type(searchInput, 'galgo');
            // Debería mostrar solo El Galgo
            expect(_react1.screen.getByText('El Galgo')).toBeInTheDocument();
            expect(_react1.screen.queryByText('Plavicon')).not.toBeInTheDocument();
            expect(_react1.screen.queryByText('Akapol')).not.toBeInTheDocument();
        });
        it('debería mostrar mensaje cuando no hay resultados', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps
            }));
            const searchInput = _react1.screen.getByPlaceholderText('Buscar marcas...');
            await user.type(searchInput, 'marca inexistente');
            expect(_react1.screen.getByText('No se encontraron marcas')).toBeInTheDocument();
        });
        it('debería limpiar búsqueda al hacer click en X', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps
            }));
            const searchInput = _react1.screen.getByPlaceholderText('Buscar marcas...');
            await user.type(searchInput, 'galgo');
            // Verificar que se filtró
            expect(_react1.screen.queryByText('Plavicon')).not.toBeInTheDocument();
            // Hacer click en X para limpiar
            const clearButton = _react1.screen.getByRole('button', {
                name: /clear search/i
            });
            await user.click(clearButton);
            // Verificar que se muestran todas las marcas nuevamente
            expect(_react1.screen.getByText('Plavicon')).toBeInTheDocument();
        });
    });
    describe('Casos edge', ()=>{
        it('debería manejar lista vacía de marcas', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                brands: []
            }));
            expect(_react1.screen.getByText('No se encontraron marcas')).toBeInTheDocument();
        });
        it('debería aplicar className personalizada', ()=>{
            const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                className: "custom-class"
            }));
            expect(container.firstChild).toHaveClass('custom-class');
        });
        it('debería respetar maxHeight personalizada', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilter, {
                ...defaultProps,
                maxHeight: "200px"
            }));
            // Verificar que el ScrollArea tiene la altura correcta
            const scrollArea = _react1.screen.getByRole('region');
            expect(scrollArea).toHaveStyle({
                maxHeight: '200px'
            });
        });
    });
});
describe('BrandFilterCompact Component', ()=>{
    const defaultProps = {
        brands: mockBrands,
        selectedBrands: [],
        onBrandChange: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('debería renderizar correctamente', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilterCompact, {
            ...defaultProps
        }));
        expect(_react1.screen.getByText('Marcas')).toBeInTheDocument();
        // Verificar que todas las marcas se muestran como badges
        mockBrands.forEach((brand)=>{
            expect(_react1.screen.getByText(brand.name)).toBeInTheDocument();
        });
    });
    it('debería mostrar marcas seleccionadas con estilo diferente', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilterCompact, {
            ...defaultProps,
            selectedBrands: [
                'El Galgo'
            ]
        }));
        const selectedBadge = _react1.screen.getByText('El Galgo').closest('div');
        const unselectedBadge = _react1.screen.getByText('Plavicon').closest('div');
        // Los badges seleccionados y no seleccionados deberían tener estilos diferentes
        expect(selectedBadge).toHaveClass('cursor-pointer');
        expect(unselectedBadge).toHaveClass('cursor-pointer');
    });
    it('debería alternar selección al hacer click', async ()=>{
        const user = _userevent.default.setup();
        const onBrandChange = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilterCompact, {
            ...defaultProps,
            onBrandChange: onBrandChange
        }));
        const badge = _react1.screen.getByText('El Galgo');
        await user.click(badge);
        expect(onBrandChange).toHaveBeenCalledWith([
            'El Galgo'
        ]);
    });
    it('debería aplicar className personalizada', ()=>{
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_brandfilter.BrandFilterCompact, {
            ...defaultProps,
            className: "custom-compact"
        }));
        expect(container.firstChild).toHaveClass('custom-compact');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFxCcmFuZEZpbHRlci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBURVNUUzogQ29tcG9uZW50ZSBCcmFuZEZpbHRlclxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xyXG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XHJcbmltcG9ydCB7IEJyYW5kRmlsdGVyLCBCcmFuZEZpbHRlckNvbXBhY3QgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnJhbmQtZmlsdGVyJztcclxuXHJcbi8vIE1vY2sgZGUgZnVuY2lvbmVzIGRlIEFQSVxyXG5qZXN0Lm1vY2soJ0AvbGliL2FwaS9icmFuZHMnLCAoKSA9PiAoe1xyXG4gIGZvcm1hdEJyYW5kTmFtZTogamVzdC5mbigobmFtZSkgPT4gbmFtZSksXHJcbiAgZ2V0QnJhbmRDb2xvcjogamVzdC5mbigoKSA9PiAnI0ZGNkIzNScpLFxyXG4gIGdldEJyYW5kTG9nbzogamVzdC5mbigoKSA9PiAnL2ltYWdlcy9icmFuZHMvZGVmYXVsdC5wbmcnKSxcclxufSkpO1xyXG5cclxuY29uc3QgbW9ja0JyYW5kcyA9IFtcclxuICB7IG5hbWU6ICdFbCBHYWxnbycsIHByb2R1Y3RzX2NvdW50OiA1IH0sXHJcbiAgeyBuYW1lOiAnUGxhdmljb24nLCBwcm9kdWN0c19jb3VudDogOCB9LFxyXG4gIHsgbmFtZTogJ0FrYXBvbCcsIHByb2R1Y3RzX2NvdW50OiAzIH0sXHJcbiAgeyBuYW1lOiAnU2ludGVwbGFzdCcsIHByb2R1Y3RzX2NvdW50OiAyIH0sXHJcbl07XHJcblxyXG5kZXNjcmliZSgnQnJhbmRGaWx0ZXIgQ29tcG9uZW50JywgKCkgPT4ge1xyXG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcclxuICAgIGJyYW5kczogbW9ja0JyYW5kcyxcclxuICAgIHNlbGVjdGVkQnJhbmRzOiBbXSxcclxuICAgIG9uQnJhbmRDaGFuZ2U6IGplc3QuZm4oKSxcclxuICB9O1xyXG5cclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnUmVuZGVyaXphZG8gYsOhc2ljbycsICgpID0+IHtcclxuICAgIGl0KCdkZWJlcsOtYSByZW5kZXJpemFyIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcig8QnJhbmRGaWx0ZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01hcmNhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjYXIgbWFyY2FzLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb2RhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSB0b2RhcyBsYXMgbWFyY2FzIHNlIG11ZXN0cmFuXHJcbiAgICAgIG1vY2tCcmFuZHMuZm9yRWFjaChicmFuZCA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoYnJhbmQubmFtZSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoYnJhbmQucHJvZHVjdHNfY291bnQudG9TdHJpbmcoKSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIG1vc3RyYXIgZXN0YWRvIGRlIGNhcmdhJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoPEJyYW5kRmlsdGVyIHsuLi5kZWZhdWx0UHJvcHN9IGlzTG9hZGluZz17dHJ1ZX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01hcmNhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIGVsZW1lbnRvcyBkZSBjYXJnYSAoc2tlbGV0b25zKVxyXG4gICAgICBjb25zdCBza2VsZXRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdnZW5lcmljJyk7XHJcbiAgICAgIGV4cGVjdChza2VsZXRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgb2N1bHRhciBiw7pzcXVlZGEgc2kgc2hvd1NlYXJjaCBlcyBmYWxzZScsICgpID0+IHtcclxuICAgICAgcmVuZGVyKDxCcmFuZEZpbHRlciB7Li4uZGVmYXVsdFByb3BzfSBzaG93U2VhcmNoPXtmYWxzZX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjYXIgbWFyY2FzLi4uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIG9jdWx0YXIgY29udGVvIGRlIHByb2R1Y3RvcyBzaSBzaG93UHJvZHVjdENvdW50IGVzIGZhbHNlJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoPEJyYW5kRmlsdGVyIHsuLi5kZWZhdWx0UHJvcHN9IHNob3dQcm9kdWN0Q291bnQ9e2ZhbHNlfSAvPik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb3MgbsO6bWVyb3MgZGUgY29udGVvIG5vIGRlYmVyw61hbiBlc3RhciB2aXNpYmxlc1xyXG4gICAgICBtb2NrQnJhbmRzLmZvckVhY2goYnJhbmQgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KGJyYW5kLm5hbWUpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoYnJhbmQucHJvZHVjdHNfY291bnQudG9TdHJpbmcoKSkpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRnVuY2lvbmFsaWRhZCBkZSBzZWxlY2Npw7NuJywgKCkgPT4ge1xyXG4gICAgaXQoJ2RlYmVyw61hIGxsYW1hciBvbkJyYW5kQ2hhbmdlIGFsIHNlbGVjY2lvbmFyIHVuYSBtYXJjYScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBjb25zdCBvbkJyYW5kQ2hhbmdlID0gamVzdC5mbigpO1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxCcmFuZEZpbHRlciB7Li4uZGVmYXVsdFByb3BzfSBvbkJyYW5kQ2hhbmdlPXtvbkJyYW5kQ2hhbmdlfSAvPik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvRWwgR2FsZ28vKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhjaGVja2JveCk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qob25CcmFuZENoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoWydFbCBHYWxnbyddKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSBtb3N0cmFyIG1hcmNhcyBzZWxlY2Npb25hZGFzJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPEJyYW5kRmlsdGVyXHJcbiAgICAgICAgICB7Li4uZGVmYXVsdFByb3BzfVxyXG4gICAgICAgICAgc2VsZWN0ZWRCcmFuZHM9e1snRWwgR2FsZ28nLCAnUGxhdmljb24nXX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gQnVzY2FyIGVsIGJhZGdlIGVzcGVjw61maWNvIHF1ZSBtdWVzdHJhIGVsIG7Dum1lcm8gZGUgbWFyY2FzIHNlbGVjY2lvbmFkYXNcclxuICAgICAgY29uc3QgYmFkZ2VzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnMicpO1xyXG4gICAgICBleHBlY3QoYmFkZ2VzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApOyAvLyBBbCBtZW5vcyB1biBiYWRnZSBjb24gXCIyXCJcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZpbHRyb3MgYWN0aXZvczonKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VsIEdhbGdvJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQbGF2aWNvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIHBlcm1pdGlyIGRlc2VsZWNjaW9uYXIgbWFyY2FzIGRlc2RlIGxvcyBiYWRnZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgY29uc3Qgb25CcmFuZENoYW5nZSA9IGplc3QuZm4oKTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8QnJhbmRGaWx0ZXIgXHJcbiAgICAgICAgICB7Li4uZGVmYXVsdFByb3BzfSBcclxuICAgICAgICAgIHNlbGVjdGVkQnJhbmRzPXtbJ0VsIEdhbGdvJ119IFxyXG4gICAgICAgICAgb25CcmFuZENoYW5nZT17b25CcmFuZENoYW5nZX1cclxuICAgICAgICAvPlxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgLy8gQnVzY2FyIGVsIGJhZGdlIGRlIG1hcmNhIHNlbGVjY2lvbmFkYSB5IGhhY2VyIGNsaWNrXHJcbiAgICAgIGNvbnN0IGJhZGdlID0gc2NyZWVuLmdldEJ5VGV4dCgnRWwgR2FsZ28nKS5jbG9zZXN0KCdkaXYnKTtcclxuICAgICAgaWYgKGJhZGdlKSB7XHJcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhiYWRnZSk7XHJcbiAgICAgICAgZXhwZWN0KG9uQnJhbmRDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIHNlbGVjY2lvbmFyIHRvZGFzIGxhcyBtYXJjYXMgdmlzaWJsZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgY29uc3Qgb25CcmFuZENoYW5nZSA9IGplc3QuZm4oKTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlcig8QnJhbmRGaWx0ZXIgey4uLmRlZmF1bHRQcm9wc30gb25CcmFuZENoYW5nZT17b25CcmFuZENoYW5nZX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2VsZWN0QWxsQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnVG9kYXMnKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhzZWxlY3RBbGxCdXR0b24pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG9uQnJhbmRDaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtcclxuICAgICAgICAnRWwgR2FsZ28nLCAnUGxhdmljb24nLCAnQWthcG9sJywgJ1NpbnRlcGxhc3QnXHJcbiAgICAgIF0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIGxpbXBpYXIgdG9kYXMgbGFzIG1hcmNhcyBzZWxlY2Npb25hZGFzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIGNvbnN0IG9uQnJhbmRDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICAgIFxyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPEJyYW5kRmlsdGVyIFxyXG4gICAgICAgICAgey4uLmRlZmF1bHRQcm9wc30gXHJcbiAgICAgICAgICBzZWxlY3RlZEJyYW5kcz17WydFbCBHYWxnbycsICdQbGF2aWNvbiddfSBcclxuICAgICAgICAgIG9uQnJhbmRDaGFuZ2U9e29uQnJhbmRDaGFuZ2V9XHJcbiAgICAgICAgLz5cclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTGltcGlhcicpO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNsZWFyQnV0dG9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChvbkJyYW5kQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0Z1bmNpb25hbGlkYWQgZGUgYsO6c3F1ZWRhJywgKCkgPT4ge1xyXG4gICAgaXQoJ2RlYmVyw61hIGZpbHRyYXIgbWFyY2FzIHBvciB0w6lybWlubyBkZSBiw7pzcXVlZGEnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgICAgXHJcbiAgICAgIHJlbmRlcig8QnJhbmRGaWx0ZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0J1c2NhciBtYXJjYXMuLi4nKTtcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHNlYXJjaElucHV0LCAnZ2FsZ28nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIERlYmVyw61hIG1vc3RyYXIgc29sbyBFbCBHYWxnb1xyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRWwgR2FsZ28nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnUGxhdmljb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FrYXBvbCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSBtb3N0cmFyIG1lbnNhamUgY3VhbmRvIG5vIGhheSByZXN1bHRhZG9zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XHJcbiAgICAgIFxyXG4gICAgICByZW5kZXIoPEJyYW5kRmlsdGVyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdCdXNjYXIgbWFyY2FzLi4uJyk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzZWFyY2hJbnB1dCwgJ21hcmNhIGluZXhpc3RlbnRlJyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2UgZW5jb250cmFyb24gbWFyY2FzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGViZXLDrWEgbGltcGlhciBiw7pzcXVlZGEgYWwgaGFjZXIgY2xpY2sgZW4gWCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xyXG4gICAgICBcclxuICAgICAgcmVuZGVyKDxCcmFuZEZpbHRlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnQnVzY2FyIG1hcmNhcy4uLicpO1xyXG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2VhcmNoSW5wdXQsICdnYWxnbycpO1xyXG4gICAgICBcclxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBzZSBmaWx0csOzXHJcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1BsYXZpY29uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICBcclxuICAgICAgLy8gSGFjZXIgY2xpY2sgZW4gWCBwYXJhIGxpbXBpYXJcclxuICAgICAgY29uc3QgY2xlYXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbGVhciBzZWFyY2gvaSB9KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhjbGVhckJ1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIHNlIG11ZXN0cmFuIHRvZGFzIGxhcyBtYXJjYXMgbnVldmFtZW50ZVxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGxhdmljb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ2Fzb3MgZWRnZScsICgpID0+IHtcclxuICAgIGl0KCdkZWJlcsOtYSBtYW5lamFyIGxpc3RhIHZhY8OtYSBkZSBtYXJjYXMnLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcig8QnJhbmRGaWx0ZXIgey4uLmRlZmF1bHRQcm9wc30gYnJhbmRzPXtbXX0gLz4pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHNlIGVuY29udHJhcm9uIG1hcmNhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RlYmVyw61hIGFwbGljYXIgY2xhc3NOYW1lIHBlcnNvbmFsaXphZGEnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXHJcbiAgICAgICAgPEJyYW5kRmlsdGVyIHsuLi5kZWZhdWx0UHJvcHN9IGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+XHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29udGFpbmVyLmZpcnN0Q2hpbGQpLnRvSGF2ZUNsYXNzKCdjdXN0b20tY2xhc3MnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZWJlcsOtYSByZXNwZXRhciBtYXhIZWlnaHQgcGVyc29uYWxpemFkYScsICgpID0+IHtcclxuICAgICAgcmVuZGVyKDxCcmFuZEZpbHRlciB7Li4uZGVmYXVsdFByb3BzfSBtYXhIZWlnaHQ9XCIyMDBweFwiIC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgU2Nyb2xsQXJlYSB0aWVuZSBsYSBhbHR1cmEgY29ycmVjdGFcclxuICAgICAgY29uc3Qgc2Nyb2xsQXJlYSA9IHNjcmVlbi5nZXRCeVJvbGUoJ3JlZ2lvbicpO1xyXG4gICAgICBleHBlY3Qoc2Nyb2xsQXJlYSkudG9IYXZlU3R5bGUoeyBtYXhIZWlnaHQ6ICcyMDBweCcgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnQnJhbmRGaWx0ZXJDb21wYWN0IENvbXBvbmVudCcsICgpID0+IHtcclxuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XHJcbiAgICBicmFuZHM6IG1vY2tCcmFuZHMsXHJcbiAgICBzZWxlY3RlZEJyYW5kczogW10sXHJcbiAgICBvbkJyYW5kQ2hhbmdlOiBqZXN0LmZuKCksXHJcbiAgfTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2RlYmVyw61hIHJlbmRlcml6YXIgY29ycmVjdGFtZW50ZScsICgpID0+IHtcclxuICAgIHJlbmRlcig8QnJhbmRGaWx0ZXJDb21wYWN0IHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcclxuICAgIFxyXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01hcmNhcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIHRvZGFzIGxhcyBtYXJjYXMgc2UgbXVlc3RyYW4gY29tbyBiYWRnZXNcclxuICAgIG1vY2tCcmFuZHMuZm9yRWFjaChicmFuZCA9PiB7XHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KGJyYW5kLm5hbWUpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdkZWJlcsOtYSBtb3N0cmFyIG1hcmNhcyBzZWxlY2Npb25hZGFzIGNvbiBlc3RpbG8gZGlmZXJlbnRlJywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKFxyXG4gICAgICA8QnJhbmRGaWx0ZXJDb21wYWN0IFxyXG4gICAgICAgIHsuLi5kZWZhdWx0UHJvcHN9IFxyXG4gICAgICAgIHNlbGVjdGVkQnJhbmRzPXtbJ0VsIEdhbGdvJ119IFxyXG4gICAgICAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2VsZWN0ZWRCYWRnZSA9IHNjcmVlbi5nZXRCeVRleHQoJ0VsIEdhbGdvJykuY2xvc2VzdCgnZGl2Jyk7XHJcbiAgICBjb25zdCB1bnNlbGVjdGVkQmFkZ2UgPSBzY3JlZW4uZ2V0QnlUZXh0KCdQbGF2aWNvbicpLmNsb3Nlc3QoJ2RpdicpO1xyXG4gICAgXHJcbiAgICAvLyBMb3MgYmFkZ2VzIHNlbGVjY2lvbmFkb3MgeSBubyBzZWxlY2Npb25hZG9zIGRlYmVyw61hbiB0ZW5lciBlc3RpbG9zIGRpZmVyZW50ZXNcclxuICAgIGV4cGVjdChzZWxlY3RlZEJhZGdlKS50b0hhdmVDbGFzcygnY3Vyc29yLXBvaW50ZXInKTtcclxuICAgIGV4cGVjdCh1bnNlbGVjdGVkQmFkZ2UpLnRvSGF2ZUNsYXNzKCdjdXJzb3ItcG9pbnRlcicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZGViZXLDrWEgYWx0ZXJuYXIgc2VsZWNjacOzbiBhbCBoYWNlciBjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcclxuICAgIGNvbnN0IG9uQnJhbmRDaGFuZ2UgPSBqZXN0LmZuKCk7XHJcbiAgICBcclxuICAgIHJlbmRlcig8QnJhbmRGaWx0ZXJDb21wYWN0IHsuLi5kZWZhdWx0UHJvcHN9IG9uQnJhbmRDaGFuZ2U9e29uQnJhbmRDaGFuZ2V9IC8+KTtcclxuICAgIFxyXG4gICAgY29uc3QgYmFkZ2UgPSBzY3JlZW4uZ2V0QnlUZXh0KCdFbCBHYWxnbycpO1xyXG4gICAgYXdhaXQgdXNlci5jbGljayhiYWRnZSk7XHJcbiAgICBcclxuICAgIGV4cGVjdChvbkJyYW5kQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbJ0VsIEdhbGdvJ10pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnZGViZXLDrWEgYXBsaWNhciBjbGFzc05hbWUgcGVyc29uYWxpemFkYScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXHJcbiAgICAgIDxCcmFuZEZpbHRlckNvbXBhY3Qgey4uLmRlZmF1bHRQcm9wc30gY2xhc3NOYW1lPVwiY3VzdG9tLWNvbXBhY3RcIiAvPlxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGNvbnRhaW5lci5maXJzdENoaWxkKS50b0hhdmVDbGFzcygnY3VzdG9tLWNvbXBhY3QnKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImZvcm1hdEJyYW5kTmFtZSIsImZuIiwibmFtZSIsImdldEJyYW5kQ29sb3IiLCJnZXRCcmFuZExvZ28iLCJtb2NrQnJhbmRzIiwicHJvZHVjdHNfY291bnQiLCJkZXNjcmliZSIsImRlZmF1bHRQcm9wcyIsImJyYW5kcyIsInNlbGVjdGVkQnJhbmRzIiwib25CcmFuZENoYW5nZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXIiLCJCcmFuZEZpbHRlciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJmb3JFYWNoIiwiYnJhbmQiLCJ0b1N0cmluZyIsImlzTG9hZGluZyIsInNrZWxldG9ucyIsImdldEFsbEJ5Um9sZSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsInNob3dTZWFyY2giLCJxdWVyeUJ5UGxhY2Vob2xkZXJUZXh0Iiwibm90Iiwic2hvd1Byb2R1Y3RDb3VudCIsInF1ZXJ5QnlUZXh0IiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwiY2hlY2tib3giLCJnZXRCeUxhYmVsVGV4dCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJiYWRnZXMiLCJnZXRBbGxCeVRleHQiLCJiYWRnZSIsImNsb3Nlc3QiLCJzZWxlY3RBbGxCdXR0b24iLCJjbGVhckJ1dHRvbiIsInNlYXJjaElucHV0IiwidHlwZSIsImdldEJ5Um9sZSIsImNvbnRhaW5lciIsImNsYXNzTmFtZSIsImZpcnN0Q2hpbGQiLCJ0b0hhdmVDbGFzcyIsIm1heEhlaWdodCIsInNjcm9sbEFyZWEiLCJ0b0hhdmVTdHlsZSIsIkJyYW5kRmlsdGVyQ29tcGFjdCIsInNlbGVjdGVkQmFkZ2UiLCJ1bnNlbGVjdGVkQmFkZ2UiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QyxnQ0FBZ0M7QUFDaEMsc0NBQXNDOztBQU90QywyQkFBMkI7QUFDM0JBLEtBQUtDLElBQUksQ0FBQyxvQkFBb0IsSUFBTyxDQUFBO1FBQ25DQyxpQkFBaUJGLEtBQUtHLEVBQUUsQ0FBQyxDQUFDQyxPQUFTQTtRQUNuQ0MsZUFBZUwsS0FBS0csRUFBRSxDQUFDLElBQU07UUFDN0JHLGNBQWNOLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO0lBQzlCLENBQUE7Ozs7OzhEQVZrQjt3QkFDaUM7a0VBQzdC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