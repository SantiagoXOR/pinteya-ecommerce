0327e984fdcd536537657150bce1d64b
// ===================================
// PINTEYA E-COMMERCE - ASSET OPTIMIZER TESTS
// ===================================
"use strict";
// Mock logger
jest.mock('@/lib/logger', ()=>({
        logger: {
            debug: jest.fn(),
            info: jest.fn(),
            warn: jest.fn(),
            error: jest.fn()
        },
        LogLevel: {
            DEBUG: 'debug',
            INFO: 'info',
            WARN: 'warn',
            ERROR: 'error'
        },
        LogCategory: {
            SYSTEM: 'system'
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _assetoptimizer = require("../../lib/asset-optimizer");
// Mock DOM para tests de browser
const mockDocument = {
    createElement: jest.fn(),
    head: {
        appendChild: jest.fn()
    },
    querySelectorAll: jest.fn(),
    addEventListener: jest.fn()
};
const mockWindow = {
    IntersectionObserver: jest.fn(),
    document: mockDocument
};
// Solo mockear si no existe
if (typeof global.document === 'undefined') {
    Object.defineProperty(global, 'document', {
        value: mockDocument,
        writable: true
    });
}
if (typeof global.window === 'undefined') {
    Object.defineProperty(global, 'window', {
        value: mockWindow,
        writable: true
    });
}
describe('AssetOptimizer', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Singleton Pattern', ()=>{
        it('should return the same instance', ()=>{
            const instance1 = _assetoptimizer.AssetOptimizer.getInstance();
            const instance2 = _assetoptimizer.AssetOptimizer.getInstance();
            expect(instance1).toBe(instance2);
            expect(instance1).toBe(_assetoptimizer.assetOptimizer);
        });
    });
    describe('optimizeImageUrl', ()=>{
        it('should optimize Supabase image URLs', ()=>{
            const originalUrl = 'https://abc.supabase.co/storage/v1/object/public/images/test.jpg';
            const config = _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES;
            const optimized = _assetoptimizer.assetOptimizer.optimizeImageUrl(originalUrl, config);
            expect(optimized).toContain('width=800');
            expect(optimized).toContain('height=600');
            expect(optimized).toContain('quality=85');
            expect(optimized).toContain('format=webp');
        });
        it('should leave local URLs unchanged', ()=>{
            const localUrl = '/images/product.jpg';
            const optimized = _assetoptimizer.assetOptimizer.optimizeImageUrl(localUrl, _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES);
            expect(optimized).toBe(localUrl);
        });
        it('should handle invalid URLs gracefully', ()=>{
            const invalidUrl = 'not-a-url';
            const optimized = _assetoptimizer.assetOptimizer.optimizeImageUrl(invalidUrl, _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES);
            expect(optimized).toBe(invalidUrl);
        });
    });
    describe('generateSrcSet', ()=>{
        it('should generate responsive srcSet', ()=>{
            const baseUrl = 'https://example.supabase.co/image.jpg';
            const srcSet = _assetoptimizer.assetOptimizer.generateSrcSet(baseUrl, _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES);
            expect(srcSet).toContain('320w');
            expect(srcSet).toContain('640w');
            expect(srcSet).toContain('width=320');
            expect(srcSet).toContain('width=640');
        });
        it('should respect maxWidth limits', ()=>{
            const baseUrl = 'https://example.supabase.co/image.jpg';
            const config = {
                ..._assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES,
                maxWidth: 640
            };
            const srcSet = _assetoptimizer.assetOptimizer.generateSrcSet(baseUrl, config);
            expect(srcSet).toContain('320w');
            expect(srcSet).toContain('640w');
            expect(srcSet).not.toContain('1024w');
        });
        it('should handle errors gracefully', ()=>{
            const invalidUrl = null;
            // No debería lanzar error
            expect(()=>_assetoptimizer.assetOptimizer.generateSrcSet(invalidUrl, _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES)).not.toThrow();
        });
    });
    describe('generateSizes', ()=>{
        it('should generate sizes attribute', ()=>{
            const breakpoints = [
                {
                    condition: '(max-width: 640px)',
                    size: '100vw'
                },
                {
                    condition: '(max-width: 1024px)',
                    size: '50vw'
                },
                {
                    condition: '',
                    size: '33vw'
                }
            ];
            const sizes = _assetoptimizer.assetOptimizer.generateSizes(breakpoints);
            expect(sizes).toBe('(max-width: 640px) 100vw, (max-width: 1024px) 50vw,  33vw');
        });
    });
    describe('preloadCriticalAssets', ()=>{
        it('should not throw errors when preloading assets', ()=>{
            const assets = [
                {
                    url: '/image.jpg',
                    type: 'image'
                },
                {
                    url: '/font.woff2',
                    type: 'font'
                },
                {
                    url: '/style.css',
                    type: 'style'
                }
            ];
            // No debería lanzar error
            expect(()=>_assetoptimizer.assetOptimizer.preloadCriticalAssets(assets)).not.toThrow();
        });
    });
    describe('optimizeJsonResponse', ()=>{
        it('should remove null values and compress JSON', ()=>{
            const data = {
                id: 1,
                name: 'Test',
                description: null,
                tags: [
                    'tag1',
                    null,
                    'tag2'
                ],
                metadata: {
                    created: '2023-01-01',
                    updated: null
                }
            };
            const optimized = _assetoptimizer.assetOptimizer.optimizeJsonResponse(data);
            const parsed = JSON.parse(optimized);
            expect(parsed.description).toBeUndefined();
            expect(parsed.tags).toEqual([
                'tag1',
                'tag2'
            ]);
            expect(parsed.metadata.updated).toBeUndefined();
            expect(parsed.metadata.created).toBe('2023-01-01');
        });
        it('should handle arrays correctly', ()=>{
            const data = [
                {
                    id: 1,
                    name: 'Item 1',
                    deleted: null
                },
                null,
                {
                    id: 2,
                    name: 'Item 2',
                    deleted: false
                }
            ];
            const optimized = _assetoptimizer.assetOptimizer.optimizeJsonResponse(data);
            const parsed = JSON.parse(optimized);
            expect(parsed).toHaveLength(2);
            expect(parsed[0].deleted).toBeUndefined();
            expect(parsed[1].deleted).toBe(false);
        });
        it('should handle primitive values', ()=>{
            const data = 'simple string';
            const optimized = _assetoptimizer.assetOptimizer.optimizeJsonResponse(data);
            expect(optimized).toBe('"simple string"');
        });
        it('should handle errors gracefully', ()=>{
            // Crear objeto circular
            const circularObj = {
                name: 'test'
            };
            circularObj.self = circularObj;
            // No debería lanzar error, debería retornar algo
            expect(()=>_assetoptimizer.assetOptimizer.optimizeJsonResponse(circularObj)).not.toThrow();
        });
    });
    describe('Asset Configurations', ()=>{
        it('should have product images config', ()=>{
            const config = _assetoptimizer.ASSET_CONFIGS.PRODUCT_IMAGES;
            expect(config.compress).toBe(true);
            expect(config.quality).toBe(85);
            expect(config.format).toBe('webp');
            expect(config.maxWidth).toBe(800);
            expect(config.maxHeight).toBe(600);
            expect(config.lazy).toBe(true);
        });
        it('should have payment icons config', ()=>{
            const config = _assetoptimizer.ASSET_CONFIGS.PAYMENT_ICONS;
            expect(config.compress).toBe(true);
            expect(config.quality).toBe(90);
            expect(config.format).toBe('webp');
            expect(config.maxWidth).toBe(64);
            expect(config.maxHeight).toBe(64);
            expect(config.lazy).toBe(false);
        });
        it('should have hero images config', ()=>{
            const config = _assetoptimizer.ASSET_CONFIGS.HERO_IMAGES;
            expect(config.compress).toBe(true);
            expect(config.quality).toBe(80);
            expect(config.format).toBe('webp');
            expect(config.maxWidth).toBe(1920);
            expect(config.maxHeight).toBe(1080);
            expect(config.lazy).toBe(true);
        });
    });
});
describe('AssetUtils', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('optimizeProductImage', ()=>{
        it('should optimize product image with correct config', ()=>{
            const url = 'https://example.supabase.co/product.jpg';
            const optimized = _assetoptimizer.AssetUtils.optimizeProductImage(url);
            expect(optimized).toContain('width=800');
            expect(optimized).toContain('quality=85');
        });
    });
    describe('optimizePaymentIcon', ()=>{
        it('should optimize payment icon with correct config', ()=>{
            const url = 'https://example.supabase.co/visa.svg';
            const optimized = _assetoptimizer.AssetUtils.optimizePaymentIcon(url);
            expect(optimized).toContain('width=64');
            expect(optimized).toContain('quality=90');
        });
    });
    describe('generateProductImageProps', ()=>{
        it('should generate complete image props', ()=>{
            const url = 'https://example.supabase.co/product.jpg';
            const props = _assetoptimizer.AssetUtils.generateProductImageProps(url);
            expect(props.src).toContain('width=800');
            expect(props.srcSet).toContain('320w');
            expect(props.sizes).toContain('100vw');
            expect(props.loading).toBe('lazy');
            expect(props.decoding).toBe('async');
        });
    });
    describe('preloadPaymentAssets', ()=>{
        it('should not throw errors when preloading payment assets', ()=>{
            // No debería lanzar error
            expect(()=>_assetoptimizer.AssetUtils.preloadPaymentAssets()).not.toThrow();
        });
    });
    describe('initializeClientOptimizations', ()=>{
        it('should not throw errors during initialization', ()=>{
            // No debería lanzar error
            expect(()=>_assetoptimizer.AssetUtils.initializeClientOptimizations()).not.toThrow();
        });
        it('should handle server-side rendering', ()=>{
            const originalWindow = global.window;
            delete global.window;
            // No debería lanzar error
            expect(()=>_assetoptimizer.AssetUtils.initializeClientOptimizations()).not.toThrow();
            global.window = originalWindow;
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxsaWJcXGFzc2V0LW9wdGltaXplci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIEFTU0VUIE9QVElNSVpFUiBURVNUU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgQXNzZXRPcHRpbWl6ZXIsIGFzc2V0T3B0aW1pemVyLCBBU1NFVF9DT05GSUdTLCBBc3NldFV0aWxzIH0gZnJvbSAnQC9saWIvYXNzZXQtb3B0aW1pemVyJztcclxuXHJcbi8vIE1vY2sgbG9nZ2VyXHJcbmplc3QubW9jaygnQC9saWIvbG9nZ2VyJywgKCkgPT4gKHtcclxuICBsb2dnZXI6IHtcclxuICAgIGRlYnVnOiBqZXN0LmZuKCksXHJcbiAgICBpbmZvOiBqZXN0LmZuKCksXHJcbiAgICB3YXJuOiBqZXN0LmZuKCksXHJcbiAgICBlcnJvcjogamVzdC5mbigpLFxyXG4gIH0sXHJcbiAgTG9nTGV2ZWw6IHtcclxuICAgIERFQlVHOiAnZGVidWcnLFxyXG4gICAgSU5GTzogJ2luZm8nLFxyXG4gICAgV0FSTjogJ3dhcm4nLFxyXG4gICAgRVJST1I6ICdlcnJvcicsXHJcbiAgfSxcclxuICBMb2dDYXRlZ29yeToge1xyXG4gICAgU1lTVEVNOiAnc3lzdGVtJyxcclxuICB9LFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIERPTSBwYXJhIHRlc3RzIGRlIGJyb3dzZXJcclxuY29uc3QgbW9ja0RvY3VtZW50ID0ge1xyXG4gIGNyZWF0ZUVsZW1lbnQ6IGplc3QuZm4oKSxcclxuICBoZWFkOiB7XHJcbiAgICBhcHBlbmRDaGlsZDogamVzdC5mbigpLFxyXG4gIH0sXHJcbiAgcXVlcnlTZWxlY3RvckFsbDogamVzdC5mbigpLFxyXG4gIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcclxufTtcclxuXHJcbmNvbnN0IG1vY2tXaW5kb3cgPSB7XHJcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IGplc3QuZm4oKSxcclxuICBkb2N1bWVudDogbW9ja0RvY3VtZW50LFxyXG59O1xyXG5cclxuLy8gU29sbyBtb2NrZWFyIHNpIG5vIGV4aXN0ZVxyXG5pZiAodHlwZW9mIGdsb2JhbC5kb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnZG9jdW1lbnQnLCB7XHJcbiAgICB2YWx1ZTogbW9ja0RvY3VtZW50LFxyXG4gICAgd3JpdGFibGU6IHRydWUsXHJcbiAgfSk7XHJcbn1cclxuXHJcbmlmICh0eXBlb2YgZ2xvYmFsLndpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnd2luZG93Jywge1xyXG4gICAgdmFsdWU6IG1vY2tXaW5kb3csXHJcbiAgICB3cml0YWJsZTogdHJ1ZSxcclxuICB9KTtcclxufVxyXG5cclxuZGVzY3JpYmUoJ0Fzc2V0T3B0aW1pemVyJywgKCkgPT4ge1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTaW5nbGV0b24gUGF0dGVybicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpbnN0YW5jZTEgPSBBc3NldE9wdGltaXplci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSBBc3NldE9wdGltaXplci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGluc3RhbmNlMSkudG9CZShpbnN0YW5jZTIpO1xyXG4gICAgICBleHBlY3QoaW5zdGFuY2UxKS50b0JlKGFzc2V0T3B0aW1pemVyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnb3B0aW1pemVJbWFnZVVybCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgb3B0aW1pemUgU3VwYWJhc2UgaW1hZ2UgVVJMcycsICgpID0+IHtcclxuICAgICAgY29uc3Qgb3JpZ2luYWxVcmwgPSAnaHR0cHM6Ly9hYmMuc3VwYWJhc2UuY28vc3RvcmFnZS92MS9vYmplY3QvcHVibGljL2ltYWdlcy90ZXN0LmpwZyc7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IEFTU0VUX0NPTkZJR1MuUFJPRFVDVF9JTUFHRVM7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSBhc3NldE9wdGltaXplci5vcHRpbWl6ZUltYWdlVXJsKG9yaWdpbmFsVXJsLCBjb25maWcpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9Db250YWluKCd3aWR0aD04MDAnKTtcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9Db250YWluKCdoZWlnaHQ9NjAwJyk7XHJcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQpLnRvQ29udGFpbigncXVhbGl0eT04NScpO1xyXG4gICAgICBleHBlY3Qob3B0aW1pemVkKS50b0NvbnRhaW4oJ2Zvcm1hdD13ZWJwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGxlYXZlIGxvY2FsIFVSTHMgdW5jaGFuZ2VkJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsb2NhbFVybCA9ICcvaW1hZ2VzL3Byb2R1Y3QuanBnJztcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IGFzc2V0T3B0aW1pemVyLm9wdGltaXplSW1hZ2VVcmwobG9jYWxVcmwsIEFTU0VUX0NPTkZJR1MuUFJPRFVDVF9JTUFHRVMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9CZShsb2NhbFVybCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIFVSTHMgZ3JhY2VmdWxseScsICgpID0+IHtcclxuICAgICAgY29uc3QgaW52YWxpZFVybCA9ICdub3QtYS11cmwnO1xyXG5cclxuICAgICAgY29uc3Qgb3B0aW1pemVkID0gYXNzZXRPcHRpbWl6ZXIub3B0aW1pemVJbWFnZVVybChpbnZhbGlkVXJsLCBBU1NFVF9DT05GSUdTLlBST0RVQ1RfSU1BR0VTKTtcclxuXHJcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQpLnRvQmUoaW52YWxpZFVybCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dlbmVyYXRlU3JjU2V0JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSByZXNwb25zaXZlIHNyY1NldCcsICgpID0+IHtcclxuICAgICAgY29uc3QgYmFzZVVybCA9ICdodHRwczovL2V4YW1wbGUuc3VwYWJhc2UuY28vaW1hZ2UuanBnJztcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNyY1NldCA9IGFzc2V0T3B0aW1pemVyLmdlbmVyYXRlU3JjU2V0KGJhc2VVcmwsIEFTU0VUX0NPTkZJR1MuUFJPRFVDVF9JTUFHRVMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNyY1NldCkudG9Db250YWluKCczMjB3Jyk7XHJcbiAgICAgIGV4cGVjdChzcmNTZXQpLnRvQ29udGFpbignNjQwdycpO1xyXG4gICAgICBleHBlY3Qoc3JjU2V0KS50b0NvbnRhaW4oJ3dpZHRoPTMyMCcpO1xyXG4gICAgICBleHBlY3Qoc3JjU2V0KS50b0NvbnRhaW4oJ3dpZHRoPTY0MCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCByZXNwZWN0IG1heFdpZHRoIGxpbWl0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgYmFzZVVybCA9ICdodHRwczovL2V4YW1wbGUuc3VwYWJhc2UuY28vaW1hZ2UuanBnJztcclxuICAgICAgY29uc3QgY29uZmlnID0geyAuLi5BU1NFVF9DT05GSUdTLlBST0RVQ1RfSU1BR0VTLCBtYXhXaWR0aDogNjQwIH07XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzcmNTZXQgPSBhc3NldE9wdGltaXplci5nZW5lcmF0ZVNyY1NldChiYXNlVXJsLCBjb25maWcpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHNyY1NldCkudG9Db250YWluKCczMjB3Jyk7XHJcbiAgICAgIGV4cGVjdChzcmNTZXQpLnRvQ29udGFpbignNjQwdycpO1xyXG4gICAgICBleHBlY3Qoc3JjU2V0KS5ub3QudG9Db250YWluKCcxMDI0dycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIGdyYWNlZnVsbHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGludmFsaWRVcmwgPSBudWxsIGFzIGFueTtcclxuXHJcbiAgICAgIC8vIE5vIGRlYmVyw61hIGxhbnphciBlcnJvclxyXG4gICAgICBleHBlY3QoKCkgPT4gYXNzZXRPcHRpbWl6ZXIuZ2VuZXJhdGVTcmNTZXQoaW52YWxpZFVybCwgQVNTRVRfQ09ORklHUy5QUk9EVUNUX0lNQUdFUykpLm5vdC50b1Rocm93KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ2dlbmVyYXRlU2l6ZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHNpemVzIGF0dHJpYnV0ZScsICgpID0+IHtcclxuICAgICAgY29uc3QgYnJlYWtwb2ludHMgPSBbXHJcbiAgICAgICAgeyBjb25kaXRpb246ICcobWF4LXdpZHRoOiA2NDBweCknLCBzaXplOiAnMTAwdncnIH0sXHJcbiAgICAgICAgeyBjb25kaXRpb246ICcobWF4LXdpZHRoOiAxMDI0cHgpJywgc2l6ZTogJzUwdncnIH0sXHJcbiAgICAgICAgeyBjb25kaXRpb246ICcnLCBzaXplOiAnMzN2dycgfSxcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNpemVzID0gYXNzZXRPcHRpbWl6ZXIuZ2VuZXJhdGVTaXplcyhicmVha3BvaW50cyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc2l6ZXMpLnRvQmUoJyhtYXgtd2lkdGg6IDY0MHB4KSAxMDB2dywgKG1heC13aWR0aDogMTAyNHB4KSA1MHZ3LCAgMzN2dycpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdwcmVsb2FkQ3JpdGljYWxBc3NldHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG5vdCB0aHJvdyBlcnJvcnMgd2hlbiBwcmVsb2FkaW5nIGFzc2V0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgYXNzZXRzID0gW1xyXG4gICAgICAgIHsgdXJsOiAnL2ltYWdlLmpwZycsIHR5cGU6ICdpbWFnZScgYXMgY29uc3QgfSxcclxuICAgICAgICB7IHVybDogJy9mb250LndvZmYyJywgdHlwZTogJ2ZvbnQnIGFzIGNvbnN0IH0sXHJcbiAgICAgICAgeyB1cmw6ICcvc3R5bGUuY3NzJywgdHlwZTogJ3N0eWxlJyBhcyBjb25zdCB9LFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgLy8gTm8gZGViZXLDrWEgbGFuemFyIGVycm9yXHJcbiAgICAgIGV4cGVjdCgoKSA9PiBhc3NldE9wdGltaXplci5wcmVsb2FkQ3JpdGljYWxBc3NldHMoYXNzZXRzKSkubm90LnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnb3B0aW1pemVKc29uUmVzcG9uc2UnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBudWxsIHZhbHVlcyBhbmQgY29tcHJlc3MgSlNPTicsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICBpZDogMSxcclxuICAgICAgICBuYW1lOiAnVGVzdCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsXHJcbiAgICAgICAgdGFnczogWyd0YWcxJywgbnVsbCwgJ3RhZzInXSxcclxuICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgY3JlYXRlZDogJzIwMjMtMDEtMDEnLFxyXG4gICAgICAgICAgdXBkYXRlZDogbnVsbCxcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3Qgb3B0aW1pemVkID0gYXNzZXRPcHRpbWl6ZXIub3B0aW1pemVKc29uUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3B0aW1pemVkKTtcclxuXHJcbiAgICAgIGV4cGVjdChwYXJzZWQuZGVzY3JpcHRpb24pLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHBhcnNlZC50YWdzKS50b0VxdWFsKFsndGFnMScsICd0YWcyJ10pO1xyXG4gICAgICBleHBlY3QocGFyc2VkLm1ldGFkYXRhLnVwZGF0ZWQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHBhcnNlZC5tZXRhZGF0YS5jcmVhdGVkKS50b0JlKCcyMDIzLTAxLTAxJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhcnJheXMgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gW1xyXG4gICAgICAgIHsgaWQ6IDEsIG5hbWU6ICdJdGVtIDEnLCBkZWxldGVkOiBudWxsIH0sXHJcbiAgICAgICAgbnVsbCxcclxuICAgICAgICB7IGlkOiAyLCBuYW1lOiAnSXRlbSAyJywgZGVsZXRlZDogZmFsc2UgfSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IGFzc2V0T3B0aW1pemVyLm9wdGltaXplSnNvblJlc3BvbnNlKGRhdGEpO1xyXG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKG9wdGltaXplZCk7XHJcblxyXG4gICAgICBleHBlY3QocGFyc2VkKS50b0hhdmVMZW5ndGgoMik7XHJcbiAgICAgIGV4cGVjdChwYXJzZWRbMF0uZGVsZXRlZCkudG9CZVVuZGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocGFyc2VkWzFdLmRlbGV0ZWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJpbWl0aXZlIHZhbHVlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9ICdzaW1wbGUgc3RyaW5nJztcclxuXHJcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IGFzc2V0T3B0aW1pemVyLm9wdGltaXplSnNvblJlc3BvbnNlKGRhdGEpO1xyXG5cclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9CZSgnXCJzaW1wbGUgc3RyaW5nXCInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVycm9ycyBncmFjZWZ1bGx5JywgKCkgPT4ge1xyXG4gICAgICAvLyBDcmVhciBvYmpldG8gY2lyY3VsYXJcclxuICAgICAgY29uc3QgY2lyY3VsYXJPYmo6IGFueSA9IHsgbmFtZTogJ3Rlc3QnIH07XHJcbiAgICAgIGNpcmN1bGFyT2JqLnNlbGYgPSBjaXJjdWxhck9iajtcclxuXHJcbiAgICAgIC8vIE5vIGRlYmVyw61hIGxhbnphciBlcnJvciwgZGViZXLDrWEgcmV0b3JuYXIgYWxnb1xyXG4gICAgICBleHBlY3QoKCkgPT4gYXNzZXRPcHRpbWl6ZXIub3B0aW1pemVKc29uUmVzcG9uc2UoY2lyY3VsYXJPYmopKS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBc3NldCBDb25maWd1cmF0aW9ucycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9kdWN0IGltYWdlcyBjb25maWcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IEFTU0VUX0NPTkZJR1MuUFJPRFVDVF9JTUFHRVM7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uZmlnLmNvbXByZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLnF1YWxpdHkpLnRvQmUoODUpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmZvcm1hdCkudG9CZSgnd2VicCcpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLm1heFdpZHRoKS50b0JlKDgwMCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcubWF4SGVpZ2h0KS50b0JlKDYwMCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcubGF6eSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGF2ZSBwYXltZW50IGljb25zIGNvbmZpZycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29uZmlnID0gQVNTRVRfQ09ORklHUy5QQVlNRU5UX0lDT05TO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbmZpZy5jb21wcmVzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5xdWFsaXR5KS50b0JlKDkwKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5mb3JtYXQpLnRvQmUoJ3dlYnAnKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5tYXhXaWR0aCkudG9CZSg2NCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcubWF4SGVpZ2h0KS50b0JlKDY0KTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5sYXp5KS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGF2ZSBoZXJvIGltYWdlcyBjb25maWcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IEFTU0VUX0NPTkZJR1MuSEVST19JTUFHRVM7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29uZmlnLmNvbXByZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLnF1YWxpdHkpLnRvQmUoODApO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmZvcm1hdCkudG9CZSgnd2VicCcpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLm1heFdpZHRoKS50b0JlKDE5MjApO1xyXG4gICAgICBleHBlY3QoY29uZmlnLm1heEhlaWdodCkudG9CZSgxMDgwKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5sYXp5KS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0Fzc2V0VXRpbHMnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ29wdGltaXplUHJvZHVjdEltYWdlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBvcHRpbWl6ZSBwcm9kdWN0IGltYWdlIHdpdGggY29ycmVjdCBjb25maWcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL2V4YW1wbGUuc3VwYWJhc2UuY28vcHJvZHVjdC5qcGcnO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgb3B0aW1pemVkID0gQXNzZXRVdGlscy5vcHRpbWl6ZVByb2R1Y3RJbWFnZSh1cmwpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9Db250YWluKCd3aWR0aD04MDAnKTtcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9Db250YWluKCdxdWFsaXR5PTg1Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ29wdGltaXplUGF5bWVudEljb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIG9wdGltaXplIHBheW1lbnQgaWNvbiB3aXRoIGNvcnJlY3QgY29uZmlnJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9leGFtcGxlLnN1cGFiYXNlLmNvL3Zpc2Euc3ZnJztcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IEFzc2V0VXRpbHMub3B0aW1pemVQYXltZW50SWNvbih1cmwpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG9wdGltaXplZCkudG9Db250YWluKCd3aWR0aD02NCcpO1xyXG4gICAgICBleHBlY3Qob3B0aW1pemVkKS50b0NvbnRhaW4oJ3F1YWxpdHk9OTAnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnZ2VuZXJhdGVQcm9kdWN0SW1hZ2VQcm9wcycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29tcGxldGUgaW1hZ2UgcHJvcHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL2V4YW1wbGUuc3VwYWJhc2UuY28vcHJvZHVjdC5qcGcnO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcHJvcHMgPSBBc3NldFV0aWxzLmdlbmVyYXRlUHJvZHVjdEltYWdlUHJvcHModXJsKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChwcm9wcy5zcmMpLnRvQ29udGFpbignd2lkdGg9ODAwJyk7XHJcbiAgICAgIGV4cGVjdChwcm9wcy5zcmNTZXQpLnRvQ29udGFpbignMzIwdycpO1xyXG4gICAgICBleHBlY3QocHJvcHMuc2l6ZXMpLnRvQ29udGFpbignMTAwdncnKTtcclxuICAgICAgZXhwZWN0KHByb3BzLmxvYWRpbmcpLnRvQmUoJ2xhenknKTtcclxuICAgICAgZXhwZWN0KHByb3BzLmRlY29kaW5nKS50b0JlKCdhc3luYycpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdwcmVsb2FkUGF5bWVudEFzc2V0cycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgbm90IHRocm93IGVycm9ycyB3aGVuIHByZWxvYWRpbmcgcGF5bWVudCBhc3NldHMnLCAoKSA9PiB7XHJcbiAgICAgIC8vIE5vIGRlYmVyw61hIGxhbnphciBlcnJvclxyXG4gICAgICBleHBlY3QoKCkgPT4gQXNzZXRVdGlscy5wcmVsb2FkUGF5bWVudEFzc2V0cygpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdpbml0aWFsaXplQ2xpZW50T3B0aW1pemF0aW9ucycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgbm90IHRocm93IGVycm9ycyBkdXJpbmcgaW5pdGlhbGl6YXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIC8vIE5vIGRlYmVyw61hIGxhbnphciBlcnJvclxyXG4gICAgICBleHBlY3QoKCkgPT4gQXNzZXRVdGlscy5pbml0aWFsaXplQ2xpZW50T3B0aW1pemF0aW9ucygpKS5ub3QudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VydmVyLXNpZGUgcmVuZGVyaW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvcmlnaW5hbFdpbmRvdyA9IGdsb2JhbC53aW5kb3c7XHJcbiAgICAgIGRlbGV0ZSAoZ2xvYmFsIGFzIGFueSkud2luZG93O1xyXG5cclxuICAgICAgLy8gTm8gZGViZXLDrWEgbGFuemFyIGVycm9yXHJcbiAgICAgIGV4cGVjdCgoKSA9PiBBc3NldFV0aWxzLmluaXRpYWxpemVDbGllbnRPcHRpbWl6YXRpb25zKCkpLm5vdC50b1Rocm93KCk7XHJcblxyXG4gICAgICBnbG9iYWwud2luZG93ID0gb3JpZ2luYWxXaW5kb3c7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImxvZ2dlciIsImRlYnVnIiwiZm4iLCJpbmZvIiwid2FybiIsImVycm9yIiwiTG9nTGV2ZWwiLCJERUJVRyIsIklORk8iLCJXQVJOIiwiRVJST1IiLCJMb2dDYXRlZ29yeSIsIlNZU1RFTSIsIm1vY2tEb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1vY2tXaW5kb3ciLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImRvY3VtZW50IiwiZ2xvYmFsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIndyaXRhYmxlIiwid2luZG93IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiaW5zdGFuY2UxIiwiQXNzZXRPcHRpbWl6ZXIiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlMiIsImV4cGVjdCIsInRvQmUiLCJhc3NldE9wdGltaXplciIsIm9yaWdpbmFsVXJsIiwiY29uZmlnIiwiQVNTRVRfQ09ORklHUyIsIlBST0RVQ1RfSU1BR0VTIiwib3B0aW1pemVkIiwib3B0aW1pemVJbWFnZVVybCIsInRvQ29udGFpbiIsImxvY2FsVXJsIiwiaW52YWxpZFVybCIsImJhc2VVcmwiLCJzcmNTZXQiLCJnZW5lcmF0ZVNyY1NldCIsIm1heFdpZHRoIiwibm90IiwidG9UaHJvdyIsImJyZWFrcG9pbnRzIiwiY29uZGl0aW9uIiwic2l6ZSIsInNpemVzIiwiZ2VuZXJhdGVTaXplcyIsImFzc2V0cyIsInVybCIsInR5cGUiLCJwcmVsb2FkQ3JpdGljYWxBc3NldHMiLCJkYXRhIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJ0YWdzIiwibWV0YWRhdGEiLCJjcmVhdGVkIiwidXBkYXRlZCIsIm9wdGltaXplSnNvblJlc3BvbnNlIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwidG9CZVVuZGVmaW5lZCIsInRvRXF1YWwiLCJkZWxldGVkIiwidG9IYXZlTGVuZ3RoIiwiY2lyY3VsYXJPYmoiLCJzZWxmIiwiY29tcHJlc3MiLCJxdWFsaXR5IiwiZm9ybWF0IiwibWF4SGVpZ2h0IiwibGF6eSIsIlBBWU1FTlRfSUNPTlMiLCJIRVJPX0lNQUdFUyIsIkFzc2V0VXRpbHMiLCJvcHRpbWl6ZVByb2R1Y3RJbWFnZSIsIm9wdGltaXplUGF5bWVudEljb24iLCJwcm9wcyIsImdlbmVyYXRlUHJvZHVjdEltYWdlUHJvcHMiLCJzcmMiLCJsb2FkaW5nIiwiZGVjb2RpbmciLCJwcmVsb2FkUGF5bWVudEFzc2V0cyIsImluaXRpYWxpemVDbGllbnRPcHRpbWl6YXRpb25zIiwib3JpZ2luYWxXaW5kb3ci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