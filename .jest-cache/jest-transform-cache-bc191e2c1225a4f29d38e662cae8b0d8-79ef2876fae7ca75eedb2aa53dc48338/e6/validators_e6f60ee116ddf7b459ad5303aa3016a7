8a3185e082badf6d8bdb1ef7538e8e2c
// ===================================
// UTILIDADES DE VALIDACIÓN
// Funciones para validar datos críticos del sistema
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get sanitizeString () {
        return sanitizeString;
    },
    get validateAddress () {
        return validateAddress;
    },
    get validateCurrency () {
        return validateCurrency;
    },
    get validateDate () {
        return validateDate;
    },
    get validateDiscount () {
        return validateDiscount;
    },
    get validateEmail () {
        return validateEmail;
    },
    get validateNumberRange () {
        return validateNumberRange;
    },
    get validateOrderData () {
        return validateOrderData;
    },
    get validatePassword () {
        return validatePassword;
    },
    get validatePaymentData () {
        return validatePaymentData;
    },
    get validatePhone () {
        return validatePhone;
    },
    get validateProductData () {
        return validateProductData;
    },
    get validateQuantity () {
        return validateQuantity;
    },
    get validateRequiredFields () {
        return validateRequiredFields;
    },
    get validateURL () {
        return validateURL;
    }
});
function validateEmail(email) {
    if (!email || typeof email !== 'string') {
        return false;
    }
    // Regex para validación de email
    const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
    // Validar formato básico
    if (!emailRegex.test(email)) {
        return false;
    }
    // Validar longitud
    const [localPart, domain] = email.split('@');
    if (localPart.length > 64 || domain.length > 253) {
        return false;
    }
    // Validar que no tenga puntos consecutivos
    if (email.includes('..')) {
        return false;
    }
    return true;
}
function validatePassword(password) {
    const errors = [];
    let message = '';
    if (!password || typeof password !== 'string') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ],
            message: 'La contraseña debe ser una cadena de texto'
        };
    }
    // Validar longitud mínima
    if (password.length < 8) {
        errors.push('length');
    }
    // Validar mayúscula
    if (!/[A-Z]/.test(password)) {
        errors.push('uppercase');
    }
    // Validar minúscula
    if (!/[a-z]/.test(password)) {
        errors.push('lowercase');
    }
    // Validar número
    if (!/\d/.test(password)) {
        errors.push('number');
    }
    // Validar carácter especial
    if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
        errors.push('special');
    }
    // Generar mensaje de error
    if (errors.length > 0) {
        const errorMessages = {
            length: 'al menos 8 caracteres',
            uppercase: 'al menos una letra mayúscula',
            lowercase: 'al menos una letra minúscula',
            number: 'al menos un número',
            special: 'al menos un carácter especial'
        };
        message = `La contraseña debe contener: ${errors.map((e)=>errorMessages[e]).join(', ')}`;
    }
    return {
        isValid: errors.length === 0,
        errors,
        message
    };
}
function validatePhone(phone, country = 'AR') {
    if (!phone || typeof phone !== 'string') {
        return false;
    }
    // Limpiar el teléfono de espacios y caracteres especiales
    const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
    if (country === 'AR') {
        // Validar teléfonos argentinos
        // Formatos válidos: +541123456789, 1123456789, 01123456789
        const argPhoneRegex = /^(\+54)?0?11\d{8}$|^(\+54)?0?\d{10}$/;
        return argPhoneRegex.test(cleanPhone);
    }
    if (country === 'INTERNATIONAL') {
        // Validar formato internacional básico
        const intPhoneRegex = /^\+\d{10,15}$/;
        return intPhoneRegex.test(cleanPhone);
    }
    return false;
}
function validateProductData(product) {
    const errors = [];
    if (!product || typeof product !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ],
            message: 'Los datos del producto deben ser un objeto'
        };
    }
    // Validar nombre
    if (!product.name || typeof product.name !== 'string') {
        errors.push('name');
    } else if (product.name.length < 3 || product.name.length > 200) {
        errors.push('name_length');
    } else if (/<script|javascript:|on\w+=/i.test(product.name)) {
        errors.push('name_security');
    }
    // Validar precio
    if (typeof product.price !== 'number' || product.price <= 0) {
        errors.push('price');
    } else if (product.price > 9999999) {
        errors.push('price_too_high');
    }
    // Validar stock
    if (typeof product.stock !== 'number' || product.stock < 0) {
        errors.push('stock');
    }
    // Validar categoría
    if (!product.category_id || typeof product.category_id !== 'number') {
        errors.push('category_id');
    }
    // Validar marca
    if (!product.brand || typeof product.brand !== 'string') {
        errors.push('brand');
    }
    // Validar imágenes
    if (!Array.isArray(product.images) || product.images.length === 0) {
        errors.push('images');
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateOrderData(order) {
    const errors = [];
    if (!order || typeof order !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar user_id
    if (!order.user_id || typeof order.user_id !== 'string') {
        errors.push('user_id');
    }
    // Validar items
    if (!Array.isArray(order.items) || order.items.length === 0) {
        errors.push('items_empty');
    } else {
        // Validar cada item
        order.items.forEach((item, index)=>{
            if (!item.product_id || typeof item.product_id !== 'number') {
                errors.push(`item_${index}_product_id`);
            }
            if (!item.quantity || typeof item.quantity !== 'number' || item.quantity <= 0) {
                errors.push(`item_${index}_quantity`);
            }
            if (typeof item.price !== 'number' || item.price <= 0) {
                errors.push(`item_${index}_price`);
            }
        });
    }
    // Validar total
    if (typeof order.total !== 'number' || order.total <= 0) {
        errors.push('total');
    } else if (Array.isArray(order.items) && order.items.length > 0) {
        // Verificar que el total coincida con la suma de items
        const calculatedTotal = order.items.reduce((sum, item)=>{
            return sum + item.quantity * item.price;
        }, 0);
        if (Math.abs(calculatedTotal - order.total) > 0.01) {
            errors.push('total_mismatch');
        }
    }
    // Validar dirección de envío
    const addressValidation = validateAddress(order.shipping_address);
    if (!addressValidation.isValid) {
        errors.push('shipping_address');
    }
    // Validar método de pago
    if (!order.payment_method || typeof order.payment_method !== 'string') {
        errors.push('payment_method');
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validatePaymentData(payment) {
    const errors = [];
    if (!payment || typeof payment !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar método
    if (!payment.method || typeof payment.method !== 'string') {
        errors.push('method');
    }
    // Validar monto
    if (typeof payment.amount !== 'number' || payment.amount <= 0) {
        errors.push('amount');
    }
    // Validar moneda
    if (!validateCurrency(payment.currency)) {
        errors.push('currency');
    }
    // Validaciones específicas para MercadoPago
    if (payment.method === 'mercadopago') {
        if (payment.payer && !validateEmail(payment.payer.email)) {
            errors.push('payer_email');
        }
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateAddress(address) {
    const errors = [];
    if (!address || typeof address !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_type'
            ]
        };
    }
    // Validar campos requeridos
    const requiredFields = [
        'street',
        'city',
        'state',
        'postal_code',
        'country'
    ];
    requiredFields.forEach((field)=>{
        if (!address[field] || typeof address[field] !== 'string' || address[field].trim() === '') {
            errors.push(field);
        }
    });
    // Validar código postal por país
    if (address.country && address.postal_code) {
        const postalCodeValid = validatePostalCode(address.postal_code, address.country);
        if (!postalCodeValid) {
            errors.push('postal_code_format');
        }
    }
    return {
        isValid: errors.length === 0,
        errors
    };
}
// ===================================
// VALIDACIÓN DE CÓDIGO POSTAL
// ===================================
function validatePostalCode(postalCode, country) {
    const patterns = {
        'Argentina': /^\d{4}$/,
        'USA': /^\d{5}(-\d{4})?$/,
        'Brazil': /^\d{5}-?\d{3}$/,
        'Chile': /^\d{7}$/
    };
    const pattern = patterns[country];
    return pattern ? pattern.test(postalCode) : true; // Si no hay patrón, aceptar
}
function validateCurrency(currency) {
    if (!currency || typeof currency !== 'string') {
        return false;
    }
    const supportedCurrencies = [
        'ARS',
        'USD',
        'EUR',
        'BRL',
        'CLP',
        'UYU'
    ];
    return supportedCurrencies.includes(currency.toUpperCase());
}
function validateQuantity(quantity) {
    if (typeof quantity !== 'number') {
        return false;
    }
    // Debe ser un entero positivo
    if (!Number.isInteger(quantity) || quantity <= 0) {
        return false;
    }
    // Límite máximo de cantidad
    if (quantity > 999) {
        return false;
    }
    return true;
}
function validateDiscount(discount) {
    if (!discount || typeof discount !== 'object') {
        return false;
    }
    // Validar tipo
    if (![
        'percentage',
        'fixed'
    ].includes(discount.type)) {
        return false;
    }
    // Validar valor
    if (typeof discount.value !== 'number' || discount.value < 0) {
        return false;
    }
    // Validaciones específicas por tipo
    if (discount.type === 'percentage') {
        // Porcentaje no puede ser mayor a 100
        if (discount.value > 100) {
            return false;
        }
    }
    if (discount.type === 'fixed') {
        // Descuento fijo debe tener moneda
        if (!discount.currency || !validateCurrency(discount.currency)) {
            return false;
        }
    }
    return true;
}
function sanitizeString(input) {
    if (typeof input !== 'string') {
        return '';
    }
    return input.replace(/<script[^>]*>.*?<\/script>/gi, '') // Remover scripts
    .replace(/<[^>]*>/g, '') // Remover HTML tags
    .replace(/javascript:/gi, '') // Remover javascript:
    .replace(/on\w+=/gi, '') // Remover event handlers
    .trim();
}
function validateRequiredFields(obj, requiredFields) {
    const errors = [];
    if (!obj || typeof obj !== 'object') {
        return {
            isValid: false,
            errors: [
                'invalid_object'
            ]
        };
    }
    requiredFields.forEach((field)=>{
        if (!(field in obj) || obj[field] === null || obj[field] === undefined || obj[field] === '') {
            errors.push(field);
        }
    });
    return {
        isValid: errors.length === 0,
        errors
    };
}
function validateNumberRange(value, min, max) {
    if (typeof value !== 'number') {
        return false;
    }
    return value >= min && value <= max;
}
function validateDate(date) {
    if (!date) {
        return false;
    }
    const parsedDate = new Date(date);
    return !isNaN(parsedDate.getTime());
}
function validateURL(url) {
    if (!url || typeof url !== 'string') {
        return false;
    }
    try {
        new URL(url);
        return true;
    } catch  {
        return false;
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbGliXFx1dGlsc1xcdmFsaWRhdG9ycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVVRJTElEQURFUyBERSBWQUxJREFDScOTTlxuLy8gRnVuY2lvbmVzIHBhcmEgdmFsaWRhciBkYXRvcyBjcsOtdGljb3MgZGVsIHNpc3RlbWFcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlzVmFsaWQ6IGJvb2xlYW47XG4gIGVycm9yczogc3RyaW5nW107XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdERhdGEge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBzdG9jazogbnVtYmVyO1xuICBjYXRlZ29yeV9pZDogbnVtYmVyO1xuICBicmFuZDogc3RyaW5nO1xuICBpbWFnZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVySXRlbSB7XG4gIHByb2R1Y3RfaWQ6IG51bWJlcjtcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgcHJpY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzIHtcbiAgc3RyZWV0OiBzdHJpbmc7XG4gIGNpdHk6IHN0cmluZztcbiAgc3RhdGU6IHN0cmluZztcbiAgcG9zdGFsX2NvZGU6IHN0cmluZztcbiAgY291bnRyeTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyRGF0YSB7XG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgaXRlbXM6IE9yZGVySXRlbVtdO1xuICB0b3RhbDogbnVtYmVyO1xuICBzaGlwcGluZ19hZGRyZXNzOiBBZGRyZXNzO1xuICBwYXltZW50X21ldGhvZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnREYXRhIHtcbiAgbWV0aG9kOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBjdXJyZW5jeTogc3RyaW5nO1xuICBwYXltZW50X21ldGhvZF9pZD86IHN0cmluZztcbiAgaW5zdGFsbG1lbnRzPzogbnVtYmVyO1xuICBwYXllcj86IHtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGlkZW50aWZpY2F0aW9uPzoge1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgbnVtYmVyOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb3VudERhdGEge1xuICB0eXBlOiAncGVyY2VudGFnZScgfCAnZml4ZWQnO1xuICB2YWx1ZTogbnVtYmVyO1xuICBjdXJyZW5jeT86IHN0cmluZztcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZBTElEQUNJw5NOIERFIEVNQUlMXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbDogYW55KTogYm9vbGVhbiB7XG4gIGlmICghZW1haWwgfHwgdHlwZW9mIGVtYWlsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFJlZ2V4IHBhcmEgdmFsaWRhY2nDs24gZGUgZW1haWxcbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbiAgXG4gIC8vIFZhbGlkYXIgZm9ybWF0byBiw6FzaWNvXG4gIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbG9uZ2l0dWRcbiAgY29uc3QgW2xvY2FsUGFydCwgZG9tYWluXSA9IGVtYWlsLnNwbGl0KCdAJyk7XG4gIGlmIChsb2NhbFBhcnQubGVuZ3RoID4gNjQgfHwgZG9tYWluLmxlbmd0aCA+IDI1Mykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgcXVlIG5vIHRlbmdhIHB1bnRvcyBjb25zZWN1dGl2b3NcbiAgaWYgKGVtYWlsLmluY2x1ZGVzKCcuLicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWQUxJREFDScOTTiBERSBDT05UUkFTRcORQVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQ6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gIGxldCBtZXNzYWdlID0gJyc7XG5cbiAgaWYgKCFwYXNzd29yZCB8fCB0eXBlb2YgcGFzc3dvcmQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3JzOiBbJ2ludmFsaWRfdHlwZSddLFxuICAgICAgbWVzc2FnZTogJ0xhIGNvbnRyYXNlw7FhIGRlYmUgc2VyIHVuYSBjYWRlbmEgZGUgdGV4dG8nXG4gICAgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbG9uZ2l0dWQgbcOtbmltYVxuICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgIGVycm9ycy5wdXNoKCdsZW5ndGgnKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbWF5w7pzY3VsYVxuICBpZiAoIS9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcbiAgICBlcnJvcnMucHVzaCgndXBwZXJjYXNlJyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIG1pbsO6c2N1bGFcbiAgaWYgKCEvW2Etel0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgZXJyb3JzLnB1c2goJ2xvd2VyY2FzZScpO1xuICB9XG5cbiAgLy8gVmFsaWRhciBuw7ptZXJvXG4gIGlmICghL1xcZC8udGVzdChwYXNzd29yZCkpIHtcbiAgICBlcnJvcnMucHVzaCgnbnVtYmVyJyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIGNhcsOhY3RlciBlc3BlY2lhbFxuICBpZiAoIS9bIUAjJCVeJiooKV8rXFwtPVxcW1xcXXt9Oyc6XCJcXFxcfCwuPD5cXC8/XS8udGVzdChwYXNzd29yZCkpIHtcbiAgICBlcnJvcnMucHVzaCgnc3BlY2lhbCcpO1xuICB9XG5cbiAgLy8gR2VuZXJhciBtZW5zYWplIGRlIGVycm9yXG4gIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgICBsZW5ndGg6ICdhbCBtZW5vcyA4IGNhcmFjdGVyZXMnLFxuICAgICAgdXBwZXJjYXNlOiAnYWwgbWVub3MgdW5hIGxldHJhIG1hecO6c2N1bGEnLFxuICAgICAgbG93ZXJjYXNlOiAnYWwgbWVub3MgdW5hIGxldHJhIG1pbsO6c2N1bGEnLFxuICAgICAgbnVtYmVyOiAnYWwgbWVub3MgdW4gbsO6bWVybycsXG4gICAgICBzcGVjaWFsOiAnYWwgbWVub3MgdW4gY2Fyw6FjdGVyIGVzcGVjaWFsJ1xuICAgIH07XG5cbiAgICBtZXNzYWdlID0gYExhIGNvbnRyYXNlw7FhIGRlYmUgY29udGVuZXI6ICR7ZXJyb3JzLm1hcChlID0+IGVycm9yTWVzc2FnZXNbZSBhcyBrZXlvZiB0eXBlb2YgZXJyb3JNZXNzYWdlc10pLmpvaW4oJywgJyl9YDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnMsXG4gICAgbWVzc2FnZVxuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBQ0nDk04gREUgVEVMw4lGT05PXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZShwaG9uZTogYW55LCBjb3VudHJ5OiAnQVInIHwgJ0lOVEVSTkFUSU9OQUwnID0gJ0FSJyk6IGJvb2xlYW4ge1xuICBpZiAoIXBob25lIHx8IHR5cGVvZiBwaG9uZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBMaW1waWFyIGVsIHRlbMOpZm9ubyBkZSBlc3BhY2lvcyB5IGNhcmFjdGVyZXMgZXNwZWNpYWxlc1xuICBjb25zdCBjbGVhblBob25lID0gcGhvbmUucmVwbGFjZSgvW1xcc1xcLVxcKFxcKV0vZywgJycpO1xuXG4gIGlmIChjb3VudHJ5ID09PSAnQVInKSB7XG4gICAgLy8gVmFsaWRhciB0ZWzDqWZvbm9zIGFyZ2VudGlub3NcbiAgICAvLyBGb3JtYXRvcyB2w6FsaWRvczogKzU0MTEyMzQ1Njc4OSwgMTEyMzQ1Njc4OSwgMDExMjM0NTY3ODlcbiAgICBjb25zdCBhcmdQaG9uZVJlZ2V4ID0gL14oXFwrNTQpPzA/MTFcXGR7OH0kfF4oXFwrNTQpPzA/XFxkezEwfSQvO1xuICAgIHJldHVybiBhcmdQaG9uZVJlZ2V4LnRlc3QoY2xlYW5QaG9uZSk7XG4gIH1cblxuICBpZiAoY291bnRyeSA9PT0gJ0lOVEVSTkFUSU9OQUwnKSB7XG4gICAgLy8gVmFsaWRhciBmb3JtYXRvIGludGVybmFjaW9uYWwgYsOhc2ljb1xuICAgIGNvbnN0IGludFBob25lUmVnZXggPSAvXlxcK1xcZHsxMCwxNX0kLztcbiAgICByZXR1cm4gaW50UGhvbmVSZWdleC50ZXN0KGNsZWFuUGhvbmUpO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBQ0nDk04gREUgREFUT1MgREUgUFJPRFVDVE9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVByb2R1Y3REYXRhKHByb2R1Y3Q6IGFueSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKCFwcm9kdWN0IHx8IHR5cGVvZiBwcm9kdWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yczogWydpbnZhbGlkX3R5cGUnXSxcbiAgICAgIG1lc3NhZ2U6ICdMb3MgZGF0b3MgZGVsIHByb2R1Y3RvIGRlYmVuIHNlciB1biBvYmpldG8nXG4gICAgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbm9tYnJlXG4gIGlmICghcHJvZHVjdC5uYW1lIHx8IHR5cGVvZiBwcm9kdWN0Lm5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyb3JzLnB1c2goJ25hbWUnKTtcbiAgfSBlbHNlIGlmIChwcm9kdWN0Lm5hbWUubGVuZ3RoIDwgMyB8fCBwcm9kdWN0Lm5hbWUubGVuZ3RoID4gMjAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ25hbWVfbGVuZ3RoJyk7XG4gIH0gZWxzZSBpZiAoLzxzY3JpcHR8amF2YXNjcmlwdDp8b25cXHcrPS9pLnRlc3QocHJvZHVjdC5uYW1lKSkge1xuICAgIGVycm9ycy5wdXNoKCduYW1lX3NlY3VyaXR5Jyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIHByZWNpb1xuICBpZiAodHlwZW9mIHByb2R1Y3QucHJpY2UgIT09ICdudW1iZXInIHx8IHByb2R1Y3QucHJpY2UgPD0gMCkge1xuICAgIGVycm9ycy5wdXNoKCdwcmljZScpO1xuICB9IGVsc2UgaWYgKHByb2R1Y3QucHJpY2UgPiA5OTk5OTk5KSB7XG4gICAgZXJyb3JzLnB1c2goJ3ByaWNlX3Rvb19oaWdoJyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIHN0b2NrXG4gIGlmICh0eXBlb2YgcHJvZHVjdC5zdG9jayAhPT0gJ251bWJlcicgfHwgcHJvZHVjdC5zdG9jayA8IDApIHtcbiAgICBlcnJvcnMucHVzaCgnc3RvY2snKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgY2F0ZWdvcsOtYVxuICBpZiAoIXByb2R1Y3QuY2F0ZWdvcnlfaWQgfHwgdHlwZW9mIHByb2R1Y3QuY2F0ZWdvcnlfaWQgIT09ICdudW1iZXInKSB7XG4gICAgZXJyb3JzLnB1c2goJ2NhdGVnb3J5X2lkJyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIG1hcmNhXG4gIGlmICghcHJvZHVjdC5icmFuZCB8fCB0eXBlb2YgcHJvZHVjdC5icmFuZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgnYnJhbmQnKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgaW3DoWdlbmVzXG4gIGlmICghQXJyYXkuaXNBcnJheShwcm9kdWN0LmltYWdlcykgfHwgcHJvZHVjdC5pbWFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ2ltYWdlcycpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBQ0nDk04gREUgREFUT1MgREUgT1JERU5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU9yZGVyRGF0YShvcmRlcjogYW55KTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICBpZiAoIW9yZGVyIHx8IHR5cGVvZiBvcmRlciAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcnM6IFsnaW52YWxpZF90eXBlJ11cbiAgICB9O1xuICB9XG5cbiAgLy8gVmFsaWRhciB1c2VyX2lkXG4gIGlmICghb3JkZXIudXNlcl9pZCB8fCB0eXBlb2Ygb3JkZXIudXNlcl9pZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgndXNlcl9pZCcpO1xuICB9XG5cbiAgLy8gVmFsaWRhciBpdGVtc1xuICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXIuaXRlbXMpIHx8IG9yZGVyLml0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIGVycm9ycy5wdXNoKCdpdGVtc19lbXB0eScpO1xuICB9IGVsc2Uge1xuICAgIC8vIFZhbGlkYXIgY2FkYSBpdGVtXG4gICAgb3JkZXIuaXRlbXMuZm9yRWFjaCgoaXRlbTogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoIWl0ZW0ucHJvZHVjdF9pZCB8fCB0eXBlb2YgaXRlbS5wcm9kdWN0X2lkICE9PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcnMucHVzaChgaXRlbV8ke2luZGV4fV9wcm9kdWN0X2lkYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWl0ZW0ucXVhbnRpdHkgfHwgdHlwZW9mIGl0ZW0ucXVhbnRpdHkgIT09ICdudW1iZXInIHx8IGl0ZW0ucXVhbnRpdHkgPD0gMCkge1xuICAgICAgICBlcnJvcnMucHVzaChgaXRlbV8ke2luZGV4fV9xdWFudGl0eWApO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpdGVtLnByaWNlICE9PSAnbnVtYmVyJyB8fCBpdGVtLnByaWNlIDw9IDApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGl0ZW1fJHtpbmRleH1fcHJpY2VgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgdG90YWxcbiAgaWYgKHR5cGVvZiBvcmRlci50b3RhbCAhPT0gJ251bWJlcicgfHwgb3JkZXIudG90YWwgPD0gMCkge1xuICAgIGVycm9ycy5wdXNoKCd0b3RhbCcpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3JkZXIuaXRlbXMpICYmIG9yZGVyLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAvLyBWZXJpZmljYXIgcXVlIGVsIHRvdGFsIGNvaW5jaWRhIGNvbiBsYSBzdW1hIGRlIGl0ZW1zXG4gICAgY29uc3QgY2FsY3VsYXRlZFRvdGFsID0gb3JkZXIuaXRlbXMucmVkdWNlKChzdW06IG51bWJlciwgaXRlbTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gc3VtICsgKGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnByaWNlKTtcbiAgICB9LCAwKTtcbiAgICBcbiAgICBpZiAoTWF0aC5hYnMoY2FsY3VsYXRlZFRvdGFsIC0gb3JkZXIudG90YWwpID4gMC4wMSkge1xuICAgICAgZXJyb3JzLnB1c2goJ3RvdGFsX21pc21hdGNoJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gVmFsaWRhciBkaXJlY2Npw7NuIGRlIGVudsOtb1xuICBjb25zdCBhZGRyZXNzVmFsaWRhdGlvbiA9IHZhbGlkYXRlQWRkcmVzcyhvcmRlci5zaGlwcGluZ19hZGRyZXNzKTtcbiAgaWYgKCFhZGRyZXNzVmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgZXJyb3JzLnB1c2goJ3NoaXBwaW5nX2FkZHJlc3MnKTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbcOpdG9kbyBkZSBwYWdvXG4gIGlmICghb3JkZXIucGF5bWVudF9tZXRob2QgfHwgdHlwZW9mIG9yZGVyLnBheW1lbnRfbWV0aG9kICE9PSAnc3RyaW5nJykge1xuICAgIGVycm9ycy5wdXNoKCdwYXltZW50X21ldGhvZCcpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBQ0nDk04gREUgREFUT1MgREUgUEFHT1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGF5bWVudERhdGEocGF5bWVudDogYW55KTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICBpZiAoIXBheW1lbnQgfHwgdHlwZW9mIHBheW1lbnQgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3JzOiBbJ2ludmFsaWRfdHlwZSddXG4gICAgfTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgbcOpdG9kb1xuICBpZiAoIXBheW1lbnQubWV0aG9kIHx8IHR5cGVvZiBwYXltZW50Lm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMucHVzaCgnbWV0aG9kJyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIG1vbnRvXG4gIGlmICh0eXBlb2YgcGF5bWVudC5hbW91bnQgIT09ICdudW1iZXInIHx8IHBheW1lbnQuYW1vdW50IDw9IDApIHtcbiAgICBlcnJvcnMucHVzaCgnYW1vdW50Jyk7XG4gIH1cblxuICAvLyBWYWxpZGFyIG1vbmVkYVxuICBpZiAoIXZhbGlkYXRlQ3VycmVuY3kocGF5bWVudC5jdXJyZW5jeSkpIHtcbiAgICBlcnJvcnMucHVzaCgnY3VycmVuY3knKTtcbiAgfVxuXG4gIC8vIFZhbGlkYWNpb25lcyBlc3BlY8OtZmljYXMgcGFyYSBNZXJjYWRvUGFnb1xuICBpZiAocGF5bWVudC5tZXRob2QgPT09ICdtZXJjYWRvcGFnbycpIHtcbiAgICBpZiAocGF5bWVudC5wYXllciAmJiAhdmFsaWRhdGVFbWFpbChwYXltZW50LnBheWVyLmVtYWlsKSkge1xuICAgICAgZXJyb3JzLnB1c2goJ3BheWVyX2VtYWlsJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVkFMSURBQ0nDk04gREUgRElSRUNDScOTTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQWRkcmVzcyhhZGRyZXNzOiBhbnkpOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmICghYWRkcmVzcyB8fCB0eXBlb2YgYWRkcmVzcyAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcnM6IFsnaW52YWxpZF90eXBlJ11cbiAgICB9O1xuICB9XG5cbiAgLy8gVmFsaWRhciBjYW1wb3MgcmVxdWVyaWRvc1xuICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnc3RyZWV0JywgJ2NpdHknLCAnc3RhdGUnLCAncG9zdGFsX2NvZGUnLCAnY291bnRyeSddO1xuICByZXF1aXJlZEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICBpZiAoIWFkZHJlc3NbZmllbGRdIHx8IHR5cGVvZiBhZGRyZXNzW2ZpZWxkXSAhPT0gJ3N0cmluZycgfHwgYWRkcmVzc1tmaWVsZF0udHJpbSgpID09PSAnJykge1xuICAgICAgZXJyb3JzLnB1c2goZmllbGQpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVmFsaWRhciBjw7NkaWdvIHBvc3RhbCBwb3IgcGHDrXNcbiAgaWYgKGFkZHJlc3MuY291bnRyeSAmJiBhZGRyZXNzLnBvc3RhbF9jb2RlKSB7XG4gICAgY29uc3QgcG9zdGFsQ29kZVZhbGlkID0gdmFsaWRhdGVQb3N0YWxDb2RlKGFkZHJlc3MucG9zdGFsX2NvZGUsIGFkZHJlc3MuY291bnRyeSk7XG4gICAgaWYgKCFwb3N0YWxDb2RlVmFsaWQpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdwb3N0YWxfY29kZV9mb3JtYXQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgZXJyb3JzXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWQUxJREFDScOTTiBERSBDw5NESUdPIFBPU1RBTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gdmFsaWRhdGVQb3N0YWxDb2RlKHBvc3RhbENvZGU6IHN0cmluZywgY291bnRyeTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IHBhdHRlcm5zOiB7IFtrZXk6IHN0cmluZ106IFJlZ0V4cCB9ID0ge1xuICAgICdBcmdlbnRpbmEnOiAvXlxcZHs0fSQvLFxuICAgICdVU0EnOiAvXlxcZHs1fSgtXFxkezR9KT8kLyxcbiAgICAnQnJhemlsJzogL15cXGR7NX0tP1xcZHszfSQvLFxuICAgICdDaGlsZSc6IC9eXFxkezd9JC9cbiAgfTtcblxuICBjb25zdCBwYXR0ZXJuID0gcGF0dGVybnNbY291bnRyeV07XG4gIHJldHVybiBwYXR0ZXJuID8gcGF0dGVybi50ZXN0KHBvc3RhbENvZGUpIDogdHJ1ZTsgLy8gU2kgbm8gaGF5IHBhdHLDs24sIGFjZXB0YXJcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZBTElEQUNJw5NOIERFIE1PTkVEQVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ3VycmVuY3koY3VycmVuY3k6IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoIWN1cnJlbmN5IHx8IHR5cGVvZiBjdXJyZW5jeSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdXBwb3J0ZWRDdXJyZW5jaWVzID0gWydBUlMnLCAnVVNEJywgJ0VVUicsICdCUkwnLCAnQ0xQJywgJ1VZVSddO1xuICByZXR1cm4gc3VwcG9ydGVkQ3VycmVuY2llcy5pbmNsdWRlcyhjdXJyZW5jeS50b1VwcGVyQ2FzZSgpKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZBTElEQUNJw5NOIERFIENBTlRJREFEXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVRdWFudGl0eShxdWFudGl0eTogYW55KTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgcXVhbnRpdHkgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRGViZSBzZXIgdW4gZW50ZXJvIHBvc2l0aXZvXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihxdWFudGl0eSkgfHwgcXVhbnRpdHkgPD0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEzDrW1pdGUgbcOheGltbyBkZSBjYW50aWRhZFxuICBpZiAocXVhbnRpdHkgPiA5OTkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZBTElEQUNJw5NOIERFIERFU0NVRU5UT1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRGlzY291bnQoZGlzY291bnQ6IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoIWRpc2NvdW50IHx8IHR5cGVvZiBkaXNjb3VudCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBWYWxpZGFyIHRpcG9cbiAgaWYgKCFbJ3BlcmNlbnRhZ2UnLCAnZml4ZWQnXS5pbmNsdWRlcyhkaXNjb3VudC50eXBlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFZhbGlkYXIgdmFsb3JcbiAgaWYgKHR5cGVvZiBkaXNjb3VudC52YWx1ZSAhPT0gJ251bWJlcicgfHwgZGlzY291bnQudmFsdWUgPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVmFsaWRhY2lvbmVzIGVzcGVjw61maWNhcyBwb3IgdGlwb1xuICBpZiAoZGlzY291bnQudHlwZSA9PT0gJ3BlcmNlbnRhZ2UnKSB7XG4gICAgLy8gUG9yY2VudGFqZSBubyBwdWVkZSBzZXIgbWF5b3IgYSAxMDBcbiAgICBpZiAoZGlzY291bnQudmFsdWUgPiAxMDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGlzY291bnQudHlwZSA9PT0gJ2ZpeGVkJykge1xuICAgIC8vIERlc2N1ZW50byBmaWpvIGRlYmUgdGVuZXIgbW9uZWRhXG4gICAgaWYgKCFkaXNjb3VudC5jdXJyZW5jeSB8fCAhdmFsaWRhdGVDdXJyZW5jeShkaXNjb3VudC5jdXJyZW5jeSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFVUSUxJREFERVMgQURJQ0lPTkFMRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2FuaXRpemEgdW5hIGNhZGVuYSBkZSB0ZXh0byByZW1vdmllbmRvIGNhcmFjdGVyZXMgcGVsaWdyb3Nvc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTdHJpbmcoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIGlucHV0XG4gICAgLnJlcGxhY2UoLzxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0Pi9naSwgJycpIC8vIFJlbW92ZXIgc2NyaXB0c1xuICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKSAvLyBSZW1vdmVyIEhUTUwgdGFnc1xuICAgIC5yZXBsYWNlKC9qYXZhc2NyaXB0Oi9naSwgJycpIC8vIFJlbW92ZXIgamF2YXNjcmlwdDpcbiAgICAucmVwbGFjZSgvb25cXHcrPS9naSwgJycpIC8vIFJlbW92ZXIgZXZlbnQgaGFuZGxlcnNcbiAgICAudHJpbSgpO1xufVxuXG4vKipcbiAqIFZhbGlkYSBxdWUgdW4gb2JqZXRvIHRlbmdhIHRvZGFzIGxhcyBwcm9waWVkYWRlcyByZXF1ZXJpZGFzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVpcmVkRmllbGRzKG9iajogYW55LCByZXF1aXJlZEZpZWxkczogc3RyaW5nW10pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3JzOiBbJ2ludmFsaWRfb2JqZWN0J11cbiAgICB9O1xuICB9XG5cbiAgcmVxdWlyZWRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgaWYgKCEoZmllbGQgaW4gb2JqKSB8fCBvYmpbZmllbGRdID09PSBudWxsIHx8IG9ialtmaWVsZF0gPT09IHVuZGVmaW5lZCB8fCBvYmpbZmllbGRdID09PSAnJykge1xuICAgICAgZXJyb3JzLnB1c2goZmllbGQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9O1xufVxuXG4vKipcbiAqIFZhbGlkYSB1biByYW5nbyBudW3DqXJpY29cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyUmFuZ2UodmFsdWU6IGFueSwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlID49IG1pbiAmJiB2YWx1ZSA8PSBtYXg7XG59XG5cbi8qKlxuICogVmFsaWRhIHVuYSBmZWNoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVEYXRlKGRhdGU6IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoIWRhdGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwYXJzZWREYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpO1xufVxuXG4vKipcbiAqIFZhbGlkYSB1bmEgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVSTCh1cmw6IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3IFVSTCh1cmwpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0iXSwibmFtZXMiOlsic2FuaXRpemVTdHJpbmciLCJ2YWxpZGF0ZUFkZHJlc3MiLCJ2YWxpZGF0ZUN1cnJlbmN5IiwidmFsaWRhdGVEYXRlIiwidmFsaWRhdGVEaXNjb3VudCIsInZhbGlkYXRlRW1haWwiLCJ2YWxpZGF0ZU51bWJlclJhbmdlIiwidmFsaWRhdGVPcmRlckRhdGEiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwidmFsaWRhdGVQYXltZW50RGF0YSIsInZhbGlkYXRlUGhvbmUiLCJ2YWxpZGF0ZVByb2R1Y3REYXRhIiwidmFsaWRhdGVRdWFudGl0eSIsInZhbGlkYXRlUmVxdWlyZWRGaWVsZHMiLCJ2YWxpZGF0ZVVSTCIsImVtYWlsIiwiZW1haWxSZWdleCIsInRlc3QiLCJsb2NhbFBhcnQiLCJkb21haW4iLCJzcGxpdCIsImxlbmd0aCIsImluY2x1ZGVzIiwicGFzc3dvcmQiLCJlcnJvcnMiLCJtZXNzYWdlIiwiaXNWYWxpZCIsInB1c2giLCJlcnJvck1lc3NhZ2VzIiwidXBwZXJjYXNlIiwibG93ZXJjYXNlIiwibnVtYmVyIiwic3BlY2lhbCIsIm1hcCIsImUiLCJqb2luIiwicGhvbmUiLCJjb3VudHJ5IiwiY2xlYW5QaG9uZSIsInJlcGxhY2UiLCJhcmdQaG9uZVJlZ2V4IiwiaW50UGhvbmVSZWdleCIsInByb2R1Y3QiLCJuYW1lIiwicHJpY2UiLCJzdG9jayIsImNhdGVnb3J5X2lkIiwiYnJhbmQiLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZXMiLCJvcmRlciIsInVzZXJfaWQiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJwcm9kdWN0X2lkIiwicXVhbnRpdHkiLCJ0b3RhbCIsImNhbGN1bGF0ZWRUb3RhbCIsInJlZHVjZSIsInN1bSIsIk1hdGgiLCJhYnMiLCJhZGRyZXNzVmFsaWRhdGlvbiIsInNoaXBwaW5nX2FkZHJlc3MiLCJwYXltZW50X21ldGhvZCIsInBheW1lbnQiLCJtZXRob2QiLCJhbW91bnQiLCJjdXJyZW5jeSIsInBheWVyIiwiYWRkcmVzcyIsInJlcXVpcmVkRmllbGRzIiwiZmllbGQiLCJ0cmltIiwicG9zdGFsX2NvZGUiLCJwb3N0YWxDb2RlVmFsaWQiLCJ2YWxpZGF0ZVBvc3RhbENvZGUiLCJwb3N0YWxDb2RlIiwicGF0dGVybnMiLCJwYXR0ZXJuIiwic3VwcG9ydGVkQ3VycmVuY2llcyIsInRvVXBwZXJDYXNlIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZGlzY291bnQiLCJ0eXBlIiwidmFsdWUiLCJpbnB1dCIsIm9iaiIsInVuZGVmaW5lZCIsIm1pbiIsIm1heCIsImRhdGUiLCJwYXJzZWREYXRlIiwiRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsInVybCIsIlVSTCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDJCQUEyQjtBQUMzQixvREFBb0Q7QUFDcEQsc0NBQXNDOzs7Ozs7Ozs7Ozs7UUErZHRCQTtlQUFBQTs7UUEvSEFDO2VBQUFBOztRQW9EQUM7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