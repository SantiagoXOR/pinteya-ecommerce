c423f1daa8359605f787009bad66ba32
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _QuickViewModalContext = require("../../app/context/QuickViewModalContext");
const _quickViewslice = require("../../redux/features/quickView-slice");
const _cartslice = require("../../redux/features/cart-slice");
const _wishlistslice = require("../../redux/features/wishlist-slice");
const _productdetails = require("../../redux/features/product-details");
const _reactredux = require("react-redux");
const _productcardcommercial = require("../ui/product-card-commercial");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const ProductItem = ({ item })=>{
    const { openModal } = (0, _QuickViewModalContext.useModalContext)();
    const dispatch = (0, _reactredux.useDispatch)();
    // update the QuickView state
    const handleQuickViewUpdate = ()=>{
        dispatch((0, _quickViewslice.updateQuickView)({
            ...item
        }));
    };
    // add to cart
    const handleAddToCart = ()=>{
        dispatch((0, _cartslice.addItemToCart)({
            ...item,
            quantity: 1
        }));
    };
    const handleItemToWishList = ()=>{
        dispatch((0, _wishlistslice.addItemToWishlist)({
            ...item,
            status: "available",
            quantity: 1
        }));
    };
    const handleProductDetails = ()=>{
        dispatch((0, _productdetails.updateproductDetails)({
            ...item
        }));
    };
    // Calcular descuento si existe
    const discount = item.discountedPrice && item.discountedPrice < item.price ? Math.round((item.price - item.discountedPrice) / item.price * 100) : undefined;
    // Determinar badge basado en precio y características
    const badge = item.discountedPrice >= 15000 ? "Envío gratis" : discount ? "Oferta especial" : "Nuevo";
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_productcardcommercial.CommercialProductCard, {
        image: item.imgs?.previews?.[0] || '/images/products/placeholder.svg',
        title: item.title,
        brand: item.brand,
        price: item.discountedPrice,
        originalPrice: item.discountedPrice < item.price ? item.price : undefined,
        discount: discount ? `${discount}%` : undefined,
        isNew: badge === "Nuevo",
        stock: 50,
        productId: item.id,
        cta: "Agregar al carrito",
        onAddToCart: handleAddToCart,
        showCartAnimation: true,
        // Información de cuotas automática
        installments: item.discountedPrice >= 5000 ? {
            quantity: 3,
            amount: Math.round(item.discountedPrice / 3),
            interestFree: true
        } : undefined,
        // Envío gratis automático para productos >= $15000
        freeShipping: item.discountedPrice >= 15000,
        shippingText: badge === "Envío gratis" ? "Envío gratis" : undefined
    });
};
const _default = ProductItem;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcQ29tbW9uXFxQcm9kdWN0SXRlbS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCJAL3R5cGVzL3Byb2R1Y3RcIjtcclxuaW1wb3J0IHsgdXNlTW9kYWxDb250ZXh0IH0gZnJvbSBcIkAvYXBwL2NvbnRleHQvUXVpY2tWaWV3TW9kYWxDb250ZXh0XCI7XHJcbmltcG9ydCB7IHVwZGF0ZVF1aWNrVmlldyB9IGZyb20gXCJAL3JlZHV4L2ZlYXR1cmVzL3F1aWNrVmlldy1zbGljZVwiO1xyXG5pbXBvcnQgeyBhZGRJdGVtVG9DYXJ0IH0gZnJvbSBcIkAvcmVkdXgvZmVhdHVyZXMvY2FydC1zbGljZVwiO1xyXG5pbXBvcnQgeyBhZGRJdGVtVG9XaXNobGlzdCB9IGZyb20gXCJAL3JlZHV4L2ZlYXR1cmVzL3dpc2hsaXN0LXNsaWNlXCI7XHJcbmltcG9ydCB7IHVwZGF0ZXByb2R1Y3REZXRhaWxzIH0gZnJvbSBcIkAvcmVkdXgvZmVhdHVyZXMvcHJvZHVjdC1kZXRhaWxzXCI7XHJcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCB7IEFwcERpc3BhdGNoIH0gZnJvbSBcIkAvcmVkdXgvc3RvcmVcIjtcclxuaW1wb3J0IHsgQ29tbWVyY2lhbFByb2R1Y3RDYXJkIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wcm9kdWN0LWNhcmQtY29tbWVyY2lhbFwiO1xyXG5cclxuY29uc3QgUHJvZHVjdEl0ZW0gPSAoeyBpdGVtIH06IHsgaXRlbTogUHJvZHVjdCB9KSA9PiB7XHJcbiAgY29uc3QgeyBvcGVuTW9kYWwgfSA9IHVzZU1vZGFsQ29udGV4dCgpO1xyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2g8QXBwRGlzcGF0Y2g+KCk7XHJcblxyXG4gIC8vIHVwZGF0ZSB0aGUgUXVpY2tWaWV3IHN0YXRlXHJcbiAgY29uc3QgaGFuZGxlUXVpY2tWaWV3VXBkYXRlID0gKCkgPT4ge1xyXG4gICAgZGlzcGF0Y2godXBkYXRlUXVpY2tWaWV3KHsgLi4uaXRlbSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gYWRkIHRvIGNhcnRcclxuICBjb25zdCBoYW5kbGVBZGRUb0NhcnQgPSAoKSA9PiB7XHJcbiAgICBkaXNwYXRjaChcclxuICAgICAgYWRkSXRlbVRvQ2FydCh7XHJcbiAgICAgICAgLi4uaXRlbSxcclxuICAgICAgICBxdWFudGl0eTogMSxcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSXRlbVRvV2lzaExpc3QgPSAoKSA9PiB7XHJcbiAgICBkaXNwYXRjaChcclxuICAgICAgYWRkSXRlbVRvV2lzaGxpc3Qoe1xyXG4gICAgICAgIC4uLml0ZW0sXHJcbiAgICAgICAgc3RhdHVzOiBcImF2YWlsYWJsZVwiLFxyXG4gICAgICAgIHF1YW50aXR5OiAxLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVQcm9kdWN0RGV0YWlscyA9ICgpID0+IHtcclxuICAgIGRpc3BhdGNoKHVwZGF0ZXByb2R1Y3REZXRhaWxzKHsgLi4uaXRlbSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQ2FsY3VsYXIgZGVzY3VlbnRvIHNpIGV4aXN0ZVxyXG4gIGNvbnN0IGRpc2NvdW50ID0gaXRlbS5kaXNjb3VudGVkUHJpY2UgJiYgaXRlbS5kaXNjb3VudGVkUHJpY2UgPCBpdGVtLnByaWNlXHJcbiAgICA/IE1hdGgucm91bmQoKChpdGVtLnByaWNlIC0gaXRlbS5kaXNjb3VudGVkUHJpY2UpIC8gaXRlbS5wcmljZSkgKiAxMDApXHJcbiAgICA6IHVuZGVmaW5lZDtcclxuXHJcbiAgLy8gRGV0ZXJtaW5hciBiYWRnZSBiYXNhZG8gZW4gcHJlY2lvIHkgY2FyYWN0ZXLDrXN0aWNhc1xyXG4gIGNvbnN0IGJhZGdlID0gaXRlbS5kaXNjb3VudGVkUHJpY2UgPj0gMTUwMDBcclxuICAgID8gXCJFbnbDrW8gZ3JhdGlzXCJcclxuICAgIDogZGlzY291bnRcclxuICAgID8gXCJPZmVydGEgZXNwZWNpYWxcIlxyXG4gICAgOiBcIk51ZXZvXCI7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q29tbWVyY2lhbFByb2R1Y3RDYXJkXHJcbiAgICAgIGltYWdlPXtpdGVtLmltZ3M/LnByZXZpZXdzPy5bMF0gfHwgJy9pbWFnZXMvcHJvZHVjdHMvcGxhY2Vob2xkZXIuc3ZnJ31cclxuICAgICAgdGl0bGU9e2l0ZW0udGl0bGV9XHJcbiAgICAgIGJyYW5kPXtpdGVtLmJyYW5kfVxyXG4gICAgICBwcmljZT17aXRlbS5kaXNjb3VudGVkUHJpY2V9XHJcbiAgICAgIG9yaWdpbmFsUHJpY2U9e2l0ZW0uZGlzY291bnRlZFByaWNlIDwgaXRlbS5wcmljZSA/IGl0ZW0ucHJpY2UgOiB1bmRlZmluZWR9XHJcbiAgICAgIGRpc2NvdW50PXtkaXNjb3VudCA/IGAke2Rpc2NvdW50fSVgIDogdW5kZWZpbmVkfVxyXG4gICAgICBpc05ldz17YmFkZ2UgPT09IFwiTnVldm9cIn1cclxuICAgICAgc3RvY2s9ezUwfSAvLyBTdG9jayBwb3IgZGVmZWN0byBwYXJhIHByb2R1Y3RvcyBsZWdhY3lcclxuICAgICAgcHJvZHVjdElkPXtpdGVtLmlkfVxyXG4gICAgICBjdGE9XCJBZ3JlZ2FyIGFsIGNhcnJpdG9cIlxyXG4gICAgICBvbkFkZFRvQ2FydD17aGFuZGxlQWRkVG9DYXJ0fVxyXG4gICAgICBzaG93Q2FydEFuaW1hdGlvbj17dHJ1ZX1cclxuICAgICAgLy8gSW5mb3JtYWNpw7NuIGRlIGN1b3RhcyBhdXRvbcOhdGljYVxyXG4gICAgICBpbnN0YWxsbWVudHM9e2l0ZW0uZGlzY291bnRlZFByaWNlID49IDUwMDAgPyB7XHJcbiAgICAgICAgcXVhbnRpdHk6IDMsXHJcbiAgICAgICAgYW1vdW50OiBNYXRoLnJvdW5kKGl0ZW0uZGlzY291bnRlZFByaWNlIC8gMyksXHJcbiAgICAgICAgaW50ZXJlc3RGcmVlOiB0cnVlXHJcbiAgICAgIH0gOiB1bmRlZmluZWR9XHJcbiAgICAgIC8vIEVudsOtbyBncmF0aXMgYXV0b23DoXRpY28gcGFyYSBwcm9kdWN0b3MgPj0gJDE1MDAwXHJcbiAgICAgIGZyZWVTaGlwcGluZz17aXRlbS5kaXNjb3VudGVkUHJpY2UgPj0gMTUwMDB9XHJcbiAgICAgIHNoaXBwaW5nVGV4dD17YmFkZ2UgPT09IFwiRW52w61vIGdyYXRpc1wiID8gXCJFbnbDrW8gZ3JhdGlzXCIgOiB1bmRlZmluZWR9XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0SXRlbTtcclxuIl0sIm5hbWVzIjpbIlByb2R1Y3RJdGVtIiwiaXRlbSIsIm9wZW5Nb2RhbCIsInVzZU1vZGFsQ29udGV4dCIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJoYW5kbGVRdWlja1ZpZXdVcGRhdGUiLCJ1cGRhdGVRdWlja1ZpZXciLCJoYW5kbGVBZGRUb0NhcnQiLCJhZGRJdGVtVG9DYXJ0IiwicXVhbnRpdHkiLCJoYW5kbGVJdGVtVG9XaXNoTGlzdCIsImFkZEl0ZW1Ub1dpc2hsaXN0Iiwic3RhdHVzIiwiaGFuZGxlUHJvZHVjdERldGFpbHMiLCJ1cGRhdGVwcm9kdWN0RGV0YWlscyIsImRpc2NvdW50IiwiZGlzY291bnRlZFByaWNlIiwicHJpY2UiLCJNYXRoIiwicm91bmQiLCJ1bmRlZmluZWQiLCJiYWRnZSIsIkNvbW1lcmNpYWxQcm9kdWN0Q2FyZCIsImltYWdlIiwiaW1ncyIsInByZXZpZXdzIiwidGl0bGUiLCJicmFuZCIsIm9yaWdpbmFsUHJpY2UiLCJpc05ldyIsInN0b2NrIiwicHJvZHVjdElkIiwiaWQiLCJjdGEiLCJvbkFkZFRvQ2FydCIsInNob3dDYXJ0QW5pbWF0aW9uIiwiaW5zdGFsbG1lbnRzIiwiYW1vdW50IiwiaW50ZXJlc3RGcmVlIiwiZnJlZVNoaXBwaW5nIiwic2hpcHBpbmdUZXh0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBb0ZBOzs7ZUFBQTs7Ozs4REFuRmtCO3VDQUVjO2dDQUNBOzJCQUNGOytCQUNJO2dDQUNHOzRCQUNUO3VDQUVVOzs7Ozs7QUFFdEMsTUFBTUEsY0FBYyxDQUFDLEVBQUVDLElBQUksRUFBcUI7SUFDOUMsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR0MsSUFBQUEsc0NBQWU7SUFDckMsTUFBTUMsV0FBV0MsSUFBQUEsdUJBQVc7SUFFNUIsNkJBQTZCO0lBQzdCLE1BQU1DLHdCQUF3QjtRQUM1QkYsU0FBU0csSUFBQUEsK0JBQWUsRUFBQztZQUFFLEdBQUdOLElBQUk7UUFBQztJQUNyQztJQUVBLGNBQWM7SUFDZCxNQUFNTyxrQkFBa0I7UUFDdEJKLFNBQ0VLLElBQUFBLHdCQUFhLEVBQUM7WUFDWixHQUFHUixJQUFJO1lBQ1BTLFVBQVU7UUFDWjtJQUVKO0lBRUEsTUFBTUMsdUJBQXVCO1FBQzNCUCxTQUNFUSxJQUFBQSxnQ0FBaUIsRUFBQztZQUNoQixHQUFHWCxJQUFJO1lBQ1BZLFFBQVE7WUFDUkgsVUFBVTtRQUNaO0lBRUo7SUFFQSxNQUFNSSx1QkFBdUI7UUFDM0JWLFNBQVNXLElBQUFBLG9DQUFvQixFQUFDO1lBQUUsR0FBR2QsSUFBSTtRQUFDO0lBQzFDO0lBRUEsK0JBQStCO0lBQy9CLE1BQU1lLFdBQVdmLEtBQUtnQixlQUFlLElBQUloQixLQUFLZ0IsZUFBZSxHQUFHaEIsS0FBS2lCLEtBQUssR0FDdEVDLEtBQUtDLEtBQUssQ0FBQyxBQUFFbkIsQ0FBQUEsS0FBS2lCLEtBQUssR0FBR2pCLEtBQUtnQixlQUFlLEFBQUQsSUFBS2hCLEtBQUtpQixLQUFLLEdBQUksT0FDaEVHO0lBRUosc0RBQXNEO0lBQ3RELE1BQU1DLFFBQVFyQixLQUFLZ0IsZUFBZSxJQUFJLFFBQ2xDLGlCQUNBRCxXQUNBLG9CQUNBO0lBRUoscUJBQ0UscUJBQUNPLDRDQUFxQjtRQUNwQkMsT0FBT3ZCLEtBQUt3QixJQUFJLEVBQUVDLFVBQVUsQ0FBQyxFQUFFLElBQUk7UUFDbkNDLE9BQU8xQixLQUFLMEIsS0FBSztRQUNqQkMsT0FBTzNCLEtBQUsyQixLQUFLO1FBQ2pCVixPQUFPakIsS0FBS2dCLGVBQWU7UUFDM0JZLGVBQWU1QixLQUFLZ0IsZUFBZSxHQUFHaEIsS0FBS2lCLEtBQUssR0FBR2pCLEtBQUtpQixLQUFLLEdBQUdHO1FBQ2hFTCxVQUFVQSxXQUFXLEdBQUdBLFNBQVMsQ0FBQyxDQUFDLEdBQUdLO1FBQ3RDUyxPQUFPUixVQUFVO1FBQ2pCUyxPQUFPO1FBQ1BDLFdBQVcvQixLQUFLZ0MsRUFBRTtRQUNsQkMsS0FBSTtRQUNKQyxhQUFhM0I7UUFDYjRCLG1CQUFtQjtRQUNuQixtQ0FBbUM7UUFDbkNDLGNBQWNwQyxLQUFLZ0IsZUFBZSxJQUFJLE9BQU87WUFDM0NQLFVBQVU7WUFDVjRCLFFBQVFuQixLQUFLQyxLQUFLLENBQUNuQixLQUFLZ0IsZUFBZSxHQUFHO1lBQzFDc0IsY0FBYztRQUNoQixJQUFJbEI7UUFDSixtREFBbUQ7UUFDbkRtQixjQUFjdkMsS0FBS2dCLGVBQWUsSUFBSTtRQUN0Q3dCLGNBQWNuQixVQUFVLGlCQUFpQixpQkFBaUJEOztBQUdoRTtNQUVBLFdBQWVyQiJ9