fd7e6efe88c9bd246c34f3298805aeae
"use strict";
// Mock del hook useHeroCarousel
jest.mock('@/hooks/useHeroCarousel', ()=>({
        useHeroCarousel: jest.fn(()=>({
                currentIndex: 0,
                isPlaying: true,
                isPaused: false,
                goToSlide: jest.fn(),
                goToNext: jest.fn(),
                goToPrevious: jest.fn(),
                pause: jest.fn(),
                resume: jest.fn(),
                setHover: jest.fn()
            }))
    }));
// Mock de Next.js Image
jest.mock('next/image', ()=>{
    return function MockImage({ src, alt, width, height, className }) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
            src: src,
            alt: alt,
            width: width,
            height: height,
            className: className
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _HeroCarouselInteractive = /*#__PURE__*/ _interop_require_default(require("../../components/Home/Hero/HeroCarouselInteractive"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('HeroCarouselInteractive', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should render without crashing', ()=>{
        expect(()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        }).not.toThrow();
    });
    it('should render all carousel images', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        // Verificar que se renderizan las 3 imágenes
        const images = _react1.screen.getAllByRole('img');
        expect(images).toHaveLength(3);
        // Verificar que las imágenes tienen los alt texts correctos
        expect(_react1.screen.getByAltText(/Pintá rápido, fácil y cotiza al instante - Promoción principal/i)).toBeInTheDocument();
        expect(_react1.screen.getByAltText(/Ofertas especiales en pintura y ferretería/i)).toBeInTheDocument();
        expect(_react1.screen.getByAltText(/Productos de calidad para tu hogar/i)).toBeInTheDocument();
    });
    it('should render navigation controls', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        // Verificar botones de navegación
        const prevButton = _react1.screen.getByLabelText(/Imagen anterior/i);
        const nextButton = _react1.screen.getByLabelText(/Imagen siguiente/i);
        expect(prevButton).toBeInTheDocument();
        expect(nextButton).toBeInTheDocument();
    });
    it('should render dot indicators', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        // Verificar que se renderizan 3 indicadores (dots)
        const dots = _react1.screen.getAllByRole('button').filter((button)=>button.getAttribute('aria-label')?.includes('Ir a imagen'));
        expect(dots).toHaveLength(3);
    });
    it('should call navigation functions when buttons are clicked', ()=>{
        const mockGoToNext = jest.fn();
        const mockGoToPrevious = jest.fn();
        const { useHeroCarousel } = require('@/hooks/useHeroCarousel');
        useHeroCarousel.mockReturnValue({
            currentIndex: 0,
            isPlaying: true,
            isPaused: false,
            goToSlide: jest.fn(),
            goToNext: mockGoToNext,
            goToPrevious: mockGoToPrevious,
            pause: jest.fn(),
            resume: jest.fn(),
            setHover: jest.fn()
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        const prevButton = _react1.screen.getByLabelText(/Imagen anterior/i);
        const nextButton = _react1.screen.getByLabelText(/Imagen siguiente/i);
        _react1.fireEvent.click(nextButton);
        expect(mockGoToNext).toHaveBeenCalledTimes(1);
        _react1.fireEvent.click(prevButton);
        expect(mockGoToPrevious).toHaveBeenCalledTimes(1);
    });
    it('should call goToSlide when dot indicators are clicked', ()=>{
        const mockGoToSlide = jest.fn();
        const { useHeroCarousel } = require('@/hooks/useHeroCarousel');
        useHeroCarousel.mockReturnValue({
            currentIndex: 0,
            isPlaying: true,
            isPaused: false,
            goToSlide: mockGoToSlide,
            goToNext: jest.fn(),
            goToPrevious: jest.fn(),
            pause: jest.fn(),
            resume: jest.fn(),
            setHover: jest.fn()
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        const secondDot = _react1.screen.getByLabelText(/Ir a imagen 2/i);
        _react1.fireEvent.click(secondDot);
        expect(mockGoToSlide).toHaveBeenCalledWith(1);
    });
    it('should handle hover events', ()=>{
        const mockSetHover = jest.fn();
        const { useHeroCarousel } = require('@/hooks/useHeroCarousel');
        useHeroCarousel.mockReturnValue({
            currentIndex: 0,
            isPlaying: true,
            isPaused: false,
            goToSlide: jest.fn(),
            goToNext: jest.fn(),
            goToPrevious: jest.fn(),
            pause: jest.fn(),
            resume: jest.fn(),
            setHover: mockSetHover
        });
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        const carousel = container.querySelector('.hero-carousel-container');
        if (carousel) {
            _react1.fireEvent.mouseEnter(carousel);
            expect(mockSetHover).toHaveBeenCalledWith(true);
            _react1.fireEvent.mouseLeave(carousel);
            expect(mockSetHover).toHaveBeenCalledWith(false);
        }
    });
    it('should apply correct CSS classes', ()=>{
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {
            className: "custom-class"
        }));
        const carousel = container.querySelector('.hero-carousel-container');
        expect(carousel).toHaveClass('hero-carousel-container');
        expect(carousel).toHaveClass('custom-class');
    });
    it('should show progress indicator', ()=>{
        const { container } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        // Verificar que existe el indicador de progreso
        const progressContainer = container.querySelector('.hero-carousel-progress');
        expect(progressContainer).toBeInTheDocument();
    });
    it('should have proper accessibility attributes', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        // Verificar aria-labels en botones
        expect(_react1.screen.getByLabelText(/Imagen anterior/i)).toBeInTheDocument();
        expect(_react1.screen.getByLabelText(/Imagen siguiente/i)).toBeInTheDocument();
        // Verificar aria-current en dots
        const firstDot = _react1.screen.getByLabelText(/Ir a imagen 1/i);
        expect(firstDot).toHaveAttribute('aria-current', 'true');
    });
    it('should disable navigation buttons when there is only one image', ()=>{
        // Mock para simular solo una imagen
        jest.doMock('@/components/Home/Hero/HeroCarouselInteractive', ()=>{
            const originalModule = jest.requireActual('@/components/Home/Hero/HeroCarouselInteractive');
            return {
                ...originalModule,
                HERO_IMAGES: [
                    {
                        src: '/images/hero/hero-01.png',
                        alt: 'Single image',
                        priority: true
                    }
                ]
            };
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_HeroCarouselInteractive.default, {}));
        const prevButton = _react1.screen.getByLabelText(/Imagen anterior/i);
        const nextButton = _react1.screen.getByLabelText(/Imagen siguiente/i);
        // Los botones deberían estar deshabilitados cuando hay solo una imagen
        // Nota: Esta funcionalidad se implementa en el componente real
        expect(prevButton).toBeInTheDocument();
        expect(nextButton).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFxIZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcbmltcG9ydCBIZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZSBmcm9tICdAL2NvbXBvbmVudHMvSG9tZS9IZXJvL0hlcm9DYXJvdXNlbEludGVyYWN0aXZlJztcblxuLy8gTW9jayBkZWwgaG9vayB1c2VIZXJvQ2Fyb3VzZWxcbmplc3QubW9jaygnQC9ob29rcy91c2VIZXJvQ2Fyb3VzZWwnLCAoKSA9PiAoe1xuICB1c2VIZXJvQ2Fyb3VzZWw6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBjdXJyZW50SW5kZXg6IDAsXG4gICAgaXNQbGF5aW5nOiB0cnVlLFxuICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICBnb1RvU2xpZGU6IGplc3QuZm4oKSxcbiAgICBnb1RvTmV4dDogamVzdC5mbigpLFxuICAgIGdvVG9QcmV2aW91czogamVzdC5mbigpLFxuICAgIHBhdXNlOiBqZXN0LmZuKCksXG4gICAgcmVzdW1lOiBqZXN0LmZuKCksXG4gICAgc2V0SG92ZXI6IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuXG4vLyBNb2NrIGRlIE5leHQuanMgSW1hZ2Vcbmplc3QubW9jaygnbmV4dC9pbWFnZScsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tJbWFnZSh7IHNyYywgYWx0LCB3aWR0aCwgaGVpZ2h0LCBjbGFzc05hbWUgfTogYW55KSB7XG4gICAgcmV0dXJuIDxpbWcgc3JjPXtzcmN9IGFsdD17YWx0fSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gLz47XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ0hlcm9DYXJvdXNlbEludGVyYWN0aXZlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgd2l0aG91dCBjcmFzaGluZycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcmVuZGVyKDxIZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZSAvPik7XG4gICAgfSkubm90LnRvVGhyb3coKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIGNhcm91c2VsIGltYWdlcycsICgpID0+IHtcbiAgICByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcbiAgICBcbiAgICAvLyBWZXJpZmljYXIgcXVlIHNlIHJlbmRlcml6YW4gbGFzIDMgaW3DoWdlbmVzXG4gICAgY29uc3QgaW1hZ2VzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnaW1nJyk7XG4gICAgZXhwZWN0KGltYWdlcykudG9IYXZlTGVuZ3RoKDMpO1xuICAgIFxuICAgIC8vIFZlcmlmaWNhciBxdWUgbGFzIGltw6FnZW5lcyB0aWVuZW4gbG9zIGFsdCB0ZXh0cyBjb3JyZWN0b3NcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5QWx0VGV4dCgvUGludMOhIHLDoXBpZG8sIGbDoWNpbCB5IGNvdGl6YSBhbCBpbnN0YW50ZSAtIFByb21vY2nDs24gcHJpbmNpcGFsL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlBbHRUZXh0KC9PZmVydGFzIGVzcGVjaWFsZXMgZW4gcGludHVyYSB5IGZlcnJldGVyw61hL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlBbHRUZXh0KC9Qcm9kdWN0b3MgZGUgY2FsaWRhZCBwYXJhIHR1IGhvZ2FyL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBuYXZpZ2F0aW9uIGNvbnRyb2xzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8SGVyb0Nhcm91c2VsSW50ZXJhY3RpdmUgLz4pO1xuICAgIFxuICAgIC8vIFZlcmlmaWNhciBib3RvbmVzIGRlIG5hdmVnYWNpw7NuXG4gICAgY29uc3QgcHJldkJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvSW1hZ2VuIGFudGVyaW9yL2kpO1xuICAgIGNvbnN0IG5leHRCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0ltYWdlbiBzaWd1aWVudGUvaSk7XG4gICAgXG4gICAgZXhwZWN0KHByZXZCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KG5leHRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGRvdCBpbmRpY2F0b3JzJywgKCkgPT4ge1xuICAgIHJlbmRlcig8SGVyb0Nhcm91c2VsSW50ZXJhY3RpdmUgLz4pO1xuICAgIFxuICAgIC8vIFZlcmlmaWNhciBxdWUgc2UgcmVuZGVyaXphbiAzIGluZGljYWRvcmVzIChkb3RzKVxuICAgIGNvbnN0IGRvdHMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKS5maWx0ZXIoYnV0dG9uID0+IFxuICAgICAgYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpPy5pbmNsdWRlcygnSXIgYSBpbWFnZW4nKVxuICAgICk7XG4gICAgZXhwZWN0KGRvdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxsIG5hdmlnYXRpb24gZnVuY3Rpb25zIHdoZW4gYnV0dG9ucyBhcmUgY2xpY2tlZCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrR29Ub05leHQgPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgbW9ja0dvVG9QcmV2aW91cyA9IGplc3QuZm4oKTtcbiAgICBcbiAgICBjb25zdCB7IHVzZUhlcm9DYXJvdXNlbCB9ID0gcmVxdWlyZSgnQC9ob29rcy91c2VIZXJvQ2Fyb3VzZWwnKTtcbiAgICB1c2VIZXJvQ2Fyb3VzZWwubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICAgIGlzUGxheWluZzogdHJ1ZSxcbiAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgIGdvVG9TbGlkZTogamVzdC5mbigpLFxuICAgICAgZ29Ub05leHQ6IG1vY2tHb1RvTmV4dCxcbiAgICAgIGdvVG9QcmV2aW91czogbW9ja0dvVG9QcmV2aW91cyxcbiAgICAgIHBhdXNlOiBqZXN0LmZuKCksXG4gICAgICByZXN1bWU6IGplc3QuZm4oKSxcbiAgICAgIHNldEhvdmVyOiBqZXN0LmZuKCksXG4gICAgfSk7XG5cbiAgICByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcbiAgICBcbiAgICBjb25zdCBwcmV2QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9JbWFnZW4gYW50ZXJpb3IvaSk7XG4gICAgY29uc3QgbmV4dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvSW1hZ2VuIHNpZ3VpZW50ZS9pKTtcbiAgICBcbiAgICBmaXJlRXZlbnQuY2xpY2sobmV4dEJ1dHRvbik7XG4gICAgZXhwZWN0KG1vY2tHb1RvTmV4dCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIFxuICAgIGZpcmVFdmVudC5jbGljayhwcmV2QnV0dG9uKTtcbiAgICBleHBlY3QobW9ja0dvVG9QcmV2aW91cykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgZ29Ub1NsaWRlIHdoZW4gZG90IGluZGljYXRvcnMgYXJlIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja0dvVG9TbGlkZSA9IGplc3QuZm4oKTtcbiAgICBcbiAgICBjb25zdCB7IHVzZUhlcm9DYXJvdXNlbCB9ID0gcmVxdWlyZSgnQC9ob29rcy91c2VIZXJvQ2Fyb3VzZWwnKTtcbiAgICB1c2VIZXJvQ2Fyb3VzZWwubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGN1cnJlbnRJbmRleDogMCxcbiAgICAgIGlzUGxheWluZzogdHJ1ZSxcbiAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgIGdvVG9TbGlkZTogbW9ja0dvVG9TbGlkZSxcbiAgICAgIGdvVG9OZXh0OiBqZXN0LmZuKCksXG4gICAgICBnb1RvUHJldmlvdXM6IGplc3QuZm4oKSxcbiAgICAgIHBhdXNlOiBqZXN0LmZuKCksXG4gICAgICByZXN1bWU6IGplc3QuZm4oKSxcbiAgICAgIHNldEhvdmVyOiBqZXN0LmZuKCksXG4gICAgfSk7XG5cbiAgICByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcbiAgICBcbiAgICBjb25zdCBzZWNvbmREb3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0lyIGEgaW1hZ2VuIDIvaSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHNlY29uZERvdCk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tHb1RvU2xpZGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBob3ZlciBldmVudHMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1NldEhvdmVyID0gamVzdC5mbigpO1xuXG4gICAgY29uc3QgeyB1c2VIZXJvQ2Fyb3VzZWwgfSA9IHJlcXVpcmUoJ0AvaG9va3MvdXNlSGVyb0Nhcm91c2VsJyk7XG4gICAgdXNlSGVyb0Nhcm91c2VsLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBjdXJyZW50SW5kZXg6IDAsXG4gICAgICBpc1BsYXlpbmc6IHRydWUsXG4gICAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgICBnb1RvU2xpZGU6IGplc3QuZm4oKSxcbiAgICAgIGdvVG9OZXh0OiBqZXN0LmZuKCksXG4gICAgICBnb1RvUHJldmlvdXM6IGplc3QuZm4oKSxcbiAgICAgIHBhdXNlOiBqZXN0LmZuKCksXG4gICAgICByZXN1bWU6IGplc3QuZm4oKSxcbiAgICAgIHNldEhvdmVyOiBtb2NrU2V0SG92ZXIsXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxIZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZSAvPik7XG5cbiAgICBjb25zdCBjYXJvdXNlbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaGVyby1jYXJvdXNlbC1jb250YWluZXInKTtcblxuICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgZmlyZUV2ZW50Lm1vdXNlRW50ZXIoY2Fyb3VzZWwpO1xuICAgICAgZXhwZWN0KG1vY2tTZXRIb3ZlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgodHJ1ZSk7XG5cbiAgICAgIGZpcmVFdmVudC5tb3VzZUxlYXZlKGNhcm91c2VsKTtcbiAgICAgIGV4cGVjdChtb2NrU2V0SG92ZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYXBwbHkgY29ycmVjdCBDU1MgY2xhc3NlcycsICgpID0+IHtcbiAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKDxIZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZSBjbGFzc05hbWU9XCJjdXN0b20tY2xhc3NcIiAvPik7XG5cbiAgICBjb25zdCBjYXJvdXNlbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaGVyby1jYXJvdXNlbC1jb250YWluZXInKTtcbiAgICBleHBlY3QoY2Fyb3VzZWwpLnRvSGF2ZUNsYXNzKCdoZXJvLWNhcm91c2VsLWNvbnRhaW5lcicpO1xuICAgIGV4cGVjdChjYXJvdXNlbCkudG9IYXZlQ2xhc3MoJ2N1c3RvbS1jbGFzcycpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNob3cgcHJvZ3Jlc3MgaW5kaWNhdG9yJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgZXhpc3RlIGVsIGluZGljYWRvciBkZSBwcm9ncmVzb1xuICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5oZXJvLWNhcm91c2VsLXByb2dyZXNzJyk7XG4gICAgZXhwZWN0KHByb2dyZXNzQ29udGFpbmVyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGFjY2Vzc2liaWxpdHkgYXR0cmlidXRlcycsICgpID0+IHtcbiAgICByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcbiAgICBcbiAgICAvLyBWZXJpZmljYXIgYXJpYS1sYWJlbHMgZW4gYm90b25lc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0ltYWdlbiBhbnRlcmlvci9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9JbWFnZW4gc2lndWllbnRlL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIFZlcmlmaWNhciBhcmlhLWN1cnJlbnQgZW4gZG90c1xuICAgIGNvbnN0IGZpcnN0RG90ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9JciBhIGltYWdlbiAxL2kpO1xuICAgIGV4cGVjdChmaXJzdERvdCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc2FibGUgbmF2aWdhdGlvbiBidXR0b25zIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgaW1hZ2UnLCAoKSA9PiB7XG4gICAgLy8gTW9jayBwYXJhIHNpbXVsYXIgc29sbyB1bmEgaW1hZ2VuXG4gICAgamVzdC5kb01vY2soJ0AvY29tcG9uZW50cy9Ib21lL0hlcm8vSGVyb0Nhcm91c2VsSW50ZXJhY3RpdmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbE1vZHVsZSA9IGplc3QucmVxdWlyZUFjdHVhbCgnQC9jb21wb25lbnRzL0hvbWUvSGVyby9IZXJvQ2Fyb3VzZWxJbnRlcmFjdGl2ZScpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3JpZ2luYWxNb2R1bGUsXG4gICAgICAgIEhFUk9fSU1BR0VTOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3JjOiAnL2ltYWdlcy9oZXJvL2hlcm8tMDEucG5nJyxcbiAgICAgICAgICAgIGFsdDogJ1NpbmdsZSBpbWFnZScsXG4gICAgICAgICAgICBwcmlvcml0eTogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZW5kZXIoPEhlcm9DYXJvdXNlbEludGVyYWN0aXZlIC8+KTtcbiAgICBcbiAgICBjb25zdCBwcmV2QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9JbWFnZW4gYW50ZXJpb3IvaSk7XG4gICAgY29uc3QgbmV4dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvSW1hZ2VuIHNpZ3VpZW50ZS9pKTtcbiAgICBcbiAgICAvLyBMb3MgYm90b25lcyBkZWJlcsOtYW4gZXN0YXIgZGVzaGFiaWxpdGFkb3MgY3VhbmRvIGhheSBzb2xvIHVuYSBpbWFnZW5cbiAgICAvLyBOb3RhOiBFc3RhIGZ1bmNpb25hbGlkYWQgc2UgaW1wbGVtZW50YSBlbiBlbCBjb21wb25lbnRlIHJlYWxcbiAgICBleHBlY3QocHJldkJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3QobmV4dEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZUhlcm9DYXJvdXNlbCIsImZuIiwiY3VycmVudEluZGV4IiwiaXNQbGF5aW5nIiwiaXNQYXVzZWQiLCJnb1RvU2xpZGUiLCJnb1RvTmV4dCIsImdvVG9QcmV2aW91cyIsInBhdXNlIiwicmVzdW1lIiwic2V0SG92ZXIiLCJNb2NrSW1hZ2UiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImNsYXNzTmFtZSIsImltZyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImV4cGVjdCIsInJlbmRlciIsIkhlcm9DYXJvdXNlbEludGVyYWN0aXZlIiwibm90IiwidG9UaHJvdyIsImltYWdlcyIsInNjcmVlbiIsImdldEFsbEJ5Um9sZSIsInRvSGF2ZUxlbmd0aCIsImdldEJ5QWx0VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwicHJldkJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwibmV4dEJ1dHRvbiIsImRvdHMiLCJmaWx0ZXIiLCJidXR0b24iLCJnZXRBdHRyaWJ1dGUiLCJpbmNsdWRlcyIsIm1vY2tHb1RvTmV4dCIsIm1vY2tHb1RvUHJldmlvdXMiLCJyZXF1aXJlIiwibW9ja1JldHVyblZhbHVlIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJtb2NrR29Ub1NsaWRlIiwic2Vjb25kRG90IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtb2NrU2V0SG92ZXIiLCJjb250YWluZXIiLCJjYXJvdXNlbCIsInF1ZXJ5U2VsZWN0b3IiLCJtb3VzZUVudGVyIiwibW91c2VMZWF2ZSIsInRvSGF2ZUNsYXNzIiwicHJvZ3Jlc3NDb250YWluZXIiLCJmaXJzdERvdCIsInRvSGF2ZUF0dHJpYnV0ZSIsImRvTW9jayIsIm9yaWdpbmFsTW9kdWxlIiwicmVxdWlyZUFjdHVhbCIsIkhFUk9fSU1BR0VTIiwicHJpb3JpdHkiXSwibWFwcGluZ3MiOiI7QUFLQSxnQ0FBZ0M7QUFDaENBLEtBQUtDLElBQUksQ0FBQywyQkFBMkIsSUFBTyxDQUFBO1FBQzFDQyxpQkFBaUJGLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQzlCQyxj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