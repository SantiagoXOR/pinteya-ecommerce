94b68a0de93ac14a790d4084ca4d0bb1
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "CategorySelector", {
    enumerable: true,
    get: function() {
        return CategorySelector;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _reactquery = require("@tanstack/react-query");
const _lucidereact = require("lucide-react");
const _utils = require("../../../lib/utils");
// API function to fetch categories
async function fetchCategories() {
    const response = await fetch('/api/categories');
    if (!response.ok) {
        throw new Error('Error fetching categories');
    }
    const data = await response.json();
    return data.data || [];
}
// Build category tree
function buildCategoryTree(categories) {
    const categoryMap = new Map();
    const rootCategories = [];
    // Create map of all categories
    categories.forEach((category)=>{
        categoryMap.set(category.id, {
            ...category,
            children: []
        });
    });
    // Build tree structure
    categories.forEach((category)=>{
        const categoryNode = categoryMap.get(category.id);
        if (category.parent_id) {
            const parent = categoryMap.get(category.parent_id);
            if (parent) {
                parent.children.push(categoryNode);
            }
        } else {
            rootCategories.push(categoryNode);
        }
    });
    return rootCategories;
}
// Flatten categories for search
function flattenCategories(categories, level = 0) {
    const flattened = [];
    categories.forEach((category)=>{
        flattened.push({
            ...category,
            level
        });
        if (category.children && category.children.length > 0) {
            flattened.push(...flattenCategories(category.children, level + 1));
        }
    });
    return flattened;
}
function CategorySelector({ value, onChange, error, placeholder = "Selecciona una categoría", allowCreate = false, className }) {
    const [isOpen, setIsOpen] = (0, _react.useState)(false);
    const [searchTerm, setSearchTerm] = (0, _react.useState)('');
    const [expandedCategories, setExpandedCategories] = (0, _react.useState)(new Set());
    // Fetch categories
    const { data: categories = [], isLoading, error: fetchError } = (0, _reactquery.useQuery)({
        queryKey: [
            'categories'
        ],
        queryFn: fetchCategories,
        staleTime: 5 * 60 * 1000
    });
    const categoryTree = buildCategoryTree(categories);
    const flatCategories = flattenCategories(categoryTree);
    // Find selected category
    const selectedCategory = flatCategories.find((cat)=>cat.id === value);
    // Filter categories based on search
    const filteredCategories = searchTerm ? flatCategories.filter((category)=>category.name.toLowerCase().includes(searchTerm.toLowerCase())) : categoryTree;
    const toggleExpanded = (categoryId)=>{
        const newExpanded = new Set(expandedCategories);
        if (newExpanded.has(categoryId)) {
            newExpanded.delete(categoryId);
        } else {
            newExpanded.add(categoryId);
        }
        setExpandedCategories(newExpanded);
    };
    const handleSelect = (categoryId)=>{
        onChange(categoryId);
        setIsOpen(false);
        setSearchTerm('');
    };
    const renderCategoryTree = (categories, level = 0)=>{
        return categories.map((category)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: (0, _utils.cn)("flex items-center justify-between px-3 py-2 hover:bg-gray-50 cursor-pointer", value === category.id && "bg-blaze-orange-50 text-blaze-orange-700"),
                        style: {
                            paddingLeft: `${12 + level * 20}px`
                        },
                        onClick: ()=>handleSelect(category.id),
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-2 flex-1",
                                children: [
                                    category.children && category.children.length > 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                        onClick: (e)=>{
                                            e.stopPropagation();
                                            toggleExpanded(category.id);
                                        },
                                        className: "p-1 hover:bg-gray-200 rounded",
                                        children: expandedCategories.has(category.id) ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.FolderOpen, {
                                            className: "w-4 h-4 text-gray-500"
                                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Folder, {
                                            className: "w-4 h-4 text-gray-500"
                                        })
                                    }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "w-6 h-6 flex items-center justify-center",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-2 h-2 bg-gray-300 rounded-full"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm font-medium",
                                        children: category.name
                                    })
                                ]
                            }),
                            value === category.id && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "w-2 h-2 bg-blaze-orange-600 rounded-full"
                            })
                        ]
                    }),
                    category.children && category.children.length > 0 && expandedCategories.has(category.id) && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: renderCategoryTree(category.children, level + 1)
                    })
                ]
            }, category.id));
    };
    const renderFlatList = (categories)=>{
        return categories.map((category)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: (0, _utils.cn)("flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer", value === category.id && "bg-blaze-orange-50 text-blaze-orange-700"),
                onClick: ()=>handleSelect(category.id),
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "flex items-center space-x-2 flex-1",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            style: {
                                marginLeft: `${category.level * 16}px`
                            },
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-sm",
                                children: [
                                    '—'.repeat(category.level),
                                    " ",
                                    category.name
                                ]
                            })
                        })
                    }),
                    value === category.id && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "w-2 h-2 bg-blaze-orange-600 rounded-full"
                    })
                ]
            }, category.id));
    };
    if (fetchError) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "text-red-600 text-sm",
            children: "Error al cargar categor\xedas"
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: (0, _utils.cn)("relative", className),
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                type: "button",
                onClick: ()=>setIsOpen(!isOpen),
                className: (0, _utils.cn)("w-full flex items-center justify-between px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent", error ? "border-red-300" : "border-gray-300", isLoading && "opacity-50 cursor-not-allowed"),
                disabled: isLoading,
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: (0, _utils.cn)("text-sm", selectedCategory ? "text-gray-900" : "text-gray-500"),
                        children: isLoading ? 'Cargando...' : selectedCategory?.name || placeholder
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronDown, {
                        className: (0, _utils.cn)("w-4 h-4 text-gray-400 transition-transform", isOpen && "transform rotate-180")
                    })
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                className: "text-red-600 text-sm mt-1",
                children: error
            }),
            isOpen && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-hidden",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "p-3 border-b border-gray-200",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "relative",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Search, {
                                    className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                    type: "text",
                                    placeholder: "Buscar categor\xedas...",
                                    value: searchTerm,
                                    onChange: (e)=>setSearchTerm(e.target.value),
                                    className: "w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "max-h-60 overflow-y-auto",
                        children: categories.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "p-4 text-center text-gray-500 text-sm",
                            children: "No hay categor\xedas disponibles"
                        }) : searchTerm ? renderFlatList(filteredCategories) : renderCategoryTree(categoryTree)
                    }),
                    allowCreate && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "border-t border-gray-200 p-3",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            type: "button",
                            className: "flex items-center space-x-2 text-sm text-blaze-orange-600 hover:text-blaze-orange-700",
                            onClick: ()=>{
                                // TODO: Implement create category modal
                                console.log('Create new category');
                            },
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Plus, {
                                    className: "w-4 h-4"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    children: "Crear nueva categor\xeda"
                                })
                            ]
                        })
                    })
                ]
            }),
            isOpen && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed inset-0 z-40",
                onClick: ()=>setIsOpen(false)
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXHByb2R1Y3RzXFxDYXRlZ29yeVNlbGVjdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyBDaGV2cm9uRG93biwgUGx1cywgU2VhcmNoLCBGb2xkZXIsIEZvbGRlck9wZW4gfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbmludGVyZmFjZSBDYXRlZ29yeSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHBhcmVudF9pZD86IHN0cmluZztcbiAgbGV2ZWw6IG51bWJlcjtcbiAgY2hpbGRyZW4/OiBDYXRlZ29yeVtdO1xufVxuXG5pbnRlcmZhY2UgQ2F0ZWdvcnlTZWxlY3RvclByb3BzIHtcbiAgdmFsdWU/OiBzdHJpbmc7XG4gIG9uQ2hhbmdlOiAoY2F0ZWdvcnlJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBlcnJvcj86IHN0cmluZztcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gIGFsbG93Q3JlYXRlPzogYm9vbGVhbjtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG4vLyBBUEkgZnVuY3Rpb24gdG8gZmV0Y2ggY2F0ZWdvcmllc1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hDYXRlZ29yaWVzKCk6IFByb21pc2U8Q2F0ZWdvcnlbXT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NhdGVnb3JpZXMnKTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgY2F0ZWdvcmllcycpO1xuICB9XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIHJldHVybiBkYXRhLmRhdGEgfHwgW107XG59XG5cbi8vIEJ1aWxkIGNhdGVnb3J5IHRyZWVcbmZ1bmN0aW9uIGJ1aWxkQ2F0ZWdvcnlUcmVlKGNhdGVnb3JpZXM6IENhdGVnb3J5W10pOiBDYXRlZ29yeVtdIHtcbiAgY29uc3QgY2F0ZWdvcnlNYXAgPSBuZXcgTWFwPHN0cmluZywgQ2F0ZWdvcnk+KCk7XG4gIGNvbnN0IHJvb3RDYXRlZ29yaWVzOiBDYXRlZ29yeVtdID0gW107XG5cbiAgLy8gQ3JlYXRlIG1hcCBvZiBhbGwgY2F0ZWdvcmllc1xuICBjYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgIGNhdGVnb3J5TWFwLnNldChjYXRlZ29yeS5pZCwgeyAuLi5jYXRlZ29yeSwgY2hpbGRyZW46IFtdIH0pO1xuICB9KTtcblxuICAvLyBCdWlsZCB0cmVlIHN0cnVjdHVyZVxuICBjYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5Tm9kZSA9IGNhdGVnb3J5TWFwLmdldChjYXRlZ29yeS5pZCkhO1xuICAgIFxuICAgIGlmIChjYXRlZ29yeS5wYXJlbnRfaWQpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGNhdGVnb3J5TWFwLmdldChjYXRlZ29yeS5wYXJlbnRfaWQpO1xuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4hLnB1c2goY2F0ZWdvcnlOb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdENhdGVnb3JpZXMucHVzaChjYXRlZ29yeU5vZGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJvb3RDYXRlZ29yaWVzO1xufVxuXG4vLyBGbGF0dGVuIGNhdGVnb3JpZXMgZm9yIHNlYXJjaFxuZnVuY3Rpb24gZmxhdHRlbkNhdGVnb3JpZXMoY2F0ZWdvcmllczogQ2F0ZWdvcnlbXSwgbGV2ZWwgPSAwKTogQ2F0ZWdvcnlbXSB7XG4gIGNvbnN0IGZsYXR0ZW5lZDogQ2F0ZWdvcnlbXSA9IFtdO1xuICBcbiAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICBmbGF0dGVuZWQucHVzaCh7IC4uLmNhdGVnb3J5LCBsZXZlbCB9KTtcbiAgICBpZiAoY2F0ZWdvcnkuY2hpbGRyZW4gJiYgY2F0ZWdvcnkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZmxhdHRlbmVkLnB1c2goLi4uZmxhdHRlbkNhdGVnb3JpZXMoY2F0ZWdvcnkuY2hpbGRyZW4sIGxldmVsICsgMSkpO1xuICAgIH1cbiAgfSk7XG4gIFxuICByZXR1cm4gZmxhdHRlbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTZWxlY3Rvcih7XG4gIHZhbHVlLFxuICBvbkNoYW5nZSxcbiAgZXJyb3IsXG4gIHBsYWNlaG9sZGVyID0gXCJTZWxlY2Npb25hIHVuYSBjYXRlZ29yw61hXCIsXG4gIGFsbG93Q3JlYXRlID0gZmFsc2UsXG4gIGNsYXNzTmFtZVxufTogQ2F0ZWdvcnlTZWxlY3RvclByb3BzKSB7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2V4cGFuZGVkQ2F0ZWdvcmllcywgc2V0RXhwYW5kZWRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuXG4gIC8vIEZldGNoIGNhdGVnb3JpZXNcbiAgY29uc3QgeyBkYXRhOiBjYXRlZ29yaWVzID0gW10sIGlzTG9hZGluZywgZXJyb3I6IGZldGNoRXJyb3IgfSA9IHVzZVF1ZXJ5KHtcbiAgICBxdWVyeUtleTogWydjYXRlZ29yaWVzJ10sXG4gICAgcXVlcnlGbjogZmV0Y2hDYXRlZ29yaWVzLFxuICAgIHN0YWxlVGltZTogNSAqIDYwICogMTAwMCwgLy8gNSBtaW51dGVzXG4gIH0pO1xuXG4gIGNvbnN0IGNhdGVnb3J5VHJlZSA9IGJ1aWxkQ2F0ZWdvcnlUcmVlKGNhdGVnb3JpZXMpO1xuICBjb25zdCBmbGF0Q2F0ZWdvcmllcyA9IGZsYXR0ZW5DYXRlZ29yaWVzKGNhdGVnb3J5VHJlZSk7XG4gIFxuICAvLyBGaW5kIHNlbGVjdGVkIGNhdGVnb3J5XG4gIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSBmbGF0Q2F0ZWdvcmllcy5maW5kKGNhdCA9PiBjYXQuaWQgPT09IHZhbHVlKTtcblxuICAvLyBGaWx0ZXIgY2F0ZWdvcmllcyBiYXNlZCBvbiBzZWFyY2hcbiAgY29uc3QgZmlsdGVyZWRDYXRlZ29yaWVzID0gc2VhcmNoVGVybVxuICAgID8gZmxhdENhdGVnb3JpZXMuZmlsdGVyKGNhdGVnb3J5ID0+XG4gICAgICAgIGNhdGVnb3J5Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXG4gICAgICApXG4gICAgOiBjYXRlZ29yeVRyZWU7XG5cbiAgY29uc3QgdG9nZ2xlRXhwYW5kZWQgPSAoY2F0ZWdvcnlJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgbmV3RXhwYW5kZWQgPSBuZXcgU2V0KGV4cGFuZGVkQ2F0ZWdvcmllcyk7XG4gICAgaWYgKG5ld0V4cGFuZGVkLmhhcyhjYXRlZ29yeUlkKSkge1xuICAgICAgbmV3RXhwYW5kZWQuZGVsZXRlKGNhdGVnb3J5SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFeHBhbmRlZC5hZGQoY2F0ZWdvcnlJZCk7XG4gICAgfVxuICAgIHNldEV4cGFuZGVkQ2F0ZWdvcmllcyhuZXdFeHBhbmRlZCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKGNhdGVnb3J5SWQ6IHN0cmluZykgPT4ge1xuICAgIG9uQ2hhbmdlKGNhdGVnb3J5SWQpO1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgc2V0U2VhcmNoVGVybSgnJyk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQ2F0ZWdvcnlUcmVlID0gKGNhdGVnb3JpZXM6IENhdGVnb3J5W10sIGxldmVsID0gMCkgPT4ge1xuICAgIHJldHVybiBjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiAoXG4gICAgICA8ZGl2IGtleT17Y2F0ZWdvcnkuaWR9PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgIFwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTMgcHktMiBob3ZlcjpiZy1ncmF5LTUwIGN1cnNvci1wb2ludGVyXCIsXG4gICAgICAgICAgICB2YWx1ZSA9PT0gY2F0ZWdvcnkuaWQgJiYgXCJiZy1ibGF6ZS1vcmFuZ2UtNTAgdGV4dC1ibGF6ZS1vcmFuZ2UtNzAwXCJcbiAgICAgICAgICApfVxuICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmdMZWZ0OiBgJHsxMiArIGxldmVsICogMjB9cHhgIH19XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VsZWN0KGNhdGVnb3J5LmlkKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIGZsZXgtMVwiPlxuICAgICAgICAgICAge2NhdGVnb3J5LmNoaWxkcmVuICYmIGNhdGVnb3J5LmNoaWxkcmVuLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZUV4cGFuZGVkKGNhdGVnb3J5LmlkKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1ncmF5LTIwMCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtleHBhbmRlZENhdGVnb3JpZXMuaGFzKGNhdGVnb3J5LmlkKSA/IChcbiAgICAgICAgICAgICAgICAgIDxGb2xkZXJPcGVuIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmF5LTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxGb2xkZXIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTMwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+e2NhdGVnb3J5Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHt2YWx1ZSA9PT0gY2F0ZWdvcnkuaWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWJsYXplLW9yYW5nZS02MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7Y2F0ZWdvcnkuY2hpbGRyZW4gJiYgXG4gICAgICAgICBjYXRlZ29yeS5jaGlsZHJlbi5sZW5ndGggPiAwICYmIFxuICAgICAgICAgZXhwYW5kZWRDYXRlZ29yaWVzLmhhcyhjYXRlZ29yeS5pZCkgJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7cmVuZGVyQ2F0ZWdvcnlUcmVlKGNhdGVnb3J5LmNoaWxkcmVuLCBsZXZlbCArIDEpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyRmxhdExpc3QgPSAoY2F0ZWdvcmllczogQ2F0ZWdvcnlbXSkgPT4ge1xuICAgIHJldHVybiBjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGtleT17Y2F0ZWdvcnkuaWR9XG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJmbGV4IGl0ZW1zLWNlbnRlciBweC0zIHB5LTIgaG92ZXI6YmctZ3JheS01MCBjdXJzb3ItcG9pbnRlclwiLFxuICAgICAgICAgIHZhbHVlID09PSBjYXRlZ29yeS5pZCAmJiBcImJnLWJsYXplLW9yYW5nZS01MCB0ZXh0LWJsYXplLW9yYW5nZS03MDBcIlxuICAgICAgICApfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZWxlY3QoY2F0ZWdvcnkuaWQpfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBmbGV4LTFcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkxlZnQ6IGAke2NhdGVnb3J5LmxldmVsICogMTZ9cHhgIH19PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICB7J+KAlCcucmVwZWF0KGNhdGVnb3J5LmxldmVsKX0ge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAge3ZhbHVlID09PSBjYXRlZ29yeS5pZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLWJsYXplLW9yYW5nZS02MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApKTtcbiAgfTtcblxuICBpZiAoZmV0Y2hFcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LXNtXCI+XG4gICAgICAgIEVycm9yIGFsIGNhcmdhciBjYXRlZ29yw61hc1xuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKFwicmVsYXRpdmVcIiwgY2xhc3NOYW1lKX0+XG4gICAgICB7LyogU2VsZWN0b3IgQnV0dG9uICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pfVxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgIFwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsYXplLW9yYW5nZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgZXJyb3IgPyBcImJvcmRlci1yZWQtMzAwXCIgOiBcImJvcmRlci1ncmF5LTMwMFwiLFxuICAgICAgICAgIGlzTG9hZGluZyAmJiBcIm9wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgKX1cbiAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInRleHQtc21cIixcbiAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5ID8gXCJ0ZXh0LWdyYXktOTAwXCIgOiBcInRleHQtZ3JheS01MDBcIlxuICAgICAgICApfT5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gJ0NhcmdhbmRvLi4uJyA6IHNlbGVjdGVkQ2F0ZWdvcnk/Lm5hbWUgfHwgcGxhY2Vob2xkZXJ9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJ3LTQgaC00IHRleHQtZ3JheS00MDAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIixcbiAgICAgICAgICBpc09wZW4gJiYgXCJ0cmFuc2Zvcm0gcm90YXRlLTE4MFwiXG4gICAgICAgICl9IC8+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgey8qIEVycm9yIE1lc3NhZ2UgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgdGV4dC1zbSBtdC0xXCI+e2Vycm9yfTwvcD5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBEcm9wZG93biAqL31cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC1mdWxsIGxlZnQtMCByaWdodC0wIG10LTEgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyB6LTUwIG1heC1oLTgwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgIHsvKiBTZWFyY2ggKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIGNhdGVnb3LDrWFzLi4uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC0xMCBwci00IHB5LTIgdGV4dC1zbSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsYXplLW9yYW5nZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENhdGVnb3JpZXMgTGlzdCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC1oLTYwIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAge2NhdGVnb3JpZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICBObyBoYXkgY2F0ZWdvcsOtYXMgZGlzcG9uaWJsZXNcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogc2VhcmNoVGVybSA/IChcbiAgICAgICAgICAgICAgcmVuZGVyRmxhdExpc3QoZmlsdGVyZWRDYXRlZ29yaWVzIGFzIENhdGVnb3J5W10pXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICByZW5kZXJDYXRlZ29yeVRyZWUoY2F0ZWdvcnlUcmVlKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDcmVhdGUgTmV3IENhdGVnb3J5ICovfVxuICAgICAgICAgIHthbGxvd0NyZWF0ZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBwLTNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LXNtIHRleHQtYmxhemUtb3JhbmdlLTYwMCBob3Zlcjp0ZXh0LWJsYXplLW9yYW5nZS03MDBcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBjcmVhdGUgY2F0ZWdvcnkgbW9kYWxcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGUgbmV3IGNhdGVnb3J5Jyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPkNyZWFyIG51ZXZhIGNhdGVnb3LDrWE8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogT3ZlcmxheSAqL31cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTQwXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJDYXRlZ29yeVNlbGVjdG9yIiwiZmV0Y2hDYXRlZ29yaWVzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImJ1aWxkQ2F0ZWdvcnlUcmVlIiwiY2F0ZWdvcmllcyIsImNhdGVnb3J5TWFwIiwiTWFwIiwicm9vdENhdGVnb3JpZXMiLCJmb3JFYWNoIiwiY2F0ZWdvcnkiLCJzZXQiLCJpZCIsImNoaWxkcmVuIiwiY2F0ZWdvcnlOb2RlIiwiZ2V0IiwicGFyZW50X2lkIiwicGFyZW50IiwicHVzaCIsImZsYXR0ZW5DYXRlZ29yaWVzIiwibGV2ZWwiLCJmbGF0dGVuZWQiLCJsZW5ndGgiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZXJyb3IiLCJwbGFjZWhvbGRlciIsImFsbG93Q3JlYXRlIiwiY2xhc3NOYW1lIiwiaXNPcGVuIiwic2V0SXNPcGVuIiwidXNlU3RhdGUiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsImV4cGFuZGVkQ2F0ZWdvcmllcyIsInNldEV4cGFuZGVkQ2F0ZWdvcmllcyIsIlNldCIsImlzTG9hZGluZyIsImZldGNoRXJyb3IiLCJ1c2VRdWVyeSIsInF1ZXJ5S2V5IiwicXVlcnlGbiIsInN0YWxlVGltZSIsImNhdGVnb3J5VHJlZSIsImZsYXRDYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsImZpbmQiLCJjYXQiLCJmaWx0ZXJlZENhdGVnb3JpZXMiLCJmaWx0ZXIiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInRvZ2dsZUV4cGFuZGVkIiwiY2F0ZWdvcnlJZCIsIm5ld0V4cGFuZGVkIiwiaGFzIiwiZGVsZXRlIiwiYWRkIiwiaGFuZGxlU2VsZWN0IiwicmVuZGVyQ2F0ZWdvcnlUcmVlIiwibWFwIiwiZGl2IiwiY24iLCJzdHlsZSIsInBhZGRpbmdMZWZ0Iiwib25DbGljayIsImJ1dHRvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJGb2xkZXJPcGVuIiwiRm9sZGVyIiwic3BhbiIsInJlbmRlckZsYXRMaXN0IiwibWFyZ2luTGVmdCIsInJlcGVhdCIsInR5cGUiLCJkaXNhYmxlZCIsIkNoZXZyb25Eb3duIiwicCIsIlNlYXJj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