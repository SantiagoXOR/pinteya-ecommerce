e159b09265dbc74406730278ffa1f1e3
// ===================================
// TESTS: useSearch Hook - Sistema de búsqueda centralizado
// ===================================
"use strict";
// ===================================
// MOCKS
// ===================================
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn()
    }));
// Mock API de productos
jest.mock('@/lib/api/products', ()=>({
        searchProducts: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _useSearch = require("../../hooks/useSearch");
const _products = require("../../lib/api/products");
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
// ===================================
// SETUP
// ===================================
const mockPush = jest.fn();
const mockSearchProducts = _products.searchProducts;
beforeEach(()=>{
    jest.clearAllMocks();
    _navigation.useRouter.mockReturnValue({
        push: mockPush
    });
    localStorageMock.getItem.mockReturnValue(null);
});
// ===================================
// TESTS BÁSICOS
// ===================================
describe('useSearch Hook', ()=>{
    it('should initialize with default state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        expect(result.current.query).toBe('');
        expect(result.current.results).toEqual([]);
        expect(result.current.suggestions).toEqual([]);
        expect(result.current.isLoading).toBe(false);
        expect(result.current.error).toBe(null);
        expect(result.current.hasSearched).toBe(false);
    });
    it('should accept custom options', ()=>{
        const onSearch = jest.fn();
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)({
                debounceMs: 200,
                maxSuggestions: 5,
                onSearch
            }));
        expect(typeof result.current.executeSearch).toBe('function');
        expect(typeof result.current.searchWithDebounce).toBe('function');
    });
});
// ===================================
// TESTS DE BÚSQUEDA
// ===================================
describe('useSearch - Search Functionality', ()=>{
    it('should execute search and navigate to results page', async ()=>{
        const mockResponse = {
            success: true,
            data: [
                {
                    id: '1',
                    name: 'Producto 1',
                    price: 100
                },
                {
                    id: '2',
                    name: 'Producto 2',
                    price: 200
                }
            ],
            pagination: {
                total: 2,
                page: 1,
                limit: 12,
                totalPages: 1
            }
        };
        mockSearchProducts.mockResolvedValue(mockResponse);
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('pintura');
        });
        await (0, _react.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 12);
            expect(mockPush).toHaveBeenCalledWith('/search?q=pintura');
            expect(result.current.results).toEqual(mockResponse.data);
            expect(result.current.hasSearched).toBe(true);
            expect(result.current.error).toBe(null);
        });
    });
    it('should handle search with category', async ()=>{
        const mockResponse = {
            success: true,
            data: [],
            pagination: {
                total: 0,
                page: 1,
                limit: 12,
                totalPages: 0
            }
        };
        mockSearchProducts.mockResolvedValue(mockResponse);
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('pintura', 'pinturas');
        });
        await (0, _react.waitFor)(()=>{
            expect(mockPush).toHaveBeenCalledWith('/search?q=pintura&category=pinturas');
        });
    });
    it('should handle search errors', async ()=>{
        const mockError = new Error('Network error');
        mockSearchProducts.mockRejectedValue(mockError);
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('pintura');
        });
        await (0, _react.waitFor)(()=>{
            expect(result.current.error).toBeTruthy();
            expect(result.current.results).toEqual([]);
            expect(result.current.hasSearched).toBe(true);
        });
    });
});
// ===================================
// TESTS DE DEBOUNCING
// ===================================
describe('useSearch - Debouncing', ()=>{
    beforeEach(()=>{
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.useRealTimers();
    });
    it('should debounce search requests', async ()=>{
        const mockResponse = {
            success: true,
            data: [],
            pagination: {
                total: 0,
                page: 1,
                limit: 8,
                totalPages: 0
            }
        };
        mockSearchProducts.mockResolvedValue(mockResponse);
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)({
                debounceMs: 150
            }));
        // Múltiples llamadas rápidas
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('p');
            result.current.searchWithDebounce('pi');
            result.current.searchWithDebounce('pin');
            result.current.searchWithDebounce('pint');
            result.current.searchWithDebounce('pintu');
            result.current.searchWithDebounce('pintura');
        });
        // Avanzar el timer
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(150);
        });
        await (0, _react.waitFor)(()=>{
            // Solo debería haberse llamado una vez con el último valor
            expect(mockSearchProducts).toHaveBeenCalledTimes(1);
            expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 8);
        });
    });
    it('should cancel previous debounced calls', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)({
                debounceMs: 150
            }));
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('pintura');
        });
        // Avanzar solo 100ms (menos que el debounce)
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(100);
        });
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('esmalte');
        });
        // Avanzar otros 150ms
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(150);
        });
        await (0, _react.waitFor)(()=>{
            // Solo debería buscar 'esmalte', no 'pintura'
            expect(mockSearchProducts).toHaveBeenCalledTimes(1);
            expect(mockSearchProducts).toHaveBeenCalledWith('esmalte', 8);
        });
    });
});
// ===================================
// TESTS DE SUGERENCIAS
// ===================================
describe('useSearch - Suggestions', ()=>{
    it('should handle suggestion selection', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        const suggestion = {
            id: 'test-1',
            type: 'product',
            title: 'Pintura Látex',
            href: '/products/pintura-latex'
        };
        (0, _react.act)(()=>{
            result.current.selectSuggestion(suggestion);
        });
        expect(mockPush).toHaveBeenCalledWith('/products/pintura-latex');
    });
});
// ===================================
// TESTS DE BÚSQUEDAS RECIENTES
// ===================================
describe('useSearch - Recent Searches', ()=>{
    it('should save recent searches to localStorage', async ()=>{
        const mockResponse = {
            success: true,
            data: [
                {
                    id: '1',
                    name: 'Producto',
                    price: 100
                }
            ],
            pagination: {
                total: 1,
                page: 1,
                limit: 12,
                totalPages: 1
            }
        };
        mockSearchProducts.mockResolvedValue(mockResponse);
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)({
                saveRecentSearches: true
            }));
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('pintura');
        });
        await (0, _react.waitFor)(()=>{
            expect(localStorageMock.setItem).toHaveBeenCalledWith('pinteya-recent-searches', expect.stringContaining('pintura'));
        });
    });
    it('should load recent searches from localStorage', ()=>{
        const recentSearches = [
            'pintura',
            'esmalte',
            'barniz'
        ];
        localStorageMock.getItem.mockReturnValue(JSON.stringify(recentSearches));
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)({
                saveRecentSearches: true
            }));
        (0, _react.act)(()=>{
            result.current.initialize();
        });
        expect(result.current.recentSearches).toEqual(recentSearches);
    });
});
// ===================================
// TESTS DE CLEANUP
// ===================================
describe('useSearch - Cleanup', ()=>{
    it('should cleanup timeouts on unmount', async ()=>{
        const clearTimeoutSpy = jest.spyOn(global, 'clearTimeout');
        const { result, unmount } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        // Activar búsqueda para crear timeouts
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('test');
        });
        // Esperar un poco para que se establezcan los timeouts (optimizado)
        await (0, _react.act)(async ()=>{
            await new Promise((resolve)=>setTimeout(resolve, 50));
        });
        // Llamar cleanup explícitamente antes de unmount
        (0, _react.act)(()=>{
            result.current.cleanup();
        });
        unmount();
        expect(clearTimeoutSpy).toHaveBeenCalled();
        clearTimeoutSpy.mockRestore();
    });
    it('should clear search state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearch.useSearch)());
        // Simular estado con datos
        (0, _react.act)(()=>{
            result.current.clearSearch();
        });
        expect(result.current.query).toBe('');
        expect(result.current.results).toEqual([]);
        expect(result.current.suggestions).toEqual([]);
        expect(result.current.error).toBe(null);
        expect(result.current.hasSearched).toBe(false);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlU2VhcmNoLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTOiB1c2VTZWFyY2ggSG9vayAtIFNpc3RlbWEgZGUgYsO6c3F1ZWRhIGNlbnRyYWxpemFkb1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XHJcbmltcG9ydCB7IHVzZVNlYXJjaCB9IGZyb20gJ0AvaG9va3MvdXNlU2VhcmNoJztcclxuaW1wb3J0IHsgc2VhcmNoUHJvZHVjdHMgfSBmcm9tICdAL2xpYi9hcGkvcHJvZHVjdHMnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTU9DS1NcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIE1vY2sgTmV4dC5qcyByb3V0ZXJcclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVJvdXRlcjogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIEFQSSBkZSBwcm9kdWN0b3NcclxuamVzdC5tb2NrKCdAL2xpYi9hcGkvcHJvZHVjdHMnLCAoKSA9PiAoe1xyXG4gIHNlYXJjaFByb2R1Y3RzOiBqZXN0LmZuKCksXHJcbn0pKTtcclxuXHJcbi8vIE1vY2sgbG9jYWxTdG9yYWdlXHJcbmNvbnN0IGxvY2FsU3RvcmFnZU1vY2sgPSB7XHJcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxyXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcclxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXHJcbiAgY2xlYXI6IGplc3QuZm4oKSxcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHtcclxuICB2YWx1ZTogbG9jYWxTdG9yYWdlTW9jayxcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTRVRVUFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgbW9ja1B1c2ggPSBqZXN0LmZuKCk7XHJcbmNvbnN0IG1vY2tTZWFyY2hQcm9kdWN0cyA9IHNlYXJjaFByb2R1Y3RzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHNlYXJjaFByb2R1Y3RzPjtcclxuXHJcbmJlZm9yZUVhY2goKCkgPT4ge1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gICh1c2VSb3V0ZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgcHVzaDogbW9ja1B1c2gsXHJcbiAgfSk7XHJcbiAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBURVNUUyBCw4FTSUNPU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZGVzY3JpYmUoJ3VzZVNlYXJjaCBIb29rJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgc3RhdGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2goKSk7XHJcblxyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnF1ZXJ5KS50b0JlKCcnKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXN1bHRzKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdWdnZXN0aW9ucykudG9FcXVhbChbXSk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZShudWxsKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNTZWFyY2hlZCkudG9CZShmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgYWNjZXB0IGN1c3RvbSBvcHRpb25zJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgb25TZWFyY2ggPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiBcclxuICAgICAgdXNlU2VhcmNoKHtcclxuICAgICAgICBkZWJvdW5jZU1zOiAyMDAsXHJcbiAgICAgICAgbWF4U3VnZ2VzdGlvbnM6IDUsXHJcbiAgICAgICAgb25TZWFyY2gsXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuZXhlY3V0ZVNlYXJjaCkudG9CZSgnZnVuY3Rpb24nKTtcclxuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTIERFIELDmlNRVUVEQVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZGVzY3JpYmUoJ3VzZVNlYXJjaCAtIFNlYXJjaCBGdW5jdGlvbmFsaXR5JywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgZXhlY3V0ZSBzZWFyY2ggYW5kIG5hdmlnYXRlIHRvIHJlc3VsdHMgcGFnZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogW1xyXG4gICAgICAgIHsgaWQ6ICcxJywgbmFtZTogJ1Byb2R1Y3RvIDEnLCBwcmljZTogMTAwIH0sXHJcbiAgICAgICAgeyBpZDogJzInLCBuYW1lOiAnUHJvZHVjdG8gMicsIHByaWNlOiAyMDAgfSxcclxuICAgICAgXSxcclxuICAgICAgcGFnaW5hdGlvbjogeyB0b3RhbDogMiwgcGFnZTogMSwgbGltaXQ6IDEyLCB0b3RhbFBhZ2VzOiAxIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVzcG9uc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaCgpKTtcclxuXHJcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRlU2VhcmNoKCdwaW50dXJhJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3BpbnR1cmEnLCAxMik7XHJcbiAgICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9zZWFyY2g/cT1waW50dXJhJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXN1bHRzKS50b0VxdWFsKG1vY2tSZXNwb25zZS5kYXRhKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc1NlYXJjaGVkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmUobnVsbCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VhcmNoIHdpdGggY2F0ZWdvcnknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IFtdLFxyXG4gICAgICBwYWdpbmF0aW9uOiB7IHRvdGFsOiAwLCBwYWdlOiAxLCBsaW1pdDogMTIsIHRvdGFsUGFnZXM6IDAgfSxcclxuICAgIH07XHJcblxyXG4gICAgbW9ja1NlYXJjaFByb2R1Y3RzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tSZXNwb25zZSk7XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoKCkpO1xyXG5cclxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGVTZWFyY2goJ3BpbnR1cmEnLCAncGludHVyYXMnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvc2VhcmNoP3E9cGludHVyYSZjYXRlZ29yeT1waW50dXJhcycpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHNlYXJjaCBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrRXJyb3IgPSBuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKTtcclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVqZWN0ZWRWYWx1ZShtb2NrRXJyb3IpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaCgpKTtcclxuXHJcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRlU2VhcmNoKCdwaW50dXJhJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5yZXN1bHRzKS50b0VxdWFsKFtdKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc1NlYXJjaGVkKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVEVTVFMgREUgREVCT1VOQ0lOR1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZGVzY3JpYmUoJ3VzZVNlYXJjaCAtIERlYm91bmNpbmcnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcclxuICB9KTtcclxuXHJcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcclxuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGRlYm91bmNlIHNlYXJjaCByZXF1ZXN0cycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogW10sXHJcbiAgICAgIHBhZ2luYXRpb246IHsgdG90YWw6IDAsIHBhZ2U6IDEsIGxpbWl0OiA4LCB0b3RhbFBhZ2VzOiAwIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVzcG9uc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaCh7IGRlYm91bmNlTXM6IDE1MCB9KSk7XHJcblxyXG4gICAgLy8gTcO6bHRpcGxlcyBsbGFtYWRhcyByw6FwaWRhc1xyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCdwJyk7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFdpdGhEZWJvdW5jZSgncGknKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCdwaW4nKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCdwaW50Jyk7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFdpdGhEZWJvdW5jZSgncGludHUnKTtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCdwaW50dXJhJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBdmFuemFyIGVsIHRpbWVyXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAvLyBTb2xvIGRlYmVyw61hIGhhYmVyc2UgbGxhbWFkbyB1bmEgdmV6IGNvbiBlbCDDumx0aW1vIHZhbG9yXHJcbiAgICAgIGV4cGVjdChtb2NrU2VhcmNoUHJvZHVjdHMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3BpbnR1cmEnLCA4KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGNhbmNlbCBwcmV2aW91cyBkZWJvdW5jZWQgY2FsbHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2goeyBkZWJvdW5jZU1zOiAxNTAgfSkpO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFdpdGhEZWJvdW5jZSgncGludHVyYScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQXZhbnphciBzb2xvIDEwMG1zIChtZW5vcyBxdWUgZWwgZGVib3VuY2UpXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFdpdGhEZWJvdW5jZSgnZXNtYWx0ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQXZhbnphciBvdHJvcyAxNTBtc1xyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDE1MCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgLy8gU29sbyBkZWJlcsOtYSBidXNjYXIgJ2VzbWFsdGUnLCBubyAncGludHVyYSdcclxuICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xyXG4gICAgICBleHBlY3QobW9ja1NlYXJjaFByb2R1Y3RzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZXNtYWx0ZScsIDgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVEVTVFMgREUgU1VHRVJFTkNJQVNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmRlc2NyaWJlKCd1c2VTZWFyY2ggLSBTdWdnZXN0aW9ucycsICgpID0+IHtcclxuICBpdCgnc2hvdWxkIGhhbmRsZSBzdWdnZXN0aW9uIHNlbGVjdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaCgpKTtcclxuXHJcbiAgICBjb25zdCBzdWdnZXN0aW9uID0ge1xyXG4gICAgICBpZDogJ3Rlc3QtMScsXHJcbiAgICAgIHR5cGU6ICdwcm9kdWN0JyBhcyBjb25zdCxcclxuICAgICAgdGl0bGU6ICdQaW50dXJhIEzDoXRleCcsXHJcbiAgICAgIGhyZWY6ICcvcHJvZHVjdHMvcGludHVyYS1sYXRleCcsXHJcbiAgICB9O1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlbGVjdFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvcHJvZHVjdHMvcGludHVyYS1sYXRleCcpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTIERFIELDmlNRVUVEQVMgUkVDSUVOVEVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5kZXNjcmliZSgndXNlU2VhcmNoIC0gUmVjZW50IFNlYXJjaGVzJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgc2F2ZSByZWNlbnQgc2VhcmNoZXMgdG8gbG9jYWxTdG9yYWdlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiBbeyBpZDogJzEnLCBuYW1lOiAnUHJvZHVjdG8nLCBwcmljZTogMTAwIH1dLFxyXG4gICAgICBwYWdpbmF0aW9uOiB7IHRvdGFsOiAxLCBwYWdlOiAxLCBsaW1pdDogMTIsIHRvdGFsUGFnZXM6IDEgfSxcclxuICAgIH07XHJcblxyXG4gICAgbW9ja1NlYXJjaFByb2R1Y3RzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tSZXNwb25zZSk7XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoKHsgc2F2ZVJlY2VudFNlYXJjaGVzOiB0cnVlIH0pKTtcclxuXHJcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRlU2VhcmNoKCdwaW50dXJhJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgJ3BpbnRleWEtcmVjZW50LXNlYXJjaGVzJyxcclxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygncGludHVyYScpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBsb2FkIHJlY2VudCBzZWFyY2hlcyBmcm9tIGxvY2FsU3RvcmFnZScsICgpID0+IHtcclxuICAgIGNvbnN0IHJlY2VudFNlYXJjaGVzID0gWydwaW50dXJhJywgJ2VzbWFsdGUnLCAnYmFybml6J107XHJcbiAgICBsb2NhbFN0b3JhZ2VNb2NrLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlKEpTT04uc3RyaW5naWZ5KHJlY2VudFNlYXJjaGVzKSk7XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoKHsgc2F2ZVJlY2VudFNlYXJjaGVzOiB0cnVlIH0pKTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5pbml0aWFsaXplKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmVjZW50U2VhcmNoZXMpLnRvRXF1YWwocmVjZW50U2VhcmNoZXMpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTIERFIENMRUFOVVBcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmRlc2NyaWJlKCd1c2VTZWFyY2ggLSBDbGVhbnVwJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgY2xlYW51cCB0aW1lb3V0cyBvbiB1bm1vdW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgY2xlYXJUaW1lb3V0U3B5ID0gamVzdC5zcHlPbihnbG9iYWwsICdjbGVhclRpbWVvdXQnKTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdCwgdW5tb3VudCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2goKSk7XHJcblxyXG4gICAgLy8gQWN0aXZhciBiw7pzcXVlZGEgcGFyYSBjcmVhciB0aW1lb3V0c1xyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCd0ZXN0Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFc3BlcmFyIHVuIHBvY28gcGFyYSBxdWUgc2UgZXN0YWJsZXpjYW4gbG9zIHRpbWVvdXRzIChvcHRpbWl6YWRvKVxyXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBMbGFtYXIgY2xlYW51cCBleHBsw61jaXRhbWVudGUgYW50ZXMgZGUgdW5tb3VudFxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuY2xlYW51cCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdW5tb3VudCgpO1xyXG5cclxuICAgIGV4cGVjdChjbGVhclRpbWVvdXRTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIGNsZWFyVGltZW91dFNweS5tb2NrUmVzdG9yZSgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGNsZWFyIHNlYXJjaCBzdGF0ZScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaCgpKTtcclxuXHJcbiAgICAvLyBTaW11bGFyIGVzdGFkbyBjb24gZGF0b3NcclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsZWFyU2VhcmNoKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucXVlcnkpLnRvQmUoJycpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJlc3VsdHMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN1Z2dlc3Rpb25zKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvcikudG9CZShudWxsKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNTZWFyY2hlZCkudG9CZShmYWxzZSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJmbiIsInNlYXJjaFByb2R1Y3RzIiwibG9jYWxTdG9yYWdlTW9jayIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIm1vY2tQdXNoIiwibW9ja1NlYXJjaFByb2R1Y3RzIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJwdXNoIiwiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VTZWFyY2giLCJleHBlY3QiLCJjdXJyZW50IiwicXVlcnkiLCJ0b0JlIiwicmVzdWx0cyIsInRvRXF1YWwiLCJzdWdnZXN0aW9ucyIsImlzTG9hZGluZyIsImVycm9yIiwiaGFzU2VhcmNoZWQiLCJvblNlYXJjaCIsImRlYm91bmNlTXMiLCJtYXhTdWdnZXN0aW9ucyIsImV4ZWN1dGVTZWFyY2giLCJzZWFyY2hXaXRoRGVib3VuY2UiLCJtb2NrUmVzcG9uc2UiLCJzdWNjZXNzIiwiZGF0YSIsImlkIiwibmFtZSIsInByaWNlIiwicGFnaW5hdGlvbiIsInRvdGFsIiwicGFnZSIsImxpbWl0IiwidG90YWxQYWdlcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiYWN0Iiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja0Vycm9yIiwiRXJyb3IiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsInRvQmVUcnV0aHkiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJzdWdnZXN0aW9uIiwidHlwZSIsInRpdGxlIiwiaHJlZiIsInNlbGVjdFN1Z2dlc3Rpb24iLCJzYXZlUmVjZW50U2VhcmNoZXMiLCJzdHJpbmdDb250YWluaW5nIiwicmVjZW50U2VhcmNoZXMiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5pdGlhbGl6ZSIsImNsZWFyVGltZW91dFNweSIsInNweU9uIiwiZ2xvYmFsIiwidW5tb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNsZWFudXAiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibW9ja1Jlc3RvcmUiLCJjbGVhclNlYXJjaCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDJEQUEyRDtBQUMzRCxzQ0FBc0M7O0FBT3RDLHNDQUFzQztBQUN0QyxRQUFRO0FBQ1Isc0NBQXNDO0FBRXRDLHNCQUFzQjtBQUN0QkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVdGLEtBQUtHLEVBQUU7SUFDcEIsQ0FBQTtBQUVBLHdCQUF3QjtBQUN4QkgsS0FBS0MsSUFBSSxDQUFDLHNCQUFzQixJQUFPLENBQUE7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