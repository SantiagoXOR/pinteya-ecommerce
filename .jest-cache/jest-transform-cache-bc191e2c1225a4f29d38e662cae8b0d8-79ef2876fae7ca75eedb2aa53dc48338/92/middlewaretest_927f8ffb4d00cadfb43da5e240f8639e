983b6d2977e314133ff1120532962f6d
// ===================================
// PINTEYA E-COMMERCE - MIDDLEWARE CONSERVADOR (VERSIÓN ESTABLE)
// ===================================
// Implementación conservadora que mantiene la estructura original
// pero con mejoras mínimas y compatibilidad garantizada
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    config: function() {
        return config;
    },
    // ===================================
    // MIDDLEWARE PRINCIPAL CONSERVADOR
    // ===================================
    default: function() {
        return _default;
    }
});
const _server = require("next/server");
const _server1 = require("@clerk/nextjs/server");
// ===================================
// DEFINICIÓN DE RUTAS
// ===================================
// Rutas que requieren autenticación admin
const isAdminRoute = (0, _server1.createRouteMatcher)([
    '/api/admin(.*)',
    '/admin(.*)'
]);
// Rutas públicas que NO requieren autenticación
const isPublicRoute = (0, _server1.createRouteMatcher)([
    '/',
    '/shop(.*)',
    '/search(.*)',
    '/product(.*)',
    '/category(.*)',
    '/about',
    '/contact',
    '/signin(.*)',
    '/signup(.*)',
    '/sso-callback(.*)',
    // APIs públicas
    '/api/products(.*)',
    '/api/categories(.*)',
    '/api/test(.*)',
    '/api/payments/create-preference',
    '/api/payments/webhook',
    '/api/payments/status',
    '/api/auth/webhook',
    '/api/webhooks(.*)',
    '/api/debug(.*)',
    '/api/analytics(.*)'
]);
// Rutas que deben ser completamente excluidas del middleware
const isExcludedRoute = (0, _server1.createRouteMatcher)([
    '/api/auth/webhook',
    '/api/webhooks(.*)',
    '/api/webhooks/clerk'
]);
const _default = (0, _server1.clerkMiddleware)(async (auth, request)=>{
    const { pathname } = request.nextUrl;
    // Redirección de /my-account a /admin (mantener compatibilidad)
    if (pathname.startsWith('/my-account')) {
        const adminUrl = new URL('/admin', request.url);
        return _server.NextResponse.redirect(adminUrl, {
            status: 302
        });
    }
    // Exclusión total para rutas que causan recursión
    if (isExcludedRoute(request)) {
        return _server.NextResponse.next();
    }
    // Skip inmediato para rutas estáticas (performance crítico)
    if (pathname.startsWith('/_next') || pathname.startsWith('/favicon') || pathname.includes('.') || pathname === '/robots.txt' || pathname === '/sitemap.xml' || pathname === '/_not-found') {
        return _server.NextResponse.next();
    }
    // Skip inmediato para webhooks (CRÍTICO para producción)
    if (pathname.startsWith('/api/webhooks/')) {
        return _server.NextResponse.next();
    }
    // ===================================
    // PROTECCIÓN DE RUTAS ADMIN (CONSERVADORA)
    // ===================================
    if (isAdminRoute(request)) {
        const { userId, sessionClaims, redirectToSignIn } = await auth();
        if (!userId) {
            return redirectToSignIn();
        }
        // Verificación robusta de roles con fallback a Clerk API
        const publicRole = sessionClaims?.publicMetadata?.role;
        const privateRole = sessionClaims?.privateMetadata?.role;
        let isAdmin = publicRole === 'admin' || privateRole === 'admin';
        // Si sessionClaims no tiene el rol, verificar directamente con Clerk
        if (!isAdmin) {
            try {
                const clerkClient = (0, _server1.createClerkClient)({
                    secretKey: process.env.CLERK_SECRET_KEY
                });
                const clerkUser = await clerkClient.users.getUser(userId);
                const userPublicRole = clerkUser.publicMetadata?.role;
                const userPrivateRole = clerkUser.privateMetadata?.role;
                isAdmin = userPublicRole === 'admin' || userPrivateRole === 'admin';
            } catch (error) {
                console.error(`[MIDDLEWARE] Error verificando con Clerk API:`, error);
            }
        }
        if (!isAdmin) {
            // Redirigir a homepage
            return _server.NextResponse.redirect(new URL('/', request.url));
        }
        return _server.NextResponse.next();
    }
    // ===================================
    // RUTAS PÚBLICAS Y OTRAS PROTEGIDAS
    // ===================================
    // Permitir rutas públicas sin verificación adicional
    if (isPublicRoute(request)) {
        return _server.NextResponse.next();
    }
    // Para otras rutas protegidas, verificar autenticación básica
    const { userId, redirectToSignIn } = await auth();
    if (!userId) {
        return redirectToSignIn();
    }
    return _server.NextResponse.next();
});
const config = {
    matcher: [
        // Incluir todas las rutas excepto archivos estáticos Y rutas excluidas
        '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)|api/auth/webhook|api/webhooks/clerk).*)',
        // Procesar rutas API EXCEPTO las que causan recursión
        '/(api|trpc)/((?!auth/webhook|webhooks/clerk).*)'
    ]
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcbWlkZGxld2FyZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBNSURETEVXQVJFIENPTlNFUlZBRE9SIChWRVJTScOTTiBFU1RBQkxFKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEltcGxlbWVudGFjacOzbiBjb25zZXJ2YWRvcmEgcXVlIG1hbnRpZW5lIGxhIGVzdHJ1Y3R1cmEgb3JpZ2luYWxcbi8vIHBlcm8gY29uIG1lam9yYXMgbcOtbmltYXMgeSBjb21wYXRpYmlsaWRhZCBnYXJhbnRpemFkYVxuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY2xlcmtNaWRkbGV3YXJlLCBjcmVhdGVSb3V0ZU1hdGNoZXIgfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGVya0NsaWVudCB9IGZyb20gJ0BjbGVyay9uZXh0anMvc2VydmVyJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERFRklOSUNJw5NOIERFIFJVVEFTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBSdXRhcyBxdWUgcmVxdWllcmVuIGF1dGVudGljYWNpw7NuIGFkbWluXG5jb25zdCBpc0FkbWluUm91dGUgPSBjcmVhdGVSb3V0ZU1hdGNoZXIoW1xuICAnL2FwaS9hZG1pbiguKiknLFxuICAnL2FkbWluKC4qKSdcbl0pO1xuXG4vLyBSdXRhcyBww7pibGljYXMgcXVlIE5PIHJlcXVpZXJlbiBhdXRlbnRpY2FjacOzblxuY29uc3QgaXNQdWJsaWNSb3V0ZSA9IGNyZWF0ZVJvdXRlTWF0Y2hlcihbXG4gICcvJyxcbiAgJy9zaG9wKC4qKScsXG4gICcvc2VhcmNoKC4qKScsXG4gICcvcHJvZHVjdCguKiknLFxuICAnL2NhdGVnb3J5KC4qKScsXG4gICcvYWJvdXQnLFxuICAnL2NvbnRhY3QnLFxuICAnL3NpZ25pbiguKiknLFxuICAnL3NpZ251cCguKiknLFxuICAnL3Nzby1jYWxsYmFjayguKiknLFxuICAvLyBBUElzIHDDumJsaWNhc1xuICAnL2FwaS9wcm9kdWN0cyguKiknLFxuICAnL2FwaS9jYXRlZ29yaWVzKC4qKScsXG4gICcvYXBpL3Rlc3QoLiopJyxcbiAgJy9hcGkvcGF5bWVudHMvY3JlYXRlLXByZWZlcmVuY2UnLFxuICAnL2FwaS9wYXltZW50cy93ZWJob29rJyxcbiAgJy9hcGkvcGF5bWVudHMvc3RhdHVzJyxcbiAgJy9hcGkvYXV0aC93ZWJob29rJyxcbiAgJy9hcGkvd2ViaG9va3MoLiopJyxcbiAgJy9hcGkvZGVidWcoLiopJyxcbiAgJy9hcGkvYW5hbHl0aWNzKC4qKSdcbl0pO1xuXG4vLyBSdXRhcyBxdWUgZGViZW4gc2VyIGNvbXBsZXRhbWVudGUgZXhjbHVpZGFzIGRlbCBtaWRkbGV3YXJlXG5jb25zdCBpc0V4Y2x1ZGVkUm91dGUgPSBjcmVhdGVSb3V0ZU1hdGNoZXIoW1xuICAnL2FwaS9hdXRoL3dlYmhvb2snLFxuICAnL2FwaS93ZWJob29rcyguKiknLFxuICAnL2FwaS93ZWJob29rcy9jbGVyaydcbl0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTUlERExFV0FSRSBQUklOQ0lQQUwgQ09OU0VSVkFET1Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBkZWZhdWx0IGNsZXJrTWlkZGxld2FyZShhc3luYyAoYXV0aCwgcmVxdWVzdCkgPT4ge1xuICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXF1ZXN0Lm5leHRVcmw7XG5cbiAgLy8gUmVkaXJlY2Npw7NuIGRlIC9teS1hY2NvdW50IGEgL2FkbWluIChtYW50ZW5lciBjb21wYXRpYmlsaWRhZClcbiAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9teS1hY2NvdW50JykpIHtcbiAgICBjb25zdCBhZG1pblVybCA9IG5ldyBVUkwoJy9hZG1pbicsIHJlcXVlc3QudXJsKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KGFkbWluVXJsLCB7IHN0YXR1czogMzAyIH0pO1xuICB9XG5cbiAgLy8gRXhjbHVzacOzbiB0b3RhbCBwYXJhIHJ1dGFzIHF1ZSBjYXVzYW4gcmVjdXJzacOzblxuICBpZiAoaXNFeGNsdWRlZFJvdXRlKHJlcXVlc3QpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBTa2lwIGlubWVkaWF0byBwYXJhIHJ1dGFzIGVzdMOhdGljYXMgKHBlcmZvcm1hbmNlIGNyw610aWNvKVxuICBpZiAoXG4gICAgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL19uZXh0JykgfHxcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvZmF2aWNvbicpIHx8XG4gICAgcGF0aG5hbWUuaW5jbHVkZXMoJy4nKSB8fFxuICAgIHBhdGhuYW1lID09PSAnL3JvYm90cy50eHQnIHx8XG4gICAgcGF0aG5hbWUgPT09ICcvc2l0ZW1hcC54bWwnIHx8XG4gICAgcGF0aG5hbWUgPT09ICcvX25vdC1mb3VuZCdcbiAgKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBTa2lwIGlubWVkaWF0byBwYXJhIHdlYmhvb2tzIChDUsONVElDTyBwYXJhIHByb2R1Y2Npw7NuKVxuICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FwaS93ZWJob29rcy8nKSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFJPVEVDQ0nDk04gREUgUlVUQVMgQURNSU4gKENPTlNFUlZBRE9SQSlcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAoaXNBZG1pblJvdXRlKHJlcXVlc3QpKSB7XG4gICAgY29uc3QgeyB1c2VySWQsIHNlc3Npb25DbGFpbXMsIHJlZGlyZWN0VG9TaWduSW4gfSA9IGF3YWl0IGF1dGgoKTtcblxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICByZXR1cm4gcmVkaXJlY3RUb1NpZ25JbigpO1xuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhY2nDs24gcm9idXN0YSBkZSByb2xlcyBjb24gZmFsbGJhY2sgYSBDbGVyayBBUElcbiAgICBjb25zdCBwdWJsaWNSb2xlID0gc2Vzc2lvbkNsYWltcz8ucHVibGljTWV0YWRhdGE/LnJvbGUgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHByaXZhdGVSb2xlID0gc2Vzc2lvbkNsYWltcz8ucHJpdmF0ZU1ldGFkYXRhPy5yb2xlIGFzIHN0cmluZztcblxuICAgIGxldCBpc0FkbWluID0gcHVibGljUm9sZSA9PT0gJ2FkbWluJyB8fCBwcml2YXRlUm9sZSA9PT0gJ2FkbWluJztcblxuICAgIC8vIFNpIHNlc3Npb25DbGFpbXMgbm8gdGllbmUgZWwgcm9sLCB2ZXJpZmljYXIgZGlyZWN0YW1lbnRlIGNvbiBDbGVya1xuICAgIGlmICghaXNBZG1pbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2xlcmtDbGllbnQgPSBjcmVhdGVDbGVya0NsaWVudCh7XG4gICAgICAgICAgc2VjcmV0S2V5OiBwcm9jZXNzLmVudi5DTEVSS19TRUNSRVRfS0VZIVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2xlcmtVc2VyID0gYXdhaXQgY2xlcmtDbGllbnQudXNlcnMuZ2V0VXNlcih1c2VySWQpO1xuICAgICAgICBjb25zdCB1c2VyUHVibGljUm9sZSA9IGNsZXJrVXNlci5wdWJsaWNNZXRhZGF0YT8ucm9sZSBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IHVzZXJQcml2YXRlUm9sZSA9IGNsZXJrVXNlci5wcml2YXRlTWV0YWRhdGE/LnJvbGUgYXMgc3RyaW5nO1xuXG4gICAgICAgIGlzQWRtaW4gPSB1c2VyUHVibGljUm9sZSA9PT0gJ2FkbWluJyB8fCB1c2VyUHJpdmF0ZVJvbGUgPT09ICdhZG1pbic7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbTUlERExFV0FSRV0gRXJyb3IgdmVyaWZpY2FuZG8gY29uIENsZXJrIEFQSTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc0FkbWluKSB7XG4gICAgICAvLyBSZWRpcmlnaXIgYSBob21lcGFnZVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvJywgcmVxdWVzdC51cmwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJVVEFTIFDDmkJMSUNBUyBZIE9UUkFTIFBST1RFR0lEQVNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvLyBQZXJtaXRpciBydXRhcyBww7pibGljYXMgc2luIHZlcmlmaWNhY2nDs24gYWRpY2lvbmFsXG4gIGlmIChpc1B1YmxpY1JvdXRlKHJlcXVlc3QpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBQYXJhIG90cmFzIHJ1dGFzIHByb3RlZ2lkYXMsIHZlcmlmaWNhciBhdXRlbnRpY2FjacOzbiBiw6FzaWNhXG4gIGNvbnN0IHsgdXNlcklkLCByZWRpcmVjdFRvU2lnbkluIH0gPSBhd2FpdCBhdXRoKCk7XG4gIGlmICghdXNlcklkKSB7XG4gICAgcmV0dXJuIHJlZGlyZWN0VG9TaWduSW4oKTtcbiAgfVxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xufSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDT05GSUdVUkFDScOTTiBERUwgTUFUQ0hFUiAoQ09OU0VSVkFET1JBKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgbWF0Y2hlcjogW1xuICAgIC8vIEluY2x1aXIgdG9kYXMgbGFzIHJ1dGFzIGV4Y2VwdG8gYXJjaGl2b3MgZXN0w6F0aWNvcyBZIHJ1dGFzIGV4Y2x1aWRhc1xuICAgICcvKCg/IV9uZXh0fFteP10qXFxcXC4oPzpodG1sP3xjc3N8anMoPyFvbil8anBlP2d8d2VicHxwbmd8Z2lmfHN2Z3x0dGZ8d29mZjI/fGljb3xjc3Z8ZG9jeD98eGxzeD98emlwfHdlYm1hbmlmZXN0KXxhcGkvYXV0aC93ZWJob29rfGFwaS93ZWJob29rcy9jbGVyaykuKiknLFxuICAgIC8vIFByb2Nlc2FyIHJ1dGFzIEFQSSBFWENFUFRPIGxhcyBxdWUgY2F1c2FuIHJlY3Vyc2nDs25cbiAgICAnLyhhcGl8dHJwYykvKCg/IWF1dGgvd2ViaG9va3x3ZWJob29rcy9jbGVyaykuKiknLFxuICBdLFxufTtcbiJdLCJuYW1lcyI6WyJjb25maWciLCJpc0FkbWluUm91dGUiLCJjcmVhdGVSb3V0ZU1hdGNoZXIiLCJpc1B1YmxpY1JvdXRlIiwiaXNFeGNsdWRlZFJvdXRlIiwiY2xlcmtNaWRkbGV3YXJlIiwiYXV0aCIsInJlcXVlc3QiLCJwYXRobmFtZSIsIm5leHRVcmwiLCJzdGFydHNXaXRoIiwiYWRtaW5VcmwiLCJVUkwiLCJ1cmwiLCJOZXh0UmVzcG9uc2UiLCJyZWRpcmVjdCIsInN0YXR1cyIsIm5leHQiLCJpbmNsdWRlcyIsInVzZXJJZCIsInNlc3Npb25DbGFpbXMiLCJyZWRpcmVjdFRvU2lnbkluIiwicHVibGljUm9sZSIsInB1YmxpY01ldGFkYXRhIiwicm9sZSIsInByaXZhdGVSb2xlIiwicHJpdmF0ZU1ldGFkYXRhIiwiaXNBZG1pbiIsImNsZXJrQ2xpZW50IiwiY3JlYXRlQ2xlcmtDbGllbnQiLCJzZWNyZXRLZXkiLCJwcm9jZXNzIiwiZW52IiwiQ0xFUktfU0VDUkVUX0tFWSIsImNsZXJrVXNlciIsInVzZXJzIiwiZ2V0VXNlciIsInVzZXJQdWJsaWNSb2xlIiwidXNlclByaXZhdGVSb2xlIiwiZXJyb3IiLCJjb25zb2xlIiwibWF0Y2hlciJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLGdFQUFnRTtBQUNoRSxzQ0FBc0M7QUFDdEMsa0VBQWtFO0FBQ2xFLHdEQUF3RDs7Ozs7Ozs7Ozs7O0lBa0ozQ0EsTUFBTTtlQUFOQTs7SUFsR2Isc0NBQXNDO0lBQ3RDLG1DQUFtQztJQUNuQyxzQ0FBc0M7SUFFdEMsT0F3Rkc7ZUF4Rkg7Ozt3QkFsRDBDO3lCQUNVO0FBR3BELHNDQUFzQztBQUN0QyxzQkFBc0I7QUFDdEIsc0NBQXNDO0FBRXRDLDBDQUEwQztBQUMxQyxNQUFNQyxlQUFlQyxJQUFBQSwyQkFBa0IsRUFBQztJQUN0QztJQUNBO0NBQ0Q7QUFFRCxnREFBZ0Q7QUFDaEQsTUFBTUMsZ0JBQWdCRCxJQUFBQSwyQkFBa0IsRUFBQztJQUN2QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLGdCQUFnQjtJQUNoQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRUQsNkRBQTZEO0FBQzdELE1BQU1FLGtCQUFrQkYsSUFBQUEsMkJBQWtCLEVBQUM7SUFDekM7SUFDQTtJQUNBO0NBQ0Q7TUFNRCxXQUFlRyxJQUFBQSx3QkFBZSxFQUFDLE9BQU9DLE1BQU1DO0lBQzFDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdELFFBQVFFLE9BQU87SUFFcEMsZ0VBQWdFO0lBQ2hFLElBQUlELFNBQVNFLFVBQVUsQ0FBQyxnQkFBZ0I7UUFDdEMsTUFBTUMsV0FBVyxJQUFJQyxJQUFJLFVBQVVMLFFBQVFNLEdBQUc7UUFDOUMsT0FBT0Msb0JBQVksQ0FBQ0MsUUFBUSxDQUFDSixVQUFVO1lBQUVLLFFBQVE7UUFBSTtJQUN2RDtJQUVBLGtEQUFrRDtJQUNsRCxJQUFJWixnQkFBZ0JHLFVBQVU7UUFDNUIsT0FBT08sb0JBQVksQ0FBQ0csSUFBSTtJQUMxQjtJQUVBLDREQUE0RDtJQUM1RCxJQUNFVCxTQUFTRSxVQUFVLENBQUMsYUFDcEJGLFNBQVNFLFVBQVUsQ0FBQyxlQUNwQkYsU0FBU1UsUUFBUSxDQUFDLFFBQ2xCVixhQUFhLGlCQUNiQSxhQUFhLGtCQUNiQSxhQUFhLGVBQ2I7UUFDQSxPQUFPTSxvQkFBWSxDQUFDRyxJQUFJO0lBQzFCO0lBRUEseURBQXlEO0lBQ3pELElBQUlULFNBQVNFLFVBQVUsQ0FBQyxtQkFBbUI7UUFDekMsT0FBT0ksb0JBQVksQ0FBQ0csSUFBSTtJQUMxQjtJQUVBLHNDQUFzQztJQUN0QywyQ0FBMkM7SUFDM0Msc0NBQXNDO0lBRXRDLElBQUloQixhQUFhTSxVQUFVO1FBQ3pCLE1BQU0sRUFBRVksTUFBTSxFQUFFQyxhQUFhLEVBQUVDLGdCQUFnQixFQUFFLEdBQUcsTUFBTWY7UUFFMUQsSUFBSSxDQUFDYSxRQUFRO1lBQ1gsT0FBT0U7UUFDVDtRQUVBLHlEQUF5RDtRQUN6RCxNQUFNQyxhQUFhRixlQUFlRyxnQkFBZ0JDO1FBQ2xELE1BQU1DLGNBQWNMLGVBQWVNLGlCQUFpQkY7UUFFcEQsSUFBSUcsVUFBVUwsZUFBZSxXQUFXRyxnQkFBZ0I7UUFFeEQscUVBQXFFO1FBQ3JFLElBQUksQ0FBQ0UsU0FBUztZQUNaLElBQUk7Z0JBQ0YsTUFBTUMsY0FBY0MsSUFBQUEsMEJBQWlCLEVBQUM7b0JBQ3BDQyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtnQkFDekM7Z0JBQ0EsTUFBTUMsWUFBWSxNQUFNTixZQUFZTyxLQUFLLENBQUNDLE9BQU8sQ0FBQ2pCO2dCQUNsRCxNQUFNa0IsaUJBQWlCSCxVQUFVWCxjQUFjLEVBQUVDO2dCQUNqRCxNQUFNYyxrQkFBa0JKLFVBQVVSLGVBQWUsRUFBRUY7Z0JBRW5ERyxVQUFVVSxtQkFBbUIsV0FBV0Msb0JBQW9CO1lBQzlELEVBQUUsT0FBT0MsT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLENBQUMsNkNBQTZDLENBQUMsRUFBRUE7WUFDakU7UUFDRjtRQUVBLElBQUksQ0FBQ1osU0FBUztZQUNaLHVCQUF1QjtZQUN2QixPQUFPYixvQkFBWSxDQUFDQyxRQUFRLENBQUMsSUFBSUgsSUFBSSxLQUFLTCxRQUFRTSxHQUFHO1FBQ3ZEO1FBRUEsT0FBT0Msb0JBQVksQ0FBQ0csSUFBSTtJQUMxQjtJQUVBLHNDQUFzQztJQUN0QyxvQ0FBb0M7SUFDcEMsc0NBQXNDO0lBRXRDLHFEQUFxRDtJQUNyRCxJQUFJZCxjQUFjSSxVQUFVO1FBQzFCLE9BQU9PLG9CQUFZLENBQUNHLElBQUk7SUFDMUI7SUFFQSw4REFBOEQ7SUFDOUQsTUFBTSxFQUFFRSxNQUFNLEVBQUVFLGdCQUFnQixFQUFFLEdBQUcsTUFBTWY7SUFDM0MsSUFBSSxDQUFDYSxRQUFRO1FBQ1gsT0FBT0U7SUFDVDtJQUVBLE9BQU9QLG9CQUFZLENBQUNHLElBQUk7QUFDMUI7QUFNTyxNQUFNakIsU0FBUztJQUNwQnlDLFNBQVM7UUFDUCx1RUFBdUU7UUFDdkU7UUFDQSxzREFBc0Q7UUFDdEQ7S0FDRDtBQUNIIn0=