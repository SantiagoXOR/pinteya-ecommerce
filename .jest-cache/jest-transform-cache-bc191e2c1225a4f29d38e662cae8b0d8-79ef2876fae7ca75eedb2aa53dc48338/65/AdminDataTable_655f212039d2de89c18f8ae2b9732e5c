36ee202ce78200ba2bd52cf693727603
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "AdminDataTable", {
    enumerable: true,
    get: function() {
        return AdminDataTable;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _utils = require("../../../lib/utils");
const _lucidereact = require("lucide-react");
function AdminDataTable({ data, columns, loading = false, error, pagination, filters, searchable = true, exportable = false, selectable = false, onRowClick, onSelectionChange, actions, className }) {
    const [searchTerm, setSearchTerm] = (0, _react.useState)('');
    const [selectedRows, setSelectedRows] = (0, _react.useState)([]);
    const [sortConfig, setSortConfig] = (0, _react.useState)(null);
    // Asegurar que data siempre sea un array
    console.log('🔍 AdminDataTable: data recibida:', {
        data,
        type: typeof data,
        isArray: Array.isArray(data)
    });
    const safeData = Array.isArray(data) ? data : [];
    // Filter and search data
    const filteredData = safeData.filter((row)=>{
        if (!searchTerm) return true;
        return Object.values(row).some((value)=>String(value).toLowerCase().includes(searchTerm.toLowerCase()));
    });
    // Sort data
    const sortedData = sortConfig ? [
        ...filteredData
    ].sort((a, b)=>{
        const aValue = a[sortConfig.key];
        const bValue = b[sortConfig.key];
        if (aValue < bValue) {
            return sortConfig.direction === 'asc' ? -1 : 1;
        }
        if (aValue > bValue) {
            return sortConfig.direction === 'asc' ? 1 : -1;
        }
        return 0;
    }) : filteredData;
    const handleSort = (key)=>{
        setSortConfig((current)=>{
            if (current?.key === key) {
                return {
                    key,
                    direction: current.direction === 'asc' ? 'desc' : 'asc'
                };
            }
            return {
                key,
                direction: 'asc'
            };
        });
    };
    const handleRowSelection = (row, checked)=>{
        const newSelection = checked ? [
            ...selectedRows,
            row
        ] : selectedRows.filter((r)=>r !== row);
        setSelectedRows(newSelection);
        onSelectionChange?.(newSelection);
    };
    const handleSelectAll = (checked)=>{
        const newSelection = checked ? [
            ...sortedData
        ] : [];
        setSelectedRows(newSelection);
        onSelectionChange?.(newSelection);
    };
    if (error) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "bg-red-50 border border-red-200 rounded-lg p-4",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                className: "text-red-800",
                children: [
                    "Error: ",
                    error
                ]
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: (0, _utils.cn)("bg-white rounded-lg border border-gray-200", className),
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-4 border-b border-gray-200",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-4",
                            children: [
                                searchable && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Search, {
                                            className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "text",
                                            placeholder: "Buscar...",
                                            value: searchTerm,
                                            onChange: (e)=>setSearchTerm(e.target.value),
                                            className: "pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blaze-orange-500 focus:border-transparent"
                                        })
                                    ]
                                }),
                                filters && filters.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    className: "flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Filter, {
                                            className: "w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "Filtros"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-2",
                            children: [
                                exportable && /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                    className: "flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Download, {
                                            className: "w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: "Exportar"
                                        })
                                    ]
                                }),
                                actions
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "overflow-x-auto",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("table", {
                    className: "w-full",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("thead", {
                            className: "bg-gray-50",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                children: [
                                    selectable && /*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                        className: "w-12 px-4 py-3 text-left",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: selectedRows.length === sortedData.length && sortedData.length > 0,
                                            onChange: (e)=>handleSelectAll(e.target.checked),
                                            className: "rounded border-gray-300 text-blaze-orange-600 focus:ring-blaze-orange-500"
                                        })
                                    }),
                                    columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("th", {
                                            className: (0, _utils.cn)("px-4 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", column.align === 'center' && "text-center", column.align === 'right' && "text-right", column.sortable && "cursor-pointer hover:bg-gray-100"),
                                            style: {
                                                width: column.width
                                            },
                                            onClick: ()=>column.sortable && handleSort(String(column.key)),
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center space-x-1",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: column.title
                                                    }),
                                                    column.sortable && sortConfig?.key === column.key && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        className: "text-blaze-orange-600",
                                                        children: sortConfig.direction === 'asc' ? '↑' : '↓'
                                                    })
                                                ]
                                            })
                                        }, String(column.key)))
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("tbody", {
                            className: "bg-white divide-y divide-gray-200",
                            children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsx)("tr", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                    colSpan: columns.length + (selectable ? 1 : 0),
                                    className: "px-4 py-8 text-center",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center justify-center",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "animate-spin rounded-full h-6 w-6 border-b-2 border-blaze-orange-600"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "ml-2 text-gray-600",
                                                children: "Cargando..."
                                            })
                                        ]
                                    })
                                })
                            }) : sortedData.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("tr", {
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                    colSpan: columns.length + (selectable ? 1 : 0),
                                    className: "px-4 py-8 text-center text-gray-500",
                                    children: "No se encontraron datos"
                                })
                            }) : sortedData.map((row, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("tr", {
                                    className: (0, _utils.cn)("hover:bg-gray-50 transition-colors", onRowClick && "cursor-pointer", selectedRows.includes(row) && "bg-blaze-orange-50"),
                                    onClick: ()=>onRowClick?.(row),
                                    children: [
                                        selectable && /*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                            className: "px-4 py-4",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                type: "checkbox",
                                                checked: selectedRows.includes(row),
                                                onChange: (e)=>{
                                                    e.stopPropagation();
                                                    handleRowSelection(row, e.target.checked);
                                                },
                                                className: "rounded border-gray-300 text-blaze-orange-600 focus:ring-blaze-orange-500"
                                            })
                                        }),
                                        columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("td", {
                                                className: (0, _utils.cn)("px-4 py-4 whitespace-nowrap text-sm text-gray-900", column.align === 'center' && "text-center", column.align === 'right' && "text-right"),
                                                children: column.render ? column.render(row[column.key], row) : String(row[column.key] || '')
                                            }, String(column.key)))
                                    ]
                                }, index))
                        })
                    ]
                })
            }),
            pagination && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "px-4 py-3 border-t border-gray-200 flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2 text-sm text-gray-700",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                children: "Mostrando"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                value: pagination.pageSize,
                                onChange: (e)=>pagination.onPageSizeChange(Number(e.target.value)),
                                className: "border border-gray-300 rounded px-2 py-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 10,
                                        children: "10"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 25,
                                        children: "25"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 50,
                                        children: "50"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: 100,
                                        children: "100"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                children: [
                                    "de ",
                                    pagination.total,
                                    " resultados"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(1),
                                disabled: pagination.page === 1,
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronsLeft, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(pagination.page - 1),
                                disabled: pagination.page === 1,
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronLeft, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "px-3 py-1 text-sm",
                                children: [
                                    "P\xe1gina ",
                                    pagination.page,
                                    " de ",
                                    Math.ceil(pagination.total / pagination.pageSize)
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(pagination.page + 1),
                                disabled: pagination.page >= Math.ceil(pagination.total / pagination.pageSize),
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronRight, {
                                    className: "w-4 h-4"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>pagination.onPageChange(Math.ceil(pagination.total / pagination.pageSize)),
                                disabled: pagination.page >= Math.ceil(pagination.total / pagination.pageSize),
                                className: "p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronsRight, {
                                    className: "w-4 h-4"
                                })
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcYWRtaW5cXHVpXFxBZG1pbkRhdGFUYWJsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgXG4gIENoZXZyb25MZWZ0LCBcbiAgQ2hldnJvblJpZ2h0LCBcbiAgQ2hldnJvbnNMZWZ0LCBcbiAgQ2hldnJvbnNSaWdodCxcbiAgU2VhcmNoLFxuICBGaWx0ZXIsXG4gIERvd25sb2FkLFxuICBNb3JlSG9yaXpvbnRhbFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgQ29sdW1uPFQ+IHtcbiAga2V5OiBrZXlvZiBUIHwgc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICByZW5kZXI/OiAodmFsdWU6IGFueSwgcm93OiBUKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG4gIHNvcnRhYmxlPzogYm9vbGVhbjtcbiAgd2lkdGg/OiBzdHJpbmc7XG4gIGFsaWduPzogJ2xlZnQnIHwgJ2NlbnRlcicgfCAncmlnaHQnO1xufVxuXG5pbnRlcmZhY2UgRmlsdGVyQ29uZmlnIHtcbiAga2V5OiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHR5cGU6ICd0ZXh0JyB8ICdzZWxlY3QnIHwgJ2RhdGUnO1xuICBvcHRpb25zPzogeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH1bXTtcbn1cblxuaW50ZXJmYWNlIFBhZ2luYXRpb25Db25maWcge1xuICBwYWdlOiBudW1iZXI7XG4gIHBhZ2VTaXplOiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIG9uUGFnZUNoYW5nZTogKHBhZ2U6IG51bWJlcikgPT4gdm9pZDtcbiAgb25QYWdlU2l6ZUNoYW5nZTogKHBhZ2VTaXplOiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBBZG1pbkRhdGFUYWJsZVByb3BzPFQ+IHtcbiAgZGF0YTogVFtdO1xuICBjb2x1bW5zOiBDb2x1bW48VD5bXTtcbiAgbG9hZGluZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xuICBwYWdpbmF0aW9uPzogUGFnaW5hdGlvbkNvbmZpZztcbiAgZmlsdGVycz86IEZpbHRlckNvbmZpZ1tdO1xuICBzZWFyY2hhYmxlPzogYm9vbGVhbjtcbiAgZXhwb3J0YWJsZT86IGJvb2xlYW47XG4gIHNlbGVjdGFibGU/OiBib29sZWFuO1xuICBvblJvd0NsaWNrPzogKHJvdzogVCkgPT4gdm9pZDtcbiAgb25TZWxlY3Rpb25DaGFuZ2U/OiAoc2VsZWN0ZWRSb3dzOiBUW10pID0+IHZvaWQ7XG4gIGFjdGlvbnM/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFkbWluRGF0YVRhYmxlPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+Pih7XG4gIGRhdGEsXG4gIGNvbHVtbnMsXG4gIGxvYWRpbmcgPSBmYWxzZSxcbiAgZXJyb3IsXG4gIHBhZ2luYXRpb24sXG4gIGZpbHRlcnMsXG4gIHNlYXJjaGFibGUgPSB0cnVlLFxuICBleHBvcnRhYmxlID0gZmFsc2UsXG4gIHNlbGVjdGFibGUgPSBmYWxzZSxcbiAgb25Sb3dDbGljayxcbiAgb25TZWxlY3Rpb25DaGFuZ2UsXG4gIGFjdGlvbnMsXG4gIGNsYXNzTmFtZVxufTogQWRtaW5EYXRhVGFibGVQcm9wczxUPikge1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzZWxlY3RlZFJvd3MsIHNldFNlbGVjdGVkUm93c10gPSB1c2VTdGF0ZTxUW10+KFtdKTtcbiAgY29uc3QgW3NvcnRDb25maWcsIHNldFNvcnRDb25maWddID0gdXNlU3RhdGU8e1xuICAgIGtleTogc3RyaW5nO1xuICAgIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYyc7XG4gIH0gfCBudWxsPihudWxsKTtcblxuICAvLyBBc2VndXJhciBxdWUgZGF0YSBzaWVtcHJlIHNlYSB1biBhcnJheVxuICBjb25zb2xlLmxvZygn8J+UjSBBZG1pbkRhdGFUYWJsZTogZGF0YSByZWNpYmlkYTonLCB7IGRhdGEsIHR5cGU6IHR5cGVvZiBkYXRhLCBpc0FycmF5OiBBcnJheS5pc0FycmF5KGRhdGEpIH0pO1xuICBjb25zdCBzYWZlRGF0YSA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW107XG5cbiAgLy8gRmlsdGVyIGFuZCBzZWFyY2ggZGF0YVxuICBjb25zdCBmaWx0ZXJlZERhdGEgPSBzYWZlRGF0YS5maWx0ZXIocm93ID0+IHtcbiAgICBpZiAoIXNlYXJjaFRlcm0pIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJvdykuc29tZSh2YWx1ZSA9PiBcbiAgICAgIFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpXG4gICAgKTtcbiAgfSk7XG5cbiAgLy8gU29ydCBkYXRhXG4gIGNvbnN0IHNvcnRlZERhdGEgPSBzb3J0Q29uZmlnXG4gICAgPyBbLi4uZmlsdGVyZWREYXRhXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGFWYWx1ZSA9IGFbc29ydENvbmZpZy5rZXldO1xuICAgICAgICBjb25zdCBiVmFsdWUgPSBiW3NvcnRDb25maWcua2V5XTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhVmFsdWUgPCBiVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc29ydENvbmZpZy5kaXJlY3Rpb24gPT09ICdhc2MnID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhVmFsdWUgPiBiVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc29ydENvbmZpZy5kaXJlY3Rpb24gPT09ICdhc2MnID8gMSA6IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSlcbiAgICA6IGZpbHRlcmVkRGF0YTtcblxuICBjb25zdCBoYW5kbGVTb3J0ID0gKGtleTogc3RyaW5nKSA9PiB7XG4gICAgc2V0U29ydENvbmZpZyhjdXJyZW50ID0+IHtcbiAgICAgIGlmIChjdXJyZW50Py5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBkaXJlY3Rpb246IGN1cnJlbnQuZGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBrZXksIGRpcmVjdGlvbjogJ2FzYycgfTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVSb3dTZWxlY3Rpb24gPSAocm93OiBULCBjaGVja2VkOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgbmV3U2VsZWN0aW9uID0gY2hlY2tlZFxuICAgICAgPyBbLi4uc2VsZWN0ZWRSb3dzLCByb3ddXG4gICAgICA6IHNlbGVjdGVkUm93cy5maWx0ZXIociA9PiByICE9PSByb3cpO1xuICAgIFxuICAgIHNldFNlbGVjdGVkUm93cyhuZXdTZWxlY3Rpb24pO1xuICAgIG9uU2VsZWN0aW9uQ2hhbmdlPy4obmV3U2VsZWN0aW9uKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RBbGwgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IG5ld1NlbGVjdGlvbiA9IGNoZWNrZWQgPyBbLi4uc29ydGVkRGF0YV0gOiBbXTtcbiAgICBzZXRTZWxlY3RlZFJvd3MobmV3U2VsZWN0aW9uKTtcbiAgICBvblNlbGVjdGlvbkNoYW5nZT8uKG5ld1NlbGVjdGlvbik7XG4gIH07XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC04MDBcIj5FcnJvcjoge2Vycm9yfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcImJnLXdoaXRlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMFwiLCBjbGFzc05hbWUpfT5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgey8qIFNlYXJjaCAqL31cbiAgICAgICAgICAgIHtzZWFyY2hhYmxlICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyLi4uXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTEwIHByLTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsYXplLW9yYW5nZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBGaWx0ZXJzICovfVxuICAgICAgICAgICAge2ZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgPEZpbHRlciBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5GaWx0cm9zPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgey8qIEV4cG9ydCAqL31cbiAgICAgICAgICAgIHtleHBvcnRhYmxlICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPkV4cG9ydGFyPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBBY3Rpb25zICovfVxuICAgICAgICAgICAge2FjdGlvbnN9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBUYWJsZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS01MFwiPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICB7c2VsZWN0YWJsZSAmJiAoXG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInctMTIgcHgtNCBweS0zIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkUm93cy5sZW5ndGggPT09IHNvcnRlZERhdGEubGVuZ3RoICYmIHNvcnRlZERhdGEubGVuZ3RoID4gMH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVTZWxlY3RBbGwoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyLWdyYXktMzAwIHRleHQtYmxhemUtb3JhbmdlLTYwMCBmb2N1czpyaW5nLWJsYXplLW9yYW5nZS01MDBcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAga2V5PXtTdHJpbmcoY29sdW1uLmtleSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgICBcInB4LTQgcHktMyB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5hbGlnbiA9PT0gJ2NlbnRlcicgJiYgXCJ0ZXh0LWNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09ICdyaWdodCcgJiYgXCJ0ZXh0LXJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zb3J0YWJsZSAmJiBcImN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sdW1uLndpZHRoIH19XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb2x1bW4uc29ydGFibGUgJiYgaGFuZGxlU29ydChTdHJpbmcoY29sdW1uLmtleSkpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntjb2x1bW4udGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLnNvcnRhYmxlICYmIHNvcnRDb25maWc/LmtleSA9PT0gY29sdW1uLmtleSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibGF6ZS1vcmFuZ2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c29ydENvbmZpZy5kaXJlY3Rpb24gPT09ICdhc2MnID8gJ+KGkScgOiAn4oaTJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwXCI+XG4gICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXtjb2x1bW5zLmxlbmd0aCArIChzZWxlY3RhYmxlID8gMSA6IDApfSBjbGFzc05hbWU9XCJweC00IHB5LTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLWItMiBib3JkZXItYmxhemUtb3JhbmdlLTYwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtZ3JheS02MDBcIj5DYXJnYW5kby4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICApIDogc29ydGVkRGF0YS5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj17Y29sdW1ucy5sZW5ndGggKyAoc2VsZWN0YWJsZSA/IDEgOiAwKX0gY2xhc3NOYW1lPVwicHgtNCBweS04IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIE5vIHNlIGVuY29udHJhcm9uIGRhdG9zXG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHNvcnRlZERhdGEubWFwKChyb3csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgXCJob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uUm93Q2xpY2sgJiYgXCJjdXJzb3ItcG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd3MuaW5jbHVkZXMocm93KSAmJiBcImJnLWJsYXplLW9yYW5nZS01MFwiXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Sb3dDbGljaz8uKHJvdyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGFibGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWRSb3dzLmluY2x1ZGVzKHJvdyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUm93U2VsZWN0aW9uKHJvdywgZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXItZ3JheS0zMDAgdGV4dC1ibGF6ZS1vcmFuZ2UtNjAwIGZvY3VzOnJpbmctYmxhemUtb3JhbmdlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e1N0cmluZyhjb2x1bW4ua2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSB0ZXh0LWdyYXktOTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09ICdjZW50ZXInICYmIFwidGV4dC1jZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5hbGlnbiA9PT0gJ3JpZ2h0JyAmJiBcInRleHQtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLnJlbmRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjb2x1bW4ucmVuZGVyKHJvd1tjb2x1bW4ua2V5IGFzIGtleW9mIFRdLCByb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhyb3dbY29sdW1uLmtleSBhcyBrZXlvZiBUXSB8fCAnJylcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBQYWdpbmF0aW9uICovfVxuICAgICAge3BhZ2luYXRpb24gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICA8c3Bhbj5Nb3N0cmFuZG88L3NwYW4+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIHZhbHVlPXtwYWdpbmF0aW9uLnBhZ2VTaXplfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHBhZ2luYXRpb24ub25QYWdlU2l6ZUNoYW5nZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHB4LTIgcHktMVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezEwfT4xMDwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXsyNX0+MjU8L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17NTB9PjUwPC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezEwMH0+MTAwPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDxzcGFuPmRlIHtwYWdpbmF0aW9uLnRvdGFsfSByZXN1bHRhZG9zPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vblBhZ2VDaGFuZ2UoMSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtwYWdpbmF0aW9uLnBhZ2UgPT09IDF9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkIGhvdmVyOmJnLWdyYXktMTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25zTGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwYWdpbmF0aW9uLm9uUGFnZUNoYW5nZShwYWdpbmF0aW9uLnBhZ2UgLSAxKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3BhZ2luYXRpb24ucGFnZSA9PT0gMX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQgaG92ZXI6YmctZ3JheS0xMDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgUMOhZ2luYSB7cGFnaW5hdGlvbi5wYWdlfSBkZSB7TWF0aC5jZWlsKHBhZ2luYXRpb24udG90YWwgLyBwYWdpbmF0aW9uLnBhZ2VTaXplKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwYWdpbmF0aW9uLm9uUGFnZUNoYW5nZShwYWdpbmF0aW9uLnBhZ2UgKyAxKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3BhZ2luYXRpb24ucGFnZSA+PSBNYXRoLmNlaWwocGFnaW5hdGlvbi50b3RhbCAvIHBhZ2luYXRpb24ucGFnZVNpemUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTEwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vblBhZ2VDaGFuZ2UoTWF0aC5jZWlsKHBhZ2luYXRpb24udG90YWwgLyBwYWdpbmF0aW9uLnBhZ2VTaXplKSl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtwYWdpbmF0aW9uLnBhZ2UgPj0gTWF0aC5jZWlsKHBhZ2luYXRpb24udG90YWwgLyBwYWdpbmF0aW9uLnBhZ2VTaXplKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQgaG92ZXI6YmctZ3JheS0xMDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbnNSaWdodCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQWRtaW5EYXRhVGFibGUiLCJkYXRhIiwiY29sdW1ucyIsImxvYWRpbmciLCJlcnJvciIsInBhZ2luYXRpb24iLCJmaWx0ZXJzIiwic2VhcmNoYWJsZSIsImV4cG9ydGFibGUiLCJzZWxlY3RhYmxlIiwib25Sb3dDbGljayIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiYWN0aW9ucyIsImNsYXNzTmFtZSIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwidXNlU3RhdGUiLCJzZWxlY3RlZFJvd3MiLCJzZXRTZWxlY3RlZFJvd3MiLCJzb3J0Q29uZmlnIiwic2V0U29ydENvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiaXNBcnJheSIsIkFycmF5Iiwic2FmZURhdGEiLCJmaWx0ZXJlZERhdGEiLCJmaWx0ZXIiLCJyb3ciLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb21lIiwidmFsdWUiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwic29ydGVkRGF0YSIsInNvcnQiLCJhIiwiYiIsImFWYWx1ZSIsImtleSIsImJWYWx1ZSIsImRpcmVjdGlvbiIsImhhbmRsZVNvcnQiLCJjdXJyZW50IiwiaGFuZGxlUm93U2VsZWN0aW9uIiwiY2hlY2tlZCIsIm5ld1NlbGVjdGlvbiIsInIiLCJoYW5kbGVTZWxlY3RBbGwiLCJkaXYiLCJwIiwiY24iLCJTZWFyY2giLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwibGVuZ3RoIiwiYnV0dG9uIiwiRmlsdGVyIiwic3BhbiIsIkRvd25sb2FkIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJtYXAiLCJjb2x1bW4iLCJhbGlnbiIsInNvcnRhYmxlIiwic3R5bGUiLCJ3aWR0aCIsIm9uQ2xpY2siLCJ0aXRsZSIsInRib2R5IiwidGQiLCJjb2xTcGFuIiwiaW5kZXgiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXIiLCJzZWxlY3QiLCJwYWdlU2l6ZSIsIm9uUGFnZVNpemVDaGFuZ2UiLCJOdW1iZXIiLCJvcHRpb24iLCJ0b3RhbCIsIm9uUGFnZUNoYW5nZSIsImRpc2FibGVkIiwicGFnZSIsIkNoZXZyb25zTGVmdCIs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