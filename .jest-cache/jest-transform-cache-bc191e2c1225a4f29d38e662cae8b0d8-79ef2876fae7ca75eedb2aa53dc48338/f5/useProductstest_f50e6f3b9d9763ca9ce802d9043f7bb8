3dcac86691aa6ef0448b5f0cf21fab4a
// ===================================
// PINTEYA E-COMMERCE - TEST useProducts HOOK
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useProducts = require("../../hooks/useProducts");
// Mock data
const mockProductsResponse = {
    success: true,
    data: [
        {
            id: 1,
            name: 'Test Product 1',
            slug: 'test-product-1',
            description: 'Test description',
            price: 1000,
            discounted_price: 900,
            stock: 10,
            category_id: 1,
            images: {
                previews: [
                    '/test1.jpg'
                ]
            },
            category: {
                id: 1,
                name: 'Test Category',
                slug: 'test-category'
            }
        },
        {
            id: 2,
            name: 'Test Product 2',
            slug: 'test-product-2',
            description: 'Test description 2',
            price: 2000,
            discounted_price: null,
            stock: 5,
            category_id: 2,
            images: {
                previews: [
                    '/test2.jpg'
                ]
            },
            category: {
                id: 2,
                name: 'Test Category 2',
                slug: 'test-category-2'
            }
        }
    ],
    pagination: {
        page: 1,
        limit: 12,
        total: 2,
        totalPages: 1
    }
};
const mockCategoriesResponse = {
    success: true,
    data: [
        {
            id: 1,
            name: 'Test Category',
            slug: 'test-category'
        },
        {
            id: 2,
            name: 'Test Category 2',
            slug: 'test-category-2'
        }
    ]
};
// Mock fetch
const mockFetch = jest.fn();
global.fetch = mockFetch;
// Helper function to create complete mock response
const createMockResponse = (data, options = {})=>({
        ok: options.ok ?? true,
        status: options.status ?? 200,
        statusText: options.statusText ?? 'OK',
        json: async ()=>data,
        text: async ()=>JSON.stringify(data),
        headers: new Headers(),
        url: 'http://localhost:3000/api/products',
        clone: jest.fn()
    });
describe('useProducts Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        mockFetch.mockResolvedValue(createMockResponse(mockProductsResponse));
    });
    it('fetches products on mount', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        // Initially loading should be true
        expect(result.current.loading).toBe(true);
        expect(result.current.products).toEqual([]);
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Should have fetched products - the hook may not include default parameters
        expect(mockFetch).toHaveBeenCalledWith(expect.stringContaining('/api/products'), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
        expect(result.current.products).toHaveLength(2);
        // Products are adapted, so we check the adapted structure
        expect(result.current.products[0]).toBeDefined();
    });
    it('fetches products successfully', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Should have fetched products
        expect(mockFetch).toHaveBeenCalled();
        expect(result.current.products).toHaveLength(2);
        expect(result.current.hasError).toBe(false);
    });
    it('handles search functionality', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock search response
        mockFetch.mockResolvedValueOnce(createMockResponse({
            ...mockProductsResponse,
            data: [
                mockProductsResponse.data[0]
            ]
        }));
        // Perform search
        await (0, _react.act)(async ()=>{
            await result.current.searchProducts('Test Product 1');
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringContaining('/api/products'), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
    });
    it('handles category filtering', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock category filter response
        mockFetch.mockResolvedValueOnce(createMockResponse({
            ...mockProductsResponse,
            data: [
                mockProductsResponse.data[0]
            ]
        }));
        // Filter by category
        await (0, _react.act)(async ()=>{
            await result.current.filterByCategory('1');
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringMatching(/\/api\/products\?.*category=1/), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
    });
    it('handles pagination', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock page 2 response
        mockFetch.mockResolvedValueOnce(createMockResponse({
            ...mockProductsResponse,
            pagination: {
                ...mockProductsResponse.pagination,
                page: 2
            }
        }));
        // Go to page 2
        await (0, _react.act)(async ()=>{
            await result.current.fetchProducts({
                page: 2
            });
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringMatching(/\/api\/products\?.*page=2/), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
        expect(result.current.pagination.page).toBe(2);
    });
    it('handles price range filtering', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock price filter response
        mockFetch.mockResolvedValueOnce(createMockResponse(mockProductsResponse));
        // Filter by price range
        await (0, _react.act)(async ()=>{
            await result.current.fetchProducts({
                priceMin: 500,
                priceMax: 1500
            });
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringMatching(/\/api\/products\?.*priceMin=500.*priceMax=1500/), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
    });
    it('handles sorting', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock sort response
        mockFetch.mockResolvedValueOnce(createMockResponse(mockProductsResponse));
        // Sort by price ascending
        await (0, _react.act)(async ()=>{
            await result.current.fetchProducts({
                sortBy: 'price',
                sortOrder: 'asc'
            });
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringMatching(/\/api\/products\?.*sortBy=price.*sortOrder=asc/), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
    });
    it('handles API errors gracefully', async ()=>{
        mockFetch.mockRejectedValueOnce(new Error('API Error'));
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // getProducts() captura el error y devuelve un objeto con success: false
        // El hook useProducts entonces establece el mensaje genérico
        expect(result.current.error).toBe('Error obteniendo productos');
        expect(result.current.products).toEqual([]);
    });
    it('handles HTTP error responses', async ()=>{
        mockFetch.mockResolvedValueOnce(createMockResponse({
            error: 'Server Error'
        }, {
            ok: false,
            status: 500,
            statusText: 'Internal Server Error'
        }));
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // getProducts() usa safeApiResponseJson() que detecta !response.ok
        // y devuelve un objeto con success: false y message con detalles del error
        // El hook useProducts entonces establece el mensaje genérico
        expect(result.current.error).toBe('Error obteniendo productos');
        expect(result.current.products).toEqual([]);
    });
    it('clears filters correctly', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Apply some filters first
        await (0, _react.act)(async ()=>{
            await result.current.searchProducts('test');
        });
        await (0, _react.act)(async ()=>{
            await result.current.filterByCategory('1');
        });
        // Clear previous calls
        mockFetch.mockClear();
        // Mock reset response
        mockFetch.mockResolvedValueOnce(createMockResponse(mockProductsResponse));
        // Clear filters
        await (0, _react.act)(async ()=>{
            await result.current.clearFilters();
        });
        expect(mockFetch).toHaveBeenCalledWith(expect.stringMatching(/\/api\/products\?.*page=1/), expect.objectContaining({
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        }));
    });
    it('maintains loading state during requests', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useProducts.useProducts)());
        // Initial loading
        expect(result.current.loading).toBe(true);
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
        // Mock slow response
        let resolvePromise;
        const slowPromise = new Promise((resolve)=>{
            resolvePromise = resolve;
        });
        mockFetch.mockReturnValueOnce(slowPromise);
        // Start new request
        (0, _react.act)(()=>{
            result.current.searchProducts('test');
        });
        // Should be loading again
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(true);
        });
        // Resolve the promise
        resolvePromise({
            ok: true,
            json: async ()=>mockProductsResponse
        });
        await (0, _react.waitFor)(()=>{
            expect(result.current.loading).toBe(false);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlUHJvZHVjdHMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUElOVEVZQSBFLUNPTU1FUkNFIC0gVEVTVCB1c2VQcm9kdWN0cyBIT09LXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyByZW5kZXJIb29rLCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0J1xuaW1wb3J0IHsgdXNlUHJvZHVjdHMgfSBmcm9tICdAL2hvb2tzL3VzZVByb2R1Y3RzJ1xuXG4vLyBNb2NrIGRhdGFcbmNvbnN0IG1vY2tQcm9kdWN0c1Jlc3BvbnNlID0ge1xuICBzdWNjZXNzOiB0cnVlLFxuICBkYXRhOiBbXG4gICAge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnVGVzdCBQcm9kdWN0IDEnLFxuICAgICAgc2x1ZzogJ3Rlc3QtcHJvZHVjdC0xJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBkZXNjcmlwdGlvbicsXG4gICAgICBwcmljZTogMTAwMCxcbiAgICAgIGRpc2NvdW50ZWRfcHJpY2U6IDkwMCxcbiAgICAgIHN0b2NrOiAxMCxcbiAgICAgIGNhdGVnb3J5X2lkOiAxLFxuICAgICAgaW1hZ2VzOiB7IHByZXZpZXdzOiBbJy90ZXN0MS5qcGcnXSB9LFxuICAgICAgY2F0ZWdvcnk6IHsgaWQ6IDEsIG5hbWU6ICdUZXN0IENhdGVnb3J5Jywgc2x1ZzogJ3Rlc3QtY2F0ZWdvcnknIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogMixcbiAgICAgIG5hbWU6ICdUZXN0IFByb2R1Y3QgMicsXG4gICAgICBzbHVnOiAndGVzdC1wcm9kdWN0LTInLFxuICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGRlc2NyaXB0aW9uIDInLFxuICAgICAgcHJpY2U6IDIwMDAsXG4gICAgICBkaXNjb3VudGVkX3ByaWNlOiBudWxsLFxuICAgICAgc3RvY2s6IDUsXG4gICAgICBjYXRlZ29yeV9pZDogMixcbiAgICAgIGltYWdlczogeyBwcmV2aWV3czogWycvdGVzdDIuanBnJ10gfSxcbiAgICAgIGNhdGVnb3J5OiB7IGlkOiAyLCBuYW1lOiAnVGVzdCBDYXRlZ29yeSAyJywgc2x1ZzogJ3Rlc3QtY2F0ZWdvcnktMicgfSxcbiAgICB9LFxuICBdLFxuICBwYWdpbmF0aW9uOiB7XG4gICAgcGFnZTogMSxcbiAgICBsaW1pdDogMTIsXG4gICAgdG90YWw6IDIsXG4gICAgdG90YWxQYWdlczogMSxcbiAgfSxcbn1cblxuY29uc3QgbW9ja0NhdGVnb3JpZXNSZXNwb25zZSA9IHtcbiAgc3VjY2VzczogdHJ1ZSxcbiAgZGF0YTogW1xuICAgIHsgaWQ6IDEsIG5hbWU6ICdUZXN0IENhdGVnb3J5Jywgc2x1ZzogJ3Rlc3QtY2F0ZWdvcnknIH0sXG4gICAgeyBpZDogMiwgbmFtZTogJ1Rlc3QgQ2F0ZWdvcnkgMicsIHNsdWc6ICd0ZXN0LWNhdGVnb3J5LTInIH0sXG4gIF0sXG59XG5cbi8vIE1vY2sgZmV0Y2hcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKVxuZ2xvYmFsLmZldGNoID0gbW9ja0ZldGNoXG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29tcGxldGUgbW9jayByZXNwb25zZVxuY29uc3QgY3JlYXRlTW9ja1Jlc3BvbnNlID0gKGRhdGE6IGFueSwgb3B0aW9uczogeyBvaz86IGJvb2xlYW47IHN0YXR1cz86IG51bWJlcjsgc3RhdHVzVGV4dD86IHN0cmluZyB9ID0ge30pID0+ICh7XG4gIG9rOiBvcHRpb25zLm9rID8/IHRydWUsXG4gIHN0YXR1czogb3B0aW9ucy5zdGF0dXMgPz8gMjAwLFxuICBzdGF0dXNUZXh0OiBvcHRpb25zLnN0YXR1c1RleHQgPz8gJ09LJyxcbiAganNvbjogYXN5bmMgKCkgPT4gZGF0YSxcbiAgdGV4dDogYXN5bmMgKCkgPT4gSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCksXG4gIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcHJvZHVjdHMnLFxuICBjbG9uZTogamVzdC5mbigpLFxufSlcblxuZGVzY3JpYmUoJ3VzZVByb2R1Y3RzIEhvb2snLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKGNyZWF0ZU1vY2tSZXNwb25zZShtb2NrUHJvZHVjdHNSZXNwb25zZSkpXG4gIH0pXG5cbiAgaXQoJ2ZldGNoZXMgcHJvZHVjdHMgb24gbW91bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZHVjdHMoKSlcblxuICAgIC8vIEluaXRpYWxseSBsb2FkaW5nIHNob3VsZCBiZSB0cnVlXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvYWRpbmcpLnRvQmUodHJ1ZSlcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucHJvZHVjdHMpLnRvRXF1YWwoW10pXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBTaG91bGQgaGF2ZSBmZXRjaGVkIHByb2R1Y3RzIC0gdGhlIGhvb2sgbWF5IG5vdCBpbmNsdWRlIGRlZmF1bHQgcGFyYW1ldGVyc1xuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJy9hcGkvcHJvZHVjdHMnKSxcbiAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH0pXG4gICAgKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wcm9kdWN0cykudG9IYXZlTGVuZ3RoKDIpXG4gICAgLy8gUHJvZHVjdHMgYXJlIGFkYXB0ZWQsIHNvIHdlIGNoZWNrIHRoZSBhZGFwdGVkIHN0cnVjdHVyZVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wcm9kdWN0c1swXSkudG9CZURlZmluZWQoKVxuICB9KVxuXG4gIGl0KCdmZXRjaGVzIHByb2R1Y3RzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9kdWN0cygpKVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICB9KVxuXG4gICAgLy8gU2hvdWxkIGhhdmUgZmV0Y2hlZCBwcm9kdWN0c1xuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wcm9kdWN0cykudG9IYXZlTGVuZ3RoKDIpXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yKS50b0JlKGZhbHNlKVxuICB9KVxuXG4gIGl0KCdoYW5kbGVzIHNlYXJjaCBmdW5jdGlvbmFsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjYWxsc1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKVxuXG4gICAgLy8gTW9jayBzZWFyY2ggcmVzcG9uc2VcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNyZWF0ZU1vY2tSZXNwb25zZSh7XG4gICAgICAuLi5tb2NrUHJvZHVjdHNSZXNwb25zZSxcbiAgICAgIGRhdGE6IFttb2NrUHJvZHVjdHNSZXNwb25zZS5kYXRhWzBdXSwgLy8gT25seSBmaXJzdCBwcm9kdWN0XG4gICAgfSkpXG5cbiAgICAvLyBQZXJmb3JtIHNlYXJjaFxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5zZWFyY2hQcm9kdWN0cygnVGVzdCBQcm9kdWN0IDEnKVxuICAgIH0pXG5cbiAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL3Byb2R1Y3RzJyksXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBpdCgnaGFuZGxlcyBjYXRlZ29yeSBmaWx0ZXJpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZHVjdHMoKSlcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvYWRpbmcpLnRvQmUoZmFsc2UpXG4gICAgfSlcblxuICAgIC8vIENsZWFyIHByZXZpb3VzIGNhbGxzXG4gICAgbW9ja0ZldGNoLm1vY2tDbGVhcigpXG5cbiAgICAvLyBNb2NrIGNhdGVnb3J5IGZpbHRlciByZXNwb25zZVxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoY3JlYXRlTW9ja1Jlc3BvbnNlKHtcbiAgICAgIC4uLm1vY2tQcm9kdWN0c1Jlc3BvbnNlLFxuICAgICAgZGF0YTogW21vY2tQcm9kdWN0c1Jlc3BvbnNlLmRhdGFbMF1dLCAvLyBPbmx5IGZpcnN0IHByb2R1Y3RcbiAgICB9KSlcblxuICAgIC8vIEZpbHRlciBieSBjYXRlZ29yeVxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5maWx0ZXJCeUNhdGVnb3J5KCcxJylcbiAgICB9KVxuXG4gICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL2FwaVxcL3Byb2R1Y3RzXFw/LipjYXRlZ29yeT0xLyksXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBpdCgnaGFuZGxlcyBwYWdpbmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjYWxsc1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKVxuXG4gICAgLy8gTW9jayBwYWdlIDIgcmVzcG9uc2VcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNyZWF0ZU1vY2tSZXNwb25zZSh7XG4gICAgICAuLi5tb2NrUHJvZHVjdHNSZXNwb25zZSxcbiAgICAgIHBhZ2luYXRpb246IHsgLi4ubW9ja1Byb2R1Y3RzUmVzcG9uc2UucGFnaW5hdGlvbiwgcGFnZTogMiB9LFxuICAgIH0pKVxuXG4gICAgLy8gR28gdG8gcGFnZSAyXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmZldGNoUHJvZHVjdHMoeyBwYWdlOiAyIH0pXG4gICAgfSlcblxuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9cXC9hcGlcXC9wcm9kdWN0c1xcPy4qcGFnZT0yLyksXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIClcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucGFnaW5hdGlvbi5wYWdlKS50b0JlKDIpXG4gIH0pXG5cbiAgaXQoJ2hhbmRsZXMgcHJpY2UgcmFuZ2UgZmlsdGVyaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjYWxsc1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKVxuXG4gICAgLy8gTW9jayBwcmljZSBmaWx0ZXIgcmVzcG9uc2VcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKGNyZWF0ZU1vY2tSZXNwb25zZShtb2NrUHJvZHVjdHNSZXNwb25zZSkpXG5cbiAgICAvLyBGaWx0ZXIgYnkgcHJpY2UgcmFuZ2VcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuZmV0Y2hQcm9kdWN0cyh7IHByaWNlTWluOiA1MDAsIHByaWNlTWF4OiAxNTAwIH0pXG4gICAgfSlcblxuICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9cXC9hcGlcXC9wcm9kdWN0c1xcPy4qcHJpY2VNaW49NTAwLipwcmljZU1heD0xNTAwLyksXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBpdCgnaGFuZGxlcyBzb3J0aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjYWxsc1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKVxuXG4gICAgLy8gTW9jayBzb3J0IHJlc3BvbnNlXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZShjcmVhdGVNb2NrUmVzcG9uc2UobW9ja1Byb2R1Y3RzUmVzcG9uc2UpKVxuXG4gICAgLy8gU29ydCBieSBwcmljZSBhc2NlbmRpbmdcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuZmV0Y2hQcm9kdWN0cyh7IHNvcnRCeTogJ3ByaWNlJywgc29ydE9yZGVyOiAnYXNjJyB9KVxuICAgIH0pXG5cbiAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXFwvYXBpXFwvcHJvZHVjdHNcXD8uKnNvcnRCeT1wcmljZS4qc29ydE9yZGVyPWFzYy8pLFxuICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgfSlcbiAgICApXG4gIH0pXG5cbiAgaXQoJ2hhbmRsZXMgQVBJIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdBUEkgRXJyb3InKSlcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBnZXRQcm9kdWN0cygpIGNhcHR1cmEgZWwgZXJyb3IgeSBkZXZ1ZWx2ZSB1biBvYmpldG8gY29uIHN1Y2Nlc3M6IGZhbHNlXG4gICAgLy8gRWwgaG9vayB1c2VQcm9kdWN0cyBlbnRvbmNlcyBlc3RhYmxlY2UgZWwgbWVuc2FqZSBnZW7DqXJpY29cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmUoJ0Vycm9yIG9idGVuaWVuZG8gcHJvZHVjdG9zJylcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucHJvZHVjdHMpLnRvRXF1YWwoW10pXG4gIH0pXG5cbiAgaXQoJ2hhbmRsZXMgSFRUUCBlcnJvciByZXNwb25zZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZShjcmVhdGVNb2NrUmVzcG9uc2UoXG4gICAgICB7IGVycm9yOiAnU2VydmVyIEVycm9yJyB9LFxuICAgICAgeyBvazogZmFsc2UsIHN0YXR1czogNTAwLCBzdGF0dXNUZXh0OiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9XG4gICAgKSlcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2R1Y3RzKCkpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBnZXRQcm9kdWN0cygpIHVzYSBzYWZlQXBpUmVzcG9uc2VKc29uKCkgcXVlIGRldGVjdGEgIXJlc3BvbnNlLm9rXG4gICAgLy8geSBkZXZ1ZWx2ZSB1biBvYmpldG8gY29uIHN1Y2Nlc3M6IGZhbHNlIHkgbWVzc2FnZSBjb24gZGV0YWxsZXMgZGVsIGVycm9yXG4gICAgLy8gRWwgaG9vayB1c2VQcm9kdWN0cyBlbnRvbmNlcyBlc3RhYmxlY2UgZWwgbWVuc2FqZSBnZW7DqXJpY29cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmUoJ0Vycm9yIG9idGVuaWVuZG8gcHJvZHVjdG9zJylcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucHJvZHVjdHMpLnRvRXF1YWwoW10pXG4gIH0pXG5cbiAgaXQoJ2NsZWFycyBmaWx0ZXJzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9kdWN0cygpKVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICB9KVxuXG4gICAgLy8gQXBwbHkgc29tZSBmaWx0ZXJzIGZpcnN0XG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnNlYXJjaFByb2R1Y3RzKCd0ZXN0JylcbiAgICB9KVxuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmZpbHRlckJ5Q2F0ZWdvcnkoJzEnKVxuICAgIH0pXG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjYWxsc1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKVxuXG4gICAgLy8gTW9jayByZXNldCByZXNwb25zZVxuICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoY3JlYXRlTW9ja1Jlc3BvbnNlKG1vY2tQcm9kdWN0c1Jlc3BvbnNlKSlcblxuICAgIC8vIENsZWFyIGZpbHRlcnNcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuY2xlYXJGaWx0ZXJzKClcbiAgICB9KVxuXG4gICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL2FwaVxcL3Byb2R1Y3RzXFw/LipwYWdlPTEvKSxcbiAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIGl0KCdtYWludGFpbnMgbG9hZGluZyBzdGF0ZSBkdXJpbmcgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZHVjdHMoKSlcblxuICAgIC8vIEluaXRpYWwgbG9hZGluZ1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKHRydWUpXG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICAvLyBNb2NrIHNsb3cgcmVzcG9uc2VcbiAgICBsZXQgcmVzb2x2ZVByb21pc2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkXG4gICAgY29uc3Qgc2xvd1Byb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZVxuICAgIH0pXG5cbiAgICBtb2NrRmV0Y2gubW9ja1JldHVyblZhbHVlT25jZShzbG93UHJvbWlzZSlcblxuICAgIC8vIFN0YXJ0IG5ldyByZXF1ZXN0XG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFByb2R1Y3RzKCd0ZXN0JylcbiAgICB9KVxuXG4gICAgLy8gU2hvdWxkIGJlIGxvYWRpbmcgYWdhaW5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKHRydWUpXG4gICAgfSlcblxuICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2VcbiAgICByZXNvbHZlUHJvbWlzZSEoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUHJvZHVjdHNSZXNwb25zZSxcbiAgICB9KVxuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9hZGluZykudG9CZShmYWxzZSlcbiAgICB9KVxuICB9KVxufSlcbiJdLCJuYW1lcyI6WyJtb2NrUHJvZHVjdHNSZXNwb25zZSIsInN1Y2Nlc3MiLCJkYXRhIiwiaWQiLCJuYW1lIiwic2x1ZyIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJkaXNjb3VudGVkX3ByaWNlIiwic3RvY2siLCJjYXRlZ29yeV9pZCIsImltYWdlcyIsInByZXZpZXdzIiwiY2F0ZWdvcnkiLCJwYWdpbmF0aW9uIiwicGFnZSIsImxpbWl0IiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwibW9ja0NhdGVnb3JpZXNSZXNwb25zZSIsIm1vY2tGZXRjaCIsImplc3QiLCJmbiIsImdsb2JhbCIsImZldGNoIiwiY3JlYXRlTW9ja1Jlc3BvbnNlIiwib3B0aW9ucyIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJ0ZXh0IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJIZWFkZXJzIiwidXJsIiwiY2xvbmUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VQcm9kdWN0cyIsImV4cGVjdCIsImN1cnJlbnQiLCJsb2FkaW5nIiwidG9CZSIsInByb2R1Y3RzIiwidG9FcXVhbCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwidG9IYXZlTGVuZ3RoIiwidG9CZURlZmluZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiaGFzRXJyb3IiLCJtb2NrQ2xlYXIiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJhY3QiLCJzZWFyY2hQcm9kdWN0cyIsImZpbHRlckJ5Q2F0ZWdvcnkiLCJzdHJpbmdNYXRjaGluZyIsImZldGNoUHJvZHVjdHMiLCJwcmljZU1pbiIsInByaWNlTWF4Iiwic29ydEJ5Iiwic29ydE9yZGVyIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJlcnJvciIsImNsZWFyRmlsdGVycyIsInJlc29sdmVQcm9taXNlIiwic2xvd1Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0Qyw2Q0FBNkM7QUFDN0Msc0NBQXNDOzs7Ozt1QkFFRzs2QkFDYjtBQUU1QixZQUFZO0FBQ1osTUFBTUEsdUJBQXVCO0lBQzNCQyxTQUFTO0lBQ1RDLE1BQU07UUFDSjtZQUNFQyxJQUFJO1lBQ0pDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxhQUFhO1lBQ2JDLE9BQU87WUFDUEMsa0JBQWtCO1lBQ2xCQyxPQUFPO1lBQ1BD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