{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\hooks\\useCartAnimation.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { useCartModalContext } from '@/app/context/CartSidebarModalContext';\r\n\r\nexport interface CartAnimationOptions {\r\n  showSuccessMessage?: boolean;\r\n  autoOpenCart?: boolean;\r\n  animationDuration?: number;\r\n}\r\n\r\nexport const useCartAnimation = (options: CartAnimationOptions = {}) => {\r\n  const {\r\n    showSuccessMessage = true,\r\n    autoOpenCart = false,\r\n    animationDuration = 1000,\r\n  } = options;\r\n\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const { openCartModal } = useCartModalContext();\r\n\r\n  const triggerCartAnimation = useCallback(async () => {\r\n    setIsAnimating(true);\r\n    \r\n    // Mostrar animación de éxito si está habilitada\r\n    if (showSuccessMessage) {\r\n      setTimeout(() => {\r\n        setShowSuccess(true);\r\n      }, 200);\r\n    }\r\n\r\n    // Abrir carrito automáticamente si está habilitado\r\n    if (autoOpenCart) {\r\n      setTimeout(() => {\r\n        openCartModal();\r\n      }, 600);\r\n    }\r\n\r\n    // Resetear estados después de la animación\r\n    setTimeout(() => {\r\n      setIsAnimating(false);\r\n      setShowSuccess(false);\r\n    }, animationDuration);\r\n\r\n  }, [showSuccessMessage, autoOpenCart, animationDuration, openCartModal]);\r\n\r\n  return {\r\n    isAnimating,\r\n    showSuccess,\r\n    triggerCartAnimation,\r\n  };\r\n};\r\n\r\n// Hook para animaciones de productos específicas\r\nexport const useProductAnimation = () => {\r\n  const [animatingProducts, setAnimatingProducts] = useState<Set<string>>(new Set());\r\n\r\n  const animateProduct = useCallback((productId: string, duration = 1000) => {\r\n    setAnimatingProducts(prev => new Set(prev).add(productId));\r\n    \r\n    setTimeout(() => {\r\n      setAnimatingProducts(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(productId);\r\n        return newSet;\r\n      });\r\n    }, duration);\r\n  }, []);\r\n\r\n  const isProductAnimating = useCallback((productId: string) => {\r\n    return animatingProducts.has(productId);\r\n  }, [animatingProducts]);\r\n\r\n  return {\r\n    animateProduct,\r\n    isProductAnimating,\r\n  };\r\n};\r\n\r\n// Tipos para la notificación del carrito\r\nexport interface CartNotificationData {\r\n  show: boolean;\r\n  productName?: string;\r\n  productImage?: string;\r\n}\r\n\r\n// Constantes para las animaciones\r\nexport const ANIMATION_DURATIONS = {\r\n  CART_SHAKE: 500,\r\n  NOTIFICATION: 4000,\r\n  BUTTON_ANIMATION: 1000,\r\n} as const;\r\n"],"names":["ANIMATION_DURATIONS","useCartAnimation","useProductAnimation","options","showSuccessMessage","autoOpenCart","animationDuration","isAnimating","setIsAnimating","useState","showSuccess","setShowSuccess","openCartModal","useCartModalContext","triggerCartAnimation","useCallback","setTimeout","animatingProducts","setAnimatingProducts","Set","animateProduct","productId","duration","prev","add","newSet","delete","isProductAnimating","has","CART_SHAKE","NOTIFICATION","BUTTON_ANIMATION"],"mappings":"AAAA;;;;;;;;;;;;IAwFaA,mBAAmB;eAAnBA;;IA7EAC,gBAAgB;eAAhBA;;IA4CAC,mBAAmB;eAAnBA;;;uBArDyB;yCACF;AAQ7B,MAAMD,mBAAmB,CAACE,UAAgC,CAAC,CAAC;IACjE,MAAM,EACJC,qBAAqB,IAAI,EACzBC,eAAe,KAAK,EACpBC,oBAAoB,IAAI,EACzB,GAAGH;IAEJ,MAAM,CAACI,aAAaC,eAAe,GAAGC,IAAAA,eAAQ,EAAC;IAC/C,MAAM,CAACC,aAAaC,eAAe,GAAGF,IAAAA,eAAQ,EAAC;IAC/C,MAAM,EAAEG,aAAa,EAAE,GAAGC,IAAAA,4CAAmB;IAE7C,MAAMC,uBAAuBC,IAAAA,kBAAW,EAAC;QACvCP,eAAe;QAEf,gDAAgD;QAChD,IAAIJ,oBAAoB;YACtBY,WAAW;gBACTL,eAAe;YACjB,GAAG;QACL;QAEA,mDAAmD;QACnD,IAAIN,cAAc;YAChBW,WAAW;gBACTJ;YACF,GAAG;QACL;QAEA,2CAA2C;QAC3CI,WAAW;YACTR,eAAe;YACfG,eAAe;QACjB,GAAGL;IAEL,GAAG;QAACF;QAAoBC;QAAcC;QAAmBM;KAAc;IAEvE,OAAO;QACLL;QACAG;QACAI;IACF;AACF;AAGO,MAAMZ,sBAAsB;IACjC,MAAM,CAACe,mBAAmBC,qBAAqB,GAAGT,IAAAA,eAAQ,EAAc,IAAIU;IAE5E,MAAMC,iBAAiBL,IAAAA,kBAAW,EAAC,CAACM,WAAmBC,WAAW,IAAI;QACpEJ,qBAAqBK,CAAAA,OAAQ,IAAIJ,IAAII,MAAMC,GAAG,CAACH;QAE/CL,WAAW;YACTE,qBAAqBK,CAAAA;gBACnB,MAAME,SAAS,IAAIN,IAAII;gBACvBE,OAAOC,MAAM,CAACL;gBACd,OAAOI;YACT;QACF,GAAGH;IACL,GAAG,EAAE;IAEL,MAAMK,qBAAqBZ,IAAAA,kBAAW,EAAC,CAACM;QACtC,OAAOJ,kBAAkBW,GAAG,CAACP;IAC/B,GAAG;QAACJ;KAAkB;IAEtB,OAAO;QACLG;QACAO;IACF;AACF;AAUO,MAAM3B,sBAAsB;IACjC6B,YAAY;IACZC,cAAc;IACdC,kBAAkB;AACpB"}