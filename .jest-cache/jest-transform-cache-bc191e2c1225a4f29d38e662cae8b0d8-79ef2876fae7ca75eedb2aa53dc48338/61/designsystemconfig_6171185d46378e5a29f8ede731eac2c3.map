{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\design-system-config.ts"],"sourcesContent":["/**\r\n * Configuración del Design System Pinteya\r\n * \r\n * Este archivo centraliza la configuración de características del design system,\r\n * permitiendo activar/desactivar funcionalidades de forma controlada.\r\n */\r\n\r\nexport interface DesignSystemConfig {\r\n  // Componentes E-commerce\r\n  ecommerce: {\r\n    // Activar nuevos componentes e-commerce globalmente\r\n    enableNewComponents: boolean\r\n    \r\n    // Configuración de PriceDisplay\r\n    priceDisplay: {\r\n      defaultCurrency: string\r\n      showDiscountByDefault: boolean\r\n      defaultVariant: 'default' | 'center' | 'compact'\r\n      defaultSize: 'sm' | 'md' | 'lg' | 'xl'\r\n    }\r\n    \r\n    // Configuración de StockIndicator\r\n    stockIndicator: {\r\n      defaultLowStockThreshold: number\r\n      showExactQuantityByDefault: boolean\r\n      defaultUnit: string\r\n      defaultVariant: 'default' | 'compact' | 'badge' | 'minimal'\r\n    }\r\n    \r\n    // Configuración de ShippingInfo\r\n    shippingInfo: {\r\n      highlightFreeShippingByDefault: boolean\r\n      showCalculatorByDefault: boolean\r\n      showGuaranteesByDefault: boolean\r\n      freeShippingThreshold: number // En pesos argentinos\r\n    }\r\n  }\r\n  \r\n  // Configuración de CommercialProductCard\r\n  productCard: {\r\n    useNewComponentsByDefault: boolean\r\n    showInstallmentsByDefault: boolean\r\n    showFreeShippingByDefault: boolean\r\n    showExactStockByDefault: boolean\r\n    defaultStockUnit: string\r\n  }\r\n  \r\n  // Configuración de temas\r\n  theme: {\r\n    enableDarkMode: boolean\r\n    defaultTheme: 'light' | 'dark' | 'auto'\r\n  }\r\n  \r\n  // Configuración de testing\r\n  testing: {\r\n    enableVisualRegression: boolean\r\n    enableAccessibilityTests: boolean\r\n    enablePerformanceTests: boolean\r\n  }\r\n  \r\n  // Configuración de desarrollo\r\n  development: {\r\n    enableStorybook: boolean\r\n    enableDebugMode: boolean\r\n    showComponentBoundaries: boolean\r\n  }\r\n}\r\n\r\n/**\r\n * Configuración por defecto del Design System\r\n */\r\nexport const defaultDesignSystemConfig: DesignSystemConfig = {\r\n  ecommerce: {\r\n    enableNewComponents: true, // Activar nuevos componentes por defecto\r\n    \r\n    priceDisplay: {\r\n      defaultCurrency: 'ARS',\r\n      showDiscountByDefault: true,\r\n      defaultVariant: 'compact', // Mejor para ProductCard\r\n      defaultSize: 'sm', // Mejor para grids de productos\r\n    },\r\n    \r\n    stockIndicator: {\r\n      defaultLowStockThreshold: 5,\r\n      showExactQuantityByDefault: false, // Solo en páginas de detalle\r\n      defaultUnit: 'unidades',\r\n      defaultVariant: 'minimal', // Mejor para ProductCard\r\n    },\r\n    \r\n    shippingInfo: {\r\n      highlightFreeShippingByDefault: true,\r\n      showCalculatorByDefault: false, // Solo en checkout/detalle\r\n      showGuaranteesByDefault: false, // Solo en checkout\r\n      freeShippingThreshold: 50000, // $50.000 ARS\r\n    },\r\n  },\r\n  \r\n  productCard: {\r\n    useNewComponentsByDefault: true, // ✅ ACTIVADO: Migración completada\r\n    showInstallmentsByDefault: false, // Solo productos > $10.000\r\n    showFreeShippingByDefault: true,\r\n    showExactStockByDefault: false, // Solo en páginas de detalle\r\n    defaultStockUnit: 'unidades',\r\n  },\r\n  \r\n  theme: {\r\n    enableDarkMode: false, // Fase 2\r\n    defaultTheme: 'light',\r\n  },\r\n  \r\n  testing: {\r\n    enableVisualRegression: false, // Fase 2\r\n    enableAccessibilityTests: true,\r\n    enablePerformanceTests: true,\r\n  },\r\n  \r\n  development: {\r\n    enableStorybook: true,\r\n    enableDebugMode: process.env.NODE_ENV === 'development',\r\n    showComponentBoundaries: false,\r\n  },\r\n}\r\n\r\n/**\r\n * Configuración específica para diferentes contextos\r\n */\r\nexport const contextConfigs = {\r\n  // Configuración para páginas de producto individual\r\n  productDetail: {\r\n    ...defaultDesignSystemConfig,\r\n    productCard: {\r\n      ...defaultDesignSystemConfig.productCard,\r\n      useNewComponentsByDefault: true,\r\n      showInstallmentsByDefault: true,\r\n      showExactStockByDefault: true,\r\n    },\r\n    ecommerce: {\r\n      ...defaultDesignSystemConfig.ecommerce,\r\n      stockIndicator: {\r\n        ...defaultDesignSystemConfig.ecommerce.stockIndicator,\r\n        showExactQuantityByDefault: true,\r\n        defaultVariant: 'default',\r\n      },\r\n      shippingInfo: {\r\n        ...defaultDesignSystemConfig.ecommerce.shippingInfo,\r\n        showCalculatorByDefault: true,\r\n        showGuaranteesByDefault: true,\r\n      },\r\n    },\r\n  },\r\n  \r\n  // Configuración para checkout\r\n  checkout: {\r\n    ...defaultDesignSystemConfig,\r\n    ecommerce: {\r\n      ...defaultDesignSystemConfig.ecommerce,\r\n      priceDisplay: {\r\n        ...defaultDesignSystemConfig.ecommerce.priceDisplay,\r\n        defaultVariant: 'default',\r\n        defaultSize: 'lg',\r\n      },\r\n      shippingInfo: {\r\n        ...defaultDesignSystemConfig.ecommerce.shippingInfo,\r\n        showCalculatorByDefault: true,\r\n        showGuaranteesByDefault: true,\r\n      },\r\n    },\r\n  },\r\n  \r\n  // Configuración para demos y testing\r\n  demo: {\r\n    ...defaultDesignSystemConfig,\r\n    productCard: {\r\n      ...defaultDesignSystemConfig.productCard,\r\n      useNewComponentsByDefault: true,\r\n      showInstallmentsByDefault: true,\r\n      showExactStockByDefault: true,\r\n    },\r\n    development: {\r\n      ...defaultDesignSystemConfig.development,\r\n      enableDebugMode: true,\r\n      showComponentBoundaries: true,\r\n    },\r\n  },\r\n} as const\r\n\r\n/**\r\n * Hook para obtener la configuración del design system\r\n */\r\nexport function useDesignSystemConfig(context?: keyof typeof contextConfigs): DesignSystemConfig {\r\n  if (context && contextConfigs[context]) {\r\n    return contextConfigs[context]\r\n  }\r\n  return defaultDesignSystemConfig\r\n}\r\n\r\n/**\r\n * Función para verificar si una característica está habilitada\r\n */\r\nexport function isFeatureEnabled(\r\n  feature: string, \r\n  config: DesignSystemConfig = defaultDesignSystemConfig\r\n): boolean {\r\n  const keys = feature.split('.')\r\n  let current: any = config\r\n  \r\n  for (const key of keys) {\r\n    if (current[key] === undefined) {\r\n      return false\r\n    }\r\n    current = current[key]\r\n  }\r\n  \r\n  return Boolean(current)\r\n}\r\n\r\n/**\r\n * Función para determinar si mostrar cuotas basado en el precio\r\n */\r\nexport function shouldShowInstallments(\r\n  price: number, \r\n  config: DesignSystemConfig = defaultDesignSystemConfig\r\n): boolean {\r\n  // Mostrar cuotas para productos > $10.000\r\n  return price >= 10000 || config.productCard.showInstallmentsByDefault\r\n}\r\n\r\n/**\r\n * Función para determinar si mostrar envío gratis basado en el precio\r\n */\r\nexport function shouldShowFreeShipping(\r\n  price: number, \r\n  config: DesignSystemConfig = defaultDesignSystemConfig\r\n): boolean {\r\n  return price >= config.ecommerce.shippingInfo.freeShippingThreshold || \r\n         config.ecommerce.shippingInfo.highlightFreeShippingByDefault\r\n}\r\n\r\n/**\r\n * Función para calcular cuotas automáticamente\r\n */\r\nexport function calculateInstallments(price: number): {\r\n  quantity: number\r\n  amount: number\r\n  interestFree: boolean\r\n} {\r\n  // Lógica de cuotas basada en el precio\r\n  if (price >= 50000) {\r\n    return {\r\n      quantity: 12,\r\n      amount: Math.round(price / 12),\r\n      interestFree: true,\r\n    }\r\n  } else if (price >= 20000) {\r\n    return {\r\n      quantity: 6,\r\n      amount: Math.round(price / 6),\r\n      interestFree: true,\r\n    }\r\n  } else if (price >= 10000) {\r\n    return {\r\n      quantity: 3,\r\n      amount: Math.round(price / 3),\r\n      interestFree: true,\r\n    }\r\n  }\r\n  \r\n  return {\r\n    quantity: 1,\r\n    amount: price,\r\n    interestFree: true,\r\n  }\r\n}\r\n"],"names":["calculateInstallments","contextConfigs","defaultDesignSystemConfig","isFeatureEnabled","shouldShowFreeShipping","shouldShowInstallments","useDesignSystemConfig","ecommerce","enableNewComponents","priceDisplay","defaultCurrency","showDiscountByDefault","defaultVariant","defaultSize","stockIndicator","defaultLowStockThreshold","showExactQuantityByDefault","defaultUnit","shippingInfo","highlightFreeShippingByDefault","showCalculatorByDefault","showGuaranteesByDefault","freeShippingThreshold","productCard","useNewComponentsByDefault","showInstallmentsByDefault","showFreeShippingByDefault","showExactStockByDefault","defaultStockUnit","theme","enableDarkMode","defaultTheme","testing","enableVisualRegression","enableAccessibilityTests","enablePerformanceTests","development","enableStorybook","enableDebugMode","process","env","NODE_ENV","showComponentBoundaries","productDetail","checkout","demo","context","feature","config","keys","split","current","key","undefined","Boolean","price","quantity","amount","Math","round","interestFree"],"mappings":"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"}