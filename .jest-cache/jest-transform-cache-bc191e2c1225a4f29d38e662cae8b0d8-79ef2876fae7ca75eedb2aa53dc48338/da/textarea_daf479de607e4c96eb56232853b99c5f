699277ae61e1a9f3c9c0cd16078b668c
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ProductInquiryTextarea: function() {
        return ProductInquiryTextarea;
    },
    ReviewTextarea: function() {
        return ReviewTextarea;
    },
    Textarea: function() {
        return Textarea;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _classvarianceauthority = require("class-variance-authority");
const _utils = require("../../lib/utils");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const textareaVariants = (0, _classvarianceauthority.cva)("flex min-h-[80px] w-full rounded-md border bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none transition-all duration-200", {
    variants: {
        variant: {
            default: "border-gray-300 focus-visible:border-primary focus-visible:ring-primary/20",
            error: "border-red-500 focus-visible:border-red-500 focus-visible:ring-red-500/20",
            success: "border-green-500 focus-visible:border-green-500 focus-visible:ring-green-500/20"
        },
        size: {
            sm: "min-h-[60px] px-2 py-1 text-xs",
            md: "min-h-[80px] px-3 py-2 text-sm",
            lg: "min-h-[100px] px-4 py-3 text-base"
        },
        resize: {
            none: "resize-none",
            vertical: "resize-y",
            horizontal: "resize-x",
            both: "resize"
        }
    },
    defaultVariants: {
        variant: "default",
        size: "md",
        resize: "vertical"
    }
});
const Textarea = /*#__PURE__*/ _react.forwardRef(({ className, variant, size, resize, label, description, error, helperText, maxLength, showCharCount = false, autoResize = false, id, value, onChange, ...props }, ref)=>{
    const generatedId = _react.useId();
    const textareaId = id || generatedId;
    const hasError = !!error;
    const finalVariant = hasError ? "error" : variant;
    const [charCount, setCharCount] = _react.useState(0);
    const textareaRef = _react.useRef(null);
    // Combinar refs
    _react.useImperativeHandle(ref, ()=>textareaRef.current);
    // Auto resize functionality
    const adjustHeight = _react.useCallback(()=>{
        const textarea = textareaRef.current;
        if (textarea && autoResize) {
            textarea.style.height = 'auto';
            textarea.style.height = `${textarea.scrollHeight}px`;
        }
    }, [
        autoResize
    ]);
    // Handle change with character count
    const handleChange = (e)=>{
        const newValue = e.target.value;
        // Enforce max length
        if (maxLength && newValue.length > maxLength) {
            return;
        }
        setCharCount(newValue.length);
        if (autoResize) {
            adjustHeight();
        }
        onChange?.(e);
    };
    // Initialize character count
    _react.useEffect(()=>{
        if (value) {
            setCharCount(String(value).length);
        }
    }, [
        value
    ]);
    // Adjust height on mount if autoResize is enabled
    _react.useEffect(()=>{
        if (autoResize) {
            adjustHeight();
        }
    }, [
        adjustHeight,
        autoResize
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "w-full space-y-2",
        children: [
            (label || description) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-1",
                children: [
                    label && /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                        htmlFor: textareaId,
                        className: (0, _utils.cn)("block text-sm font-medium text-gray-700", hasError && "text-red-600"),
                        children: [
                            label,
                            props.required && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-red-500 ml-1",
                                children: "*"
                            })
                        ]
                    }),
                    description && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: (0, _utils.cn)("text-xs text-gray-600", hasError && "text-red-500"),
                        children: description
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "relative",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                        ref: textareaRef,
                        id: textareaId,
                        className: (0, _utils.cn)(textareaVariants({
                            variant: finalVariant,
                            size,
                            resize
                        }), autoResize && "overflow-hidden", className),
                        value: value,
                        onChange: handleChange,
                        maxLength: maxLength,
                        ...props
                    }),
                    (showCharCount || maxLength) && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "absolute bottom-2 right-2 text-xs text-gray-500",
                        children: showCharCount && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                            className: (0, _utils.cn)(maxLength && charCount > maxLength * 0.9 && "text-yellow-600", maxLength && charCount === maxLength && "text-red-600"),
                            children: [
                                charCount,
                                maxLength && `/${maxLength}`
                            ]
                        })
                    })
                ]
            }),
            (error || helperText) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-1",
                children: [
                    error && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-xs text-red-600",
                        children: error
                    }),
                    helperText && !error && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-xs text-gray-600",
                        children: helperText
                    })
                ]
            })
        ]
    });
});
Textarea.displayName = "Textarea";
const ReviewTextarea = /*#__PURE__*/ _react.forwardRef(({ productName, label, ...props }, ref)=>{
    const defaultLabel = productName ? `Escribe tu reseña sobre ${productName}` : "Escribe tu reseña";
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(Textarea, {
        ref: ref,
        label: label || defaultLabel,
        placeholder: "Comparte tu experiencia con este producto. \xbfQu\xe9 te gust\xf3? \xbfLo recomendar\xedas?",
        maxLength: 500,
        showCharCount: true,
        autoResize: true,
        size: "lg",
        ...props
    });
});
ReviewTextarea.displayName = "ReviewTextarea";
const ProductInquiryTextarea = /*#__PURE__*/ _react.forwardRef(({ productName, ...props }, ref)=>{
    const placeholder = productName ? `Haz tu consulta sobre ${productName}...` : "Escribe tu consulta sobre este producto...";
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(Textarea, {
        ref: ref,
        label: "Tu consulta",
        placeholder: placeholder,
        description: "Nuestro equipo te responder\xe1 a la brevedad",
        maxLength: 300,
        showCharCount: true,
        ...props
    });
});
ProductInquiryTextarea.displayName = "ProductInquiryTextarea";

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXHRleHRhcmVhLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcclxuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIlxyXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXHJcblxyXG5jb25zdCB0ZXh0YXJlYVZhcmlhbnRzID0gY3ZhKFxyXG4gIFwiZmxleCBtaW4taC1bODBweF0gdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXdoaXRlIHB4LTMgcHktMiB0ZXh0LXNtIHJpbmctb2Zmc2V0LXdoaXRlIHBsYWNlaG9sZGVyOnRleHQtZ3JheS01MDAgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIHJlc2l6ZS1ub25lIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiLFxyXG4gIHtcclxuICAgIHZhcmlhbnRzOiB7XHJcbiAgICAgIHZhcmlhbnQ6IHtcclxuICAgICAgICBkZWZhdWx0OiBcImJvcmRlci1ncmF5LTMwMCBmb2N1cy12aXNpYmxlOmJvcmRlci1wcmltYXJ5IGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzIwXCIsXHJcbiAgICAgICAgZXJyb3I6IFwiYm9yZGVyLXJlZC01MDAgZm9jdXMtdmlzaWJsZTpib3JkZXItcmVkLTUwMCBmb2N1cy12aXNpYmxlOnJpbmctcmVkLTUwMC8yMFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IFwiYm9yZGVyLWdyZWVuLTUwMCBmb2N1cy12aXNpYmxlOmJvcmRlci1ncmVlbi01MDAgZm9jdXMtdmlzaWJsZTpyaW5nLWdyZWVuLTUwMC8yMFwiLFxyXG4gICAgICB9LFxyXG4gICAgICBzaXplOiB7XHJcbiAgICAgICAgc206IFwibWluLWgtWzYwcHhdIHB4LTIgcHktMSB0ZXh0LXhzXCIsXHJcbiAgICAgICAgbWQ6IFwibWluLWgtWzgwcHhdIHB4LTMgcHktMiB0ZXh0LXNtXCIsXHJcbiAgICAgICAgbGc6IFwibWluLWgtWzEwMHB4XSBweC00IHB5LTMgdGV4dC1iYXNlXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc2l6ZToge1xyXG4gICAgICAgIG5vbmU6IFwicmVzaXplLW5vbmVcIixcclxuICAgICAgICB2ZXJ0aWNhbDogXCJyZXNpemUteVwiLFxyXG4gICAgICAgIGhvcml6b250YWw6IFwicmVzaXplLXhcIixcclxuICAgICAgICBib3RoOiBcInJlc2l6ZVwiLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGRlZmF1bHRWYXJpYW50czoge1xyXG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcclxuICAgICAgc2l6ZTogXCJtZFwiLFxyXG4gICAgICByZXNpemU6IFwidmVydGljYWxcIixcclxuICAgIH0sXHJcbiAgfVxyXG4pXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRleHRhcmVhUHJvcHNcclxuICBleHRlbmRzIFJlYWN0LlRleHRhcmVhSFRNTEF0dHJpYnV0ZXM8SFRNTFRleHRBcmVhRWxlbWVudD4sXHJcbiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIHRleHRhcmVhVmFyaWFudHM+IHtcclxuICBsYWJlbD86IHN0cmluZ1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgZXJyb3I/OiBzdHJpbmdcclxuICBoZWxwZXJUZXh0Pzogc3RyaW5nXHJcbiAgbWF4TGVuZ3RoPzogbnVtYmVyXHJcbiAgc2hvd0NoYXJDb3VudD86IGJvb2xlYW5cclxuICBhdXRvUmVzaXplPzogYm9vbGVhblxyXG59XHJcblxyXG5jb25zdCBUZXh0YXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTFRleHRBcmVhRWxlbWVudCwgVGV4dGFyZWFQcm9wcz4oXHJcbiAgKHsgXHJcbiAgICBjbGFzc05hbWUsIFxyXG4gICAgdmFyaWFudCwgXHJcbiAgICBzaXplLCBcclxuICAgIHJlc2l6ZSxcclxuICAgIGxhYmVsLFxyXG4gICAgZGVzY3JpcHRpb24sXHJcbiAgICBlcnJvcixcclxuICAgIGhlbHBlclRleHQsXHJcbiAgICBtYXhMZW5ndGgsXHJcbiAgICBzaG93Q2hhckNvdW50ID0gZmFsc2UsXHJcbiAgICBhdXRvUmVzaXplID0gZmFsc2UsXHJcbiAgICBpZCxcclxuICAgIHZhbHVlLFxyXG4gICAgb25DaGFuZ2UsXHJcbiAgICAuLi5wcm9wcyBcclxuICB9LCByZWYpID0+IHtcclxuICAgIGNvbnN0IGdlbmVyYXRlZElkID0gUmVhY3QudXNlSWQoKVxyXG4gICAgY29uc3QgdGV4dGFyZWFJZCA9IGlkIHx8IGdlbmVyYXRlZElkXHJcbiAgICBjb25zdCBoYXNFcnJvciA9ICEhZXJyb3JcclxuICAgIGNvbnN0IGZpbmFsVmFyaWFudCA9IGhhc0Vycm9yID8gXCJlcnJvclwiIDogdmFyaWFudFxyXG4gICAgY29uc3QgW2NoYXJDb3VudCwgc2V0Q2hhckNvdW50XSA9IFJlYWN0LnVzZVN0YXRlKDApXHJcbiAgICBjb25zdCB0ZXh0YXJlYVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKVxyXG5cclxuICAgIC8vIENvbWJpbmFyIHJlZnNcclxuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiB0ZXh0YXJlYVJlZi5jdXJyZW50ISlcclxuXHJcbiAgICAvLyBBdXRvIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XHJcbiAgICBjb25zdCBhZGp1c3RIZWlnaHQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGV4dGFyZWFSZWYuY3VycmVudFxyXG4gICAgICBpZiAodGV4dGFyZWEgJiYgYXV0b1Jlc2l6ZSkge1xyXG4gICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICdhdXRvJ1xyXG4gICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGAke3RleHRhcmVhLnNjcm9sbEhlaWdodH1weGBcclxuICAgICAgfVxyXG4gICAgfSwgW2F1dG9SZXNpemVdKVxyXG5cclxuICAgIC8vIEhhbmRsZSBjaGFuZ2Ugd2l0aCBjaGFyYWN0ZXIgY291bnRcclxuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT4ge1xyXG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlXHJcbiAgICAgIFxyXG4gICAgICAvLyBFbmZvcmNlIG1heCBsZW5ndGhcclxuICAgICAgaWYgKG1heExlbmd0aCAmJiBuZXdWYWx1ZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0Q2hhckNvdW50KG5ld1ZhbHVlLmxlbmd0aClcclxuICAgICAgXHJcbiAgICAgIGlmIChhdXRvUmVzaXplKSB7XHJcbiAgICAgICAgYWRqdXN0SGVpZ2h0KClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgb25DaGFuZ2U/LihlKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemUgY2hhcmFjdGVyIGNvdW50XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBzZXRDaGFyQ291bnQoU3RyaW5nKHZhbHVlKS5sZW5ndGgpXHJcbiAgICAgIH1cclxuICAgIH0sIFt2YWx1ZV0pXHJcblxyXG4gICAgLy8gQWRqdXN0IGhlaWdodCBvbiBtb3VudCBpZiBhdXRvUmVzaXplIGlzIGVuYWJsZWRcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgIGlmIChhdXRvUmVzaXplKSB7XHJcbiAgICAgICAgYWRqdXN0SGVpZ2h0KClcclxuICAgICAgfVxyXG4gICAgfSwgW2FkanVzdEhlaWdodCwgYXV0b1Jlc2l6ZV0pXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgc3BhY2UteS0yXCI+XHJcbiAgICAgICAgeyhsYWJlbCB8fCBkZXNjcmlwdGlvbikgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cclxuICAgICAgICAgICAge2xhYmVsICYmIChcclxuICAgICAgICAgICAgICA8bGFiZWwgXHJcbiAgICAgICAgICAgICAgICBodG1sRm9yPXt0ZXh0YXJlYUlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICAgICAgXCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIixcclxuICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgJiYgXCJ0ZXh0LXJlZC02MDBcIlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7bGFiZWx9XHJcbiAgICAgICAgICAgICAgICB7cHJvcHMucmVxdWlyZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIG1sLTFcIj4qPC9zcGFuPn1cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICB7ZGVzY3JpcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICBcInRleHQteHMgdGV4dC1ncmF5LTYwMFwiLFxyXG4gICAgICAgICAgICAgICAgaGFzRXJyb3IgJiYgXCJ0ZXh0LXJlZC01MDBcIlxyXG4gICAgICAgICAgICAgICl9PlxyXG4gICAgICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgIHJlZj17dGV4dGFyZWFSZWZ9XHJcbiAgICAgICAgICAgIGlkPXt0ZXh0YXJlYUlkfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgIHRleHRhcmVhVmFyaWFudHMoeyB2YXJpYW50OiBmaW5hbFZhcmlhbnQsIHNpemUsIHJlc2l6ZSB9KSxcclxuICAgICAgICAgICAgICBhdXRvUmVzaXplICYmIFwib3ZlcmZsb3ctaGlkZGVuXCIsXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lXHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgbWF4TGVuZ3RoPXttYXhMZW5ndGh9XHJcbiAgICAgICAgICAgIHsuLi5wcm9wc31cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsoc2hvd0NoYXJDb3VudCB8fCBtYXhMZW5ndGgpICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMiByaWdodC0yIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgIHtzaG93Q2hhckNvdW50ICYmIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgIG1heExlbmd0aCAmJiBjaGFyQ291bnQgPiBtYXhMZW5ndGggKiAwLjkgJiYgXCJ0ZXh0LXllbGxvdy02MDBcIixcclxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoICYmIGNoYXJDb3VudCA9PT0gbWF4TGVuZ3RoICYmIFwidGV4dC1yZWQtNjAwXCJcclxuICAgICAgICAgICAgICAgICl9PlxyXG4gICAgICAgICAgICAgICAgICB7Y2hhckNvdW50fVxyXG4gICAgICAgICAgICAgICAgICB7bWF4TGVuZ3RoICYmIGAvJHttYXhMZW5ndGh9YH1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgeyhlcnJvciB8fCBoZWxwZXJUZXh0KSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxyXG4gICAgICAgICAgICB7ZXJyb3IgJiYgKFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNjAwXCI+e2Vycm9yfTwvcD5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAge2hlbHBlclRleHQgJiYgIWVycm9yICYmIChcclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj57aGVscGVyVGV4dH08L3A+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbilcclxuVGV4dGFyZWEuZGlzcGxheU5hbWUgPSBcIlRleHRhcmVhXCJcclxuXHJcbi8vIFRleHRhcmVhIGVzcGVjw61maWNvIHBhcmEgY29tZW50YXJpb3MvcmV2aWV3c1xyXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld1RleHRhcmVhUHJvcHMgZXh0ZW5kcyBPbWl0PFRleHRhcmVhUHJvcHMsICdwbGFjZWhvbGRlcicgfCAnbWF4TGVuZ3RoJz4ge1xyXG4gIHByb2R1Y3ROYW1lPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSZXZpZXdUZXh0YXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTFRleHRBcmVhRWxlbWVudCwgUmV2aWV3VGV4dGFyZWFQcm9wcz4oXHJcbiAgKHsgcHJvZHVjdE5hbWUsIGxhYmVsLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRMYWJlbCA9IHByb2R1Y3ROYW1lIFxyXG4gICAgICA/IGBFc2NyaWJlIHR1IHJlc2XDsWEgc29icmUgJHtwcm9kdWN0TmFtZX1gXHJcbiAgICAgIDogXCJFc2NyaWJlIHR1IHJlc2XDsWFcIlxyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8VGV4dGFyZWFcclxuICAgICAgICByZWY9e3JlZn1cclxuICAgICAgICBsYWJlbD17bGFiZWwgfHwgZGVmYXVsdExhYmVsfVxyXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiQ29tcGFydGUgdHUgZXhwZXJpZW5jaWEgY29uIGVzdGUgcHJvZHVjdG8uIMK/UXXDqSB0ZSBndXN0w7M/IMK/TG8gcmVjb21lbmRhcsOtYXM/XCJcclxuICAgICAgICBtYXhMZW5ndGg9ezUwMH1cclxuICAgICAgICBzaG93Q2hhckNvdW50XHJcbiAgICAgICAgYXV0b1Jlc2l6ZVxyXG4gICAgICAgIHNpemU9XCJsZ1wiXHJcbiAgICAgICAgey4uLnByb3BzfVxyXG4gICAgICAvPlxyXG4gICAgKVxyXG4gIH1cclxuKVxyXG5SZXZpZXdUZXh0YXJlYS5kaXNwbGF5TmFtZSA9IFwiUmV2aWV3VGV4dGFyZWFcIlxyXG5cclxuLy8gVGV4dGFyZWEgcGFyYSBjb25zdWx0YXMgZGUgcHJvZHVjdG9zXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdElucXVpcnlUZXh0YXJlYVByb3BzIGV4dGVuZHMgT21pdDxUZXh0YXJlYVByb3BzLCAncGxhY2Vob2xkZXInIHwgJ2xhYmVsJz4ge1xyXG4gIHByb2R1Y3ROYW1lPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBQcm9kdWN0SW5xdWlyeVRleHRhcmVhID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MVGV4dEFyZWFFbGVtZW50LCBQcm9kdWN0SW5xdWlyeVRleHRhcmVhUHJvcHM+KFxyXG4gICh7IHByb2R1Y3ROYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcclxuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gcHJvZHVjdE5hbWVcclxuICAgICAgPyBgSGF6IHR1IGNvbnN1bHRhIHNvYnJlICR7cHJvZHVjdE5hbWV9Li4uYFxyXG4gICAgICA6IFwiRXNjcmliZSB0dSBjb25zdWx0YSBzb2JyZSBlc3RlIHByb2R1Y3RvLi4uXCJcclxuICAgIFxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRleHRhcmVhXHJcbiAgICAgICAgcmVmPXtyZWZ9XHJcbiAgICAgICAgbGFiZWw9XCJUdSBjb25zdWx0YVwiXHJcbiAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxyXG4gICAgICAgIGRlc2NyaXB0aW9uPVwiTnVlc3RybyBlcXVpcG8gdGUgcmVzcG9uZGVyw6EgYSBsYSBicmV2ZWRhZFwiXHJcbiAgICAgICAgbWF4TGVuZ3RoPXszMDB9XHJcbiAgICAgICAgc2hvd0NoYXJDb3VudFxyXG4gICAgICAgIHsuLi5wcm9wc31cclxuICAgICAgLz5cclxuICAgIClcclxuICB9XHJcbilcclxuUHJvZHVjdElucXVpcnlUZXh0YXJlYS5kaXNwbGF5TmFtZSA9IFwiUHJvZHVjdElucXVpcnlUZXh0YXJlYVwiXHJcblxyXG5leHBvcnQgeyBUZXh0YXJlYSB9XHJcbiJdLCJuYW1lcyI6WyJQcm9kdWN0SW5xdWlyeVRleHRhcmVhIiwiUmV2aWV3VGV4dGFyZWEiLCJUZXh0YXJlYSIsInRleHRhcmVhVmFyaWFudHMiLCJjdmEiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJkZWZhdWx0IiwiZXJyb3IiLCJzdWNjZXNzIiwic2l6ZSIsInNtIiwibWQiLCJsZyIsInJlc2l6ZSIsIm5vbmUiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJib3RoIiwiZGVmYXVsdFZhcmlhbnRzIiwiUmVhY3QiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImhlbHBlclRleHQiLCJtYXhMZW5ndGgiLCJzaG93Q2hhckNvdW50IiwiYXV0b1Jlc2l6ZSIsImlkIiwidmFsdWUiLCJvbkNoYW5nZSIsInByb3BzIiwicmVmIiwiZ2VuZXJhdGVkSWQiLCJ1c2VJZCIsInRleHRhcmVhSWQiLCJoYXNFcnJvciIsImZpbmFsVmFyaWFudCIsImNoYXJDb3VudCIsInNldENoYXJDb3VudCIsInVzZVN0YXRlIiwidGV4dGFyZWFSZWYiLCJ1c2VSZWYiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiY3VycmVudCIsImFkanVzdEhlaWdodCIsInVzZUNhbGxiYWNrIiwidGV4dGFyZWEiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImhhbmRsZUNoYW5nZSIsImUiLCJuZXdWYWx1ZSIsInRhcmdldCIsImxlbmd0aCIsInVzZUVmZmVjdCIsIlN0cmluZyIsImRpdiIsImh0bWxGb3IiLCJjbiIsInJlcXVpcmVkIiwic3BhbiIsInAiLCJkaXNwbGF5TmFtZSIsInByb2R1Y3ROYW1lIiwiZGVmYXVsdExhYmVsIiwicGxhY2Vob2xkZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7SUE2TmFBLHNCQUFzQjtlQUF0QkE7O0lBM0JBQyxjQUFjO2VBQWRBOztJQWdESkMsUUFBUTtlQUFSQTs7OzsrREFoUGM7d0NBQ2dCO3VCQUNwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW5CLE1BQU1DLG1CQUFtQkMsSUFBQUEsMkJBQUcsRUFDMUIseVJBQ0E7SUFDRUMsVUFBVTtRQUNSQyxTQUFTO1lBQ1BDLFNBQVM7WUFDVEMsT0FBTztZQUNQQyxTQUFTO1FBQ1g7UUFDQUMsTUFBTTtZQUNKQyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsSUFBSTtRQUNOO1FBQ0FDLFFBQVE7WUFD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