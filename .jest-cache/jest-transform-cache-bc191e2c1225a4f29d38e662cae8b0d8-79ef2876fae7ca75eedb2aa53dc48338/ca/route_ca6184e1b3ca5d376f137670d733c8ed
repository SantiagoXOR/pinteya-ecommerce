6656d0c6de8b970c279552e6cdcf415e
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GET", {
    enumerable: true,
    get: function() {
        return GET;
    }
});
const _server = require("next/server");
const _adminauth = require("../../../../lib/auth/admin-auth");
const _enterpriseauthutils = require("../../../../lib/auth/enterprise-auth-utils");
const _enterpriserlsutils = require("../../../../lib/auth/enterprise-rls-utils");
const _enterprisecache = require("../../../../lib/auth/enterprise-cache");
async function GET(request) {
    try {
        console.log('üîç Debug Admin Products Enterprise: Starting check...');
        // ENTERPRISE: Usar nueva autenticaci√≥n enterprise
        const enterpriseResult = await (0, _enterpriseauthutils.requireAdminAuth)(request, [
            'products_read'
        ]);
        // LEGACY: Mantener m√©todo anterior para comparaci√≥n
        const legacyResult = await (0, _adminauth.checkCRUDPermissions)('products', 'read', request);
        console.log('üîç Debug Admin Products: Results comparison:', {
            enterprise: {
                success: enterpriseResult.success,
                error: enterpriseResult.error,
                code: enterpriseResult.code
            },
            legacy: {
                success: legacyResult.success,
                error: legacyResult.error,
                status: legacyResult.status,
                hasUser: !!legacyResult.user,
                hasSupabase: !!legacyResult.supabase
            }
        });
        if (!enterpriseResult.success && !legacyResult.success) {
            return _server.NextResponse.json({
                error: 'Ambos m√©todos de autenticaci√≥n fallaron',
                enterprise: {
                    error: enterpriseResult.error,
                    code: enterpriseResult.code
                },
                legacy: {
                    error: legacyResult.error,
                    step: 'checkCRUDPermissions failed'
                },
                debug: {
                    both_methods_failed: true,
                    recommended_action: 'Check authentication setup'
                }
            }, {
                status: enterpriseResult.status || legacyResult.status || 401
            });
        }
        // ENTERPRISE: Probar consulta de productos con RLS si enterprise auth es exitoso
        let productsData = null;
        let rlsFilters = null;
        let cacheStats = null;
        if (enterpriseResult.success) {
            const context = enterpriseResult.context;
            // Obtener estad√≠sticas de cache
            cacheStats = (0, _enterprisecache.getCacheStats)();
            // Crear filtros RLS para productos
            rlsFilters = (0, _enterpriserlsutils.createRLSFilters)({
                userId: context.userId,
                role: context.role,
                permissions: context.permissions,
                isActive: true
            }, 'products');
            // Ejecutar consulta con RLS
            const productsResult = await (0, _enterpriserlsutils.executeWithRLS)(context, async (client, rlsContext)=>{
                let query = client.from('products').select('id, name, price, is_active, category_id').limit(5);
                // Aplicar filtros RLS autom√°ticos
                Object.entries(rlsFilters || {}).forEach(([key, value])=>{
                    query = query.eq(key, value);
                });
                const { data, error } = await query;
                if (error) {
                    throw new Error(`Error consultando productos: ${error.message}`);
                }
                return data;
            }, {
                enforceRLS: true,
                auditLog: true
            });
            if (productsResult.success) {
                productsData = productsResult.data;
            }
        }
        return _server.NextResponse.json({
            success: enterpriseResult.success || legacyResult.success,
            message: 'Admin products access comparison completed',
            enterprise: {
                status: enterpriseResult.success ? 'SUCCESS' : 'FAILED',
                context: enterpriseResult.success ? {
                    userId: enterpriseResult.context?.userId,
                    role: enterpriseResult.context?.role,
                    permissions: enterpriseResult.context?.permissions,
                    securityLevel: enterpriseResult.context?.securityLevel
                } : null,
                rls: {
                    filters_applied: rlsFilters,
                    products_found: productsData?.length || 0,
                    sample_products: productsData?.slice(0, 3)
                },
                cache: cacheStats,
                error: enterpriseResult.error,
                code: enterpriseResult.code
            },
            legacy: {
                status: legacyResult.success ? 'SUCCESS' : 'FAILED',
                authResult: {
                    success: legacyResult.success,
                    hasUser: !!legacyResult.user,
                    hasSupabase: !!legacyResult.supabase,
                    userEmail: legacyResult.user?.email,
                    userRole: legacyResult.user?.user_roles?.role_name
                },
                error: legacyResult.error
            },
            comparison: {
                methods_agree: enterpriseResult.success === legacyResult.success,
                enterprise_advantages: [
                    'RLS integration with automatic filters',
                    'Cache statistics and optimization',
                    'Granular permissions checking',
                    'Complete security context',
                    'Audit logging enabled'
                ],
                recommendation: enterpriseResult.success ? 'Use enterprise method' : 'Fix authentication issues'
            },
            debug: {
                timestamp: new Date().toISOString(),
                request_info: {
                    method: request.method,
                    url: request.url
                }
            }
        });
    } catch (error) {
        console.error('üîç Debug Admin Products: Error:', error);
        return _server.NextResponse.json({
            success: false,
            error: 'Unexpected error',
            debug: {
                errorMessage: error instanceof Error ? error.message : 'Unknown error'
            }
        }, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXGRlYnVnXFxhZG1pbi1wcm9kdWN0c1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNoZWNrQ1JVRFBlcm1pc3Npb25zIH0gZnJvbSAnQC9saWIvYXV0aC9hZG1pbi1hdXRoJztcbmltcG9ydCB7XG4gIHJlcXVpcmVBZG1pbkF1dGhcbn0gZnJvbSAnQC9saWIvYXV0aC9lbnRlcnByaXNlLWF1dGgtdXRpbHMnO1xuaW1wb3J0IHtcbiAgZXhlY3V0ZVdpdGhSTFMsXG4gIGNyZWF0ZVJMU0ZpbHRlcnNcbn0gZnJvbSAnQC9saWIvYXV0aC9lbnRlcnByaXNlLXJscy11dGlscyc7XG5pbXBvcnQge1xuICBnZXRDYWNoZVN0YXRzXG59IGZyb20gJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1jYWNoZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBEZWJ1ZyBBZG1pbiBQcm9kdWN0cyBFbnRlcnByaXNlOiBTdGFydGluZyBjaGVjay4uLicpO1xuXG4gICAgLy8gRU5URVJQUklTRTogVXNhciBudWV2YSBhdXRlbnRpY2FjacOzbiBlbnRlcnByaXNlXG4gICAgY29uc3QgZW50ZXJwcmlzZVJlc3VsdCA9IGF3YWl0IHJlcXVpcmVBZG1pbkF1dGgocmVxdWVzdCwgWydwcm9kdWN0c19yZWFkJ10pO1xuXG4gICAgLy8gTEVHQUNZOiBNYW50ZW5lciBtw6l0b2RvIGFudGVyaW9yIHBhcmEgY29tcGFyYWNpw7NuXG4gICAgY29uc3QgbGVnYWN5UmVzdWx0ID0gYXdhaXQgY2hlY2tDUlVEUGVybWlzc2lvbnMoJ3Byb2R1Y3RzJywgJ3JlYWQnLCByZXF1ZXN0KTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SNIERlYnVnIEFkbWluIFByb2R1Y3RzOiBSZXN1bHRzIGNvbXBhcmlzb246Jywge1xuICAgICAgZW50ZXJwcmlzZToge1xuICAgICAgICBzdWNjZXNzOiBlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MsXG4gICAgICAgIGVycm9yOiBlbnRlcnByaXNlUmVzdWx0LmVycm9yLFxuICAgICAgICBjb2RlOiBlbnRlcnByaXNlUmVzdWx0LmNvZGVcbiAgICAgIH0sXG4gICAgICBsZWdhY3k6IHtcbiAgICAgICAgc3VjY2VzczogbGVnYWN5UmVzdWx0LnN1Y2Nlc3MsXG4gICAgICAgIGVycm9yOiBsZWdhY3lSZXN1bHQuZXJyb3IsXG4gICAgICAgIHN0YXR1czogbGVnYWN5UmVzdWx0LnN0YXR1cyxcbiAgICAgICAgaGFzVXNlcjogISFsZWdhY3lSZXN1bHQudXNlcixcbiAgICAgICAgaGFzU3VwYWJhc2U6ICEhbGVnYWN5UmVzdWx0LnN1cGFiYXNlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWVudGVycHJpc2VSZXN1bHQuc3VjY2VzcyAmJiAhbGVnYWN5UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGVycm9yOiAnQW1ib3MgbcOpdG9kb3MgZGUgYXV0ZW50aWNhY2nDs24gZmFsbGFyb24nLFxuICAgICAgICBlbnRlcnByaXNlOiB7XG4gICAgICAgICAgZXJyb3I6IGVudGVycHJpc2VSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgY29kZTogZW50ZXJwcmlzZVJlc3VsdC5jb2RlXG4gICAgICAgIH0sXG4gICAgICAgIGxlZ2FjeToge1xuICAgICAgICAgIGVycm9yOiBsZWdhY3lSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgc3RlcDogJ2NoZWNrQ1JVRFBlcm1pc3Npb25zIGZhaWxlZCdcbiAgICAgICAgfSxcbiAgICAgICAgZGVidWc6IHtcbiAgICAgICAgICBib3RoX21ldGhvZHNfZmFpbGVkOiB0cnVlLFxuICAgICAgICAgIHJlY29tbWVuZGVkX2FjdGlvbjogJ0NoZWNrIGF1dGhlbnRpY2F0aW9uIHNldHVwJ1xuICAgICAgICB9XG4gICAgICB9LCB7IHN0YXR1czogZW50ZXJwcmlzZVJlc3VsdC5zdGF0dXMgfHwgbGVnYWN5UmVzdWx0LnN0YXR1cyB8fCA0MDEgfSk7XG4gICAgfVxuXG4gICAgLy8gRU5URVJQUklTRTogUHJvYmFyIGNvbnN1bHRhIGRlIHByb2R1Y3RvcyBjb24gUkxTIHNpIGVudGVycHJpc2UgYXV0aCBlcyBleGl0b3NvXG4gICAgbGV0IHByb2R1Y3RzRGF0YSA9IG51bGw7XG4gICAgbGV0IHJsc0ZpbHRlcnMgPSBudWxsO1xuICAgIGxldCBjYWNoZVN0YXRzID0gbnVsbDtcblxuICAgIGlmIChlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBlbnRlcnByaXNlUmVzdWx0LmNvbnRleHQhO1xuXG4gICAgICAvLyBPYnRlbmVyIGVzdGFkw61zdGljYXMgZGUgY2FjaGVcbiAgICAgIGNhY2hlU3RhdHMgPSBnZXRDYWNoZVN0YXRzKCk7XG5cbiAgICAgIC8vIENyZWFyIGZpbHRyb3MgUkxTIHBhcmEgcHJvZHVjdG9zXG4gICAgICBybHNGaWx0ZXJzID0gY3JlYXRlUkxTRmlsdGVycyh7XG4gICAgICAgIHVzZXJJZDogY29udGV4dC51c2VySWQsXG4gICAgICAgIHJvbGU6IGNvbnRleHQucm9sZSxcbiAgICAgICAgcGVybWlzc2lvbnM6IGNvbnRleHQucGVybWlzc2lvbnMsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlXG4gICAgICB9LCAncHJvZHVjdHMnKTtcblxuICAgICAgLy8gRWplY3V0YXIgY29uc3VsdGEgY29uIFJMU1xuICAgICAgY29uc3QgcHJvZHVjdHNSZXN1bHQgPSBhd2FpdCBleGVjdXRlV2l0aFJMUyhcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgYXN5bmMgKGNsaWVudCwgcmxzQ29udGV4dCkgPT4ge1xuICAgICAgICAgIGxldCBxdWVyeSA9IGNsaWVudFxuICAgICAgICAgICAgLmZyb20oJ3Byb2R1Y3RzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBwcmljZSwgaXNfYWN0aXZlLCBjYXRlZ29yeV9pZCcpXG4gICAgICAgICAgICAubGltaXQoNSk7XG5cbiAgICAgICAgICAvLyBBcGxpY2FyIGZpbHRyb3MgUkxTIGF1dG9tw6F0aWNvc1xuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHJsc0ZpbHRlcnMgfHwge30pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShrZXksIHZhbHVlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGNvbnN1bHRhbmRvIHByb2R1Y3RvczogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICB7IGVuZm9yY2VSTFM6IHRydWUsIGF1ZGl0TG9nOiB0cnVlIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChwcm9kdWN0c1Jlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHByb2R1Y3RzRGF0YSA9IHByb2R1Y3RzUmVzdWx0LmRhdGE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGVudGVycHJpc2VSZXN1bHQuc3VjY2VzcyB8fCBsZWdhY3lSZXN1bHQuc3VjY2VzcyxcbiAgICAgIG1lc3NhZ2U6ICdBZG1pbiBwcm9kdWN0cyBhY2Nlc3MgY29tcGFyaXNvbiBjb21wbGV0ZWQnLFxuICAgICAgZW50ZXJwcmlzZToge1xuICAgICAgICBzdGF0dXM6IGVudGVycHJpc2VSZXN1bHQuc3VjY2VzcyA/ICdTVUNDRVNTJyA6ICdGQUlMRUQnLFxuICAgICAgICBjb250ZXh0OiBlbnRlcnByaXNlUmVzdWx0LnN1Y2Nlc3MgPyB7XG4gICAgICAgICAgdXNlcklkOiBlbnRlcnByaXNlUmVzdWx0LmNvbnRleHQ/LnVzZXJJZCxcbiAgICAgICAgICByb2xlOiBlbnRlcnByaXNlUmVzdWx0LmNvbnRleHQ/LnJvbGUsXG4gICAgICAgICAgcGVybWlzc2lvbnM6IGVudGVycHJpc2VSZXN1bHQuY29udGV4dD8ucGVybWlzc2lvbnMsXG4gICAgICAgICAgc2VjdXJpdHlMZXZlbDogZW50ZXJwcmlzZVJlc3VsdC5jb250ZXh0Py5zZWN1cml0eUxldmVsXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICBybHM6IHtcbiAgICAgICAgICBmaWx0ZXJzX2FwcGxpZWQ6IHJsc0ZpbHRlcnMsXG4gICAgICAgICAgcHJvZHVjdHNfZm91bmQ6IHByb2R1Y3RzRGF0YT8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgc2FtcGxlX3Byb2R1Y3RzOiBwcm9kdWN0c0RhdGE/LnNsaWNlKDAsIDMpXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlOiBjYWNoZVN0YXRzLFxuICAgICAgICBlcnJvcjogZW50ZXJwcmlzZVJlc3VsdC5lcnJvcixcbiAgICAgICAgY29kZTogZW50ZXJwcmlzZVJlc3VsdC5jb2RlXG4gICAgICB9LFxuICAgICAgbGVnYWN5OiB7XG4gICAgICAgIHN0YXR1czogbGVnYWN5UmVzdWx0LnN1Y2Nlc3MgPyAnU1VDQ0VTUycgOiAnRkFJTEVEJyxcbiAgICAgICAgYXV0aFJlc3VsdDoge1xuICAgICAgICAgIHN1Y2Nlc3M6IGxlZ2FjeVJlc3VsdC5zdWNjZXNzLFxuICAgICAgICAgIGhhc1VzZXI6ICEhbGVnYWN5UmVzdWx0LnVzZXIsXG4gICAgICAgICAgaGFzU3VwYWJhc2U6ICEhbGVnYWN5UmVzdWx0LnN1cGFiYXNlLFxuICAgICAgICAgIHVzZXJFbWFpbDogbGVnYWN5UmVzdWx0LnVzZXI/LmVtYWlsLFxuICAgICAgICAgIHVzZXJSb2xlOiBsZWdhY3lSZXN1bHQudXNlcj8udXNlcl9yb2xlcz8ucm9sZV9uYW1lXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBsZWdhY3lSZXN1bHQuZXJyb3JcbiAgICAgIH0sXG4gICAgICBjb21wYXJpc29uOiB7XG4gICAgICAgIG1ldGhvZHNfYWdyZWU6IGVudGVycHJpc2VSZXN1bHQuc3VjY2VzcyA9PT0gbGVnYWN5UmVzdWx0LnN1Y2Nlc3MsXG4gICAgICAgIGVudGVycHJpc2VfYWR2YW50YWdlczogW1xuICAgICAgICAgICdSTFMgaW50ZWdyYXRpb24gd2l0aCBhdXRvbWF0aWMgZmlsdGVycycsXG4gICAgICAgICAgJ0NhY2hlIHN0YXRpc3RpY3MgYW5kIG9wdGltaXphdGlvbicsXG4gICAgICAgICAgJ0dyYW51bGFyIHBlcm1pc3Npb25zIGNoZWNraW5nJyxcbiAgICAgICAgICAnQ29tcGxldGUgc2VjdXJpdHkgY29udGV4dCcsXG4gICAgICAgICAgJ0F1ZGl0IGxvZ2dpbmcgZW5hYmxlZCdcbiAgICAgICAgXSxcbiAgICAgICAgcmVjb21tZW5kYXRpb246IGVudGVycHJpc2VSZXN1bHQuc3VjY2VzcyA/ICdVc2UgZW50ZXJwcmlzZSBtZXRob2QnIDogJ0ZpeCBhdXRoZW50aWNhdGlvbiBpc3N1ZXMnXG4gICAgICB9LFxuICAgICAgZGVidWc6IHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHJlcXVlc3RfaW5mbzoge1xuICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgdXJsOiByZXF1ZXN0LnVybFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfwn5SNIERlYnVnIEFkbWluIFByb2R1Y3RzOiBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdVbmV4cGVjdGVkIGVycm9yJyxcbiAgICAgIGRlYnVnOiB7XG4gICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH1cbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiR0VUIiwicmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJlbnRlcnByaXNlUmVzdWx0IiwicmVxdWlyZUFkbWluQXV0aCIsImxlZ2FjeVJlc3VsdCIsImNoZWNrQ1JVRFBlcm1pc3Npb25zIiwiZW50ZXJwcmlzZSIsInN1Y2Nlc3MiLCJlcnJvciIsImNvZGUiLCJsZWdhY3kiLCJzdGF0dXMiLCJoYXNVc2VyIiwidXNlciIsImhhc1N1cGFiYXNlIiwic3VwYWJhc2UiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3RlcCIsImRlYnVnIiwiYm90aF9tZXRob2RzX2ZhaWxlZCIsInJlY29tbWVuZGVkX2FjdGlvbiIsInByb2R1Y3RzRGF0YSIsInJsc0ZpbHRlcnMiLCJjYWNoZVN0YXRzIiwiY29udGV4dCIsImdldENhY2hlU3RhdHMiLCJjcmVhdGVSTFNGaWx0ZXJzIiwidXNlcklkIiwicm9sZSIsInBlcm1pc3Npb25zIiwiaXNBY3RpdmUiLCJwcm9kdWN0c1Jlc3VsdCIsImV4ZWN1dGVXaXRoUkxTIiwiY2xpZW50IiwicmxzQ29udGV4dCIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsImxpbWl0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsImVxIiwiZGF0YSIsIkVycm9yIiwibWVzc2FnZSIsImVuZm9yY2VSTFMiLCJhdWRpdExvZyIsInNlY3VyaXR5TGV2ZWwiLCJybHMiLCJmaWx0ZXJzX2FwcGxpZWQiLCJwcm9kdWN0c19mb3VuZCIsImxlbmd0aCIsInNhbXBsZV9wcm9kdWN0cyIsInNsaWNlIiwiY2FjaGUiLCJhdXRoUmVzdWx0IiwidXNlckVtYWlsIiwiZW1haWwiLCJ1c2VyUm9sZSIsInVzZXJfcm9sZXMiLCJyb2xlX25hbWUiLCJjb21wYXJpc29uIiwibWV0aG9kc19hZ3JlZSIsImVudGVycHJpc2VfYWR2YW50YWdlcyIsInJlY29tbWVuZGF0aW9uIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVxdWVzdF9pbmZvIiwibWV0aG9kIiwidXJsIiwiZXJyb3JNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7OytCQWFzQkE7OztlQUFBQTs7O3dCQWJvQjsyQkFDTDtxQ0FHOUI7b0NBSUE7aUNBR0E7QUFFQSxlQUFlQSxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLGtEQUFrRDtRQUNsRCxNQUFNQyxtQkFBbUIsTUFBTUMsSUFBQUEscUNBQWdCLEVBQUNKLFNBQVM7WUFBQztTQUFnQjtRQUUxRSxvREFBb0Q7UUFDcEQsTUFBTUssZUFBZSxNQUFNQyxJQUFBQSwrQkFBb0IsRUFBQyxZQUFZLFFBQVFOO1FBRXBFQyxRQUFRQyxHQUFHLENBQUMsZ0RBQWdEO1lBQzFESyxZQUFZO2dCQUNWQyxTQUFTTCxpQkFBaUJLLE9BQU87Z0JBQ2pDQyxPQUFPTixpQkFBaUJNLEtBQUs7Z0JBQzdCQyxNQUFNUCxpQkFBaUJPLElBQUk7WUFDN0I7WUFDQUMsUUFBUTtnQkFDTkgsU0FBU0gsYUFBYUcsT0FBTztnQkFDN0JDLE9BQU9KLGFBQWFJLEtBQUs7Z0JBQ3pCRyxRQUFRUCxhQUFhTyxNQUFNO2dCQUMzQkMsU0FBUyxDQUFDLENBQUNSLGFBQWFTLElBQUk7Z0JBQzVCQyxhQUFhLENBQUMsQ0FBQ1YsYUFBYVcsUUFBUTtZQUN0QztRQUNGO1FBRUEsSUFBSSxDQUFDYixpQkFBaUJLLE9BQU8sSUFBSSxDQUFDSCxhQUFhRyxPQUFPLEVBQUU7WUFDdEQsT0FBT1Msb0JBQVksQ0FBQ0MsSUFBSSxDQUFDO2dC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