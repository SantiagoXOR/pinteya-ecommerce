39f4e6de6c4329b410bd591c6755c1af
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _CartSidebarModalContext = require("../../../app/context/CartSidebarModalContext");
const _cartslice = require("../../../redux/features/cart-slice");
const _store = require("../../../redux/store");
const _reactredux = require("react-redux");
const _SingleItem = /*#__PURE__*/ _interop_require_default(require("./SingleItem"));
const _EmptyCart = /*#__PURE__*/ _interop_require_default(require("./EmptyCart"));
const _shippingprogressbar = /*#__PURE__*/ _interop_require_default(require("../../ui/shipping-progress-bar"));
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
const _checkouttransitionanimation = /*#__PURE__*/ _interop_require_default(require("../../ui/checkout-transition-animation"));
const _useCheckoutTransition = /*#__PURE__*/ _interop_require_default(require("../../../hooks/useCheckoutTransition"));
const _useCartWithBackend = require("../../../hooks/useCartWithBackend");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const CartSidebarModal = ()=>{
    const { isCartModalOpen, closeCartModal } = (0, _CartSidebarModalContext.useCartModalContext)();
    const cartItems = (0, _store.useAppSelector)((state)=>state.cartReducer.items);
    // Hook para carrito con backend
    const { items: backendCartItems, totalItems: backendTotalItems, totalAmount: backendTotalAmount, loading: cartLoading } = (0, _useCartWithBackend.useCartWithBackend)();
    const totalPrice = (0, _reactredux.useSelector)(_cartslice.selectTotalPrice);
    // Usar carrito del backend si está disponible, sino usar Redux
    const effectiveCartItems = backendCartItems.length > 0 ? backendCartItems : cartItems;
    const effectiveTotalPrice = backendCartItems.length > 0 ? backendTotalAmount : totalPrice;
    const hasItems = effectiveCartItems.length > 0;
    // Hook para manejar la animación de transición al checkout
    const { isTransitioning, startTransition, skipAnimation, isButtonDisabled } = (0, _useCheckoutTransition.default)({
        onTransitionStart: ()=>{
            // Cerrar el modal con animación de deslizamiento
            closeCartModal();
        },
        onTransitionComplete: ()=>{
        // La navegación se maneja automáticamente en el componente de animación
        }
    });
    (0, _react.useEffect)(()=>{
        // closing modal while clicking outside
        function handleClickOutside(event) {
            if (event.target && !event.target.closest(".modal-content")) {
                closeCartModal();
            }
        }
        if (isCartModalOpen) {
            document.addEventListener("mousedown", handleClickOutside);
        }
        return ()=>{
            document.removeEventListener("mousedown", handleClickOutside);
        };
    }, [
        isCartModalOpen,
        closeCartModal
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `fixed top-0 left-0 z-99999 overflow-y-auto no-scrollbar w-full h-screen bg-dark/70 transition-all duration-500 ease-out ${isCartModalOpen ? "translate-x-0 opacity-100" : "translate-x-full opacity-0"}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "flex items-center justify-end",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: `w-full max-w-[500px] shadow-1 bg-white px-4 sm:px-7.5 lg:px-11 relative modal-content transition-transform duration-500 ease-out ${isCartModalOpen ? "translate-x-0" : "translate-x-full"}`,
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "sticky top-0 bg-white z-20 flex items-center justify-between py-4 border-b border-gray-200 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "bg-gradient-to-r from-orange-500 to-yellow-500 p-2 rounded-full",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                                className: "w-5 h-5 text-white",
                                                fill: "currentColor",
                                                viewBox: "0 0 20 20",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                                    d: "M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"
                                                })
                                            })
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                                    className: "font-bold text-lg",
                                                    style: {
                                                        color: '#ea5a17'
                                                    },
                                                    children: "\uD83D\uDED2 Tu Selecci\xf3n"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                    className: "text-xs text-gray-500",
                                                    children: [
                                                        cartItems.length,
                                                        " ",
                                                        cartItems.length === 1 ? 'producto' : 'productos',
                                                        " listos"
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: ()=>closeCartModal(),
                                    "aria-label": "Cerrar carrito",
                                    className: "flex items-center justify-center p-2 rounded-full hover:bg-gray-100 transition-colors duration-150",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                        className: "w-6 h-6 text-gray-400 hover:text-gray-600",
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M6 18L18 6M6 6l12 12"
                                        })
                                    })
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex-1 overflow-y-auto no-scrollbar pt-4",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "flex flex-col gap-4 px-1",
                                children: cartItems.length > 0 ? cartItems.map((item, key)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_SingleItem.default, {
                                        item: item
                                    }, key)) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_EmptyCart.default, {})
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "border-t border-gray-200 bg-white pt-3 pb-3 mt-4 sticky bottom-0",
                            children: [
                                cartItems.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "mb-3",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_shippingprogressbar.default, {
                                        currentAmount: totalPrice,
                                        variant: "compact"
                                    })
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center justify-between gap-3 mb-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "font-bold text-lg text-gray-900",
                                            children: "Subtotal:"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                            className: "font-bold text-lg",
                                            style: {
                                                color: '#ea5a17'
                                            },
                                            children: [
                                                "$",
                                                totalPrice.toLocaleString()
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "w-full flex items-center justify-center gap-2 py-1 px-2 text-sm text-gray-600",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                                                    src: "/images/logo/MercadoPagoLogos/SVGs/MP_RGB_HANDSHAKE_color_horizontal.svg",
                                                    alt: "MercadoPago",
                                                    width: 150,
                                                    height: 48,
                                                    className: "w-auto h-auto max-w-[150px]"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                    className: "font-medium",
                                                    children: "Pago seguro"
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            onClick: startTransition,
                                            disabled: isButtonDisabled || !hasItems || cartLoading,
                                            "data-testid": "checkout-btn",
                                            className: `w-full flex justify-center font-bold text-black bg-yellow-400 hover:bg-yellow-500 py-3 px-4 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl ${isButtonDisabled || !hasItems || cartLoading ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 active:scale-95'}`,
                                            children: cartLoading ? 'Cargando carrito...' : isButtonDisabled ? 'Procesando...' : 'Finalizar Compra'
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_checkouttransitionanimation.default, {
                isActive: isTransitioning,
                skipAnimation: skipAnimation,
                onComplete: ()=>{
                // Callback adicional si es necesario
                }
            })
        ]
    });
};
const _default = CartSidebarModal;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcQ29tbW9uXFxDYXJ0U2lkZWJhck1vZGFsXFxpbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VDYXJ0TW9kYWxDb250ZXh0IH0gZnJvbSBcIkAvYXBwL2NvbnRleHQvQ2FydFNpZGViYXJNb2RhbENvbnRleHRcIjtcclxuaW1wb3J0IHsgc2VsZWN0VG90YWxQcmljZSB9IGZyb20gXCJAL3JlZHV4L2ZlYXR1cmVzL2NhcnQtc2xpY2VcIjtcclxuaW1wb3J0IHsgdXNlQXBwU2VsZWN0b3IgfSBmcm9tIFwiQC9yZWR1eC9zdG9yZVwiO1xyXG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgU2luZ2xlSXRlbSBmcm9tIFwiLi9TaW5nbGVJdGVtXCI7XHJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcclxuaW1wb3J0IEVtcHR5Q2FydCBmcm9tIFwiLi9FbXB0eUNhcnRcIjtcclxuaW1wb3J0IFNoaXBwaW5nUHJvZ3Jlc3NCYXIgZnJvbSBcIkAvY29tcG9uZW50cy91aS9zaGlwcGluZy1wcm9ncmVzcy1iYXJcIjtcclxuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XHJcbmltcG9ydCBDaGVja291dFRyYW5zaXRpb25BbmltYXRpb24gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jaGVja291dC10cmFuc2l0aW9uLWFuaW1hdGlvblwiO1xyXG5pbXBvcnQgdXNlQ2hlY2tvdXRUcmFuc2l0aW9uIGZyb20gXCJAL2hvb2tzL3VzZUNoZWNrb3V0VHJhbnNpdGlvblwiO1xyXG5pbXBvcnQgeyB1c2VDYXJ0V2l0aEJhY2tlbmQgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJ0V2l0aEJhY2tlbmRcIjtcclxuXHJcbmNvbnN0IENhcnRTaWRlYmFyTW9kYWwgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBpc0NhcnRNb2RhbE9wZW4sIGNsb3NlQ2FydE1vZGFsIH0gPSB1c2VDYXJ0TW9kYWxDb250ZXh0KCk7XHJcbiAgY29uc3QgY2FydEl0ZW1zID0gdXNlQXBwU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5jYXJ0UmVkdWNlci5pdGVtcyk7XHJcblxyXG4gIC8vIEhvb2sgcGFyYSBjYXJyaXRvIGNvbiBiYWNrZW5kXHJcbiAgY29uc3Qge1xyXG4gICAgaXRlbXM6IGJhY2tlbmRDYXJ0SXRlbXMsXHJcbiAgICB0b3RhbEl0ZW1zOiBiYWNrZW5kVG90YWxJdGVtcyxcclxuICAgIHRvdGFsQW1vdW50OiBiYWNrZW5kVG90YWxBbW91bnQsXHJcbiAgICBsb2FkaW5nOiBjYXJ0TG9hZGluZ1xyXG4gIH0gPSB1c2VDYXJ0V2l0aEJhY2tlbmQoKTtcclxuXHJcbiAgY29uc3QgdG90YWxQcmljZSA9IHVzZVNlbGVjdG9yKHNlbGVjdFRvdGFsUHJpY2UpO1xyXG5cclxuICAvLyBVc2FyIGNhcnJpdG8gZGVsIGJhY2tlbmQgc2kgZXN0w6EgZGlzcG9uaWJsZSwgc2lubyB1c2FyIFJlZHV4XHJcbiAgY29uc3QgZWZmZWN0aXZlQ2FydEl0ZW1zID0gYmFja2VuZENhcnRJdGVtcy5sZW5ndGggPiAwID8gYmFja2VuZENhcnRJdGVtcyA6IGNhcnRJdGVtcztcclxuICBjb25zdCBlZmZlY3RpdmVUb3RhbFByaWNlID0gYmFja2VuZENhcnRJdGVtcy5sZW5ndGggPiAwID8gYmFja2VuZFRvdGFsQW1vdW50IDogdG90YWxQcmljZTtcclxuICBjb25zdCBoYXNJdGVtcyA9IGVmZmVjdGl2ZUNhcnRJdGVtcy5sZW5ndGggPiAwO1xyXG5cclxuICAvLyBIb29rIHBhcmEgbWFuZWphciBsYSBhbmltYWNpw7NuIGRlIHRyYW5zaWNpw7NuIGFsIGNoZWNrb3V0XHJcbiAgY29uc3Qge1xyXG4gICAgaXNUcmFuc2l0aW9uaW5nLFxyXG4gICAgc3RhcnRUcmFuc2l0aW9uLFxyXG4gICAgc2tpcEFuaW1hdGlvbixcclxuICAgIGlzQnV0dG9uRGlzYWJsZWQsXHJcbiAgfSA9IHVzZUNoZWNrb3V0VHJhbnNpdGlvbih7XHJcbiAgICBvblRyYW5zaXRpb25TdGFydDogKCkgPT4ge1xyXG4gICAgICAvLyBDZXJyYXIgZWwgbW9kYWwgY29uIGFuaW1hY2nDs24gZGUgZGVzbGl6YW1pZW50b1xyXG4gICAgICBjbG9zZUNhcnRNb2RhbCgpO1xyXG4gICAgfSxcclxuICAgIG9uVHJhbnNpdGlvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgIC8vIExhIG5hdmVnYWNpw7NuIHNlIG1hbmVqYSBhdXRvbcOhdGljYW1lbnRlIGVuIGVsIGNvbXBvbmVudGUgZGUgYW5pbWFjacOzblxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIGNsb3NpbmcgbW9kYWwgd2hpbGUgY2xpY2tpbmcgb3V0c2lkZVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQgJiYgIShldmVudC50YXJnZXQgYXMgRWxlbWVudCkuY2xvc2VzdChcIi5tb2RhbC1jb250ZW50XCIpKSB7XHJcbiAgICAgICAgY2xvc2VDYXJ0TW9kYWwoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0NhcnRNb2RhbE9wZW4pIHtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIH07XHJcbiAgfSwgW2lzQ2FydE1vZGFsT3BlbiwgY2xvc2VDYXJ0TW9kYWxdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgY2xhc3NOYW1lPXtgZml4ZWQgdG9wLTAgbGVmdC0wIHotOTk5OTkgb3ZlcmZsb3cteS1hdXRvIG5vLXNjcm9sbGJhciB3LWZ1bGwgaC1zY3JlZW4gYmctZGFyay83MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgZWFzZS1vdXQgJHtcclxuICAgICAgICBpc0NhcnRNb2RhbE9wZW4gPyBcInRyYW5zbGF0ZS14LTAgb3BhY2l0eS0xMDBcIiA6IFwidHJhbnNsYXRlLXgtZnVsbCBvcGFjaXR5LTBcIlxyXG4gICAgICB9YH1cclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy1mdWxsIG1heC13LVs1MDBweF0gc2hhZG93LTEgYmctd2hpdGUgcHgtNCBzbTpweC03LjUgbGc6cHgtMTEgcmVsYXRpdmUgbW9kYWwtY29udGVudCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi01MDAgZWFzZS1vdXQgJHtcclxuICAgICAgICAgIGlzQ2FydE1vZGFsT3BlbiA/IFwidHJhbnNsYXRlLXgtMFwiIDogXCJ0cmFuc2xhdGUteC1mdWxsXCJcclxuICAgICAgICB9YH0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0aWNreSB0b3AtMCBiZy13aGl0ZSB6LTIwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweS00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBzaGFkb3ctc21cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLW9yYW5nZS01MDAgdG8teWVsbG93LTUwMCBwLTIgcm91bmRlZC1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMyAxYTEgMSAwIDAwMCAyaDEuMjJsLjMwNSAxLjIyMmEuOTk3Ljk5NyAwIDAwLjAxLjA0MmwxLjM1OCA1LjQzLS44OTMuODkyQzMuNzQgMTEuODQ2IDQuNjMyIDE0IDYuNDE0IDE0SDE1YTEgMSAwIDAwMC0ySDYuNDE0bDEtMUgxNGExIDEgMCAwMC44OTQtLjU1M2wzLTZBMSAxIDAgMDAxNyAzSDYuMjhsLS4zMS0xLjI0M0ExIDEgMCAwMDUgMUgzek0xNiAxNi41YTEuNSAxLjUgMCAxMS0zIDAgMS41IDEuNSAwIDAxMyAwek02LjUgMThhMS41IDEuNSAwIDEwMC0zIDEuNSAxLjUgMCAwMDAgM3pcIi8+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCIgc3R5bGU9e3sgY29sb3I6ICcjZWE1YTE3JyB9fT5cclxuICAgICAgICAgICAgICAgICAg8J+bkiBUdSBTZWxlY2Npw7NuXHJcbiAgICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtjYXJ0SXRlbXMubGVuZ3RofSB7Y2FydEl0ZW1zLmxlbmd0aCA9PT0gMSA/ICdwcm9kdWN0bycgOiAncHJvZHVjdG9zJ30gbGlzdG9zXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY2xvc2VDYXJ0TW9kYWwoKX1cclxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2VycmFyIGNhcnJpdG9cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMTUwXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxzdmdcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCJcclxuICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcclxuICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXHJcbiAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XHJcbiAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIG5vLXNjcm9sbGJhciBwdC00XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNCBweC0xXCI+XHJcbiAgICAgICAgICAgICAgey8qIDwhLS0gY2FydCBpdGVtIC0tPiAqL31cclxuICAgICAgICAgICAgICB7Y2FydEl0ZW1zLmxlbmd0aCA+IDAgPyAoXHJcbiAgICAgICAgICAgICAgICBjYXJ0SXRlbXMubWFwKChpdGVtOiBhbnksIGtleTogbnVtYmVyKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxTaW5nbGVJdGVtIGtleT17a2V5fSBpdGVtPXtpdGVtfSAvPlxyXG4gICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgPEVtcHR5Q2FydCAvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDAgYmctd2hpdGUgcHQtMyBwYi0zIG10LTQgc3RpY2t5IGJvdHRvbS0wXCI+XHJcbiAgICAgICAgICAgIHsvKiBCYXJyYSBkZSBQcm9ncmVzbyBFbnbDrW8gR3JhdGlzICovfVxyXG4gICAgICAgICAgICB7Y2FydEl0ZW1zLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgPFNoaXBwaW5nUHJvZ3Jlc3NCYXJcclxuICAgICAgICAgICAgICAgICAgY3VycmVudEFtb3VudD17dG90YWxQcmljZX1cclxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImNvbXBhY3RcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBTdWJ0b3RhbCAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgbWItM1wiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnIHRleHQtZ3JheS05MDBcIj5TdWJ0b3RhbDo8L3A+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGdcIiBzdHlsZT17eyBjb2xvcjogJyNlYTVhMTcnIH19PlxyXG4gICAgICAgICAgICAgICAgJHt0b3RhbFByaWNlLnRvTG9jYWxlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBJbmZvcm1hY2nDs24gZGUgcGFnbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICB7LyogTMOtbmVhIGluZm9ybWF0aXZhIGRlIE1lcmNhZG9QYWdvIC0gMTUwcHggKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgcHktMSBweC0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxyXG4gICAgICAgICAgICAgICAgPEltYWdlXHJcbiAgICAgICAgICAgICAgICAgIHNyYz1cIi9pbWFnZXMvbG9nby9NZXJjYWRvUGFnb0xvZ29zL1NWR3MvTVBfUkdCX0hBTkRTSEFLRV9jb2xvcl9ob3Jpem9udGFsLnN2Z1wiXHJcbiAgICAgICAgICAgICAgICAgIGFsdD1cIk1lcmNhZG9QYWdvXCJcclxuICAgICAgICAgICAgICAgICAgd2lkdGg9ezE1MH1cclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0PXs0OH1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1hdXRvIGgtYXV0byBtYXgtdy1bMTUwcHhdXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlBhZ28gc2VndXJvPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogQm90w7NuIHByaW5jaXBhbCBkZSBjaGVja291dCAqL31cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtzdGFydFRyYW5zaXRpb259XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNCdXR0b25EaXNhYmxlZCB8fCAhaGFzSXRlbXMgfHwgY2FydExvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImNoZWNrb3V0LWJ0blwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBmb250LWJvbGQgdGV4dC1ibGFjayBiZy15ZWxsb3ctNDAwIGhvdmVyOmJnLXllbGxvdy01MDAgcHktMyBweC00IHJvdW5kZWQteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgJHtcclxuICAgICAgICAgICAgICAgICAgaXNCdXR0b25EaXNhYmxlZCB8fCAhaGFzSXRlbXMgfHwgY2FydExvYWRpbmdcclxuICAgICAgICAgICAgICAgICAgICA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCdcclxuICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpzY2FsZS0xMDUgYWN0aXZlOnNjYWxlLTk1J1xyXG4gICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2NhcnRMb2FkaW5nID8gJ0NhcmdhbmRvIGNhcnJpdG8uLi4nIDogaXNCdXR0b25EaXNhYmxlZCA/ICdQcm9jZXNhbmRvLi4uJyA6ICdGaW5hbGl6YXIgQ29tcHJhJ31cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQ29tcG9uZW50ZSBkZSBhbmltYWNpw7NuIGRlIHRyYW5zaWNpw7NuICovfVxyXG4gICAgICA8Q2hlY2tvdXRUcmFuc2l0aW9uQW5pbWF0aW9uXHJcbiAgICAgICAgaXNBY3RpdmU9e2lzVHJhbnNpdGlvbmluZ31cclxuICAgICAgICBza2lwQW5pbWF0aW9uPXtza2lwQW5pbWF0aW9ufVxyXG4gICAgICAgIG9uQ29tcGxldGU9eygpID0+IHtcclxuICAgICAgICAgIC8vIENhbGxiYWNrIGFkaWNpb25hbCBzaSBlcyBuZWNlc2FyaW9cclxuICAgICAgICB9fVxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcnRTaWRlYmFyTW9kYWw7XHJcbiJdLCJuYW1lcyI6WyJDYXJ0U2lkZWJhck1vZGFsIiwiaXNDYXJ0TW9kYWxPcGVuIiwiY2xvc2VDYXJ0TW9kYWwiLCJ1c2VDYXJ0TW9kYWxDb250ZXh0IiwiY2FydEl0ZW1zIiwidXNlQXBwU2VsZWN0b3IiLCJzdGF0ZSIsImNhcnRSZWR1Y2VyIiwiaXRlbXMiLCJiYWNrZW5kQ2FydEl0ZW1zIiwidG90YWxJdGVtcyIsImJhY2tlbmRUb3RhbEl0ZW1zIiwidG90YWxBbW91bnQiLCJiYWNrZW5kVG90YWxBbW91bnQiLCJsb2FkaW5nIiwiY2FydExvYWRpbmciLCJ1c2VDYXJ0V2l0aEJhY2tlbmQiLCJ0b3RhbFByaWNlIiwidXNlU2VsZWN0b3IiLCJzZWxlY3RUb3RhbFByaWNlIiwiZWZmZWN0aXZlQ2FydEl0ZW1zIiwibGVuZ3RoIiwiZWZmZWN0aXZlVG90YWxQcmljZSIsImhhc0l0ZW1zIiwiaXNUcmFuc2l0aW9uaW5nIiwic3RhcnRUcmFuc2l0aW9uIiwic2tpcEFuaW1hdGlvbiIsImlzQnV0dG9uRGlzYWJsZWQiLCJ1c2VDaGVja291dFRyYW5zaXRpb24iLCJvblRyYW5zaXRpb25TdGFydCIsIm9uVHJhbnNpdGlvbkNvbXBsZXRlIiwidXNlRWZmZWN0IiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInN2ZyIsImZpbGwiLCJ2aWV3Qm94IiwicGF0aCIsImQiLCJoMiIsInN0eWxlIiwiY29sb3IiLCJwIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJzdHJva2UiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsIm1hcCIsIml0ZW0iLCJrZXkiLCJTaW5nbGVJdGVtIiwiRW1wdHlDYXJ0IiwiU2hpcHBpbmdQcm9ncmVzc0JhciIsImN1cnJlbnRBbW91bnQiLCJ2YXJpYW50IiwidG9Mb2NhbGVTdHJpbmciLCJJbWFnZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwic3BhbiIsImRpc2FibGVkIiwiZGF0YS10ZXN0aWQiLCJDaGVja291dFRyYW5zaXRpb25BbmltYXRpb24iLCJpc0FjdGl2ZSIsIm9uQ29tcGxldGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkEwTEE7OztlQUFBOzs7OytEQXpMMkM7eUNBRVA7MkJBQ0g7dUJBQ0Y7NEJBQ0g7bUVBQ0w7a0VBRUQ7NEVBQ1U7OERBQ2Q7b0ZBQ3NCOzhFQUNOO29DQUNDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVuQyxNQUFNQSxtQkFBbUI7SUFDdkIsTUFBTSxFQUFFQyxlQUFlLEVBQUVDLGNBQWMsRUFBRSxHQUFHQyxJQUFBQSw0Q0FBbUI7SUFDL0QsTUFBTUMsWUFBWUMsSUFBQUEscUJBQWMsRUFBQyxDQUFDQyxRQUFVQSxNQUFNQyxXQUFXLENBQUNDLEtBQUs7SUFFbkUsZ0NBQWdDO0lBQ2hDLE1BQU0sRUFDSkEsT0FBT0MsZ0JBQWdCLEVBQ3ZCQyxZQUFZQyxpQkFBaUIsRUFDN0JDLGFBQWFDLGtCQUFrQixFQUMvQkMsU0FBU0MsV0FBVyxFQUNyQixHQUFHQyxJQUFBQSxzQ0FB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