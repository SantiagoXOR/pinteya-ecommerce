3e4e0f313458ed0698e25018e4ec66a2
// ===================================
// PINTEYA E-COMMERCE - TESTS PARA CARTSIDEBARMODAL COMPONENT
// ===================================
"use strict";
jest.mock('@/app/context/CartSidebarModalContext', ()=>({
        useCartModalContext: ()=>({
                isCartModalOpen: mockIsOpen,
                openCartModal: jest.fn(),
                closeCartModal: mockCloseModal
            })
    }));
// Mock de Next.js Link
jest.mock('next/link', ()=>{
    return ({ children, href })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            children: children
        });
});
// Mock de Next.js Image
jest.mock('next/image', ()=>{
    return ({ src, alt, width, height })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
            src: src,
            alt: alt,
            width: width,
            height: height
        });
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactredux = require("react-redux");
const _toolkit = require("@reduxjs/toolkit");
const _CartSidebarModal = /*#__PURE__*/ _interop_require_default(require("../../components/Common/CartSidebarModal"));
const _cartslice = /*#__PURE__*/ _interop_require_default(require("../../redux/features/cart-slice"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock del contexto de modal del carrito
const mockCloseModal = jest.fn();
const mockIsOpen = true;
// Items de carrito de prueba
const mockCartItems = [
    {
        id: 1,
        title: 'Pintura Latex Interior Blanco 4L',
        price: 18000,
        discountedPrice: 15000,
        quantity: 2,
        imgs: {
            thumbnails: [
                '/images/products/pintura-latex-blanco-sm.jpg'
            ],
            previews: [
                '/images/products/pintura-latex-blanco.jpg'
            ]
        }
    },
    {
        id: 2,
        title: 'Esmalte Sintético Azul 1L',
        price: 8000,
        discountedPrice: 7000,
        quantity: 1,
        imgs: {
            thumbnails: [
                '/images/products/esmalte-azul-sm.jpg'
            ],
            previews: [
                '/images/products/esmalte-azul.jpg'
            ]
        }
    }
];
// Función helper para renderizar con Redux store
const renderWithStore = (component, initialState = {})=>{
    const store = (0, _toolkit.configureStore)({
        reducer: {
            cartReducer: _cartslice.default
        },
        preloadedState: initialState
    });
    return (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactredux.Provider, {
        store: store,
        children: component
    }));
};
describe('CartSidebarModal Component', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should render cart modal when open', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        expect(_react1.screen.getByText('Cart View')).toBeInTheDocument();
        expect(_react1.screen.getByText('Pintura Latex Interior Blanco 4L')).toBeInTheDocument();
        expect(_react1.screen.getByText('Esmalte Sintético Azul 1L')).toBeInTheDocument();
    });
    it('should display cart items with correct information', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // Verificar que se muestran los productos
        expect(_react1.screen.getByText('Pintura Latex Interior Blanco 4L')).toBeInTheDocument();
        expect(_react1.screen.getByText('Esmalte Sintético Azul 1L')).toBeInTheDocument();
        // Verificar precios (el formato real incluye espacios: "Price: $ 15000")
        expect(_react1.screen.getByText(/Price:.*15000/)).toBeInTheDocument();
        expect(_react1.screen.getByText(/Price:.*7000/)).toBeInTheDocument();
    });
    it('should calculate and display total price correctly', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // Total: (15000 * 2) + (7000 * 1) = 37000
        expect(_react1.screen.getByText('$37000')).toBeInTheDocument();
    });
    it('should handle close modal action', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        const closeButton = _react1.screen.getByRole('button', {
            name: /close/i
        });
        await (0, _react1.act)(async ()=>{
            _react1.fireEvent.click(closeButton);
        });
        expect(mockCloseModal).toHaveBeenCalled();
    });
    it('should display empty cart message when no items', async ()=>{
        const initialState = {
            cartReducer: {
                items: []
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        expect(_react1.screen.getByText(/your cart is empty/i)).toBeInTheDocument();
    });
    it('should handle remove item from cart', async ()=>{
        const store = (0, _toolkit.configureStore)({
            reducer: {
                cartReducer: _cartslice.default
            },
            preloadedState: {
                cartReducer: {
                    items: mockCartItems
                }
            }
        });
        await (0, _react1.act)(async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactredux.Provider, {
                store: store,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {})
            }));
        });
        // Buscar todos los botones de eliminar y hacer clic en el primero
        const removeButtons = _react1.screen.getAllByLabelText('button for remove product from cart');
        expect(removeButtons.length).toBe(2); // Verificar que hay 2 botones (uno por producto)
        await (0, _react1.act)(async ()=>{
            _react1.fireEvent.click(removeButtons[0]); // Hacer clic en el primer botón
        });
        // Verificar que se eliminó un item (de 2 items iniciales a 1)
        const state = store.getState();
        expect(state.cartReducer.items.length).toBe(1);
    });
    it('should handle quantity updates', async ()=>{
        const store = (0, _toolkit.configureStore)({
            reducer: {
                cartReducer: _cartslice.default
            },
            preloadedState: {
                cartReducer: {
                    items: mockCartItems
                }
            }
        });
        await (0, _react1.act)(async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactredux.Provider, {
                store: store,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {})
            }));
        });
        // Buscar controles de cantidad (+ y -)
        const quantityButtons = _react1.screen.getAllByRole('button');
        const increaseButton = quantityButtons.find((button)=>button.textContent?.includes('+') || button.getAttribute('aria-label')?.includes('increase'));
        if (increaseButton) {
            await (0, _react1.act)(async ()=>{
                _react1.fireEvent.click(increaseButton);
            });
            // Verificar que la cantidad cambió
            const state = store.getState();
            const updatedItem = state.cartReducer.items.find((item)=>item.id === 1);
            expect(updatedItem?.quantity).toBeGreaterThan(2);
        }
    });
    it('should show checkout button when items exist', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        const checkoutButton = _react1.screen.getByRole('link', {
            name: /checkout/i
        });
        expect(checkoutButton).toBeInTheDocument();
        expect(checkoutButton).toHaveAttribute('href', '/checkout');
    });
    it('should show checkout button even when cart is empty (current behavior)', async ()=>{
        const initialState = {
            cartReducer: {
                items: []
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // El componente actual siempre muestra el botón de checkout
        const checkoutButton = _react1.screen.queryByRole('link', {
            name: /checkout/i
        });
        expect(checkoutButton).toBeInTheDocument();
    });
    it('should display products correctly (quantities not shown in current implementation)', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // Verificar que se muestran los productos (el componente actual no muestra cantidades)
        expect(_react1.screen.getByText('Pintura Latex Interior Blanco 4L')).toBeInTheDocument();
        expect(_react1.screen.getByText('Esmalte Sintético Azul 1L')).toBeInTheDocument();
    });
    it('should handle modal overlay click to close', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // Buscar el botón de cerrar modal
        const closeButton = _react1.screen.getByLabelText('button for close modal');
        await (0, _react1.act)(async ()=>{
            _react1.fireEvent.click(closeButton);
        });
        expect(mockCloseModal).toHaveBeenCalled();
    });
    it('should show proper loading states', async ()=>{
        const initialState = {
            cartReducer: {
                items: mockCartItems,
                isLoading: true
            }
        };
        await (0, _react1.act)(async ()=>{
            renderWithStore(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CartSidebarModal.default, {}), initialState);
        });
        // Verificar que se muestra algún indicador de carga
        // Esto depende de la implementación específica del componente
        expect(_react1.screen.getByText('Cart View')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFxDYXJ0U2lkZWJhck1vZGFsLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBURVNUUyBQQVJBIENBUlRTSURFQkFSTU9EQUwgQ09NUE9ORU5UXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgQ2FydFNpZGViYXJNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvQ29tbW9uL0NhcnRTaWRlYmFyTW9kYWwnO1xuaW1wb3J0IGNhcnRSZWR1Y2VyIGZyb20gJ0AvcmVkdXgvZmVhdHVyZXMvY2FydC1zbGljZSc7XG5cbi8vIE1vY2sgZGVsIGNvbnRleHRvIGRlIG1vZGFsIGRlbCBjYXJyaXRvXG5jb25zdCBtb2NrQ2xvc2VNb2RhbCA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tJc09wZW4gPSB0cnVlO1xuXG5qZXN0Lm1vY2soJ0AvYXBwL2NvbnRleHQvQ2FydFNpZGViYXJNb2RhbENvbnRleHQnLCAoKSA9PiAoe1xuICB1c2VDYXJ0TW9kYWxDb250ZXh0OiAoKSA9PiAoe1xuICAgIGlzQ2FydE1vZGFsT3BlbjogbW9ja0lzT3BlbixcbiAgICBvcGVuQ2FydE1vZGFsOiBqZXN0LmZuKCksXG4gICAgY2xvc2VDYXJ0TW9kYWw6IG1vY2tDbG9zZU1vZGFsLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBkZSBOZXh0LmpzIExpbmtcbmplc3QubW9jaygnbmV4dC9saW5rJywgKCkgPT4ge1xuICByZXR1cm4gKHsgY2hpbGRyZW4sIGhyZWYgfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlOyBocmVmOiBzdHJpbmcgfSkgPT4gKFxuICAgIDxhIGhyZWY9e2hyZWZ9PntjaGlsZHJlbn08L2E+XG4gICk7XG59KTtcblxuLy8gTW9jayBkZSBOZXh0LmpzIEltYWdlXG5qZXN0Lm1vY2soJ25leHQvaW1hZ2UnLCAoKSA9PiB7XG4gIHJldHVybiAoeyBzcmMsIGFsdCwgd2lkdGgsIGhlaWdodCB9OiB7IHNyYzogc3RyaW5nOyBhbHQ6IHN0cmluZzsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSkgPT4gKFxuICAgIDxpbWcgc3JjPXtzcmN9IGFsdD17YWx0fSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSAvPlxuICApO1xufSk7XG5cbi8vIEl0ZW1zIGRlIGNhcnJpdG8gZGUgcHJ1ZWJhXG5jb25zdCBtb2NrQ2FydEl0ZW1zID0gW1xuICB7XG4gICAgaWQ6IDEsXG4gICAgdGl0bGU6ICdQaW50dXJhIExhdGV4IEludGVyaW9yIEJsYW5jbyA0TCcsXG4gICAgcHJpY2U6IDE4MDAwLFxuICAgIGRpc2NvdW50ZWRQcmljZTogMTUwMDAsXG4gICAgcXVhbnRpdHk6IDIsXG4gICAgaW1nczoge1xuICAgICAgdGh1bWJuYWlsczogWycvaW1hZ2VzL3Byb2R1Y3RzL3BpbnR1cmEtbGF0ZXgtYmxhbmNvLXNtLmpwZyddLFxuICAgICAgcHJldmlld3M6IFsnL2ltYWdlcy9wcm9kdWN0cy9waW50dXJhLWxhdGV4LWJsYW5jby5qcGcnXSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgaWQ6IDIsXG4gICAgdGl0bGU6ICdFc21hbHRlIFNpbnTDqXRpY28gQXp1bCAxTCcsXG4gICAgcHJpY2U6IDgwMDAsXG4gICAgZGlzY291bnRlZFByaWNlOiA3MDAwLFxuICAgIHF1YW50aXR5OiAxLFxuICAgIGltZ3M6IHtcbiAgICAgIHRodW1ibmFpbHM6IFsnL2ltYWdlcy9wcm9kdWN0cy9lc21hbHRlLWF6dWwtc20uanBnJ10sXG4gICAgICBwcmV2aWV3czogWycvaW1hZ2VzL3Byb2R1Y3RzL2VzbWFsdGUtYXp1bC5qcGcnXSxcbiAgICB9LFxuICB9LFxuXTtcblxuLy8gRnVuY2nDs24gaGVscGVyIHBhcmEgcmVuZGVyaXphciBjb24gUmVkdXggc3RvcmVcbmNvbnN0IHJlbmRlcldpdGhTdG9yZSA9IChjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCwgaW5pdGlhbFN0YXRlID0ge30pID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XG4gICAgcmVkdWNlcjoge1xuICAgICAgY2FydFJlZHVjZXIsXG4gICAgfSxcbiAgICBwcmVsb2FkZWRTdGF0ZTogaW5pdGlhbFN0YXRlLFxuICB9KTtcblxuICByZXR1cm4gcmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAge2NvbXBvbmVudH1cbiAgICA8L1Byb3ZpZGVyPlxuICApO1xufTtcblxuZGVzY3JpYmUoJ0NhcnRTaWRlYmFyTW9kYWwgQ29tcG9uZW50JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgY2FydCBtb2RhbCB3aGVuIG9wZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgY2FydFJlZHVjZXI6IHtcbiAgICAgICAgaXRlbXM6IG1vY2tDYXJ0SXRlbXMsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFN0b3JlKDxDYXJ0U2lkZWJhck1vZGFsIC8+LCBpbml0aWFsU3RhdGUpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NhcnQgVmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIExhdGV4IEludGVyaW9yIEJsYW5jbyA0TCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFc21hbHRlIFNpbnTDqXRpY28gQXp1bCAxTCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgY2FydCBpdGVtcyB3aXRoIGNvcnJlY3QgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgY2FydFJlZHVjZXI6IHtcbiAgICAgICAgaXRlbXM6IG1vY2tDYXJ0SXRlbXMsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFN0b3JlKDxDYXJ0U2lkZWJhck1vZGFsIC8+LCBpbml0aWFsU3RhdGUpO1xuICAgIH0pO1xuXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBzZSBtdWVzdHJhbiBsb3MgcHJvZHVjdG9zXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BpbnR1cmEgTGF0ZXggSW50ZXJpb3IgQmxhbmNvIDRMJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0VzbWFsdGUgU2ludMOpdGljbyBBenVsIDFMJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAvLyBWZXJpZmljYXIgcHJlY2lvcyAoZWwgZm9ybWF0byByZWFsIGluY2x1eWUgZXNwYWNpb3M6IFwiUHJpY2U6ICQgMTUwMDBcIilcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvUHJpY2U6LioxNTAwMC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9QcmljZTouKjcwMDAvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgYW5kIGRpc3BsYXkgdG90YWwgcHJpY2UgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XG4gICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIC8vIFRvdGFsOiAoMTUwMDAgKiAyKSArICg3MDAwICogMSkgPSAzNzAwMFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCckMzcwMDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgY2xvc2UgbW9kYWwgYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XG4gICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xvc2UvaSB9KTtcbiAgICBcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGNsb3NlQnV0dG9uKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrQ2xvc2VNb2RhbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgZW1wdHkgY2FydCBtZXNzYWdlIHdoZW4gbm8gaXRlbXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgY2FydFJlZHVjZXI6IHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC95b3VyIGNhcnQgaXMgZW1wdHkvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIHJlbW92ZSBpdGVtIGZyb20gY2FydCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IGNvbmZpZ3VyZVN0b3JlKHtcbiAgICAgIHJlZHVjZXI6IHtcbiAgICAgICAgY2FydFJlZHVjZXIsXG4gICAgICB9LFxuICAgICAgcHJlbG9hZGVkU3RhdGU6IHtcbiAgICAgICAgY2FydFJlZHVjZXI6IHtcbiAgICAgICAgICBpdGVtczogbW9ja0NhcnRJdGVtcyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgICAgICA8Q2FydFNpZGViYXJNb2RhbCAvPlxuICAgICAgICA8L1Byb3ZpZGVyPlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIEJ1c2NhciB0b2RvcyBsb3MgYm90b25lcyBkZSBlbGltaW5hciB5IGhhY2VyIGNsaWMgZW4gZWwgcHJpbWVyb1xuICAgIGNvbnN0IHJlbW92ZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoJ2J1dHRvbiBmb3IgcmVtb3ZlIHByb2R1Y3QgZnJvbSBjYXJ0Jyk7XG4gICAgZXhwZWN0KHJlbW92ZUJ1dHRvbnMubGVuZ3RoKS50b0JlKDIpOyAvLyBWZXJpZmljYXIgcXVlIGhheSAyIGJvdG9uZXMgKHVubyBwb3IgcHJvZHVjdG8pXG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHJlbW92ZUJ1dHRvbnNbMF0pOyAvLyBIYWNlciBjbGljIGVuIGVsIHByaW1lciBib3TDs25cbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgc2UgZWxpbWluw7MgdW4gaXRlbSAoZGUgMiBpdGVtcyBpbmljaWFsZXMgYSAxKVxuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBleHBlY3Qoc3RhdGUuY2FydFJlZHVjZXIuaXRlbXMubGVuZ3RoKS50b0JlKDEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBxdWFudGl0eSB1cGRhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gY29uZmlndXJlU3RvcmUoe1xuICAgICAgcmVkdWNlcjoge1xuICAgICAgICBjYXJ0UmVkdWNlcixcbiAgICAgIH0sXG4gICAgICBwcmVsb2FkZWRTdGF0ZToge1xuICAgICAgICBjYXJ0UmVkdWNlcjoge1xuICAgICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgICAgIDxDYXJ0U2lkZWJhck1vZGFsIC8+XG4gICAgICAgIDwvUHJvdmlkZXI+XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgLy8gQnVzY2FyIGNvbnRyb2xlcyBkZSBjYW50aWRhZCAoKyB5IC0pXG4gICAgY29uc3QgcXVhbnRpdHlCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgY29uc3QgaW5jcmVhc2VCdXR0b24gPSBxdWFudGl0eUJ1dHRvbnMuZmluZChidXR0b24gPT4gXG4gICAgICBidXR0b24udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCcrJykgfHwgXG4gICAgICBidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk/LmluY2x1ZGVzKCdpbmNyZWFzZScpXG4gICAgKTtcblxuICAgIGlmIChpbmNyZWFzZUJ1dHRvbikge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluY3JlYXNlQnV0dG9uKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGxhIGNhbnRpZGFkIGNhbWJpw7NcbiAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtID0gc3RhdGUuY2FydFJlZHVjZXIuaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IDEpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRJdGVtPy5xdWFudGl0eSkudG9CZUdyZWF0ZXJUaGFuKDIpO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IGNoZWNrb3V0IGJ1dHRvbiB3aGVuIGl0ZW1zIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XG4gICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNoZWNrb3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2NoZWNrb3V0L2kgfSk7XG4gICAgZXhwZWN0KGNoZWNrb3V0QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChjaGVja291dEJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9jaGVja291dCcpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNob3cgY2hlY2tvdXQgYnV0dG9uIGV2ZW4gd2hlbiBjYXJ0IGlzIGVtcHR5IChjdXJyZW50IGJlaGF2aW9yKScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBjYXJ0UmVkdWNlcjoge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFN0b3JlKDxDYXJ0U2lkZWJhck1vZGFsIC8+LCBpbml0aWFsU3RhdGUpO1xuICAgIH0pO1xuXG4gICAgLy8gRWwgY29tcG9uZW50ZSBhY3R1YWwgc2llbXByZSBtdWVzdHJhIGVsIGJvdMOzbiBkZSBjaGVja291dFxuICAgIGNvbnN0IGNoZWNrb3V0QnV0dG9uID0gc2NyZWVuLnF1ZXJ5QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvY2hlY2tvdXQvaSB9KTtcbiAgICBleHBlY3QoY2hlY2tvdXRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBwcm9kdWN0cyBjb3JyZWN0bHkgKHF1YW50aXRpZXMgbm90IHNob3duIGluIGN1cnJlbnQgaW1wbGVtZW50YXRpb24pJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XG4gICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgc2UgbXVlc3RyYW4gbG9zIHByb2R1Y3RvcyAoZWwgY29tcG9uZW50ZSBhY3R1YWwgbm8gbXVlc3RyYSBjYW50aWRhZGVzKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaW50dXJhIExhdGV4IEludGVyaW9yIEJsYW5jbyA0TCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFc21hbHRlIFNpbnTDqXRpY28gQXp1bCAxTCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBtb2RhbCBvdmVybGF5IGNsaWNrIHRvIGNsb3NlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGNhcnRSZWR1Y2VyOiB7XG4gICAgICAgIGl0ZW1zOiBtb2NrQ2FydEl0ZW1zLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhTdG9yZSg8Q2FydFNpZGViYXJNb2RhbCAvPiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9KTtcblxuICAgIC8vIEJ1c2NhciBlbCBib3TDs24gZGUgY2VycmFyIG1vZGFsXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ2J1dHRvbiBmb3IgY2xvc2UgbW9kYWwnKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b24pO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KG1vY2tDbG9zZU1vZGFsKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgc2hvdyBwcm9wZXIgbG9hZGluZyBzdGF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgY2FydFJlZHVjZXI6IHtcbiAgICAgICAgaXRlbXM6IG1vY2tDYXJ0SXRlbXMsXG4gICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXJXaXRoU3RvcmUoPENhcnRTaWRlYmFyTW9kYWwgLz4sIGluaXRpYWxTdGF0ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBWZXJpZmljYXIgcXVlIHNlIG11ZXN0cmEgYWxnw7puIGluZGljYWRvciBkZSBjYXJnYVxuICAgIC8vIEVzdG8gZGVwZW5kZSBkZSBsYSBpbXBsZW1lbnRhY2nDs24gZXNwZWPDrWZpY2EgZGVsIGNvbXBvbmVudGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2FydCBWaWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VDYXJ0TW9kYWxDb250ZXh0IiwiaXNDYXJ0TW9kYWxPcGVuIiwibW9ja0lzT3BlbiIsIm9wZW5DYXJ0TW9kYWwiLCJmbiIsImNsb3NlQ2FydE1vZGFsIiwibW9ja0Nsb3NlTW9kYWwiLCJjaGlsZHJlbiIsImhyZWYiLCJhIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJpbWciLCJtb2NrQ2FydEl0ZW1zIiwiaWQiLCJ0aXRsZSIsInByaWNlIiwiZGlzY291bnRlZFByaWNlIiwicXVhbnRpdHkiLCJpbWdzIiwidGh1bWJuYWlscyIsInByZXZpZXdzIiwicmVuZGVyV2l0aFN0b3JlIiwiY29tcG9uZW50IiwiaW5pdGlhbFN0YXRlIiwic3RvcmUiLCJjb25maWd1cmVTdG9yZSIsInJlZHVjZXIiLCJjYXJ0UmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwicmVuZGVyIiwiUHJvdmlkZXIiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJpdGVtcyIsImFjdCIsIkNhcnRTaWRlYmFyTW9kYWwiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImNsb3NlQnV0dG9uIiwiZ2V0QnlSb2xlIiwibmFtZSIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZCIsInJlbW92ZUJ1dHRvbnMiLCJnZXRBbGxCeUxhYmVsVGV4dCIsImxlbmd0aCIsInRvQmUiLCJzdGF0ZSIsImdldFN0YXRlIiwicXVhbnRpdHlCdXR0b25zIiwiZ2V0QWxsQnlSb2xlIiwiaW5jcmVhc2VCdXR0b24iLCJmaW5kIiwiYnV0dG9uIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsImdldEF0dHJpYnV0ZSIsInVwZGF0ZWRJdGVtIiwiaXRlbSIsInRvQmVHcmVhdGVyVGhhbiIsImNoZWNrb3V0QnV0dG9uIiwidG9IYXZlQXR0cmlidXRlIiwicXVlcnlCeVJvbGUiLCJnZXRCeUxhYmVsVGV4dCIsImlzTG9hZGluZyJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLDZEQUE2RDtBQUM3RCxzQ0FBc0M7O0FBYXRDQSxLQUFLQyxJQUFJLENBQUMseUNBQXlDLElBQU8sQ0FBQTtRQUN4REMscUJBQXFCLElBQU8sQ0FBQTtnQkFDMUJDLGlCQUFpQkM7Z0JBQ2pCQyxlQUFlTCxLQUFLTSxFQUFFO2dCQUN0QkMsZ0JBQWdCQztZQUNsQixDQUFBO0lBQ0YsQ0FBQTtBQUVBLHVCQUF1QjtBQUN2QlIsS0FBS0MsSUFBSSxDQUFDLGFBQWE7SUFDckIsT0FBTyxDQUFDLEVBQUVRLFFBQVEsRUFBRUMsSUFBSSxFQUErQyxpQkFDckUscUJBQUNDO1lBQUVELE1BQU1BO3NCQUFPRDs7QUFFcEI7QUFFQSx3QkFBd0I7QUFDeEJULEtBQUtDLElBQUksQ0FBQyxjQUFjO0lBQ3RCLE9BQU8sQ0FBQyxFQUFFVyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQStELGlCQUM5RixxQkFBQ0M7WUFBSUosS0FBS0E7WUFBS0MsS0FBS0E7WUFBS0MsT0FBT0E7WUFBT0MsUUFBUUE7O0FBRW5EOzs7Ozs4REEvQmtCO3dCQUM2Qjs0QkFDdEI7eUJBQ007eUVBQ0Y7a0VBQ0w7Ozs7OztBQUV4Qix5Q0FBeUM7QUFDekMsTUFBTVAsaUJBQWlCUixLQUFLTSxFQUFFO0FBQzlCLE1BQU1GLGFBQWE7QUF3Qm5CLDZCQUE2QjtBQUM3QixNQUFNYSxnQkFBZ0I7SUFDcEI7UUFDRUMsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsaUJBQWlCO1FBQ2pCQyxVQUFVO1FBQ1ZDLE1BQU07WUFDSkMsWUFBWTtnQkFBQzthQUErQztZQUM1REMsVUFBVTtnQkFBQzthQUE0QztRQUN6RDtJQUNGO0lBQ0E7UUFDRVAsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsaUJBQWlCO1FBQ2pCQyxVQUFVO1FBQ1ZDLE1BQU07WUFDSkMsWUFBWTtnQkFBQzthQUF1QztZQUNwREMsVUFBVTtnQkFBQzthQUFvQztRQUNqRDtJQUNGO0NBQ0Q7QUFFRCxpREFBaUQ7QUFDakQsTUFBTUMsa0JBQWtCLENBQUNDLFdBQStCQyxlQUFlLENBQUMsQ0FBQztJQUN2RSxNQUFNQyxRQUFRQyxJQUFBQSx1QkFBYyxFQUFDO1FBQzNCQyxTQUFTO1lBQ1BDLGFBQUFBLGtCQUFXO1FBQ2I7UUFDQUMsZ0JBQWdCTDtJQUNsQjtJQUVBLE9BQU9NLElBQUFBLGNBQU0sZ0JBQ1gscUJBQUNDLG9CQUFRO1FBQUNOLE9BQU9BO2tCQUNkRjs7QUFHUDtBQUVBUyxTQUFTLDhCQUE4QjtJQUNyQ0MsV0FBVztRQUNUckMsS0FBS3NDLGFBQWE7SUFDcEI7SUFFQUMsR0FBRyxzQ0FBc0M7UUFDdkMsTUFBTVgsZUFBZTtZQUNuQkksYUFBYTtnQkFDWFEsT0FBT3ZCO1lBQ1Q7UUFDRjtRQUVBLE1BQU13QixJQUFBQSxXQUFHLEVBQUM7WUFDUmYsOEJBQWdCLHFCQUFDZ0IseUJBQWdCLE9BQUtkO1FBQ3hDO1FBRUFlLE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLGNBQWNDLGlCQUFpQjtRQUN2REgsT0FBT0MsY0FBTSxDQUFDQyxTQUFTLENBQUMscUNBQXFDQyxpQkFBaUI7UUFDOUVILE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLDhCQUE4QkMsaUJBQWlCO0lBQ3pFO0lBRUFQLEdBQUcsc0RBQXNEO1FBQ3ZELE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLDBDQUEwQztRQUMxQ2UsT0FBT0MsY0FBTSxDQUFDQyxTQUFTLENBQUMscUNBQXFDQyxpQkFBaUI7UUFDOUVILE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLDhCQUE4QkMsaUJBQWlCO1FBRXZFLHlFQUF5RTtRQUN6RUgsT0FBT0MsY0FBTSxDQUFDQyxTQUFTLENBQUMsa0JBQWtCQyxpQkFBaUI7UUFDM0RILE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLGlCQUFpQkMsaUJBQWlCO0lBQzVEO0lBRUFQLEdBQUcsc0RBQXNEO1FBQ3ZELE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLDBDQUEwQztRQUMxQ2UsT0FBT0MsY0FBTSxDQUFDQyxTQUFTLENBQUMsV0FBV0MsaUJBQWlCO0lBQ3REO0lBRUFQLEdBQUcsb0NBQW9DO1FBQ3JDLE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLE1BQU1tQixjQUFjSCxjQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO1lBQUVDLE1BQU07UUFBUztRQUVoRSxNQUFNUixJQUFBQSxXQUFHLEVBQUM7WUFDUlMsaUJBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtRQUNsQjtRQUVBSixPQUFPbkMsZ0JBQWdCNEMsZ0JBQWdCO0lBQ3pDO0lBRUFiLEdBQUcsbURBQW1EO1FBQ3BELE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU8sRUFBRTtZQUNYO1FBQ0Y7UUFFQSxNQUFNQyxJQUFBQSxXQUFHLEVBQUM7WUFDUmYsOEJBQWdCLHFCQUFDZ0IseUJBQWdCLE9BQUtkO1FBQ3hDO1FBRUFlLE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLHdCQUF3QkMsaUJBQWlCO0lBQ25FO0lBRUFQLEdBQUcsdUNBQXVDO1FBQ3hDLE1BQU1WLFFBQVFDLElBQUFBLHVCQUFjLEVBQUM7WUFDM0JDLFNBQVM7Z0JBQ1BDLGFBQUFBLGtCQUFXO1lBQ2I7WUFDQUMsZ0JBQWdCO2dCQUNkRCxhQUFhO29CQUNYUSxPQUFPdkI7Z0JBQ1Q7WUFDRjtRQUNGO1FBRUEsTUFBTXdCLElBQUFBLFdBQUcsRUFBQztZQUNSUCxJQUFBQSxjQUFNLGdCQUNKLHFCQUFDQyxvQkFBUTtnQkFBQ04sT0FBT0E7MEJBQ2YsY0FBQSxxQkFBQ2EseUJBQWdCOztRQUd2QjtRQUVBLGtFQUFrRTtRQUNsRSxNQUFNVyxnQkFBZ0JULGNBQU0sQ0FBQ1UsaUJBQWlCLENBQUM7UUFDL0NYLE9BQU9VLGNBQWNFLE1BQU0sRUFBRUMsSUFBSSxDQUFDLElBQUksaURBQWlEO1FBRXZGLE1BQU1mLElBQUFBLFdBQUcsRUFBQztZQUNSUyxpQkFBUyxDQUFDQyxLQUFLLENBQUNFLGFBQWEsQ0FBQyxFQUFFLEdBQUcsZ0NBQWdDO1FBQ3JFO1FBRUEsOERBQThEO1FBQzlELE1BQU1JLFFBQVE1QixNQUFNNkIsUUFBUTtRQUM1QmYsT0FBT2MsTUFBTXpCLFdBQVcsQ0FBQ1EsS0FBSyxDQUFDZSxNQUFNLEVBQUVDLElBQUksQ0FBQztJQUM5QztJQUVBakIsR0FBRyxrQ0FBa0M7UUFDbkMsTUFBTVYsUUFBUUMsSUFBQUEsdUJBQWMsRUFBQztZQUMzQkMsU0FBUztnQkFDUEMsYUFBQUEsa0JBQVc7WUFDYjtZQUNBQyxnQkFBZ0I7Z0JBQ2RELGFBQWE7b0JBQ1hRLE9BQU92QjtnQkFDVDtZQUNGO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JQLElBQUFBLGNBQU0sZ0JBQ0oscUJBQUNDLG9CQUFRO2dCQUFDTixPQUFPQTswQkFDZixjQUFBLHFCQUFDYSx5QkFBZ0I7O1FBR3ZCO1FBRUEsdUNBQXVDO1FBQ3ZDLE1BQU1pQixrQkFBa0JmLGNBQU0sQ0FBQ2dCLFlBQVksQ0FBQztRQUM1QyxNQUFNQyxpQkFBaUJGLGdCQUFnQkcsSUFBSSxDQUFDQyxDQUFBQSxTQUMxQ0EsT0FBT0MsV0FBVyxFQUFFQyxTQUFTLFFBQzdCRixPQUFPRyxZQUFZLENBQUMsZUFBZUQsU0FBUztRQUc5QyxJQUFJSixnQkFBZ0I7WUFDbEIsTUFBTXBCLElBQUFBLFdBQUcsRUFBQztnQkFDUlMsaUJBQVMsQ0FBQ0MsS0FBSyxDQUFDVTtZQUNsQjtZQUVBLG1DQUFtQztZQUNuQyxNQUFNSixRQUFRNUIsTUFBTTZCLFFBQVE7WUFDNUIsTUFBTVMsY0FBY1YsTUFBTXpCLFdBQVcsQ0FBQ1EsS0FBSyxDQUFDc0IsSUFBSSxDQUFDTSxDQUFBQSxPQUFRQSxLQUFLbEQsRUFBRSxLQUFLO1lBQ3JFeUIsT0FBT3dCLGFBQWE3QyxVQUFVK0MsZUFBZSxDQUFDO1FBQ2hEO0lBQ0Y7SUFFQTlCLEdBQUcsZ0RBQWdEO1FBQ2pELE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLE1BQU0wQyxpQkFBaUIxQixjQUFNLENBQUNJLFNBQVMsQ0FBQyxRQUFRO1lBQUVDLE1BQU07UUFBWTtRQUNwRU4sT0FBTzJCLGdCQUFnQnhCLGlCQUFpQjtRQUN4Q0gsT0FBTzJCLGdCQUFnQkMsZUFBZSxDQUFDLFFBQVE7SUFDakQ7SUFFQWhDLEdBQUcsMEVBQTBFO1FBQzNFLE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU8sRUFBRTtZQUNYO1FBQ0Y7UUFFQSxNQUFNQyxJQUFBQSxXQUFHLEVBQUM7WUFDUmYsOEJBQWdCLHFCQUFDZ0IseUJBQWdCLE9BQUtkO1FBQ3hDO1FBRUEsNERBQTREO1FBQzVELE1BQU0wQyxpQkFBaUIxQixjQUFNLENBQUM0QixXQUFXLENBQUMsUUFBUTtZQUFFdkIsTUFBTTtRQUFZO1FBQ3RFTixPQUFPMkIsZ0JBQWdCeEIsaUJBQWlCO0lBQzFDO0lBRUFQLEdBQUcsc0ZBQXNGO1FBQ3ZGLE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLHVGQUF1RjtRQUN2RmUsT0FBT0MsY0FBTSxDQUFDQyxTQUFTLENBQUMscUNBQXFDQyxpQkFBaUI7UUFDOUVILE9BQU9DLGNBQU0sQ0FBQ0MsU0FBUyxDQUFDLDhCQUE4QkMsaUJBQWlCO0lBQ3pFO0lBRUFQLEdBQUcsOENBQThDO1FBQy9DLE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtZQUNUO1FBQ0Y7UUFFQSxNQUFNd0IsSUFBQUEsV0FBRyxFQUFDO1lBQ1JmLDhCQUFnQixxQkFBQ2dCLHlCQUFnQixPQUFLZDtRQUN4QztRQUVBLGtDQUFrQztRQUNsQyxNQUFNbUIsY0FBY0gsY0FBTSxDQUFDNkIsY0FBYyxDQUFDO1FBRTFDLE1BQU1oQyxJQUFBQSxXQUFHLEVBQUM7WUFDUlMsaUJBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtRQUNsQjtRQUVBSixPQUFPbkMsZ0JBQWdCNEMsZ0JBQWdCO0lBQ3pDO0lBRUFiLEdBQUcscUNBQXFDO1FBQ3RDLE1BQU1YLGVBQWU7WUFDbkJJLGFBQWE7Z0JBQ1hRLE9BQU92QjtnQkFDUHlELFdBQVc7WUFDYjtRQUNGO1FBRUEsTUFBTWpDLElBQUFBLFdBQUcsRUFBQztZQUNSZiw4QkFBZ0IscUJBQUNnQix5QkFBZ0IsT0FBS2Q7UUFDeEM7UUFFQSxvREFBb0Q7UUFDcEQsOERBQThEO1FBQzlEZSxPQUFPQyxjQUFNLENBQUNDLFNBQVMsQ0FBQyxjQUFjQyxpQkFBaUI7SUFDekQ7QUFDRiJ9