4cd340a40384faab3a88283125fbb563
// ===================================
// PINTEYA E-COMMERCE - USEORDERSCACHE TESTS
// Tests completos para el hook de cache de órdenes
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _useOrdersCache = require("../../../hooks/admin/useOrdersCache");
// ===================================
// MOCKS Y SETUP
// ===================================
// Mock de localStorage
const mockLocalStorage = {
    getItem: _globals.jest.fn(),
    setItem: _globals.jest.fn(),
    removeItem: _globals.jest.fn(),
    clear: _globals.jest.fn()
};
Object.defineProperty(window, 'localStorage', {
    value: mockLocalStorage,
    writable: true
});
// Mock de Date para tests determinísticos
const mockDate = new Date('2025-01-01T12:00:00.000Z');
_globals.jest.useFakeTimers();
_globals.jest.setSystemTime(mockDate);
// Datos de prueba
const mockOrdersData = {
    orders: [
        {
            id: '1',
            order_number: 'ORD-001',
            status: 'pending',
            total: 100
        },
        {
            id: '2',
            order_number: 'ORD-002',
            status: 'confirmed',
            total: 200
        }
    ],
    pagination: {
        page: 1,
        totalPages: 5,
        hasNextPage: true
    },
    analytics: {
        totalOrders: 2,
        totalRevenue: 300
    }
};
const mockFilters = {
    page: 1,
    limit: 20,
    status: 'pending',
    search: 'test'
};
const mockCacheOptions = {
    enableCache: true,
    cacheTimeout: 300000,
    maxSize: 50,
    cleanupInterval: 600000,
    minRequestInterval: 1000 // 1 segundo
};
// ===================================
// SETUP Y CLEANUP
// ===================================
(0, _globals.beforeEach)(()=>{
    _globals.jest.clearAllMocks();
    mockLocalStorage.getItem.mockReturnValue(null);
});
(0, _globals.afterEach)(()=>{
    _globals.jest.clearAllTimers();
});
// ===================================
// TESTS PRINCIPALES
// ===================================
(0, _globals.describe)('useOrdersCache', ()=>{
    (0, _globals.it)('debe inicializarse correctamente', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        (0, _globals.expect)(result.current.getCachedData).toBeDefined();
        (0, _globals.expect)(result.current.setCachedData).toBeDefined();
        (0, _globals.expect)(result.current.clearCache).toBeDefined();
        (0, _globals.expect)(result.current.isRequestTooRecent).toBeDefined();
        (0, _globals.expect)(result.current.getCacheStats).toBeDefined();
        (0, _globals.expect)(typeof result.current.getCachedData).toBe('function');
        (0, _globals.expect)(typeof result.current.setCachedData).toBe('function');
        (0, _globals.expect)(typeof result.current.clearCache).toBe('function');
        (0, _globals.expect)(typeof result.current.isRequestTooRecent).toBe('function');
        (0, _globals.expect)(typeof result.current.getCacheStats).toBe('function');
    });
    (0, _globals.it)('debe retornar null cuando no hay datos en cache', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        const cachedData = result.current.getCachedData(mockFilters);
        (0, _globals.expect)(cachedData).toBeNull();
    });
    (0, _globals.it)('debe guardar datos en cache correctamente', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Verificar que se guardó en el cache interno (no localStorage en esta implementación)
        const cachedData = result.current.getCachedData(mockFilters);
        (0, _globals.expect)(cachedData).toEqual(mockOrdersData);
    });
    (0, _globals.it)('debe recuperar datos del cache cuando están disponibles y son válidos', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Primero guardar datos
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Luego recuperar
        const cachedData = result.current.getCachedData(mockFilters);
        (0, _globals.expect)(cachedData).toEqual(mockOrdersData);
    });
    (0, _globals.it)('debe retornar null cuando los datos del cache están expirados', ()=>{
        // Usar opciones con timeout muy corto para simular expiración
        const shortTimeoutOptions = {
            ...mockCacheOptions,
            cacheTimeout: 100
        };
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(shortTimeoutOptions));
        // Guardar datos
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Simular paso del tiempo
        _globals.jest.advanceTimersByTime(200);
        // Los datos deben estar expirados
        const cachedData = result.current.getCachedData(mockFilters);
        (0, _globals.expect)(cachedData).toBeNull();
    });
    (0, _globals.it)('debe limpiar cache correctamente', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Guardar algunos datos
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Verificar que están en cache
        (0, _globals.expect)(result.current.getCachedData(mockFilters)).toEqual(mockOrdersData);
        // Limpiar cache
        (0, _react.act)(()=>{
            result.current.clearCache();
        });
        // Verificar que se limpiaron
        (0, _globals.expect)(result.current.getCachedData(mockFilters)).toBeNull();
    });
    (0, _globals.it)('debe limpiar todo el cache cuando se llama clearCache', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Guardar múltiples entradas en cache
        const filters1 = {
            ...mockFilters,
            page: 1
        };
        const filters2 = {
            ...mockFilters,
            page: 2
        };
        (0, _react.act)(()=>{
            result.current.setCachedData(filters1, mockOrdersData);
            result.current.setCachedData(filters2, mockOrdersData);
        });
        // Verificar que están en cache
        (0, _globals.expect)(result.current.getCachedData(filters1)).toEqual(mockOrdersData);
        (0, _globals.expect)(result.current.getCachedData(filters2)).toEqual(mockOrdersData);
        // Limpiar todo el cache
        (0, _react.act)(()=>{
            result.current.clearCache();
        });
        // Verificar que se limpiaron todas las entradas
        (0, _globals.expect)(result.current.getCachedData(filters1)).toBeNull();
        (0, _globals.expect)(result.current.getCachedData(filters2)).toBeNull();
    });
    (0, _globals.it)('debe detectar requests demasiado recientes (anti-spam)', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Simular un request reciente guardando datos
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Inmediatamente después, debe detectar que es demasiado reciente
        const isTooRecent = result.current.isRequestTooRecent(mockFilters);
        (0, _globals.expect)(isTooRecent).toBe(true);
    });
    (0, _globals.it)('debe permitir requests cuando ha pasado suficiente tiempo', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Simular un request y luego avanzar el tiempo
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Avanzar tiempo más allá del intervalo mínimo
        _globals.jest.advanceTimersByTime(2000);
        const isTooRecent = result.current.isRequestTooRecent(mockFilters);
        (0, _globals.expect)(isTooRecent).toBe(false);
    });
    (0, _globals.it)('debe manejar cache stats correctamente', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Verificar stats iniciales
        const initialStats = result.current.getCacheStats();
        (0, _globals.expect)(initialStats.size).toBe(0);
        (0, _globals.expect)(initialStats.maxSize).toBeGreaterThan(0);
        // Agregar datos al cache
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // Verificar que las stats se actualizaron
        const updatedStats = result.current.getCacheStats();
        (0, _globals.expect)(updatedStats.size).toBe(1);
    });
    (0, _globals.it)('debe manejar filtros con valores undefined/null', ()=>{
        const filtersWithNulls = {
            page: 1,
            limit: 20,
            status: undefined,
            search: null
        };
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(mockCacheOptions));
        // Debe poder guardar y recuperar datos con filtros que tienen valores null/undefined
        (0, _react.act)(()=>{
            result.current.setCachedData(filtersWithNulls, mockOrdersData);
        });
        const cachedData = result.current.getCachedData(filtersWithNulls);
        (0, _globals.expect)(cachedData).toEqual(mockOrdersData);
    });
    (0, _globals.it)('debe manejar múltiples entradas en cache', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)());
        // Agregar múltiples entradas al cache
        const filters1 = {
            ...mockFilters,
            page: 1
        };
        const filters2 = {
            ...mockFilters,
            page: 2
        };
        const filters3 = {
            ...mockFilters,
            page: 3
        };
        (0, _react.act)(()=>{
            result.current.setCachedData(filters1, mockOrdersData);
            result.current.setCachedData(filters2, mockOrdersData);
            result.current.setCachedData(filters3, mockOrdersData);
        });
        // Verificar que todas las entradas están en cache
        (0, _globals.expect)(result.current.getCachedData(filters1)).toEqual(mockOrdersData);
        (0, _globals.expect)(result.current.getCachedData(filters2)).toEqual(mockOrdersData);
        (0, _globals.expect)(result.current.getCachedData(filters3)).toEqual(mockOrdersData);
        // Verificar stats
        const stats = result.current.getCacheStats();
        (0, _globals.expect)(stats.size).toBe(3);
    });
    (0, _globals.it)('debe manejar cache deshabilitado', ()=>{
        const disabledCacheOptions = {
            ...mockCacheOptions,
            enableCache: false
        };
        const { result } = (0, _react.renderHook)(()=>(0, _useOrdersCache.useOrdersCache)(disabledCacheOptions));
        // Intentar guardar datos
        (0, _react.act)(()=>{
            result.current.setCachedData(mockFilters, mockOrdersData);
        });
        // No debe retornar datos cuando el cache está deshabilitado
        const cachedData = result.current.getCachedData(mockFilters);
        (0, _globals.expect)(cachedData).toBeNull();
        // Las stats deben mostrar cache vacío
        const stats = result.current.getCacheStats();
        (0, _globals.expect)(stats.size).toBe(0);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcYWRtaW5cXHVzZU9yZGVyc0NhY2hlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFBJTlRFWUEgRS1DT01NRVJDRSAtIFVTRU9SREVSU0NBQ0hFIFRFU1RTXG4vLyBUZXN0cyBjb21wbGV0b3MgcGFyYSBlbCBob29rIGRlIGNhY2hlIGRlIMOzcmRlbmVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgeyByZW5kZXJIb29rLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IHVzZU9yZGVyc0NhY2hlIH0gZnJvbSAnQC9ob29rcy9hZG1pbi91c2VPcmRlcnNDYWNoZSc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNT0NLUyBZIFNFVFVQXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBNb2NrIGRlIGxvY2FsU3RvcmFnZVxuY29uc3QgbW9ja0xvY2FsU3RvcmFnZSA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XG4gIHZhbHVlOiBtb2NrTG9jYWxTdG9yYWdlLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGRlIERhdGUgcGFyYSB0ZXN0cyBkZXRlcm1pbsOtc3RpY29zXG5jb25zdCBtb2NrRGF0ZSA9IG5ldyBEYXRlKCcyMDI1LTAxLTAxVDEyOjAwOjAwLjAwMFonKTtcbmplc3QudXNlRmFrZVRpbWVycygpO1xuamVzdC5zZXRTeXN0ZW1UaW1lKG1vY2tEYXRlKTtcblxuLy8gRGF0b3MgZGUgcHJ1ZWJhXG5jb25zdCBtb2NrT3JkZXJzRGF0YSA9IHtcbiAgb3JkZXJzOiBbXG4gICAgeyBpZDogJzEnLCBvcmRlcl9udW1iZXI6ICdPUkQtMDAxJywgc3RhdHVzOiAncGVuZGluZycsIHRvdGFsOiAxMDAgfSxcbiAgICB7IGlkOiAnMicsIG9yZGVyX251bWJlcjogJ09SRC0wMDInLCBzdGF0dXM6ICdjb25maXJtZWQnLCB0b3RhbDogMjAwIH0sXG4gIF0sXG4gIHBhZ2luYXRpb246IHsgcGFnZTogMSwgdG90YWxQYWdlczogNSwgaGFzTmV4dFBhZ2U6IHRydWUgfSxcbiAgYW5hbHl0aWNzOiB7IHRvdGFsT3JkZXJzOiAyLCB0b3RhbFJldmVudWU6IDMwMCB9XG59O1xuXG5jb25zdCBtb2NrRmlsdGVycyA9IHtcbiAgcGFnZTogMSxcbiAgbGltaXQ6IDIwLFxuICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgc2VhcmNoOiAndGVzdCdcbn07XG5cbmNvbnN0IG1vY2tDYWNoZU9wdGlvbnMgPSB7XG4gIGVuYWJsZUNhY2hlOiB0cnVlLFxuICBjYWNoZVRpbWVvdXQ6IDMwMDAwMCwgLy8gNSBtaW51dG9zXG4gIG1heFNpemU6IDUwLFxuICBjbGVhbnVwSW50ZXJ2YWw6IDYwMDAwMCwgLy8gMTAgbWludXRvc1xuICBtaW5SZXF1ZXN0SW50ZXJ2YWw6IDEwMDAgLy8gMSBzZWd1bmRvXG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VUVVAgWSBDTEVBTlVQXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5iZWZvcmVFYWNoKCgpID0+IHtcbiAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIG1vY2tMb2NhbFN0b3JhZ2UuZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XG59KTtcblxuYWZ0ZXJFYWNoKCgpID0+IHtcbiAgamVzdC5jbGVhckFsbFRpbWVycygpO1xufSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBQUklOQ0lQQUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZU9yZGVyc0NhY2hlJywgKCkgPT4ge1xuICBpdCgnZGViZSBpbmljaWFsaXphcnNlIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlT3JkZXJzQ2FjaGUobW9ja0NhY2hlT3B0aW9ucykpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldENhY2hlZERhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNsZWFyQ2FjaGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzUmVxdWVzdFRvb1JlY2VudCkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVTdGF0cykudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmdldENhY2hlZERhdGEpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5zZXRDYWNoZWREYXRhKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuY2xlYXJDYWNoZSkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmlzUmVxdWVzdFRvb1JlY2VudCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmdldENhY2hlU3RhdHMpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIHJldG9ybmFyIG51bGwgY3VhbmRvIG5vIGhheSBkYXRvcyBlbiBjYWNoZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VPcmRlcnNDYWNoZShtb2NrQ2FjaGVPcHRpb25zKSk7XG5cbiAgICBjb25zdCBjYWNoZWREYXRhID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycyk7XG4gICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIGd1YXJkYXIgZGF0b3MgZW4gY2FjaGUgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VPcmRlcnNDYWNoZShtb2NrQ2FjaGVPcHRpb25zKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycywgbW9ja09yZGVyc0RhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBzZSBndWFyZMOzIGVuIGVsIGNhY2hlIGludGVybm8gKG5vIGxvY2FsU3RvcmFnZSBlbiBlc3RhIGltcGxlbWVudGFjacOzbilcbiAgICBjb25zdCBjYWNoZWREYXRhID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycyk7XG4gICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvRXF1YWwobW9ja09yZGVyc0RhdGEpO1xuICB9KTtcblxuICBpdCgnZGViZSByZWN1cGVyYXIgZGF0b3MgZGVsIGNhY2hlIGN1YW5kbyBlc3TDoW4gZGlzcG9uaWJsZXMgeSBzb24gdsOhbGlkb3MnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlT3JkZXJzQ2FjaGUobW9ja0NhY2hlT3B0aW9ucykpO1xuXG4gICAgLy8gUHJpbWVybyBndWFyZGFyIGRhdG9zXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEobW9ja0ZpbHRlcnMsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEx1ZWdvIHJlY3VwZXJhclxuICAgIGNvbnN0IGNhY2hlZERhdGEgPSByZXN1bHQuY3VycmVudC5nZXRDYWNoZWREYXRhKG1vY2tGaWx0ZXJzKTtcbiAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9FcXVhbChtb2NrT3JkZXJzRGF0YSk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIHJldG9ybmFyIG51bGwgY3VhbmRvIGxvcyBkYXRvcyBkZWwgY2FjaGUgZXN0w6FuIGV4cGlyYWRvcycsICgpID0+IHtcbiAgICAvLyBVc2FyIG9wY2lvbmVzIGNvbiB0aW1lb3V0IG11eSBjb3J0byBwYXJhIHNpbXVsYXIgZXhwaXJhY2nDs25cbiAgICBjb25zdCBzaG9ydFRpbWVvdXRPcHRpb25zID0geyAuLi5tb2NrQ2FjaGVPcHRpb25zLCBjYWNoZVRpbWVvdXQ6IDEwMCB9O1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU9yZGVyc0NhY2hlKHNob3J0VGltZW91dE9wdGlvbnMpKTtcblxuICAgIC8vIEd1YXJkYXIgZGF0b3NcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycywgbW9ja09yZGVyc0RhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gU2ltdWxhciBwYXNvIGRlbCB0aWVtcG9cbiAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoMjAwKTtcblxuICAgIC8vIExvcyBkYXRvcyBkZWJlbiBlc3RhciBleHBpcmFkb3NcbiAgICBjb25zdCBjYWNoZWREYXRhID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycyk7XG4gICAgZXhwZWN0KGNhY2hlZERhdGEpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIGxpbXBpYXIgY2FjaGUgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VPcmRlcnNDYWNoZShtb2NrQ2FjaGVPcHRpb25zKSk7XG5cbiAgICAvLyBHdWFyZGFyIGFsZ3Vub3MgZGF0b3NcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycywgbW9ja09yZGVyc0RhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gVmVyaWZpY2FyIHF1ZSBlc3TDoW4gZW4gY2FjaGVcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycykpLnRvRXF1YWwobW9ja09yZGVyc0RhdGEpO1xuXG4gICAgLy8gTGltcGlhciBjYWNoZVxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5jbGVhckNhY2hlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBWZXJpZmljYXIgcXVlIHNlIGxpbXBpYXJvblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRDYWNoZWREYXRhKG1vY2tGaWx0ZXJzKSkudG9CZU51bGwoKTtcbiAgfSk7XG5cbiAgaXQoJ2RlYmUgbGltcGlhciB0b2RvIGVsIGNhY2hlIGN1YW5kbyBzZSBsbGFtYSBjbGVhckNhY2hlJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU9yZGVyc0NhY2hlKG1vY2tDYWNoZU9wdGlvbnMpKTtcblxuICAgIC8vIEd1YXJkYXIgbcO6bHRpcGxlcyBlbnRyYWRhcyBlbiBjYWNoZVxuICAgIGNvbnN0IGZpbHRlcnMxID0geyAuLi5tb2NrRmlsdGVycywgcGFnZTogMSB9O1xuICAgIGNvbnN0IGZpbHRlcnMyID0geyAuLi5tb2NrRmlsdGVycywgcGFnZTogMiB9O1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEoZmlsdGVyczEsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEoZmlsdGVyczIsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgZXN0w6FuIGVuIGNhY2hlXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldENhY2hlZERhdGEoZmlsdGVyczEpKS50b0VxdWFsKG1vY2tPcmRlcnNEYXRhKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShmaWx0ZXJzMikpLnRvRXF1YWwobW9ja09yZGVyc0RhdGEpO1xuXG4gICAgLy8gTGltcGlhciB0b2RvIGVsIGNhY2hlXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmNsZWFyQ2FjaGUoKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgc2UgbGltcGlhcm9uIHRvZGFzIGxhcyBlbnRyYWRhc1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRDYWNoZWREYXRhKGZpbHRlcnMxKSkudG9CZU51bGwoKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShmaWx0ZXJzMikpLnRvQmVOdWxsKCk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIGRldGVjdGFyIHJlcXVlc3RzIGRlbWFzaWFkbyByZWNpZW50ZXMgKGFudGktc3BhbSknLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlT3JkZXJzQ2FjaGUobW9ja0NhY2hlT3B0aW9ucykpO1xuXG4gICAgLy8gU2ltdWxhciB1biByZXF1ZXN0IHJlY2llbnRlIGd1YXJkYW5kbyBkYXRvc1xuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRDYWNoZWREYXRhKG1vY2tGaWx0ZXJzLCBtb2NrT3JkZXJzRGF0YSk7XG4gICAgfSk7XG5cbiAgICAvLyBJbm1lZGlhdGFtZW50ZSBkZXNwdcOpcywgZGViZSBkZXRlY3RhciBxdWUgZXMgZGVtYXNpYWRvIHJlY2llbnRlXG4gICAgY29uc3QgaXNUb29SZWNlbnQgPSByZXN1bHQuY3VycmVudC5pc1JlcXVlc3RUb29SZWNlbnQobW9ja0ZpbHRlcnMpO1xuICAgIGV4cGVjdChpc1Rvb1JlY2VudCkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ2RlYmUgcGVybWl0aXIgcmVxdWVzdHMgY3VhbmRvIGhhIHBhc2FkbyBzdWZpY2llbnRlIHRpZW1wbycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VPcmRlcnNDYWNoZShtb2NrQ2FjaGVPcHRpb25zKSk7XG5cbiAgICAvLyBTaW11bGFyIHVuIHJlcXVlc3QgeSBsdWVnbyBhdmFuemFyIGVsIHRpZW1wb1xuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRDYWNoZWREYXRhKG1vY2tGaWx0ZXJzLCBtb2NrT3JkZXJzRGF0YSk7XG4gICAgfSk7XG5cbiAgICAvLyBBdmFuemFyIHRpZW1wbyBtw6FzIGFsbMOhIGRlbCBpbnRlcnZhbG8gbcOtbmltb1xuICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgyMDAwKTtcblxuICAgIGNvbnN0IGlzVG9vUmVjZW50ID0gcmVzdWx0LmN1cnJlbnQuaXNSZXF1ZXN0VG9vUmVjZW50KG1vY2tGaWx0ZXJzKTtcbiAgICBleHBlY3QoaXNUb29SZWNlbnQpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnZGViZSBtYW5lamFyIGNhY2hlIHN0YXRzIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlT3JkZXJzQ2FjaGUobW9ja0NhY2hlT3B0aW9ucykpO1xuXG4gICAgLy8gVmVyaWZpY2FyIHN0YXRzIGluaWNpYWxlc1xuICAgIGNvbnN0IGluaXRpYWxTdGF0cyA9IHJlc3VsdC5jdXJyZW50LmdldENhY2hlU3RhdHMoKTtcbiAgICBleHBlY3QoaW5pdGlhbFN0YXRzLnNpemUpLnRvQmUoMCk7XG4gICAgZXhwZWN0KGluaXRpYWxTdGF0cy5tYXhTaXplKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAvLyBBZ3JlZ2FyIGRhdG9zIGFsIGNhY2hlXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEobW9ja0ZpbHRlcnMsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgbGFzIHN0YXRzIHNlIGFjdHVhbGl6YXJvblxuICAgIGNvbnN0IHVwZGF0ZWRTdGF0cyA9IHJlc3VsdC5jdXJyZW50LmdldENhY2hlU3RhdHMoKTtcbiAgICBleHBlY3QodXBkYXRlZFN0YXRzLnNpemUpLnRvQmUoMSk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIG1hbmVqYXIgZmlsdHJvcyBjb24gdmFsb3JlcyB1bmRlZmluZWQvbnVsbCcsICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJzV2l0aE51bGxzID0ge1xuICAgICAgcGFnZTogMSxcbiAgICAgIGxpbWl0OiAyMCxcbiAgICAgIHN0YXR1czogdW5kZWZpbmVkLFxuICAgICAgc2VhcmNoOiBudWxsXG4gICAgfTtcblxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZU9yZGVyc0NhY2hlKG1vY2tDYWNoZU9wdGlvbnMpKTtcblxuICAgIC8vIERlYmUgcG9kZXIgZ3VhcmRhciB5IHJlY3VwZXJhciBkYXRvcyBjb24gZmlsdHJvcyBxdWUgdGllbmVuIHZhbG9yZXMgbnVsbC91bmRlZmluZWRcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0Q2FjaGVkRGF0YShmaWx0ZXJzV2l0aE51bGxzLCBtb2NrT3JkZXJzRGF0YSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBjYWNoZWREYXRhID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShmaWx0ZXJzV2l0aE51bGxzKTtcbiAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9FcXVhbChtb2NrT3JkZXJzRGF0YSk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIG1hbmVqYXIgbcO6bHRpcGxlcyBlbnRyYWRhcyBlbiBjYWNoZScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VPcmRlcnNDYWNoZSgpKTtcblxuICAgIC8vIEFncmVnYXIgbcO6bHRpcGxlcyBlbnRyYWRhcyBhbCBjYWNoZVxuICAgIGNvbnN0IGZpbHRlcnMxID0geyAuLi5tb2NrRmlsdGVycywgcGFnZTogMSB9O1xuICAgIGNvbnN0IGZpbHRlcnMyID0geyAuLi5tb2NrRmlsdGVycywgcGFnZTogMiB9O1xuICAgIGNvbnN0IGZpbHRlcnMzID0geyAuLi5tb2NrRmlsdGVycywgcGFnZTogMyB9O1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEoZmlsdGVyczEsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEoZmlsdGVyczIsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldENhY2hlZERhdGEoZmlsdGVyczMsIG1vY2tPcmRlcnNEYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmaWNhciBxdWUgdG9kYXMgbGFzIGVudHJhZGFzIGVzdMOhbiBlbiBjYWNoZVxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRDYWNoZWREYXRhKGZpbHRlcnMxKSkudG9FcXVhbChtb2NrT3JkZXJzRGF0YSk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldENhY2hlZERhdGEoZmlsdGVyczIpKS50b0VxdWFsKG1vY2tPcmRlcnNEYXRhKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVkRGF0YShmaWx0ZXJzMykpLnRvRXF1YWwobW9ja09yZGVyc0RhdGEpO1xuXG4gICAgLy8gVmVyaWZpY2FyIHN0YXRzXG4gICAgY29uc3Qgc3RhdHMgPSByZXN1bHQuY3VycmVudC5nZXRDYWNoZVN0YXRzKCk7XG4gICAgZXhwZWN0KHN0YXRzLnNpemUpLnRvQmUoMyk7XG4gIH0pO1xuXG4gIGl0KCdkZWJlIG1hbmVqYXIgY2FjaGUgZGVzaGFiaWxpdGFkbycsICgpID0+IHtcbiAgICBjb25zdCBkaXNhYmxlZENhY2hlT3B0aW9ucyA9IHsgLi4ubW9ja0NhY2hlT3B0aW9ucywgZW5hYmxlQ2FjaGU6IGZhbHNlIH07XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlT3JkZXJzQ2FjaGUoZGlzYWJsZWRDYWNoZU9wdGlvbnMpKTtcblxuICAgIC8vIEludGVudGFyIGd1YXJkYXIgZGF0b3NcbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0Q2FjaGVkRGF0YShtb2NrRmlsdGVycywgbW9ja09yZGVyc0RhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gTm8gZGViZSByZXRvcm5hciBkYXRvcyBjdWFuZG8gZWwgY2FjaGUgZXN0w6EgZGVzaGFiaWxpdGFkb1xuICAgIGNvbnN0IGNhY2hlZERhdGEgPSByZXN1bHQuY3VycmVudC5nZXRDYWNoZWREYXRhKG1vY2tGaWx0ZXJzKTtcbiAgICBleHBlY3QoY2FjaGVkRGF0YSkudG9CZU51bGwoKTtcblxuICAgIC8vIExhcyBzdGF0cyBkZWJlbiBtb3N0cmFyIGNhY2hlIHZhY8Otb1xuICAgIGNvbnN0IHN0YXRzID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q2FjaGVTdGF0cygpO1xuICAgIGV4cGVjdChzdGF0cy5zaXplKS50b0JlKDApO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vY2tMb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJ3cml0YWJsZSIsIm1vY2tEYXRlIiwiRGF0ZSIsInVzZUZha2VUaW1lcnMiLCJzZXRTeXN0ZW1UaW1lIiwibW9ja09yZGVyc0RhdGEiLCJvcmRlcnMiLCJpZCIsIm9yZGVyX251bWJlciIsInN0YXR1cyIsInRvdGFsIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJ0b3RhbFBhZ2VzIiwiaGFzTmV4dFBhZ2UiLCJhbmFseXRpY3MiLCJ0b3RhbE9yZGVycyIsInRvdGFsUmV2ZW51ZSIsIm1vY2tGaWx0ZXJzIiwibGltaXQiLCJzZWFyY2giLCJtb2NrQ2FjaGVPcHRpb25zIiwiZW5hYmxlQ2FjaGUiLCJjYWNoZVRpbWVvdXQiLCJtYXhTaXplIiwiY2xlYW51cEludGVydmFsIiwibWluUmVxdWVzdEludGVydmFsIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJjbGVhckFsbFRpbWVycyIsImRlc2NyaWJlIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlT3JkZXJzQ2FjaGUiLCJleHBlY3QiLCJjdXJyZW50IiwiZ2V0Q2FjaGVkRGF0YSIsInRvQmVEZWZpbmVkIiwic2V0Q2FjaGVkRGF0YSIsImNsZWFyQ2FjaGUiLCJpc1JlcXVlc3RUb29SZWNlbnQiLCJnZXRDYWNoZVN0YXRzIiwidG9CZSIsImNhY2hlZERhdGEiLCJ0b0JlTnVsbCIsImFjdCIsInRvRXF1YWwiLCJzaG9ydFRpbWVvdXRPcHRpb25zIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsImZpbHRlcnMxIiwiZmlsdGVyczIiLCJpc1Rvb1JlY2VudCIsImluaXRpYWxTdGF0cyIsInNpemUiLCJ0b0JlR3JlYXRlclRoYW4iLCJ1cGRhdGVkU3RhdHMiLCJmaWx0ZXJzV2l0aE51bGxzIiwidW5kZWZpbmVkIiwiZmlsdGVyczMiLCJzdGF0cyIsImRpc2FibGVkQ2FjaGVPcHRpb25zIl0sIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0M7QUFDdEMsNENBQTRDO0FBQzVDLG1EQUFtRDtBQUNuRCxzQ0FBc0M7Ozs7O3VCQUVOO3lCQUNrQztnQ0FDbkM7QUFFL0Isc0NBQXNDO0FBQ3RDLGdCQUFnQjtBQUNoQixzQ0FBc0M7QUFFdEMsdUJBQXVCO0FBQ3ZCLE1BQU1BLG1CQUFtQjtJQUN2QkMsU0FBU0MsYUFBSSxDQUFDQyxFQUFFO0lBQ2hCQyxTQUFTRixhQUFJLENBQUNDLEVBQUU7SUFDaEJFLFlBQVlILGFBQUksQ0FBQ0MsRUFBRTtJQUNuQkcsT0FBT0osYUFBSSxDQUFDQyxFQUFFO0FBQ2hCO0FBRUFJLE9BQU9DLGNBQWMsQ0FBQ0MsUUFBUSxnQkFBZ0I7SUFDNUNDLE9BQU9WO0lBQ1BXLFVBQVU7QUFDWjtBQUVBLDBDQUEwQztBQUMxQyxNQUFNQyxXQUFXLElBQUlDLEtBQUs7QUFDMUJYLGFBQUksQ0FBQ1ksYUFBYTtBQUNsQlosYUFBSSxDQUFDYSxhQUFhLENBQUNIO0FBRW5CLGtCQUFrQjtBQUNsQixNQUFNSSxpQkFBaUI7SUFDckJDLFFBQVE7UUFDTjtZQUFFQyxJQUFJO1lBQUtDLGNBQWM7WUFBV0MsUUFBUTtZQUFXQyxPQUFPO1FBQUk7UUFDbEU7WUFBRUgsSUFBSTtZQUFLQyxjQUFjO1lBQVdDLFFBQVE7WUFBYUMsT0FBTztRQUFJO0tBQ3JFO0lBQ0RDLFlBQVk7UUFBRUMsTUFBTTtRQUFHQyxZQUFZO1FBQUdDLGFBQWE7SUFBSztJQUN4REMsV0FBVztRQUFFQyxhQUFhO1FBQUdDLGNBQWM7SUFBSTtBQUNqRDtBQUVBLE1BQU1DLGNBQWM7SUFDbEJOLE1BQU07SUFDTk8sT0FBTztJQUNQVixRQUFRO0lBQ1JXLFFBQVE7QUFDVjtBQUVBLE1BQU1DLG1CQUFtQjtJQUN2QkMsYUFBYTtJQUNiQyxjQUFjO0lBQ2RDLFNBQVM7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