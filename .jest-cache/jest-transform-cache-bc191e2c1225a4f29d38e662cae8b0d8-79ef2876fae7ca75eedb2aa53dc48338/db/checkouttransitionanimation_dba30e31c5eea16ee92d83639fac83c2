b944c016cc5ca6756eb379b944fdd903
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CheckoutTransitionAnimation: function() {
        return CheckoutTransitionAnimation;
    },
    default: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _framermotion = require("framer-motion");
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const CheckoutTransitionAnimation = ({ isActive, onComplete, skipAnimation = false, enablePerformanceMode = false, customDuration, onAnimationStart, onAnimationProgress })=>{
    const router = (0, _navigation.useRouter)();
    const animationControls = (0, _framermotion.useAnimation)();
    const progressValue = (0, _framermotion.useMotionValue)(0);
    const timeoutRef = (0, _react.useRef)(null);
    const animationStartTimeRef = (0, _react.useRef)(null);
    // Configuración de duración optimizada
    const animationDuration = (0, _react.useMemo)(()=>{
        if (customDuration) return customDuration;
        if (skipAnimation) return 100;
        if (enablePerformanceMode) return 1500; // Versión más rápida para dispositivos lentos
        return 2500; // Duración completa
    }, [
        customDuration,
        skipAnimation,
        enablePerformanceMode
    ]);
    // Secuencia de animaciones optimizada
    const animationSequence = (0, _react.useMemo)(()=>{
        if (skipAnimation) return [];
        const baseSequence = [
            {
                name: "wave",
                delay: 0.3,
                duration: 1.5,
                element: "wave"
            },
            {
                name: "logo",
                delay: 0.8,
                duration: 1.8,
                element: "logo"
            },
            {
                name: "particles",
                delay: 1.2,
                duration: 1.2,
                element: "particles"
            },
            {
                name: "text",
                delay: 1.5,
                duration: 1.5,
                element: "text"
            }
        ];
        // Optimizar para modo performance
        if (enablePerformanceMode) {
            return baseSequence.map((seq)=>({
                    ...seq,
                    duration: seq.duration * 0.6,
                    delay: seq.delay * 0.6
                }));
        }
        return baseSequence;
    }, [
        skipAnimation,
        enablePerformanceMode
    ]);
    // Callback optimizado para progreso
    const handleProgress = (0, _react.useCallback)((progress)=>{
        progressValue.set(progress);
        onAnimationProgress?.(progress);
    }, [
        progressValue,
        onAnimationProgress
    ]);
    // Cleanup mejorado
    (0, _react.useEffect)(()=>{
        return ()=>{
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
            }
            animationControls.stop();
        };
    }, [
        animationControls
    ]);
    (0, _react.useEffect)(()=>{
        if (isActive) {
            animationStartTimeRef.current = performance.now();
            onAnimationStart?.();
            if (skipAnimation) {
                // Navegación inmediata para skip
                timeoutRef.current = setTimeout(()=>{
                    router.push("/checkout");
                    onComplete?.();
                }, 100);
            } else {
                // Iniciar secuencia de animación
                animationControls.start("animate");
                // Progress tracking
                const progressInterval = setInterval(()=>{
                    if (animationStartTimeRef.current) {
                        const elapsed = performance.now() - animationStartTimeRef.current;
                        const progress = Math.min(elapsed / animationDuration * 100, 100);
                        handleProgress(progress);
                    }
                }, 16); // 60fps
                // Secuencia completa de animación
                timeoutRef.current = setTimeout(()=>{
                    clearInterval(progressInterval);
                    handleProgress(100);
                    router.push("/checkout");
                    onComplete?.();
                }, animationDuration);
                return ()=>{
                    clearInterval(progressInterval);
                    if (timeoutRef.current) {
                        clearTimeout(timeoutRef.current);
                    }
                };
            }
        }
    }, [
        isActive,
        skipAnimation,
        router,
        onComplete,
        animationDuration,
        animationControls,
        handleProgress,
        onAnimationStart
    ]);
    // Variantes de animación optimizadas
    const containerVariants = (0, _react.useMemo)(()=>({
            initial: {
                opacity: 0
            },
            animate: {
                opacity: 1,
                transition: {
                    duration: 0.3,
                    ease: "easeOut"
                }
            },
            exit: {
                opacity: 0,
                transition: {
                    duration: 0.2,
                    ease: "easeIn"
                }
            }
        }), []);
    const waveVariants = (0, _react.useMemo)(()=>({
            initial: {
                scale: 0,
                opacity: 0
            },
            animate: {
                scale: enablePerformanceMode ? [
                    0,
                    6,
                    8
                ] : [
                    0,
                    8,
                    12
                ],
                opacity: [
                    0,
                    0.8,
                    0.6,
                    0
                ]
            }
        }), [
        enablePerformanceMode
    ]);
    const logoVariants = (0, _react.useMemo)(()=>({
            initial: {
                scale: 0,
                opacity: 0,
                rotate: -180
            },
            animate: {
                scale: enablePerformanceMode ? [
                    0,
                    2,
                    1
                ] : [
                    0,
                    2.5,
                    1
                ],
                opacity: [
                    0,
                    1,
                    1,
                    0
                ],
                rotate: [
                    180,
                    0,
                    0
                ]
            }
        }), [
        enablePerformanceMode
    ]);
    if (!isActive || skipAnimation) {
        return null;
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.AnimatePresence, {
        mode: "wait",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_framermotion.motion.div, {
            className: "fixed inset-0 z-[99999] pointer-events-none checkout-transition-container",
            variants: containerVariants,
            initial: "initial",
            animate: "animate",
            exit: "exit",
            style: {
                willChange: "opacity",
                backfaceVisibility: "hidden",
                transform: "translateZ(0)"
            },
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    variants: waveVariants,
                    initial: "initial",
                    animate: "animate",
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === "wave")?.duration || 1.5,
                        delay: animationSequence.find((seq)=>seq.name === "wave")?.delay || 0.3,
                        times: [
                            0,
                            0.6,
                            0.8,
                            1
                        ],
                        ease: "easeOut"
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: `w-32 h-32 rounded-full checkout-transition-wave ${enablePerformanceMode ? '' : 'checkout-transition-overlay'}`,
                        style: {
                            background: "radial-gradient(circle, #fbbf24 0%, #f59e0b 50%, transparent 70%)",
                            filter: enablePerformanceMode ? "none" : "blur(2px)"
                        }
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    variants: logoVariants,
                    initial: "initial",
                    animate: "animate",
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === "logo")?.duration || 1.8,
                        delay: animationSequence.find((seq)=>seq.name === "logo")?.delay || 0.8,
                        times: [
                            0,
                            0.3,
                            0.7,
                            1
                        ],
                        ease: [
                            0.68,
                            -0.55,
                            0.265,
                            1.55
                        ] // Bounce effect
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "relative",
                        children: [
                            !enablePerformanceMode && /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                                className: "absolute inset-0 rounded-full css-logo-glow",
                                style: {
                                    background: "radial-gradient(circle, #fbbf24 0%, transparent 70%)",
                                    filter: "blur(20px)"
                                },
                                animate: {
                                    scale: [
                                        1,
                                        1.5,
                                        1
                                    ],
                                    opacity: [
                                        0.5,
                                        0.8,
                                        0.3
                                    ]
                                },
                                transition: {
                                    duration: 1,
                                    delay: 1,
                                    repeat: 1,
                                    ease: "easeInOut"
                                }
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                                src: "/images/logo/LOGO POSITIVO.svg",
                                alt: "Pinteya Logo",
                                width: enablePerformanceMode ? 80 : 120,
                                height: enablePerformanceMode ? 80 : 120,
                                className: "relative z-10 checkout-transition-logo",
                                priority: true,
                                style: {
                                    willChange: "transform",
                                    backfaceVisibility: "hidden"
                                }
                            })
                        ]
                    })
                }),
                !enablePerformanceMode && [
                    ...Array(8)
                ].map((_, i)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                        className: "absolute w-2 h-2 bg-yellow-400 rounded-full",
                        style: {
                            left: "50%",
                            top: "50%",
                            willChange: "transform, opacity"
                        },
                        initial: {
                            scale: 0,
                            x: 0,
                            y: 0,
                            opacity: 0
                        },
                        animate: {
                            scale: [
                                0,
                                1,
                                0
                            ],
                            x: Math.cos(i * Math.PI * 2 / 8) * (enablePerformanceMode ? 150 : 200),
                            y: Math.sin(i * Math.PI * 2 / 8) * (enablePerformanceMode ? 150 : 200),
                            opacity: [
                                0,
                                1,
                                0
                            ]
                        },
                        transition: {
                            duration: animationSequence.find((seq)=>seq.name === "particles")?.duration || 1.2,
                            delay: (animationSequence.find((seq)=>seq.name === "particles")?.delay || 1.2) + i * 0.1,
                            ease: "easeOut"
                        }
                    }, i)),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 flex items-center justify-center",
                    initial: {
                        opacity: 0,
                        y: 50
                    },
                    animate: {
                        opacity: [
                            0,
                            1,
                            1,
                            0
                        ],
                        y: [
                            50,
                            0,
                            0,
                            -20
                        ]
                    },
                    transition: {
                        duration: animationSequence.find((seq)=>seq.name === "text")?.duration || 1.5,
                        delay: animationSequence.find((seq)=>seq.name === "text")?.delay || 1.5,
                        times: [
                            0,
                            0.3,
                            0.7,
                            1
                        ],
                        ease: "easeOut"
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: `font-bold text-gray-800 mb-2 ${enablePerformanceMode ? 'text-xl' : 'text-2xl'}`,
                                children: "\xa1Procesando tu compra!"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-gray-600",
                                children: "Te llevamos al checkout..."
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.div, {
                    className: "absolute inset-0 bg-white",
                    initial: {
                        opacity: 0
                    },
                    animate: {
                        opacity: [
                            0,
                            0.3,
                            0.5,
                            0.8
                        ]
                    },
                    transition: {
                        duration: animationDuration / 1000,
                        ease: "easeInOut"
                    }
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_framermotion.motion.button, {
                    className: "checkout-transition-skip-button",
                    initial: {
                        opacity: 0
                    },
                    animate: {
                        opacity: 1
                    },
                    transition: {
                        delay: 0.5
                    },
                    onClick: ()=>{
                        if (timeoutRef.current) {
                            clearTimeout(timeoutRef.current);
                        }
                        router.push("/checkout");
                        onComplete?.();
                    },
                    "aria-label": "Saltar animaci\xf3n e ir al checkout",
                    children: "Saltar animaci\xf3n"
                })
            ]
        })
    });
};
const _default = CheckoutTransitionAnimation;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXGNoZWNrb3V0LXRyYW5zaXRpb24tYW5pbWF0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UsIHVzZUFuaW1hdGlvbiwgdXNlTW90aW9uVmFsdWUgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5cbmludGVyZmFjZSBDaGVja291dFRyYW5zaXRpb25BbmltYXRpb25Qcm9wcyB7XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgc2tpcEFuaW1hdGlvbj86IGJvb2xlYW47XG4gIGVuYWJsZVBlcmZvcm1hbmNlTW9kZT86IGJvb2xlYW47XG4gIGN1c3RvbUR1cmF0aW9uPzogbnVtYmVyO1xuICBvbkFuaW1hdGlvblN0YXJ0PzogKCkgPT4gdm9pZDtcbiAgb25BbmltYXRpb25Qcm9ncmVzcz86IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQW5pbWF0aW9uU2VxdWVuY2Uge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlbGF5OiBudW1iZXI7XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIGVsZW1lbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IENoZWNrb3V0VHJhbnNpdGlvbkFuaW1hdGlvbjogUmVhY3QuRkM8Q2hlY2tvdXRUcmFuc2l0aW9uQW5pbWF0aW9uUHJvcHM+ID0gKHtcbiAgaXNBY3RpdmUsXG4gIG9uQ29tcGxldGUsXG4gIHNraXBBbmltYXRpb24gPSBmYWxzZSxcbiAgZW5hYmxlUGVyZm9ybWFuY2VNb2RlID0gZmFsc2UsXG4gIGN1c3RvbUR1cmF0aW9uLFxuICBvbkFuaW1hdGlvblN0YXJ0LFxuICBvbkFuaW1hdGlvblByb2dyZXNzLFxufSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgYW5pbWF0aW9uQ29udHJvbHMgPSB1c2VBbmltYXRpb24oKTtcbiAgY29uc3QgcHJvZ3Jlc3NWYWx1ZSA9IHVzZU1vdGlvblZhbHVlKDApO1xuICBjb25zdCB0aW1lb3V0UmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGFuaW1hdGlvblN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICAvLyBDb25maWd1cmFjacOzbiBkZSBkdXJhY2nDs24gb3B0aW1pemFkYVxuICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChjdXN0b21EdXJhdGlvbikgcmV0dXJuIGN1c3RvbUR1cmF0aW9uO1xuICAgIGlmIChza2lwQW5pbWF0aW9uKSByZXR1cm4gMTAwO1xuICAgIGlmIChlbmFibGVQZXJmb3JtYW5jZU1vZGUpIHJldHVybiAxNTAwOyAvLyBWZXJzacOzbiBtw6FzIHLDoXBpZGEgcGFyYSBkaXNwb3NpdGl2b3MgbGVudG9zXG4gICAgcmV0dXJuIDI1MDA7IC8vIER1cmFjacOzbiBjb21wbGV0YVxuICB9LCBbY3VzdG9tRHVyYXRpb24sIHNraXBBbmltYXRpb24sIGVuYWJsZVBlcmZvcm1hbmNlTW9kZV0pO1xuXG4gIC8vIFNlY3VlbmNpYSBkZSBhbmltYWNpb25lcyBvcHRpbWl6YWRhXG4gIGNvbnN0IGFuaW1hdGlvblNlcXVlbmNlOiBBbmltYXRpb25TZXF1ZW5jZVtdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHNraXBBbmltYXRpb24pIHJldHVybiBbXTtcblxuICAgIGNvbnN0IGJhc2VTZXF1ZW5jZSA9IFtcbiAgICAgIHsgbmFtZTogXCJ3YXZlXCIsIGRlbGF5OiAwLjMsIGR1cmF0aW9uOiAxLjUsIGVsZW1lbnQ6IFwid2F2ZVwiIH0sXG4gICAgICB7IG5hbWU6IFwibG9nb1wiLCBkZWxheTogMC44LCBkdXJhdGlvbjogMS44LCBlbGVtZW50OiBcImxvZ29cIiB9LFxuICAgICAgeyBuYW1lOiBcInBhcnRpY2xlc1wiLCBkZWxheTogMS4yLCBkdXJhdGlvbjogMS4yLCBlbGVtZW50OiBcInBhcnRpY2xlc1wiIH0sXG4gICAgICB7IG5hbWU6IFwidGV4dFwiLCBkZWxheTogMS41LCBkdXJhdGlvbjogMS41LCBlbGVtZW50OiBcInRleHRcIiB9LFxuICAgIF07XG5cbiAgICAvLyBPcHRpbWl6YXIgcGFyYSBtb2RvIHBlcmZvcm1hbmNlXG4gICAgaWYgKGVuYWJsZVBlcmZvcm1hbmNlTW9kZSkge1xuICAgICAgcmV0dXJuIGJhc2VTZXF1ZW5jZS5tYXAoc2VxID0+ICh7XG4gICAgICAgIC4uLnNlcSxcbiAgICAgICAgZHVyYXRpb246IHNlcS5kdXJhdGlvbiAqIDAuNiwgLy8gNDAlIG3DoXMgcsOhcGlkb1xuICAgICAgICBkZWxheTogc2VxLmRlbGF5ICogMC42LFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlU2VxdWVuY2U7XG4gIH0sIFtza2lwQW5pbWF0aW9uLCBlbmFibGVQZXJmb3JtYW5jZU1vZGVdKTtcblxuICAvLyBDYWxsYmFjayBvcHRpbWl6YWRvIHBhcmEgcHJvZ3Jlc29cbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3MgPSB1c2VDYWxsYmFjaygocHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xuICAgIHByb2dyZXNzVmFsdWUuc2V0KHByb2dyZXNzKTtcbiAgICBvbkFuaW1hdGlvblByb2dyZXNzPy4ocHJvZ3Jlc3MpO1xuICB9LCBbcHJvZ3Jlc3NWYWx1ZSwgb25BbmltYXRpb25Qcm9ncmVzc10pO1xuXG4gIC8vIENsZWFudXAgbWVqb3JhZG9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGFuaW1hdGlvbkNvbnRyb2xzLnN0b3AoKTtcbiAgICB9O1xuICB9LCBbYW5pbWF0aW9uQ29udHJvbHNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgYW5pbWF0aW9uU3RhcnRUaW1lUmVmLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIG9uQW5pbWF0aW9uU3RhcnQ/LigpO1xuXG4gICAgICBpZiAoc2tpcEFuaW1hdGlvbikge1xuICAgICAgICAvLyBOYXZlZ2FjacOzbiBpbm1lZGlhdGEgcGFyYSBza2lwXG4gICAgICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJvdXRlci5wdXNoKFwiL2NoZWNrb3V0XCIpO1xuICAgICAgICAgIG9uQ29tcGxldGU/LigpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW5pY2lhciBzZWN1ZW5jaWEgZGUgYW5pbWFjacOzblxuICAgICAgICBhbmltYXRpb25Db250cm9scy5zdGFydChcImFuaW1hdGVcIik7XG5cbiAgICAgICAgLy8gUHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uU3RhcnRUaW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGFuaW1hdGlvblN0YXJ0VGltZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbigoZWxhcHNlZCAvIGFuaW1hdGlvbkR1cmF0aW9uKSAqIDEwMCwgMTAwKTtcbiAgICAgICAgICAgIGhhbmRsZVByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDE2KTsgLy8gNjBmcHNcblxuICAgICAgICAvLyBTZWN1ZW5jaWEgY29tcGxldGEgZGUgYW5pbWFjacOzblxuICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpO1xuICAgICAgICAgIGhhbmRsZVByb2dyZXNzKDEwMCk7XG4gICAgICAgICAgcm91dGVyLnB1c2goXCIvY2hlY2tvdXRcIik7XG4gICAgICAgICAgb25Db21wbGV0ZT8uKCk7XG4gICAgICAgIH0sIGFuaW1hdGlvbkR1cmF0aW9uKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbCk7XG4gICAgICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2lzQWN0aXZlLCBza2lwQW5pbWF0aW9uLCByb3V0ZXIsIG9uQ29tcGxldGUsIGFuaW1hdGlvbkR1cmF0aW9uLCBhbmltYXRpb25Db250cm9scywgaGFuZGxlUHJvZ3Jlc3MsIG9uQW5pbWF0aW9uU3RhcnRdKTtcblxuICAvLyBWYXJpYW50ZXMgZGUgYW5pbWFjacOzbiBvcHRpbWl6YWRhc1xuICBjb25zdCBjb250YWluZXJWYXJpYW50cyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBpbml0aWFsOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBhbmltYXRlOiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC4zLCBlYXNlOiBcImVhc2VPdXRcIiB9XG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC4yLCBlYXNlOiBcImVhc2VJblwiIH1cbiAgICB9XG4gIH0pLCBbXSk7XG5cbiAgY29uc3Qgd2F2ZVZhcmlhbnRzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGluaXRpYWw6IHsgc2NhbGU6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICBhbmltYXRlOiB7XG4gICAgICBzY2FsZTogZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gWzAsIDYsIDhdIDogWzAsIDgsIDEyXSxcbiAgICAgIG9wYWNpdHk6IFswLCAwLjgsIDAuNiwgMF1cbiAgICB9XG4gIH0pLCBbZW5hYmxlUGVyZm9ybWFuY2VNb2RlXSk7XG5cbiAgY29uc3QgbG9nb1ZhcmlhbnRzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGluaXRpYWw6IHsgc2NhbGU6IDAsIG9wYWNpdHk6IDAsIHJvdGF0ZTogLTE4MCB9LFxuICAgIGFuaW1hdGU6IHtcbiAgICAgIHNjYWxlOiBlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyBbMCwgMiwgMV0gOiBbMCwgMi41LCAxXSxcbiAgICAgIG9wYWNpdHk6IFswLCAxLCAxLCAwXSxcbiAgICAgIHJvdGF0ZTogWzE4MCwgMCwgMF1cbiAgICB9XG4gIH0pLCBbZW5hYmxlUGVyZm9ybWFuY2VNb2RlXSk7XG5cbiAgaWYgKCFpc0FjdGl2ZSB8fCBza2lwQW5pbWF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBbmltYXRlUHJlc2VuY2UgbW9kZT1cIndhaXRcIj5cbiAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bOTk5OTldIHBvaW50ZXItZXZlbnRzLW5vbmUgY2hlY2tvdXQtdHJhbnNpdGlvbi1jb250YWluZXJcIlxuICAgICAgICB2YXJpYW50cz17Y29udGFpbmVyVmFyaWFudHN9XG4gICAgICAgIGluaXRpYWw9XCJpbml0aWFsXCJcbiAgICAgICAgYW5pbWF0ZT1cImFuaW1hdGVcIlxuICAgICAgICBleGl0PVwiZXhpdFwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lsbENoYW5nZTogXCJvcGFjaXR5XCIsXG4gICAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVaKDApXCJcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgey8qIE9uZGEgY2lyY3VsYXIgYW1hcmlsbGEgb3B0aW1pemFkYSAqL31cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICAgICAgICB2YXJpYW50cz17d2F2ZVZhcmlhbnRzfVxuICAgICAgICAgIGluaXRpYWw9XCJpbml0aWFsXCJcbiAgICAgICAgICBhbmltYXRlPVwiYW5pbWF0ZVwiXG4gICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSBcIndhdmVcIik/LmR1cmF0aW9uIHx8IDEuNSxcbiAgICAgICAgICAgIGRlbGF5OiBhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gXCJ3YXZlXCIpPy5kZWxheSB8fCAwLjMsXG4gICAgICAgICAgICB0aW1lczogWzAsIDAuNiwgMC44LCAxXSxcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMzIgaC0zMiByb3VuZGVkLWZ1bGwgY2hlY2tvdXQtdHJhbnNpdGlvbi13YXZlICR7XG4gICAgICAgICAgICAgIGVuYWJsZVBlcmZvcm1hbmNlTW9kZSA/ICcnIDogJ2NoZWNrb3V0LXRyYW5zaXRpb24tb3ZlcmxheSdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjZmJiZjI0IDAlLCAjZjU5ZTBiIDUwJSwgdHJhbnNwYXJlbnQgNzAlKVwiLFxuICAgICAgICAgICAgICBmaWx0ZXI6IGVuYWJsZVBlcmZvcm1hbmNlTW9kZSA/IFwibm9uZVwiIDogXCJibHVyKDJweClcIlxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgey8qIExvZ28gY3Jhc2ggem9vbSBvcHRpbWl6YWRvICovfVxuICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuICAgICAgICAgIHZhcmlhbnRzPXtsb2dvVmFyaWFudHN9XG4gICAgICAgICAgaW5pdGlhbD1cImluaXRpYWxcIlxuICAgICAgICAgIGFuaW1hdGU9XCJhbmltYXRlXCJcbiAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uU2VxdWVuY2UuZmluZChzZXEgPT4gc2VxLm5hbWUgPT09IFwibG9nb1wiKT8uZHVyYXRpb24gfHwgMS44LFxuICAgICAgICAgICAgZGVsYXk6IGFuaW1hdGlvblNlcXVlbmNlLmZpbmQoc2VxID0+IHNlcS5uYW1lID09PSBcImxvZ29cIik/LmRlbGF5IHx8IDAuOCxcbiAgICAgICAgICAgIHRpbWVzOiBbMCwgMC4zLCAwLjcsIDFdLFxuICAgICAgICAgICAgZWFzZTogWzAuNjgsIC0wLjU1LCAwLjI2NSwgMS41NV0gLy8gQm91bmNlIGVmZmVjdFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICB7LyogRWZlY3RvIGRlIHJlc3BsYW5kb3Igb3B0aW1pemFkbyAqL31cbiAgICAgICAgICAgIHshZW5hYmxlUGVyZm9ybWFuY2VNb2RlICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHJvdW5kZWQtZnVsbCBjc3MtbG9nby1nbG93XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjZmJiZjI0IDAlLCB0cmFuc3BhcmVudCA3MCUpXCIsXG4gICAgICAgICAgICAgICAgICBmaWx0ZXI6IFwiYmx1cigyMHB4KVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgc2NhbGU6IFsxLCAxLjUsIDFdLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogWzAuNSwgMC44LCAwLjNdXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcbiAgICAgICAgICAgICAgICAgIGRlbGF5OiAxLFxuICAgICAgICAgICAgICAgICAgcmVwZWF0OiAxLFxuICAgICAgICAgICAgICAgICAgZWFzZTogXCJlYXNlSW5PdXRcIlxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTG9nbyBwcmluY2lwYWwgY29uIG9wdGltaXphY2lvbmVzICovfVxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIHNyYz1cIi9pbWFnZXMvbG9nby9MT0dPIFBPU0lUSVZPLnN2Z1wiXG4gICAgICAgICAgICAgIGFsdD1cIlBpbnRleWEgTG9nb1wiXG4gICAgICAgICAgICAgIHdpZHRoPXtlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyA4MCA6IDEyMH1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyA4MCA6IDEyMH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBjaGVja291dC10cmFuc2l0aW9uLWxvZ29cIlxuICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2U6IFwidHJhbnNmb3JtXCIsXG4gICAgICAgICAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiBcImhpZGRlblwiXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgey8qIFBhcnTDrWN1bGFzIGRlY29yYXRpdmFzIG9wdGltaXphZGFzICovfVxuICAgICAgICB7IWVuYWJsZVBlcmZvcm1hbmNlTW9kZSAmJiBbLi4uQXJyYXkoOCldLm1hcCgoXywgaSkgPT4gKFxuICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTIgaC0yIGJnLXllbGxvdy00MDAgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICAgICAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgICAgICAgICAgd2lsbENoYW5nZTogXCJ0cmFuc2Zvcm0sIG9wYWNpdHlcIlxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGluaXRpYWw9e3tcbiAgICAgICAgICAgICAgc2NhbGU6IDAsXG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICAgIHNjYWxlOiBbMCwgMSwgMF0sXG4gICAgICAgICAgICAgIHg6IE1hdGguY29zKChpICogTWF0aC5QSSAqIDIpIC8gOCkgKiAoZW5hYmxlUGVyZm9ybWFuY2VNb2RlID8gMTUwIDogMjAwKSxcbiAgICAgICAgICAgICAgeTogTWF0aC5zaW4oKGkgKiBNYXRoLlBJICogMikgLyA4KSAqIChlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyAxNTAgOiAyMDApLFxuICAgICAgICAgICAgICBvcGFjaXR5OiBbMCwgMSwgMF1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gXCJwYXJ0aWNsZXNcIik/LmR1cmF0aW9uIHx8IDEuMixcbiAgICAgICAgICAgICAgZGVsYXk6IChhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gXCJwYXJ0aWNsZXNcIik/LmRlbGF5IHx8IDEuMikgKyAoaSAqIDAuMSksXG4gICAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuXG4gICAgICAgIHsvKiBUZXh0byBkZSB0cmFuc2ljacOzbiBvcHRpbWl6YWRvICovfVxuICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogNTAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICBvcGFjaXR5OiBbMCwgMSwgMSwgMF0sXG4gICAgICAgICAgICB5OiBbNTAsIDAsIDAsIC0yMF1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb25TZXF1ZW5jZS5maW5kKHNlcSA9PiBzZXEubmFtZSA9PT0gXCJ0ZXh0XCIpPy5kdXJhdGlvbiB8fCAxLjUsXG4gICAgICAgICAgICBkZWxheTogYW5pbWF0aW9uU2VxdWVuY2UuZmluZChzZXEgPT4gc2VxLm5hbWUgPT09IFwidGV4dFwiKT8uZGVsYXkgfHwgMS41LFxuICAgICAgICAgICAgdGltZXM6IFswLCAwLjMsIDAuNywgMV0sXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VPdXRcIlxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMiAke1xuICAgICAgICAgICAgICBlbmFibGVQZXJmb3JtYW5jZU1vZGUgPyAndGV4dC14bCcgOiAndGV4dC0yeGwnXG4gICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgIMKhUHJvY2VzYW5kbyB0dSBjb21wcmEhXG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBUZSBsbGV2YW1vcyBhbCBjaGVja291dC4uLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgey8qIE92ZXJsYXkgZGUgZm9uZG8gb3B0aW1pemFkbyAqL31cbiAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlXCJcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IFswLCAwLjMsIDAuNSwgMC44XSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb25EdXJhdGlvbiAvIDEwMDAsXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJbk91dFwiXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogU2tpcCBidXR0b24gcGFyYSBhY2Nlc2liaWxpZGFkICovfVxuICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImNoZWNrb3V0LXRyYW5zaXRpb24tc2tpcC1idXR0b25cIlxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuNSB9fVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3V0ZXIucHVzaChcIi9jaGVja291dFwiKTtcbiAgICAgICAgICAgIG9uQ29tcGxldGU/LigpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlNhbHRhciBhbmltYWNpw7NuIGUgaXIgYWwgY2hlY2tvdXRcIlxuICAgICAgICA+XG4gICAgICAgICAgU2FsdGFyIGFuaW1hY2nDs25cbiAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tvdXRUcmFuc2l0aW9uQW5pbWF0aW9uO1xuIl0sIm5hbWVzIjpbIkNoZWNrb3V0VHJhbnNpdGlvbkFuaW1hdGlvbiIsImlzQWN0aXZlIiwib25Db21wbGV0ZSIsInNraXBBbmltYXRpb24iLCJlbmFibGVQZXJmb3JtYW5jZU1vZGUiLCJjdXN0b21EdXJhdGlvbiIsIm9uQW5pbWF0aW9uU3RhcnQiLCJvbkFuaW1hdGlvblByb2dyZXNzIiwicm91dGVyIiwidXNlUm91dGVyIiwiYW5pbWF0aW9uQ29udHJvbHMiLCJ1c2VBbmltYXRpb24iLCJwcm9ncmVzc1ZhbHVlIiwidXNlTW90aW9uVmFsdWUiLCJ0aW1lb3V0UmVmIiwidXNlUmVmIiwiYW5pbWF0aW9uU3RhcnRUaW1lUmVmIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ1c2VNZW1vIiwiYW5pbWF0aW9uU2VxdWVuY2UiLCJiYXNlU2VxdWVuY2UiLCJuYW1lIiwiZGVsYXkiLCJkdXJhdGlvbiIsImVsZW1lbnQiLCJtYXAiLCJzZXEiLCJoYW5kbGVQcm9ncmVzcyIsInVzZUNhbGxiYWNrIiwicHJvZ3Jlc3MiLCJzZXQiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiY2xlYXJUaW1lb3V0Iiwic3RvcCIsInBlcmZvcm1hbmNlIiwibm93Iiwic2V0VGltZW91dCIsInB1c2giLCJzdGFydCIsInByb2dyZXNzSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImVsYXBzZWQiLCJNYXRoIiwibWluIiwiY2xlYXJJbnRlcnZhbCIsImNvbnRhaW5lclZhcmlhbnRzIiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJhbmltYXRlIiwidHJhbnNpdGlvbiIsImVhc2UiLCJleGl0Iiwid2F2ZVZhcmlhbnRzIiwic2NhbGUiLCJsb2dvVmFyaWFudHMiLCJyb3RhdGUiLCJBbmltYXRlUHJlc2VuY2UiLCJtb2RlIiwibW90aW9uIiwiZGl2IiwiY2xhc3NOYW1lIiwidmFyaWFudHMiLCJzdHlsZSIsIndpbGxDaGFuZ2UiLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJ0cmFuc2Zvcm0iLCJmaW5kIiwidGltZXMiLCJiYWNrZ3JvdW5kIiwiZmlsdGVyIiwicmVwZWF0IiwiSW1hZ2UiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInByaW9yaXR5IiwiQXJyYXkiLCJfIiwiaSIsImxlZnQiLCJ0b3AiLCJ4IiwieSIsImNvcyIsIlBJIiwic2luIiwiaDMiLCJwIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7SUF3QmFBLDJCQUEyQjtlQUEzQkE7O0lBNlRiLE9BQTJDO2VBQTNDOzs7OytEQW5WK0Q7OEJBQ087OERBQ3BEOzRCQUNROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CbkIsTUFBTUEsOEJBQTBFLENBQUMsRUFDdEZDLFFBQVEsRUFDUkMsVUFBVSxFQUNWQyxnQkFBZ0IsS0FBSyxFQUNyQkMsd0JBQXdCLEtBQUssRUFDN0JDLGNBQWMsRUFDZEMsZ0JBQWdCLEVBQ2hCQyxtQkFBbUIsRUFDcEI7SUFDQyxNQUFNQyxTQUFTQyxJQUFBQSxxQkFBUztJQUN4QixNQUFNQyxvQkFBb0JDLElBQUFBLDBCQUFZO0lBQ3RDLE1BQU1DLGdCQUFnQkMsSUFBQUEsNEJBQWMsRUFBQztJQUNyQyxNQUFNQyxhQUFhQyxJQUFBQSxhQUFNLEVBQXdCO0lBQ2pELE1BQU1DLHdCQUF3QkQsSUFBQUEsYUFBTSxFQUFnQjtJQUVwRCx1Q0FBdUM7SUFDdkMsTUFBTUUsb0JBQW9CQyxJQUFBQSxjQUFPLEVBQUM7UUFDaEMsSUFBSWIsZ0JBQWdCLE9BQU9BO1FBQzNCLElBQUlGLGVBQWUsT0FBTztRQUMxQixJQUFJQyx1QkFBdUIsT0FBTyxNQUFNLDhDQUE4QztRQUN0RixPQUFPLE1BQU0sb0JBQW9CO0lBQ25DLEdBQUc7UUFBQ0M7UUFBZ0JGO1FBQWVDO0tBQXNCO0lBRXpELHNDQUFzQztJQUN0QyxNQUFNZSxvQkFBeUNELElBQUFBLGNBQU8sRUFBQztRQUNyRCxJQUFJZixlQUFlLE9BQU8sRUFBRTtRQUU1QixNQUFNaUIsZUFBZTtZQUNuQjtnQkFBRUMsTUFBTTtnQkFBUUMsT0FBTztnQkFB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