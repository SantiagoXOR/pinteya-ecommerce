{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Home\\BestSeller\\SingleItem.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { Product } from \"@/types/product\";\r\nimport { useModalContext } from \"@/app/context/QuickViewModalContext\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AppDispatch } from \"@/redux/store\";\r\nimport { updateQuickView } from \"@/redux/features/quickView-slice\";\r\nimport { addItemToCart } from \"@/redux/features/cart-slice\";\r\nimport { addItemToWishlist } from \"@/redux/features/wishlist-slice\";\r\nimport { CommercialProductCard } from \"@/components/ui/product-card-commercial\";\r\n\r\nconst SingleItem = ({ item }: { item: Product }) => {\r\n  const { openModal } = useModalContext();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  // update the QuickView state\r\n  const handleQuickViewUpdate = () => {\r\n    dispatch(updateQuickView({ ...item }));\r\n  };\r\n\r\n  // add to cart\r\n  const handleAddToCart = () => {\r\n    dispatch(\r\n      addItemToCart({\r\n        ...item,\r\n        quantity: 1,\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleItemToWishList = () => {\r\n    dispatch(\r\n      addItemToWishlist({\r\n        ...item,\r\n        status: \"available\",\r\n        quantity: 1,\r\n      })\r\n    );\r\n  };\r\n\r\n  // Calcular descuento si existe\r\n  const discount = item.discountedPrice && item.discountedPrice < item.price\r\n    ? Math.round(((item.price - item.discountedPrice) / item.price) * 100)\r\n    : undefined;\r\n\r\n  // Badge para best sellers\r\n  const badge = discount\r\n    ? \"Best Seller\"\r\n    : item.discountedPrice >= 15000\r\n    ? \"Envío gratis\"\r\n    : \"Destacado\";\r\n\r\n  return (\r\n    <CommercialProductCard\r\n      image={item.imgs?.previews?.[0] || '/images/products/placeholder.svg'}\r\n      title={item.title}\r\n      price={item.discountedPrice}\r\n      originalPrice={item.discountedPrice < item.price ? item.price : undefined}\r\n      discount={discount ? `${discount}%` : undefined}\r\n      isNew={badge === \"Destacado\"}\r\n      stock={50} // Stock por defecto para productos legacy\r\n      productId={item.id}\r\n      cta=\"Agregar al carrito\"\r\n      onAddToCart={handleAddToCart}\r\n      showCartAnimation={true}\r\n      // Información de cuotas automática\r\n      installments={item.discountedPrice >= 5000 ? {\r\n        quantity: 3,\r\n        amount: Math.round(item.discountedPrice / 3),\r\n        interestFree: true\r\n      } : undefined}\r\n      // Envío gratis automático para productos >= $15000\r\n      freeShipping={item.discountedPrice >= 15000}\r\n      shippingText={badge === \"Envío gratis\" ? \"Envío gratis\" : badge === \"Best Seller\" ? \"Best Seller\" : undefined}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SingleItem;\r\n"],"names":["SingleItem","item","openModal","useModalContext","dispatch","useDispatch","handleQuickViewUpdate","updateQuickView","handleAddToCart","addItemToCart","quantity","handleItemToWishList","addItemToWishlist","status","discount","discountedPrice","price","Math","round","undefined","badge","CommercialProductCard","image","imgs","previews","title","originalPrice","isNew","stock","productId","id","cta","onAddToCart","showCartAnimation","installments","amount","interestFree","freeShipping","shippingText"],"mappings":"AAAA;;;;;+BA8EA;;;eAAA;;;;8DA7EkB;uCAEc;4BACJ;gCAEI;2BACF;+BACI;uCACI;;;;;;AAEtC,MAAMA,aAAa,CAAC,EAAEC,IAAI,EAAqB;IAC7C,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,sCAAe;IACrC,MAAMC,WAAWC,IAAAA,uBAAW;IAE5B,6BAA6B;IAC7B,MAAMC,wBAAwB;QAC5BF,SAASG,IAAAA,+BAAe,EAAC;YAAE,GAAGN,IAAI;QAAC;IACrC;IAEA,cAAc;IACd,MAAMO,kBAAkB;QACtBJ,SACEK,IAAAA,wBAAa,EAAC;YACZ,GAAGR,IAAI;YACPS,UAAU;QACZ;IAEJ;IAEA,MAAMC,uBAAuB;QAC3BP,SACEQ,IAAAA,gCAAiB,EAAC;YAChB,GAAGX,IAAI;YACPY,QAAQ;YACRH,UAAU;QACZ;IAEJ;IAEA,+BAA+B;IAC/B,MAAMI,WAAWb,KAAKc,eAAe,IAAId,KAAKc,eAAe,GAAGd,KAAKe,KAAK,GACtEC,KAAKC,KAAK,CAAC,AAAEjB,CAAAA,KAAKe,KAAK,GAAGf,KAAKc,eAAe,AAAD,IAAKd,KAAKe,KAAK,GAAI,OAChEG;IAEJ,0BAA0B;IAC1B,MAAMC,QAAQN,WACV,gBACAb,KAAKc,eAAe,IAAI,QACxB,iBACA;IAEJ,qBACE,qBAACM,4CAAqB;QACpBC,OAAOrB,KAAKsB,IAAI,EAAEC,UAAU,CAAC,EAAE,IAAI;QACnCC,OAAOxB,KAAKwB,KAAK;QACjBT,OAAOf,KAAKc,eAAe;QAC3BW,eAAezB,KAAKc,eAAe,GAAGd,KAAKe,KAAK,GAAGf,KAAKe,KAAK,GAAGG;QAChEL,UAAUA,WAAW,GAAGA,SAAS,CAAC,CAAC,GAAGK;QACtCQ,OAAOP,UAAU;QACjBQ,OAAO;QACPC,WAAW5B,KAAK6B,EAAE;QAClBC,KAAI;QACJC,aAAaxB;QACbyB,mBAAmB;QACnB,mCAAmC;QACnCC,cAAcjC,KAAKc,eAAe,IAAI,OAAO;YAC3CL,UAAU;YACVyB,QAAQlB,KAAKC,KAAK,CAACjB,KAAKc,eAAe,GAAG;YAC1CqB,cAAc;QAChB,IAAIjB;QACJ,mDAAmD;QACnDkB,cAAcpC,KAAKc,eAAe,IAAI;QACtCuB,cAAclB,UAAU,iBAAiB,iBAAiBA,UAAU,gBAAgB,gBAAgBD;;AAG1G;MAEA,WAAenB"}