{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\bottom-navigation.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Tag,\r\n  Package,\r\n  Calculator,\r\n  Menu,\r\n  ShoppingCart,\r\n  User,\r\n  Percent,\r\n  ClipboardList\r\n} from \"lucide-react\";\r\nimport { Home } from \"lucide-react\";\r\nimport { useAppSelector } from \"@/redux/store\";\r\n\r\nconst bottomNavigationVariants = cva(\r\n  \"fixed bottom-0 left-0 right-0 z-bottom-nav border-t shadow-lg backdrop-blur-sm\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-white/95 border-gray-200\",\r\n        warm: \"bg-orange-50/95 border-orange-100\",\r\n        dark: \"bg-gray-900/95 border-gray-700\",\r\n        primary: \"bg-primary/5 border-primary/20\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"warm\",\r\n    },\r\n  }\r\n);\r\n\r\nconst bottomNavigationItemVariants = cva(\r\n  \"flex flex-col items-center justify-center py-3 px-2 min-h-[68px] transition-all duration-300 relative group\",\r\n  {\r\n    variants: {\r\n      active: {\r\n        true: \"text-primary-700\", // Texto más oscuro para mejor contraste\r\n        false: \"text-gray-700 hover:text-gray-900\", // Texto más oscuro por defecto\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      active: false,\r\n    },\r\n  }\r\n);\r\n\r\nexport interface BottomNavigationItem {\r\n  id: string;\r\n  label: string;\r\n  href: string;\r\n  icon: React.ReactNode;\r\n  badge?: number;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport interface BottomNavigationProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof bottomNavigationVariants> {\r\n  items?: BottomNavigationItem[];\r\n  showLabels?: boolean;\r\n  maxItems?: number;\r\n}\r\n\r\n// Items por defecto para Pinteya E-commerce\r\nconst defaultItems: BottomNavigationItem[] = [\r\n  {\r\n    id: \"home\",\r\n    label: \"Inicio\",\r\n    href: \"/\",\r\n    icon: <Home className=\"w-5 h-5 fill-current\" strokeWidth={1.5} />,\r\n  },\r\n  {\r\n    id: \"offers\",\r\n    label: \"Ofertas\",\r\n    href: \"/shop\",\r\n    icon: <Percent className=\"w-5 h-5\" strokeWidth={2} />,\r\n  },\r\n  {\r\n    id: \"orders\",\r\n    label: \"Pedidos\",\r\n    href: \"/admin\",\r\n    icon: <ClipboardList className=\"w-5 h-5\" strokeWidth={1.5} />,\r\n  },\r\n  {\r\n    id: \"calculator\",\r\n    label: \"Cotizador\",\r\n    href: \"/calculator\",\r\n    icon: <Calculator className=\"w-5 h-5\" strokeWidth={1.5} />,\r\n  },\r\n  {\r\n    id: \"menu\",\r\n    label: \"Menú\",\r\n    href: \"/menu\",\r\n    icon: <Menu className=\"w-5 h-5\" strokeWidth={2} />,\r\n  },\r\n];\r\n\r\nconst BottomNavigation = React.forwardRef<HTMLDivElement, BottomNavigationProps>(\r\n  ({ \r\n    className, \r\n    variant, \r\n    items = defaultItems,\r\n    showLabels = true,\r\n    maxItems = 5,\r\n    ...props \r\n  }, ref) => {\r\n    const pathname = usePathname();\r\n    const cartItems = useAppSelector((state) => state.cartReducer.items);\r\n\r\n    // Limitar items al máximo especificado\r\n    const displayItems = items.slice(0, maxItems);\r\n\r\n    // Función para determinar si un item está activo\r\n    const isActive = (href: string) => {\r\n      if (href === \"/\") {\r\n        return pathname === \"/\";\r\n      }\r\n      // Evitar que /menu active otros paths y viceversa\r\n      if (href === \"/menu\") {\r\n        return pathname === \"/menu\";\r\n      }\r\n      // Para otros paths, verificar que no sea menu y que coincida\r\n      if (pathname === \"/menu\") {\r\n        return false;\r\n      }\r\n      return pathname.startsWith(href);\r\n    };\r\n\r\n    return (\r\n      <nav\r\n        ref={ref}\r\n        className={cn(bottomNavigationVariants({ variant }), className)}\r\n        {...props}\r\n      >\r\n        <div className=\"flex items-center justify-around max-w-md mx-auto w-full bottom-nav-container\">\r\n          {displayItems.map((item) => {\r\n            const active = isActive(item.href);\r\n            const badge = item.id === \"orders\" ? cartItems.length : item.badge;\r\n            const showBadge = badge && badge > 0;\r\n            const showDot = !showBadge && item.id === \"orders\" && cartItems.length === 0;\r\n\r\n            return (\r\n              <Link\r\n                key={item.id}\r\n                href={item.href}\r\n                className={cn(\r\n                  bottomNavigationItemVariants({ active }),\r\n                  item.disabled && \"opacity-50 pointer-events-none\",\r\n                  \"flex-1 max-w-[85px] bottom-nav-item\",\r\n                  active && \"bottom-nav-item-active\"\r\n                )}\r\n                aria-label={item.label}\r\n              >\r\n                {/* Contenedor del ícono con fondo circular para estado activo */}\r\n                <div className={cn(\r\n                  \"relative flex items-center justify-center transition-all duration-300\",\r\n                  active\r\n                    ? \"bg-primary/15 rounded-full p-2 mb-1 shadow-sm\"\r\n                    : \"mb-2 hover:bg-gray-100/50 rounded-full p-2\"\r\n                )}>\r\n                  {/* Ícono con tamaño dinámico */}\r\n                  <div className={cn(\r\n                    \"transition-all duration-300\",\r\n                    active ? \"scale-110\" : \"scale-100\"\r\n                  )}>\r\n                    {React.cloneElement(item.icon as React.ReactElement, {\r\n                      className: cn(\r\n                        \"transition-all duration-300\",\r\n                        active ? \"w-6 h-6 text-primary-700\" : \"w-5 h-5\"\r\n                      )\r\n                    })}\r\n                  </div>\r\n\r\n                  {/* Badge para notificaciones */}\r\n                  {showBadge && (\r\n                    <span className={cn(\r\n                      \"absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1 shadow-sm\",\r\n                      badge && badge > 0 && \"bottom-nav-badge-pulse\"\r\n                    )}>\r\n                      {badge && badge > 99 ? \"99+\" : badge}\r\n                    </span>\r\n                  )}\r\n\r\n                  {/* Dot indicator sutil para items sin badge */}\r\n                  {showDot && (\r\n                    <div className=\"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary/60 rounded-full\" />\r\n                  )}\r\n                </div>\r\n\r\n                {/* Label con tipografía mejorada */}\r\n                {showLabels && (\r\n                  <span className={cn(\r\n                    \"text-xs leading-tight font-medium transition-all duration-300 bottom-nav-text-shadow\",\r\n                    active\r\n                      ? \"text-primary-800 font-bold\" // Texto más oscuro y bold para mejor contraste\r\n                      : \"text-gray-700 group-hover:text-gray-900\"\r\n                  )}>\r\n                    {item.label}\r\n                  </span>\r\n                )}\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n);\r\n\r\nBottomNavigation.displayName = \"BottomNavigation\";\r\n\r\nexport { BottomNavigation, bottomNavigationVariants };\r\n"],"names":["BottomNavigation","bottomNavigationVariants","cva","variants","variant","default","warm","dark","primary","defaultVariants","bottomNavigationItemVariants","active","true","false","defaultItems","id","label","href","icon","Home","className","strokeWidth","Percent","ClipboardList","Calculator","Menu","React","forwardRef","items","showLabels","maxItems","props","ref","pathname","usePathname","cartItems","useAppSelector","state","cartReducer","displayItems","slice","isActive","startsWith","nav","cn","div","map","item","badge","length","showBadge","showDot","Link","disabled","aria-label","cloneElement","span","displayName"],"mappings":"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"}