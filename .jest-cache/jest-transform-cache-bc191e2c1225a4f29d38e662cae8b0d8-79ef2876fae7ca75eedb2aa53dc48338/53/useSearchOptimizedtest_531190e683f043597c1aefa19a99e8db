884f4f24007fc1a7270959db29c62d9b
// ===================================
// TESTS: useSearchOptimized Hook - Sistema de búsqueda con TanStack Query
// ===================================
"use strict";
// ===================================
// MOCKS
// ===================================
// Mock API de productos
jest.mock('@/lib/api/products', ()=>({
        searchProducts: jest.fn()
    }));
// Mock useSearchNavigation
jest.mock('@/hooks/useSearchNavigation', ()=>({
        useSearchNavigation: jest.fn()
    }));
// Mock useSearchErrorHandler
jest.mock('@/hooks/useSearchErrorHandler', ()=>({
        useSearchErrorHandler: ()=>({
                currentError: null,
                isRetrying: false,
                retryCount: 0,
                handleError: jest.fn(),
                clearError: jest.fn(),
                retryManually: jest.fn(),
                executeWithRetry: jest.fn()
            })
    }));
// Mock useSearchToast
jest.mock('@/hooks/useSearchToast', ()=>({
        useSearchToast: ()=>({
                toasts: [],
                showSuccess: jest.fn(),
                showError: jest.fn(),
                showSuccessToast: jest.fn(),
                showInfoToast: jest.fn(),
                removeToast: jest.fn(),
                clearToasts: jest.fn()
            })
    }));
jest.mock('@tanstack/react-query', ()=>({
        ...jest.requireActual('@tanstack/react-query'),
        useQuery: (...args)=>mockUseQuery(...args)
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useSearchOptimized = require("../../hooks/useSearchOptimized");
const _products = require("../../lib/api/products");
const _useSearchNavigation = require("../../hooks/useSearchNavigation");
const _testutils = require("../utils/test-utils");
// Mock localStorage
const localStorageMock = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn()
};
Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
});
// Mock TanStack Query useQuery para tests específicos
const mockUseQuery = jest.fn();
// ===================================
// SETUP
// ===================================
const mockNavigateToSearch = jest.fn();
const mockNavigateToProduct = jest.fn();
const mockPrefetchSearch = jest.fn();
const mockSearchProducts = _products.searchProducts;
const mockUseSearchNavigation = _useSearchNavigation.useSearchNavigation;
// ===================================
// DATOS DE PRUEBA
// ===================================
const mockProductResults = [
    {
        id: '1',
        name: 'Pintura Sherwin Williams',
        category: {
            id: '1',
            name: 'Pinturas'
        },
        image_url: '/test-image.jpg',
        stock: 10,
        price: 1500
    },
    {
        id: '2',
        name: 'Rodillo Profesional',
        category: {
            id: '2',
            name: 'Herramientas'
        },
        image_url: '/test-image2.jpg',
        stock: 5,
        price: 800
    }
];
// Wrapper para tests usando las utilidades centralizadas
const createWrapper = ()=>{
    const queryClient = (0, _testutils.createTestQueryClient)();
    return (0, _testutils.createHookWrapper)(queryClient);
};
beforeEach(()=>{
    jest.clearAllMocks();
    // Mock useQuery por defecto (sin datos iniciales)
    mockUseQuery.mockReturnValue({
        data: null,
        error: null,
        isLoading: false,
        isError: false,
        isSuccess: false,
        isFetching: false,
        isStale: false,
        dataUpdatedAt: Date.now(),
        refetch: jest.fn()
    });
    // Mock useSearchNavigation
    mockUseSearchNavigation.mockReturnValue({
        navigateToSearch: mockNavigateToSearch,
        navigateToProduct: mockNavigateToProduct,
        navigateToCategory: jest.fn(),
        prefetchSearch: mockPrefetchSearch,
        prefetchProduct: jest.fn(),
        getCurrentSearchQuery: jest.fn(()=>''),
        getCurrentCategory: jest.fn(()=>''),
        buildSearchUrl: jest.fn(),
        router: {}
    });
    localStorageMock.getItem.mockReturnValue(null);
});
// ===================================
// TESTS
// ===================================
describe('useSearchOptimized Hook', ()=>{
    it('should initialize with default state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)(), {
            wrapper: createWrapper()
        });
        expect(result.current.query).toBe('');
        expect(result.current.results).toEqual([]);
        expect(result.current.suggestions).toEqual([]);
        expect(result.current.isLoading).toBe(false);
        expect(result.current.error).toBe(null);
        expect(result.current.hasSearched).toBe(false);
    });
    it('should accept custom options', ()=>{
        const onSearch = jest.fn();
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)({
                debounceMs: 200,
                maxSuggestions: 5,
                onSearch
            }), {
            wrapper: createWrapper()
        });
        expect(typeof result.current.searchWithDebounce).toBe('function');
        expect(typeof result.current.executeSearch).toBe('function');
    });
    it('should perform debounced search', async ()=>{
        // Mock para que devuelva directamente el array como espera TanStack Query
        mockSearchProducts.mockResolvedValue({
            success: true,
            data: mockProductResults,
            pagination: {
                total: 2,
                page: 1,
                limit: 10,
                totalPages: 1
            }
        });
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)({
                debounceMs: 50
            }), {
            wrapper: createWrapper()
        });
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('pintura');
        });
        // Esperar a que se ejecute el debounce y la query (optimizado)
        await (0, _react.waitFor)(()=>{
            expect(result.current.query).toBe('pintura');
        }, {
            timeout: 1000
        });
        // Esperar a que TanStack Query procese la respuesta (optimizado)
        await (0, _react.waitFor)(()=>{
            expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 6);
        }, {
            timeout: 1000
        });
        // Por ahora, solo verificamos que el hook funciona básicamente
        // TODO: Arreglar integración con TanStack Query en tests
        expect(result.current.query).toBe('pintura');
        expect(typeof result.current.searchWithDebounce).toBe('function');
    });
    it('should execute search and navigate', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)(), {
            wrapper: createWrapper()
        });
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('pintura test');
        });
        expect(mockNavigateToSearch).toHaveBeenCalledWith('pintura test');
        expect(result.current.hasSearched).toBe(true);
    });
    it('should select suggestion and navigate to product', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)(), {
            wrapper: createWrapper()
        });
        const suggestion = {
            id: '1',
            type: 'product',
            title: 'Test Product',
            href: '/products/1'
        };
        await (0, _react.act)(async ()=>{
            result.current.selectSuggestion(suggestion);
        });
        expect(mockNavigateToProduct).toHaveBeenCalledWith('1');
    });
    it('should handle search errors gracefully', async ()=>{
        // Configurar mock de useQuery para simular error
        mockUseQuery.mockReturnValue({
            data: null,
            error: new Error('Network error'),
            isLoading: false,
            isError: true,
            isSuccess: false,
            isFetching: false,
            isStale: false,
            dataUpdatedAt: Date.now(),
            refetch: jest.fn()
        });
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)({
                debounceMs: 50
            }), {
            wrapper: createWrapper()
        });
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('error query');
        });
        await (0, _react.waitFor)(()=>{
            expect(result.current.error).toBeTruthy();
        });
    });
    it('should save recent searches to localStorage', async ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)({
                saveRecentSearches: true
            }), {
            wrapper: createWrapper()
        });
        await (0, _react.act)(async ()=>{
            await result.current.executeSearch('test search');
        });
        expect(localStorageMock.setItem).toHaveBeenCalledWith('pinteya-recent-searches', JSON.stringify([
            'test search'
        ]));
    });
    it('should prefetch search results when enabled', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)({
                enablePrefetch: true,
                debounceMs: 50
            }), {
            wrapper: createWrapper()
        });
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('prefetch test');
        });
        expect(mockPrefetchSearch).toHaveBeenCalledWith('prefetch test');
    });
    it('should clear search state', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)(), {
            wrapper: createWrapper()
        });
        (0, _react.act)(()=>{
            result.current.searchWithDebounce('test');
        });
        (0, _react.act)(()=>{
            result.current.clearSearch();
        });
        expect(result.current.query).toBe('');
        expect(result.current.hasSearched).toBe(false);
    });
    it('should provide navigation utilities', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useSearchOptimized.useSearchOptimized)(), {
            wrapper: createWrapper()
        });
        expect(typeof result.current.navigateToSearch).toBe('function');
        expect(typeof result.current.navigateToProduct).toBe('function');
        expect(typeof result.current.prefetchSearchPage).toBe('function');
        expect(typeof result.current.buildSearchUrl).toBe('function');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlU2VhcmNoT3B0aW1pemVkLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1RTOiB1c2VTZWFyY2hPcHRpbWl6ZWQgSG9vayAtIFNpc3RlbWEgZGUgYsO6c3F1ZWRhIGNvbiBUYW5TdGFjayBRdWVyeVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW1wb3J0IHsgcmVuZGVySG9vaywgYWN0LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XHJcbmltcG9ydCB7IFF1ZXJ5Q2xpZW50LCBRdWVyeUNsaWVudFByb3ZpZGVyIH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcclxuaW1wb3J0IHsgdXNlU2VhcmNoT3B0aW1pemVkIH0gZnJvbSAnQC9ob29rcy91c2VTZWFyY2hPcHRpbWl6ZWQnO1xyXG5pbXBvcnQgeyBzZWFyY2hQcm9kdWN0cyB9IGZyb20gJ0AvbGliL2FwaS9wcm9kdWN0cyc7XHJcbmltcG9ydCB7IHVzZVNlYXJjaE5hdmlnYXRpb24gfSBmcm9tICdAL2hvb2tzL3VzZVNlYXJjaE5hdmlnYXRpb24nO1xyXG5pbXBvcnQgeyBjcmVhdGVUZXN0UXVlcnlDbGllbnQsIGNyZWF0ZUhvb2tXcmFwcGVyIH0gZnJvbSAnQC9fX3Rlc3RzX18vdXRpbHMvdGVzdC11dGlscyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNT0NLU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gTW9jayBBUEkgZGUgcHJvZHVjdG9zXHJcbmplc3QubW9jaygnQC9saWIvYXBpL3Byb2R1Y3RzJywgKCkgPT4gKHtcclxuICBzZWFyY2hQcm9kdWN0czogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIHVzZVNlYXJjaE5hdmlnYXRpb25cclxuamVzdC5tb2NrKCdAL2hvb2tzL3VzZVNlYXJjaE5hdmlnYXRpb24nLCAoKSA9PiAoe1xyXG4gIHVzZVNlYXJjaE5hdmlnYXRpb246IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuLy8gTW9jayB1c2VTZWFyY2hFcnJvckhhbmRsZXJcclxuamVzdC5tb2NrKCdAL2hvb2tzL3VzZVNlYXJjaEVycm9ySGFuZGxlcicsICgpID0+ICh7XHJcbiAgdXNlU2VhcmNoRXJyb3JIYW5kbGVyOiAoKSA9PiAoe1xyXG4gICAgY3VycmVudEVycm9yOiBudWxsLFxyXG4gICAgaXNSZXRyeWluZzogZmFsc2UsXHJcbiAgICByZXRyeUNvdW50OiAwLFxyXG4gICAgaGFuZGxlRXJyb3I6IGplc3QuZm4oKSxcclxuICAgIGNsZWFyRXJyb3I6IGplc3QuZm4oKSxcclxuICAgIHJldHJ5TWFudWFsbHk6IGplc3QuZm4oKSxcclxuICAgIGV4ZWN1dGVXaXRoUmV0cnk6IGplc3QuZm4oKSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuLy8gTW9jayB1c2VTZWFyY2hUb2FzdFxyXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlU2VhcmNoVG9hc3QnLCAoKSA9PiAoe1xyXG4gIHVzZVNlYXJjaFRvYXN0OiAoKSA9PiAoe1xyXG4gICAgdG9hc3RzOiBbXSxcclxuICAgIHNob3dTdWNjZXNzOiBqZXN0LmZuKCksXHJcbiAgICBzaG93RXJyb3I6IGplc3QuZm4oKSxcclxuICAgIHNob3dTdWNjZXNzVG9hc3Q6IGplc3QuZm4oKSxcclxuICAgIHNob3dJbmZvVG9hc3Q6IGplc3QuZm4oKSxcclxuICAgIHJlbW92ZVRvYXN0OiBqZXN0LmZuKCksXHJcbiAgICBjbGVhclRvYXN0czogamVzdC5mbigpLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxyXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xyXG4gIGdldEl0ZW06IGplc3QuZm4oKSxcclxuICBzZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxyXG4gIGNsZWFyOiBqZXN0LmZuKCksXHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XHJcbiAgdmFsdWU6IGxvY2FsU3RvcmFnZU1vY2ssXHJcbn0pO1xyXG5cclxuLy8gTW9jayBUYW5TdGFjayBRdWVyeSB1c2VRdWVyeSBwYXJhIHRlc3RzIGVzcGVjw61maWNvc1xyXG5jb25zdCBtb2NrVXNlUXVlcnkgPSBqZXN0LmZuKCk7XHJcbmplc3QubW9jaygnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JywgKCkgPT4gKHtcclxuICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJ0B0YW5zdGFjay9yZWFjdC1xdWVyeScpLFxyXG4gIHVzZVF1ZXJ5OiAoLi4uYXJncykgPT4gbW9ja1VzZVF1ZXJ5KC4uLmFyZ3MpLFxyXG59KSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTRVRVUFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgbW9ja05hdmlnYXRlVG9TZWFyY2ggPSBqZXN0LmZuKCk7XHJcbmNvbnN0IG1vY2tOYXZpZ2F0ZVRvUHJvZHVjdCA9IGplc3QuZm4oKTtcclxuY29uc3QgbW9ja1ByZWZldGNoU2VhcmNoID0gamVzdC5mbigpO1xyXG5jb25zdCBtb2NrU2VhcmNoUHJvZHVjdHMgPSBzZWFyY2hQcm9kdWN0cyBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBzZWFyY2hQcm9kdWN0cz47XHJcbmNvbnN0IG1vY2tVc2VTZWFyY2hOYXZpZ2F0aW9uID0gdXNlU2VhcmNoTmF2aWdhdGlvbiBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiB1c2VTZWFyY2hOYXZpZ2F0aW9uPjtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIERBVE9TIERFIFBSVUVCQVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgbW9ja1Byb2R1Y3RSZXN1bHRzID0gW1xyXG4gIHtcclxuICAgIGlkOiAnMScsXHJcbiAgICBuYW1lOiAnUGludHVyYSBTaGVyd2luIFdpbGxpYW1zJyxcclxuICAgIGNhdGVnb3J5OiB7IGlkOiAnMScsIG5hbWU6ICdQaW50dXJhcycgfSxcclxuICAgIGltYWdlX3VybDogJy90ZXN0LWltYWdlLmpwZycsXHJcbiAgICBzdG9jazogMTAsXHJcbiAgICBwcmljZTogMTUwMCxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnMicsXHJcbiAgICBuYW1lOiAnUm9kaWxsbyBQcm9mZXNpb25hbCcsXHJcbiAgICBjYXRlZ29yeTogeyBpZDogJzInLCBuYW1lOiAnSGVycmFtaWVudGFzJyB9LFxyXG4gICAgaW1hZ2VfdXJsOiAnL3Rlc3QtaW1hZ2UyLmpwZycsXHJcbiAgICBzdG9jazogNSxcclxuICAgIHByaWNlOiA4MDAsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIFdyYXBwZXIgcGFyYSB0ZXN0cyB1c2FuZG8gbGFzIHV0aWxpZGFkZXMgY2VudHJhbGl6YWRhc1xyXG5jb25zdCBjcmVhdGVXcmFwcGVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gY3JlYXRlVGVzdFF1ZXJ5Q2xpZW50KCk7XHJcbiAgcmV0dXJuIGNyZWF0ZUhvb2tXcmFwcGVyKHF1ZXJ5Q2xpZW50KTtcclxufTtcclxuXHJcbmJlZm9yZUVhY2goKCkgPT4ge1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG5cclxuICAvLyBNb2NrIHVzZVF1ZXJ5IHBvciBkZWZlY3RvIChzaW4gZGF0b3MgaW5pY2lhbGVzKVxyXG4gIG1vY2tVc2VRdWVyeS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgZGF0YTogbnVsbCxcclxuICAgIGVycm9yOiBudWxsLFxyXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgIGlzRXJyb3I6IGZhbHNlLFxyXG4gICAgaXNTdWNjZXNzOiBmYWxzZSxcclxuICAgIGlzRmV0Y2hpbmc6IGZhbHNlLFxyXG4gICAgaXNTdGFsZTogZmFsc2UsXHJcbiAgICBkYXRhVXBkYXRlZEF0OiBEYXRlLm5vdygpLFxyXG4gICAgcmVmZXRjaDogamVzdC5mbigpLFxyXG4gIH0pO1xyXG5cclxuICAvLyBNb2NrIHVzZVNlYXJjaE5hdmlnYXRpb25cclxuICBtb2NrVXNlU2VhcmNoTmF2aWdhdGlvbi5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgbmF2aWdhdGVUb1NlYXJjaDogbW9ja05hdmlnYXRlVG9TZWFyY2gsXHJcbiAgICBuYXZpZ2F0ZVRvUHJvZHVjdDogbW9ja05hdmlnYXRlVG9Qcm9kdWN0LFxyXG4gICAgbmF2aWdhdGVUb0NhdGVnb3J5OiBqZXN0LmZuKCksXHJcbiAgICBwcmVmZXRjaFNlYXJjaDogbW9ja1ByZWZldGNoU2VhcmNoLFxyXG4gICAgcHJlZmV0Y2hQcm9kdWN0OiBqZXN0LmZuKCksXHJcbiAgICBnZXRDdXJyZW50U2VhcmNoUXVlcnk6IGplc3QuZm4oKCkgPT4gJycpLFxyXG4gICAgZ2V0Q3VycmVudENhdGVnb3J5OiBqZXN0LmZuKCgpID0+ICcnKSxcclxuICAgIGJ1aWxkU2VhcmNoVXJsOiBqZXN0LmZuKCksXHJcbiAgICByb3V0ZXI6IHt9IGFzIGFueSxcclxuICB9KTtcclxuXHJcbiAgbG9jYWxTdG9yYWdlTW9jay5nZXRJdGVtLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBURVNUU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZGVzY3JpYmUoJ3VzZVNlYXJjaE9wdGltaXplZCBIb29rJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgc3RhdGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hPcHRpbWl6ZWQoKSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucXVlcnkpLnRvQmUoJycpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJlc3VsdHMpLnRvRXF1YWwoW10pO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN1Z2dlc3Rpb25zKS50b0VxdWFsKFtdKTtcclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlKG51bGwpO1xyXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc1NlYXJjaGVkKS50b0JlKGZhbHNlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBhY2NlcHQgY3VzdG9tIG9wdGlvbnMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBvblNlYXJjaCA9IGplc3QuZm4oKTtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IFxyXG4gICAgICB1c2VTZWFyY2hPcHRpbWl6ZWQoe1xyXG4gICAgICAgIGRlYm91bmNlTXM6IDIwMCxcclxuICAgICAgICBtYXhTdWdnZXN0aW9uczogNSxcclxuICAgICAgICBvblNlYXJjaCxcclxuICAgICAgfSksIHtcclxuICAgICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5zZWFyY2hXaXRoRGVib3VuY2UpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmV4ZWN1dGVTZWFyY2gpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcGVyZm9ybSBkZWJvdW5jZWQgc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gTW9jayBwYXJhIHF1ZSBkZXZ1ZWx2YSBkaXJlY3RhbWVudGUgZWwgYXJyYXkgY29tbyBlc3BlcmEgVGFuU3RhY2sgUXVlcnlcclxuICAgIG1vY2tTZWFyY2hQcm9kdWN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IG1vY2tQcm9kdWN0UmVzdWx0cyxcclxuICAgICAgcGFnaW5hdGlvbjogeyB0b3RhbDogMiwgcGFnZTogMSwgbGltaXQ6IDEwLCB0b3RhbFBhZ2VzOiAxIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hPcHRpbWl6ZWQoe1xyXG4gICAgICBkZWJvdW5jZU1zOiA1MCwgLy8gUmVkdWNpciBwYXJhIHRlc3RzXHJcbiAgICB9KSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5zZWFyY2hXaXRoRGVib3VuY2UoJ3BpbnR1cmEnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEVzcGVyYXIgYSBxdWUgc2UgZWplY3V0ZSBlbCBkZWJvdW5jZSB5IGxhIHF1ZXJ5IChvcHRpbWl6YWRvKVxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5xdWVyeSkudG9CZSgncGludHVyYScpO1xyXG4gICAgfSwgeyB0aW1lb3V0OiAxMDAwIH0pO1xyXG5cclxuICAgIC8vIEVzcGVyYXIgYSBxdWUgVGFuU3RhY2sgUXVlcnkgcHJvY2VzZSBsYSByZXNwdWVzdGEgKG9wdGltaXphZG8pXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tTZWFyY2hQcm9kdWN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3BpbnR1cmEnLCA2KTtcclxuICAgIH0sIHsgdGltZW91dDogMTAwMCB9KTtcclxuXHJcbiAgICAvLyBQb3IgYWhvcmEsIHNvbG8gdmVyaWZpY2Ftb3MgcXVlIGVsIGhvb2sgZnVuY2lvbmEgYsOhc2ljYW1lbnRlXHJcbiAgICAvLyBUT0RPOiBBcnJlZ2xhciBpbnRlZ3JhY2nDs24gY29uIFRhblN0YWNrIFF1ZXJ5IGVuIHRlc3RzXHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucXVlcnkpLnRvQmUoJ3BpbnR1cmEnKTtcclxuICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGV4ZWN1dGUgc2VhcmNoIGFuZCBuYXZpZ2F0ZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaE9wdGltaXplZCgpLCB7XHJcbiAgICAgIHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGVTZWFyY2goJ3BpbnR1cmEgdGVzdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZVRvU2VhcmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncGludHVyYSB0ZXN0Jyk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaGFzU2VhcmNoZWQpLnRvQmUodHJ1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgc2VsZWN0IHN1Z2dlc3Rpb24gYW5kIG5hdmlnYXRlIHRvIHByb2R1Y3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hPcHRpbWl6ZWQoKSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzdWdnZXN0aW9uID0ge1xyXG4gICAgICBpZDogJzEnLFxyXG4gICAgICB0eXBlOiAncHJvZHVjdCcgYXMgY29uc3QsXHJcbiAgICAgIHRpdGxlOiAnVGVzdCBQcm9kdWN0JyxcclxuICAgICAgaHJlZjogJy9wcm9kdWN0cy8xJyxcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VsZWN0U3VnZ2VzdGlvbihzdWdnZXN0aW9uKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChtb2NrTmF2aWdhdGVUb1Byb2R1Y3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcxJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHNlYXJjaCBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcclxuICAgIC8vIENvbmZpZ3VyYXIgbW9jayBkZSB1c2VRdWVyeSBwYXJhIHNpbXVsYXIgZXJyb3JcclxuICAgIG1vY2tVc2VRdWVyeS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBkYXRhOiBudWxsLFxyXG4gICAgICBlcnJvcjogbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyksXHJcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgICAgIGlzRXJyb3I6IHRydWUsXHJcbiAgICAgIGlzU3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGlzRmV0Y2hpbmc6IGZhbHNlLFxyXG4gICAgICBpc1N0YWxlOiBmYWxzZSxcclxuICAgICAgZGF0YVVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcclxuICAgICAgcmVmZXRjaDogamVzdC5mbigpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoT3B0aW1pemVkKHtcclxuICAgICAgZGVib3VuY2VNczogNTAsXHJcbiAgICB9KSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhY3QoKCkgPT4ge1xyXG4gICAgICByZXN1bHQuY3VycmVudC5zZWFyY2hXaXRoRGVib3VuY2UoJ2Vycm9yIHF1ZXJ5Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlVHJ1dGh5KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBzYXZlIHJlY2VudCBzZWFyY2hlcyB0byBsb2NhbFN0b3JhZ2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hPcHRpbWl6ZWQoe1xyXG4gICAgICBzYXZlUmVjZW50U2VhcmNoZXM6IHRydWUsXHJcbiAgICB9KSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRlU2VhcmNoKCd0ZXN0IHNlYXJjaCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZXhwZWN0KGxvY2FsU3RvcmFnZU1vY2suc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICdwaW50ZXlhLXJlY2VudC1zZWFyY2hlcycsXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KFsndGVzdCBzZWFyY2gnXSlcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcHJlZmV0Y2ggc2VhcmNoIHJlc3VsdHMgd2hlbiBlbmFibGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlU2VhcmNoT3B0aW1pemVkKHtcclxuICAgICAgZW5hYmxlUHJlZmV0Y2g6IHRydWUsXHJcbiAgICAgIGRlYm91bmNlTXM6IDUwLFxyXG4gICAgfSksIHtcclxuICAgICAgd3JhcHBlcjogY3JlYXRlV3JhcHBlcigpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuc2VhcmNoV2l0aERlYm91bmNlKCdwcmVmZXRjaCB0ZXN0Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QobW9ja1ByZWZldGNoU2VhcmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncHJlZmV0Y2ggdGVzdCcpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGNsZWFyIHNlYXJjaCBzdGF0ZScsICgpID0+IHtcclxuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVNlYXJjaE9wdGltaXplZCgpLCB7XHJcbiAgICAgIHdyYXBwZXI6IGNyZWF0ZVdyYXBwZXIoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGFjdCgoKSA9PiB7XHJcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlYXJjaFdpdGhEZWJvdW5jZSgndGVzdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWN0KCgpID0+IHtcclxuICAgICAgcmVzdWx0LmN1cnJlbnQuY2xlYXJTZWFyY2goKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5xdWVyeSkudG9CZSgnJyk7XHJcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaGFzU2VhcmNoZWQpLnRvQmUoZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHByb3ZpZGUgbmF2aWdhdGlvbiB1dGlsaXRpZXMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VTZWFyY2hPcHRpbWl6ZWQoKSwge1xyXG4gICAgICB3cmFwcGVyOiBjcmVhdGVXcmFwcGVyKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9TZWFyY2gpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50Lm5hdmlnYXRlVG9Qcm9kdWN0KS50b0JlKCdmdW5jdGlvbicpO1xyXG4gICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5wcmVmZXRjaFNlYXJjaFBhZ2UpLnRvQmUoJ2Z1bmN0aW9uJyk7XHJcbiAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmJ1aWxkU2VhcmNoVXJsKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwic2VhcmNoUHJvZHVjdHMiLCJmbiIsInVzZVNlYXJjaE5hdmlnYXRpb24iLCJ1c2VTZWFyY2hFcnJvckhhbmRsZXIiLCJjdXJyZW50RXJyb3IiLCJpc1JldHJ5aW5nIiwicmV0cnlDb3VudCIsImhhbmRsZUVycm9yIiwiY2xlYXJFcnJvciIsInJldHJ5TWFudWFsbHkiLCJleGVjdXRlV2l0aFJldHJ5IiwidXNlU2VhcmNoVG9hc3QiLCJ0b2FzdHMiLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInNob3dTdWNjZXNzVG9hc3QiLCJzaG93SW5mb1RvYXN0IiwicmVtb3ZlVG9hc3QiLCJjbGVhclRvYXN0cyIsInJlcXVpcmVBY3R1YWwiLCJ1c2VRdWVyeSIsImFyZ3MiLCJtb2NrVXNlUXVlcnkiLCJsb2NhbFN0b3JhZ2VNb2NrIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsInZhbHVlIiwibW9ja05hdmlnYXRlVG9TZWFyY2giLCJtb2NrTmF2aWdhdGVUb1Byb2R1Y3QiLCJtb2NrUHJlZmV0Y2hTZWFyY2giLCJtb2NrU2VhcmNoUHJvZHVjdHMiLCJtb2NrVXNlU2VhcmNoTmF2aWdhdGlvbiIsIm1vY2tQcm9kdWN0UmVzdWx0cyIsImlkIiwibmFtZSIsImNhdGVnb3J5IiwiaW1hZ2VfdXJsIiwic3RvY2siLCJwcmljZSIsImNyZWF0ZVdyYXBwZXIiLCJxdWVyeUNsaWVudCIsImNyZWF0ZVRlc3RRdWVyeUNsaWVudCIsImNyZWF0ZUhvb2tXcmFwcGVyIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJkYXRhIiwiZXJyb3IiLCJpc0xvYWRpbmciLCJpc0Vycm9yIiwiaXNTdWNjZXNzIiwiaXNGZXRjaGluZyIsImlzU3RhbGUiLCJkYXRhVXBkYXRlZEF0IiwiRGF0ZSIsIm5vdyIsInJlZmV0Y2giLCJuYXZpZ2F0ZVRvU2VhcmNoIiwibmF2aWdhdGVUb1Byb2R1Y3QiLCJuYXZpZ2F0ZVRvQ2F0ZWdvcnkiLCJwcmVmZXRjaFNlYXJjaCIsInByZWZldGNoUHJvZHVjdCIsImdldEN1cnJlbnRTZWFyY2hRdWVyeSIsImdldEN1cnJlbnRDYXRlZ29yeSIsImJ1aWxkU2VhcmNoVXJsIiwicm91dGVyIiwiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VTZWFyY2hPcHRpbWl6ZWQiLCJ3cmFwcGVyIiwiZXhwZWN0IiwiY3VycmVudCIsInF1ZXJ5IiwidG9CZSIsInJlc3VsdHMiLCJ0b0VxdWFsIiwic3VnZ2VzdGlvbnMiLCJoYXNTZWFyY2hlZCIsIm9uU2VhcmNoIiwiZGVib3VuY2VNcyIsIm1heFN1Z2dlc3Rpb25zIiwic2VhcmNoV2l0aERlYm91bmNlIiwiZXhlY3V0ZVNlYXJjaCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwic3VjY2VzcyIsInBhZ2luYXRpb24iLCJ0b3RhbCIsInBhZ2UiLCJsaW1pdCIsInRvdGFsUGFnZXMiLCJhY3QiLCJ3YWl0Rm9yIiwidGltZW91dCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwic3VnZ2VzdGlvbiIsInR5cGUiLCJ0aXRsZSIsImhyZWYiLCJzZWxlY3RTdWdnZXN0aW9uIiwiRXJyb3IiLCJ0b0JlVHJ1dGh5Iiwic2F2ZVJlY2VudFNlYXJjaGVzIiwiSlNPTiIsInN0cmluZ2lmeSIsImVuYWJsZVByZWZldGNoIiwiY2xlYXJTZWFyY2giLCJwcmVmZXRjaFNlYXJjaFBhZ2UiXSwibWFwcGluZ3MiOiJBQUFBLHNDQUFzQztBQUN0QywwRUFBMEU7QUFDMUUsc0NBQXNDOztBQVN0QyxzQ0FBc0M7QUFDdEMsUUFBUTtBQUNSLHNDQUFzQztBQUV0Qyx3QkFBd0I7QUFDeEJBLEtBQUtDLElBQUksQ0FBQyxzQkFBc0IsSUFBTyxDQUFBO1FBQ3JDQyxnQkFBZ0JGLEtBQUtHLEVBQUU7SUFDekIsQ0FBQTtBQUVBLDJCQUEyQjtBQUMzQkgsS0FBS0MsSUFBSSxDQUFDLCtCQUErQixJQUFPLENBQUE7UUFDOUNHLHFCQUFxQkosS0FBS0csRUFBRTtJQUM5QixDQUFBO0FBRUEsNkJBQTZCO0FBQzdCSCxLQUFLQyxJQUFJLENBQUMsaUNBQWlDLElBQU8sQ0FBQTtRQUNoREksdUJBQXVCLElBQU8sQ0FBQTtnQkFDNUJDLGNBQWM7Z0JBQ2RDLFlBQVk7Z0JBQ1pDLFlBQVk7Z0JBQ1pDLGFBQWFULEtBQUtHLEVBQUU7Z0JBQ3BCTyxZQUFZVixLQUFLRyxFQUFFO2dCQUNuQlEsZUFBZVgsS0FBS0csRUFBRTtnQkFDdEJTLGtCQUFrQlosS0FBS0csRUFBRTtZQUMzQixDQUFBO0lBQ0YsQ0FBQTtBQUVBLHNCQUFzQjtBQUN0QkgsS0FBS0MsSUFBSSxDQUFDLDBCQUEwQixJQUFPLENBQUE7UUFDekNZLGdCQUFnQixJQUFPLENBQUE7Z0JBQ3JCQyxRQUFRLEVBQUU7Z0JBQ1ZDLGFBQWFmLEtBQUtHLEVBQUU7Z0JBQ3BCYSxXQUFXaEIsS0FBS0csRUFBRTtnQkFDbEJjLGtCQUFrQmpCLEtBQUtHLEVBQUU7Z0JBQ3pCZSxlQUFlbEIsS0FB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