{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Common\\HeroCarousel.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Autoplay, Pagination, Navigation, Keyboard, A11y } from \"swiper/modules\";\n\n// Import Swiper styles\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport \"swiper/css/navigation\";\n\ninterface HeroImage {\n  src: string;\n  alt: string;\n  priority?: boolean;\n  unoptimized?: boolean;\n}\n\ninterface HeroCarouselProps {\n  images: HeroImage[];\n  autoplayDelay?: number;\n  className?: string;\n  showNavigation?: boolean;\n  showPagination?: boolean;\n  onSlideChange?: (index: number) => void;\n}\n\nconst HeroCarousel: React.FC<HeroCarouselProps> = ({\n  images,\n  autoplayDelay = 5000,\n  className = \"\",\n  showNavigation = true,\n  showPagination = true,\n  onSlideChange,\n}) => {\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [isAutoplayPaused, setIsAutoplayPaused] = useState(false);\n  const swiperRef = useRef<any>(null);\n\n  // Handle slide change\n  const handleSlideChange = (swiper: any) => {\n    const newIndex = swiper.realIndex;\n    setCurrentSlide(newIndex);\n    onSlideChange?.(newIndex);\n  };\n\n  // Handle mouse enter/leave for autoplay pause\n  const handleMouseEnter = () => {\n    setIsAutoplayPaused(true);\n    if (swiperRef.current?.autoplay) {\n      swiperRef.current.autoplay.stop();\n    }\n  };\n\n  const handleMouseLeave = () => {\n    setIsAutoplayPaused(false);\n    if (swiperRef.current?.autoplay) {\n      swiperRef.current.autoplay.start();\n    }\n  };\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!swiperRef.current) return;\n\n      switch (event.key) {\n        case \"ArrowLeft\":\n          event.preventDefault();\n          swiperRef.current.slidePrev();\n          break;\n        case \"ArrowRight\":\n          event.preventDefault();\n          swiperRef.current.slideNext();\n          break;\n        case \"Escape\":\n          event.preventDefault();\n          if (isAutoplayPaused) {\n            handleMouseLeave();\n          } else {\n            handleMouseEnter();\n          }\n          break;\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isAutoplayPaused]);\n\n  return (\n    <div\n      role=\"region\"\n      aria-label=\"Carrusel de imágenes principales\"\n      aria-live=\"polite\"\n      className={`hero-carousel relative w-full h-full ${className}`}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <Swiper\n        modules={[Autoplay, Pagination, Navigation, Keyboard, A11y]}\n        autoplay={{\n          delay: autoplayDelay,\n          disableOnInteraction: false,\n          pauseOnMouseEnter: true,\n        }}\n        pagination={showPagination ? {\n          clickable: true,\n          bulletClass: \"hero-carousel-bullet\",\n          bulletActiveClass: \"hero-carousel-bullet-active\",\n          dynamicBullets: false,\n          renderBullet: function (index: number, className: string) {\n            return `<span class=\"${className}\" data-index=\"${index}\" role=\"button\" aria-label=\"Ir a imagen ${index + 1}\" tabindex=\"0\"></span>`;\n          },\n        } : false}\n        navigation={showNavigation ? {\n          nextEl: \".hero-carousel-button-next\",\n          prevEl: \".hero-carousel-button-prev\",\n        } : false}\n        keyboard={{\n          enabled: true,\n          onlyInViewport: true,\n        }}\n        a11y={{\n          enabled: true,\n        }}\n        loop={true}\n        speed={800}\n        effect=\"slide\"\n        spaceBetween={0}\n        slidesPerView={1}\n        centeredSlides={true}\n        onSlideChange={handleSlideChange}\n        onSwiper={(swiper: any) => {\n          swiperRef.current = swiper;\n        }}\n        aria-label=\"Galería de imágenes de productos\"\n        className=\"w-full h-full\"\n      >\n        {images.map((image, index) => (\n          <SwiperSlide\n            key={`${image.src}-${index}`}\n            role=\"group\"\n            aria-label={`${index + 1} de ${images.length}`}\n            className=\"flex items-center justify-center\"\n          >\n            <div className=\"relative w-full h-full\">\n              <Image\n                src={image.src}\n                alt={image.alt}\n                fill\n                className=\"object-contain transition-all duration-500 ease-in-out\"\n                priority={image.priority || index === 0}\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 60vw\"\n                quality={95}\n                unoptimized={image.unoptimized || true}\n                aria-describedby={`slide-description-${index}`}\n              />\n              <div id={`slide-description-${index}`} className=\"sr-only\">\n                {image.alt}\n              </div>\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      {/* Custom Navigation Buttons */}\n      {showNavigation && (\n        <>\n          <button\n            className=\"hero-carousel-button-prev absolute left-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 md:w-12 md:h-12 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2\"\n            aria-label=\"Imagen anterior\"\n            type=\"button\"\n          >\n            <svg\n              className=\"w-5 h-5 md:w-6 md:h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n          </button>\n\n          <button\n            className=\"hero-carousel-button-next absolute right-4 top-1/2 -translate-y-1/2 z-10 w-10 h-10 md:w-12 md:h-12 bg-white/80 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-blaze-orange-600 hover:text-blaze-orange-700 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2\"\n            aria-label=\"Imagen siguiente\"\n            type=\"button\"\n          >\n            <svg\n              className=\"w-5 h-5 md:w-6 md:h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 5l7 7-7 7\"\n              />\n            </svg>\n          </button>\n        </>\n      )}\n\n      {/* Slide Counter for Screen Readers */}\n      <div className=\"sr-only\" aria-live=\"polite\" aria-atomic=\"true\">\n        Imagen {currentSlide + 1} de {images.length}\n        {isAutoplayPaused ? \" - Reproducción automática pausada\" : \" - Reproducción automática activa\"}\n      </div>\n    </div>\n  );\n};\n\nexport default HeroCarousel;\n"],"names":["HeroCarousel","images","autoplayDelay","className","showNavigation","showPagination","onSlideChange","currentSlide","setCurrentSlide","useState","isAutoplayPaused","setIsAutoplayPaused","swiperRef","useRef","handleSlideChange","swiper","newIndex","realIndex","handleMouseEnter","current","autoplay","stop","handleMouseLeave","start","useEffect","handleKeyDown","event","key","preventDefault","slidePrev","slideNext","document","addEventListener","removeEventListener","div","role","aria-label","aria-live","onMouseEnter","onMouseLeave","Swiper","modules","Autoplay","Pagination","Navigation","Keyboard","A11y","delay","disableOnInteraction","pauseOnMouseEnter","pagination","clickable","bulletClass","bulletActiveClass","dynamicBullets","renderBullet","index","navigation","nextEl","prevEl","keyboard","enabled","onlyInViewport","a11y","loop","speed","effect","spaceBetween","slidesPerView","centeredSlides","onSwiper","map","image","SwiperSlide","length","Image","src","alt","fill","priority","sizes","quality","unoptimized","aria-describedby","id","button","type","svg","stroke","viewBox","aria-hidden","path","strokeLinecap","strokeLinejoin","strokeWidth","d","aria-atomic"],"mappings":"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"}