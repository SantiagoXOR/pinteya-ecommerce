bd0aa009c76835fca45dfa0d84c7687a
"use strict";
// Mock para Radix UI Portal
jest.mock('@radix-ui/react-dialog', ()=>({
        ...jest.requireActual('@radix-ui/react-dialog'),
        Portal: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "portal",
                children: children
            })
    }));
jest.mock('@radix-ui/react-alert-dialog', ()=>({
        ...jest.requireActual('@radix-ui/react-alert-dialog'),
        Portal: ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "alert-portal",
                children: children
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _modal = require("../../../components/ui/modal");
const _button = require("../../../components/ui/button");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Modal Components', ()=>{
    describe('Modal', ()=>{
        it('renders with title and description', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Test Modal",
                description: "Test description",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Modal content"
                })
            }));
            expect(_react.screen.getByText('Test Modal')).toBeInTheDocument();
            expect(_react.screen.getByText('Test description')).toBeInTheDocument();
            expect(_react.screen.getByText('Modal content')).toBeInTheDocument();
        });
        it('calls onOpenChange when close button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onOpenChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                onOpenChange: onOpenChange,
                title: "Test Modal",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Content"
                })
            }));
            const closeButton = _react.screen.getByRole('button', {
                name: /cerrar/i
            });
            await user.click(closeButton);
            expect(onOpenChange).toHaveBeenCalledWith(false);
        });
        it('renders with different sizes', ()=>{
            const { rerender } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                size: "sm",
                title: "Small Modal",
                children: "Content"
            }));
            expect(_react.screen.getByRole('dialog')).toHaveClass('max-w-sm');
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                size: "lg",
                title: "Large Modal",
                children: "Content"
            }));
            expect(_react.screen.getByRole('dialog')).toHaveClass('max-w-lg');
        });
        it('renders with trigger', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                trigger: /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                    children: "Open Modal"
                }),
                title: "Triggered Modal",
                children: "Modal content"
            }));
            const trigger = _react.screen.getByRole('button', {
                name: /open modal/i
            });
            await user.click(trigger);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Triggered Modal')).toBeInTheDocument();
            });
        });
    });
    describe('ConfirmModal', ()=>{
        it('renders with correct variant styling', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm Action",
                description: "Are you sure?",
                variant: "destructive",
                confirmText: "Delete",
                cancelText: "Cancel"
            }));
            expect(_react.screen.getByText('Confirm Action')).toBeInTheDocument();
            expect(_react.screen.getByText('Are you sure?')).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /delete/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /cancel/i
            })).toBeInTheDocument();
        });
        it('calls onConfirm when confirm button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onConfirm = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                onConfirm: onConfirm,
                confirmText: "Confirm"
            }));
            const confirmButton = _react.screen.getByRole('button', {
                name: /confirm/i
            });
            await user.click(confirmButton);
            expect(onConfirm).toHaveBeenCalled();
        });
        it('calls onCancel when cancel button is clicked', async ()=>{
            const user = _userevent.default.setup();
            const onCancel = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                onCancel: onCancel,
                cancelText: "Cancel"
            }));
            const cancelButton = _react.screen.getByRole('button', {
                name: /cancel/i
            });
            await user.click(cancelButton);
            expect(onCancel).toHaveBeenCalled();
        });
        it('shows loading state', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                open: true,
                title: "Confirm",
                loading: true,
                confirmText: "Confirm"
            }));
            expect(_react.screen.getByText('Procesando...')).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /procesando/i
            })).toBeDisabled();
        });
        it('renders different variants with correct icons', ()=>{
            const variants = [
                'destructive',
                'warning',
                'success',
                'info'
            ];
            variants.forEach((variant)=>{
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.ConfirmModal, {
                    open: true,
                    title: `${variant} modal`,
                    variant: variant
                }));
                // Verificar que el modal se renderiza (el ícono específico es difícil de testear)
                expect(_react.screen.getByText(`${variant} modal`)).toBeInTheDocument();
                unmount();
            });
        });
    });
    describe('QuickViewModal', ()=>{
        it('renders with large size by default', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.QuickViewModal, {
                open: true,
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: "Product details"
                })
            }));
            expect(_react.screen.getByText('Product details')).toBeInTheDocument();
            expect(_react.screen.getByRole('dialog')).toHaveClass('max-w-4xl');
        });
    });
    describe('AddToCartModal', ()=>{
        it('renders product information', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.AddToCartModal, {
                open: true,
                productName: "Test Product",
                productImage: "/test-image.jpg"
            }));
            expect(_react.screen.getByText('¡Producto agregado al carrito!')).toBeInTheDocument();
            expect(_react.screen.getByText(/test product/i)).toBeInTheDocument();
            expect(_react.screen.getByRole('img')).toHaveAttribute('src', '/test-image.jpg');
        });
        it('calls action handlers', async ()=>{
            const user = _userevent.default.setup();
            const onContinueShopping = jest.fn();
            const onGoToCart = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.AddToCartModal, {
                open: true,
                productName: "Test Product",
                onContinueShopping: onContinueShopping,
                onGoToCart: onGoToCart
            }));
            const continueButton = _react.screen.getByRole('button', {
                name: /seguir comprando/i
            });
            const cartButton = _react.screen.getByRole('button', {
                name: /ver carrito/i
            });
            await user.click(continueButton);
            expect(onContinueShopping).toHaveBeenCalled();
            await user.click(cartButton);
            expect(onGoToCart).toHaveBeenCalled();
        });
    });
    describe('useModal hook', ()=>{
        function TestComponent() {
            const { open, openModal, closeModal, toggleModal } = (0, _modal.useModal)();
            return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        "data-testid": "modal-state",
                        children: open ? 'open' : 'closed'
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: openModal,
                        children: "Open"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: closeModal,
                        children: "Close"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: toggleModal,
                        children: "Toggle"
                    })
                ]
            });
        }
        it('manages modal state correctly', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponent, {}));
            const state = _react.screen.getByTestId('modal-state');
            const openButton = _react.screen.getByRole('button', {
                name: /open/i
            });
            const closeButton = _react.screen.getByRole('button', {
                name: /close/i
            });
            const toggleButton = _react.screen.getByRole('button', {
                name: /toggle/i
            });
            // Initial state
            expect(state).toHaveTextContent('closed');
            // Open modal
            await user.click(openButton);
            expect(state).toHaveTextContent('open');
            // Close modal
            await user.click(closeButton);
            expect(state).toHaveTextContent('closed');
            // Toggle modal
            await user.click(toggleButton);
            expect(state).toHaveTextContent('open');
            await user.click(toggleButton);
            expect(state).toHaveTextContent('closed');
        });
        it('accepts default open state', ()=>{
            function TestComponentWithDefault() {
                const { open } = (0, _modal.useModal)(true);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    "data-testid": "modal-state",
                    children: open ? 'open' : 'closed'
                });
            }
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestComponentWithDefault, {}));
            expect(_react.screen.getByTestId('modal-state')).toHaveTextContent('open');
        });
    });
    describe('Accessibility', ()=>{
        it('has proper ARIA attributes', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Accessible Modal",
                description: "Modal description",
                children: "Content"
            }));
            const dialog = _react.screen.getByRole('dialog');
            expect(dialog).toBeInTheDocument();
            expect(dialog).toHaveAttribute('aria-describedby');
        });
        it('focuses close button when opened', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                title: "Test Modal",
                children: "Content"
            }));
            // El foco debería estar en el modal o en el botón de cerrar
            const closeButton = _react.screen.getByRole('button', {
                name: /cerrar/i
            });
            expect(closeButton).toBeInTheDocument();
        });
        it('supports keyboard navigation', async ()=>{
            const user = _userevent.default.setup();
            const onOpenChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_modal.Modal, {
                open: true,
                onOpenChange: onOpenChange,
                title: "Test Modal",
                children: "Content"
            }));
            // Escape key should close modal
            await user.keyboard('{Escape}');
            expect(onOpenChange).toHaveBeenCalledWith(false);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxjb21wb25lbnRzXFx1aVxcbW9kYWwudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXHJcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50J1xyXG5pbXBvcnQgeyBNb2RhbCwgQ29uZmlybU1vZGFsLCBRdWlja1ZpZXdNb2RhbCwgQWRkVG9DYXJ0TW9kYWwsIHVzZU1vZGFsIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL21vZGFsJ1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJ1xyXG5cclxuLy8gTW9jayBwYXJhIFJhZGl4IFVJIFBvcnRhbFxyXG5qZXN0Lm1vY2soJ0ByYWRpeC11aS9yZWFjdC1kaWFsb2cnLCAoKSA9PiAoe1xyXG4gIC4uLmplc3QucmVxdWlyZUFjdHVhbCgnQHJhZGl4LXVpL3JlYWN0LWRpYWxvZycpLFxyXG4gIFBvcnRhbDogKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJwb3J0YWxcIj57Y2hpbGRyZW59PC9kaXY+LFxyXG59KSlcclxuXHJcbmplc3QubW9jaygnQHJhZGl4LXVpL3JlYWN0LWFsZXJ0LWRpYWxvZycsICgpID0+ICh7XHJcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCdAcmFkaXgtdWkvcmVhY3QtYWxlcnQtZGlhbG9nJyksXHJcbiAgUG9ydGFsOiAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImFsZXJ0LXBvcnRhbFwiPntjaGlsZHJlbn08L2Rpdj4sXHJcbn0pKVxyXG5cclxuZGVzY3JpYmUoJ01vZGFsIENvbXBvbmVudHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ01vZGFsJywgKCkgPT4ge1xyXG4gICAgaXQoJ3JlbmRlcnMgd2l0aCB0aXRsZSBhbmQgZGVzY3JpcHRpb24nLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8TW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICB0aXRsZT1cIlRlc3QgTW9kYWxcIlxyXG4gICAgICAgICAgZGVzY3JpcHRpb249XCJUZXN0IGRlc2NyaXB0aW9uXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2Pk1vZGFsIGNvbnRlbnQ8L2Rpdj5cclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBNb2RhbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IGRlc2NyaXB0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01vZGFsIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnY2FsbHMgb25PcGVuQ2hhbmdlIHdoZW4gY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxyXG4gICAgICBjb25zdCBvbk9wZW5DaGFuZ2UgPSBqZXN0LmZuKClcclxuXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8TW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICBvbk9wZW5DaGFuZ2U9e29uT3BlbkNoYW5nZX1cclxuICAgICAgICAgIHRpdGxlPVwiVGVzdCBNb2RhbFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdj5Db250ZW50PC9kaXY+XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jZXJyYXIvaSB9KVxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNsb3NlQnV0dG9uKVxyXG5cclxuICAgICAgZXhwZWN0KG9uT3BlbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZmFsc2UpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdyZW5kZXJzIHdpdGggZGlmZmVyZW50IHNpemVzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoXHJcbiAgICAgICAgPE1vZGFsIG9wZW49e3RydWV9IHNpemU9XCJzbVwiIHRpdGxlPVwiU21hbGwgTW9kYWxcIj5cclxuICAgICAgICAgIENvbnRlbnRcclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJykpLnRvSGF2ZUNsYXNzKCdtYXgtdy1zbScpXHJcblxyXG4gICAgICByZXJlbmRlcihcclxuICAgICAgICA8TW9kYWwgb3Blbj17dHJ1ZX0gc2l6ZT1cImxnXCIgdGl0bGU9XCJMYXJnZSBNb2RhbFwiPlxyXG4gICAgICAgICAgQ29udGVudFxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKSkudG9IYXZlQ2xhc3MoJ21heC13LWxnJylcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3JlbmRlcnMgd2l0aCB0cmlnZ2VyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcclxuXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8TW9kYWxcclxuICAgICAgICAgIHRyaWdnZXI9ezxCdXR0b24+T3BlbiBNb2RhbDwvQnV0dG9uPn1cclxuICAgICAgICAgIHRpdGxlPVwiVHJpZ2dlcmVkIE1vZGFsXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICBNb2RhbCBjb250ZW50XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgdHJpZ2dlciA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL29wZW4gbW9kYWwvaSB9KVxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHRyaWdnZXIpXHJcblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVHJpZ2dlcmVkIE1vZGFsJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgZGVzY3JpYmUoJ0NvbmZpcm1Nb2RhbCcsICgpID0+IHtcclxuICAgIGl0KCdyZW5kZXJzIHdpdGggY29ycmVjdCB2YXJpYW50IHN0eWxpbmcnLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8Q29uZmlybU1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgdGl0bGU9XCJDb25maXJtIEFjdGlvblwiXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIkFyZSB5b3Ugc3VyZT9cIlxyXG4gICAgICAgICAgdmFyaWFudD1cImRlc3RydWN0aXZlXCJcclxuICAgICAgICAgIGNvbmZpcm1UZXh0PVwiRGVsZXRlXCJcclxuICAgICAgICAgIGNhbmNlbFRleHQ9XCJDYW5jZWxcIlxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb25maXJtIEFjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBcmUgeW91IHN1cmU/JykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZS9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnY2FsbHMgb25Db25maXJtIHdoZW4gY29uZmlybSBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXHJcbiAgICAgIGNvbnN0IG9uQ29uZmlybSA9IGplc3QuZm4oKVxyXG5cclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxDb25maXJtTW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICB0aXRsZT1cIkNvbmZpcm1cIlxyXG4gICAgICAgICAgb25Db25maXJtPXtvbkNvbmZpcm19XHJcbiAgICAgICAgICBjb25maXJtVGV4dD1cIkNvbmZpcm1cIlxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jb25maXJtL2kgfSlcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhjb25maXJtQnV0dG9uKVxyXG5cclxuICAgICAgZXhwZWN0KG9uQ29uZmlybSkudG9IYXZlQmVlbkNhbGxlZCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdjYWxscyBvbkNhbmNlbCB3aGVuIGNhbmNlbCBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXHJcbiAgICAgIGNvbnN0IG9uQ2FuY2VsID0gamVzdC5mbigpXHJcblxyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPENvbmZpcm1Nb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHRpdGxlPVwiQ29uZmlybVwiXHJcbiAgICAgICAgICBvbkNhbmNlbD17b25DYW5jZWx9XHJcbiAgICAgICAgICBjYW5jZWxUZXh0PVwiQ2FuY2VsXCJcclxuICAgICAgICAvPlxyXG4gICAgICApXHJcblxyXG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KVxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNhbmNlbEJ1dHRvbilcclxuXHJcbiAgICAgIGV4cGVjdChvbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdzaG93cyBsb2FkaW5nIHN0YXRlJywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPENvbmZpcm1Nb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHRpdGxlPVwiQ29uZmlybVwiXHJcbiAgICAgICAgICBsb2FkaW5nPXt0cnVlfVxyXG4gICAgICAgICAgY29uZmlybVRleHQ9XCJDb25maXJtXCJcclxuICAgICAgICAvPlxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvY2VzYW5kby4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcm9jZXNhbmRvL2kgfSkpLnRvQmVEaXNhYmxlZCgpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdyZW5kZXJzIGRpZmZlcmVudCB2YXJpYW50cyB3aXRoIGNvcnJlY3QgaWNvbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhcmlhbnRzID0gWydkZXN0cnVjdGl2ZScsICd3YXJuaW5nJywgJ3N1Y2Nlc3MnLCAnaW5mbyddIGFzIGNvbnN0XHJcblxyXG4gICAgICB2YXJpYW50cy5mb3JFYWNoKHZhcmlhbnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKFxyXG4gICAgICAgICAgPENvbmZpcm1Nb2RhbFxyXG4gICAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgICB0aXRsZT17YCR7dmFyaWFudH0gbW9kYWxgfVxyXG4gICAgICAgICAgICB2YXJpYW50PXt2YXJpYW50fVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgbW9kYWwgc2UgcmVuZGVyaXphIChlbCDDrWNvbm8gZXNwZWPDrWZpY28gZXMgZGlmw61jaWwgZGUgdGVzdGVhcilcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChgJHt2YXJpYW50fSBtb2RhbGApKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgICAgdW5tb3VudCgpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCdRdWlja1ZpZXdNb2RhbCcsICgpID0+IHtcclxuICAgIGl0KCdyZW5kZXJzIHdpdGggbGFyZ2Ugc2l6ZSBieSBkZWZhdWx0JywgKCkgPT4ge1xyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPFF1aWNrVmlld01vZGFsIG9wZW49e3RydWV9PlxyXG4gICAgICAgICAgPGRpdj5Qcm9kdWN0IGRldGFpbHM8L2Rpdj5cclxuICAgICAgICA8L1F1aWNrVmlld01vZGFsPlxyXG4gICAgICApXHJcblxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJvZHVjdCBkZXRhaWxzJykpLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2RpYWxvZycpKS50b0hhdmVDbGFzcygnbWF4LXctNHhsJylcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgZGVzY3JpYmUoJ0FkZFRvQ2FydE1vZGFsJywgKCkgPT4ge1xyXG4gICAgaXQoJ3JlbmRlcnMgcHJvZHVjdCBpbmZvcm1hdGlvbicsICgpID0+IHtcclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxBZGRUb0NhcnRNb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHByb2R1Y3ROYW1lPVwiVGVzdCBQcm9kdWN0XCJcclxuICAgICAgICAgIHByb2R1Y3RJbWFnZT1cIi90ZXN0LWltYWdlLmpwZ1wiXHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG5cclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ8KhUHJvZHVjdG8gYWdyZWdhZG8gYWwgY2Fycml0byEnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvdGVzdCBwcm9kdWN0L2kpKS50b0JlSW5UaGVEb2N1bWVudCgpXHJcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdpbWcnKSkudG9IYXZlQXR0cmlidXRlKCdzcmMnLCAnL3Rlc3QtaW1hZ2UuanBnJylcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ2NhbGxzIGFjdGlvbiBoYW5kbGVycycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXHJcbiAgICAgIGNvbnN0IG9uQ29udGludWVTaG9wcGluZyA9IGplc3QuZm4oKVxyXG4gICAgICBjb25zdCBvbkdvVG9DYXJ0ID0gamVzdC5mbigpXHJcblxyXG4gICAgICByZW5kZXIoXHJcbiAgICAgICAgPEFkZFRvQ2FydE1vZGFsXHJcbiAgICAgICAgICBvcGVuPXt0cnVlfVxyXG4gICAgICAgICAgcHJvZHVjdE5hbWU9XCJUZXN0IFByb2R1Y3RcIlxyXG4gICAgICAgICAgb25Db250aW51ZVNob3BwaW5nPXtvbkNvbnRpbnVlU2hvcHBpbmd9XHJcbiAgICAgICAgICBvbkdvVG9DYXJ0PXtvbkdvVG9DYXJ0fVxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IGNvbnRpbnVlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2VndWlyIGNvbXByYW5kby9pIH0pXHJcbiAgICAgIGNvbnN0IGNhcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC92ZXIgY2Fycml0by9pIH0pXHJcblxyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNvbnRpbnVlQnV0dG9uKVxyXG4gICAgICBleHBlY3Qob25Db250aW51ZVNob3BwaW5nKS50b0hhdmVCZWVuQ2FsbGVkKClcclxuXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2FydEJ1dHRvbilcclxuICAgICAgZXhwZWN0KG9uR29Ub0NhcnQpLnRvSGF2ZUJlZW5DYWxsZWQoKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgndXNlTW9kYWwgaG9vaycsICgpID0+IHtcclxuICAgIGZ1bmN0aW9uIFRlc3RDb21wb25lbnQoKSB7XHJcbiAgICAgIGNvbnN0IHsgb3Blbiwgb3Blbk1vZGFsLCBjbG9zZU1vZGFsLCB0b2dnbGVNb2RhbCB9ID0gdXNlTW9kYWwoKVxyXG5cclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPHNwYW4gZGF0YS10ZXN0aWQ9XCJtb2RhbC1zdGF0ZVwiPntvcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCd9PC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvcGVuTW9kYWx9Pk9wZW48L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2xvc2VNb2RhbH0+Q2xvc2U8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlTW9kYWx9PlRvZ2dsZTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaXQoJ21hbmFnZXMgbW9kYWwgc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKClcclxuICAgICAgcmVuZGVyKDxUZXN0Q29tcG9uZW50IC8+KVxyXG5cclxuICAgICAgY29uc3Qgc3RhdGUgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ21vZGFsLXN0YXRlJylcclxuICAgICAgY29uc3Qgb3BlbkJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL29wZW4vaSB9KVxyXG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2Nsb3NlL2kgfSlcclxuICAgICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdG9nZ2xlL2kgfSlcclxuXHJcbiAgICAgIC8vIEluaXRpYWwgc3RhdGVcclxuICAgICAgZXhwZWN0KHN0YXRlKS50b0hhdmVUZXh0Q29udGVudCgnY2xvc2VkJylcclxuXHJcbiAgICAgIC8vIE9wZW4gbW9kYWxcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhvcGVuQnV0dG9uKVxyXG4gICAgICBleHBlY3Qoc3RhdGUpLnRvSGF2ZVRleHRDb250ZW50KCdvcGVuJylcclxuXHJcbiAgICAgIC8vIENsb3NlIG1vZGFsXHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2xvc2VCdXR0b24pXHJcbiAgICAgIGV4cGVjdChzdGF0ZSkudG9IYXZlVGV4dENvbnRlbnQoJ2Nsb3NlZCcpXHJcblxyXG4gICAgICAvLyBUb2dnbGUgbW9kYWxcclxuICAgICAgYXdhaXQgdXNlci5jbGljayh0b2dnbGVCdXR0b24pXHJcbiAgICAgIGV4cGVjdChzdGF0ZSkudG9IYXZlVGV4dENvbnRlbnQoJ29wZW4nKVxyXG5cclxuICAgICAgYXdhaXQgdXNlci5jbGljayh0b2dnbGVCdXR0b24pXHJcbiAgICAgIGV4cGVjdChzdGF0ZSkudG9IYXZlVGV4dENvbnRlbnQoJ2Nsb3NlZCcpXHJcbiAgICB9KVxyXG5cclxuICAgIGl0KCdhY2NlcHRzIGRlZmF1bHQgb3BlbiBzdGF0ZScsICgpID0+IHtcclxuICAgICAgZnVuY3Rpb24gVGVzdENvbXBvbmVudFdpdGhEZWZhdWx0KCkge1xyXG4gICAgICAgIGNvbnN0IHsgb3BlbiB9ID0gdXNlTW9kYWwodHJ1ZSlcclxuICAgICAgICByZXR1cm4gPHNwYW4gZGF0YS10ZXN0aWQ9XCJtb2RhbC1zdGF0ZVwiPntvcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCd9PC9zcGFuPlxyXG4gICAgICB9XHJcblxyXG4gICAgICByZW5kZXIoPFRlc3RDb21wb25lbnRXaXRoRGVmYXVsdCAvPilcclxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnbW9kYWwtc3RhdGUnKSkudG9IYXZlVGV4dENvbnRlbnQoJ29wZW4nKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcclxuICAgIGl0KCdoYXMgcHJvcGVyIEFSSUEgYXR0cmlidXRlcycsICgpID0+IHtcclxuICAgICAgcmVuZGVyKFxyXG4gICAgICAgIDxNb2RhbFxyXG4gICAgICAgICAgb3Blbj17dHJ1ZX1cclxuICAgICAgICAgIHRpdGxlPVwiQWNjZXNzaWJsZSBNb2RhbFwiXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIk1vZGFsIGRlc2NyaXB0aW9uXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICBDb250ZW50XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgY29uc3QgZGlhbG9nID0gc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJylcclxuICAgICAgZXhwZWN0KGRpYWxvZykudG9CZUluVGhlRG9jdW1lbnQoKVxyXG4gICAgICBleHBlY3QoZGlhbG9nKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKVxyXG4gICAgfSlcclxuXHJcbiAgICBpdCgnZm9jdXNlcyBjbG9zZSBidXR0b24gd2hlbiBvcGVuZWQnLCAoKSA9PiB7XHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8TW9kYWwgb3Blbj17dHJ1ZX0gdGl0bGU9XCJUZXN0IE1vZGFsXCI+XHJcbiAgICAgICAgICBDb250ZW50XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgKVxyXG5cclxuICAgICAgLy8gRWwgZm9jbyBkZWJlcsOtYSBlc3RhciBlbiBlbCBtb2RhbCBvIGVuIGVsIGJvdMOzbiBkZSBjZXJyYXJcclxuICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jZXJyYXIvaSB9KVxyXG4gICAgICBleHBlY3QoY2xvc2VCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KClcclxuICAgIH0pXHJcblxyXG4gICAgaXQoJ3N1cHBvcnRzIGtleWJvYXJkIG5hdmlnYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxyXG4gICAgICBjb25zdCBvbk9wZW5DaGFuZ2UgPSBqZXN0LmZuKClcclxuXHJcbiAgICAgIHJlbmRlcihcclxuICAgICAgICA8TW9kYWxcclxuICAgICAgICAgIG9wZW49e3RydWV9XHJcbiAgICAgICAgICBvbk9wZW5DaGFuZ2U9e29uT3BlbkNoYW5nZX1cclxuICAgICAgICAgIHRpdGxlPVwiVGVzdCBNb2RhbFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgQ29udGVudFxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgIClcclxuXHJcbiAgICAgIC8vIEVzY2FwZSBrZXkgc2hvdWxkIGNsb3NlIG1vZGFsXHJcbiAgICAgIGF3YWl0IHVzZXIua2V5Ym9hcmQoJ3tFc2NhcGV9JylcclxuICAgICAgZXhwZWN0KG9uT3BlbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZmFsc2UpXHJcbiAgICB9KVxyXG4gIH0pXHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInJlcXVpcmVBY3R1YWwiLCJQb3J0YWwiLCJjaGlsZHJlbiIsImRpdiIsImRhdGEtdGVzdGlkIiwiZGVzY3JpYmUiLCJpdCIsInJlbmRlciIsIk1vZGFsIiwib3BlbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsIm9uT3BlbkNoYW5nZSIsImZuIiwiY2xvc2VCdXR0b24iLCJnZXRCeVJvbGUiLCJuYW1lIiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInJlcmVuZGVyIiwic2l6ZSIsInRvSGF2ZUNsYXNzIiwidHJpZ2dlciIsIkJ1dHRvbiIsIndhaXRGb3IiLCJDb25maXJtTW9kYWwiLCJ2YXJpYW50IiwiY29uZmlybVRleHQiLCJjYW5jZWxUZXh0Iiwib25Db25maXJtIiwiY29uZmlybUJ1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJvbkNhbmNlbCIsImNhbmNlbEJ1dHRvbiIsImxvYWRpbmciLCJ0b0JlRGlzYWJsZWQiLCJ2YXJpYW50cyIsImZvckVhY2giLCJ1bm1vdW50IiwiUXVpY2tWaWV3TW9kYWwiLCJBZGRUb0NhcnRNb2RhbCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdEltYWdlIiwidG9IYXZlQXR0cmlidXRlIiwib25Db250aW51ZVNob3BwaW5nIiwib25Hb1RvQ2FydCIsImNvbnRpbnVlQnV0dG9uIiwiY2FydEJ1dHRvbiIsIlRlc3RDb21wb25lbnQiLCJvcGVuTW9kYWwiLCJjbG9zZU1vZGFsIiwidG9nZ2xlTW9kYWwiLCJ1c2VNb2RhbCIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwic3RhdGUiLCJnZXRCeVRlc3RJZCIsIm9wZW5CdXR0b24iLCJ0b2dnbGVCdXR0b24iLCJ0b0hhdmVU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