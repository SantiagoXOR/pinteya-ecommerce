d3e938c79717eca13d1dc5282034f72b
/**
 * useAnalytics Hook Tests
 * Enterprise-ready test suite for analytics tracking
 * Pinteya E-commerce
 */ "use strict";
// Mock useAuth hook
jest.mock('@/hooks/useAuth', ()=>({
        useAuth: ()=>({
                user: {
                    id: 'test-user-123',
                    email: 'test@example.com'
                },
                isLoaded: true
            })
    }));
// Mock usePathname
jest.mock('next/navigation', ()=>({
        usePathname: ()=>'/test-page'
    }));
// Mock analytics lib
jest.mock('@/lib/analytics', ()=>({
        analytics: {
            trackEvent: jest.fn().mockResolvedValue(undefined),
            trackEcommerceEvent: jest.fn().mockResolvedValue(undefined),
            trackPageView: jest.fn().mockResolvedValue(undefined),
            trackConversion: jest.fn().mockResolvedValue(undefined),
            trackProductView: jest.fn().mockResolvedValue(undefined),
            trackAddToCart: jest.fn().mockResolvedValue(undefined),
            trackRemoveFromCart: jest.fn().mockResolvedValue(undefined),
            trackCheckoutStart: jest.fn().mockResolvedValue(undefined),
            trackPurchase: jest.fn().mockResolvedValue(undefined),
            trackSearch: jest.fn().mockResolvedValue(undefined),
            getEvents: jest.fn(()=>[]),
            getInteractions: jest.fn(()=>[]),
            getConversionMetrics: jest.fn(()=>({
                    cartAdditions: 5,
                    cartRemovals: 1,
                    checkoutStarts: 3,
                    checkoutCompletions: 2,
                    productViews: 25,
                    categoryViews: 8,
                    searchQueries: 12,
                    conversionRate: 0.08,
                    averageOrderValue: 150.75,
                    cartAbandonmentRate: 0.33
                })),
            getSessionId: jest.fn(()=>'test-session-123'),
            initialize: jest.fn().mockResolvedValue(undefined)
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useAnalytics = require("../../hooks/useAnalytics");
const _analytics = require("../../lib/analytics");
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
describe('useAnalytics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Initialization', ()=>{
        it('should initialize with correct default state', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            expect(result.current.sessionMetrics).toBeDefined();
            expect(typeof result.current.trackEvent).toBe('function');
            expect(typeof result.current.trackPageView).toBe('function');
            expect(typeof result.current.getSessionId).toBe('function');
        });
        it('should provide all required tracking functions', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const expectedFunctions = [
                'trackEvent',
                'trackEcommerceEvent',
                'trackPageView',
                'trackConversion',
                'trackProductView',
                'trackAddToCart',
                'trackRemoveFromCart',
                'trackCheckoutStart',
                'trackPurchase',
                'trackSearch'
            ];
            expectedFunctions.forEach((funcName)=>{
                expect(typeof result.current[funcName]).toBe('function');
            });
        });
    });
    describe('Event Tracking', ()=>{
        it('should track generic events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);
            });
            expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('test_event', 'test_category', 'test_action', 'test_label', 100, undefined);
        });
        it('should track product view events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);
            });
            expect(_analytics.analytics.trackProductView).toHaveBeenCalledWith('prod-123', 'Test Product', 'Electronics', 99.99);
        });
        it('should track add to cart events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);
            });
            expect(_analytics.analytics.trackAddToCart).toHaveBeenCalledWith('prod-123', 'Test Product', 99.99, 2);
        });
        it('should track checkout start events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackCheckoutStart(299.98, 3);
            });
            expect(_analytics.analytics.trackCheckoutStart).toHaveBeenCalledWith(299.98, 3);
        });
        it('should track purchase events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const mockItems = [
                {
                    id: 'item1',
                    name: 'Product 1',
                    price: 99.99
                }
            ];
            (0, _react.act)(()=>{
                result.current.trackPurchase('order-123', 299.98, mockItems);
            });
            expect(_analytics.analytics.trackPurchase).toHaveBeenCalledWith('order-123', 299.98, mockItems);
        });
        it('should track search events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackSearch('test query', 15);
            });
            expect(_analytics.analytics.trackSearch).toHaveBeenCalledWith('test query', 15);
        });
    });
    describe('Data Retrieval', ()=>{
        it('should get events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const events = result.current.getEvents();
            expect(_analytics.analytics.getEvents).toHaveBeenCalled();
            expect(Array.isArray(events)).toBe(true);
        });
        it('should get session ID correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const sessionId = result.current.getSessionId();
            expect(_analytics.analytics.getSessionId).toHaveBeenCalled();
            expect(sessionId).toBe('test-session-123');
        });
        it('should get conversion metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const metrics = result.current.getConversionMetrics();
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
            expect(metrics).toEqual({
                cartAdditions: 5,
                cartRemovals: 1,
                checkoutStarts: 3,
                checkoutCompletions: 2,
                productViews: 25,
                categoryViews: 8,
                searchQueries: 12,
                conversionRate: 0.08,
                averageOrderValue: 150.75,
                cartAbandonmentRate: 0.33
            });
        });
    });
    describe('State Management', ()=>{
        it('should toggle enabled state correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            (0, _react.act)(()=>{
                result.current.setEnabled(false);
            });
            expect(result.current.isEnabled).toBe(false);
            (0, _react.act)(()=>{
                result.current.setEnabled(true);
            });
            expect(result.current.isEnabled).toBe(true);
        });
        it('should refresh metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.refreshMetrics();
            });
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
        });
    });
});
describe('useRealTimeMetrics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.useRealTimers();
    });
    it('should initialize with metrics from analytics', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)());
        expect(result.current).toEqual({
            cartAdditions: 5,
            cartRemovals: 1,
            checkoutStarts: 3,
            checkoutCompletions: 2,
            productViews: 25,
            categoryViews: 8,
            searchQueries: 12,
            conversionRate: 0.08,
            averageOrderValue: 150.75,
            cartAbandonmentRate: 0.33
        });
    });
    it('should update metrics at specified interval', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)(1000));
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(1);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(2);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(3);
    });
});
describe('useComponentTracking Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should track component mount and unmount', ()=>{
        const { unmount } = (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent'));
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_mount', 'ui', 'mount', 'TestComponent', undefined, undefined);
        unmount();
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_unmount', 'ui', 'unmount', 'TestComponent', undefined, undefined);
    });
    it('should not track mount when trackMount is false', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent', false));
        expect(_analytics.analytics.trackEvent).not.toHaveBeenCalledWith('component_mount', 'ui', 'mount', 'TestComponent', undefined, undefined);
    });
    it('should provide trackComponentEvent function', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useComponentTracking)('TestComponent'));
        (0, _react.act)(()=>{
            result.current.trackComponentEvent('click', {
                button: 'primary'
            });
        });
        expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('component_interaction', 'ui', 'click', 'TestComponent', undefined, {
            button: 'primary'
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiB1c2VBbmFseXRpY3MgSG9vayBUZXN0c1xuICogRW50ZXJwcmlzZS1yZWFkeSB0ZXN0IHN1aXRlIGZvciBhbmFseXRpY3MgdHJhY2tpbmdcbiAqIFBpbnRleWEgRS1jb21tZXJjZVxuICovXG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlQW5hbHl0aWNzLCB1c2VSZWFsVGltZU1ldHJpY3MsIHVzZUNvbXBvbmVudFRyYWNraW5nIH0gZnJvbSAnQC9ob29rcy91c2VBbmFseXRpY3MnO1xuaW1wb3J0IHsgYW5hbHl0aWNzIH0gZnJvbSAnQC9saWIvYW5hbHl0aWNzJztcblxuLy8gTW9jayB1c2VBdXRoIGhvb2tcbmplc3QubW9jaygnQC9ob29rcy91c2VBdXRoJywgKCkgPT4gKHtcbiAgdXNlQXV0aDogKCkgPT4gKHtcbiAgICB1c2VyOiB7IGlkOiAndGVzdC11c2VyLTEyMycsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2sgdXNlUGF0aG5hbWVcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUGF0aG5hbWU6ICgpID0+ICcvdGVzdC1wYWdlJyxcbn0pKTtcblxuLy8gTW9jayBhbmFseXRpY3MgbGliXG5qZXN0Lm1vY2soJ0AvbGliL2FuYWx5dGljcycsICgpID0+ICh7XG4gIGFuYWx5dGljczoge1xuICAgIHRyYWNrRXZlbnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHRyYWNrRWNvbW1lcmNlRXZlbnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHRyYWNrUGFnZVZpZXc6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHRyYWNrQ29udmVyc2lvbjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tQcm9kdWN0VmlldzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tBZGRUb0NhcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHRyYWNrUmVtb3ZlRnJvbUNhcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHRyYWNrQ2hlY2tvdXRTdGFydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tQdXJjaGFzZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tTZWFyY2g6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIGdldEV2ZW50czogamVzdC5mbigoKSA9PiBbXSksXG4gICAgZ2V0SW50ZXJhY3Rpb25zOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICBnZXRDb252ZXJzaW9uTWV0cmljczogamVzdC5mbigoKSA9PiAoe1xuICAgICAgY2FydEFkZGl0aW9uczogNSxcbiAgICAgIGNhcnRSZW1vdmFsczogMSxcbiAgICAgIGNoZWNrb3V0U3RhcnRzOiAzLFxuICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcbiAgICAgIHByb2R1Y3RWaWV3czogMjUsXG4gICAgICBjYXRlZ29yeVZpZXdzOiA4LFxuICAgICAgc2VhcmNoUXVlcmllczogMTIsXG4gICAgICBjb252ZXJzaW9uUmF0ZTogMC4wOCxcbiAgICAgIGF2ZXJhZ2VPcmRlclZhbHVlOiAxNTAuNzUsXG4gICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxuICAgIH0pKSxcbiAgICBnZXRTZXNzaW9uSWQ6IGplc3QuZm4oKCkgPT4gJ3Rlc3Qtc2Vzc2lvbi0xMjMnKSxcbiAgICBpbml0aWFsaXplOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayB3aW5kb3cuZ3RhZ1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2d0YWcnLCB7XG4gIHZhbHVlOiBqZXN0LmZuKCksXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbmRlc2NyaWJlKCd1c2VBbmFseXRpY3MgSG9vaycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbml0aWFsaXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgd2l0aCBjb3JyZWN0IGRlZmF1bHQgc3RhdGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2Vzc2lvbk1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnRyYWNrRXZlbnQpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnRyYWNrUGFnZVZpZXcpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmdldFNlc3Npb25JZCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhbGwgcmVxdWlyZWQgdHJhY2tpbmcgZnVuY3Rpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBjb25zdCBleHBlY3RlZEZ1bmN0aW9ucyA9IFtcbiAgICAgICAgJ3RyYWNrRXZlbnQnLFxuICAgICAgICAndHJhY2tFY29tbWVyY2VFdmVudCcsXG4gICAgICAgICd0cmFja1BhZ2VWaWV3JyxcbiAgICAgICAgJ3RyYWNrQ29udmVyc2lvbicsXG4gICAgICAgICd0cmFja1Byb2R1Y3RWaWV3JyxcbiAgICAgICAgJ3RyYWNrQWRkVG9DYXJ0JyxcbiAgICAgICAgJ3RyYWNrUmVtb3ZlRnJvbUNhcnQnLFxuICAgICAgICAndHJhY2tDaGVja291dFN0YXJ0JyxcbiAgICAgICAgJ3RyYWNrUHVyY2hhc2UnLFxuICAgICAgICAndHJhY2tTZWFyY2gnLFxuICAgICAgXTtcblxuICAgICAgZXhwZWN0ZWRGdW5jdGlvbnMuZm9yRWFjaChmdW5jTmFtZSA9PiB7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnRbZnVuY05hbWVdKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFdmVudCBUcmFja2luZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGdlbmVyaWMgZXZlbnRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudCgndGVzdF9ldmVudCcsICd0ZXN0X2NhdGVnb3J5JywgJ3Rlc3RfYWN0aW9uJywgJ3Rlc3RfbGFiZWwnLCAxMDApO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tFdmVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICd0ZXN0X2V2ZW50JyxcbiAgICAgICAgJ3Rlc3RfY2F0ZWdvcnknLFxuICAgICAgICAndGVzdF9hY3Rpb24nLFxuICAgICAgICAndGVzdF9sYWJlbCcsXG4gICAgICAgIDEwMCxcbiAgICAgICAgdW5kZWZpbmVkXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBwcm9kdWN0IHZpZXcgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1Byb2R1Y3RWaWV3KCdwcm9kLTEyMycsICdUZXN0IFByb2R1Y3QnLCAnRWxlY3Ryb25pY3MnLCA5OS45OSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja1Byb2R1Y3RWaWV3KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ3Byb2QtMTIzJyxcbiAgICAgICAgJ1Rlc3QgUHJvZHVjdCcsXG4gICAgICAgICdFbGVjdHJvbmljcycsXG4gICAgICAgIDk5Ljk5XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBhZGQgdG8gY2FydCBldmVudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrQWRkVG9DYXJ0KCdwcm9kLTEyMycsICdUZXN0IFByb2R1Y3QnLCA5OS45OSwgMik7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0FkZFRvQ2FydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdwcm9kLTEyMycsXG4gICAgICAgICdUZXN0IFByb2R1Y3QnLFxuICAgICAgICA5OS45OSxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgY2hlY2tvdXQgc3RhcnQgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0NoZWNrb3V0U3RhcnQoMjk5Ljk4LCAzKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrQ2hlY2tvdXRTdGFydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMjk5Ljk4LCAzKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgcHVyY2hhc2UgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuICAgICAgY29uc3QgbW9ja0l0ZW1zID0gW3sgaWQ6ICdpdGVtMScsIG5hbWU6ICdQcm9kdWN0IDEnLCBwcmljZTogOTkuOTkgfV07XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrUHVyY2hhc2UoJ29yZGVyLTEyMycsIDI5OS45OCwgbW9ja0l0ZW1zKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrUHVyY2hhc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdvcmRlci0xMjMnLCAyOTkuOTgsIG1vY2tJdGVtcyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIHNlYXJjaCBldmVudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrU2VhcmNoKCd0ZXN0IHF1ZXJ5JywgMTUpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MudHJhY2tTZWFyY2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0IHF1ZXJ5JywgMTUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YSBSZXRyaWV2YWwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZXQgZXZlbnRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgY29uc3QgZXZlbnRzID0gcmVzdWx0LmN1cnJlbnQuZ2V0RXZlbnRzKCk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldEV2ZW50cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZXZlbnRzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHNlc3Npb24gSUQgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBjb25zdCBzZXNzaW9uSWQgPSByZXN1bHQuY3VycmVudC5nZXRTZXNzaW9uSWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0U2Vzc2lvbklkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3Qoc2Vzc2lvbklkKS50b0JlKCd0ZXN0LXNlc3Npb24tMTIzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCBjb252ZXJzaW9uIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q29udmVyc2lvbk1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0VxdWFsKHtcbiAgICAgICAgY2FydEFkZGl0aW9uczogNSxcbiAgICAgICAgY2FydFJlbW92YWxzOiAxLFxuICAgICAgICBjaGVja291dFN0YXJ0czogMyxcbiAgICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcbiAgICAgICAgcHJvZHVjdFZpZXdzOiAyNSxcbiAgICAgICAgY2F0ZWdvcnlWaWV3czogOCxcbiAgICAgICAgc2VhcmNoUXVlcmllczogMTIsXG4gICAgICAgIGNvbnZlcnNpb25SYXRlOiAwLjA4LFxuICAgICAgICBhdmVyYWdlT3JkZXJWYWx1ZTogMTUwLjc1LFxuICAgICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGF0ZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGVuYWJsZWQgc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKGZhbHNlKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWZyZXNoIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZWZyZXNoTWV0cmljcygpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3VzZVJlYWxUaW1lTWV0cmljcyBIb29rJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggbWV0cmljcyBmcm9tIGFuYWx5dGljcycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VSZWFsVGltZU1ldHJpY3MoKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvRXF1YWwoe1xuICAgICAgY2FydEFkZGl0aW9uczogNSxcbiAgICAgIGNhcnRSZW1vdmFsczogMSxcbiAgICAgIGNoZWNrb3V0U3RhcnRzOiAzLFxuICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcbiAgICAgIHByb2R1Y3RWaWV3czogMjUsXG4gICAgICBjYXRlZ29yeVZpZXdzOiA4LFxuICAgICAgc2VhcmNoUXVlcmllczogMTIsXG4gICAgICBjb252ZXJzaW9uUmF0ZTogMC4wOCxcbiAgICAgIGF2ZXJhZ2VPcmRlclZhbHVlOiAxNTAuNzUsXG4gICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHVwZGF0ZSBtZXRyaWNzIGF0IHNwZWNpZmllZCBpbnRlcnZhbCcsICgpID0+IHtcbiAgICByZW5kZXJIb29rKCgpID0+IHVzZVJlYWxUaW1lTWV0cmljcygxMDAwKSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDApO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3VzZUNvbXBvbmVudFRyYWNraW5nIEhvb2snLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRyYWNrIGNvbXBvbmVudCBtb3VudCBhbmQgdW5tb3VudCcsICgpID0+IHtcbiAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ29tcG9uZW50VHJhY2tpbmcoJ1Rlc3RDb21wb25lbnQnKSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgJ2NvbXBvbmVudF9tb3VudCcsXG4gICAgICAndWknLFxuICAgICAgJ21vdW50JyxcbiAgICAgICdUZXN0Q29tcG9uZW50JyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG5cbiAgICB1bm1vdW50KCk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgJ2NvbXBvbmVudF91bm1vdW50JyxcbiAgICAgICd1aScsXG4gICAgICAndW5tb3VudCcsXG4gICAgICAnVGVzdENvbXBvbmVudCcsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCB0cmFjayBtb3VudCB3aGVuIHRyYWNrTW91bnQgaXMgZmFsc2UnLCAoKSA9PiB7XG4gICAgcmVuZGVySG9vaygoKSA9PiB1c2VDb21wb25lbnRUcmFja2luZygnVGVzdENvbXBvbmVudCcsIGZhbHNlKSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRXZlbnQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICdjb21wb25lbnRfbW91bnQnLFxuICAgICAgJ3VpJyxcbiAgICAgICdtb3VudCcsXG4gICAgICAnVGVzdENvbXBvbmVudCcsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHByb3ZpZGUgdHJhY2tDb21wb25lbnRFdmVudCBmdW5jdGlvbicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDb21wb25lbnRUcmFja2luZygnVGVzdENvbXBvbmVudCcpKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC50cmFja0NvbXBvbmVudEV2ZW50KCdjbGljaycsIHsgYnV0dG9uOiAncHJpbWFyeScgfSk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgJ2NvbXBvbmVudF9pbnRlcmFjdGlvbicsXG4gICAgICAndWknLFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICdUZXN0Q29tcG9uZW50JyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHsgYnV0dG9uOiAncHJpbWFyeScgfVxuICAgICk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlQXV0aCIsInVzZXIiLCJpZCIsImVtYWlsIiwiaXNMb2FkZWQiLCJ1c2VQYXRobmFtZSIsImFuYWx5dGljcyIsInRyYWNrRXZlbnQiLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidW5kZWZpbmVkIiwidHJhY2tFY29tbWVyY2VFdmVudCIsInRyYWNrUGFnZVZpZXciLCJ0cmFja0NvbnZlcnNpb24iLCJ0cmFja1Byb2R1Y3RWaWV3IiwidHJhY2tBZGRUb0NhcnQiLCJ0cmFja1JlbW92ZUZyb21DYXJ0IiwidHJhY2tDaGVja291dFN0YXJ0IiwidHJhY2tQdXJjaGFzZSIsInRyYWNrU2VhcmNoIiwiZ2V0RXZlbnRzIiwiZ2V0SW50ZXJhY3Rpb25zIiwiZ2V0Q29udmVyc2lvbk1ldHJpY3MiLCJjYXJ0QWRkaXRpb25zIiwiY2FydFJlbW92YWxzIiwiY2hlY2tvdXRTdGFydHMiLCJjaGVja291dENvbXBsZXRpb25zIiwicHJvZHVjdFZpZXdzIiwiY2F0ZWdvcnlWaWV3cyIsInNlYXJjaFF1ZXJpZXMiLCJjb252ZXJzaW9uUmF0ZSIsImF2ZXJhZ2VPcmRlclZhbHVlIiwiY2FydEFiYW5kb25tZW50UmF0ZSIsImdldFNlc3Npb25JZCIsImluaXRpYWxpemUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsInZhbHVlIiwid3JpdGFibGUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlQW5hbHl0aWNzIiwiZXhwZWN0IiwiY3VycmVudCIsImlzRW5hYmxlZCIsInRvQmUiLCJzZXNzaW9uTWV0cmljcyIsInRvQmVEZWZpbmVkIiwiZXhwZWN0ZWRGdW5jdGlvbnMiLCJmb3JFYWNoIiwiZnVuY05hbWUiLCJhY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tJdGVtcyIsIm5hbWUiLCJwcmljZSIsImV2ZW50cyIsInRvSGF2ZUJlZW5DYWxsZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXNzaW9uSWQiLCJtZXRyaWNzIiwidG9FcXVhbCIsInNldEVuYWJsZWQiLCJyZWZyZXNoTWV0cmljcyIsInVzZUZha2VUaW1lcnMiLCJhZnRlckVhY2giLCJ1c2VSZWFsVGltZXJzIiwidXNlUmVhbFRpbWVNZXRyaWNzIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsInVubW91bnQiLCJ1c2VDb21wb25lbnRUcmFja2luZyIsIm5vdCIsInRyYWNrQ29tcG9uZW50RXZlbnQiLCJidXR0b24iXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUM7QUFNRCxvQkFBb0I7QUFDcEJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxTQUFTLElBQU8sQ0FBQTtnQkFDZEMsTUFBTTtvQkFBRUMsSUFBSTtvQkFBaUJDLE9BQU87Z0JBQW1CO2dCQUN2REMsVUFBVTtZQUNaLENBQUE7SUFDRixDQUFBO0FBRUEsbUJBQW1CO0FBQ25CTixLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ00sYUFBYSxJQUFNO0lBQ3JCLENBQUE7QUFFQSxxQkFBcUI7QUFDckJQLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDTyxXQUFXO1lBQ1RDLFlBQVlULEtBQUtVLEVBQUUsR0FBR0MsaUJBQWlCLENBQUNDO1lBQ3hDQyxxQkFBcUJiLEtBQUtVLEVBQUUsR0FBR0MsaUJBQWlCLENBQUNDO1lBQ2pERSxlQUFlZCxLQUFLVSxFQUFFLEdBQUdDLGlCQUFpQixDQUFDQztZQUMzQ0csaUJBQWlCZixLQUFLVSxFQUFFLEdBQUdDLGlCQUFpQixD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