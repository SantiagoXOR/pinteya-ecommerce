6a5a11736bbfbd17e8dd7b9755e6ac65
/**
 * useAnalytics Hook Tests
 * Enterprise-ready test suite for analytics tracking
 * Pinteya E-commerce
 */ "use strict";
// Mock useAuth hook
jest.mock('@/hooks/useAuth', ()=>({
        useAuth: ()=>({
                user: {
                    id: 'test-user-123',
                    email: 'test@example.com'
                },
                isLoaded: true
            })
    }));
// Mock usePathname
jest.mock('next/navigation', ()=>({
        usePathname: ()=>'/test-page'
    }));
// Mock analytics lib
jest.mock('@/lib/analytics', ()=>({
        analytics: {
            trackEvent: jest.fn().mockResolvedValue(undefined),
            trackEcommerceEvent: jest.fn().mockResolvedValue(undefined),
            trackPageView: jest.fn().mockResolvedValue(undefined),
            trackConversion: jest.fn().mockResolvedValue(undefined),
            trackProductView: jest.fn().mockResolvedValue(undefined),
            trackAddToCart: jest.fn().mockResolvedValue(undefined),
            trackRemoveFromCart: jest.fn().mockResolvedValue(undefined),
            trackCheckoutStart: jest.fn().mockResolvedValue(undefined),
            trackPurchase: jest.fn().mockResolvedValue(undefined),
            trackSearch: jest.fn().mockResolvedValue(undefined),
            getEvents: jest.fn(()=>[]),
            getInteractions: jest.fn(()=>[]),
            getConversionMetrics: jest.fn(()=>({
                    cartAdditions: 5,
                    cartRemovals: 1,
                    checkoutStarts: 3,
                    checkoutCompletions: 2,
                    productViews: 25,
                    categoryViews: 8,
                    searchQueries: 12,
                    conversionRate: 0.08,
                    averageOrderValue: 150.75,
                    cartAbandonmentRate: 0.33
                })),
            getSessionId: jest.fn(()=>'test-session-123'),
            initialize: jest.fn().mockResolvedValue(undefined),
            enable: jest.fn(),
            disable: jest.fn(),
            getMetrics: jest.fn(()=>({
                    pageViews: 100,
                    uniqueVisitors: 50,
                    bounceRate: 0.3,
                    avgSessionDuration: 180,
                    conversionRate: 0.05,
                    totalRevenue: 1000
                })),
            isEnabled: true
        }
    }));
// Mock optimized analytics
jest.mock('@/lib/analytics-optimized', ()=>({
        optimizedAnalytics: {
            trackEvent: jest.fn().mockResolvedValue(undefined)
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useAnalytics = require("../../hooks/useAnalytics");
const _analytics = require("../../lib/analytics");
// Mock window.gtag
Object.defineProperty(window, 'gtag', {
    value: jest.fn(),
    writable: true
});
describe('useAnalytics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Initialization', ()=>{
        it('should initialize with correct default state', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            expect(result.current.sessionMetrics).toBeDefined();
            expect(typeof result.current.trackEvent).toBe('function');
            expect(typeof result.current.trackPageView).toBe('function');
            expect(typeof result.current.getSessionId).toBe('function');
        });
        it('should provide all required tracking functions', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const expectedFunctions = [
                'trackEvent',
                'trackEcommerceEvent',
                'trackPageView',
                'trackConversion',
                'trackProductView',
                'trackAddToCart',
                'trackRemoveFromCart',
                'trackCheckoutStart',
                'trackPurchase',
                'trackSearch'
            ];
            expectedFunctions.forEach((funcName)=>{
                expect(typeof result.current[funcName]).toBe('function');
            });
        });
    });
    describe('Event Tracking', ()=>{
        it('should track generic events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackEvent('test_event', 'test_category', 'test_action', 'test_label', 100);
            });
            expect(_analytics.analytics.trackEvent).toHaveBeenCalledWith('test_event', 'test_category', 'test_action', 'test_label', 100, undefined);
        });
        it('should track product view events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackProductView('prod-123', 'Test Product', 'Electronics', 99.99);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('view_item', {
                item_id: 'prod-123',
                item_name: 'Test Product',
                item_category: 'Electronics',
                price: 99.99,
                currency: 'ARS',
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track add to cart events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackAddToCart('prod-123', 'Test Product', 99.99, 2);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('add_to_cart', {
                item_id: 'prod-123',
                item_name: 'Test Product',
                price: 99.99,
                quantity: 2,
                currency: 'ARS',
                value: 199.98,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track checkout start events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackCheckoutStart(299.98, 3);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('begin_checkout', {
                value: 299.98,
                currency: 'ARS',
                num_items: 3,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track purchase events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const mockItems = [
                {
                    id: 'item1',
                    name: 'Product 1',
                    price: 99.99
                }
            ];
            (0, _react.act)(()=>{
                result.current.trackPurchase('order-123', 299.98, mockItems);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('purchase', {
                transaction_id: 'order-123',
                value: 299.98,
                currency: 'ARS',
                items: mockItems,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
        it('should track search events', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.trackSearch('test query', 15);
            });
            expect(_analytics.analytics.trackEcommerceEvent).toHaveBeenCalledWith('search', {
                search_term: 'test query',
                results_count: 15,
                userId: 'test-user-123',
                userEmail: undefined
            });
        });
    });
    describe('Data Retrieval', ()=>{
        it('should get events correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const events = result.current.getEvents();
            expect(_analytics.analytics.getEvents).toHaveBeenCalled();
            expect(Array.isArray(events)).toBe(true);
        });
        it('should get session ID correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const sessionId = result.current.getSessionId();
            expect(_analytics.analytics.getSessionId).toHaveBeenCalled();
            expect(sessionId).toBe('test-session-123');
        });
        it('should get conversion metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            const metrics = result.current.getConversionMetrics();
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
            expect(metrics).toEqual({
                cartAdditions: 5,
                cartRemovals: 1,
                checkoutStarts: 3,
                checkoutCompletions: 2,
                productViews: 25,
                categoryViews: 8,
                searchQueries: 12,
                conversionRate: 0.08,
                averageOrderValue: 150.75,
                cartAbandonmentRate: 0.33
            });
        });
    });
    describe('State Management', ()=>{
        it('should toggle enabled state correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            expect(result.current.isEnabled).toBe(true);
            (0, _react.act)(()=>{
                result.current.setEnabled(false);
            });
            expect(result.current.isEnabled).toBe(false);
            (0, _react.act)(()=>{
                result.current.setEnabled(true);
            });
            expect(result.current.isEnabled).toBe(true);
        });
        it('should refresh metrics correctly', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useAnalytics)());
            (0, _react.act)(()=>{
                result.current.refreshMetrics();
            });
            expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalled();
        });
    });
});
describe('useRealTimeMetrics Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.useFakeTimers();
    });
    afterEach(()=>{
        jest.useRealTimers();
    });
    it('should initialize with metrics from analytics', ()=>{
        const { result } = (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)());
        expect(result.current).toEqual({
            cartAdditions: 5,
            cartRemovals: 1,
            checkoutStarts: 3,
            checkoutCompletions: 2,
            productViews: 25,
            categoryViews: 8,
            searchQueries: 12,
            conversionRate: 0.08,
            averageOrderValue: 150.75,
            cartAbandonmentRate: 0.33
        });
    });
    it('should update metrics at specified interval', ()=>{
        (0, _react.renderHook)(()=>(0, _useAnalytics.useRealTimeMetrics)(1000));
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(1);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(2);
        (0, _react.act)(()=>{
            jest.advanceTimersByTime(1000);
        });
        expect(_analytics.analytics.getConversionMetrics).toHaveBeenCalledTimes(3);
    });
}); // useComponentTracking tests skipped due to dependency on useOptimizedAnalytics
 // This hook will be tested separately when useOptimizedAnalytics is properly mocked

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlQW5hbHl0aWNzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiB1c2VBbmFseXRpY3MgSG9vayBUZXN0c1xuICogRW50ZXJwcmlzZS1yZWFkeSB0ZXN0IHN1aXRlIGZvciBhbmFseXRpY3MgdHJhY2tpbmdcbiAqIFBpbnRleWEgRS1jb21tZXJjZVxuICovXG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlQW5hbHl0aWNzLCB1c2VSZWFsVGltZU1ldHJpY3MgfSBmcm9tICdAL2hvb2tzL3VzZUFuYWx5dGljcyc7XG5pbXBvcnQgeyBhbmFseXRpY3MgfSBmcm9tICdAL2xpYi9hbmFseXRpY3MnO1xuXG4vLyBNb2NrIHVzZUF1dGggaG9va1xuamVzdC5tb2NrKCdAL2hvb2tzL3VzZUF1dGgnLCAoKSA9PiAoe1xuICB1c2VBdXRoOiAoKSA9PiAoe1xuICAgIHVzZXI6IHsgaWQ6ICd0ZXN0LXVzZXItMTIzJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LFxuICAgIGlzTG9hZGVkOiB0cnVlLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayB1c2VQYXRobmFtZVxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VQYXRobmFtZTogKCkgPT4gJy90ZXN0LXBhZ2UnLFxufSkpO1xuXG4vLyBNb2NrIGFuYWx5dGljcyBsaWJcbmplc3QubW9jaygnQC9saWIvYW5hbHl0aWNzJywgKCkgPT4gKHtcbiAgYW5hbHl0aWNzOiB7XG4gICAgdHJhY2tFdmVudDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tFY29tbWVyY2VFdmVudDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tQYWdlVmlldzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tDb252ZXJzaW9uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICB0cmFja1Byb2R1Y3RWaWV3OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICB0cmFja0FkZFRvQ2FydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tSZW1vdmVGcm9tQ2FydDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgdHJhY2tDaGVja291dFN0YXJ0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICB0cmFja1B1cmNoYXNlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICB0cmFja1NlYXJjaDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgZ2V0RXZlbnRzOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICBnZXRJbnRlcmFjdGlvbnM6IGplc3QuZm4oKCkgPT4gW10pLFxuICAgIGdldENvbnZlcnNpb25NZXRyaWNzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBjYXJ0QWRkaXRpb25zOiA1LFxuICAgICAgY2FydFJlbW92YWxzOiAxLFxuICAgICAgY2hlY2tvdXRTdGFydHM6IDMsXG4gICAgICBjaGVja291dENvbXBsZXRpb25zOiAyLFxuICAgICAgcHJvZHVjdFZpZXdzOiAyNSxcbiAgICAgIGNhdGVnb3J5Vmlld3M6IDgsXG4gICAgICBzZWFyY2hRdWVyaWVzOiAxMixcbiAgICAgIGNvbnZlcnNpb25SYXRlOiAwLjA4LFxuICAgICAgYXZlcmFnZU9yZGVyVmFsdWU6IDE1MC43NSxcbiAgICAgIGNhcnRBYmFuZG9ubWVudFJhdGU6IDAuMzMsXG4gICAgfSkpLFxuICAgIGdldFNlc3Npb25JZDogamVzdC5mbigoKSA9PiAndGVzdC1zZXNzaW9uLTEyMycpLFxuICAgIGluaXRpYWxpemU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIGVuYWJsZTogamVzdC5mbigpLFxuICAgIGRpc2FibGU6IGplc3QuZm4oKSxcbiAgICBnZXRNZXRyaWNzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBwYWdlVmlld3M6IDEwMCxcbiAgICAgIHVuaXF1ZVZpc2l0b3JzOiA1MCxcbiAgICAgIGJvdW5jZVJhdGU6IDAuMyxcbiAgICAgIGF2Z1Nlc3Npb25EdXJhdGlvbjogMTgwLFxuICAgICAgY29udmVyc2lvblJhdGU6IDAuMDUsXG4gICAgICB0b3RhbFJldmVudWU6IDEwMDBcbiAgICB9KSksXG4gICAgaXNFbmFibGVkOiB0cnVlXG4gIH1cbn0pKTtcblxuLy8gTW9jayBvcHRpbWl6ZWQgYW5hbHl0aWNzXG5qZXN0Lm1vY2soJ0AvbGliL2FuYWx5dGljcy1vcHRpbWl6ZWQnLCAoKSA9PiAoe1xuICBvcHRpbWl6ZWRBbmFseXRpY3M6IHtcbiAgICB0cmFja0V2ZW50OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgfVxufSkpO1xuXG4vLyBNb2NrIHdpbmRvdy5ndGFnXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZ3RhZycsIHtcbiAgdmFsdWU6IGplc3QuZm4oKSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuZGVzY3JpYmUoJ3VzZUFuYWx5dGljcyBIb29rJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGNvcnJlY3QgZGVmYXVsdCBzdGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zZXNzaW9uTWV0cmljcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQudHJhY2tQYWdlVmlldykudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuZ2V0U2Vzc2lvbklkKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGFsbCByZXF1aXJlZCB0cmFja2luZyBmdW5jdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGNvbnN0IGV4cGVjdGVkRnVuY3Rpb25zID0gW1xuICAgICAgICAndHJhY2tFdmVudCcsXG4gICAgICAgICd0cmFja0Vjb21tZXJjZUV2ZW50JyxcbiAgICAgICAgJ3RyYWNrUGFnZVZpZXcnLFxuICAgICAgICAndHJhY2tDb252ZXJzaW9uJyxcbiAgICAgICAgJ3RyYWNrUHJvZHVjdFZpZXcnLFxuICAgICAgICAndHJhY2tBZGRUb0NhcnQnLFxuICAgICAgICAndHJhY2tSZW1vdmVGcm9tQ2FydCcsXG4gICAgICAgICd0cmFja0NoZWNrb3V0U3RhcnQnLFxuICAgICAgICAndHJhY2tQdXJjaGFzZScsXG4gICAgICAgICd0cmFja1NlYXJjaCcsXG4gICAgICBdO1xuXG4gICAgICBleHBlY3RlZEZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmNOYW1lID0+IHtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudFtmdW5jTmFtZV0pLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0V2ZW50IFRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdHJhY2sgZ2VuZXJpYyBldmVudHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KCd0ZXN0X2V2ZW50JywgJ3Rlc3RfY2F0ZWdvcnknLCAndGVzdF9hY3Rpb24nLCAndGVzdF9sYWJlbCcsIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0V2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ3Rlc3RfZXZlbnQnLFxuICAgICAgICAndGVzdF9jYXRlZ29yeScsXG4gICAgICAgICd0ZXN0X2FjdGlvbicsXG4gICAgICAgICd0ZXN0X2xhYmVsJyxcbiAgICAgICAgMTAwLFxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIHByb2R1Y3QgdmlldyBldmVudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrUHJvZHVjdFZpZXcoJ3Byb2QtMTIzJywgJ1Rlc3QgUHJvZHVjdCcsICdFbGVjdHJvbmljcycsIDk5Ljk5KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRWNvbW1lcmNlRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd2aWV3X2l0ZW0nLCB7XG4gICAgICAgIGl0ZW1faWQ6ICdwcm9kLTEyMycsXG4gICAgICAgIGl0ZW1fbmFtZTogJ1Rlc3QgUHJvZHVjdCcsXG4gICAgICAgIGl0ZW1fY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsXG4gICAgICAgIHByaWNlOiA5OS45OSxcbiAgICAgICAgY3VycmVuY3k6ICdBUlMnLFxuICAgICAgICB1c2VySWQ6ICd0ZXN0LXVzZXItMTIzJyxcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBhZGQgdG8gY2FydCBldmVudHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VBbmFseXRpY3MoKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrQWRkVG9DYXJ0KCdwcm9kLTEyMycsICdUZXN0IFByb2R1Y3QnLCA5OS45OSwgMik7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0Vjb21tZXJjZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYWRkX3RvX2NhcnQnLCB7XG4gICAgICAgIGl0ZW1faWQ6ICdwcm9kLTEyMycsXG4gICAgICAgIGl0ZW1fbmFtZTogJ1Rlc3QgUHJvZHVjdCcsXG4gICAgICAgIHByaWNlOiA5OS45OSxcbiAgICAgICAgcXVhbnRpdHk6IDIsXG4gICAgICAgIGN1cnJlbmN5OiAnQVJTJyxcbiAgICAgICAgdmFsdWU6IDE5OS45OCxcbiAgICAgICAgdXNlcklkOiAndGVzdC11c2VyLTEyMycsXG4gICAgICAgIHVzZXJFbWFpbDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgY2hlY2tvdXQgc3RhcnQgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0NoZWNrb3V0U3RhcnQoMjk5Ljk4LCAzKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRWNvbW1lcmNlRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdiZWdpbl9jaGVja291dCcsIHtcbiAgICAgICAgdmFsdWU6IDI5OS45OCxcbiAgICAgICAgY3VycmVuY3k6ICdBUlMnLFxuICAgICAgICBudW1faXRlbXM6IDMsXG4gICAgICAgIHVzZXJJZDogJ3Rlc3QtdXNlci0xMjMnLFxuICAgICAgICB1c2VyRW1haWw6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyYWNrIHB1cmNoYXNlIGV2ZW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcbiAgICAgIGNvbnN0IG1vY2tJdGVtcyA9IFt7IGlkOiAnaXRlbTEnLCBuYW1lOiAnUHJvZHVjdCAxJywgcHJpY2U6IDk5Ljk5IH1dO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1B1cmNoYXNlKCdvcmRlci0xMjMnLCAyOTkuOTgsIG1vY2tJdGVtcyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGFuYWx5dGljcy50cmFja0Vjb21tZXJjZUV2ZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncHVyY2hhc2UnLCB7XG4gICAgICAgIHRyYW5zYWN0aW9uX2lkOiAnb3JkZXItMTIzJyxcbiAgICAgICAgdmFsdWU6IDI5OS45OCxcbiAgICAgICAgY3VycmVuY3k6ICdBUlMnLFxuICAgICAgICBpdGVtczogbW9ja0l0ZW1zLFxuICAgICAgICB1c2VySWQ6ICd0ZXN0LXVzZXItMTIzJyxcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBzZWFyY2ggZXZlbnRzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja1NlYXJjaCgndGVzdCBxdWVyeScsIDE1KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnRyYWNrRWNvbW1lcmNlRXZlbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdzZWFyY2gnLCB7XG4gICAgICAgIHNlYXJjaF90ZXJtOiAndGVzdCBxdWVyeScsXG4gICAgICAgIHJlc3VsdHNfY291bnQ6IDE1LFxuICAgICAgICB1c2VySWQ6ICd0ZXN0LXVzZXItMTIzJyxcbiAgICAgICAgdXNlckVtYWlsOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGF0YSBSZXRyaWV2YWwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZXQgZXZlbnRzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUFuYWx5dGljcygpKTtcblxuICAgICAgY29uc3QgZXZlbnRzID0gcmVzdWx0LmN1cnJlbnQuZ2V0RXZlbnRzKCk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzLmdldEV2ZW50cykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZXZlbnRzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHNlc3Npb24gSUQgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBjb25zdCBzZXNzaW9uSWQgPSByZXN1bHQuY3VycmVudC5nZXRTZXNzaW9uSWQoKTtcbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0U2Vzc2lvbklkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3Qoc2Vzc2lvbklkKS50b0JlKCd0ZXN0LXNlc3Npb24tMTIzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdldCBjb252ZXJzaW9uIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0Q29udmVyc2lvbk1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0VxdWFsKHtcbiAgICAgICAgY2FydEFkZGl0aW9uczogNSxcbiAgICAgICAgY2FydFJlbW92YWxzOiAxLFxuICAgICAgICBjaGVja291dFN0YXJ0czogMyxcbiAgICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcbiAgICAgICAgcHJvZHVjdFZpZXdzOiAyNSxcbiAgICAgICAgY2F0ZWdvcnlWaWV3czogOCxcbiAgICAgICAgc2VhcmNoUXVlcmllczogMTIsXG4gICAgICAgIGNvbnZlcnNpb25SYXRlOiAwLjA4LFxuICAgICAgICBhdmVyYWdlT3JkZXJWYWx1ZTogMTUwLjc1LFxuICAgICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGF0ZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGVuYWJsZWQgc3RhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5zZXRFbmFibGVkKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKGZhbHNlKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWZyZXNoIG1ldHJpY3MgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQW5hbHl0aWNzKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZWZyZXNoTWV0cmljcygpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ3VzZVJlYWxUaW1lTWV0cmljcyBIb29rJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHdpdGggbWV0cmljcyBmcm9tIGFuYWx5dGljcycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VSZWFsVGltZU1ldHJpY3MoKSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvRXF1YWwoe1xuICAgICAgY2FydEFkZGl0aW9uczogNSxcbiAgICAgIGNhcnRSZW1vdmFsczogMSxcbiAgICAgIGNoZWNrb3V0U3RhcnRzOiAzLFxuICAgICAgY2hlY2tvdXRDb21wbGV0aW9uczogMixcbiAgICAgIHByb2R1Y3RWaWV3czogMjUsXG4gICAgICBjYXRlZ29yeVZpZXdzOiA4LFxuICAgICAgc2VhcmNoUXVlcmllczogMTIsXG4gICAgICBjb252ZXJzaW9uUmF0ZTogMC4wOCxcbiAgICAgIGF2ZXJhZ2VPcmRlclZhbHVlOiAxNTAuNzUsXG4gICAgICBjYXJ0QWJhbmRvbm1lbnRSYXRlOiAwLjMzLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHVwZGF0ZSBtZXRyaWNzIGF0IHNwZWNpZmllZCBpbnRlcnZhbCcsICgpID0+IHtcbiAgICByZW5kZXJIb29rKCgpID0+IHVzZVJlYWxUaW1lTWV0cmljcygxMDAwKSk7XG5cbiAgICBleHBlY3QoYW5hbHl0aWNzLmdldENvbnZlcnNpb25NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMDApO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KGFuYWx5dGljcy5nZXRDb252ZXJzaW9uTWV0cmljcykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxMDAwKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChhbmFseXRpY3MuZ2V0Q29udmVyc2lvbk1ldHJpY3MpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgfSk7XG59KTtcblxuLy8gdXNlQ29tcG9uZW50VHJhY2tpbmcgdGVzdHMgc2tpcHBlZCBkdWUgdG8gZGVwZW5kZW5jeSBvbiB1c2VPcHRpbWl6ZWRBbmFseXRpY3Ncbi8vIFRoaXMgaG9vayB3aWxsIGJlIHRlc3RlZCBzZXBhcmF0ZWx5IHdoZW4gdXNlT3B0aW1pemVkQW5hbHl0aWNzIGlzIHByb3Blcmx5IG1vY2tlZCJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZUF1dGgiLCJ1c2VyIiwiaWQiLCJlbWFpbCIsImlzTG9hZGVkIiwidXNlUGF0aG5hbWUiLCJhbmFseXRpY3MiLCJ0cmFja0V2ZW50IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsInRyYWNrRWNvbW1lcmNlRXZlbnQiLCJ0cmFja1BhZ2VWaWV3IiwidHJhY2tDb252ZXJzaW9uIiwidHJhY2tQcm9kdWN0VmlldyIsInRyYWNrQWRkVG9DYXJ0IiwidHJhY2tSZW1vdmVGcm9tQ2FydCIsInRyYWNrQ2hlY2tvdXRTdGFydCIsInRyYWNrUHVyY2hhc2UiLCJ0cmFja1NlYXJjaCIsImdldEV2ZW50cyIsImdldEludGVyYWN0aW9ucyIsImdldENvbnZlcnNpb25NZXRyaWNzIiwiY2FydEFkZGl0aW9ucyIsImNhcnRSZW1vdmFscyIsImNoZWNrb3V0U3RhcnRzIiwiY2hlY2tvdXRDb21wbGV0aW9ucyIsInByb2R1Y3RWaWV3cyIsImNhdGVnb3J5Vmlld3MiLCJzZWFyY2hRdWVyaWVzIiwiY29udmVyc2lvblJhdGUiLCJhdmVyYWdlT3JkZXJWYWx1ZSIsImNhcnRBYmFuZG9ubWVudFJhdGUiLCJnZXRTZXNzaW9uSWQiLCJpbml0aWFsaXplIiwiZW5hYmxlIiwiZGlzYWJsZSIsImdldE1ldHJpY3MiLCJwYWdlVmlld3MiLCJ1bmlxdWVWaXNpdG9ycyIsImJvdW5jZVJhdGUiLCJhdmdTZXNzaW9uRHVyYXRpb24iLCJ0b3RhbFJldmVudWUiLCJpc0VuYWJsZWQiLCJvcHRpbWl6ZWRBbmFseXRpY3MiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsInZhbHVlIiwid3JpdGFibGUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlQW5hbHl0aWNzIiwiZXhwZWN0IiwiY3VycmVudCIsInRvQmUiLCJzZXNzaW9uTWV0cmljcyIsInRvQmVEZWZpbmVkIiwiZXhwZWN0ZWRGdW5jdGlvbnMiLCJmb3JFYWNoIiwiZnVuY05hbWUiLCJhY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIml0ZW1faWQiLCJpdGVtX25hbWUiLCJpdGVtX2NhdGVnb3J5IiwicHJpY2UiLCJjdXJyZW5jeSIsInVzZXJJZCIsInVzZXJFbWFpbCIsInF1YW50aXR5IiwibnVtX2l0ZW1zIiwibW9ja0l0ZW1zIiwibmFtZSIsInRyYW5zYWN0aW9uX2lkIiwiaXRlbXMiLCJzZWFyY2hfdGVybSIsInJlc3VsdHNfY291bnQiLCJldmVudHMiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2Vzc2lvbklkIiwibWV0cmljcyIsInRvRXF1YWwiLCJzZXRFbmFibGVkIiwicmVmcmVzaE1ldHJpY3MiLCJ1c2VGYWtlVGltZXJzIiwiYWZ0ZXJFYWNoIiwidXNlUmVhbFRpbWVycyIsInVzZVJlYWxUaW1lTWV0cmljcyIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUM7QUFNRCxvQkFBb0I7QUFDcEJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxTQUFTLElBQU8sQ0FBQTtnQkFDZEMsTUFBTTtvQkFBRUMsSUFBSTtvQkFBaUJDLE9BQU87Z0JBQW1CO2dCQUN2REMsVUFBVTtZQUNaLENBQUE7SUFDRixDQUFBO0FBRUEsbUJBQW1CO0FBQ25CTixLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ00sYUFBYSxJQUFNO0lBQ3JCLENBQUE7QUFFQSxxQkFBcUI7QUFDckJQLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFB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