{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Checkout\\MercadoPagoWallet.tsx"],"sourcesContent":["// ===================================\r\n// PINTEYA E-COMMERCE - MERCADOPAGO WALLET BRICK\r\n// ===================================\r\n\r\n\"use client\";\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Loader2, CreditCard, AlertTriangle, CheckCircle, Shield, Lock } from 'lucide-react';\r\n\r\n// Tipos para el SDK de MercadoPago\r\ndeclare global {\r\n  interface Window {\r\n    MercadoPago: any;\r\n  }\r\n}\r\n\r\ninterface MercadoPagoWalletProps {\r\n  preferenceId: string;\r\n  onReady?: () => void;\r\n  onError?: (error: any) => void;\r\n  onSubmit?: (data: any) => void;\r\n  className?: string;\r\n}\r\n\r\nexport default function MercadoPagoWallet({ \r\n  preferenceId, \r\n  onReady, \r\n  onError,\r\n  onSubmit,\r\n  className = \"\"\r\n}: MercadoPagoWalletProps) {\r\n  const walletRef = useRef<HTMLDivElement>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [sdkLoaded, setSdkLoaded] = useState(false);\r\n\r\n  // Verificar si el SDK ya est√° cargado\r\n  useEffect(() => {\r\n    // ‚úÖ NUEVO: Verificar que estamos en la p√°gina correcta antes de cargar el SDK\r\n    if (typeof window !== 'undefined') {\r\n      const currentPath = window.location.pathname;\r\n      if (currentPath.includes('/checkout/success') ||\r\n          currentPath.includes('/checkout/failure') ||\r\n          currentPath.includes('/checkout/pending')) {\r\n        console.log('üö´ SDK de MercadoPago no se carga en p√°ginas de resultado');\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (window.MercadoPago) {\r\n      setSdkLoaded(true);\r\n      return;\r\n    }\r\n\r\n    // Verificar si ya existe un script del SDK\r\n    const existingScript = document.querySelector('script[src*=\"sdk.mercadopago.com\"]');\r\n    if (existingScript) {\r\n      existingScript.addEventListener('load', () => setSdkLoaded(true));\r\n      return;\r\n    }\r\n\r\n    // Cargar el SDK de MercadoPago\r\n    const script = document.createElement('script');\r\n    script.src = 'https://sdk.mercadopago.com/js/v2';\r\n    script.async = true;\r\n    \r\n    script.onload = () => {\r\n      setSdkLoaded(true);\r\n    };\r\n    \r\n    script.onerror = () => {\r\n      setError('Error al cargar el SDK de MercadoPago');\r\n      setIsLoading(false);\r\n      onError?.('Error al cargar el SDK de MercadoPago');\r\n    };\r\n    \r\n    document.head.appendChild(script);\r\n    \r\n    return () => {\r\n      // No remover el script para evitar problemas de recarga\r\n    };\r\n  }, [onError]);\r\n\r\n  // Inicializar el Wallet Brick cuando el SDK est√© listo\r\n  useEffect(() => {\r\n    if (!sdkLoaded || !preferenceId) return;\r\n\r\n    // ‚úÖ NUEVO: Verificar que estamos en la p√°gina correcta\r\n    // No inicializar el Wallet Brick en p√°ginas de resultado\r\n    if (typeof window !== 'undefined') {\r\n      const currentPath = window.location.pathname;\r\n      if (currentPath.includes('/checkout/success') ||\r\n          currentPath.includes('/checkout/failure') ||\r\n          currentPath.includes('/checkout/pending')) {\r\n        console.log('üö´ Wallet Brick no se inicializa en p√°ginas de resultado');\r\n        return;\r\n      }\r\n    }\r\n\r\n    const initializeWallet = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        // Verificar que tenemos la clave p√∫blica\r\n        const publicKey = process.env.NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY;\r\n        if (!publicKey) {\r\n          throw new Error('Clave p√∫blica de MercadoPago no configurada');\r\n        }\r\n\r\n        // Verificar que el contenedor existe antes de inicializar\r\n        const container = document.getElementById('wallet_container');\r\n        if (!container) {\r\n          console.warn('‚ö†Ô∏è Contenedor wallet_container no encontrado, cancelando inicializaci√≥n');\r\n          return;\r\n        }\r\n\r\n        // Inicializar MercadoPago\r\n        const mp = new window.MercadoPago(publicKey);\r\n\r\n        // Limpiar contenedor anterior si existe\r\n        container.innerHTML = '';\r\n\r\n        // Crear el Wallet Brick con manejo de errores mejorado\r\n        try {\r\n          await mp.bricks().create(\"wallet\", \"wallet_container\", {\r\n            initialization: {\r\n              preferenceId: preferenceId,\r\n              redirectMode: \"self\" // Mantener en la misma pesta√±a\r\n            },\r\n            callbacks: {\r\n              onReady: () => {\r\n                setIsLoading(false);\r\n                setIsReady(true);\r\n                onReady?.();\r\n              },\r\n              onError: (error: any) => {\r\n                console.error('Error en Wallet Brick:', error);\r\n                setError(error.message || 'Error en el procesamiento del pago');\r\n                setIsLoading(false);\r\n                onError?.(error);\r\n              },\r\n              onSubmit: (data: any) => {\r\n                onSubmit?.(data);\r\n              },\r\n            },\r\n          customization: {\r\n            texts: {\r\n              valueProp: 'smart_option',\r\n            },\r\n            visual: {\r\n              buttonBackground: 'default',\r\n              borderRadius: '8px',\r\n            },\r\n          },\r\n        });\r\n        } catch (brickError: any) {\r\n          // Manejo espec√≠fico de errores del Wallet Brick\r\n          if (brickError.message?.includes('wallet_container') ||\r\n              brickError.message?.includes('container')) {\r\n            console.warn('‚ö†Ô∏è Contenedor wallet_container no disponible, esto es normal en p√°ginas de resultado');\r\n            return; // Salir silenciosamente\r\n          }\r\n          throw brickError; // Re-lanzar otros errores\r\n        }\r\n\r\n      } catch (error: any) {\r\n        console.error('Error inicializando Wallet Brick:', error);\r\n        setError(error.message || 'Error inicializando el sistema de pagos');\r\n        setIsLoading(false);\r\n        onError?.(error);\r\n      }\r\n    };\r\n\r\n    initializeWallet();\r\n  }, [sdkLoaded, preferenceId, onReady, onError, onSubmit]);\r\n\r\n  const handleRetry = () => {\r\n    setError(null);\r\n    setIsLoading(true);\r\n    setIsReady(false);\r\n    \r\n    // Recargar la p√°gina para reiniciar el proceso\r\n    window.location.reload();\r\n  };\r\n\r\n  const isMobileOptimized = className?.includes('mobile-optimized');\r\n\r\n  return (\r\n    <Card className={`w-full shadow-lg ${className}`}>\r\n      <CardHeader className={cn(\r\n        \"bg-gradient-to-r from-blaze-orange-50 to-yellow-50 border-b\",\r\n        isMobileOptimized && \"px-4 py-4\"\r\n      )}>\r\n        <div className={cn(\r\n          \"flex items-center justify-between\",\r\n          isMobileOptimized && \"flex-col gap-3 items-start\"\r\n        )}>\r\n          <CardTitle className={cn(\r\n            \"flex items-center gap-2 text-blaze-orange-700\",\r\n            isMobileOptimized && \"text-lg\"\r\n          )}>\r\n            <CreditCard className={cn(\"w-5 h-5\", isMobileOptimized && \"w-4 h-4\")} />\r\n            M√©todo de Pago Seguro\r\n          </CardTitle>\r\n          <div className={cn(\r\n            \"flex items-center gap-2\",\r\n            isMobileOptimized && \"w-full justify-between\"\r\n          )}>\r\n            <Badge variant=\"secondary\" className=\"bg-green-100 text-green-700 text-xs\">\r\n              <Shield className=\"w-3 h-3 mr-1\" />\r\n              Seguro\r\n            </Badge>\r\n            <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700 text-xs\">\r\n              <Lock className=\"w-3 h-3 mr-1\" />\r\n              SSL\r\n            </Badge>\r\n          </div>\r\n        </div>\r\n        <p className={cn(\r\n          \"text-sm text-gray-600 mt-1\",\r\n          isMobileOptimized && \"text-xs mt-2\"\r\n        )}>\r\n          Completa tu pago de forma segura con MercadoPago\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent className={cn(\"p-6\", isMobileOptimized && \"p-4\")}>\r\n        {/* Estado de carga */}\r\n        {isLoading && (\r\n          <div className={cn(\r\n            \"flex flex-col items-center justify-center py-12 space-y-6\",\r\n            isMobileOptimized && \"py-8 space-y-4\"\r\n          )}>\r\n            <div className=\"relative\">\r\n              <div className={cn(\r\n                \"w-16 h-16 rounded-full bg-blaze-orange-100 flex items-center justify-center\",\r\n                isMobileOptimized && \"w-12 h-12\"\r\n              )}>\r\n                <Loader2 className={cn(\r\n                  \"w-8 h-8 animate-spin text-blaze-orange-600\",\r\n                  isMobileOptimized && \"w-6 h-6\"\r\n                )} />\r\n              </div>\r\n              <div className=\"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center\">\r\n                <CreditCard className=\"w-3 h-3 text-gray-700\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center space-y-2\">\r\n              <p className=\"font-medium text-gray-900\">\r\n                Cargando opciones de pago\r\n              </p>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Preparando tu experiencia de pago segura...\r\n              </p>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div className=\"bg-blaze-orange-600 h-2 rounded-full animate-pulse\" style={{ width: '60%' }}></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Estado de error */}\r\n        {error && (\r\n          <div className=\"flex flex-col items-center justify-center py-12 space-y-6\">\r\n            <div className=\"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center\">\r\n              <AlertTriangle className=\"w-8 h-8 text-red-600\" />\r\n            </div>\r\n            <div className=\"text-center space-y-2\">\r\n              <p className=\"font-medium text-red-800\">Error al cargar el sistema de pagos</p>\r\n              <p className=\"text-sm text-red-600\">{error}</p>\r\n            </div>\r\n            <Button\r\n              onClick={handleRetry}\r\n              className=\"bg-blaze-orange-600 hover:bg-blaze-orange-700 text-white\"\r\n              size=\"lg\"\r\n            >\r\n              <CreditCard className=\"w-4 h-4 mr-2\" />\r\n              Reintentar Carga\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Estado listo */}\r\n        {isReady && !error && (\r\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <CheckCircle className=\"w-5 h-5 text-green-600 flex-shrink-0\" />\r\n              <div>\r\n                <p className=\"font-medium text-green-800\">\r\n                  Sistema de pagos listo\r\n                </p>\r\n                <p className=\"text-sm text-green-700 mt-1\">\r\n                  Selecciona tu m√©todo de pago preferido\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Contenedor del Wallet Brick */}\r\n        <div\r\n          id=\"wallet_container\"\r\n          ref={walletRef}\r\n          className={`min-h-[300px] rounded-lg border border-gray-200 ${isLoading || error ? 'hidden' : 'block'}`}\r\n        />\r\n\r\n        {/* Informaci√≥n adicional */}\r\n        {isReady && !error && (\r\n          <div className=\"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <Shield className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\r\n              <div>\r\n                <p className=\"font-medium text-blue-800 mb-2\">\r\n                  Pago 100% Seguro\r\n                </p>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Acepta tarjetas de cr√©dito, d√©bito, efectivo y transferencias bancarias.\r\n                  Tus datos est√°n protegidos con encriptaci√≥n de nivel bancario y certificaci√≥n PCI DSS.\r\n                </p>\r\n                <div className=\"flex items-center gap-4 mt-3 text-xs text-blue-600\">\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <Lock className=\"w-3 h-3\" />\r\n                    SSL 256-bit\r\n                  </span>\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <Shield className=\"w-3 h-3\" />\r\n                    PCI DSS\r\n                  </span>\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <CheckCircle className=\"w-3 h-3\" />\r\n                    Verificado\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Componente de fallback para casos de error cr√≠tico\r\nexport function MercadoPagoWalletFallback({\r\n  initPoint,\r\n  className = \"\"\r\n}: {\r\n  initPoint: string;\r\n  className?: string;\r\n}) {\r\n  const isMobileOptimized = className?.includes('mobile-optimized');\r\n\r\n  return (\r\n    <Card className={`w-full shadow-lg ${className}`}>\r\n      <CardHeader className={cn(\r\n        \"bg-gradient-to-r from-yellow-50 to-orange-50 border-b\",\r\n        isMobileOptimized && \"px-4 py-4\"\r\n      )}>\r\n        <CardTitle className={cn(\r\n          \"flex items-center gap-2 text-blaze-orange-700\",\r\n          isMobileOptimized && \"text-lg\"\r\n        )}>\r\n          <CreditCard className={cn(\"w-5 h-5\", isMobileOptimized && \"w-4 h-4\")} />\r\n          M√©todo de Pago Alternativo\r\n        </CardTitle>\r\n        <p className={cn(\r\n          \"text-sm text-gray-600 mt-1\",\r\n          isMobileOptimized && \"text-xs\"\r\n        )}>\r\n          Contin√∫a con el pago en la plataforma de MercadoPago\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent className={cn(\"p-6\", isMobileOptimized && \"p-4\")}>\r\n        <div className={cn(\r\n          \"text-center py-8 space-y-6\",\r\n          isMobileOptimized && \"py-6 space-y-4\"\r\n        )}>\r\n          <div className={cn(\r\n            \"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mx-auto\",\r\n            isMobileOptimized && \"w-12 h-12\"\r\n          )}>\r\n            <CreditCard className={cn(\r\n              \"w-8 h-8 text-blue-600\",\r\n              isMobileOptimized && \"w-6 h-6\"\r\n            )} />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <p className={cn(\r\n              \"font-medium text-gray-900\",\r\n              isMobileOptimized && \"text-lg\"\r\n            )}>\r\n              Finaliza tu compra en MercadoPago\r\n            </p>\r\n            <p className={cn(\r\n              \"text-sm text-gray-600\",\r\n              isMobileOptimized && \"text-xs\"\r\n            )}>\r\n              Ser√°s redirigido a la plataforma segura de MercadoPago para completar tu pago\r\n            </p>\r\n          </div>\r\n          <Button\r\n            onClick={() => window.open(initPoint, '_blank')}\r\n            className={cn(\r\n              \"w-full h-12 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200\",\r\n              isMobileOptimized && \"h-14 text-base rounded-xl active:scale-[0.98]\"\r\n            )}\r\n            size=\"lg\"\r\n          >\r\n            <CreditCard className={cn(\"w-5 h-5 mr-2\", isMobileOptimized && \"w-4 h-4\")} />\r\n            Continuar con MercadoPago\r\n          </Button>\r\n          <div className={cn(\r\n            \"flex items-center justify-center gap-4 text-xs text-gray-500\",\r\n            isMobileOptimized && \"gap-6\"\r\n          )}>\r\n            <span className=\"flex items-center gap-1\">\r\n              <Shield className=\"w-3 h-3\" />\r\n              Pago Seguro\r\n            </span>\r\n            <span className=\"flex items-center gap-1\">\r\n              <Lock className=\"w-3 h-3\" />\r\n              Datos Protegidos\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":["MercadoPagoWalletFallback","MercadoPagoWallet","preferenceId","onReady","onError","onSubmit","className","walletRef","useRef","isLoading","setIsLoading","useState","error","setError","isReady","setIsReady","sdkLoaded","setSdkLoaded","useEffect","window","currentPath","location","pathname","includes","console","log","MercadoPago","existingScript","document","querySelector","addEventListener","script","createElement","src","async","onload","onerror","head","appendChild","initializeWallet","publicKey","process","env","NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY","Error","container","getElementById","warn","mp","innerHTML","bricks","create","initialization","redirectMode","callbacks","message","data","customization","texts","valueProp","visual","buttonBackground","borderRadius","brickError","handleRetry","reload","isMobileOptimized","Card","CardHeader","cn","div","CardTitle","CreditCard","Badge","variant","Shield","Lock","p","CardContent","Loader2","style","width","AlertTriangle","Button","onClick","size","CheckCircle","id","ref","span","initPoint","open"],"mappings":"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"}