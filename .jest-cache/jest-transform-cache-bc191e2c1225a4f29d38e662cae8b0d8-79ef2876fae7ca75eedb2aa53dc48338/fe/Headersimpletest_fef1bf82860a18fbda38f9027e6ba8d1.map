{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\Header\\__tests__\\Header.simple.test.tsx"],"sourcesContent":["/**\n * Tests simples para verificar funcionalidad básica del Header\n */\n\nimport React from 'react';\nimport { render, screen } from '@testing-library/react';\n\n// Mock básico de Next.js\njest.mock('next/link', () => {\n  return ({ children, href, ...props }: any) => (\n    <a href={href} {...props}>\n      {children}\n    </a>\n  );\n});\n\njest.mock('next/image', () => {\n  return ({ src, alt, ...props }: any) => (\n    <img src={src} alt={alt} {...props} />\n  );\n});\n\n// Mock del hook de geolocalización\njest.mock('@/hooks/useGeolocation', () => ({\n  useGeolocation: () => ({\n    detectedZone: { name: 'Córdoba Capital', available: true },\n    requestLocation: jest.fn(),\n    selectZone: jest.fn(),\n    permissionStatus: 'prompt',\n    isLoading: false,\n    error: null,\n    location: null,\n    getAvailableZones: () => [],\n    deliveryZones: [],\n  }),\n}));\n\n// Mock de Clerk\njest.mock('@clerk/nextjs', () => ({\n  SignedIn: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"signed-in\">{children}</div>\n  ),\n  SignedOut: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"signed-out\">{children}</div>\n  ),\n  UserButton: () => <div data-testid=\"user-button\">UserButton</div>,\n  useUser: () => ({ isSignedIn: false, user: null, isLoaded: true }),\n}));\n\n// Mock del componente de búsqueda\njest.mock('@/components/ui/SearchAutocompleteIntegrated', () => {\n  return {\n    SearchAutocompleteIntegrated: ({ placeholder }: any) => (\n      <input data-testid=\"search-input\" placeholder={placeholder} />\n    ),\n  };\n});\n\n// Mock de Redux\njest.mock('react-redux', () => ({\n  useSelector: () => ({ items: [], totalQuantity: 0 }),\n  useDispatch: () => jest.fn(),\n}));\n\n// Mock de hooks de animación\njest.mock('@/hooks/useCartAnimation', () => ({\n  useCartAnimation: () => ({ isAnimating: false }),\n}));\n\n// Mock del contexto del carrito\njest.mock('@/app/context/CartSidebarModalContext', () => ({\n  useCartSidebarModal: () => ({\n    isOpen: false,\n    openModal: jest.fn(),\n    closeModal: jest.fn(),\n  }),\n}));\n\nimport Header from '../index';\n\ndescribe('Header Simple Tests', () => {\n  beforeEach(() => {\n    // Mock window.matchMedia\n    Object.defineProperty(window, 'matchMedia', {\n      writable: true,\n      value: jest.fn().mockImplementation(query => ({\n        matches: false,\n        media: query,\n        onchange: null,\n        addListener: jest.fn(),\n        removeListener: jest.fn(),\n        addEventListener: jest.fn(),\n        removeEventListener: jest.fn(),\n        dispatchEvent: jest.fn(),\n      })),\n    });\n  });\n\n  test('debe renderizar el header sin errores', () => {\n    render(<Header />);\n    \n    // Verificar que el componente se renderiza\n    expect(screen.getByTestId('search-input')).toBeInTheDocument();\n  });\n\n  test('debe mostrar el placeholder correcto en el campo de búsqueda', () => {\n    render(<Header />);\n    \n    const searchInput = screen.getByTestId('search-input');\n    expect(searchInput).toHaveAttribute('placeholder', 'latex interior blanco 20lts');\n  });\n\n  test('debe mostrar el logo de Pinteya', () => {\n    render(<Header />);\n    \n    const logo = screen.getByAltText('Pinteya - Tu Pinturería Online');\n    expect(logo).toBeInTheDocument();\n  });\n\n  test('debe mostrar la ubicación por defecto', () => {\n    render(<Header />);\n    \n    expect(screen.getByText('Córdoba Capital')).toBeInTheDocument();\n  });\n\n  test('debe mostrar botón de iniciar sesión cuando no está autenticado', () => {\n    render(<Header />);\n    \n    expect(screen.getByText('Iniciar Sesión')).toBeInTheDocument();\n  });\n\n  test('debe tener el logo clickeable con enlace al inicio', () => {\n    render(<Header />);\n    \n    const logoLink = screen.getByAltText('Pinteya - Tu Pinturería Online').closest('a');\n    expect(logoLink).toHaveAttribute('href', '/');\n  });\n\n  test('debe tener el botón de iniciar sesión con enlace correcto', () => {\n    render(<Header />);\n    \n    const signinLink = screen.getByText('Iniciar Sesión').closest('a');\n    expect(signinLink).toHaveAttribute('href', '/signin');\n  });\n});\n"],"names":["jest","mock","children","href","props","a","src","alt","img","useGeolocation","detectedZone","name","available","requestLocation","fn","selectZone","permissionStatus","isLoading","error","location","getAvailableZones","deliveryZones","SignedIn","div","data-testid","SignedOut","UserButton","useUser","isSignedIn","user","isLoaded","SearchAutocompleteIntegrated","placeholder","input","useSelector","items","totalQuantity","useDispatch","useCartAnimation","isAnimating","useCartSidebarModal","isOpen","openModal","closeModal","describe","beforeEach","Object","defineProperty","window","writable","value","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","test","render","Header","expect","screen","getByTestId","toBeInTheDocument","searchInput","toHaveAttribute","logo","getByAltText","getByText","logoLink","closest","signinLink"],"mappings":"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"}