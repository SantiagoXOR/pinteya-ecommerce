26ba96e17e9dd143e880080b7dcedb71
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _lucidereact = require("lucide-react");
const _button = require("../ui/button");
const _utils = require("../../lib/utils");
const _dropdownmenu = require("../ui/dropdown-menu");
const _SearchAutocompleteIntegrated = require("../ui/SearchAutocompleteIntegrated");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Definición de categorías con iconos
const categories = [
    {
        id: "all",
        name: "Todas las Categorías",
        icon: _lucidereact.Package,
        placeholder: "Busco productos de pinturería..."
    },
    {
        id: "pinturas",
        name: "Pinturas",
        icon: _lucidereact.Palette,
        placeholder: "Busco pinturas..."
    },
    {
        id: "herramientas",
        name: "Herramientas",
        icon: _lucidereact.Wrench,
        placeholder: "Busco herramientas..."
    },
    {
        id: "accesorios",
        name: "Accesorios",
        icon: _lucidereact.Package,
        placeholder: "Busco accesorios..."
    },
    {
        id: "barnices",
        name: "Barnices",
        icon: _lucidereact.Sparkles,
        placeholder: "Busco barnices..."
    },
    {
        id: "esmaltes",
        name: "Esmaltes",
        icon: _lucidereact.Brush,
        placeholder: "Busco esmaltes..."
    }
];
const EnhancedSearchBar = ({ className, onSearch, onSuggestionSelect, size = "md", "data-testid": testId })=>{
    const [selectedCategory, setSelectedCategory] = (0, _react.useState)(categories[0]);
    const handleCategorySelect = (0, _react.useCallback)((category)=>{
        setSelectedCategory(category);
    }, []);
    const handleSearch = (0, _react.useCallback)((query)=>{
        // Llamar al callback externo (que manejará la búsqueda)
        onSearch?.(query, selectedCategory.id !== "all" ? selectedCategory.id : undefined);
    }, [
        onSearch,
        selectedCategory.id
    ]);
    const handleSuggestionSelect = (0, _react.useCallback)((suggestion)=>{
        // Llamar al callback externo (que manejará la selección)
        onSuggestionSelect?.(suggestion);
    }, [
        onSuggestionSelect
    ]);
    const sizeClasses = {
        sm: "h-10",
        md: "h-12",
        lg: "h-14"
    };
    const buttonSizeClasses = {
        sm: "h-10 px-4",
        md: "h-12 px-6",
        lg: "h-14 px-8"
    };
    const categorySizeClasses = {
        sm: "h-10 px-3 text-xs",
        md: "h-12 px-4 text-sm",
        lg: "h-14 px-5 text-base"
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: (0, _utils.cn)("w-full max-w-2xl", className),
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "flex items-center bg-white border-2 border-white/20 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-white focus-within:border-white shadow-lg search-focus-ring",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)(_dropdownmenu.DropdownMenu, {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_dropdownmenu.DropdownMenuTrigger, {
                            asChild: true,
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                variant: "ghost",
                                className: (0, _utils.cn)("flex-shrink-0 border-0 rounded-none border-r border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700 hover:text-gray-900 gap-2", categorySizeClasses[size]),
                                "aria-expanded": "false",
                                "aria-haspopup": "menu",
                                "data-testid": "category-selector",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(selectedCategory.icon, {
                                        className: "w-4 h-4"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "hidden sm:inline font-medium",
                                        children: selectedCategory.name
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "sm:hidden font-medium",
                                        children: selectedCategory.id === "all" ? "Todo" : selectedCategory.name
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ChevronDown, {
                                        className: "w-3 h-3"
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_dropdownmenu.DropdownMenuContent, {
                            align: "start",
                            className: "w-56",
                            "data-testid": "category-dropdown",
                            children: categories.map((category)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_dropdownmenu.DropdownMenuItem, {
                                    onClick: ()=>handleCategorySelect(category),
                                    className: (0, _utils.cn)("flex items-center gap-3 py-2", selectedCategory.id === category.id && "bg-accent"),
                                    "data-testid": `category-${category.id}`,
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(category.icon, {
                                            className: "w-4 h-4"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            children: category.name
                                        })
                                    ]
                                }, category.id))
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "flex-1 relative",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SearchAutocompleteIntegrated.SearchAutocompleteIntegrated, {
                        // Props de configuración
                        placeholder: selectedCategory.placeholder,
                        onSearch: handleSearch,
                        onSuggestionSelect: handleSuggestionSelect,
                        size: size,
                        className: "w-full [&>div>div>input]:border-0 [&>div>div>input]:rounded-none [&>div>div>input]:bg-white [&>div>div>input]:focus:ring-0 [&>div>div>input]:focus:border-gray-300",
                        maxSuggestions: 6,
                        debounceMs: 150,
                        showRecentSearches: true,
                        showTrendingSearches: true,
                        "data-testid": testId || "search-input"
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                    type: "submit",
                    className: (0, _utils.cn)("rounded-l-none bg-bright-sun hover:bg-bright-sun-600 text-black border-bright-sun hover:border-bright-sun-600 flex-shrink-0 button-hover-lift font-bold transition-all duration-200", buttonSizeClasses[size]),
                    onClick: ()=>{
                        // Trigger search from SearchAutocomplete if needed
                        const searchInput = document.querySelector('[data-testid="search-input"]');
                        if (searchInput?.value) {
                            handleSearch(searchInput.value);
                        }
                    },
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "font-medium",
                        children: "Buscar"
                    })
                })
            ]
        })
    });
};
const _default = EnhancedSearchBar;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcSGVhZGVyXFxFbmhhbmNlZFNlYXJjaEJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFNlYXJjaCwgQ2hldnJvbkRvd24sIFBhbGV0dGUsIEJydXNoLCBXcmVuY2gsIFBhY2thZ2UsIFNwYXJrbGVzIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xyXG5pbXBvcnQge1xyXG4gIERyb3Bkb3duTWVudSxcclxuICBEcm9wZG93bk1lbnVDb250ZW50LFxyXG4gIERyb3Bkb3duTWVudUl0ZW0sXHJcbiAgRHJvcGRvd25NZW51VHJpZ2dlcixcclxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnVcIjtcclxuaW1wb3J0IHsgU2VhcmNoQXV0b2NvbXBsZXRlSW50ZWdyYXRlZCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvU2VhcmNoQXV0b2NvbXBsZXRlSW50ZWdyYXRlZFwiO1xyXG5pbXBvcnQgeyB0eXBlIFNlYXJjaFN1Z2dlc3Rpb24gfSBmcm9tIFwiQC9ob29rcy91c2VTZWFyY2hcIjtcclxuXHJcbi8vIERlZmluaWNpw7NuIGRlIGNhdGVnb3LDrWFzIGNvbiBpY29ub3NcclxuY29uc3QgY2F0ZWdvcmllcyA9IFtcclxuICB7IGlkOiBcImFsbFwiLCBuYW1lOiBcIlRvZGFzIGxhcyBDYXRlZ29yw61hc1wiLCBpY29uOiBQYWNrYWdlLCBwbGFjZWhvbGRlcjogXCJCdXNjbyBwcm9kdWN0b3MgZGUgcGludHVyZXLDrWEuLi5cIiB9LFxyXG4gIHsgaWQ6IFwicGludHVyYXNcIiwgbmFtZTogXCJQaW50dXJhc1wiLCBpY29uOiBQYWxldHRlLCBwbGFjZWhvbGRlcjogXCJCdXNjbyBwaW50dXJhcy4uLlwiIH0sXHJcbiAgeyBpZDogXCJoZXJyYW1pZW50YXNcIiwgbmFtZTogXCJIZXJyYW1pZW50YXNcIiwgaWNvbjogV3JlbmNoLCBwbGFjZWhvbGRlcjogXCJCdXNjbyBoZXJyYW1pZW50YXMuLi5cIiB9LFxyXG4gIHsgaWQ6IFwiYWNjZXNvcmlvc1wiLCBuYW1lOiBcIkFjY2Vzb3Jpb3NcIiwgaWNvbjogUGFja2FnZSwgcGxhY2Vob2xkZXI6IFwiQnVzY28gYWNjZXNvcmlvcy4uLlwiIH0sXHJcbiAgeyBpZDogXCJiYXJuaWNlc1wiLCBuYW1lOiBcIkJhcm5pY2VzXCIsIGljb246IFNwYXJrbGVzLCBwbGFjZWhvbGRlcjogXCJCdXNjbyBiYXJuaWNlcy4uLlwiIH0sXHJcbiAgeyBpZDogXCJlc21hbHRlc1wiLCBuYW1lOiBcIkVzbWFsdGVzXCIsIGljb246IEJydXNoLCBwbGFjZWhvbGRlcjogXCJCdXNjbyBlc21hbHRlcy4uLlwiIH0sXHJcbl07XHJcblxyXG5pbnRlcmZhY2UgRW5oYW5jZWRTZWFyY2hCYXJQcm9wcyB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIG9uU2VhcmNoPzogKHF1ZXJ5OiBzdHJpbmcsIGNhdGVnb3J5Pzogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIG9uU3VnZ2VzdGlvblNlbGVjdD86IChzdWdnZXN0aW9uOiBTZWFyY2hTdWdnZXN0aW9uKSA9PiB2b2lkO1xyXG4gIHNpemU/OiBcInNtXCIgfCBcIm1kXCIgfCBcImxnXCI7XHJcbiAgXCJkYXRhLXRlc3RpZFwiPzogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBFbmhhbmNlZFNlYXJjaEJhcjogUmVhY3QuRkM8RW5oYW5jZWRTZWFyY2hCYXJQcm9wcz4gPSAoe1xyXG4gIGNsYXNzTmFtZSxcclxuICBvblNlYXJjaCxcclxuICBvblN1Z2dlc3Rpb25TZWxlY3QsXHJcbiAgc2l6ZSA9IFwibWRcIixcclxuICBcImRhdGEtdGVzdGlkXCI6IHRlc3RJZCxcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtzZWxlY3RlZENhdGVnb3J5LCBzZXRTZWxlY3RlZENhdGVnb3J5XSA9IHVzZVN0YXRlKGNhdGVnb3JpZXNbMF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVDYXRlZ29yeVNlbGVjdCA9IHVzZUNhbGxiYWNrKChjYXRlZ29yeTogdHlwZW9mIGNhdGVnb3JpZXNbMF0pID0+IHtcclxuICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnkoY2F0ZWdvcnkpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gdXNlQ2FsbGJhY2soKHF1ZXJ5OiBzdHJpbmcpID0+IHtcclxuICAgIC8vIExsYW1hciBhbCBjYWxsYmFjayBleHRlcm5vIChxdWUgbWFuZWphcsOhIGxhIGLDunNxdWVkYSlcclxuICAgIG9uU2VhcmNoPy4ocXVlcnksIHNlbGVjdGVkQ2F0ZWdvcnkuaWQgIT09IFwiYWxsXCIgPyBzZWxlY3RlZENhdGVnb3J5LmlkIDogdW5kZWZpbmVkKTtcclxuICB9LCBbb25TZWFyY2gsIHNlbGVjdGVkQ2F0ZWdvcnkuaWRdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VnZ2VzdGlvblNlbGVjdCA9IHVzZUNhbGxiYWNrKChzdWdnZXN0aW9uOiBTZWFyY2hTdWdnZXN0aW9uKSA9PiB7XHJcbiAgICAvLyBMbGFtYXIgYWwgY2FsbGJhY2sgZXh0ZXJubyAocXVlIG1hbmVqYXLDoSBsYSBzZWxlY2Npw7NuKVxyXG4gICAgb25TdWdnZXN0aW9uU2VsZWN0Py4oc3VnZ2VzdGlvbik7XHJcbiAgfSwgW29uU3VnZ2VzdGlvblNlbGVjdF0pO1xyXG5cclxuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcclxuICAgIHNtOiBcImgtMTBcIixcclxuICAgIG1kOiBcImgtMTJcIixcclxuICAgIGxnOiBcImgtMTRcIlxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGJ1dHRvblNpemVDbGFzc2VzID0ge1xyXG4gICAgc206IFwiaC0xMCBweC00XCIsXHJcbiAgICBtZDogXCJoLTEyIHB4LTZcIixcclxuICAgIGxnOiBcImgtMTQgcHgtOFwiXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2F0ZWdvcnlTaXplQ2xhc3NlcyA9IHtcclxuICAgIHNtOiBcImgtMTAgcHgtMyB0ZXh0LXhzXCIsXHJcbiAgICBtZDogXCJoLTEyIHB4LTQgdGV4dC1zbVwiLFxyXG4gICAgbGc6IFwiaC0xNCBweC01IHRleHQtYmFzZVwiXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcInctZnVsbCBtYXgtdy0yeGxcIiwgY2xhc3NOYW1lKX0+XHJcbiAgICAgIHsvKiBGb3JtdWxhcmlvIGRlIGLDunNxdWVkYSBjb24gc2VsZWN0b3IgZGUgY2F0ZWdvcsOtYXMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgYmctd2hpdGUgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzIwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGZvY3VzLXdpdGhpbjpyaW5nLTIgZm9jdXMtd2l0aGluOnJpbmctd2hpdGUgZm9jdXMtd2l0aGluOmJvcmRlci13aGl0ZSBzaGFkb3ctbGcgc2VhcmNoLWZvY3VzLXJpbmdcIj5cclxuICAgICAgICB7LyogU2VsZWN0b3IgZGUgY2F0ZWdvcsOtYXMgKi99XHJcbiAgICAgICAgPERyb3Bkb3duTWVudT5cclxuICAgICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+XHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICBcImZsZXgtc2hyaW5rLTAgYm9yZGVyLTAgcm91bmRlZC1ub25lIGJvcmRlci1yIGJvcmRlci1ncmF5LTIwMCBiZy1ncmF5LTUwIGhvdmVyOmJnLWdyYXktMTAwIHRleHQtZ3JheS03MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBnYXAtMlwiLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlTaXplQ2xhc3Nlc1tzaXplXVxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcclxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwibWVudVwiXHJcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJjYXRlZ29yeS1zZWxlY3RvclwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8c2VsZWN0ZWRDYXRlZ29yeS5pY29uIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmUgZm9udC1tZWRpdW1cIj57c2VsZWN0ZWRDYXRlZ29yeS5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW4gZm9udC1tZWRpdW1cIj5cclxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZENhdGVnb3J5LmlkID09PSBcImFsbFwiID8gXCJUb2RvXCIgOiBzZWxlY3RlZENhdGVnb3J5Lm5hbWV9XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+XHJcbiAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj1cInN0YXJ0XCIgY2xhc3NOYW1lPVwidy01NlwiIGRhdGEtdGVzdGlkPVwiY2F0ZWdvcnktZHJvcGRvd25cIj5cclxuICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxyXG4gICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVJdGVtXHJcbiAgICAgICAgICAgICAgICBrZXk9e2NhdGVnb3J5LmlkfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ2F0ZWdvcnlTZWxlY3QoY2F0ZWdvcnkpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICAgICAgXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweS0yXCIsXHJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnkuaWQgPT09IGNhdGVnb3J5LmlkICYmIFwiYmctYWNjZW50XCJcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YGNhdGVnb3J5LSR7Y2F0ZWdvcnkuaWR9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8Y2F0ZWdvcnkuaWNvbiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuPntjYXRlZ29yeS5uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9Ecm9wZG93bk1lbnVDb250ZW50PlxyXG4gICAgICAgIDwvRHJvcGRvd25NZW51PlxyXG5cclxuICAgICAgICB7LyogQ2FtcG8gZGUgYsO6c3F1ZWRhIGNvbiBhdXRvY29tcGxldGFkbyAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgPFNlYXJjaEF1dG9jb21wbGV0ZUludGVncmF0ZWRcclxuICAgICAgICAgICAgLy8gUHJvcHMgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3NlbGVjdGVkQ2F0ZWdvcnkucGxhY2Vob2xkZXJ9XHJcbiAgICAgICAgICAgIG9uU2VhcmNoPXtoYW5kbGVTZWFyY2h9XHJcbiAgICAgICAgICAgIG9uU3VnZ2VzdGlvblNlbGVjdD17aGFuZGxlU3VnZ2VzdGlvblNlbGVjdH1cclxuICAgICAgICAgICAgc2l6ZT17c2l6ZX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIFsmPmRpdj5kaXY+aW5wdXRdOmJvcmRlci0wIFsmPmRpdj5kaXY+aW5wdXRdOnJvdW5kZWQtbm9uZSBbJj5kaXY+ZGl2PmlucHV0XTpiZy13aGl0ZSBbJj5kaXY+ZGl2PmlucHV0XTpmb2N1czpyaW5nLTAgWyY+ZGl2PmRpdj5pbnB1dF06Zm9jdXM6Ym9yZGVyLWdyYXktMzAwXCJcclxuICAgICAgICAgICAgbWF4U3VnZ2VzdGlvbnM9ezZ9XHJcbiAgICAgICAgICAgIGRlYm91bmNlTXM9ezE1MH1cclxuICAgICAgICAgICAgc2hvd1JlY2VudFNlYXJjaGVzPXt0cnVlfVxyXG4gICAgICAgICAgICBzaG93VHJlbmRpbmdTZWFyY2hlcz17dHJ1ZX1cclxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJZCB8fCBcInNlYXJjaC1pbnB1dFwifVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIEJvdMOzbiBkZSBiw7pzcXVlZGEgLSBTSU4gw61jb25vIGR1cGxpY2FkbyAqL31cclxuICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgIFwicm91bmRlZC1sLW5vbmUgYmctYnJpZ2h0LXN1biBob3ZlcjpiZy1icmlnaHQtc3VuLTYwMCB0ZXh0LWJsYWNrIGJvcmRlci1icmlnaHQtc3VuIGhvdmVyOmJvcmRlci1icmlnaHQtc3VuLTYwMCBmbGV4LXNocmluay0wIGJ1dHRvbi1ob3Zlci1saWZ0IGZvbnQtYm9sZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIixcclxuICAgICAgICAgICAgYnV0dG9uU2l6ZUNsYXNzZXNbc2l6ZV1cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgc2VhcmNoIGZyb20gU2VhcmNoQXV0b2NvbXBsZXRlIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cInNlYXJjaC1pbnB1dFwiXScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hJbnB1dD8udmFsdWUpIHtcclxuICAgICAgICAgICAgICBoYW5kbGVTZWFyY2goc2VhcmNoSW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+QnVzY2FyPC9zcGFuPlxyXG4gICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFbmhhbmNlZFNlYXJjaEJhcjtcclxuIl0sIm5hbWVzIjpbImNhdGVnb3JpZXMiLCJpZCIsIm5hbWUiLCJpY29uIiwiUGFja2FnZSIsInBsYWNlaG9sZGVyIiwiUGFsZXR0ZSIsIldyZW5jaCIsIlNwYXJrbGVzIiwiQnJ1c2giLCJFbmhhbmNlZFNlYXJjaEJhciIsImNsYXNzTmFtZSIsIm9uU2VhcmNoIiwib25TdWdnZXN0aW9uU2VsZWN0Iiwic2l6ZSIsInRlc3RJZCIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJzZXRTZWxlY3RlZENhdGVnb3J5IiwidXNlU3RhdGUiLCJoYW5kbGVDYXRlZ29yeVNlbGVjdCIsInVzZUNhbGxiYWNrIiwiY2F0ZWdvcnkiLCJoYW5kbGVTZWFyY2giLCJxdWVyeSIsInVuZGVmaW5lZCIsImhhbmRsZVN1Z2dlc3Rpb25TZWxlY3QiLCJzdWdnZXN0aW9uIiwic2l6ZUNsYXNzZXMiLCJzbSIsIm1kIiwibGciLCJidXR0b25TaXplQ2xhc3NlcyIsImNhdGVnb3J5U2l6ZUNsYXNzZXMiLCJkaXYiLCJjbiIsIkRyb3Bkb3duTWVudSIsIkRyb3Bkb3duTWVudVRyaWdnZXIiLCJhc0NoaWxkIiwiQnV0dG9uIiwidmFyaWFudCIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWhhc3BvcHVwIiwiZGF0YS10ZXN0aWQiLCJzcGFuIiwiQ2hldnJvbkRvd24iLCJEcm9wZG93bk1lbnVDb250ZW50IiwiYWxpZ24iLCJtYXAiLCJEcm9wZG93bk1lbnVJdGVtIiwib25DbGljayIsIlNlYXJjaEF1dG9jb21wbGV0ZUludGVncmF0ZWQiLCJtYXhTdWdnZXN0aW9ucyIsImRlYm91bmNlTXMiLCJzaG93UmVjZW50U2VhcmNoZXMiLCJzaG93VHJlbmRpbmdTZWFyY2hlcyIsInR5cGUiLCJzZWFyY2hJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZhbHVlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBNEpBOzs7ZUFBQTs7OzsrREExSjZDOzZCQUNrQzt3QkFDeEQ7dUJBQ0o7OEJBTVo7OENBQ3NDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHN0Msc0NBQXNDO0FBQ3RDLE1BQU1BLGFBQWE7SUFDakI7UUFBRUMsSUFBSTtRQUFPQyxNQUFNO1FBQXdCQyxNQUFNQyxvQkFBTztRQUFFQyxhQUFhO0lBQW1DO0lBQzFHO1FBQUVKLElBQUk7UUFBWUMsTUFBTTtRQUFZQyxNQUFNRyxvQkFBTztRQUFFRCxhQUFhO0lBQW9CO0lBQ3BGO1FBQUVKLElBQUk7UUFBZ0JDLE1BQU07UUFBZ0JDLE1BQU1JLG1CQUFNO1FBQUVGLGFBQWE7SUFBd0I7SUFDL0Y7UUFBRUosSUFBSTtRQUFjQyxNQUFNO1FBQWNDLE1BQU1DLG9CQUFPO1FBQUVDLGFBQWE7SUFBc0I7SUFDMUY7UUFBRUosSUFBSTtRQUFZQyxNQUFNO1FBQVlDLE1B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