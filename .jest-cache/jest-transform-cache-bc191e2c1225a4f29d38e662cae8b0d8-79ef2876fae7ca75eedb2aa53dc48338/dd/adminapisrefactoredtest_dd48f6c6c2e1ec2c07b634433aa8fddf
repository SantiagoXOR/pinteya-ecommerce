fa184c920691783b0de5c5256a7126ce
/**
 * Tests para APIs Admin Refactorizadas
 * Verifica que las APIs admin refactorizadas funcionan con utilidades enterprise + RLS
 */ // Mock de utilidades enterprise
"use strict";
jest.mock('@/lib/auth/enterprise-auth-utils', ()=>({
        requireAdminAuth: jest.fn(),
        requireCriticalAuth: jest.fn()
    }));
jest.mock('@/lib/auth/enterprise-rls-utils', ()=>({
        executeWithRLS: jest.fn(),
        validateRLSContext: jest.fn(),
        checkRLSPermission: jest.fn(),
        createRLSFilters: jest.fn()
    }));
jest.mock('@/lib/auth/enterprise-cache', ()=>({
        withCache: jest.fn(),
        getCacheStats: jest.fn(),
        invalidateUserCache: jest.fn()
    }));
// Mock de auth legacy
jest.mock('@/lib/auth/admin-auth', ()=>({
        getAuthenticatedUser: jest.fn(),
        getAuthenticatedAdmin: jest.fn(),
        checkAdminAccess: jest.fn(),
        checkCRUDPermissions: jest.fn()
    }));
// Mock de security audit
jest.mock('@/lib/auth/security-audit-enhanced', ()=>({
        getSecurityMetrics: jest.fn(),
        getActiveSecurityAlerts: jest.fn()
    }));
// Mock de Supabase
jest.mock('@/lib/supabase', ()=>({
        supabaseAdmin: {
            auth: {
                admin: {
                    listUsers: jest.fn(),
                    createUser: jest.fn()
                }
            },
            from: jest.fn(()=>({
                    select: jest.fn(()=>({
                            eq: jest.fn(()=>({
                                    single: jest.fn()
                                }))
                        })),
                    insert: jest.fn(()=>({
                            select: jest.fn(()=>({
                                    single: jest.fn()
                                }))
                        })),
                    update: jest.fn(()=>({
                            eq: jest.fn(()=>({
                                    select: jest.fn(()=>({
                                            single: jest.fn()
                                        }))
                                }))
                        }))
                }))
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _enterpriseauthutils = require("../lib/auth/enterprise-auth-utils");
const _enterpriserlsutils = require("../lib/auth/enterprise-rls-utils");
const _enterprisecache = require("../lib/auth/enterprise-cache");
const _adminauth = require("../lib/auth/admin-auth");
const _securityauditenhanced = require("../lib/auth/security-audit-enhanced");
describe('APIs Admin Refactorizadas', ()=>{
    let mockRequireAdminAuth;
    let mockRequireCriticalAuth;
    let mockExecuteWithRLS;
    let mockWithCache;
    let mockGetCacheStats;
    let mockGetAuthenticatedAdmin;
    let mockCheckCRUDPermissions;
    let mockGetSecurityMetrics;
    beforeEach(()=>{
        mockRequireAdminAuth = _enterpriseauthutils.requireAdminAuth;
        mockRequireCriticalAuth = _enterpriseauthutils.requireCriticalAuth;
        mockExecuteWithRLS = _enterpriserlsutils.executeWithRLS;
        mockWithCache = _enterprisecache.withCache;
        mockGetCacheStats = _enterprisecache.getCacheStats;
        mockGetAuthenticatedAdmin = _adminauth.getAuthenticatedAdmin;
        mockCheckCRUDPermissions = _adminauth.checkCRUDPermissions;
        mockGetSecurityMetrics = _securityauditenhanced.getSecurityMetrics;
        jest.clearAllMocks();
        // Setup default mocks
        mockRequireAdminAuth.mockResolvedValue({
            success: true,
            context: {
                userId: 'user_123',
                sessionId: 'sess_123',
                email: 'admin@test.com',
                role: 'admin',
                permissions: [
                    'admin_access',
                    'user_management',
                    'products_read'
                ],
                sessionValid: true,
                securityLevel: 'critical',
                ipAddress: '127.0.0.1',
                userAgent: 'test-agent',
                supabase: {},
                validations: {
                    jwtValid: true,
                    csrfValid: true,
                    rateLimitPassed: true,
                    originValid: true
                }
            }
        });
        mockRequireCriticalAuth.mockResolvedValue({
            success: true,
            context: {
                userId: 'user_123',
                sessionId: 'sess_123',
                email: 'admin@test.com',
                role: 'admin',
                permissions: [
                    'admin_access',
                    'admin_create'
                ],
                sessionValid: true,
                securityLevel: 'critical',
                ipAddress: '127.0.0.1',
                userAgent: 'test-agent',
                supabase: {},
                validations: {
                    jwtValid: true,
                    csrfValid: true,
                    rateLimitPassed: true,
                    originValid: true
                }
            }
        });
        mockExecuteWithRLS.mockResolvedValue({
            success: true,
            data: {
                test: 'data'
            }
        });
        mockWithCache.mockImplementation(async (key, fetcher)=>{
            return await fetcher();
        });
        mockGetCacheStats.mockReturnValue({
            hits: 10,
            misses: 2,
            entries: 5,
            hitRate: 83.33,
            memoryUsage: 1024
        });
        // Setup legacy mocks
        mockGetAuthenticatedAdmin.mockResolvedValue({
            userId: 'user_123',
            sessionId: 'sess_123',
            isAdmin: true,
            supabase: {}
        });
        mockCheckCRUDPermissions.mockResolvedValue({
            success: true,
            user: {
                id: 'profile_123',
                email: 'admin@test.com',
                user_roles: {
                    role_name: 'admin'
                }
            },
            supabase: {}
        });
        mockGetSecurityMetrics.mockResolvedValue({
            total_events: 100,
            security_alerts: 5,
            failed_logins: 10
        });
    });
    describe('API de Debug Check Admin Access', ()=>{
        it('debe usar autenticación enterprise y legacy para comparación', async ()=>{
            // Mock de la API
            const { GET } = require('@/app/api/debug/check-admin-access/route');
            const mockRequest = {
                method: 'GET',
                url: 'http://localhost:3000/api/debug/check-admin-access',
                headers: new Map([
                    [
                        'user-agent',
                        'test-agent'
                    ]
                ])
            };
            const response = await GET(mockRequest);
            const responseData = await response.json();
            expect(mockRequireAdminAuth).toHaveBeenCalledWith(mockRequest, [
                'admin_access'
            ]);
            expect(responseData.success).toBe(true);
            expect(responseData.enterprise).toBeDefined();
            expect(responseData.legacy).toBeDefined();
            expect(responseData.migration.status).toBe('ENTERPRISE_COMPLETED');
        });
        it('debe manejar fallo de autenticación enterprise', async ()=>{
            mockRequireAdminAuth.mockResolvedValue({
                success: false,
                error: 'Authentication failed',
                code: 'AUTH_FAILED',
                status: 401
            });
            const { GET } = require('@/app/api/debug/check-admin-access/route');
            const mockRequest = {
                method: 'GET',
                url: 'http://localhost:3000/api/debug/check-admin-access',
                headers: new Map()
            };
            const response = await GET(mockRequest);
            const responseData = await response.json();
            expect(responseData.enterprise.status).toBe('FAILED');
            expect(responseData.enterprise.error).toBe('Authentication failed');
        });
    });
    describe('API de Debug Admin Products', ()=>{
        it('debe usar RLS para consultar productos', async ()=>{
            mockExecuteWithRLS.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 1,
                        name: 'Product 1',
                        price: 100
                    },
                    {
                        id: 2,
                        name: 'Product 2',
                        price: 200
                    }
                ]
            });
            const { GET } = require('@/app/api/debug/admin-products/route');
            const mockRequest = {
                method: 'GET',
                url: 'http://localhost:3000/api/debug/admin-products',
                headers: new Map()
            };
            const response = await GET(mockRequest);
            const responseData = await response.json();
            expect(mockRequireAdminAuth).toHaveBeenCalledWith(mockRequest, [
                'products_read'
            ]);
            expect(mockExecuteWithRLS).toHaveBeenCalled();
            expect(responseData.enterprise.rls.products_found).toBe(2);
            expect(responseData.enterprise.rls.sample_products).toHaveLength(2);
        });
        it('debe comparar métodos enterprise y legacy', async ()=>{
            const { GET } = require('@/app/api/debug/admin-products/route');
            const mockRequest = {
                method: 'GET',
                url: 'http://localhost:3000/api/debug/admin-products'
            };
            const response = await GET(mockRequest);
            const responseData = await response.json();
            expect(responseData.comparison).toBeDefined();
            expect(responseData.comparison.enterprise_advantages).toContain('RLS integration with automatic filters');
            expect(responseData.enterprise).toBeDefined();
            expect(responseData.legacy).toBeDefined();
        });
    });
    describe('API de Seguridad Enterprise', ()=>{
        it('debe usar cache enterprise para métricas', async ()=>{
            const mockMetrics = {
                total_events: 100,
                security_alerts: 5,
                failed_logins: 10
            };
            mockWithCache.mockResolvedValue(mockMetrics);
            // Mock de la función getSecurityMetrics
            jest.doMock('@/lib/auth/security-audit-enhanced', ()=>({
                    getSecurityMetrics: jest.fn().mockResolvedValue(mockMetrics)
                }));
            const { GET } = require('@/app/api/auth/security/route');
            const mockRequest = {
                method: 'GET',
                url: 'http://localhost:3000/api/auth/security?action=metrics',
                headers: new Map()
            };
            const response = await GET(mockRequest);
            const responseData = await response.json();
            expect(mockRequireAdminAuth).toHaveBeenCalledWith(mockRequest, [
                'security_read',
                'admin_access'
            ]);
            expect(mockWithCache).toHaveBeenCalled();
            expect(responseData.data.metrics).toEqual(mockMetrics);
            expect(responseData.data.cache).toBeDefined();
            expect(responseData.enterprise).toBe(true);
        });
    });
    describe('API de Creación de Admin Enterprise', ()=>{
        it('debe usar autenticación crítica para crear admin', async ()=>{
            mockExecuteWithRLS.mockResolvedValue({
                success: true,
                data: {
                    action: 'created',
                    authUser: {
                        id: 'auth_123',
                        email: 'new-admin@test.com'
                    },
                    profile: {
                        id: 'profile_123',
                        first_name: 'New',
                        last_name: 'Admin',
                        permissions: [
                            'admin_access'
                        ],
                        user_roles: {
                            role_name: 'admin'
                        }
                    }
                }
            });
            const { POST } = require('@/app/api/admin/create-admin-user-enterprise/route');
            const mockRequest = {
                method: 'POST',
                json: jest.fn().mockResolvedValue({
                    securityKey: 'CREATE_ADMIN_PINTEYA_ENTERPRISE_2025',
                    email: 'new-admin@test.com',
                    password: 'SecurePassword123!',
                    firstName: 'New',
                    lastName: 'Admin'
                })
            };
            const response = await POST(mockRequest);
            const responseData = await response.json();
            expect(mockRequireCriticalAuth).toHaveBeenCalledWith(mockRequest);
            expect(mockExecuteWithRLS).toHaveBeenCalled();
            expect(responseData.success).toBe(true);
            expect(responseData.data.action).toBe('created');
            expect(responseData.enterprise.security_level).toBe('critical');
        });
        it('debe validar contraseña robusta', async ()=>{
            const { POST } = require('@/app/api/admin/create-admin-user-enterprise/route');
            const mockRequest = {
                method: 'POST',
                json: jest.fn().mockResolvedValue({
                    securityKey: 'CREATE_ADMIN_PINTEYA_ENTERPRISE_2025',
                    email: 'new-admin@test.com',
                    password: 'weak',
                    firstName: 'New',
                    lastName: 'Admin'
                })
            };
            const response = await POST(mockRequest);
            const responseData = await response.json();
            expect(response.status).toBe(400);
            expect(responseData.error).toContain('12 caracteres');
            expect(responseData.code).toBe('WEAK_PASSWORD');
        });
        it('debe validar clave de seguridad', async ()=>{
            const { POST } = require('@/app/api/admin/create-admin-user-enterprise/route');
            const mockRequest = {
                method: 'POST',
                json: jest.fn().mockResolvedValue({
                    securityKey: 'WRONG_KEY',
                    email: 'new-admin@test.com',
                    password: 'SecurePassword123!'
                })
            };
            const response = await POST(mockRequest);
            const responseData = await response.json();
            expect(response.status).toBe(403);
            expect(responseData.error).toContain('Clave de seguridad enterprise incorrecta');
            expect(responseData.code).toBe('INVALID_SECURITY_KEY');
        });
    });
    describe('Integración General', ()=>{
        it('debe usar cache stats en todas las APIs enterprise', ()=>{
            expect(mockGetCacheStats).toHaveBeenCalled();
        });
        it('debe usar RLS en operaciones de base de datos', ()=>{
            expect(mockExecuteWithRLS).toHaveBeenCalled();
        });
        it('debe requerir permisos específicos para cada operación', ()=>{
            expect(mockRequireAdminAuth).toHaveBeenCalledWith(expect.any(Object), expect.arrayContaining([
                expect.any(String)
            ]));
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxhZG1pbi1hcGlzLXJlZmFjdG9yZWQudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3RzIHBhcmEgQVBJcyBBZG1pbiBSZWZhY3Rvcml6YWRhc1xuICogVmVyaWZpY2EgcXVlIGxhcyBBUElzIGFkbWluIHJlZmFjdG9yaXphZGFzIGZ1bmNpb25hbiBjb24gdXRpbGlkYWRlcyBlbnRlcnByaXNlICsgUkxTXG4gKi9cblxuLy8gTW9jayBkZSB1dGlsaWRhZGVzIGVudGVycHJpc2Vcbmplc3QubW9jaygnQC9saWIvYXV0aC9lbnRlcnByaXNlLWF1dGgtdXRpbHMnLCAoKSA9PiAoe1xuICByZXF1aXJlQWRtaW5BdXRoOiBqZXN0LmZuKCksXG4gIHJlcXVpcmVDcml0aWNhbEF1dGg6IGplc3QuZm4oKVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1ybHMtdXRpbHMnLCAoKSA9PiAoe1xuICBleGVjdXRlV2l0aFJMUzogamVzdC5mbigpLFxuICB2YWxpZGF0ZVJMU0NvbnRleHQ6IGplc3QuZm4oKSxcbiAgY2hlY2tSTFNQZXJtaXNzaW9uOiBqZXN0LmZuKCksXG4gIGNyZWF0ZVJMU0ZpbHRlcnM6IGplc3QuZm4oKVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1jYWNoZScsICgpID0+ICh7XG4gIHdpdGhDYWNoZTogamVzdC5mbigpLFxuICBnZXRDYWNoZVN0YXRzOiBqZXN0LmZuKCksXG4gIGludmFsaWRhdGVVc2VyQ2FjaGU6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIGRlIGF1dGggbGVnYWN5XG5qZXN0Lm1vY2soJ0AvbGliL2F1dGgvYWRtaW4tYXV0aCcsICgpID0+ICh7XG4gIGdldEF1dGhlbnRpY2F0ZWRVc2VyOiBqZXN0LmZuKCksXG4gIGdldEF1dGhlbnRpY2F0ZWRBZG1pbjogamVzdC5mbigpLFxuICBjaGVja0FkbWluQWNjZXNzOiBqZXN0LmZuKCksXG4gIGNoZWNrQ1JVRFBlcm1pc3Npb25zOiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayBkZSBzZWN1cml0eSBhdWRpdFxuamVzdC5tb2NrKCdAL2xpYi9hdXRoL3NlY3VyaXR5LWF1ZGl0LWVuaGFuY2VkJywgKCkgPT4gKHtcbiAgZ2V0U2VjdXJpdHlNZXRyaWNzOiBqZXN0LmZuKCksXG4gIGdldEFjdGl2ZVNlY3VyaXR5QWxlcnRzOiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayBkZSBTdXBhYmFzZVxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZScsICgpID0+ICh7XG4gIHN1cGFiYXNlQWRtaW46IHtcbiAgICBhdXRoOiB7XG4gICAgICBhZG1pbjoge1xuICAgICAgICBsaXN0VXNlcnM6IGplc3QuZm4oKSxcbiAgICAgICAgY3JlYXRlVXNlcjogamVzdC5mbigpXG4gICAgICB9XG4gICAgfSxcbiAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgZXE6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKVxuICAgICAgICB9KSlcbiAgICAgIH0pKSxcbiAgICAgIGluc2VydDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKVxuICAgICAgICB9KSlcbiAgICAgIH0pKSxcbiAgICAgIHVwZGF0ZTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBlcTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKClcbiAgICAgICAgICB9KSlcbiAgICAgICAgfSkpXG4gICAgICB9KSlcbiAgICB9KSlcbiAgfVxufSkpO1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7XG4gIHJlcXVpcmVBZG1pbkF1dGgsXG4gIHJlcXVpcmVDcml0aWNhbEF1dGhcbn0gZnJvbSAnQC9saWIvYXV0aC9lbnRlcnByaXNlLWF1dGgtdXRpbHMnO1xuaW1wb3J0IHtcbiAgZXhlY3V0ZVdpdGhSTFMsXG4gIHZhbGlkYXRlUkxTQ29udGV4dCxcbiAgY2hlY2tSTFNQZXJtaXNzaW9uLFxuICBjcmVhdGVSTFNGaWx0ZXJzXG59IGZyb20gJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1ybHMtdXRpbHMnO1xuaW1wb3J0IHtcbiAgd2l0aENhY2hlLFxuICBnZXRDYWNoZVN0YXRzLFxuICBpbnZhbGlkYXRlVXNlckNhY2hlXG59IGZyb20gJ0AvbGliL2F1dGgvZW50ZXJwcmlzZS1jYWNoZSc7XG5pbXBvcnQge1xuICBnZXRBdXRoZW50aWNhdGVkVXNlcixcbiAgZ2V0QXV0aGVudGljYXRlZEFkbWluLFxuICBjaGVja0FkbWluQWNjZXNzLFxuICBjaGVja0NSVURQZXJtaXNzaW9uc1xufSBmcm9tICdAL2xpYi9hdXRoL2FkbWluLWF1dGgnO1xuaW1wb3J0IHtcbiAgZ2V0U2VjdXJpdHlNZXRyaWNzLFxuICBnZXRBY3RpdmVTZWN1cml0eUFsZXJ0c1xufSBmcm9tICdAL2xpYi9hdXRoL3NlY3VyaXR5LWF1ZGl0LWVuaGFuY2VkJztcblxuZGVzY3JpYmUoJ0FQSXMgQWRtaW4gUmVmYWN0b3JpemFkYXMnLCAoKSA9PiB7XG4gIGxldCBtb2NrUmVxdWlyZUFkbWluQXV0aDogamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgcmVxdWlyZUFkbWluQXV0aD47XG4gIGxldCBtb2NrUmVxdWlyZUNyaXRpY2FsQXV0aDogamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgcmVxdWlyZUNyaXRpY2FsQXV0aD47XG4gIGxldCBtb2NrRXhlY3V0ZVdpdGhSTFM6IGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGV4ZWN1dGVXaXRoUkxTPjtcbiAgbGV0IG1vY2tXaXRoQ2FjaGU6IGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHdpdGhDYWNoZT47XG4gIGxldCBtb2NrR2V0Q2FjaGVTdGF0czogamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZ2V0Q2FjaGVTdGF0cz47XG4gIGxldCBtb2NrR2V0QXV0aGVudGljYXRlZEFkbWluOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBnZXRBdXRoZW50aWNhdGVkQWRtaW4+O1xuICBsZXQgbW9ja0NoZWNrQ1JVRFBlcm1pc3Npb25zOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBjaGVja0NSVURQZXJtaXNzaW9ucz47XG4gIGxldCBtb2NrR2V0U2VjdXJpdHlNZXRyaWNzOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBnZXRTZWN1cml0eU1ldHJpY3M+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tSZXF1aXJlQWRtaW5BdXRoID0gcmVxdWlyZUFkbWluQXV0aCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiByZXF1aXJlQWRtaW5BdXRoPjtcbiAgICBtb2NrUmVxdWlyZUNyaXRpY2FsQXV0aCA9IHJlcXVpcmVDcml0aWNhbEF1dGggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgcmVxdWlyZUNyaXRpY2FsQXV0aD47XG4gICAgbW9ja0V4ZWN1dGVXaXRoUkxTID0gZXhlY3V0ZVdpdGhSTFMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZXhlY3V0ZVdpdGhSTFM+O1xuICAgIG1vY2tXaXRoQ2FjaGUgPSB3aXRoQ2FjaGUgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2Ygd2l0aENhY2hlPjtcbiAgICBtb2NrR2V0Q2FjaGVTdGF0cyA9IGdldENhY2hlU3RhdHMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZ2V0Q2FjaGVTdGF0cz47XG4gICAgbW9ja0dldEF1dGhlbnRpY2F0ZWRBZG1pbiA9IGdldEF1dGhlbnRpY2F0ZWRBZG1pbiBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBnZXRBdXRoZW50aWNhdGVkQWRtaW4+O1xuICAgIG1vY2tDaGVja0NSVURQZXJtaXNzaW9ucyA9IGNoZWNrQ1JVRFBlcm1pc3Npb25zIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGNoZWNrQ1JVRFBlcm1pc3Npb25zPjtcbiAgICBtb2NrR2V0U2VjdXJpdHlNZXRyaWNzID0gZ2V0U2VjdXJpdHlNZXRyaWNzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGdldFNlY3VyaXR5TWV0cmljcz47XG5cbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIFNldHVwIGRlZmF1bHQgbW9ja3NcbiAgICBtb2NrUmVxdWlyZUFkbWluQXV0aC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY29udGV4dDoge1xuICAgICAgICB1c2VySWQ6ICd1c2VyXzEyMycsXG4gICAgICAgIHNlc3Npb25JZDogJ3Nlc3NfMTIzJyxcbiAgICAgICAgZW1haWw6ICdhZG1pbkB0ZXN0LmNvbScsXG4gICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgIHBlcm1pc3Npb25zOiBbJ2FkbWluX2FjY2VzcycsICd1c2VyX21hbmFnZW1lbnQnLCAncHJvZHVjdHNfcmVhZCddLFxuICAgICAgICBzZXNzaW9uVmFsaWQ6IHRydWUsXG4gICAgICAgIHNlY3VyaXR5TGV2ZWw6ICdjcml0aWNhbCcsXG4gICAgICAgIGlwQWRkcmVzczogJzEyNy4wLjAuMScsXG4gICAgICAgIHVzZXJBZ2VudDogJ3Rlc3QtYWdlbnQnLFxuICAgICAgICBzdXBhYmFzZToge30gYXMgYW55LFxuICAgICAgICB2YWxpZGF0aW9uczoge1xuICAgICAgICAgIGp3dFZhbGlkOiB0cnVlLFxuICAgICAgICAgIGNzcmZWYWxpZDogdHJ1ZSxcbiAgICAgICAgICByYXRlTGltaXRQYXNzZWQ6IHRydWUsXG4gICAgICAgICAgb3JpZ2luVmFsaWQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9ja1JlcXVpcmVDcml0aWNhbEF1dGgubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgdXNlcklkOiAndXNlcl8xMjMnLFxuICAgICAgICBzZXNzaW9uSWQ6ICdzZXNzXzEyMycsXG4gICAgICAgIGVtYWlsOiAnYWRtaW5AdGVzdC5jb20nLFxuICAgICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgICBwZXJtaXNzaW9uczogWydhZG1pbl9hY2Nlc3MnLCAnYWRtaW5fY3JlYXRlJ10sXG4gICAgICAgIHNlc3Npb25WYWxpZDogdHJ1ZSxcbiAgICAgICAgc2VjdXJpdHlMZXZlbDogJ2NyaXRpY2FsJyxcbiAgICAgICAgaXBBZGRyZXNzOiAnMTI3LjAuMC4xJyxcbiAgICAgICAgdXNlckFnZW50OiAndGVzdC1hZ2VudCcsXG4gICAgICAgIHN1cGFiYXNlOiB7fSBhcyBhbnksXG4gICAgICAgIHZhbGlkYXRpb25zOiB7XG4gICAgICAgICAgand0VmFsaWQ6IHRydWUsXG4gICAgICAgICAgY3NyZlZhbGlkOiB0cnVlLFxuICAgICAgICAgIHJhdGVMaW1pdFBhc3NlZDogdHJ1ZSxcbiAgICAgICAgICBvcmlnaW5WYWxpZDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtb2NrRXhlY3V0ZVdpdGhSTFMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHsgdGVzdDogJ2RhdGEnIH1cbiAgICB9KTtcblxuICAgIG1vY2tXaXRoQ2FjaGUubW9ja0ltcGxlbWVudGF0aW9uKGFzeW5jIChrZXksIGZldGNoZXIpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBmZXRjaGVyKCk7XG4gICAgfSk7XG5cbiAgICBtb2NrR2V0Q2FjaGVTdGF0cy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgaGl0czogMTAsXG4gICAgICBtaXNzZXM6IDIsXG4gICAgICBlbnRyaWVzOiA1LFxuICAgICAgaGl0UmF0ZTogODMuMzMsXG4gICAgICBtZW1vcnlVc2FnZTogMTAyNFxuICAgIH0pO1xuXG4gICAgLy8gU2V0dXAgbGVnYWN5IG1vY2tzXG4gICAgbW9ja0dldEF1dGhlbnRpY2F0ZWRBZG1pbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1c2VySWQ6ICd1c2VyXzEyMycsXG4gICAgICBzZXNzaW9uSWQ6ICdzZXNzXzEyMycsXG4gICAgICBpc0FkbWluOiB0cnVlLFxuICAgICAgc3VwYWJhc2U6IHt9IGFzIGFueVxuICAgIH0pO1xuXG4gICAgbW9ja0NoZWNrQ1JVRFBlcm1pc3Npb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIGlkOiAncHJvZmlsZV8xMjMnLFxuICAgICAgICBlbWFpbDogJ2FkbWluQHRlc3QuY29tJyxcbiAgICAgICAgdXNlcl9yb2xlczogeyByb2xlX25hbWU6ICdhZG1pbicgfVxuICAgICAgfSxcbiAgICAgIHN1cGFiYXNlOiB7fSBhcyBhbnlcbiAgICB9KTtcblxuICAgIG1vY2tHZXRTZWN1cml0eU1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgdG90YWxfZXZlbnRzOiAxMDAsXG4gICAgICBzZWN1cml0eV9hbGVydHM6IDUsXG4gICAgICBmYWlsZWRfbG9naW5zOiAxMFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQVBJIGRlIERlYnVnIENoZWNrIEFkbWluIEFjY2VzcycsICgpID0+IHtcbiAgICBpdCgnZGViZSB1c2FyIGF1dGVudGljYWNpw7NuIGVudGVycHJpc2UgeSBsZWdhY3kgcGFyYSBjb21wYXJhY2nDs24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGRlIGxhIEFQSVxuICAgICAgY29uc3QgeyBHRVQgfSA9IHJlcXVpcmUoJ0AvYXBwL2FwaS9kZWJ1Zy9jaGVjay1hZG1pbi1hY2Nlc3Mvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGVidWcvY2hlY2stYWRtaW4tYWNjZXNzJyxcbiAgICAgICAgaGVhZGVyczogbmV3IE1hcChbWyd1c2VyLWFnZW50JywgJ3Rlc3QtYWdlbnQnXV0pXG4gICAgICB9IGFzIGFueTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQobW9ja1JlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QobW9ja1JlcXVpcmVBZG1pbkF1dGgpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tSZXF1ZXN0LCBbJ2FkbWluX2FjY2VzcyddKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZW50ZXJwcmlzZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEubGVnYWN5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5taWdyYXRpb24uc3RhdHVzKS50b0JlKCdFTlRFUlBSSVNFX0NPTVBMRVRFRCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgbWFuZWphciBmYWxsbyBkZSBhdXRlbnRpY2FjacOzbiBlbnRlcnByaXNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVpcmVBZG1pbkF1dGgubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxuICAgICAgICBjb2RlOiAnQVVUSF9GQUlMRUQnLFxuICAgICAgICBzdGF0dXM6IDQwMVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgR0VUIH0gPSByZXF1aXJlKCdAL2FwcC9hcGkvZGVidWcvY2hlY2stYWRtaW4tYWNjZXNzL3JvdXRlJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2RlYnVnL2NoZWNrLWFkbWluLWFjY2VzcycsXG4gICAgICAgIGhlYWRlcnM6IG5ldyBNYXAoKVxuICAgICAgfSBhcyBhbnk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKG1vY2tSZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5lbnRlcnByaXNlLnN0YXR1cykudG9CZSgnRkFJTEVEJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmVudGVycHJpc2UuZXJyb3IpLnRvQmUoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQVBJIGRlIERlYnVnIEFkbWluIFByb2R1Y3RzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHVzYXIgUkxTIHBhcmEgY29uc3VsdGFyIHByb2R1Y3RvcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFeGVjdXRlV2l0aFJMUy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7IGlkOiAxLCBuYW1lOiAnUHJvZHVjdCAxJywgcHJpY2U6IDEwMCB9LFxuICAgICAgICAgIHsgaWQ6IDIsIG5hbWU6ICdQcm9kdWN0IDInLCBwcmljZTogMjAwIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgR0VUIH0gPSByZXF1aXJlKCdAL2FwcC9hcGkvZGVidWcvYWRtaW4tcHJvZHVjdHMvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGVidWcvYWRtaW4tcHJvZHVjdHMnLFxuICAgICAgICBoZWFkZXJzOiBuZXcgTWFwKClcbiAgICAgIH0gYXMgYW55O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChtb2NrUmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrUmVxdWlyZUFkbWluQXV0aCkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja1JlcXVlc3QsIFsncHJvZHVjdHNfcmVhZCddKTtcbiAgICAgIGV4cGVjdChtb2NrRXhlY3V0ZVdpdGhSTFMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZW50ZXJwcmlzZS5ybHMucHJvZHVjdHNfZm91bmQpLnRvQmUoMik7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmVudGVycHJpc2UucmxzLnNhbXBsZV9wcm9kdWN0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RlYmUgY29tcGFyYXIgbcOpdG9kb3MgZW50ZXJwcmlzZSB5IGxlZ2FjeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgR0VUIH0gPSByZXF1aXJlKCdAL2FwcC9hcGkvZGVidWcvYWRtaW4tcHJvZHVjdHMvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZGVidWcvYWRtaW4tcHJvZHVjdHMnXG4gICAgICB9IGFzIGFueTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQobW9ja1JlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmNvbXBhcmlzb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmNvbXBhcmlzb24uZW50ZXJwcmlzZV9hZHZhbnRhZ2VzKS50b0NvbnRhaW4oJ1JMUyBpbnRlZ3JhdGlvbiB3aXRoIGF1dG9tYXRpYyBmaWx0ZXJzJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmVudGVycHJpc2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmxlZ2FjeSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FQSSBkZSBTZWd1cmlkYWQgRW50ZXJwcmlzZScsICgpID0+IHtcbiAgICBpdCgnZGViZSB1c2FyIGNhY2hlIGVudGVycHJpc2UgcGFyYSBtw6l0cmljYXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrTWV0cmljcyA9IHtcbiAgICAgICAgdG90YWxfZXZlbnRzOiAxMDAsXG4gICAgICAgIHNlY3VyaXR5X2FsZXJ0czogNSxcbiAgICAgICAgZmFpbGVkX2xvZ2luczogMTBcbiAgICAgIH07XG5cbiAgICAgIG1vY2tXaXRoQ2FjaGUubW9ja1Jlc29sdmVkVmFsdWUobW9ja01ldHJpY3MpO1xuXG4gICAgICAvLyBNb2NrIGRlIGxhIGZ1bmNpw7NuIGdldFNlY3VyaXR5TWV0cmljc1xuICAgICAgamVzdC5kb01vY2soJ0AvbGliL2F1dGgvc2VjdXJpdHktYXVkaXQtZW5oYW5jZWQnLCAoKSA9PiAoe1xuICAgICAgICBnZXRTZWN1cml0eU1ldHJpY3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrTWV0cmljcylcbiAgICAgIH0pKTtcblxuICAgICAgY29uc3QgeyBHRVQgfSA9IHJlcXVpcmUoJ0AvYXBwL2FwaS9hdXRoL3NlY3VyaXR5L3JvdXRlJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvc2VjdXJpdHk/YWN0aW9uPW1ldHJpY3MnLFxuICAgICAgICBoZWFkZXJzOiBuZXcgTWFwKClcbiAgICAgIH0gYXMgYW55O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChtb2NrUmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrUmVxdWlyZUFkbWluQXV0aCkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja1JlcXVlc3QsIFsnc2VjdXJpdHlfcmVhZCcsICdhZG1pbl9hY2Nlc3MnXSk7XG4gICAgICBleHBlY3QobW9ja1dpdGhDYWNoZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5kYXRhLm1ldHJpY3MpLnRvRXF1YWwobW9ja01ldHJpY3MpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5kYXRhLmNhY2hlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5lbnRlcnByaXNlKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQVBJIGRlIENyZWFjacOzbiBkZSBBZG1pbiBFbnRlcnByaXNlJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHVzYXIgYXV0ZW50aWNhY2nDs24gY3LDrXRpY2EgcGFyYSBjcmVhciBhZG1pbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFeGVjdXRlV2l0aFJMUy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhY3Rpb246ICdjcmVhdGVkJyxcbiAgICAgICAgICBhdXRoVXNlcjogeyBpZDogJ2F1dGhfMTIzJywgZW1haWw6ICduZXctYWRtaW5AdGVzdC5jb20nIH0sXG4gICAgICAgICAgcHJvZmlsZToge1xuICAgICAgICAgICAgaWQ6ICdwcm9maWxlXzEyMycsXG4gICAgICAgICAgICBmaXJzdF9uYW1lOiAnTmV3JyxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogJ0FkbWluJyxcbiAgICAgICAgICAgIHBlcm1pc3Npb25zOiBbJ2FkbWluX2FjY2VzcyddLFxuICAgICAgICAgICAgdXNlcl9yb2xlczogeyByb2xlX25hbWU6ICdhZG1pbicgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgUE9TVCB9ID0gcmVxdWlyZSgnQC9hcHAvYXBpL2FkbWluL2NyZWF0ZS1hZG1pbi11c2VyLWVudGVycHJpc2Uvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBqc29uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHNlY3VyaXR5S2V5OiAnQ1JFQVRFX0FETUlOX1BJTlRFWUFfRU5URVJQUklTRV8yMDI1JyxcbiAgICAgICAgICBlbWFpbDogJ25ldy1hZG1pbkB0ZXN0LmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdTZWN1cmVQYXNzd29yZDEyMyEnLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ05ldycsXG4gICAgICAgICAgbGFzdE5hbWU6ICdBZG1pbidcbiAgICAgICAgfSlcbiAgICAgIH0gYXMgYW55O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QobW9ja1JlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QobW9ja1JlcXVpcmVDcml0aWNhbEF1dGgpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tSZXF1ZXN0KTtcbiAgICAgIGV4cGVjdChtb2NrRXhlY3V0ZVdpdGhSTFMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZGF0YS5hY3Rpb24pLnRvQmUoJ2NyZWF0ZWQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZW50ZXJwcmlzZS5zZWN1cml0eV9sZXZlbCkudG9CZSgnY3JpdGljYWwnKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHZhbGlkYXIgY29udHJhc2XDsWEgcm9idXN0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgUE9TVCB9ID0gcmVxdWlyZSgnQC9hcHAvYXBpL2FkbWluL2NyZWF0ZS1hZG1pbi11c2VyLWVudGVycHJpc2Uvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBqc29uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHNlY3VyaXR5S2V5OiAnQ1JFQVRFX0FETUlOX1BJTlRFWUFfRU5URVJQUklTRV8yMDI1JyxcbiAgICAgICAgICBlbWFpbDogJ25ldy1hZG1pbkB0ZXN0LmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICd3ZWFrJywgLy8gQ29udHJhc2XDsWEgZMOpYmlsXG4gICAgICAgICAgZmlyc3ROYW1lOiAnTmV3JyxcbiAgICAgICAgICBsYXN0TmFtZTogJ0FkbWluJ1xuICAgICAgICB9KVxuICAgICAgfSBhcyBhbnk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChtb2NrUmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQ29udGFpbignMTIgY2FyYWN0ZXJlcycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5jb2RlKS50b0JlKCdXRUFLX1BBU1NXT1JEJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSB2YWxpZGFyIGNsYXZlIGRlIHNlZ3VyaWRhZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgUE9TVCB9ID0gcmVxdWlyZSgnQC9hcHAvYXBpL2FkbWluL2NyZWF0ZS1hZG1pbi11c2VyLWVudGVycHJpc2Uvcm91dGUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja1JlcXVlc3QgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBqc29uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHNlY3VyaXR5S2V5OiAnV1JPTkdfS0VZJyxcbiAgICAgICAgICBlbWFpbDogJ25ldy1hZG1pbkB0ZXN0LmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdTZWN1cmVQYXNzd29yZDEyMyEnXG4gICAgICAgIH0pXG4gICAgICB9IGFzIGFueTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKG1vY2tSZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDMpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5lcnJvcikudG9Db250YWluKCdDbGF2ZSBkZSBzZWd1cmlkYWQgZW50ZXJwcmlzZSBpbmNvcnJlY3RhJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmNvZGUpLnRvQmUoJ0lOVkFMSURfU0VDVVJJVFlfS0VZJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbnRlZ3JhY2nDs24gR2VuZXJhbCcsICgpID0+IHtcbiAgICBpdCgnZGViZSB1c2FyIGNhY2hlIHN0YXRzIGVuIHRvZGFzIGxhcyBBUElzIGVudGVycHJpc2UnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0dldENhY2hlU3RhdHMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHVzYXIgUkxTIGVuIG9wZXJhY2lvbmVzIGRlIGJhc2UgZGUgZGF0b3MnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0V4ZWN1dGVXaXRoUkxTKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSByZXF1ZXJpciBwZXJtaXNvcyBlc3BlY8OtZmljb3MgcGFyYSBjYWRhIG9wZXJhY2nDs24nLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja1JlcXVpcmVBZG1pbkF1dGgpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICAgIGV4cGVjdC5hcnJheUNvbnRhaW5pbmcoW2V4cGVjdC5hbnkoU3RyaW5nKV0pXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicmVxdWlyZUFkbWluQXV0aCIsImZuIiwicmVxdWlyZUNyaXRpY2FsQXV0aCIsImV4ZWN1dGVXaXRoUkxTIiwidmFsaWRhdGVSTFNDb250ZXh0IiwiY2hlY2tSTFNQZXJtaXNzaW9uIiwiY3JlYXRlUkxTRmlsdGVycyIsIndpdGhDYWNoZSIsImdldENhY2hlU3RhdHMiLCJpbnZhbGlkYXRlVXNlckNhY2hlIiwiZ2V0QXV0aGVudGljYXRlZFVzZXIiLCJnZXRBdXRoZW50aWNhdGVkQWRtaW4iLCJjaGVja0FkbWluQWNjZXNzIiwiY2hlY2tDUlVEUGVybWlzc2lvbnMiLCJnZXRTZWN1cml0eU1ldHJpY3MiLCJnZXRBY3RpdmVTZWN1cml0eUFsZXJ0cyIsInN1cGFiYXNlQWRtaW4iLCJhdXRoIiwiYWRtaW4iLCJsaXN0VXNlcnMiLCJjcmVhdGVVc2VyIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiaW5zZXJ0IiwidXBkYXRlIiwiZGVzY3JpYmUiLCJtb2NrUmVxdWlyZUFkbWluQXV0aCIsIm1vY2tSZXF1aXJlQ3JpdGljYWxBdXRoIiwibW9ja0V4ZWN1dGVXaXRoUkxTIiwibW9ja1dpdGhDYWNoZSIsIm1vY2tHZXRDYWNoZVN0YXRzIiwibW9ja0dldEF1dGhlbnRpY2F0ZWRBZG1pbiIsIm1vY2tDaGVja0NSVURQZXJtaXNzaW9ucyIsIm1vY2tHZXRTZWN1cml0eU1ldHJpY3MiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwic3VjY2VzcyIsImNvbnRleHQiLCJ1c2VySWQiLCJzZXNzaW9uSWQiLCJlbWFpbCIsInJvbGUiLCJwZXJtaXNzaW9ucyIsInNlc3Npb25WYWxpZCIsInNlY3VyaXR5TGV2ZWwiLCJpcEFkZHJlc3MiLCJ1c2VyQWdlbnQiLCJzdXBhYmFzZSIsInZhbGlkYXRpb25zIiwiand0VmFsaWQiLCJjc3JmVmFsaWQiLCJyYXRlTGltaXRQYXNzZWQiLCJvcmlnaW5WYWxpZCIsImRhdGEiLCJ0ZXN0IiwibW9ja0ltcGxlbWVudGF0aW9uIiwia2V5IiwiZmV0Y2hlciIsIm1vY2tSZXR1cm5WYWx1ZSIsImhpdHMiLCJtaXNzZXMiLCJlbnRyaWVzIiwiaGl0UmF0ZSIsIm1lbW9yeVVzYWdlIiwiaXNBZG1pbiIsInVzZXIiLCJpZCIsInVzZXJfcm9sZXMiLCJyb2xlX25hbWUiLCJ0b3RhbF9ldmVudHMiLCJzZWN1cml0eV9hbGVydHMiLCJmYWlsZWRfbG9naW5zIiwiaXQiLCJHRVQiLCJyZXF1aXJlIiwibW9ja1JlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJoZWFkZXJzIiwiTWFwIiwicmVzcG9uc2UiLCJyZXNwb25zZURhdGEiLCJqc29uIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0JlIiwiZW50ZXJwcmlzZSIsInRvQmVEZWZpbmVkIiwibGVnYWN5IiwibWlncmF0aW9uIiwic3RhdHVzIiwiZXJyb3IiLCJjb2RlIiwibmFtZSIsInByaWNlIiwidG9IYXZlQmVlbkNhbGxlZCIsInJscyIsInByb2R1Y3RzX2ZvdW5kIiwic2FtcGxlX3Byb2R1Y3RzIiwidG9IYXZlTGVuZ3RoIiwiY29tcGFyaXNvbiIsImVudGVycHJpc2VfYWR2YW50YWdlcyIsInRvQ29udGFpbiIsIm1vY2tNZXRyaWNzIiwiZG9Nb2NrIiwibWV0cmljcyIsInRvRXF1YWwiLCJjYWNoZSIsImFjdGlvbiIsImF1dGhVc2VyIiwicHJvZmlsZSIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJQT1NUIiwic2VjdXJpdHlLZXkiLCJwYXNzd29yZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwic2VjdXJpdHlfbGV2ZWwiLCJhbnkiLCJPYmplY3QiLCJhcnJheUNvbnRhaW5pbmciLCJTdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQyxHQUVELGdDQUFnQzs7QUFDaENBLEtBQUtDLElBQUksQ0FBQyxvQ0FBb0MsSUFBTyxDQUFBO1FBQ25EQyxrQkFBa0JGLEtBQUtHLEVBQUU7UUFDekJDLHFCQUFxQkosS0FBS0csRUFBRTtJQUM5QixDQUFBO0FBRUFILEtBQUtDLElBQUksQ0FBQyxtQ0FBbUMsSUFBTyxDQUFBO1FBQ2xESSxnQkFBZ0JMLEtBQUtHLEVBQUU7UUFDdkJHLG9CQUFvQk4sS0FBS0csRUFBRTtRQUMzQkksb0JBQW9CUCxLQUFLRyxFQUFFO1FBQzNCSyxrQkFBa0JSLEtBQUtHLEVBQUU7SUFDM0IsQ0FBQTtBQUVBSCxLQUFLQyxJQUFJLENBQUMsK0JBQStCLElBQU8sQ0FBQTtRQUM5Q1EsV0FBV1QsS0FBS0csRUFBRTtRQUNsQk8sZUFBZVYsS0FBS0csRUFBRTtRQUN0QlEscUJBQXFCWCxLQUFLRyxFQUFFO0lBQzlCLENBQUE7QUFFQSxzQkFBc0I7QUFDdEJILEtBQUtDLElBQUksQ0FBQyx5QkFBeUIsSUFBTyxDQUFBO1FBQ3hDVyxzQkFBc0Ja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