{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\lib\\validations.ts"],"sourcesContent":["// ===================================\n// PINTEYA E-COMMERCE - VALIDACIONES CON ZOD\n// ===================================\n\nimport { z } from 'zod'\nimport { VALIDATION_CONSTANTS } from '@/constants/shop'\n\n// ===================================\n// VALIDACIONES DE PRODUCTOS\n// ===================================\nexport const ProductSchema = z.object({\n  name: z.string().min(1, 'El nombre es requerido').max(255, 'Nombre muy largo'),\n  brand: z.string().min(1, 'La marca es requerida').max(100, 'Marca muy larga').optional(),\n  slug: z.string().min(1, 'El slug es requerido').max(255, 'Slug muy largo'),\n  description: z.string().optional(),\n  price: z.number().positive('El precio debe ser positivo'),\n  discounted_price: z.number().positive().optional(),\n  stock: z.number().int().min(0, 'El stock no puede ser negativo').default(0),\n  category_id: z.number().int().positive().optional(),\n  images: z\n    .object({\n      previews: z.array(z.string().url()).optional(),\n      main: z.string().url().optional(),\n    })\n    .optional(),\n})\n\nexport const ProductFiltersSchema = z.object({\n  category: z.string().optional(),\n  categories: z.array(z.string()).optional(),\n  brand: z.string().optional(),\n  brands: z.array(z.string()).optional(),\n  paintType: z.string().optional(),\n  paintTypes: z.array(z.string()).optional(),\n  priceMin: z.number().positive().optional(),\n  priceMax: z.number().positive().optional(),\n  search: z.string().optional(),\n  hasDiscount: z.boolean().optional(),\n  page: z.number().int().positive().default(1),\n  limit: z.number().int().positive().max(100).default(12),\n  sortBy: z.enum(['price', 'name', 'created_at', 'brand']).default('created_at'),\n  sortOrder: z.enum(['asc', 'desc']).default('desc'),\n})\n\n// ===================================\n// VALIDACIONES DE CATEGORÍAS\n// ===================================\nexport const CategorySchema = z.object({\n  name: z.string().min(1, 'El nombre es requerido').max(255, 'Nombre muy largo'),\n  slug: z.string().min(1, 'El slug es requerido').max(255, 'Slug muy largo'),\n  description: z.string().optional().nullable(),\n  icon: z.string().optional().nullable(),\n})\n\nexport const CategoryFiltersSchema = z.object({\n  search: z.string().optional(),\n  parentId: z.number().optional(),\n})\n\n// ===================================\n// VALIDACIONES DE USUARIOS\n// ===================================\nexport const UserSchema = z.object({\n  clerk_id: z.string().min(1, 'ID de Clerk requerido'),\n  email: z.string().email('Email inválido'),\n  name: z.string().max(255, 'Nombre muy largo').optional(),\n})\n\nexport const UpdateUserProfileSchema = z.object({\n  name: z.string().max(255, 'Nombre muy largo').optional(),\n  email: z.string().email('Email inválido').optional(),\n})\n\n// ===================================\n// VALIDACIONES DE ÓRDENES\n// ===================================\nexport const OrderItemSchema = z.object({\n  productId: z.number().int().positive('ID de producto inválido'),\n  quantity: z.number().int().positive('La cantidad debe ser positiva'),\n  price: z.number().positive('El precio debe ser positivo'),\n})\n\nexport const CreateOrderSchema = z.object({\n  items: z.array(OrderItemSchema).min(1, 'Debe incluir al menos un producto'),\n  total: z.number().positive('El total debe ser positivo'),\n  shippingAddress: z\n    .object({\n      street: z.string().min(1, 'La dirección es requerida'),\n      city: z.string().min(1, 'La ciudad es requerida'),\n      postalCode: z.string().min(1, 'El código postal es requerido'),\n      country: z.string().min(1, 'El país es requerido'),\n    })\n    .optional(),\n})\n\nexport const OrderFiltersSchema = z.object({\n  status: z.string().optional(),\n  dateFrom: z.string().optional(),\n  dateTo: z.string().optional(),\n  page: z.number().int().positive().default(1),\n  limit: z.number().int().positive().max(100).default(10),\n})\n\n// ===================================\n// VALIDACIONES DE PAGOS\n// ===================================\nexport const MercadoPagoItemSchema = z.object({\n  title: z.string().min(1, 'El título es requerido'),\n  quantity: z.number().int().positive('La cantidad debe ser positiva'),\n  unit_price: z.number().positive('El precio debe ser positivo'),\n  currency_id: z.string().default('ARS'),\n})\n\nexport const CreatePreferenceSchema = z.object({\n  items: z.array(MercadoPagoItemSchema).min(1, 'Debe incluir al menos un item'),\n  external_reference: z.string().min(1, 'La referencia externa es requerida'),\n  back_urls: z.object({\n    success: z.string().url('URL de éxito inválida'),\n    failure: z.string().url('URL de fallo inválida'),\n    pending: z.string().url('URL de pendiente inválida'),\n  }),\n})\n\nexport const MercadoPagoWebhookSchema = z.object({\n  action: z.string(),\n  api_version: z.string(),\n  data: z.object({\n    id: z.string(),\n  }),\n  date_created: z.string(),\n  id: z.number(),\n  live_mode: z.boolean(),\n  type: z.string(),\n  user_id: z.string(),\n})\n\n// ===================================\n// VALIDACIONES DE FORMULARIOS\n// ===================================\nexport const ContactFormSchema = z.object({\n  name: z\n    .string()\n    .min(VALIDATION_CONSTANTS.MIN_NAME_LENGTH, 'El nombre es requerido')\n    .max(VALIDATION_CONSTANTS.MAX_NAME_LENGTH, 'Nombre muy largo'),\n  email: z.string().email('Email inválido'),\n  subject: z.string().min(1, 'El asunto es requerido').max(200, 'Asunto muy largo'),\n  message: z\n    .string()\n    .min(VALIDATION_CONSTANTS.MIN_MESSAGE_LENGTH, 'El mensaje debe tener al menos 10 caracteres')\n    .max(VALIDATION_CONSTANTS.MAX_MESSAGE_LENGTH, 'Mensaje muy largo'),\n})\n\nexport const NewsletterSchema = z.object({\n  email: z.string().email('Email inválido'),\n})\n\n// ===================================\n// VALIDACIONES DE DIRECCIONES\n// ===================================\nexport const AddressSchema = z.object({\n  name: z.string().min(1, 'El nombre es requerido').max(100, 'Nombre muy largo'),\n  street: z.string().min(1, 'La dirección es requerida').max(255, 'Dirección muy larga'),\n  city: z.string().min(1, 'La ciudad es requerida').max(100, 'Ciudad muy larga'),\n  postal_code: z\n    .string()\n    .min(1, 'El código postal es requerido')\n    .max(20, 'Código postal muy largo'),\n  is_default: z.boolean().default(false),\n})\n\n// ===================================\n// VALIDACIONES DE PARÁMETROS DE URL\n// ===================================\nexport const IdParamSchema = z.object({\n  id: z.string().transform(val => {\n    const num = parseInt(val, 10)\n    if (isNaN(num) || num <= 0) {\n      throw new Error('ID inválido')\n    }\n    return num\n  }),\n})\n\nexport const SlugParamSchema = z.object({\n  slug: z.string().min(1, 'Slug requerido').max(255, 'Slug muy largo'),\n})\n\n// ===================================\n// FUNCIONES AUXILIARES\n// ===================================\n\n// Tipos genéricos para validación\ntype ValidationInput = Record<string, any> | any[] | string | number | boolean | null\n\ninterface ValidationResult<T> {\n  success: boolean\n  data?: T\n  error?: string\n}\n\n/**\n * Valida datos usando un schema de Zod\n * @param schema - Schema de Zod\n * @param data - Datos a validar\n * @returns Datos validados\n */\nexport function validateData<T>(schema: z.ZodSchema<T>, data: ValidationInput): T {\n  try {\n    return schema.parse(data)\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const messages = error.errors.map(err => `${err.path.join('.')}: ${err.message}`)\n      throw new Error(`Errores de validación: ${messages.join(', ')}`)\n    }\n    throw error\n  }\n}\n\n/**\n * Valida datos de manera segura, retornando un resultado\n * @param schema - Schema de Zod\n * @param data - Datos a validar\n * @returns Resultado de la validación\n */\nexport function safeValidateData<T>(\n  schema: z.ZodSchema<T>,\n  data: ValidationInput\n): ValidationResult<T> {\n  try {\n    const validatedData = schema.parse(data)\n    return { success: true, data: validatedData }\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      const messages = error.errors.map(err => `${err.path.join('.')}: ${err.message}`)\n      return { success: false, error: `Errores de validación: ${messages.join(', ')}` }\n    }\n    return { success: false, error: 'Error de validación desconocido' }\n  }\n}\n"],"names":["AddressSchema","CategoryFiltersSchema","CategorySchema","ContactFormSchema","CreateOrderSchema","CreatePreferenceSchema","IdParamSchema","MercadoPagoItemSchema","MercadoPagoWebhookSchema","NewsletterSchema","OrderFiltersSchema","OrderItemSchema","ProductFiltersSchema","ProductSchema","SlugParamSchema","UpdateUserProfileSchema","UserSchema","safeValidateData","validateData","z","object","name","string","min","max","brand","optional","slug","description","price","number","positive","discounted_price","stock","int","default","category_id","images","previews","array","url","main","category","categories","brands","paintType","paintTypes","priceMin","priceMax","search","hasDiscount","boolean","page","limit","sortBy","enum","sortOrder","nullable","icon","parentId","clerk_id","email","productId","quantity","items","total","shippingAddress","street","city","postalCode","country","status","dateFrom","dateTo","title","unit_price","currency_id","external_reference","back_urls","success","failure","pending","action","api_version","data","id","date_created","live_mode","type","user_id","VALIDATION_CONSTANTS","MIN_NAME_LENGTH","MAX_NAME_LENGTH","subject","message","MIN_MESSAGE_LENGTH","MAX_MESSAGE_LENGTH","postal_code","is_default","transform","val","num","parseInt","isNaN","Error","schema","parse","error","ZodError","messages","errors","map","err","path","join","validatedData"],"mappings":"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"}