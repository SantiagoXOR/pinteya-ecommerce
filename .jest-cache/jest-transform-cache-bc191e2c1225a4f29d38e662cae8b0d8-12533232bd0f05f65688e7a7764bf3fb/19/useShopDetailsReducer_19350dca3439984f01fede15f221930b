2157b5191febd2204161cbd286441012
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useShopDetailsReducer () {
        return useShopDetailsReducer;
    },
    get useShopDetailsWithPersistence () {
        return useShopDetailsWithPersistence;
    }
});
const _react = require("react");
// Estado inicial
const initialState = {
    activeColor: 'blanco-puro',
    previewImg: 0,
    storage: 'gb128',
    type: 'active',
    sim: 'dual',
    quantity: 1,
    activeTab: 'tabOne',
    isLoading: false,
    error: null
};
// Reducer function
function shopDetailsReducer(state, action) {
    switch(action.type){
        case 'SET_ACTIVE_COLOR':
            return {
                ...state,
                activeColor: action.payload
            };
        case 'SET_PREVIEW_IMG':
            return {
                ...state,
                previewImg: action.payload
            };
        case 'SET_STORAGE':
            return {
                ...state,
                storage: action.payload
            };
        case 'SET_TYPE':
            return {
                ...state,
                type: action.payload
            };
        case 'SET_SIM':
            return {
                ...state,
                sim: action.payload
            };
        case 'SET_QUANTITY':
            return {
                ...state,
                quantity: Math.max(1, Math.min(99, action.payload))
            };
        case 'SET_ACTIVE_TAB':
            return {
                ...state,
                activeTab: action.payload
            };
        case 'SET_LOADING':
            return {
                ...state,
                isLoading: action.payload
            };
        case 'SET_ERROR':
            return {
                ...state,
                error: action.payload
            };
        case 'INCREMENT_QUANTITY':
            return {
                ...state,
                quantity: Math.min(99, state.quantity + 1)
            };
        case 'DECREMENT_QUANTITY':
            return {
                ...state,
                quantity: Math.max(1, state.quantity - 1)
            };
        case 'RESET_STATE':
            return initialState;
        default:
            return state;
    }
}
function useShopDetailsReducer() {
    const [state, dispatch] = (0, _react.useReducer)(shopDetailsReducer, initialState);
    // Acciones memoizadas
    const actions = (0, _react.useMemo)(()=>({
            setActiveColor: (color)=>dispatch({
                    type: 'SET_ACTIVE_COLOR',
                    payload: color
                }),
            setPreviewImg: (index)=>dispatch({
                    type: 'SET_PREVIEW_IMG',
                    payload: index
                }),
            setStorage: (storage)=>dispatch({
                    type: 'SET_STORAGE',
                    payload: storage
                }),
            setType: (type)=>dispatch({
                    type: 'SET_TYPE',
                    payload: type
                }),
            setSim: (sim)=>dispatch({
                    type: 'SET_SIM',
                    payload: sim
                }),
            setQuantity: (quantity)=>dispatch({
                    type: 'SET_QUANTITY',
                    payload: quantity
                }),
            setActiveTab: (tab)=>dispatch({
                    type: 'SET_ACTIVE_TAB',
                    payload: tab
                }),
            setLoading: (loading)=>dispatch({
                    type: 'SET_LOADING',
                    payload: loading
                }),
            setError: (error)=>dispatch({
                    type: 'SET_ERROR',
                    payload: error
                }),
            incrementQuantity: ()=>dispatch({
                    type: 'INCREMENT_QUANTITY'
                }),
            decrementQuantity: ()=>dispatch({
                    type: 'DECREMENT_QUANTITY'
                }),
            resetState: ()=>dispatch({
                    type: 'RESET_STATE'
                })
        }), []);
    // Selectores memoizados para valores derivados
    const selectors = (0, _react.useMemo)(()=>({
            // Verificar si hay errores
            hasError: Boolean(state.error),
            // Verificar si está en estado de carga
            isLoading: state.isLoading,
            // Obtener configuración actual del producto
            currentConfig: {
                color: state.activeColor,
                storage: state.storage,
                type: state.type,
                sim: state.sim,
                quantity: state.quantity
            },
            // Verificar si la cantidad está en el límite
            isMaxQuantity: state.quantity >= 99,
            isMinQuantity: state.quantity <= 1,
            // Obtener precio total basado en cantidad
            getTotalPrice: (unitPrice)=>unitPrice * state.quantity
        }), [
        state
    ]);
    return {
        state,
        actions,
        selectors
    };
}
function useShopDetailsWithPersistence(productId) {
    const { state, actions, selectors } = useShopDetailsReducer();
    // Callbacks memoizados para persistencia
    const persistenceActions = (0, _react.useMemo)(()=>({
            saveToStorage: (0, _react.useCallback)(()=>{
                if (productId) {
                    const key = `shop-details-${productId}`;
                    localStorage.setItem(key, JSON.stringify(state));
                }
            }, [
                state,
                productId
            ]),
            loadFromStorage: (0, _react.useCallback)(()=>{
                if (productId) {
                    const key = `shop-details-${productId}`;
                    const saved = localStorage.getItem(key);
                    if (saved) {
                        try {
                            const parsedState = JSON.parse(saved);
                            // Restaurar estado desde localStorage
                            Object.entries(parsedState).forEach(([key, value])=>{
                                switch(key){
                                    case 'activeColor':
                                        actions.setActiveColor(value);
                                        break;
                                    case 'storage':
                                        actions.setStorage(value);
                                        break;
                                    case 'type':
                                        actions.setType(value);
                                        break;
                                    case 'sim':
                                        actions.setSim(value);
                                        break;
                                    case 'quantity':
                                        actions.setQuantity(value);
                                        break;
                                }
                            });
                        } catch (error) {
                            console.warn('Error loading shop details from storage:', error);
                        }
                    }
                }
            }, [
                productId,
                actions
            ])
        }), [
        state,
        productId,
        actions
    ]);
    return {
        state,
        actions,
        selectors,
        persistenceActions
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXG9wdGltaXphdGlvblxcdXNlU2hvcERldGFpbHNSZWR1Y2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5cbi8vIFRpcG9zIHBhcmEgZWwgZXN0YWRvIGRlbCBjb21wb25lbnRlIFNob3BEZXRhaWxzXG5pbnRlcmZhY2UgU2hvcERldGFpbHNTdGF0ZSB7XG4gIGFjdGl2ZUNvbG9yOiBzdHJpbmdcbiAgcHJldmlld0ltZzogbnVtYmVyXG4gIHN0b3JhZ2U6IHN0cmluZ1xuICB0eXBlOiBzdHJpbmdcbiAgc2ltOiBzdHJpbmdcbiAgcXVhbnRpdHk6IG51bWJlclxuICBhY3RpdmVUYWI6IHN0cmluZ1xuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbn1cblxuLy8gVGlwb3MgZGUgYWNjaW9uZXNcbnR5cGUgU2hvcERldGFpbHNBY3Rpb24gPVxuICB8IHsgdHlwZTogJ1NFVF9BQ1RJVkVfQ09MT1InOyBwYXlsb2FkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ1NFVF9QUkVWSUVXX0lNRyc7IHBheWxvYWQ6IG51bWJlciB9XG4gIHwgeyB0eXBlOiAnU0VUX1NUT1JBR0UnOyBwYXlsb2FkOiBzdHJpbmcgfVxuICB8IHsgdHlwZTogJ1NFVF9UWVBFJzsgcGF5bG9hZDogc3RyaW5nIH1cbiAgfCB7IHR5cGU6ICdTRVRfU0lNJzsgcGF5bG9hZDogc3RyaW5nIH1cbiAgfCB7IHR5cGU6ICdTRVRfUVVBTlRJVFknOyBwYXlsb2FkOiBudW1iZXIgfVxuICB8IHsgdHlwZTogJ1NFVF9BQ1RJVkVfVEFCJzsgcGF5bG9hZDogc3RyaW5nIH1cbiAgfCB7IHR5cGU6ICdTRVRfTE9BRElORyc7IHBheWxvYWQ6IGJvb2xlYW4gfVxuICB8IHsgdHlwZTogJ1NFVF9FUlJPUic7IHBheWxvYWQ6IHN0cmluZyB8IG51bGwgfVxuICB8IHsgdHlwZTogJ1JFU0VUX1NUQVRFJyB9XG4gIHwgeyB0eXBlOiAnSU5DUkVNRU5UX1FVQU5USVRZJyB9XG4gIHwgeyB0eXBlOiAnREVDUkVNRU5UX1FVQU5USVRZJyB9XG5cbi8vIEVzdGFkbyBpbmljaWFsXG5jb25zdCBpbml0aWFsU3RhdGU6IFNob3BEZXRhaWxzU3RhdGUgPSB7XG4gIGFjdGl2ZUNvbG9yOiAnYmxhbmNvLXB1cm8nLCAvLyBVc2FyIElEIGRlbCBjb2xvciBwb3IgZGVmZWN0b1xuICBwcmV2aWV3SW1nOiAwLFxuICBzdG9yYWdlOiAnZ2IxMjgnLFxuICB0eXBlOiAnYWN0aXZlJyxcbiAgc2ltOiAnZHVhbCcsXG4gIHF1YW50aXR5OiAxLFxuICBhY3RpdmVUYWI6ICd0YWJPbmUnLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBlcnJvcjogbnVsbCxcbn1cblxuLy8gUmVkdWNlciBmdW5jdGlvblxuZnVuY3Rpb24gc2hvcERldGFpbHNSZWR1Y2VyKHN0YXRlOiBTaG9wRGV0YWlsc1N0YXRlLCBhY3Rpb246IFNob3BEZXRhaWxzQWN0aW9uKTogU2hvcERldGFpbHNTdGF0ZSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdTRVRfQUNUSVZFX0NPTE9SJzpcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBhY3RpdmVDb2xvcjogYWN0aW9uLnBheWxvYWQgfVxuXG4gICAgY2FzZSAnU0VUX1BSRVZJRVdfSU1HJzpcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBwcmV2aWV3SW1nOiBhY3Rpb24ucGF5bG9hZCB9XG5cbiAgICBjYXNlICdTRVRfU1RPUkFHRSc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgc3RvcmFnZTogYWN0aW9uLnBheWxvYWQgfVxuXG4gICAgY2FzZSAnU0VUX1RZUEUnOlxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHR5cGU6IGFjdGlvbi5wYXlsb2FkIH1cblxuICAgIGNhc2UgJ1NFVF9TSU0nOlxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHNpbTogYWN0aW9uLnBheWxvYWQgfVxuXG4gICAgY2FzZSAnU0VUX1FVQU5USVRZJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBxdWFudGl0eTogTWF0aC5tYXgoMSwgTWF0aC5taW4oOTksIGFjdGlvbi5wYXlsb2FkKSksIC8vIEzDrW1pdGVzIGRlIGNhbnRpZGFkXG4gICAgICB9XG5cbiAgICBjYXNlICdTRVRfQUNUSVZFX1RBQic6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgYWN0aXZlVGFiOiBhY3Rpb24ucGF5bG9hZCB9XG5cbiAgICBjYXNlICdTRVRfTE9BRElORyc6XG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgaXNMb2FkaW5nOiBhY3Rpb24ucGF5bG9hZCB9XG5cbiAgICBjYXNlICdTRVRfRVJST1InOlxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGVycm9yOiBhY3Rpb24ucGF5bG9hZCB9XG5cbiAgICBjYXNlICdJTkNSRU1FTlRfUVVBTlRJVFknOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHF1YW50aXR5OiBNYXRoLm1pbig5OSwgc3RhdGUucXVhbnRpdHkgKyAxKSxcbiAgICAgIH1cblxuICAgIGNhc2UgJ0RFQ1JFTUVOVF9RVUFOVElUWSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcXVhbnRpdHk6IE1hdGgubWF4KDEsIHN0YXRlLnF1YW50aXR5IC0gMSksXG4gICAgICB9XG5cbiAgICBjYXNlICdSRVNFVF9TVEFURSc6XG4gICAgICByZXR1cm4gaW5pdGlhbFN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuLy8gSG9vayBwZXJzb25hbGl6YWRvXG5leHBvcnQgZnVuY3Rpb24gdXNlU2hvcERldGFpbHNSZWR1Y2VyKCkge1xuICBjb25zdCBbc3RhdGUsIGRpc3BhdGNoXSA9IHVzZVJlZHVjZXIoc2hvcERldGFpbHNSZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG5cbiAgLy8gQWNjaW9uZXMgbWVtb2l6YWRhc1xuICBjb25zdCBhY3Rpb25zID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgc2V0QWN0aXZlQ29sb3I6IChjb2xvcjogc3RyaW5nKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfQUNUSVZFX0NPTE9SJywgcGF5bG9hZDogY29sb3IgfSksXG5cbiAgICAgIHNldFByZXZpZXdJbWc6IChpbmRleDogbnVtYmVyKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfUFJFVklFV19JTUcnLCBwYXlsb2FkOiBpbmRleCB9KSxcblxuICAgICAgc2V0U3RvcmFnZTogKHN0b3JhZ2U6IHN0cmluZykgPT4gZGlzcGF0Y2goeyB0eXBlOiAnU0VUX1NUT1JBR0UnLCBwYXlsb2FkOiBzdG9yYWdlIH0pLFxuXG4gICAgICBzZXRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfVFlQRScsIHBheWxvYWQ6IHR5cGUgfSksXG5cbiAgICAgIHNldFNpbTogKHNpbTogc3RyaW5nKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfU0lNJywgcGF5bG9hZDogc2ltIH0pLFxuXG4gICAgICBzZXRRdWFudGl0eTogKHF1YW50aXR5OiBudW1iZXIpID0+IGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9RVUFOVElUWScsIHBheWxvYWQ6IHF1YW50aXR5IH0pLFxuXG4gICAgICBzZXRBY3RpdmVUYWI6ICh0YWI6IHN0cmluZykgPT4gZGlzcGF0Y2goeyB0eXBlOiAnU0VUX0FDVElWRV9UQUInLCBwYXlsb2FkOiB0YWIgfSksXG5cbiAgICAgIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiBkaXNwYXRjaCh7IHR5cGU6ICdTRVRfTE9BRElORycsIHBheWxvYWQ6IGxvYWRpbmcgfSksXG5cbiAgICAgIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IGRpc3BhdGNoKHsgdHlwZTogJ1NFVF9FUlJPUicsIHBheWxvYWQ6IGVycm9yIH0pLFxuXG4gICAgICBpbmNyZW1lbnRRdWFudGl0eTogKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiAnSU5DUkVNRU5UX1FVQU5USVRZJyB9KSxcblxuICAgICAgZGVjcmVtZW50UXVhbnRpdHk6ICgpID0+IGRpc3BhdGNoKHsgdHlwZTogJ0RFQ1JFTUVOVF9RVUFOVElUWScgfSksXG5cbiAgICAgIHJlc2V0U3RhdGU6ICgpID0+IGRpc3BhdGNoKHsgdHlwZTogJ1JFU0VUX1NUQVRFJyB9KSxcbiAgICB9KSxcbiAgICBbXVxuICApXG5cbiAgLy8gU2VsZWN0b3JlcyBtZW1vaXphZG9zIHBhcmEgdmFsb3JlcyBkZXJpdmFkb3NcbiAgY29uc3Qgc2VsZWN0b3JzID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgLy8gVmVyaWZpY2FyIHNpIGhheSBlcnJvcmVzXG4gICAgICBoYXNFcnJvcjogQm9vbGVhbihzdGF0ZS5lcnJvciksXG5cbiAgICAgIC8vIFZlcmlmaWNhciBzaSBlc3TDoSBlbiBlc3RhZG8gZGUgY2FyZ2FcbiAgICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuXG4gICAgICAvLyBPYnRlbmVyIGNvbmZpZ3VyYWNpw7NuIGFjdHVhbCBkZWwgcHJvZHVjdG9cbiAgICAgIGN1cnJlbnRDb25maWc6IHtcbiAgICAgICAgY29sb3I6IHN0YXRlLmFjdGl2ZUNvbG9yLFxuICAgICAgICBzdG9yYWdlOiBzdGF0ZS5zdG9yYWdlLFxuICAgICAgICB0eXBlOiBzdGF0ZS50eXBlLFxuICAgICAgICBzaW06IHN0YXRlLnNpbSxcbiAgICAgICAgcXVhbnRpdHk6IHN0YXRlLnF1YW50aXR5LFxuICAgICAgfSxcblxuICAgICAgLy8gVmVyaWZpY2FyIHNpIGxhIGNhbnRpZGFkIGVzdMOhIGVuIGVsIGzDrW1pdGVcbiAgICAgIGlzTWF4UXVhbnRpdHk6IHN0YXRlLnF1YW50aXR5ID49IDk5LFxuICAgICAgaXNNaW5RdWFudGl0eTogc3RhdGUucXVhbnRpdHkgPD0gMSxcblxuICAgICAgLy8gT2J0ZW5lciBwcmVjaW8gdG90YWwgYmFzYWRvIGVuIGNhbnRpZGFkXG4gICAgICBnZXRUb3RhbFByaWNlOiAodW5pdFByaWNlOiBudW1iZXIpID0+IHVuaXRQcmljZSAqIHN0YXRlLnF1YW50aXR5LFxuICAgIH0pLFxuICAgIFtzdGF0ZV1cbiAgKVxuXG4gIHJldHVybiB7XG4gICAgc3RhdGUsXG4gICAgYWN0aW9ucyxcbiAgICBzZWxlY3RvcnMsXG4gIH1cbn1cblxuLy8gSG9vayBwYXJhIG1hbmVqYXIgbGEgcGVyc2lzdGVuY2lhIGVuIGxvY2FsU3RvcmFnZVxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNob3BEZXRhaWxzV2l0aFBlcnNpc3RlbmNlKHByb2R1Y3RJZD86IHN0cmluZykge1xuICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBzZWxlY3RvcnMgfSA9IHVzZVNob3BEZXRhaWxzUmVkdWNlcigpXG5cbiAgLy8gQ2FsbGJhY2tzIG1lbW9pemFkb3MgcGFyYSBwZXJzaXN0ZW5jaWFcbiAgY29uc3QgcGVyc2lzdGVuY2VBY3Rpb25zID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgc2F2ZVRvU3RvcmFnZTogdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYHNob3AtZGV0YWlscy0ke3Byb2R1Y3RJZH1gXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpXG4gICAgICAgIH1cbiAgICAgIH0sIFtzdGF0ZSwgcHJvZHVjdElkXSksXG5cbiAgICAgIGxvYWRGcm9tU3RvcmFnZTogdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYHNob3AtZGV0YWlscy0ke3Byb2R1Y3RJZH1gXG4gICAgICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZWRTdGF0ZSA9IEpTT04ucGFyc2Uoc2F2ZWQpXG4gICAgICAgICAgICAgIC8vIFJlc3RhdXJhciBlc3RhZG8gZGVzZGUgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcnNlZFN0YXRlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlQ29sb3InOlxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLnNldEFjdGl2ZUNvbG9yKHZhbHVlIGFzIHN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0b3JhZ2UnOlxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLnNldFN0b3JhZ2UodmFsdWUgYXMgc3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuc2V0VHlwZSh2YWx1ZSBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICBjYXNlICdzaW0nOlxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLnNldFNpbSh2YWx1ZSBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICBjYXNlICdxdWFudGl0eSc6XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuc2V0UXVhbnRpdHkodmFsdWUgYXMgbnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyBzaG9wIGRldGFpbHMgZnJvbSBzdG9yYWdlOicsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgW3Byb2R1Y3RJZCwgYWN0aW9uc10pLFxuICAgIH0pLFxuICAgIFtzdGF0ZSwgcHJvZHVjdElkLCBhY3Rpb25zXVxuICApXG5cbiAgcmV0dXJuIHtcbiAgICBzdGF0ZSxcbiAgICBhY3Rpb25zLFxuICAgIHNlbGVjdG9ycyxcbiAgICBwZXJzaXN0ZW5jZUFjdGlvbnMsXG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgeyBTaG9wRGV0YWlsc1N0YXRlLCBTaG9wRGV0YWlsc0FjdGlvbiB9XG4iXSwibmFtZXMiOlsidXNlU2hvcERldGFpbHNSZWR1Y2VyIiwidXNlU2hvcERldGFpbHNXaXRoUGVyc2lzdGVuY2UiLCJpbml0aWFsU3RhdGUiLCJhY3RpdmVDb2xvciIsInByZXZpZXdJbWciLCJzdG9yYWdlIiwidHlwZSIsInNpbSIsInF1YW50aXR5IiwiYWN0aXZlVGFiIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJzaG9wRGV0YWlsc1JlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJNYXRoIiwibWF4IiwibWluIiwiZGlzcGF0Y2giLCJ1c2VSZWR1Y2VyIiwiYWN0aW9ucyIsInVzZU1lbW8iLCJzZXRBY3RpdmVDb2xvciIsImNvbG9yIiwic2V0UHJldmlld0ltZyIsImluZGV4Iiwic2V0U3RvcmFnZSIsInNldFR5cGUiLCJzZXRTaW0iLCJzZXRRdWFudGl0eSIsInNldEFjdGl2ZVRhYiIsInRhYiIsInNldExvYWRpbmciLCJsb2FkaW5nIiwic2V0RXJyb3IiLCJpbmNyZW1lbnRRdWFudGl0eSIsImRlY3JlbWVudFF1YW50aXR5IiwicmVzZXRTdGF0ZSIsInNlbGVjdG9ycyIsImhhc0Vycm9yIiwiQm9vbGVhbiIsImN1cnJlbnRDb25maWciLCJpc01heFF1YW50aXR5IiwiaXNNaW5RdWFudGl0eSIsImdldFRvdGFsUHJpY2UiLCJ1bml0UHJpY2UiLCJwcm9kdWN0SWQiLCJwZXJzaXN0ZW5jZUFjdGlvbnMiLCJzYXZlVG9TdG9yYWdlIiwidXNlQ2FsbGJhY2siLCJrZXkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRGcm9tU3RvcmFnZSIsInNhdmVkIiwiZ2V0SXRlbSIsInBhcnNlZFN0YXRlIiwicGFyc2UiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsInZhbHVlIiwiY29uc29sZSIsIndhcm4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O1FBaUdnQkE7ZUFBQUE7O1FBcUVBQztlQUFBQTs7O3VCQXRLaUM7QUE4QmpELGlCQUFpQjtBQUNqQixNQUFNQyxlQUFpQztJQUNyQ0MsYUFBYTtJQUNiQyxZQUFZO0lBQ1pDLFNBQVM7SUFDVEMsTUFBTTtJQUNOQyxLQUFLO0lBQ0xDLFVBQVU7SUFDVkMsV0FBVztJQUNYQyxXQUFXO0lBQ1hDLE9BQU87QUFDVDtBQUVBLG1CQUFtQjtBQUNuQixTQUFTQyxtQkFBbUJDLEtBQXVCLEVBQUVDLE1BQXlCO0lBQzVFLE9BQVFBLE9BQU9SLElBQUk7UUFDakIsS0FBSztZQUNILE9BQU87Z0JBQUUsR0FBR08sS0FBSztnQkFBRVYsYUFBYVcsT0FBT0MsT0FBTztZQUFDO1FBRWpELEtBQUs7WUFDSCxPQUFPO2dCQUFFLEdBQUdGLEtBQUs7Z0JBQUVULFlBQVlVLE9BQU9DLE9BQU87WUFBQztRQUVoRCxLQUFLO1lBQ0gsT0FBTztnQkFBRSxHQUFHRixLQUFLO2dCQUFFUixTQUFTUyxPQUFPQyxPQUFPO1lBQUM7UUFFN0MsS0FBSztZQUNILE9BQU87Z0JBQUUsR0FBR0YsS0FBSztnQkFBRVAsTUFBTVEsT0FBT0MsT0FBTztZQUFDO1FBRTFD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