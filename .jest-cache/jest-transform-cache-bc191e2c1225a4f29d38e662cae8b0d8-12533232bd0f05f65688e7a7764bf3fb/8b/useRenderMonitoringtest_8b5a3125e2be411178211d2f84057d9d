a8eb1a66f73b968f85d2f7401f449f6b
// ===================================
// PINTEYA E-COMMERCE - UNIT TESTS
// Pruebas unitarias para useRenderMonitoring
// ===================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _useRenderMonitoring = require("../../hooks/monitoring/useRenderMonitoring");
const _react1 = /*#__PURE__*/ _interop_require_default(require("react"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// ===================================
// MOCKS
// ===================================
// Mock de performance.now()
const mockPerformanceNow = _globals.jest.fn();
Object.defineProperty(global, 'performance', {
    value: {
        now: mockPerformanceNow,
        memory: {
            usedJSHeapSize: 50 * 1024 * 1024
        }
    },
    writable: true
});
// Mock de console
const mockConsoleLog = _globals.jest.spyOn(console, 'log').mockImplementation(()=>{});
const mockConsoleWarn = _globals.jest.spyOn(console, 'warn').mockImplementation(()=>{});
const mockConsoleError = _globals.jest.spyOn(console, 'error').mockImplementation(()=>{});
// Mock de localStorage
const mockLocalStorage = {
    getItem: _globals.jest.fn(),
    setItem: _globals.jest.fn(),
    removeItem: _globals.jest.fn(),
    clear: _globals.jest.fn()
};
Object.defineProperty(global, 'localStorage', {
    value: mockLocalStorage,
    writable: true
});
// ===================================
// SETUP Y CLEANUP
// ===================================
(0, _globals.beforeEach)(()=>{
    _globals.jest.clearAllMocks();
    mockPerformanceNow.mockReturnValue(1000);
    mockLocalStorage.getItem.mockReturnValue(null);
});
(0, _globals.afterEach)(()=>{
    _globals.jest.clearAllTimers();
});
// ===================================
// TESTS PRINCIPALES
// ===================================
(0, _globals.describe)('useRenderMonitoring', ()=>{
    (0, _globals.describe)('Inicialización', ()=>{
        (0, _globals.it)('debe inicializar con configuración por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
            (0, _globals.expect)(result.current.metrics).toBeDefined();
            (0, _globals.expect)(result.current.alerts).toEqual([]);
            (0, _globals.expect)(typeof result.current.trackError).toBe('function');
        });
        (0, _globals.it)('debe respetar la configuración personalizada', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enabled: false,
                    enableConsoleLogging: false,
                    enableToasts: false
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(false);
        });
        (0, _globals.it)('debe aplicar thresholds personalizados', ()=>{
            const customThresholds = {
                slowRenderThreshold: 20,
                maxRenderCount: 50,
                memoryThreshold: 100,
                errorThreshold: 5
            };
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: customThresholds
                }));
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
        });
    });
    (0, _globals.describe)('Tracking de renders', ()=>{
        (0, _globals.it)('debe trackear renders correctamente', ()=>{
            let renderCount = 0;
            mockPerformanceNow.mockReturnValueOnce(1000) // Inicio del render
            .mockReturnValueOnce(1010); // Fin del render (10ms)
            const { result, rerender } = (0, _react.renderHook)(()=>{
                renderCount++;
                return (0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: true
                });
            });
            // Forzar re-render
            rerender();
            (0, _globals.expect)(result.current.metrics?.renderCount).toBeGreaterThan(0);
        });
        (0, _globals.it)('debe detectar renders lentos', ()=>{
            mockPerformanceNow.mockReturnValueOnce(1000) // Inicio
            .mockReturnValueOnce(1100); // Fin (100ms - lento)
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        slowRenderThreshold: 50
                    }
                }));
            rerender();
            (0, _globals.expect)(result.current.metrics?.slowRenders).toBeGreaterThan(0);
        });
        (0, _globals.it)('debe calcular tiempo promedio de render', ()=>{
            // Simular múltiples renders con diferentes tiempos
            mockPerformanceNow.mockReturnValueOnce(1000).mockReturnValueOnce(1010) // 10ms
            .mockReturnValueOnce(2000).mockReturnValueOnce(2020) // 20ms
            .mockReturnValueOnce(3000).mockReturnValueOnce(3030); // 30ms
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            rerender();
            rerender();
            rerender();
            // Promedio debería ser (10 + 20 + 30) / 3 = 20ms
            (0, _globals.expect)(result.current.metrics?.averageRenderTime).toBeCloseTo(20, 1);
        });
    });
    (0, _globals.describe)('Tracking de errores', ()=>{
        (0, _globals.it)('debe trackear errores correctamente', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent'
                }));
            const testError = new Error('Test error');
            (0, _react.act)(()=>{
                result.current.trackError(testError, {
                    action: 'test_action',
                    context: 'test_context'
                });
            });
            (0, _globals.expect)(result.current.metrics?.errorCount).toBe(1);
        });
        (0, _globals.it)('debe generar alertas por errores frecuentes', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 2
                    }
                }));
            const testError = new Error('Test error');
            (0, _react.act)(()=>{
                // Generar múltiples errores
                result.current.trackError(testError);
                result.current.trackError(testError);
                result.current.trackError(testError);
            });
            (0, _globals.expect)(result.current.alerts.length).toBeGreaterThan(0);
            (0, _globals.expect)(result.current.alerts[0].type).toBe('high_error_rate');
        });
    });
    (0, _globals.describe)('Monitoreo de memoria', ()=>{
        (0, _globals.it)('debe trackear uso de memoria', ()=>{
            // Mock de performance.memory con alto uso
            Object.defineProperty(global.performance, 'memory', {
                value: {
                    usedJSHeapSize: 150 * 1024 * 1024
                },
                configurable: true
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        memoryThreshold: 100
                    }
                }));
            (0, _globals.expect)(result.current.metrics?.memoryUsage).toBeGreaterThan(100);
        });
        (0, _globals.it)('debe generar alertas por alto uso de memoria', ()=>{
            Object.defineProperty(global.performance, 'memory', {
                value: {
                    usedJSHeapSize: 200 * 1024 * 1024
                },
                configurable: true
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        memoryThreshold: 100
                    }
                }));
            (0, _globals.expect)(result.current.alerts.some((alert)=>alert.type === 'high_memory_usage')).toBe(true);
        });
    });
    (0, _globals.describe)('Sistema de alertas', ()=>{
        (0, _globals.it)('debe generar alertas con severidad correcta', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 1
                    }
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Critical error'));
            });
            const alert = result.current.alerts[0];
            (0, _globals.expect)(alert).toBeDefined();
            (0, _globals.expect)([
                'low',
                'medium',
                'high',
                'critical'
            ]).toContain(alert.severity);
        });
        (0, _globals.it)('debe limpiar alertas resueltas', ()=>{
            _globals.jest.useFakeTimers();
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        errorThreshold: 1
                    }
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Test error'));
            });
            (0, _globals.expect)(result.current.alerts.length).toBeGreaterThan(0);
            // Avanzar tiempo para que las alertas se resuelvan automáticamente
            (0, _react.act)(()=>{
                _globals.jest.advanceTimersByTime(5 * 60 * 1000); // 5 minutos
            });
            // Las alertas deberían estar marcadas como resueltas o eliminadas
            const unresolvedAlerts = result.current.alerts.filter((a)=>!a.resolved);
            (0, _globals.expect)(unresolvedAlerts.length).toBeLessThanOrEqual(result.current.alerts.length);
            _globals.jest.useRealTimers();
        });
    });
    (0, _globals.describe)('Persistencia de datos', ()=>{
        (0, _globals.it)('debe guardar métricas en localStorage', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enablePersistence: true
                }));
            (0, _react.act)(()=>{
                result.current.trackError(new Error('Test error'));
            });
            (0, _globals.expect)(mockLocalStorage.setItem).toHaveBeenCalled();
        });
        (0, _globals.it)('debe cargar métricas desde localStorage', ()=>{
            const savedMetrics = {
                renderCount: 10,
                errorCount: 2,
                slowRenders: 1,
                averageRenderTime: 15.5,
                memoryUsage: 75.2
            };
            mockLocalStorage.getItem.mockReturnValue(JSON.stringify(savedMetrics));
            const { result } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enablePersistence: true
                }));
            (0, _globals.expect)(result.current.metrics?.renderCount).toBe(10);
            (0, _globals.expect)(result.current.metrics?.errorCount).toBe(2);
        });
    });
    (0, _globals.describe)('Configuración dinámica', ()=>{
        (0, _globals.it)('debe permitir habilitar/deshabilitar monitoreo', ()=>{
            const { result, rerender } = (0, _react.renderHook)(({ enabled })=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enabled
                }), {
                initialProps: {
                    enabled: true
                }
            });
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
            rerender({
                enabled: false
            });
            (0, _globals.expect)(result.current.isEnabled).toBe(false);
        });
        (0, _globals.it)('debe actualizar thresholds dinámicamente', ()=>{
            const { result, rerender } = (0, _react.renderHook)(({ threshold })=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    thresholds: {
                        slowRenderThreshold: threshold
                    }
                }), {
                initialProps: {
                    threshold: 16
                }
            });
            // Cambiar threshold
            rerender({
                threshold: 50
            });
            // El hook debería usar el nuevo threshold
            (0, _globals.expect)(result.current.isEnabled).toBe(true);
        });
    });
    (0, _globals.describe)('Logging y debugging', ()=>{
        (0, _globals.it)('debe loggear información cuando está habilitado', ()=>{
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: true
                }));
            rerender(); // Forzar re-render
            (0, _globals.expect)(mockConsoleLog).toHaveBeenCalled();
        });
        (0, _globals.it)('no debe loggear cuando está deshabilitado', ()=>{
            mockConsoleLog.mockClear();
            const { result, rerender } = (0, _react.renderHook)(()=>(0, _useRenderMonitoring.useRenderMonitoring)({
                    componentName: 'TestComponent',
                    enableConsoleLogging: false
                }));
            rerender();
            (0, _globals.expect)(mockConsoleLog).not.toHaveBeenCalled();
        });
    });
});
// ===================================
// TESTS PARA HOC
// ===================================
(0, _globals.describe)('withRenderMonitoring HOC', ()=>{
    (0, _globals.it)('debe envolver componente correctamente', ()=>{
        const TestComponent = ({ title })=>{
            return _react1.default.createElement('div', null, title);
        };
        const WrappedComponent = (0, _useRenderMonitoring.withRenderMonitoring)(TestComponent, {
            enabled: true,
            enableConsoleLogging: true
        });
        (0, _globals.expect)(WrappedComponent).toBeDefined();
        (0, _globals.expect)(typeof WrappedComponent).toBe('function');
    });
    (0, _globals.it)('debe pasar props correctamente al componente envuelto', ()=>{
        const TestComponent = ({ title, count })=>{
            return _react1.default.createElement('div', null, `${title}: ${count}`);
        };
        const WrappedComponent = (0, _useRenderMonitoring.withRenderMonitoring)(TestComponent, {
            enabled: true
        });
        const { container } = render(_react1.default.createElement(WrappedComponent, {
            title: 'Test',
            count: 42
        }));
        (0, _globals.expect)(container.textContent).toBe('Test: 42');
    });
});
// Helper para render (simplificado para el test)
function render(element) {
    const container = document.createElement('div');
    // Simulación básica de render para el test
    return {
        container
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcX190ZXN0c19fXFxob29rc1xcdXNlUmVuZGVyTW9uaXRvcmluZy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSU5URVlBIEUtQ09NTUVSQ0UgLSBVTklUIFRFU1RTXG4vLyBQcnVlYmFzIHVuaXRhcmlhcyBwYXJhIHVzZVJlbmRlck1vbml0b3Jpbmdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscydcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xuaW1wb3J0IHsgdXNlUmVuZGVyTW9uaXRvcmluZywgd2l0aFJlbmRlck1vbml0b3JpbmcgfSBmcm9tICdAL2hvb2tzL21vbml0b3JpbmcvdXNlUmVuZGVyTW9uaXRvcmluZydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1PQ0tTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBNb2NrIGRlIHBlcmZvcm1hbmNlLm5vdygpXG5jb25zdCBtb2NrUGVyZm9ybWFuY2VOb3cgPSBqZXN0LmZuKClcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdwZXJmb3JtYW5jZScsIHtcbiAgdmFsdWU6IHtcbiAgICBub3c6IG1vY2tQZXJmb3JtYW5jZU5vdyxcbiAgICBtZW1vcnk6IHtcbiAgICAgIHVzZWRKU0hlYXBTaXplOiA1MCAqIDEwMjQgKiAxMDI0LCAvLyA1ME1CXG4gICAgfSxcbiAgfSxcbiAgd3JpdGFibGU6IHRydWUsXG59KVxuXG4vLyBNb2NrIGRlIGNvbnNvbGVcbmNvbnN0IG1vY2tDb25zb2xlTG9nID0gamVzdC5zcHlPbihjb25zb2xlLCAnbG9nJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KVxuY29uc3QgbW9ja0NvbnNvbGVXYXJuID0gamVzdC5zcHlPbihjb25zb2xlLCAnd2FybicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSlcbmNvbnN0IG1vY2tDb25zb2xlRXJyb3IgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSlcblxuLy8gTW9jayBkZSBsb2NhbFN0b3JhZ2VcbmNvbnN0IG1vY2tMb2NhbFN0b3JhZ2UgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKCksXG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnbG9jYWxTdG9yYWdlJywge1xuICB2YWx1ZTogbW9ja0xvY2FsU3RvcmFnZSxcbiAgd3JpdGFibGU6IHRydWUsXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VUVVAgWSBDTEVBTlVQXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5iZWZvcmVFYWNoKCgpID0+IHtcbiAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgbW9ja1BlcmZvcm1hbmNlTm93Lm1vY2tSZXR1cm5WYWx1ZSgxMDAwKVxuICBtb2NrTG9jYWxTdG9yYWdlLmdldEl0ZW0ubW9ja1JldHVyblZhbHVlKG51bGwpXG59KVxuXG5hZnRlckVhY2goKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsVGltZXJzKClcbn0pXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBURVNUUyBQUklOQ0lQQUxFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZGVzY3JpYmUoJ3VzZVJlbmRlck1vbml0b3JpbmcnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdJbmljaWFsaXphY2nDs24nLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgaW5pY2lhbGl6YXIgY29uIGNvbmZpZ3VyYWNpw7NuIHBvciBkZWZlY3RvJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcykudG9CZURlZmluZWQoKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFsZXJ0cykudG9FcXVhbChbXSlcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcikudG9CZSgnZnVuY3Rpb24nKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSByZXNwZXRhciBsYSBjb25maWd1cmFjacOzbiBwZXJzb25hbGl6YWRhJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGVuYWJsZUNvbnNvbGVMb2dnaW5nOiBmYWxzZSxcbiAgICAgICAgICBlbmFibGVUb2FzdHM6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBhcGxpY2FyIHRocmVzaG9sZHMgcGVyc29uYWxpemFkb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21UaHJlc2hvbGRzID0ge1xuICAgICAgICBzbG93UmVuZGVyVGhyZXNob2xkOiAyMCxcbiAgICAgICAgbWF4UmVuZGVyQ291bnQ6IDUwLFxuICAgICAgICBtZW1vcnlUaHJlc2hvbGQ6IDEwMCxcbiAgICAgICAgZXJyb3JUaHJlc2hvbGQ6IDUsXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiBjdXN0b21UaHJlc2hvbGRzLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKHRydWUpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnVHJhY2tpbmcgZGUgcmVuZGVycycsICgpID0+IHtcbiAgICBpdCgnZGViZSB0cmFja2VhciByZW5kZXJzIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgICBsZXQgcmVuZGVyQ291bnQgPSAwXG4gICAgICBtb2NrUGVyZm9ybWFuY2VOb3dcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwMCkgLy8gSW5pY2lvIGRlbCByZW5kZXJcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAxMCkgLy8gRmluIGRlbCByZW5kZXIgKDEwbXMpXG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCByZXJlbmRlciB9ID0gcmVuZGVySG9vaygoKSA9PiB7XG4gICAgICAgIHJlbmRlckNvdW50KytcbiAgICAgICAgcmV0dXJuIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVDb25zb2xlTG9nZ2luZzogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIEZvcnphciByZS1yZW5kZXJcbiAgICAgIHJlcmVuZGVyKClcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/LnJlbmRlckNvdW50KS50b0JlR3JlYXRlclRoYW4oMClcbiAgICB9KVxuXG4gICAgaXQoJ2RlYmUgZGV0ZWN0YXIgcmVuZGVycyBsZW50b3MnLCAoKSA9PiB7XG4gICAgICBtb2NrUGVyZm9ybWFuY2VOb3dcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwMCkgLy8gSW5pY2lvXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKDExMDApIC8vIEZpbiAoMTAwbXMgLSBsZW50bylcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBzbG93UmVuZGVyVGhyZXNob2xkOiA1MCwgLy8gNTBtcyB0aHJlc2hvbGRcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICByZXJlbmRlcigpXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5tZXRyaWNzPy5zbG93UmVuZGVycykudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGNhbGN1bGFyIHRpZW1wbyBwcm9tZWRpbyBkZSByZW5kZXInLCAoKSA9PiB7XG4gICAgICAvLyBTaW11bGFyIG3Dumx0aXBsZXMgcmVuZGVycyBjb24gZGlmZXJlbnRlcyB0aWVtcG9zXG4gICAgICBtb2NrUGVyZm9ybWFuY2VOb3dcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwMClcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAxMCkgLy8gMTBtc1xuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgyMDAwKVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZSgyMDIwKSAvLyAyMG1zXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKDMwMDApXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKDMwMzApIC8vIDMwbXNcblxuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgcmVyZW5kZXIoKVxuICAgICAgcmVyZW5kZXIoKVxuICAgICAgcmVyZW5kZXIoKVxuXG4gICAgICAvLyBQcm9tZWRpbyBkZWJlcsOtYSBzZXIgKDEwICsgMjAgKyAzMCkgLyAzID0gMjBtc1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lm1ldHJpY3M/LmF2ZXJhZ2VSZW5kZXJUaW1lKS50b0JlQ2xvc2VUbygyMCwgMSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdUcmFja2luZyBkZSBlcnJvcmVzJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRyYWNrZWFyIGVycm9yZXMgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgY29uc3QgdGVzdEVycm9yID0gbmV3IEVycm9yKCdUZXN0IGVycm9yJylcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcih0ZXN0RXJyb3IsIHtcbiAgICAgICAgICBhY3Rpb246ICd0ZXN0X2FjdGlvbicsXG4gICAgICAgICAgY29udGV4dDogJ3Rlc3RfY29udGV4dCcsXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcz8uZXJyb3JDb3VudCkudG9CZSgxKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBnZW5lcmFyIGFsZXJ0YXMgcG9yIGVycm9yZXMgZnJlY3VlbnRlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBlcnJvclRocmVzaG9sZDogMiwgLy8gMiBlcnJvcmVzIHBvciBtaW51dG9cbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBjb25zdCB0ZXN0RXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICAvLyBHZW5lcmFyIG3Dumx0aXBsZXMgZXJyb3Jlc1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKHRlc3RFcnJvcilcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcih0ZXN0RXJyb3IpXG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnRyYWNrRXJyb3IodGVzdEVycm9yKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFsZXJ0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFsZXJ0c1swXS50eXBlKS50b0JlKCdoaWdoX2Vycm9yX3JhdGUnKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ01vbml0b3JlbyBkZSBtZW1vcmlhJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHRyYWNrZWFyIHVzbyBkZSBtZW1vcmlhJywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBkZSBwZXJmb3JtYW5jZS5tZW1vcnkgY29uIGFsdG8gdXNvXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLnBlcmZvcm1hbmNlLCAnbWVtb3J5Jywge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHVzZWRKU0hlYXBTaXplOiAxNTAgKiAxMDI0ICogMTAyNCwgLy8gMTUwTUJcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIHRocmVzaG9sZHM6IHtcbiAgICAgICAgICAgIG1lbW9yeVRocmVzaG9sZDogMTAwLCAvLyAxMDBNQiB0aHJlc2hvbGRcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcz8ubWVtb3J5VXNhZ2UpLnRvQmVHcmVhdGVyVGhhbigxMDApXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGdlbmVyYXIgYWxlcnRhcyBwb3IgYWx0byB1c28gZGUgbWVtb3JpYScsICgpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwucGVyZm9ybWFuY2UsICdtZW1vcnknLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgdXNlZEpTSGVhcFNpemU6IDIwMCAqIDEwMjQgKiAxMDI0LCAvLyAyMDBNQlxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgbWVtb3J5VGhyZXNob2xkOiAxMDAsIC8vIDEwME1CIHRocmVzaG9sZFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hbGVydHMuc29tZShhbGVydCA9PiBhbGVydC50eXBlID09PSAnaGlnaF9tZW1vcnlfdXNhZ2UnKSkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1Npc3RlbWEgZGUgYWxlcnRhcycsICgpID0+IHtcbiAgICBpdCgnZGViZSBnZW5lcmFyIGFsZXJ0YXMgY29uIHNldmVyaWRhZCBjb3JyZWN0YScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICB0aHJlc2hvbGRzOiB7XG4gICAgICAgICAgICBlcnJvclRocmVzaG9sZDogMSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKG5ldyBFcnJvcignQ3JpdGljYWwgZXJyb3InKSlcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGFsZXJ0ID0gcmVzdWx0LmN1cnJlbnQuYWxlcnRzWzBdXG4gICAgICBleHBlY3QoYWxlcnQpLnRvQmVEZWZpbmVkKClcbiAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddKS50b0NvbnRhaW4oYWxlcnQuc2V2ZXJpdHkpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGxpbXBpYXIgYWxlcnRhcyByZXN1ZWx0YXMnLCAoKSA9PiB7XG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VSZW5kZXJNb25pdG9yaW5nKHtcbiAgICAgICAgICBjb21wb25lbnROYW1lOiAnVGVzdENvbXBvbmVudCcsXG4gICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgZXJyb3JUaHJlc2hvbGQ6IDEsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFcnJvcihuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKSlcbiAgICAgIH0pXG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hbGVydHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcblxuICAgICAgLy8gQXZhbnphciB0aWVtcG8gcGFyYSBxdWUgbGFzIGFsZXJ0YXMgc2UgcmVzdWVsdmFuIGF1dG9tw6F0aWNhbWVudGVcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg1ICogNjAgKiAxMDAwKSAvLyA1IG1pbnV0b3NcbiAgICAgIH0pXG5cbiAgICAgIC8vIExhcyBhbGVydGFzIGRlYmVyw61hbiBlc3RhciBtYXJjYWRhcyBjb21vIHJlc3VlbHRhcyBvIGVsaW1pbmFkYXNcbiAgICAgIGNvbnN0IHVucmVzb2x2ZWRBbGVydHMgPSByZXN1bHQuY3VycmVudC5hbGVydHMuZmlsdGVyKGEgPT4gIWEucmVzb2x2ZWQpXG4gICAgICBleHBlY3QodW5yZXNvbHZlZEFsZXJ0cy5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwocmVzdWx0LmN1cnJlbnQuYWxlcnRzLmxlbmd0aClcblxuICAgICAgamVzdC51c2VSZWFsVGltZXJzKClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdQZXJzaXN0ZW5jaWEgZGUgZGF0b3MnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgZ3VhcmRhciBtw6l0cmljYXMgZW4gbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZVBlcnNpc3RlbmNlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0Vycm9yKG5ldyBFcnJvcignVGVzdCBlcnJvcicpKVxuICAgICAgfSlcblxuICAgICAgZXhwZWN0KG1vY2tMb2NhbFN0b3JhZ2Uuc2V0SXRlbSkudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcblxuICAgIGl0KCdkZWJlIGNhcmdhciBtw6l0cmljYXMgZGVzZGUgbG9jYWxTdG9yYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2F2ZWRNZXRyaWNzID0ge1xuICAgICAgICByZW5kZXJDb3VudDogMTAsXG4gICAgICAgIGVycm9yQ291bnQ6IDIsXG4gICAgICAgIHNsb3dSZW5kZXJzOiAxLFxuICAgICAgICBhdmVyYWdlUmVuZGVyVGltZTogMTUuNSxcbiAgICAgICAgbWVtb3J5VXNhZ2U6IDc1LjIsXG4gICAgICB9XG5cbiAgICAgIG1vY2tMb2NhbFN0b3JhZ2UuZ2V0SXRlbS5tb2NrUmV0dXJuVmFsdWUoSlNPTi5zdHJpbmdpZnkoc2F2ZWRNZXRyaWNzKSlcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZVBlcnNpc3RlbmNlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcz8ucmVuZGVyQ291bnQpLnRvQmUoMTApXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubWV0cmljcz8uZXJyb3JDb3VudCkudG9CZSgyKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0NvbmZpZ3VyYWNpw7NuIGRpbsOhbWljYScsICgpID0+IHtcbiAgICBpdCgnZGViZSBwZXJtaXRpciBoYWJpbGl0YXIvZGVzaGFiaWxpdGFyIG1vbml0b3JlbycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCByZXJlbmRlciB9ID0gcmVuZGVySG9vayhcbiAgICAgICAgKHsgZW5hYmxlZCB9KSA9PlxuICAgICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgeyBpbml0aWFsUHJvcHM6IHsgZW5hYmxlZDogdHJ1ZSB9IH1cbiAgICAgIClcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzRW5hYmxlZCkudG9CZSh0cnVlKVxuXG4gICAgICByZXJlbmRlcih7IGVuYWJsZWQ6IGZhbHNlIH0pXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNFbmFibGVkKS50b0JlKGZhbHNlKVxuICAgIH0pXG5cbiAgICBpdCgnZGViZSBhY3R1YWxpemFyIHRocmVzaG9sZHMgZGluw6FtaWNhbWVudGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soXG4gICAgICAgICh7IHRocmVzaG9sZCB9KSA9PlxuICAgICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgICAgICBzbG93UmVuZGVyVGhyZXNob2xkOiB0aHJlc2hvbGQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB7IGluaXRpYWxQcm9wczogeyB0aHJlc2hvbGQ6IDE2IH0gfVxuICAgICAgKVxuXG4gICAgICAvLyBDYW1iaWFyIHRocmVzaG9sZFxuICAgICAgcmVyZW5kZXIoeyB0aHJlc2hvbGQ6IDUwIH0pXG5cbiAgICAgIC8vIEVsIGhvb2sgZGViZXLDrWEgdXNhciBlbCBudWV2byB0aHJlc2hvbGRcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdMb2dnaW5nIHkgZGVidWdnaW5nJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIGxvZ2dlYXIgaW5mb3JtYWNpw7NuIGN1YW5kbyBlc3TDoSBoYWJpbGl0YWRvJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZVJlbmRlck1vbml0b3Jpbmcoe1xuICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdUZXN0Q29tcG9uZW50JyxcbiAgICAgICAgICBlbmFibGVDb25zb2xlTG9nZ2luZzogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgcmVyZW5kZXIoKSAvLyBGb3J6YXIgcmUtcmVuZGVyXG5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZCgpXG4gICAgfSlcblxuICAgIGl0KCdubyBkZWJlIGxvZ2dlYXIgY3VhbmRvIGVzdMOhIGRlc2hhYmlsaXRhZG8nLCAoKSA9PiB7XG4gICAgICBtb2NrQ29uc29sZUxvZy5tb2NrQ2xlYXIoKVxuXG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlUmVuZGVyTW9uaXRvcmluZyh7XG4gICAgICAgICAgY29tcG9uZW50TmFtZTogJ1Rlc3RDb21wb25lbnQnLFxuICAgICAgICAgIGVuYWJsZUNvbnNvbGVMb2dnaW5nOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgcmVyZW5kZXIoKVxuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGVMb2cpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKClcbiAgICB9KVxuICB9KVxufSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRFU1RTIFBBUkEgSE9DXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5kZXNjcmliZSgnd2l0aFJlbmRlck1vbml0b3JpbmcgSE9DJywgKCkgPT4ge1xuICBpdCgnZGViZSBlbnZvbHZlciBjb21wb25lbnRlIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgY29uc3QgVGVzdENvbXBvbmVudDogUmVhY3QuRkM8eyB0aXRsZTogc3RyaW5nIH0+ID0gKHsgdGl0bGUgfSkgPT4ge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwsIHRpdGxlKVxuICAgIH1cblxuICAgIGNvbnN0IFdyYXBwZWRDb21wb25lbnQgPSB3aXRoUmVuZGVyTW9uaXRvcmluZyhUZXN0Q29tcG9uZW50LCB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgZW5hYmxlQ29uc29sZUxvZ2dpbmc6IHRydWUsXG4gICAgfSlcblxuICAgIGV4cGVjdChXcmFwcGVkQ29tcG9uZW50KS50b0JlRGVmaW5lZCgpXG4gICAgZXhwZWN0KHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50KS50b0JlKCdmdW5jdGlvbicpXG4gIH0pXG5cbiAgaXQoJ2RlYmUgcGFzYXIgcHJvcHMgY29ycmVjdGFtZW50ZSBhbCBjb21wb25lbnRlIGVudnVlbHRvJywgKCkgPT4ge1xuICAgIGNvbnN0IFRlc3RDb21wb25lbnQ6IFJlYWN0LkZDPHsgdGl0bGU6IHN0cmluZzsgY291bnQ6IG51bWJlciB9PiA9ICh7IHRpdGxlLCBjb3VudCB9KSA9PiB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgbnVsbCwgYCR7dGl0bGV9OiAke2NvdW50fWApXG4gICAgfVxuXG4gICAgY29uc3QgV3JhcHBlZENvbXBvbmVudCA9IHdpdGhSZW5kZXJNb25pdG9yaW5nKFRlc3RDb21wb25lbnQsIHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgfSlcblxuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHsgdGl0bGU6ICdUZXN0JywgY291bnQ6IDQyIH0pXG4gICAgKVxuXG4gICAgZXhwZWN0KGNvbnRhaW5lci50ZXh0Q29udGVudCkudG9CZSgnVGVzdDogNDInKVxuICB9KVxufSlcblxuLy8gSGVscGVyIHBhcmEgcmVuZGVyIChzaW1wbGlmaWNhZG8gcGFyYSBlbCB0ZXN0KVxuZnVuY3Rpb24gcmVuZGVyKGVsZW1lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAvLyBTaW11bGFjacOzbiBiw6FzaWNhIGRlIHJlbmRlciBwYXJhIGVsIHRlc3RcbiAgcmV0dXJuIHsgY29udGFpbmVyIH1cbn1cbiJdLCJuYW1lcyI6WyJtb2NrUGVyZm9ybWFuY2VOb3ciLCJqZXN0IiwiZm4iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdsb2JhbCIsInZhbHVlIiwibm93IiwibWVtb3J5IiwidXNlZEpTSGVhcFNpemUiLCJ3cml0YWJsZSIsIm1vY2tDb25zb2xlTG9nIiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwibW9ja0NvbnNvbGVXYXJuIiwibW9ja0NvbnNvbGVFcnJvciIsIm1vY2tMb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja1JldHVyblZhbHVlIiwiYWZ0ZXJFYWNoIiwiY2xlYXJBbGxUaW1lcnMiLCJkZXNjcmliZSIsIml0IiwicmVzdWx0IiwicmVuZGVySG9vayIsInVzZVJlbmRlck1vbml0b3JpbmciLCJjb21wb25lbnROYW1lIiwiZXhwZWN0IiwiY3VycmVudCIsImlzRW5hYmxlZCIsInRvQmUiLCJtZXRyaWNzIiwidG9CZURlZmluZWQiLCJhbGVydHMiLCJ0b0VxdWFsIiwidHJhY2tFcnJvciIsImVuYWJsZWQiLCJlbmFibGVDb25zb2xlTG9nZ2luZyIsImVuYWJsZVRvYXN0cyIsImN1c3RvbVRocmVzaG9sZHMiLCJzbG93UmVuZGVyVGhyZXNob2xkIiwibWF4UmVuZGVyQ291bnQiLCJtZW1vcnlUaHJlc2hvbGQiLCJlcnJvclRocmVzaG9sZCIsInRocmVzaG9sZHMiLCJyZW5kZXJDb3VudCIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJyZXJlbmRlciIsInRvQmVHcmVhdGVyVGhhbiIsInNsb3dSZW5kZXJzIiwiYXZlcmFnZVJlbmRlclRpbWUiLCJ0b0JlQ2xvc2VUbyIsInRlc3RFcnJvciIsIkVycm9yIiwiYWN0IiwiYWN0aW9uIiwiY29udGV4dCIsImVycm9yQ291bnQiLCJsZW5ndGgiLCJ0eXBlIiwicGVyZm9ybWFuY2UiLCJjb25maWd1cmFibGUiLCJtZW1vcnlVc2FnZSIsInNvbWUiLCJhbGVydCIsInRvQ29udGFpbiIsInNldmVyaXR5IiwidXNlRmFrZVRpbWVycyIsImFkdmFuY2VUaW1lcnNCeVRpbWUiLCJ1bnJlc29sdmVkQWxlcnRzIiwiZmlsdGVyIiwiYSIsInJlc29sdmVkIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsInVzZVJlYWxUaW1lcnMiLCJlbmFibGVQZXJzaXN0ZW5jZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJzYXZlZE1ldHJpY3MiLCJKU09OIiwic3RyaW5naWZ5IiwiaW5pdGlhbFByb3BzIiwidGhyZXNob2xkIiwibW9ja0NsZWFyIiwibm90IiwiVGVzdENvbXBvbmVudCIsInRpdGxlIiwiUmVhY3QiLCJjcmVhdGVFbGVtZW50IiwiV3JhcHBlZENvbXBvbmVudCIsIndpdGhSZW5kZXJNb25pdG9yaW5nIiwiY291bnQiLCJjb250YWluZXIiLCJyZW5kZXIiLCJ0ZXh0Q29udGVudCIsImVsZW1lbnQiLCJkb2N1bWVudCJdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDLGtDQUFrQztBQUNsQyw2Q0FBNkM7QUFDN0Msc0NBQXNDOzs7Ozt1QkFFTjt5QkFDNEI7cUNBRUY7K0RBQ3hDOzs7Ozs7QUFFbEIsc0NBQXNDO0FBQ3RDLFFBQVE7QUFDUixzQ0FBc0M7QUFFdEMsNEJBQTRCO0FBQzVCLE1BQU1BLHFCQUFxQkMsYUFBSSxDQUFDQyxFQUFFO0FBQ2xDQyxPQUFPQyxjQUFjLENBQUNDLFFBQVEsZUFBZTtJQUMzQ0MsT0FBTztRQUNMQyxLQUFLUDtRQUNMUSxRQUFRO1lBQ05DLGdCQUFnQixLQUFLLE9BQU87UUFDOUI7SUFDRjtJQUNBQyxVQUFVO0FBQ1o7QUFFQSxrQkFBa0I7QUFDbEIsTUFBTUMsaUJBQWlCVixhQUFJLENBQUNXLEtBQUssQ0FBQ0MsU0FBUyxPQUFPQyxrQkFBa0IsQ0FBQyxLQUFPO0FBQzVFLE1BQU1DLGtCQUFrQmQsYUFBSSxDQUFDVyxLQUFLLENBQUNDLFNBQVMsUUFBUUMsa0JBQWtCLENBQUMsS0FBTztBQUM5RSxNQUFNRSxtQkFBbUJmLGFBQUksQ0FBQ1csS0FBSyxDQUFDQyxTQUFTLFNBQVNDLGtCQUFrQixDQUFDLEtBQU87QUFFaEYsdUJBQXVCO0FBQ3ZCLE1BQU1HLG1CQUFtQjtJQUN2QkMsU0FBU2pCLGFBQUksQ0FBQ0MsRUFBRTtJQUNoQmlCLFNBQVNsQixhQUFJLENBQUND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