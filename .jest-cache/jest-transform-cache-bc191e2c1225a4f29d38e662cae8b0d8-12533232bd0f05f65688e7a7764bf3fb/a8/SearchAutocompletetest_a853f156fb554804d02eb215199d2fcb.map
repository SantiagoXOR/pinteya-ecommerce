{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\__tests__\\components\\ui\\SearchAutocomplete.test.tsx"],"sourcesContent":["import React from 'react'\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react'\nimport userEvent from '@testing-library/user-event'\nimport { useRouter } from 'next/navigation'\nimport { SearchAutocomplete, type SearchSuggestion } from '@/components/ui/search-autocomplete'\nimport { searchProducts } from '@/lib/api/products'\n\n// Mock Next.js router\nconst mockPush = jest.fn()\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: mockPush,\n  }),\n}))\n\n// Mock API\njest.mock('@/lib/api/products', () => ({\n  searchProducts: jest.fn(),\n}))\n\nconst mockSearchProducts = searchProducts as jest.MockedFunction<typeof searchProducts>\n\n// Patrón 3 exitoso: Comportamientos testing - Mock completo del hook useTrendingSearches\njest.mock('@/hooks/useTrendingSearches', () => ({\n  useTrendingSearches: () => ({\n    trendingSearches: [\n      { id: 'trending-1', query: 'Pintura látex', href: '/shop?search=pintura+latex', count: 150 },\n      {\n        id: 'trending-2',\n        query: 'Sherwin Williams',\n        href: '/shop?search=sherwin+williams',\n        count: 120,\n      },\n      {\n        id: 'trending-3',\n        query: 'Rodillos premium',\n        href: '/shop?search=rodillos+premium',\n        count: 95,\n      },\n      { id: 'trending-4', query: 'Pinceles', href: '/shop?search=pinceles', count: 80 },\n    ],\n    trackSearch: jest.fn().mockResolvedValue(undefined), // Patrón 3 exitoso: retornar Promise\n    isLoading: false,\n    error: null,\n  }),\n}))\n\n// Mock localStorage\nconst localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nObject.defineProperty(window, 'localStorage', {\n  value: localStorageMock,\n})\n\ndescribe('SearchAutocomplete', () => {\n  beforeEach(() => {\n    jest.clearAllMocks()\n    localStorageMock.getItem.mockReturnValue(null)\n  })\n\n  it('renders with default placeholder', () => {\n    render(<SearchAutocomplete />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    expect(\n      screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    ).toBeInTheDocument()\n  })\n\n  it('renders with custom placeholder', () => {\n    render(<SearchAutocomplete placeholder='Buscar productos...' />)\n\n    expect(screen.getByPlaceholderText('Buscar productos...')).toBeInTheDocument()\n  })\n\n  it('shows trending searches when focused without query', async () => {\n    const user = userEvent.setup()\n    render(<SearchAutocomplete showTrendingSearches={true} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.click(input)\n\n    await waitFor(() => {\n      expect(screen.getByText('Búsquedas populares')).toBeInTheDocument()\n      expect(screen.getByText('Pintura látex')).toBeInTheDocument()\n      expect(screen.getByText('Sherwin Williams')).toBeInTheDocument()\n    })\n  })\n\n  it('shows recent searches when available', async () => {\n    const user = userEvent.setup()\n    const recentSearches = ['pintura blanca', 'rodillos']\n    localStorageMock.getItem.mockReturnValue(JSON.stringify(recentSearches))\n\n    render(<SearchAutocomplete showRecentSearches={true} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.click(input)\n\n    await waitFor(() => {\n      expect(screen.getByText('Búsquedas recientes')).toBeInTheDocument()\n      expect(screen.getByText('pintura blanca')).toBeInTheDocument()\n      expect(screen.getByText('rodillos')).toBeInTheDocument()\n    })\n  })\n\n  it('searches products when typing', async () => {\n    const user = userEvent.setup()\n    const mockProducts = [\n      {\n        id: '1',\n        name: 'Pintura Látex Blanca',\n        category: { name: 'Pinturas' },\n        image_url: '/test-image.jpg',\n        stock: 10,\n      },\n    ]\n\n    mockSearchProducts.mockResolvedValue({\n      success: true,\n      data: mockProducts,\n    })\n\n    render(<SearchAutocomplete debounceMs={100} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'pintura')\n\n    await waitFor(\n      () => {\n        expect(mockSearchProducts).toHaveBeenCalledWith('pintura', 6)\n      },\n      { timeout: 500 }\n    )\n\n    await waitFor(() => {\n      expect(screen.getByText('Productos')).toBeInTheDocument()\n      expect(screen.getByText('Pintura Látex Blanca')).toBeInTheDocument()\n      expect(screen.getByText('Pinturas')).toBeInTheDocument()\n    })\n  })\n\n  it('handles API errors gracefully', async () => {\n    const user = userEvent.setup()\n    mockSearchProducts.mockRejectedValue(new Error('API Error'))\n\n    render(<SearchAutocomplete debounceMs={100} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'test')\n\n    await waitFor(\n      () => {\n        expect(mockSearchProducts).toHaveBeenCalled()\n      },\n      { timeout: 500 }\n    )\n\n    // Should not crash and should clear suggestions\n    expect(screen.queryByText('Productos')).not.toBeInTheDocument()\n  })\n\n  it('navigates to product when suggestion is clicked', async () => {\n    const user = userEvent.setup()\n    const mockProducts = [\n      {\n        id: '1',\n        name: 'Pintura Test',\n        category: { name: 'Pinturas' },\n        image_url: '/test.jpg',\n        stock: 5,\n      },\n    ]\n\n    mockSearchProducts.mockResolvedValue({\n      success: true,\n      data: mockProducts,\n    })\n\n    render(<SearchAutocomplete debounceMs={100} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'pintura')\n\n    await waitFor(() => {\n      expect(screen.getByText('Pintura Test')).toBeInTheDocument()\n    })\n\n    await user.click(screen.getByText('Pintura Test'))\n\n    expect(mockPush).toHaveBeenCalledWith('/product/1')\n  })\n\n  it('submits search on Enter key', async () => {\n    const user = userEvent.setup()\n    render(<SearchAutocomplete />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'test search')\n    await user.keyboard('{Enter}')\n\n    // Patrón 2 exitoso: Expectativas específicas - usar URL real que genera el componente\n    expect(mockPush).toHaveBeenCalledWith('/search?q=test%20search')\n  })\n\n  it('saves recent searches', async () => {\n    const user = userEvent.setup()\n    render(<SearchAutocomplete showRecentSearches={true} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'test search')\n    await user.keyboard('{Enter}')\n\n    // Patrón 2 exitoso: Expectativas específicas - usar formato real que genera el componente\n    expect(localStorageMock.setItem).toHaveBeenCalledWith(\n      'pinteya-recent-searches',\n      expect.stringContaining('\"searches\":[\"test search\"]')\n    )\n  })\n\n  it('clears input when X button is clicked', async () => {\n    const user = userEvent.setup()\n    render(<SearchAutocomplete />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'test')\n\n    const clearButton = screen.getByRole('button', { name: /clear/i })\n    await user.click(clearButton)\n\n    expect(input).toHaveValue('')\n  })\n\n  it('handles keyboard navigation', async () => {\n    const user = userEvent.setup()\n    const mockProducts = [\n      {\n        id: '1',\n        name: 'Product 1',\n        category: { name: 'Category' },\n        stock: 5,\n      },\n      {\n        id: '2',\n        name: 'Product 2',\n        category: { name: 'Category' },\n        stock: 3,\n      },\n    ]\n\n    mockSearchProducts.mockResolvedValue({\n      success: true,\n      data: mockProducts,\n    })\n\n    render(\n      <SearchAutocomplete\n        debounceMs={100}\n        showTrendingSearches={false}\n        showRecentSearches={false}\n      />\n    )\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'product')\n\n    await waitFor(() => {\n      expect(screen.getByText('Product 1')).toBeInTheDocument()\n    })\n\n    // Navigate down to first product\n    await user.keyboard('{ArrowDown}')\n\n    // Select with Enter\n    await user.keyboard('{Enter}')\n\n    expect(mockPush).toHaveBeenCalledWith('/product/1')\n  })\n\n  it('closes dropdown on Escape key', async () => {\n    const user = userEvent.setup()\n    render(<SearchAutocomplete />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.click(input)\n\n    await waitFor(() => {\n      expect(screen.getByText('Búsquedas populares')).toBeInTheDocument()\n    })\n\n    await user.keyboard('{Escape}')\n\n    await waitFor(() => {\n      expect(screen.queryByText('Búsquedas populares')).not.toBeInTheDocument()\n    })\n  })\n\n  it('respects maxSuggestions prop', async () => {\n    const user = userEvent.setup()\n    const mockProducts = Array.from({ length: 10 }, (_, i) => ({\n      id: `${i + 1}`,\n      name: `Product ${i + 1}`,\n      category: { name: 'Category' },\n      stock: 5,\n    }))\n\n    mockSearchProducts.mockResolvedValue({\n      success: true,\n      data: mockProducts,\n    })\n\n    render(<SearchAutocomplete maxSuggestions={3} debounceMs={100} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'product')\n\n    await waitFor(() => {\n      expect(screen.getByText('Product 1')).toBeInTheDocument()\n      expect(screen.getByText('Product 2')).toBeInTheDocument()\n      expect(screen.getByText('Product 3')).toBeInTheDocument()\n      expect(screen.queryByText('Product 4')).not.toBeInTheDocument()\n    })\n  })\n\n  it('calls custom onSearch callback', async () => {\n    const user = userEvent.setup()\n    const onSearch = jest.fn()\n\n    render(<SearchAutocomplete onSearch={onSearch} />)\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.type(input, 'test search')\n    await user.keyboard('{Enter}')\n\n    expect(onSearch).toHaveBeenCalledWith('test search')\n    expect(mockPush).not.toHaveBeenCalled()\n  })\n\n  it('calls custom onSuggestionSelect callback', async () => {\n    const user = userEvent.setup()\n    const onSuggestionSelect = jest.fn()\n\n    render(\n      <SearchAutocomplete onSuggestionSelect={onSuggestionSelect} showTrendingSearches={true} />\n    )\n\n    // Patrón 2 exitoso: Expectativas específicas - usar placeholder real del componente\n    const input = screen.getByPlaceholderText('Látex interior blanco 20lts, rodillos, pinceles...')\n    await user.click(input)\n\n    await waitFor(() => {\n      expect(screen.getByText('Pintura látex')).toBeInTheDocument()\n    })\n\n    await user.click(screen.getByText('Pintura látex'))\n\n    expect(onSuggestionSelect).toHaveBeenCalledWith(\n      expect.objectContaining({\n        title: 'Pintura látex',\n        type: 'trending',\n      })\n    )\n    expect(mockPush).not.toHaveBeenCalled()\n  })\n})\n"],"names":["jest","mock","useRouter","push","mockPush","searchProducts","fn","useTrendingSearches","trendingSearches","id","query","href","count","trackSearch","mockResolvedValue","undefined","isLoading","error","mockSearchProducts","localStorageMock","getItem","setItem","removeItem","clear","Object","defineProperty","window","value","describe","beforeEach","clearAllMocks","mockReturnValue","it","render","SearchAutocomplete","expect","screen","getByPlaceholderText","toBeInTheDocument","placeholder","user","userEvent","setup","showTrendingSearches","input","click","waitFor","getByText","recentSearches","JSON","stringify","showRecentSearches","mockProducts","name","category","image_url","stock","success","data","debounceMs","type","toHaveBeenCalledWith","timeout","mockRejectedValue","Error","toHaveBeenCalled","queryByText","not","keyboard","stringContaining","clearButton","getByRole","toHaveValue","Array","from","length","_","i","maxSuggestions","onSearch","onSuggestionSelect","objectContaining","title"],"mappings":"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"}