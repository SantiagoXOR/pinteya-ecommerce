6ee214ffbcc673c0ef4e3cbe9345f284
// ðŸ§ª Enterprise Unit Tests - Product Images API
"use strict";
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn(()=>mockSupabaseGlobal || {
                from: jest.fn(()=>({
                        select: jest.fn(()=>({
                                eq: jest.fn(()=>({
                                        single: jest.fn(),
                                        order: jest.fn(()=>({
                                                order: jest.fn()
                                            }))
                                    }))
                            })),
                        insert: jest.fn(()=>({
                                select: jest.fn(()=>({
                                        single: jest.fn()
                                    }))
                            })),
                        update: jest.fn(()=>({
                                eq: jest.fn(()=>({
                                        neq: jest.fn()
                                    }))
                            }))
                    })),
                storage: {
                    from: jest.fn(()=>({
                            upload: mockStorageUpload,
                            getPublicUrl: mockStorageGetPublicUrl,
                            remove: mockStorageRemove
                        }))
                }
            })
    }));
// Mock middleware
jest.mock('@/lib/api/middleware-composer', ()=>({
        composeMiddlewares: jest.fn((...middlewares)=>(handler)=>handler)
    }));
jest.mock('@/lib/api/error-handler', ()=>({
        withErrorHandler: jest.fn((handler)=>handler),
        ApiError: class ApiError extends Error {
            constructor(message, statusCode = 500){
                super(message), this.statusCode = statusCode;
            }
        },
        ValidationError: class ValidationError extends Error {
            constructor(message, details){
                super(message), this.details = details;
                this.name = 'ValidationError';
                this.details = details;
            }
        },
        NotFoundError: class NotFoundError extends Error {
            constructor(resource){
                super(`${resource} no encontrado`);
                this.name = 'NotFoundError';
            }
        }
    }));
jest.mock('@/lib/api/api-logger', ()=>({
        withApiLogging: jest.fn((handler)=>handler),
        logAdminAction: jest.fn()
    }));
jest.mock('@/lib/auth/api-auth-middleware', ()=>({
        withAdminAuth: jest.fn(()=>(handler)=>handler)
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _route = require("../route");
// Mock Supabase Storage
const mockStorageUpload = jest.fn();
const mockStorageGetPublicUrl = jest.fn();
const mockStorageRemove = jest.fn();
// Global mock for createClient - will be configured per test
let mockSupabaseGlobal;
describe('/api/admin/products/[id]/images - Enterprise API Tests', ()=>{
    // UUIDs vÃ¡lidos para testing
    const TEST_PRODUCT_ID = '550e8400-e29b-41d4-a716-446655440000';
    const TEST_IMAGE_ID = '550e8400-e29b-41d4-a716-446655440001';
    let mockSupabase;
    let mockRequest;
    // Helper function to create consistent mock chains
    const createMockChain = (finalResult)=>({
            select: jest.fn().mockReturnValue({
                eq: jest.fn().mockReturnValue({
                    order: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue(finalResult)
                    }),
                    single: jest.fn().mockResolvedValue(finalResult)
                })
            }),
            insert: jest.fn().mockReturnValue({
                select: jest.fn().mockReturnValue({
                    single: jest.fn().mockResolvedValue(finalResult)
                })
            }),
            update: jest.fn().mockReturnValue({
                eq: jest.fn().mockReturnValue({
                    neq: jest.fn().mockResolvedValue(finalResult)
                })
            })
        });
    beforeEach(()=>{
        jest.clearAllMocks();
        // Create a simple mock that will be configured per test
        mockSupabase = {
            from: jest.fn(),
            storage: {
                from: jest.fn(()=>({
                        upload: mockStorageUpload,
                        getPublicUrl: mockStorageGetPublicUrl,
                        remove: mockStorageRemove
                    }))
            }
        };
        // Set the global mock to use our local mock
        mockSupabaseGlobal = mockSupabase;
        mockRequest = {
            supabase: mockSupabase,
            user: {
                id: 'test-user-id'
            }
        };
        // Reset storage mocks
        mockStorageUpload.mockReset();
        mockStorageGetPublicUrl.mockReset();
        mockStorageRemove.mockReset();
        // Configure default storage mock responses
        mockStorageRemove.mockResolvedValue({
            data: null,
            error: null
        });
        // Debug: Log what the mock is returning
        console.log('Mock storage remove configured:', mockStorageRemove.getMockImplementation());
        mockStorageRemove.mockReset();
    });
    describe('GET /api/admin/products/[id]/images', ()=>{
        it('should return product images successfully', async ()=>{
            const mockImages = [
                {
                    id: 'image-1',
                    url: 'https://example.com/image1.jpg',
                    alt_text: 'Image 1',
                    is_primary: true,
                    display_order: 0
                },
                {
                    id: 'image-2',
                    url: 'https://example.com/image2.jpg',
                    alt_text: 'Image 2',
                    is_primary: false,
                    display_order: 1
                }
            ];
            // Configure the mock to return data directly
            mockSupabase.from.mockReturnValue(createMockChain({
                data: mockImages,
                error: null
            }));
            const response = await (0, _route.GET)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            });
            const responseData = await response.json();
            // Debug logs removed - test working correctly
            expect(response.status).toBe(200);
            expect(responseData.success).toBe(true);
            expect(responseData.data).toHaveLength(2);
            expect(responseData.data[0].is_primary).toBe(true);
        });
        it('should handle empty images list', async ()=>{
            mockSupabase.from.mockReturnValue(createMockChain({
                data: [],
                error: null
            }));
            const response = await (0, _route.GET)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            });
            const responseData = await response.json();
            expect(response.status).toBe(200);
            expect(responseData.success).toBe(true);
            expect(responseData.data).toHaveLength(0);
        });
        it('should validate product ID format', async ()=>{
            await expect((0, _route.GET)(mockRequest, {
                params: {
                    id: 'invalid-uuid'
                }
            })).rejects.toThrow('ID de producto invÃ¡lido');
        });
        it('should handle database errors', async ()=>{
            mockSupabase.from.mockReturnValue(createMockChain({
                data: null,
                error: {
                    message: 'Database error'
                }
            }));
            await expect((0, _route.GET)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('Error al obtener imÃ¡genes');
        });
    });
    describe('POST /api/admin/products/[id]/images', ()=>{
        let mockFile;
        let mockFormData;
        beforeEach(()=>{
            // Create mock file
            mockFile = new File([
                'test content'
            ], 'test-image.jpg', {
                type: 'image/jpeg'
            });
            // Create mock FormData
            mockFormData = new FormData();
            mockFormData.append('file', mockFile);
            mockFormData.append('alt_text', 'Test image');
            mockFormData.append('is_primary', 'true');
            // Mock request.formData()
            mockRequest.formData = jest.fn().mockResolvedValue(mockFormData);
            // Mock product exists check using new methodology
            mockSupabase.from.mockReturnValue(createMockChain({
                data: {
                    id: TEST_PRODUCT_ID,
                    name: 'Test Product'
                },
                error: null
            }));
        });
        it('should upload image successfully', async ()=>{
            // Mock storage upload
            mockStorageUpload.mockResolvedValue({
                data: {
                    path: `products/${TEST_PRODUCT_ID}/123_test-image.jpg`
                },
                error: null
            });
            mockStorageGetPublicUrl.mockReturnValue({
                data: {
                    publicUrl: 'https://storage.example.com/test-image.jpg'
                }
            });
            // Mock database insert
            const mockImageRecord = {
                id: 'new-image-id',
                product_id: TEST_PRODUCT_ID,
                url: 'https://storage.example.com/test-image.jpg',
                alt_text: 'Test image',
                is_primary: true
            };
            mockSupabase.from().insert().select().single.mockResolvedValue({
                data: mockImageRecord,
                error: null
            });
            // Mock update other images to not primary
            mockSupabase.from().update().eq().neq.mockResolvedValue({
                error: null
            });
            const response = await (0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            });
            const responseData = await response.json();
            expect(response.status).toBe(201);
            expect(responseData.success).toBe(true);
            expect(responseData.data.url).toBe('https://storage.example.com/test-image.jpg');
            expect(responseData.message).toBe('Imagen subida exitosamente');
            // Verify storage upload was called
            expect(mockStorageUpload).toHaveBeenCalledWith(expect.stringContaining(`products/${TEST_PRODUCT_ID}/`), mockFile, expect.objectContaining({
                cacheControl: '3600',
                upsert: false
            }));
        });
        it('should validate file type', async ()=>{
            const invalidFile = new File([
                'test'
            ], 'test.txt', {
                type: 'text/plain'
            });
            mockFormData.set('file', invalidFile);
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('Tipo de archivo no permitido');
        });
        it('should validate file size', async ()=>{
            // Create a large file (6MB)
            const largeContent = new Array(6 * 1024 * 1024).fill('a').join('');
            const largeFile = new File([
                largeContent
            ], 'large.jpg', {
                type: 'image/jpeg'
            });
            mockFormData.set('file', largeFile);
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('El archivo es demasiado grande');
        });
        it('should handle missing file', async ()=>{
            mockFormData.delete('file');
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('No se proporcionÃ³ archivo');
        });
        it('should handle product not found', async ()=>{
            // Use valid UUID but configure mock to return product not found
            mockSupabase.from.mockReturnValue(createMockChain({
                data: null,
                error: {
                    message: 'Product not found'
                }
            }));
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('Producto no encontrado');
        });
        it('should handle storage upload errors', async ()=>{
            mockStorageUpload.mockResolvedValue({
                data: null,
                error: {
                    message: 'Storage error'
                }
            });
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow('Error al subir imagen');
        });
        it('should cleanup storage on database insert failure', async ()=>{
            // Mock successful storage upload
            mockStorageUpload.mockResolvedValue({
                data: {
                    path: `products/${TEST_PRODUCT_ID}/test-image.jpg`
                },
                error: null
            });
            mockStorageGetPublicUrl.mockReturnValue({
                data: {
                    publicUrl: 'https://storage.example.com/test-image.jpg'
                }
            });
            // Mock product exists check (success) and database insert failure
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: TEST_PRODUCT_ID,
                                name: 'Test Product'
                            },
                            error: null
                        })
                    })
                }),
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                message: 'Database error'
                            }
                        })
                    })
                })
            });
            // PatrÃ³n 2 exitoso: Expectativas especÃ­ficas - acepta cualquier error de storage
            await expect((0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            })).rejects.toThrow();
            // Verify cleanup was attempted
            expect(mockStorageRemove).toHaveBeenCalledWith([
                `products/${TEST_PRODUCT_ID}/test-image.jpg`
            ]);
        });
        it('should update other images when setting as primary', async ()=>{
            mockStorageUpload.mockResolvedValue({
                data: {
                    path: 'test-path'
                },
                error: null
            });
            mockStorageGetPublicUrl.mockReturnValue({
                data: {
                    publicUrl: 'https://example.com/image.jpg'
                }
            });
            const mockImageRecord = {
                id: 'new-image-id',
                is_primary: true
            };
            mockSupabase.from().insert().select().single.mockResolvedValue({
                data: mockImageRecord,
                error: null
            });
            await (0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            });
            // Verify other images were updated to not primary
            expect(mockSupabase.from().update).toHaveBeenCalledWith({
                is_primary: false
            });
        });
        it('should generate unique filename', async ()=>{
            mockStorageUpload.mockResolvedValue({
                data: {
                    path: 'test-path'
                },
                error: null
            });
            mockStorageGetPublicUrl.mockReturnValue({
                data: {
                    publicUrl: 'https://example.com/image.jpg'
                }
            });
            mockSupabase.from().insert().select().single.mockResolvedValue({
                data: {
                    id: 'test-id'
                },
                error: null
            });
            await (0, _route.POST)(mockRequest, {
                params: {
                    id: TEST_PRODUCT_ID
                }
            });
            // Verify filename includes product ID and timestamp
            const uploadCall = mockStorageUpload.mock.calls[0];
            const filename = uploadCall[0];
            expect(filename).toContain(`products/${TEST_PRODUCT_ID}/`);
            expect(filename).toContain('test-image.jpg');
        });
    });
    describe('File Validation', ()=>{
        const validTypes = [
            'image/jpeg',
            'image/jpg',
            'image/png',
            'image/webp'
        ];
        const invalidTypes = [
            'text/plain',
            'application/pdf',
            'video/mp4'
        ];
        validTypes.forEach((type)=>{
            it(`should accept ${type} files`, async ()=>{
                const file = new File([
                    'content'
                ], 'test.jpg', {
                    type
                });
                const formData = new FormData();
                formData.append('file', file);
                mockRequest.formData = jest.fn().mockResolvedValue(formData);
                mockSupabase.from.mockReturnValue(createMockChain({
                    data: {
                        id: TEST_PRODUCT_ID
                    },
                    error: null
                }));
                mockStorageUpload.mockResolvedValue({
                    data: {
                        path: 'test-path'
                    },
                    error: null
                });
                mockStorageGetPublicUrl.mockReturnValue({
                    data: {
                        publicUrl: 'https://example.com/image.jpg'
                    }
                });
                mockSupabase.from().insert().select().single.mockResolvedValue({
                    data: {
                        id: 'test-id'
                    },
                    error: null
                });
                const response = await (0, _route.POST)(mockRequest, {
                    params: {
                        id: TEST_PRODUCT_ID
                    }
                });
                expect(response.status).toBe(201);
            });
        });
        invalidTypes.forEach((type)=>{
            it(`should reject ${type} files`, async ()=>{
                const file = new File([
                    'content'
                ], 'test.txt', {
                    type
                });
                const formData = new FormData();
                formData.append('file', file);
                mockRequest.formData = jest.fn().mockResolvedValue(formData);
                mockSupabase.from.mockReturnValue(createMockChain({
                    data: {
                        id: TEST_PRODUCT_ID
                    },
                    error: null
                }));
                await expect((0, _route.POST)(mockRequest, {
                    params: {
                        id: TEST_PRODUCT_ID
                    }
                })).rejects.toThrow('Tipo de archivo no permitido');
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcYXBwXFxhcGlcXGFkbWluXFxwcm9kdWN0c1xcW2lkXVxcaW1hZ2VzXFxfX3Rlc3RzX19cXHJvdXRlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g8J+nqiBFbnRlcnByaXNlIFVuaXQgVGVzdHMgLSBQcm9kdWN0IEltYWdlcyBBUElcblxuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IEdFVCwgUE9TVCB9IGZyb20gJy4uL3JvdXRlJ1xuXG4vLyBNb2NrIFN1cGFiYXNlIFN0b3JhZ2VcbmNvbnN0IG1vY2tTdG9yYWdlVXBsb2FkID0gamVzdC5mbigpXG5jb25zdCBtb2NrU3RvcmFnZUdldFB1YmxpY1VybCA9IGplc3QuZm4oKVxuY29uc3QgbW9ja1N0b3JhZ2VSZW1vdmUgPSBqZXN0LmZuKClcblxuLy8gR2xvYmFsIG1vY2sgZm9yIGNyZWF0ZUNsaWVudCAtIHdpbGwgYmUgY29uZmlndXJlZCBwZXIgdGVzdFxubGV0IG1vY2tTdXBhYmFzZUdsb2JhbDogYW55XG5cbmplc3QubW9jaygnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJywgKCkgPT4gKHtcbiAgY3JlYXRlQ2xpZW50OiBqZXN0LmZuKFxuICAgICgpID0+XG4gICAgICBtb2NrU3VwYWJhc2VHbG9iYWwgfHwge1xuICAgICAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICAgICAgICBvcmRlcjogamVzdC5mbigpLFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgfSkpLFxuICAgICAgICAgIGluc2VydDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICB1cGRhdGU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgICAgIG5lcTogamVzdC5mbigpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBzdG9yYWdlOiB7XG4gICAgICAgICAgZnJvbTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgICAgdXBsb2FkOiBtb2NrU3RvcmFnZVVwbG9hZCxcbiAgICAgICAgICAgIGdldFB1YmxpY1VybDogbW9ja1N0b3JhZ2VHZXRQdWJsaWNVcmwsXG4gICAgICAgICAgICByZW1vdmU6IG1vY2tTdG9yYWdlUmVtb3ZlLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgKSxcbn0pKVxuXG4vLyBNb2NrIG1pZGRsZXdhcmVcbmplc3QubW9jaygnQC9saWIvYXBpL21pZGRsZXdhcmUtY29tcG9zZXInLCAoKSA9PiAoe1xuICBjb21wb3NlTWlkZGxld2FyZXM6IGplc3QuZm4oXG4gICAgKC4uLm1pZGRsZXdhcmVzKSA9PlxuICAgICAgaGFuZGxlciA9PlxuICAgICAgICBoYW5kbGVyXG4gICksXG59KSlcblxuamVzdC5tb2NrKCdAL2xpYi9hcGkvZXJyb3ItaGFuZGxlcicsICgpID0+ICh7XG4gIHdpdGhFcnJvckhhbmRsZXI6IGplc3QuZm4oaGFuZGxlciA9PiBoYW5kbGVyKSxcbiAgQXBpRXJyb3I6IGNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgbWVzc2FnZTogc3RyaW5nLFxuICAgICAgcHVibGljIHN0YXR1c0NvZGU6IG51bWJlciA9IDUwMFxuICAgICkge1xuICAgICAgc3VwZXIobWVzc2FnZSlcbiAgICB9XG4gIH0sXG4gIFZhbGlkYXRpb25FcnJvcjogY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgbWVzc2FnZTogc3RyaW5nLFxuICAgICAgcHVibGljIGRldGFpbHM/OiBhbnlcbiAgICApIHtcbiAgICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgICB0aGlzLm5hbWUgPSAnVmFsaWRhdGlvbkVycm9yJ1xuICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlsc1xuICAgIH1cbiAgfSxcbiAgTm90Rm91bmRFcnJvcjogY2xhc3MgTm90Rm91bmRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXNvdXJjZTogc3RyaW5nKSB7XG4gICAgICBzdXBlcihgJHtyZXNvdXJjZX0gbm8gZW5jb250cmFkb2ApXG4gICAgICB0aGlzLm5hbWUgPSAnTm90Rm91bmRFcnJvcidcbiAgICB9XG4gIH0sXG59KSlcblxuamVzdC5tb2NrKCdAL2xpYi9hcGkvYXBpLWxvZ2dlcicsICgpID0+ICh7XG4gIHdpdGhBcGlMb2dnaW5nOiBqZXN0LmZuKGhhbmRsZXIgPT4gaGFuZGxlciksXG4gIGxvZ0FkbWluQWN0aW9uOiBqZXN0LmZuKCksXG59KSlcblxuamVzdC5tb2NrKCdAL2xpYi9hdXRoL2FwaS1hdXRoLW1pZGRsZXdhcmUnLCAoKSA9PiAoe1xuICB3aXRoQWRtaW5BdXRoOiBqZXN0LmZuKCgpID0+IGhhbmRsZXIgPT4gaGFuZGxlciksXG59KSlcblxuZGVzY3JpYmUoJy9hcGkvYWRtaW4vcHJvZHVjdHMvW2lkXS9pbWFnZXMgLSBFbnRlcnByaXNlIEFQSSBUZXN0cycsICgpID0+IHtcbiAgLy8gVVVJRHMgdsOhbGlkb3MgcGFyYSB0ZXN0aW5nXG4gIGNvbnN0IFRFU1RfUFJPRFVDVF9JRCA9ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnXG4gIGNvbnN0IFRFU1RfSU1BR0VfSUQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAxJ1xuXG4gIGxldCBtb2NrU3VwYWJhc2U6IGFueVxuICBsZXQgbW9ja1JlcXVlc3Q6IGFueVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgY29uc2lzdGVudCBtb2NrIGNoYWluc1xuICBjb25zdCBjcmVhdGVNb2NrQ2hhaW4gPSAoZmluYWxSZXN1bHQ6IGFueSkgPT4gKHtcbiAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShmaW5hbFJlc3VsdCksXG4gICAgICAgIH0pLFxuICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShmaW5hbFJlc3VsdCksXG4gICAgICB9KSxcbiAgICB9KSxcbiAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoZmluYWxSZXN1bHQpLFxuICAgICAgfSksXG4gICAgfSksXG4gICAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgbmVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoZmluYWxSZXN1bHQpLFxuICAgICAgfSksXG4gICAgfSksXG4gIH0pXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcblxuICAgIC8vIENyZWF0ZSBhIHNpbXBsZSBtb2NrIHRoYXQgd2lsbCBiZSBjb25maWd1cmVkIHBlciB0ZXN0XG4gICAgbW9ja1N1cGFiYXNlID0ge1xuICAgICAgZnJvbTogamVzdC5mbigpLFxuICAgICAgc3RvcmFnZToge1xuICAgICAgICBmcm9tOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgICAgdXBsb2FkOiBtb2NrU3RvcmFnZVVwbG9hZCxcbiAgICAgICAgICBnZXRQdWJsaWNVcmw6IG1vY2tTdG9yYWdlR2V0UHVibGljVXJsLFxuICAgICAgICAgIHJlbW92ZTogbW9ja1N0b3JhZ2VSZW1vdmUsXG4gICAgICAgIH0pKSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBnbG9iYWwgbW9jayB0byB1c2Ugb3VyIGxvY2FsIG1vY2tcbiAgICBtb2NrU3VwYWJhc2VHbG9iYWwgPSBtb2NrU3VwYWJhc2VcblxuICAgIG1vY2tSZXF1ZXN0ID0ge1xuICAgICAgc3VwYWJhc2U6IG1vY2tTdXBhYmFzZSxcbiAgICAgIHVzZXI6IHsgaWQ6ICd0ZXN0LXVzZXItaWQnIH0sXG4gICAgfSBhcyBhbnlcblxuICAgIC8vIFJlc2V0IHN0b3JhZ2UgbW9ja3NcbiAgICBtb2NrU3RvcmFnZVVwbG9hZC5tb2NrUmVzZXQoKVxuICAgIG1vY2tTdG9yYWdlR2V0UHVibGljVXJsLm1vY2tSZXNldCgpXG4gICAgbW9ja1N0b3JhZ2VSZW1vdmUubW9ja1Jlc2V0KClcblxuICAgIC8vIENvbmZpZ3VyZSBkZWZhdWx0IHN0b3JhZ2UgbW9jayByZXNwb25zZXNcbiAgICBtb2NrU3RvcmFnZVJlbW92ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pXG5cbiAgICAvLyBEZWJ1ZzogTG9nIHdoYXQgdGhlIG1vY2sgaXMgcmV0dXJuaW5nXG4gICAgY29uc29sZS5sb2coJ01vY2sgc3RvcmFnZSByZW1vdmUgY29uZmlndXJlZDonLCBtb2NrU3RvcmFnZVJlbW92ZS5nZXRNb2NrSW1wbGVtZW50YXRpb24oKSlcbiAgICBtb2NrU3RvcmFnZVJlbW92ZS5tb2NrUmVzZXQoKVxuICB9KVxuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9hZG1pbi9wcm9kdWN0cy9baWRdL2ltYWdlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9kdWN0IGltYWdlcyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrSW1hZ2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdpbWFnZS0xJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlMS5qcGcnLFxuICAgICAgICAgIGFsdF90ZXh0OiAnSW1hZ2UgMScsXG4gICAgICAgICAgaXNfcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdpbWFnZS0yJyxcbiAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlMi5qcGcnLFxuICAgICAgICAgIGFsdF90ZXh0OiAnSW1hZ2UgMicsXG4gICAgICAgICAgaXNfcHJpbWFyeTogZmFsc2UsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMSxcbiAgICAgICAgfSxcbiAgICAgIF1cblxuICAgICAgLy8gQ29uZmlndXJlIHRoZSBtb2NrIHRvIHJldHVybiBkYXRhIGRpcmVjdGx5XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoXG4gICAgICAgIGNyZWF0ZU1vY2tDaGFpbih7XG4gICAgICAgICAgZGF0YTogbW9ja0ltYWdlcyxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KVxuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIC8vIERlYnVnIGxvZ3MgcmVtb3ZlZCAtIHRlc3Qgd29ya2luZyBjb3JyZWN0bHlcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDIpXG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmRhdGFbMF0uaXNfcHJpbWFyeSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBpbWFnZXMgbGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShcbiAgICAgICAgY3JlYXRlTW9ja0NoYWluKHtcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KVxuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgwKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHByb2R1Y3QgSUQgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KEdFVChtb2NrUmVxdWVzdCwgeyBwYXJhbXM6IHsgaWQ6ICdpbnZhbGlkLXV1aWQnIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0lEIGRlIHByb2R1Y3RvIGludsOhbGlkbydcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKFxuICAgICAgICBjcmVhdGVNb2NrQ2hhaW4oe1xuICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGVycm9yJyB9LFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBhd2FpdCBleHBlY3QoR0VUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0Vycm9yIGFsIG9idGVuZXIgaW3DoWdlbmVzJ1xuICAgICAgKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9hZG1pbi9wcm9kdWN0cy9baWRdL2ltYWdlcycsICgpID0+IHtcbiAgICBsZXQgbW9ja0ZpbGU6IEZpbGVcbiAgICBsZXQgbW9ja0Zvcm1EYXRhOiBGb3JtRGF0YVxuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbW9jayBmaWxlXG4gICAgICBtb2NrRmlsZSA9IG5ldyBGaWxlKFsndGVzdCBjb250ZW50J10sICd0ZXN0LWltYWdlLmpwZycsIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgfSlcblxuICAgICAgLy8gQ3JlYXRlIG1vY2sgRm9ybURhdGFcbiAgICAgIG1vY2tGb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICBtb2NrRm9ybURhdGEuYXBwZW5kKCdmaWxlJywgbW9ja0ZpbGUpXG4gICAgICBtb2NrRm9ybURhdGEuYXBwZW5kKCdhbHRfdGV4dCcsICdUZXN0IGltYWdlJylcbiAgICAgIG1vY2tGb3JtRGF0YS5hcHBlbmQoJ2lzX3ByaW1hcnknLCAndHJ1ZScpXG5cbiAgICAgIC8vIE1vY2sgcmVxdWVzdC5mb3JtRGF0YSgpXG4gICAgICBtb2NrUmVxdWVzdC5mb3JtRGF0YSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRm9ybURhdGEpXG5cbiAgICAgIC8vIE1vY2sgcHJvZHVjdCBleGlzdHMgY2hlY2sgdXNpbmcgbmV3IG1ldGhvZG9sb2d5XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoXG4gICAgICAgIGNyZWF0ZU1vY2tDaGFpbih7XG4gICAgICAgICAgZGF0YTogeyBpZDogVEVTVF9QUk9EVUNUX0lELCBuYW1lOiAnVGVzdCBQcm9kdWN0JyB9LFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHVwbG9hZCBpbWFnZSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHN0b3JhZ2UgdXBsb2FkXG4gICAgICBtb2NrU3RvcmFnZVVwbG9hZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgcGF0aDogYHByb2R1Y3RzLyR7VEVTVF9QUk9EVUNUX0lEfS8xMjNfdGVzdC1pbWFnZS5qcGdgIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSlcblxuICAgICAgbW9ja1N0b3JhZ2VHZXRQdWJsaWNVcmwubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBwdWJsaWNVcmw6ICdodHRwczovL3N0b3JhZ2UuZXhhbXBsZS5jb20vdGVzdC1pbWFnZS5qcGcnIH0sXG4gICAgICB9KVxuXG4gICAgICAvLyBNb2NrIGRhdGFiYXNlIGluc2VydFxuICAgICAgY29uc3QgbW9ja0ltYWdlUmVjb3JkID0ge1xuICAgICAgICBpZDogJ25ldy1pbWFnZS1pZCcsXG4gICAgICAgIHByb2R1Y3RfaWQ6IFRFU1RfUFJPRFVDVF9JRCxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9zdG9yYWdlLmV4YW1wbGUuY29tL3Rlc3QtaW1hZ2UuanBnJyxcbiAgICAgICAgYWx0X3RleHQ6ICdUZXN0IGltYWdlJyxcbiAgICAgICAgaXNfcHJpbWFyeTogdHJ1ZSxcbiAgICAgIH1cblxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20oKS5pbnNlcnQoKS5zZWxlY3QoKS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrSW1hZ2VSZWNvcmQsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSlcblxuICAgICAgLy8gTW9jayB1cGRhdGUgb3RoZXIgaW1hZ2VzIHRvIG5vdCBwcmltYXJ5XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbSgpLnVwZGF0ZSgpLmVxKCkubmVxLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KVxuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAxKVxuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5zdWNjZXNzKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmRhdGEudXJsKS50b0JlKCdodHRwczovL3N0b3JhZ2UuZXhhbXBsZS5jb20vdGVzdC1pbWFnZS5qcGcnKVxuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5tZXNzYWdlKS50b0JlKCdJbWFnZW4gc3ViaWRhIGV4aXRvc2FtZW50ZScpXG5cbiAgICAgIC8vIFZlcmlmeSBzdG9yYWdlIHVwbG9hZCB3YXMgY2FsbGVkXG4gICAgICBleHBlY3QobW9ja1N0b3JhZ2VVcGxvYWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyhgcHJvZHVjdHMvJHtURVNUX1BST0RVQ1RfSUR9L2ApLFxuICAgICAgICBtb2NrRmlsZSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIGNhY2hlQ29udHJvbDogJzM2MDAnLFxuICAgICAgICAgIHVwc2VydDogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgZmlsZSB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZEZpbGUgPSBuZXcgRmlsZShbJ3Rlc3QnXSwgJ3Rlc3QudHh0JywgeyB0eXBlOiAndGV4dC9wbGFpbicgfSlcbiAgICAgIG1vY2tGb3JtRGF0YS5zZXQoJ2ZpbGUnLCBpbnZhbGlkRmlsZSlcblxuICAgICAgYXdhaXQgZXhwZWN0KFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnVGlwbyBkZSBhcmNoaXZvIG5vIHBlcm1pdGlkbydcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBmaWxlIHNpemUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYSBsYXJnZSBmaWxlICg2TUIpXG4gICAgICBjb25zdCBsYXJnZUNvbnRlbnQgPSBuZXcgQXJyYXkoNiAqIDEwMjQgKiAxMDI0KS5maWxsKCdhJykuam9pbignJylcbiAgICAgIGNvbnN0IGxhcmdlRmlsZSA9IG5ldyBGaWxlKFtsYXJnZUNvbnRlbnRdLCAnbGFyZ2UuanBnJywgeyB0eXBlOiAnaW1hZ2UvanBlZycgfSlcbiAgICAgIG1vY2tGb3JtRGF0YS5zZXQoJ2ZpbGUnLCBsYXJnZUZpbGUpXG5cbiAgICAgIGF3YWl0IGV4cGVjdChQT1NUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0VsIGFyY2hpdm8gZXMgZGVtYXNpYWRvIGdyYW5kZSdcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0Zvcm1EYXRhLmRlbGV0ZSgnZmlsZScpXG5cbiAgICAgIGF3YWl0IGV4cGVjdChQT1NUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ05vIHNlIHByb3BvcmNpb27DsyBhcmNoaXZvJ1xuICAgICAgKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9kdWN0IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFVzZSB2YWxpZCBVVUlEIGJ1dCBjb25maWd1cmUgbW9jayB0byByZXR1cm4gcHJvZHVjdCBub3QgZm91bmRcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShcbiAgICAgICAgY3JlYXRlTW9ja0NoYWluKHtcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgYXdhaXQgZXhwZWN0KFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnUHJvZHVjdG8gbm8gZW5jb250cmFkbydcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3RvcmFnZSB1cGxvYWQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N0b3JhZ2VVcGxvYWQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnU3RvcmFnZSBlcnJvcicgfSxcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IGV4cGVjdChQT1NUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0Vycm9yIGFsIHN1YmlyIGltYWdlbidcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBjbGVhbnVwIHN0b3JhZ2Ugb24gZGF0YWJhc2UgaW5zZXJ0IGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgc3RvcmFnZSB1cGxvYWRcbiAgICAgIG1vY2tTdG9yYWdlVXBsb2FkLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBwYXRoOiBgcHJvZHVjdHMvJHtURVNUX1BST0RVQ1RfSUR9L3Rlc3QtaW1hZ2UuanBnYCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pXG5cbiAgICAgIG1vY2tTdG9yYWdlR2V0UHVibGljVXJsLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgcHVibGljVXJsOiAnaHR0cHM6Ly9zdG9yYWdlLmV4YW1wbGUuY29tL3Rlc3QtaW1hZ2UuanBnJyB9LFxuICAgICAgfSlcblxuICAgICAgLy8gTW9jayBwcm9kdWN0IGV4aXN0cyBjaGVjayAoc3VjY2VzcykgYW5kIGRhdGFiYXNlIGluc2VydCBmYWlsdXJlXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgZGF0YTogeyBpZDogVEVTVF9QUk9EVUNUX0lELCBuYW1lOiAnVGVzdCBQcm9kdWN0JyB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGF0YWJhc2UgZXJyb3InIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KVxuXG4gICAgICAvLyBQYXRyw7NuIDIgZXhpdG9zbzogRXhwZWN0YXRpdmFzIGVzcGVjw61maWNhcyAtIGFjZXB0YSBjdWFscXVpZXIgZXJyb3IgZGUgc3RvcmFnZVxuICAgICAgYXdhaXQgZXhwZWN0KFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KSkucmVqZWN0cy50b1Rocm93KClcblxuICAgICAgLy8gVmVyaWZ5IGNsZWFudXAgd2FzIGF0dGVtcHRlZFxuICAgICAgZXhwZWN0KG1vY2tTdG9yYWdlUmVtb3ZlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbYHByb2R1Y3RzLyR7VEVTVF9QUk9EVUNUX0lEfS90ZXN0LWltYWdlLmpwZ2BdKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBvdGhlciBpbWFnZXMgd2hlbiBzZXR0aW5nIGFzIHByaW1hcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3RvcmFnZVVwbG9hZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgcGF0aDogJ3Rlc3QtcGF0aCcgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KVxuXG4gICAgICBtb2NrU3RvcmFnZUdldFB1YmxpY1VybC5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHB1YmxpY1VybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnJyB9LFxuICAgICAgfSlcblxuICAgICAgY29uc3QgbW9ja0ltYWdlUmVjb3JkID0ge1xuICAgICAgICBpZDogJ25ldy1pbWFnZS1pZCcsXG4gICAgICAgIGlzX3ByaW1hcnk6IHRydWUsXG4gICAgICB9XG5cbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tKCkuaW5zZXJ0KCkuc2VsZWN0KCkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja0ltYWdlUmVjb3JkLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pXG5cbiAgICAgIGF3YWl0IFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KVxuXG4gICAgICAvLyBWZXJpZnkgb3RoZXIgaW1hZ2VzIHdlcmUgdXBkYXRlZCB0byBub3QgcHJpbWFyeVxuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5mcm9tKCkudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IGlzX3ByaW1hcnk6IGZhbHNlIH0pXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgdW5pcXVlIGZpbGVuYW1lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N0b3JhZ2VVcGxvYWQubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHBhdGg6ICd0ZXN0LXBhdGgnIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSlcblxuICAgICAgbW9ja1N0b3JhZ2VHZXRQdWJsaWNVcmwubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBwdWJsaWNVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZycgfSxcbiAgICAgIH0pXG5cbiAgICAgIG1vY2tTdXBhYmFzZVxuICAgICAgICAuZnJvbSgpXG4gICAgICAgIC5pbnNlcnQoKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogeyBpZDogJ3Rlc3QtaWQnIH0sXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pXG5cbiAgICAgIGF3YWl0IFBPU1QobW9ja1JlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSB9KVxuXG4gICAgICAvLyBWZXJpZnkgZmlsZW5hbWUgaW5jbHVkZXMgcHJvZHVjdCBJRCBhbmQgdGltZXN0YW1wXG4gICAgICBjb25zdCB1cGxvYWRDYWxsID0gbW9ja1N0b3JhZ2VVcGxvYWQubW9jay5jYWxsc1swXVxuICAgICAgY29uc3QgZmlsZW5hbWUgPSB1cGxvYWRDYWxsWzBdXG5cbiAgICAgIGV4cGVjdChmaWxlbmFtZSkudG9Db250YWluKGBwcm9kdWN0cy8ke1RFU1RfUFJPRFVDVF9JRH0vYClcbiAgICAgIGV4cGVjdChmaWxlbmFtZSkudG9Db250YWluKCd0ZXN0LWltYWdlLmpwZycpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRmlsZSBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkVHlwZXMgPSBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvanBnJywgJ2ltYWdlL3BuZycsICdpbWFnZS93ZWJwJ11cbiAgICBjb25zdCBpbnZhbGlkVHlwZXMgPSBbJ3RleHQvcGxhaW4nLCAnYXBwbGljYXRpb24vcGRmJywgJ3ZpZGVvL21wNCddXG5cbiAgICB2YWxpZFR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBpdChgc2hvdWxkIGFjY2VwdCAke3R5cGV9IGZpbGVzYCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoWydjb250ZW50J10sICd0ZXN0LmpwZycsIHsgdHlwZSB9KVxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpXG5cbiAgICAgICAgbW9ja1JlcXVlc3QuZm9ybURhdGEgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoZm9ybURhdGEpXG5cbiAgICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKFxuICAgICAgICAgIGNyZWF0ZU1vY2tDaGFpbih7XG4gICAgICAgICAgICBkYXRhOiB7IGlkOiBURVNUX1BST0RVQ1RfSUQgfSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pXG4gICAgICAgIClcblxuICAgICAgICBtb2NrU3RvcmFnZVVwbG9hZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogeyBwYXRoOiAndGVzdC1wYXRoJyB9LFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIG1vY2tTdG9yYWdlR2V0UHVibGljVXJsLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZGF0YTogeyBwdWJsaWNVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL2ltYWdlLmpwZycgfSxcbiAgICAgICAgfSlcblxuICAgICAgICBtb2NrU3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgpXG4gICAgICAgICAgLmluc2VydCgpXG4gICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiB7IGlkOiAndGVzdC1pZCcgfSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSlcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDEpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpbnZhbGlkVHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGl0KGBzaG91bGQgcmVqZWN0ICR7dHlwZX0gZmlsZXNgLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbJ2NvbnRlbnQnXSwgJ3Rlc3QudHh0JywgeyB0eXBlIH0pXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSlcblxuICAgICAgICBtb2NrUmVxdWVzdC5mb3JtRGF0YSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShmb3JtRGF0YSlcblxuICAgICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoXG4gICAgICAgICAgY3JlYXRlTW9ja0NoYWluKHtcbiAgICAgICAgICAgIGRhdGE6IHsgaWQ6IFRFU1RfUFJPRFVDVF9JRCB9LFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuXG4gICAgICAgIGF3YWl0IGV4cGVjdChQT1NUKG1vY2tSZXF1ZXN0LCB7IHBhcmFtczogeyBpZDogVEVTVF9QUk9EVUNUX0lEIH0gfSkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgICAnVGlwbyBkZSBhcmNoaXZvIG5vIHBlcm1pdGlkbydcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxufSlcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImNyZWF0ZUNsaWVudCIsImZuIiwibW9ja1N1cGFiYXNlR2xvYmFsIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwib3JkZXIiLCJpbnNlcnQiLCJ1cGRhdGUiLCJuZXEiLCJzdG9yYWdlIiwidXBsb2FkIiwibW9ja1N0b3JhZ2VVcGxvYWQiLCJnZXRQdWJsaWNVcmwiLCJtb2NrU3RvcmFnZUdldFB1YmxpY1VybCIsInJlbW92ZSIsIm1vY2tTdG9yYWdlUmVtb3ZlIiwiY29tcG9zZU1pZGRsZXdhcmVzIiwibWlkZGxld2FyZXMiLCJoYW5kbGVyIiwid2l0aEVycm9ySGFuZGxlciIsIkFwaUVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzQ29kZSIsIlZhbGlkYXRpb25FcnJvciIsImRldGFpbHMiLCJuYW1lIiwiTm90Rm91bmRFcnJvciIsInJlc291cmNlIiwid2l0aEFwaUxvZ2dpbmciLCJsb2dBZG1pbkFjdGlvbiIsIndpdGhBZG1pbkF1dGgiLCJkZXNjcmliZSIsIlRFU1RfUFJPRFVDVF9JRCIsIlRFU1RfSU1BR0VfSUQiLCJtb2NrU3VwYWJhc2UiLCJtb2NrUmVxdWVzdCIsImNyZWF0ZU1vY2tDaGFpbiIsImZpbmFsUmVzdWx0IiwibW9ja1JldHVyblZhbHVlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInN1cGFiYXNlIiwidXNlciIsImlkIiwibW9ja1Jlc2V0IiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImdldE1vY2tJbXBsZW1lbnRhdGlvbiIsIml0IiwibW9ja0ltYWdlcyIsInVybCIsImFsdF90ZXh0IiwiaXNfcHJpbWFyeSIsImRpc3BsYXlfb3JkZXIiLCJyZXNwb25zZSIsIkdFVCIsInBhcmFtcyIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwic3VjY2VzcyIsInRvSGF2ZUxlbmd0aCIsInJlamVjdHMiLCJ0b1Rocm93IiwibW9ja0ZpbGUiLCJtb2NrRm9ybURhdGEiLCJGaWxlIiwidHlwZSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiZm9ybURhdGEiLCJwYXRoIiwicHVibGljVXJsIiwibW9ja0ltYWdlUmVjb3JkIiwicHJvZHVjdF9pZCIsIlBPU1QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJvYmplY3RDb250YWluaW5nIiwiY2FjaGVDb250cm9sIiwidXBzZXJ0IiwiaW52YWxpZEZpbGUiLCJzZXQiLCJsYXJnZUNvbnRlbnQiLCJBcnJheSIsImZpbGwiLCJqb2luIiwibGFyZ2VGaWxlIiwiZGVsZXRlIiwidXBsb2FkQ2FsbCIsImNhbGxzIiwiZmlsZW5hbWUiLCJ0b0NvbnRhaW4iLCJ2YWxpZFR5cGVzIiwiaW52YWxpZFR5cGVzIiwiZm9yRWFjaCIsImZpbGUiXSwibWFwcGluZ3MiOiJBQUFBLGdEQUFnRDs7QUFhaERBLEtBQUtDLElBQUksQ0FBQyx5QkFBeUIsSUFBTyxDQUFBO1FBQ3hDQyxjQUFjRixLQUFLRyxFQUFFLENBQ25CLElBQ0VDLHNCQUFzQjtnQkFDcEJDLE1BQU1MLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7d0JBQ25CRyxRQUFRTixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dDQUNyQkksSUFBSVAsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTt3Q0FDakJLLFFBQVFSLEtBQUtHLEVBQUU7d0NBQ2ZNLE9BQU9ULEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0RBQ3BCTSxPQUFPVCxLQUFLRyxFQUFFOzRDQUNoQixDQUFBO29DQUNGLENBQUE7NEJBQ0YsQ0FBQTt3QkFDQU8sUUFBUVYsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQ0FDckJHLFFBQVFOLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7d0NBQ3JCSyxRQUFRUixLQUFLRyxFQUFFO29DQUNqQixDQUFBOzRCQUNGLENBQUE7d0JBQ0FRLFFBQVFYLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0NBQ3JCSSxJQUFJUCxLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO3dDQUNqQlMsS0FBS1osS0FBS0csRUFBRTtvQ0FDZCxDQUFBOzRCQUNGLENBQUE7b0JBQ0YsQ0FBQTtnQkFDQVUsU0FBUztvQkFDUFIsTUFBTUwsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTs0QkFDbkJXLFFBQVFDOzRCQUNSQyxjQUFjQzs0QkFD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