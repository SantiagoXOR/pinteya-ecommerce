{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\price-display.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { cn } from '@/lib/utils'\n\nconst priceDisplayVariants = cva('flex flex-col gap-0.5 w-full max-w-full', {\n  variants: {\n    variant: {\n      default: 'text-left',\n      center: 'text-center items-center',\n      compact: 'flex-col gap-0.5',\n    },\n    size: {\n      sm: 'text-sm',\n      md: 'text-base',\n      lg: 'text-lg',\n      xl: 'text-xl',\n    },\n  },\n  defaultVariants: {\n    variant: 'default',\n    size: 'md',\n  },\n})\n\nconst priceVariants = cva('font-bold leading-tight', {\n  variants: {\n    size: {\n      sm: 'text-lg',\n      md: 'text-xl',\n      lg: 'text-2xl',\n      xl: 'text-3xl',\n    },\n  },\n  defaultVariants: {\n    size: 'md',\n  },\n})\n\nconst originalPriceVariants = cva('line-through text-muted-foreground font-medium', {\n  variants: {\n    size: {\n      sm: 'text-xs',\n      md: 'text-sm',\n      lg: 'text-base',\n      xl: 'text-lg',\n    },\n  },\n  defaultVariants: {\n    size: 'md',\n  },\n})\n\nexport interface PriceDisplayProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof priceDisplayVariants> {\n  /** Precio actual en centavos (ej: 1550 = $15.50) */\n  amount: number\n  /** Precio original antes del descuento en centavos */\n  originalAmount?: number\n  /** Código de moneda (default: ARS) */\n  currency?: string\n  /** Símbolo de moneda personalizado */\n  currencySymbol?: string\n  /** Mostrar información de cuotas */\n  installments?: {\n    quantity: number\n    amount: number\n    interestFree?: boolean\n  }\n  /** Mostrar descuento como porcentaje */\n  showDiscountPercentage?: boolean\n  /** Texto personalizado para cuotas */\n  installmentsText?: string\n  /** Mostrar envío gratis */\n  showFreeShipping?: boolean\n  /** Color del precio principal */\n  priceColor?: string\n}\n\n/**\n * Formatea un número como precio en pesos argentinos\n */\nconst formatPrice = (amount: number, currency: string = 'ARS', currencySymbol?: string): string => {\n  const price = amount / 100\n\n  if (currencySymbol) {\n    return `${currencySymbol}${price.toLocaleString('es-AR', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    })}`\n  }\n\n  return price.toLocaleString('es-AR', {\n    style: 'currency',\n    currency: currency,\n    minimumFractionDigits: 2,\n  })\n}\n\n/**\n * Calcula el porcentaje de descuento\n */\nconst calculateDiscountPercentage = (original: number, current: number): number => {\n  return Math.round(((original - current) / original) * 100)\n}\n\nconst PriceDisplay = React.forwardRef<HTMLDivElement, PriceDisplayProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      amount,\n      originalAmount,\n      currency = 'ARS',\n      currencySymbol,\n      installments,\n      showDiscountPercentage = true,\n      installmentsText = 'sin interés',\n      showFreeShipping = false,\n      priceColor,\n      ...props\n    },\n    ref\n  ) => {\n    const hasDiscount = originalAmount && originalAmount > amount\n    const discountPercentage = hasDiscount ? calculateDiscountPercentage(originalAmount, amount) : 0\n\n    return (\n      <div ref={ref} className={cn(priceDisplayVariants({ variant, size, className }))} {...props}>\n        {/* Precio Original (si hay descuento) */}\n        {hasDiscount && (\n          <div className='flex items-center gap-2'>\n            <span className={cn(originalPriceVariants({ size }))}>\n              {formatPrice(originalAmount, currency, currencySymbol)}\n            </span>\n            {showDiscountPercentage && (\n              <span className='bg-red-500 text-white text-xs font-bold px-2 py-1 rounded'>\n                -{discountPercentage}%\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Precio Principal */}\n        <div\n          className={cn(\n            priceVariants({ size }),\n            priceColor ? `text-[${priceColor}]` : 'text-[#712F00]'\n          )}\n        >\n          {formatPrice(amount, currency, currencySymbol)}\n        </div>\n\n        {/* Información de Cuotas */}\n        {installments && (\n          <div className='text-xs text-muted-foreground max-w-full overflow-hidden'>\n            {variant === 'compact' ? (\n              <span className='text-fun-green-500 font-medium truncate block text-xs leading-tight'>\n                {installments.quantity}x de{' '}\n                {formatPrice(installments.amount, currency, currencySymbol)}\n                {installments.interestFree && ` ${installmentsText}`}\n              </span>\n            ) : (\n              <>\n                <span className='text-fun-green-500 font-medium truncate block text-xs leading-tight'>\n                  {installments.quantity}x de{' '}\n                  {formatPrice(installments.amount, currency, currencySymbol)}\n                </span>\n                {installments.interestFree && (\n                  <span className='ml-1 text-green-600 truncate block'>{installmentsText}</span>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* Envío Gratis */}\n        {showFreeShipping && (\n          <div className='flex items-center gap-1 text-sm max-w-full mt-1'>\n            <img src='/images/icons/icon-envio.svg' alt='Envío gratis' className='h-6 w-auto' />\n          </div>\n        )}\n      </div>\n    )\n  }\n)\n\nPriceDisplay.displayName = 'PriceDisplay'\n\nexport { PriceDisplay, priceDisplayVariants }\n"],"names":["PriceDisplay","priceDisplayVariants","cva","variants","variant","default","center","compact","size","sm","md","lg","xl","defaultVariants","priceVariants","originalPriceVariants","formatPrice","amount","currency","currencySymbol","price","toLocaleString","minimumFractionDigits","maximumFractionDigits","style","calculateDiscountPercentage","original","current","Math","round","React","forwardRef","className","originalAmount","installments","showDiscountPercentage","installmentsText","showFreeShipping","priceColor","props","ref","hasDiscount","discountPercentage","div","cn","span","quantity","interestFree","img","src","alt","displayName"],"mappings":"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"}