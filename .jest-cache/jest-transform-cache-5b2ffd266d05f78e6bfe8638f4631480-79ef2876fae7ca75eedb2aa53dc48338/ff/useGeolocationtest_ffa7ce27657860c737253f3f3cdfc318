9306742dfe2ec08811b1fb7cd54ad616
/**
 * Tests para el hook useGeolocation
 * Verifica la funcionalidad de geolocalización automática y detección de zonas
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _useGeolocation = require("../useGeolocation");
// Mock del navigator.geolocation
const mockGeolocation = {
    getCurrentPosition: jest.fn(),
    watchPosition: jest.fn(),
    clearWatch: jest.fn()
};
// Mock del navigator.permissions
const mockPermissions = {
    query: jest.fn()
};
// Setup global mocks
Object.defineProperty(global.navigator, 'geolocation', {
    value: mockGeolocation,
    writable: true
});
Object.defineProperty(global.navigator, 'permissions', {
    value: mockPermissions,
    writable: true
});
// Mock console.log para evitar spam en tests
const originalConsoleLog = console.log;
beforeAll(()=>{
    console.log = jest.fn();
});
afterAll(()=>{
    console.log = originalConsoleLog;
});
describe('useGeolocation Hook', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Estado inicial', ()=>{
        it('debe inicializar con valores por defecto', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            expect(result.current.location).toBeNull();
            expect(result.current.isLoading).toBe(false);
            expect(result.current.error).toBeNull();
            expect(result.current.permissionStatus).toBe('unknown');
            expect(result.current.detectedZone).toBeNull();
        });
        it('debe tener las funciones necesarias', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            expect(typeof result.current.requestLocation).toBe('function');
            expect(typeof result.current.getAvailableZones).toBe('function');
            expect(typeof result.current.selectZone).toBe('function');
            expect(Array.isArray(result.current.deliveryZones)).toBe(true);
        });
    });
    describe('Verificación de permisos', ()=>{
        it('debe verificar permisos al montar el componente', async ()=>{
            const mockPermissionResult = {
                state: 'prompt'
            };
            mockPermissions.query.mockResolvedValue(mockPermissionResult);
            (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            await (0, _react.waitFor)(()=>{
                expect(mockPermissions.query).toHaveBeenCalledWith({
                    name: 'geolocation'
                });
            });
        });
        it('debe solicitar ubicación automáticamente si ya tiene permisos', async ()=>{
            const mockPermissionResult = {
                state: 'granted'
            };
            const mockPosition = {
                coords: {
                    latitude: -31.4201,
                    longitude: -64.1888
                }
            };
            mockPermissions.query.mockResolvedValue(mockPermissionResult);
            mockGeolocation.getCurrentPosition.mockImplementation((success)=>{
                success(mockPosition);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            await (0, _react.waitFor)(()=>{
                expect(result.current.permissionStatus).toBe('granted');
                expect(result.current.location).toEqual({
                    lat: -31.4201,
                    lng: -64.1888
                });
            });
        });
    });
    describe('Solicitud de ubicación', ()=>{
        it('debe manejar ubicación exitosa', async ()=>{
            const mockPosition = {
                coords: {
                    latitude: -31.4201,
                    longitude: -64.1888
                }
            };
            mockGeolocation.getCurrentPosition.mockImplementation((success)=>{
                success(mockPosition);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.location).toEqual({
                    lat: -31.4201,
                    lng: -64.1888
                });
                expect(result.current.isLoading).toBe(false);
                expect(result.current.permissionStatus).toBe('granted');
                expect(result.current.detectedZone?.name).toBe('Córdoba Capital');
            });
        });
        it('debe manejar error de permisos denegados', async ()=>{
            const mockError = {
                code: 1,
                message: 'Permission denied'
            };
            mockGeolocation.getCurrentPosition.mockImplementation((success, error)=>{
                error(mockError);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.error).toBe('Permisos de ubicación denegados');
                expect(result.current.isLoading).toBe(false);
                expect(result.current.permissionStatus).toBe('denied');
            });
        });
        it('debe manejar timeout de geolocalización', async ()=>{
            const mockError = {
                code: 3,
                message: 'Timeout'
            };
            mockGeolocation.getCurrentPosition.mockImplementation((success, error)=>{
                error(mockError);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.error).toBe('Tiempo de espera agotado');
                expect(result.current.isLoading).toBe(false);
            });
        });
    });
    describe('Detección de zonas', ()=>{
        it('debe detectar Córdoba Capital para coordenadas locales', async ()=>{
            const mockPosition = {
                coords: {
                    latitude: -31.4201,
                    longitude: -64.1888
                }
            };
            mockGeolocation.getCurrentPosition.mockImplementation((success)=>{
                success(mockPosition);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.detectedZone?.name).toBe('Córdoba Capital');
                expect(result.current.detectedZone?.available).toBe(true);
            });
        });
        it('debe usar Interior de Córdoba como fallback', async ()=>{
            const mockPosition = {
                coords: {
                    latitude: -32.0000,
                    longitude: -65.0000
                }
            };
            mockGeolocation.getCurrentPosition.mockImplementation((success)=>{
                success(mockPosition);
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.detectedZone?.name).toBe('Interior de Córdoba');
            });
        });
    });
    describe('Selección manual de zona', ()=>{
        it('debe permitir seleccionar zona manualmente', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.selectZone('buenos-aires');
            });
            expect(result.current.detectedZone?.name).toBe('Buenos Aires');
        });
        it('debe ignorar IDs de zona inválidos', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.selectZone('zona-inexistente');
            });
            expect(result.current.detectedZone).toBeNull();
        });
    });
    describe('Zonas disponibles', ()=>{
        it('debe retornar todas las zonas de entrega', ()=>{
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            const zones = result.current.getAvailableZones();
            expect(zones).toHaveLength(4);
            expect(zones.map((z)=>z.name)).toContain('Córdoba Capital');
            expect(zones.map((z)=>z.name)).toContain('Interior de Córdoba');
            expect(zones.map((z)=>z.name)).toContain('Buenos Aires');
            expect(zones.map((z)=>z.name)).toContain('Rosario');
        });
    });
    describe('Navegador sin soporte', ()=>{
        it('debe manejar navegador sin geolocalización', ()=>{
            // Temporalmente remover geolocation
            const originalGeolocation = global.navigator.geolocation;
            Object.defineProperty(global.navigator, 'geolocation', {
                value: undefined,
                writable: true
            });
            const { result } = (0, _react.renderHook)(()=>(0, _useGeolocation.useGeolocation)());
            (0, _react.act)(()=>{
                result.current.requestLocation();
            });
            expect(result.current.error).toBe('Geolocalización no soportada por este navegador');
            expect(result.current.permissionStatus).toBe('denied');
            // Restaurar geolocation
            Object.defineProperty(global.navigator, 'geolocation', {
                value: originalGeolocation,
                writable: true
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlR2VvbG9jYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3RzIHBhcmEgZWwgaG9vayB1c2VHZW9sb2NhdGlvblxuICogVmVyaWZpY2EgbGEgZnVuY2lvbmFsaWRhZCBkZSBnZW9sb2NhbGl6YWNpw7NuIGF1dG9tw6F0aWNhIHkgZGV0ZWNjacOzbiBkZSB6b25hc1xuICovXG5cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlR2VvbG9jYXRpb24gfSBmcm9tICcuLi91c2VHZW9sb2NhdGlvbic7XG5cbi8vIE1vY2sgZGVsIG5hdmlnYXRvci5nZW9sb2NhdGlvblxuY29uc3QgbW9ja0dlb2xvY2F0aW9uID0ge1xuICBnZXRDdXJyZW50UG9zaXRpb246IGplc3QuZm4oKSxcbiAgd2F0Y2hQb3NpdGlvbjogamVzdC5mbigpLFxuICBjbGVhcldhdGNoOiBqZXN0LmZuKCksXG59O1xuXG4vLyBNb2NrIGRlbCBuYXZpZ2F0b3IucGVybWlzc2lvbnNcbmNvbnN0IG1vY2tQZXJtaXNzaW9ucyA9IHtcbiAgcXVlcnk6IGplc3QuZm4oKSxcbn07XG5cbi8vIFNldHVwIGdsb2JhbCBtb2Nrc1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsICdnZW9sb2NhdGlvbicsIHtcbiAgdmFsdWU6IG1vY2tHZW9sb2NhdGlvbixcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsICdwZXJtaXNzaW9ucycsIHtcbiAgdmFsdWU6IG1vY2tQZXJtaXNzaW9ucyxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gTW9jayBjb25zb2xlLmxvZyBwYXJhIGV2aXRhciBzcGFtIGVuIHRlc3RzXG5jb25zdCBvcmlnaW5hbENvbnNvbGVMb2cgPSBjb25zb2xlLmxvZztcbmJlZm9yZUFsbCgoKSA9PiB7XG4gIGNvbnNvbGUubG9nID0gamVzdC5mbigpO1xufSk7XG5cbmFmdGVyQWxsKCgpID0+IHtcbiAgY29uc29sZS5sb2cgPSBvcmlnaW5hbENvbnNvbGVMb2c7XG59KTtcblxuZGVzY3JpYmUoJ3VzZUdlb2xvY2F0aW9uIEhvb2snLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXN0YWRvIGluaWNpYWwnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgaW5pY2lhbGl6YXIgY29uIHZhbG9yZXMgcG9yIGRlZmVjdG8nLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VHZW9sb2NhdGlvbigpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2F0aW9uKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucGVybWlzc2lvblN0YXR1cykudG9CZSgndW5rbm93bicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmRldGVjdGVkWm9uZSkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHRlbmVyIGxhcyBmdW5jaW9uZXMgbmVjZXNhcmlhcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnJlcXVlc3RMb2NhdGlvbikudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuZ2V0QXZhaWxhYmxlWm9uZXMpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LnNlbGVjdFpvbmUpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuY3VycmVudC5kZWxpdmVyeVpvbmVzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ZlcmlmaWNhY2nDs24gZGUgcGVybWlzb3MnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgdmVyaWZpY2FyIHBlcm1pc29zIGFsIG1vbnRhciBlbCBjb21wb25lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Blcm1pc3Npb25SZXN1bHQgPSB7XG4gICAgICAgIHN0YXRlOiAncHJvbXB0JyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tQZXJtaXNzaW9ucy5xdWVyeS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUGVybWlzc2lvblJlc3VsdCk7XG5cbiAgICAgIHJlbmRlckhvb2soKCkgPT4gdXNlR2VvbG9jYXRpb24oKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja1Blcm1pc3Npb25zLnF1ZXJ5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IG5hbWU6ICdnZW9sb2NhdGlvbicgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHNvbGljaXRhciB1YmljYWNpw7NuIGF1dG9tw6F0aWNhbWVudGUgc2kgeWEgdGllbmUgcGVybWlzb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUGVybWlzc2lvblJlc3VsdCA9IHtcbiAgICAgICAgc3RhdGU6ICdncmFudGVkJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1vY2tQb3NpdGlvbiA9IHtcbiAgICAgICAgY29vcmRzOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IC0zMS40MjAxLFxuICAgICAgICAgIGxvbmdpdHVkZTogLTY0LjE4ODgsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrUGVybWlzc2lvbnMucXVlcnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Blcm1pc3Npb25SZXN1bHQpO1xuICAgICAgbW9ja0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5tb2NrSW1wbGVtZW50YXRpb24oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgc3VjY2Vzcyhtb2NrUG9zaXRpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBlcm1pc3Npb25TdGF0dXMpLnRvQmUoJ2dyYW50ZWQnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxvY2F0aW9uKS50b0VxdWFsKHtcbiAgICAgICAgICBsYXQ6IC0zMS40MjAxLFxuICAgICAgICAgIGxuZzogLTY0LjE4ODgsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTb2xpY2l0dWQgZGUgdWJpY2FjacOzbicsICgpID0+IHtcbiAgICBpdCgnZGViZSBtYW5lamFyIHViaWNhY2nDs24gZXhpdG9zYScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tQb3NpdGlvbiA9IHtcbiAgICAgICAgY29vcmRzOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IC0zMS40MjAxLFxuICAgICAgICAgIGxvbmdpdHVkZTogLTY0LjE4ODgsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLm1vY2tJbXBsZW1lbnRhdGlvbigoc3VjY2VzcykgPT4ge1xuICAgICAgICBzdWNjZXNzKG1vY2tQb3NpdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlR2VvbG9jYXRpb24oKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlcXVlc3RMb2NhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubG9jYXRpb24pLnRvRXF1YWwoe1xuICAgICAgICAgIGxhdDogLTMxLjQyMDEsXG4gICAgICAgICAgbG5nOiAtNjQuMTg4OCxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucGVybWlzc2lvblN0YXR1cykudG9CZSgnZ3JhbnRlZCcpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZGV0ZWN0ZWRab25lPy5uYW1lKS50b0JlKCdDw7NyZG9iYSBDYXBpdGFsJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgZXJyb3IgZGUgcGVybWlzb3MgZGVuZWdhZG9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Vycm9yID0ge1xuICAgICAgICBjb2RlOiAxLCAvLyBQRVJNSVNTSU9OX0RFTklFRFxuICAgICAgICBtZXNzYWdlOiAnUGVybWlzc2lvbiBkZW5pZWQnLFxuICAgICAgfTtcblxuICAgICAgbW9ja0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5tb2NrSW1wbGVtZW50YXRpb24oKHN1Y2Nlc3MsIGVycm9yKSA9PiB7XG4gICAgICAgIGVycm9yKG1vY2tFcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlR2VvbG9jYXRpb24oKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlcXVlc3RMb2NhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmUoJ1Blcm1pc29zIGRlIHViaWNhY2nDs24gZGVuZWdhZG9zJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0xvYWRpbmcpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucGVybWlzc2lvblN0YXR1cykudG9CZSgnZGVuaWVkJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIG1hbmVqYXIgdGltZW91dCBkZSBnZW9sb2NhbGl6YWNpw7NuJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0Vycm9yID0ge1xuICAgICAgICBjb2RlOiAzLCAvLyBUSU1FT1VUXG4gICAgICAgIG1lc3NhZ2U6ICdUaW1lb3V0JyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ubW9ja0ltcGxlbWVudGF0aW9uKChzdWNjZXNzLCBlcnJvcikgPT4ge1xuICAgICAgICBlcnJvcihtb2NrRXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZXF1ZXN0TG9jYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm9yKS50b0JlKCdUaWVtcG8gZGUgZXNwZXJhIGFnb3RhZG8nKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTG9hZGluZykudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RldGVjY2nDs24gZGUgem9uYXMnLCAoKSA9PiB7XG4gICAgaXQoJ2RlYmUgZGV0ZWN0YXIgQ8OzcmRvYmEgQ2FwaXRhbCBwYXJhIGNvb3JkZW5hZGFzIGxvY2FsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUG9zaXRpb24gPSB7XG4gICAgICAgIGNvb3Jkczoge1xuICAgICAgICAgIGxhdGl0dWRlOiAtMzEuNDIwMSxcbiAgICAgICAgICBsb25naXR1ZGU6IC02NC4xODg4LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5tb2NrSW1wbGVtZW50YXRpb24oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgc3VjY2Vzcyhtb2NrUG9zaXRpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZXF1ZXN0TG9jYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmRldGVjdGVkWm9uZT8ubmFtZSkudG9CZSgnQ8OzcmRvYmEgQ2FwaXRhbCcpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZGV0ZWN0ZWRab25lPy5hdmFpbGFibGUpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZWJlIHVzYXIgSW50ZXJpb3IgZGUgQ8OzcmRvYmEgY29tbyBmYWxsYmFjaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tQb3NpdGlvbiA9IHtcbiAgICAgICAgY29vcmRzOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IC0zMi4wMDAwLCAvLyBGdWVyYSBkZWwgcmFkaW8gZGUgQ8OzcmRvYmEgQ2FwaXRhbFxuICAgICAgICAgIGxvbmdpdHVkZTogLTY1LjAwMDAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLm1vY2tJbXBsZW1lbnRhdGlvbigoc3VjY2VzcykgPT4ge1xuICAgICAgICBzdWNjZXNzKG1vY2tQb3NpdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlR2VvbG9jYXRpb24oKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LnJlcXVlc3RMb2NhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZGV0ZWN0ZWRab25lPy5uYW1lKS50b0JlKCdJbnRlcmlvciBkZSBDw7NyZG9iYScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWxlY2Npw7NuIG1hbnVhbCBkZSB6b25hJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIHBlcm1pdGlyIHNlbGVjY2lvbmFyIHpvbmEgbWFudWFsbWVudGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VHZW9sb2NhdGlvbigpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2VsZWN0Wm9uZSgnYnVlbm9zLWFpcmVzJyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmRldGVjdGVkWm9uZT8ubmFtZSkudG9CZSgnQnVlbm9zIEFpcmVzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGViZSBpZ25vcmFyIElEcyBkZSB6b25hIGludsOhbGlkb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VHZW9sb2NhdGlvbigpKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuc2VsZWN0Wm9uZSgnem9uYS1pbmV4aXN0ZW50ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5kZXRlY3RlZFpvbmUpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdab25hcyBkaXNwb25pYmxlcycsICgpID0+IHtcbiAgICBpdCgnZGViZSByZXRvcm5hciB0b2RhcyBsYXMgem9uYXMgZGUgZW50cmVnYScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBjb25zdCB6b25lcyA9IHJlc3VsdC5jdXJyZW50LmdldEF2YWlsYWJsZVpvbmVzKCk7XG5cbiAgICAgIGV4cGVjdCh6b25lcykudG9IYXZlTGVuZ3RoKDQpO1xuICAgICAgZXhwZWN0KHpvbmVzLm1hcCh6ID0+IHoubmFtZSkpLnRvQ29udGFpbignQ8OzcmRvYmEgQ2FwaXRhbCcpO1xuICAgICAgZXhwZWN0KHpvbmVzLm1hcCh6ID0+IHoubmFtZSkpLnRvQ29udGFpbignSW50ZXJpb3IgZGUgQ8OzcmRvYmEnKTtcbiAgICAgIGV4cGVjdCh6b25lcy5tYXAoeiA9PiB6Lm5hbWUpKS50b0NvbnRhaW4oJ0J1ZW5vcyBBaXJlcycpO1xuICAgICAgZXhwZWN0KHpvbmVzLm1hcCh6ID0+IHoubmFtZSkpLnRvQ29udGFpbignUm9zYXJpbycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTmF2ZWdhZG9yIHNpbiBzb3BvcnRlJywgKCkgPT4ge1xuICAgIGl0KCdkZWJlIG1hbmVqYXIgbmF2ZWdhZG9yIHNpbiBnZW9sb2NhbGl6YWNpw7NuJywgKCkgPT4ge1xuICAgICAgLy8gVGVtcG9yYWxtZW50ZSByZW1vdmVyIGdlb2xvY2F0aW9uXG4gICAgICBjb25zdCBvcmlnaW5hbEdlb2xvY2F0aW9uID0gZ2xvYmFsLm5hdmlnYXRvci5nZW9sb2NhdGlvbjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwubmF2aWdhdG9yLCAnZ2VvbG9jYXRpb24nLCB7XG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUdlb2xvY2F0aW9uKCkpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5yZXF1ZXN0TG9jYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJyb3IpLnRvQmUoJ0dlb2xvY2FsaXphY2nDs24gbm8gc29wb3J0YWRhIHBvciBlc3RlIG5hdmVnYWRvcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBlcm1pc3Npb25TdGF0dXMpLnRvQmUoJ2RlbmllZCcpO1xuXG4gICAgICAvLyBSZXN0YXVyYXIgZ2VvbG9jYXRpb25cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwubmF2aWdhdG9yLCAnZ2VvbG9jYXRpb24nLCB7XG4gICAgICAgIHZhbHVlOiBvcmlnaW5hbEdlb2xvY2F0aW9uLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vY2tHZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsImplc3QiLCJmbiIsIndhdGNoUG9zaXRpb24iLCJjbGVhcldhdGNoIiwibW9ja1Blcm1pc3Npb25zIiwicXVlcnkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdsb2JhbCIsIm5hdmlnYXRvciIsInZhbHVlIiwid3JpdGFibGUiLCJvcmlnaW5hbENvbnNvbGVMb2ciLCJjb25zb2xlIiwibG9nIiwiYmVmb3JlQWxsIiwiYWZ0ZXJBbGwiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlR2VvbG9jYXRpb24iLCJleHBlY3QiLCJjdXJyZW50IiwibG9jYXRpb24iLCJ0b0JlTnVsbCIsImlzTG9hZGluZyIsInRvQmUiLCJlcnJvciIsInBlcm1pc3Npb25TdGF0dXMiLCJkZXRlY3RlZFpvbmUiLCJyZXF1ZXN0TG9jYXRpb24iLCJnZXRBdmFpbGFibGVab25lcyIsInNlbGVjdFpvbmUiLCJBcnJheSIsImlzQXJyYXkiLCJkZWxpdmVyeVpvbmVzIiwibW9ja1Blcm1pc3Npb25SZXN1bHQiLCJzdGF0ZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibmFtZSIsIm1vY2tQb3NpdGlvbiIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwic3VjY2VzcyIsInRvRXF1YWwiLCJsYXQiLCJsbmciLCJhY3QiLCJtb2NrRXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImF2YWlsYWJsZSIsInpvbmVzIiwidG9IYXZlTGVuZ3RoIiwibWFwIiwieiIsInRvQ29udGFpbiIsIm9yaWdpbmFsR2VvbG9jYXRpb24iLCJnZW9sb2NhdGlvbiIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDOzs7O3VCQUV3QztnQ0FDVjtBQUUvQixpQ0FBaUM7QUFDakMsTUFBTUEsa0JBQWtCO0lBQ3RCQyxvQkFBb0JDLEtBQUtDLEVBQUU7SUFDM0JDLGVBQWVGLEtBQUtDLEVBQUU7SUFDdEJFLFlBQVlILEtBQUtDLEVBQUU7QUFDckI7QUFFQSxpQ0FBaUM7QUFDakMsTUFBTUcsa0JBQWtCO0lBQ3RCQyxPQUFPTCxLQUFLQyxFQUFFO0FBQ2hCO0FBRUEscUJBQXFCO0FBQ3JCSyxPQUFPQyxjQUFjLENBQUNDLE9BQU9DLFNBQVMsRUFBRSxlQUFlO0lBQ3JEQyxPQUFPWjtJQUNQYSxVQUFVO0FBQ1o7QUFFQUwsT0FBT0MsY0FBYyxDQUFDQyxPQUFPQyxTQUFTLEVBQUUsZUFBZTtJQUNyREMsT0FBT047SUFDUE8sVUFBVTtBQUNaO0FBRUEsNkNBQTZDO0FBQzdDLE1BQU1DLHFCQUFxQkMsUUFBUUMsR0FBRztBQUN0Q0MsVUFBVTtJQUNSRixRQUFRQyxHQUFHLEdBQUdkLEtBQUtDLEVBQUU7QUFDdkI7QUFFQWUsU0FBUztJQUNQSCxRQUFRQyxHQUFHLEdBQUdGO0FBQ2hCO0FBRUFLLFNBQVMsdUJBQXVCO0lBQzlCQyxXQUFXO1FBQ1RsQixLQUFLbUIsYUFBYTtJQUNwQjtJQUVBRixTQUFTLGtCQUFrQjtRQUN6QkcsR0FBRyw0Q0FBNEM7WUFDN0MsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsREMsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxRQUFRLEVBQUVDLFFBQVE7WUFDeENILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csU0FBUyxFQUFFQyxJQUFJLENBQUM7WUFDdENMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ssS0FBSyxFQUFFSCxRQUFRO1lBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNNLGdCQUFnQixFQUFFRixJQUFJLENBQUM7WUFDN0NMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sWUFBWSxFQUFFTCxRQUFRO1FBQzlDO1FBRUFQLEdBQUcsdUNBQXVDO1lBQ3hDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFbERDLE9BQU8sT0FBT0gsT0FBT0ksT0FBTyxDQUFDUSxlQUFlLEVBQUVKLElBQUksQ0FBQztZQUNuREwsT0FBTyxPQUFPSCxPQUFPSSxPQUFPLENBQUNTLGlCQUFpQixFQUFFTCxJQUFJLENBQUM7WUFDckRMLE9BQU8sT0FBT0gsT0FBT0ksT0FBTyxDQUFDVSxVQUFVLEVBQUVOLElBQUksQ0FBQztZQUM5Q0wsT0FBT1ksTUFBTUMsT0FBTyxDQUFDaEIsT0FBT0ksT0FBTyxDQUFDYSxhQUFhLEdBQUdULElBQUksQ0FBQztRQUMzRDtJQUNGO0lBRUFaLFNBQVMsNEJBQTRCO1FBQ25DRyxHQUFHLG1EQUFtRDtZQUNwRCxNQUFNbUIsdUJBQXVCO2dCQUMzQkMsT0FBTztZQUNUO1lBRUFwQyxnQkFBZ0JDLEtBQUssQ0FBQ29DLGlCQUFpQixDQUFDRjtZQUV4Q2pCLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFL0IsTUFBTW1CLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9wQixnQkFBZ0JDLEtBQUssRUFBRXNDLG9CQUFvQixDQUFDO29CQUFFQyxNQUFNO2dCQUFjO1lBQzNFO1FBQ0Y7UUFFQXhCLEdBQUcsaUVBQWlFO1lBQ2xFLE1BQU1tQix1QkFBdUI7Z0JBQzNCQyxPQUFPO1lBQ1Q7WUFFQSxNQUFNSyxlQUFlO2dCQUNuQkMsUUFBUTtvQkFDTkMsVUFBVSxDQUFDO29CQUNYQyxXQUFXLENBQUM7Z0JBQ2Q7WUFDRjtZQUVBNUMsZ0JBQWdCQyxLQUFLLENBQUNvQyxpQkFBaUIsQ0FBQ0Y7WUFDeEN6QyxnQkFBZ0JDLGtCQUFrQixDQUFDa0Qsa0JBQWtCLENBQUMsQ0FBQ0M7Z0JBQ3JEQSxRQUFRTDtZQUNWO1lBRUEsTUFBTSxFQUFFeEIsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFbEQsTUFBTW1CLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ00sZ0JBQWdCLEVBQUVGLElBQUksQ0FBQztnQkFDN0NMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsUUFBUSxFQUFFeUIsT0FBTyxDQUFDO29CQUN0Q0MsS0FBSyxDQUFDO29CQUNOQyxLQUFLLENBQUM7Z0JBQ1I7WUFDRjtRQUNGO0lBQ0Y7SUFFQXBDLFNBQVMsMEJBQTBCO1FBQ2pDRyxHQUFHLGtDQUFrQztZQUNuQyxNQUFNeUIsZUFBZTtnQkFDbkJDLFFBQVE7b0JBQ05DLFVBQVUsQ0FBQztvQkFDWEMsV0FBVyxDQUFDO2dCQUNkO1lBQ0Y7WUFFQWxELGdCQUFnQkMsa0JBQWtCLENBQUNrRCxrQkFBa0IsQ0FBQyxDQUFDQztnQkFDckRBLFFBQVFMO1lBQ1Y7WUFFQSxNQUFNLEVBQUV4QixNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsRCtCLElBQUFBLFVBQUcsRUFBQztnQkFDRmpDLE9BQU9JLE9BQU8sQ0FBQ1EsZUFBZTtZQUNoQztZQUVBLE1BQU1TLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsUUFBUSxFQUFFeUIsT0FBTyxDQUFDO29CQUN0Q0MsS0FBSyxDQUFDO29CQUNOQyxLQUFLLENBQUM7Z0JBQ1I7Z0JBQ0E3QixPQUFPSCxPQUFPSSxPQUFPLENBQUNHLFNBQVMsRUFBRUMsSUFBSSxDQUFDO2dCQUN0Q0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTSxnQkFBZ0IsRUFBRUYsSUFBSSxDQUFDO2dCQUM3Q0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxZQUFZLEVBQUVZLE1BQU1mLElBQUksQ0FBQztZQUNqRDtRQUNGO1FBRUFULEdBQUcsNENBQTRDO1lBQzdDLE1BQU1tQyxZQUFZO2dCQUNoQkMsTUFBTTtnQkFDTkMsU0FBUztZQUNYO1lBRUEzRCxnQkFBZ0JDLGtCQUFrQixDQUFDa0Qsa0JBQWtCLENBQUMsQ0FBQ0MsU0FBU3BCO2dCQUM5REEsTUFBTXlCO1lBQ1I7WUFFQSxNQUFNLEVBQUVsQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsRCtCLElBQUFBLFVBQUcsRUFBQztnQkFDRmpDLE9BQU9JLE9BQU8sQ0FBQ1EsZUFBZTtZQUNoQztZQUVBLE1BQU1TLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ssS0FBSyxFQUFFRCxJQUFJLENBQUM7Z0JBQ2xDTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNHLFNBQVMsRUFBRUMsSUFBSSxDQUFDO2dCQUN0Q0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTSxnQkFBZ0IsRUFBRUYsSUFBSSxDQUFDO1lBQy9DO1FBQ0Y7UUFFQVQsR0FBRywyQ0FBMkM7WUFDNUMsTUFBTW1DLFlBQVk7Z0JBQ2hCQyxNQUFNO2dCQUNOQyxTQUFTO1lBQ1g7WUFFQTNELGdCQUFnQkMsa0JBQWtCLENBQUNrRCxrQkFBa0IsQ0FBQyxDQUFDQyxTQUFTcEI7Z0JBQzlEQSxNQUFNeUI7WUFDUjtZQUVBLE1BQU0sRUFBRWxDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBRWxEK0IsSUFBQUEsVUFBRyxFQUFDO2dCQUNGakMsT0FBT0ksT0FBTyxDQUFDUSxlQUFlO1lBQ2hDO1lBRUEsTUFBTVMsSUFBQUEsY0FBTyxFQUFDO2dCQUNabEIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDSyxLQUFLLEVBQUVELElBQUksQ0FBQztnQkFDbENMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csU0FBUyxFQUFFQyxJQUFJLENBQUM7WUFDeEM7UUFDRjtJQUNGO0lBRUFaLFNBQVMsc0JBQXNCO1FBQzdCRyxHQUFHLDBEQUEwRDtZQUMzRCxNQUFNeUIsZUFBZTtnQkFDbkJDLFFBQVE7b0JBQ05DLFVBQVUsQ0FBQztvQkFDWEMsV0FBVyxDQUFDO2dCQUNkO1lBQ0Y7WUFFQWxELGdCQUFnQkMsa0JBQWtCLENBQUNrRCxrQkFBa0IsQ0FBQyxDQUFDQztnQkFDckRBLFFBQVFMO1lBQ1Y7WUFFQSxNQUFNLEVBQUV4QixNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsRCtCLElBQUFBLFVBQUcsRUFBQztnQkFDRmpDLE9BQU9JLE9BQU8sQ0FBQ1EsZUFBZTtZQUNoQztZQUVBLE1BQU1TLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sWUFBWSxFQUFFWSxNQUFNZixJQUFJLENBQUM7Z0JBQy9DTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNPLFlBQVksRUFBRTBCLFdBQVc3QixJQUFJLENBQUM7WUFDdEQ7UUFDRjtRQUVBVCxHQUFHLCtDQUErQztZQUNoRCxNQUFNeUIsZUFBZTtnQkFDbkJDLFFBQVE7b0JBQ05DLFVBQVUsQ0FBQztvQkFDWEMsV0FBVyxDQUFDO2dCQUNkO1lBQ0Y7WUFFQWxELGdCQUFnQkMsa0JBQWtCLENBQUNrRCxrQkFBa0IsQ0FBQyxDQUFDQztnQkFDckRBLFFBQVFMO1lBQ1Y7WUFFQSxNQUFNLEVBQUV4QixNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsRCtCLElBQUFBLFVBQUcsRUFBQztnQkFDRmpDLE9BQU9JLE9BQU8sQ0FBQ1EsZUFBZTtZQUNoQztZQUVBLE1BQU1TLElBQUFBLGNBQU8sRUFBQztnQkFDWmxCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sWUFBWSxFQUFFWSxNQUFNZixJQUFJLENBQUM7WUFDakQ7UUFDRjtJQUNGO0lBRUFaLFNBQVMsNEJBQTRCO1FBQ25DRyxHQUFHLDhDQUE4QztZQUMvQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBRWxEK0IsSUFBQUEsVUFBRyxFQUFDO2dCQUNGakMsT0FBT0ksT0FBTyxDQUFDVSxVQUFVLENBQUM7WUFDNUI7WUFFQVgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxZQUFZLEVBQUVZLE1BQU1mLElBQUksQ0FBQztRQUNqRDtRQUVBVCxHQUFHLHNDQUFzQztZQUN2QyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBRWxEK0IsSUFBQUEsVUFBRyxFQUFDO2dCQUNGakMsT0FBT0ksT0FBTyxDQUFDVSxVQUFVLENBQUM7WUFDNUI7WUFFQVgsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxZQUFZLEVBQUVMLFFBQVE7UUFDOUM7SUFDRjtJQUVBVixTQUFTLHFCQUFxQjtRQUM1QkcsR0FBRyw0Q0FBNEM7WUFDN0MsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUVsRCxNQUFNb0MsUUFBUXRDLE9BQU9JLE9BQU8sQ0FBQ1MsaUJBQWlCO1lBRTlDVixPQUFPbUMsT0FBT0MsWUFBWSxDQUFDO1lBQzNCcEMsT0FBT21DLE1BQU1FLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWxCLElBQUksR0FBR21CLFNBQVMsQ0FBQztZQUN6Q3ZDLE9BQU9tQyxNQUFNRSxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVsQixJQUFJLEdBQUdtQixTQUFTLENBQUM7WUFDekN2QyxPQUFPbUMsTUFBTUUsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFbEIsSUFBSSxHQUFHbUIsU0FBUyxDQUFDO1lBQ3pDdkMsT0FBT21DLE1BQU1FLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWxCLElBQUksR0FBR21CLFNBQVMsQ0FBQztRQUMzQztJQUNGO0lBRUE5QyxTQUFTLHlCQUF5QjtRQUNoQ0csR0FBRyw4Q0FBOEM7WUFDL0Msb0NBQW9DO1lBQ3BDLE1BQU00QyxzQkFBc0J4RCxPQUFPQyxTQUFTLENBQUN3RCxXQUFXO1lBQ3hEM0QsT0FBT0MsY0FBYyxDQUFDQyxPQUFPQyxTQUFTLEVBQUUsZUFBZTtnQkFDckRDLE9BQU93RDtnQkFDUHZELFVBQVU7WUFDWjtZQUVBLE1BQU0sRUFBRVUsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFbEQrQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0ZqQyxPQUFPSSxPQUFPLENBQUNRLGVBQWU7WUFDaEM7WUFFQVQsT0FBT0gsT0FBT0ksT0FBTyxDQUFDSyxLQUFLLEVBQUVELElBQUksQ0FBQztZQUNsQ0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTSxnQkFBZ0IsRUFBRUYsSUFBSSxDQUFDO1lBRTdDLHdCQUF3QjtZQUN4QnZCLE9BQU9DLGNBQWMsQ0FBQ0MsT0FBT0MsU0FBUyxFQUFFLGVBQWU7Z0JBQ3JEQyxPQUFPc0Q7Z0JBQ1ByRCxVQUFVO1lBQ1o7UUFDRjtJQUNGO0FBQ0YifQ==