{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\ui\\price-display.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst priceDisplayVariants = cva(\r\n  \"flex flex-col gap-0.5 w-full max-w-full\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"text-left\",\r\n        center: \"text-center items-center\",\r\n        compact: \"flex-col gap-0.5\",\r\n      },\r\n      size: {\r\n        sm: \"text-sm\",\r\n        md: \"text-base\",\r\n        lg: \"text-lg\",\r\n        xl: \"text-xl\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"md\",\r\n    },\r\n  }\r\n)\r\n\r\nconst priceVariants = cva(\r\n  \"font-bold leading-tight\",\r\n  {\r\n    variants: {\r\n      size: {\r\n        sm: \"text-lg\",\r\n        md: \"text-xl\",\r\n        lg: \"text-2xl\",\r\n        xl: \"text-3xl\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      size: \"md\",\r\n    },\r\n  }\r\n)\r\n\r\nconst originalPriceVariants = cva(\r\n  \"line-through text-muted-foreground font-medium\",\r\n  {\r\n    variants: {\r\n      size: {\r\n        sm: \"text-xs\",\r\n        md: \"text-sm\",\r\n        lg: \"text-base\",\r\n        xl: \"text-lg\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      size: \"md\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface PriceDisplayProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof priceDisplayVariants> {\r\n  /** Precio actual en centavos (ej: 1550 = $15.50) */\r\n  amount: number\r\n  /** Precio original antes del descuento en centavos */\r\n  originalAmount?: number\r\n  /** Código de moneda (default: ARS) */\r\n  currency?: string\r\n  /** Símbolo de moneda personalizado */\r\n  currencySymbol?: string\r\n  /** Mostrar información de cuotas */\r\n  installments?: {\r\n    quantity: number\r\n    amount: number\r\n    interestFree?: boolean\r\n  }\r\n  /** Mostrar descuento como porcentaje */\r\n  showDiscountPercentage?: boolean\r\n  /** Texto personalizado para cuotas */\r\n  installmentsText?: string\r\n  /** Mostrar envío gratis */\r\n  showFreeShipping?: boolean\r\n  /** Color del precio principal */\r\n  priceColor?: string\r\n}\r\n\r\n/**\r\n * Formatea un número como precio en pesos argentinos\r\n */\r\nconst formatPrice = (\r\n  amount: number, \r\n  currency: string = \"ARS\", \r\n  currencySymbol?: string\r\n): string => {\r\n  const price = amount / 100\r\n  \r\n  if (currencySymbol) {\r\n    return `${currencySymbol}${price.toLocaleString('es-AR', { \r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2 \r\n    })}`\r\n  }\r\n  \r\n  return price.toLocaleString('es-AR', {\r\n    style: 'currency',\r\n    currency: currency,\r\n    minimumFractionDigits: 2,\r\n  })\r\n}\r\n\r\n/**\r\n * Calcula el porcentaje de descuento\r\n */\r\nconst calculateDiscountPercentage = (original: number, current: number): number => {\r\n  return Math.round(((original - current) / original) * 100)\r\n}\r\n\r\nconst PriceDisplay = React.forwardRef<HTMLDivElement, PriceDisplayProps>(\r\n  ({ \r\n    className, \r\n    variant, \r\n    size, \r\n    amount,\r\n    originalAmount,\r\n    currency = \"ARS\",\r\n    currencySymbol,\r\n    installments,\r\n    showDiscountPercentage = true,\r\n    installmentsText = \"sin interés\",\r\n    showFreeShipping = false,\r\n    priceColor,\r\n    ...props \r\n  }, ref) => {\r\n    const hasDiscount = originalAmount && originalAmount > amount\r\n    const discountPercentage = hasDiscount ? calculateDiscountPercentage(originalAmount, amount) : 0\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={cn(priceDisplayVariants({ variant, size, className }))}\r\n        {...props}\r\n      >\r\n        {/* Precio Original (si hay descuento) */}\r\n        {hasDiscount && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className={cn(originalPriceVariants({ size }))}>\r\n              {formatPrice(originalAmount, currency, currencySymbol)}\r\n            </span>\r\n            {showDiscountPercentage && (\r\n              <span className=\"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded\">\r\n                -{discountPercentage}%\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Precio Principal */}\r\n        <div className={cn(\r\n          priceVariants({ size }),\r\n          priceColor ? `text-[${priceColor}]` : \"text-[#712F00]\"\r\n        )}>\r\n          {formatPrice(amount, currency, currencySymbol)}\r\n        </div>\r\n\r\n        {/* Información de Cuotas */}\r\n        {installments && (\r\n          <div className=\"text-xs text-muted-foreground max-w-full overflow-hidden\">\r\n            {variant === \"compact\" ? (\r\n              <span className=\"text-fun-green-500 font-medium truncate block text-xs leading-tight\">\r\n                {installments.quantity}x de {formatPrice(installments.amount, currency, currencySymbol)}\r\n                {installments.interestFree && ` ${installmentsText}`}\r\n              </span>\r\n            ) : (\r\n              <>\r\n                <span className=\"text-fun-green-500 font-medium truncate block text-xs leading-tight\">\r\n                  {installments.quantity}x de {formatPrice(installments.amount, currency, currencySymbol)}\r\n                </span>\r\n                {installments.interestFree && (\r\n                  <span className=\"ml-1 text-green-600 truncate block\">\r\n                    {installmentsText}\r\n                  </span>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Envío Gratis */}\r\n        {showFreeShipping && (\r\n          <div className=\"flex items-center gap-1 text-sm max-w-full mt-1\">\r\n            <img\r\n              src=\"/images/icons/icon-envio.svg\"\r\n              alt=\"Envío gratis\"\r\n              className=\"h-6 w-auto\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nPriceDisplay.displayName = \"PriceDisplay\"\r\n\r\nexport { PriceDisplay, priceDisplayVariants }\r\n"],"names":["PriceDisplay","priceDisplayVariants","cva","variants","variant","default","center","compact","size","sm","md","lg","xl","defaultVariants","priceVariants","originalPriceVariants","formatPrice","amount","currency","currencySymbol","price","toLocaleString","minimumFractionDigits","maximumFractionDigits","style","calculateDiscountPercentage","original","current","Math","round","React","forwardRef","className","originalAmount","installments","showDiscountPercentage","installmentsText","showFreeShipping","priceColor","props","ref","hasDiscount","discountPercentage","div","cn","span","quantity","interestFree","img","src","alt","displayName"],"mappings":"AAAA;;;;;;;;;;;;IAgNSA,YAAY;eAAZA;;IAAcC,oBAAoB;eAApBA;;;;+DA9MA;wCACgB;uBACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEnB,MAAMA,uBAAuBC,IAAAA,2BAAG,EAC9B,2CACA;IACEC,UAAU;QACRC,SAAS;YACPC,SAAS;YACTC,QAAQ;YACRC,SAAS;QACX;QACAC,MAAM;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;QACN;IACF;IACAC,iBAAiB;QACfT,SAAS;QACTI,MAAM;IACR;AACF;AAGF,MAAMM,gBAAgBZ,IAAAA,2BAAG,EACvB,2BACA;IACEC,UAAU;QACRK,MAAM;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;QACN;IACF;IACAC,iBAAiB;QACfL,MAAM;IACR;AACF;AAGF,MAAMO,wBAAwBb,IAAAA,2BAAG,EAC/B,kDACA;IACEC,UAAU;QACRK,MAAM;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;YACJC,IAAI;QACN;IACF;IACAC,iBAAiB;QACfL,MAAM;IACR;AACF;AA8BF;;CAEC,GACD,MAAMQ,cAAc,CAClBC,QACAC,WAAmB,KAAK,EACxBC;IAEA,MAAMC,QAAQH,SAAS;IAEvB,IAAIE,gBAAgB;QAClB,OAAO,GAAGA,iBAAiBC,MAAMC,cAAc,CAAC,SAAS;YACvDC,uBAAuB;YACvBC,uBAAuB;QACzB,IAAI;IACN;IAEA,OAAOH,MAAMC,cAAc,CAAC,SAAS;QACnCG,OAAO;QACPN,UAAUA;QACVI,uBAAuB;IACzB;AACF;AAEA;;CAEC,GACD,MAAMG,8BAA8B,CAACC,UAAkBC;IACrD,OAAOC,KAAKC,KAAK,CAAC,AAAEH,CAAAA,WAAWC,OAAM,IAAKD,WAAY;AACxD;AAEA,MAAM1B,6BAAe8B,OAAMC,UAAU,CACnC,CAAC,EACCC,SAAS,EACT5B,OAAO,EACPI,IAAI,EACJS,MAAM,EACNgB,cAAc,EACdf,WAAW,KAAK,EAChBC,cAAc,EACde,YAAY,EACZC,yBAAyB,IAAI,EAC7BC,mBAAmB,aAAa,EAChCC,mBAAmB,KAAK,EACxBC,UAAU,EACV,GAAGC,OACJ,EAAEC;IACD,MAAMC,cAAcR,kBAAkBA,iBAAiBhB;IACvD,MAAMyB,qBAAqBD,cAAchB,4BAA4BQ,gBAAgBhB,UAAU;IAE/F,qBACE,sBAAC0B;QACCH,KAAKA;QACLR,WAAWY,IAAAA,SAAE,EAAC3C,qBAAqB;YAAEG;YAASI;YAAMwB;QAAU;QAC7D,GAAGO,KAAK;;YAGRE,6BACC,sBAACE;gBAAIX,WAAU;;kCACb,qBAACa;wBAAKb,WAAWY,IAAAA,SAAE,EAAC7B,sBAAsB;4BAAEP;wBAAK;kCAC9CQ,YAAYiB,gBAAgBf,UAAUC;;oBAExCgB,wCACC,sBAACU;wBAAKb,WAAU;;4BAA4D;4BACxEU;4BAAmB;;;;;0BAO7B,qBAACC;gBAAIX,WAAWY,IAAAA,SAAE,EAChB9B,cAAc;oBAAEN;gBAAK,IACrB8B,aAAa,CAAC,MAAM,EAAEA,WAAW,CAAC,CAAC,GAAG;0BAErCtB,YAAYC,QAAQC,UAAUC;;YAIhCe,8BACC,qBAACS;gBAAIX,WAAU;0BACZ5B,YAAY,0BACX,sBAACyC;oBAAKb,WAAU;;wBACbE,aAAaY,QAAQ;wBAAC;wBAAM9B,YAAYkB,aAAajB,MAAM,EAAEC,UAAUC;wBACvEe,aAAaa,YAAY,IAAI,CAAC,CAAC,EAAEX,kBAAkB;;mCAGtD;;sCACE,sBAACS;4BAAKb,WAAU;;gCACbE,aAAaY,QAAQ;gCAAC;gCAAM9B,YAAYkB,aAAajB,MAAM,EAAEC,UAAUC;;;wBAEzEe,aAAaa,YAAY,kBACxB,qBAACF;4BAAKb,WAAU;sCACbI;;;;;YASZC,kCACC,qBAACM;gBAAIX,WAAU;0BACb,cAAA,qBAACgB;oBACCC,KAAI;oBACJC,KAAI;oBACJlB,WAAU;;;;;AAMtB;AAGFhC,aAAamD,WAAW,GAAG"}