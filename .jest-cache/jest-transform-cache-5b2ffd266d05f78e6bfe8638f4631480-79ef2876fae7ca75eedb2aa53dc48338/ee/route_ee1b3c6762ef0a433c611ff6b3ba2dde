7652ac491aea3270b521c4a648727db6
"use strict";

/* istanbul ignore next */
function cov_v4hp14clq() {
  var path = "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\products\\[id]\\route.ts";
  var hash = "3a2d0f341b32dd37280640f13325ed083c8e8048";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\products\\[id]\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "8": {
        start: {
          line: 23,
          column: 19
        },
        end: {
          line: 23,
          column: 64
        }
      },
      "9": {
        start: {
          line: 24,
          column: 13
        },
        end: {
          line: 24,
          column: 27
        }
      },
      "10": {
        start: {
          line: 25,
          column: 22
        },
        end: {
          line: 25,
          column: 69
        }
      },
      "11": {
        start: {
          line: 26,
          column: 19
        },
        end: {
          line: 26,
          column: 63
        }
      },
      "12": {
        start: {
          line: 27,
          column: 27
        },
        end: {
          line: 27,
          column: 81
        }
      },
      "13": {
        start: {
          line: 28,
          column: 22
        },
        end: {
          line: 28,
          column: 76
        }
      },
      "14": {
        start: {
          line: 29,
          column: 28
        },
        end: {
          line: 29,
          column: 81
        }
      },
      "15": {
        start: {
          line: 31,
          column: 28
        },
        end: {
          line: 53,
          column: 2
        }
      },
      "16": {
        start: {
          line: 54,
          column: 28
        },
        end: {
          line: 56,
          column: 2
        }
      },
      "17": {
        start: {
          line: 59,
          column: 37
        },
        end: {
          line: 81,
          column: 35
        }
      },
      "18": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "19": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 58
        }
      },
      "20": {
        start: {
          line: 86,
          column: 31
        },
        end: {
          line: 90,
          column: 5
        }
      },
      "21": {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 91,
          column: 30
        }
      },
      "22": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 95,
          column: 107
        }
      },
      "23": {
        start: {
          line: 100,
          column: 23
        },
        end: {
          line: 116,
          column: 1
        }
      },
      "24": {
        start: {
          line: 101,
          column: 25
        },
        end: {
          line: 101,
          column: 32
        }
      },
      "25": {
        start: {
          line: 102,
          column: 22
        },
        end: {
          line: 102,
          column: 31
        }
      },
      "26": {
        start: {
          line: 104,
          column: 29
        },
        end: {
          line: 106,
          column: 6
        }
      },
      "27": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 109,
          column: 5
        }
      },
      "28": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 108,
          column: 106
        }
      },
      "29": {
        start: {
          line: 110,
          column: 20
        },
        end: {
          line: 110,
          column: 61
        }
      },
      "30": {
        start: {
          line: 111,
          column: 4
        },
        end: {
          line: 115,
          column: 7
        }
      },
      "31": {
        start: {
          line: 120,
          column: 23
        },
        end: {
          line: 187,
          column: 1
        }
      },
      "32": {
        start: {
          line: 121,
          column: 46
        },
        end: {
          line: 121,
          column: 53
        }
      },
      "33": {
        start: {
          line: 122,
          column: 22
        },
        end: {
          line: 122,
          column: 31
        }
      },
      "34": {
        start: {
          line: 124,
          column: 29
        },
        end: {
          line: 126,
          column: 6
        }
      },
      "35": {
        start: {
          line: 127,
          column: 4
        },
        end: {
          line: 129,
          column: 5
        }
      },
      "36": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 128,
          column: 106
        }
      },
      "37": {
        start: {
          line: 131,
          column: 28
        },
        end: {
          line: 131,
          column: 69
        }
      },
      "38": {
        start: {
          line: 133,
          column: 4
        },
        end: {
          line: 138,
          column: 5
        }
      },
      "39": {
        start: {
          line: 134,
          column: 57
        },
        end: {
          line: 134,
          column: 148
        }
      },
      "40": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 137,
          column: 9
        }
      },
      "41": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 136,
          column: 79
        }
      },
      "42": {
        start: {
          line: 140,
          column: 23
        },
        end: {
          line: 143,
          column: 5
        }
      },
      "43": {
        start: {
          line: 144,
          column: 4
        },
        end: {
          line: 146,
          column: 5
        }
      },
      "44": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 59
        }
      },
      "45": {
        start: {
          line: 148,
          column: 44
        },
        end: {
          line: 170,
          column: 15
        }
      },
      "46": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 173,
          column: 5
        }
      },
      "47": {
        start: {
          line: 172,
          column: 8
        },
        end: {
          line: 172,
          column: 103
        }
      },
      "48": {
        start: {
          line: 175,
          column: 4
        },
        end: {
          line: 175,
          column: 115
        }
      },
      "49": {
        start: {
          line: 177,
          column: 31
        },
        end: {
          line: 181,
          column: 5
        }
      },
      "50": {
        start: {
          line: 182,
          column: 4
        },
        end: {
          line: 186,
          column: 7
        }
      },
      "51": {
        start: {
          line: 191,
          column: 26
        },
        end: {
          line: 243,
          column: 1
        }
      },
      "52": {
        start: {
          line: 192,
          column: 31
        },
        end: {
          line: 192,
          column: 38
        }
      },
      "53": {
        start: {
          line: 193,
          column: 22
        },
        end: {
          line: 193,
          column: 31
        }
      },
      "54": {
        start: {
          line: 195,
          column: 29
        },
        end: {
          line: 197,
          column: 6
        }
      },
      "55": {
        start: {
          line: 198,
          column: 4
        },
        end: {
          line: 200,
          column: 5
        }
      },
      "56": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 199,
          column: 106
        }
      },
      "57": {
        start: {
          line: 202,
          column: 28
        },
        end: {
          line: 202,
          column: 69
        }
      },
      "58": {
        start: {
          line: 204,
          column: 57
        },
        end: {
          line: 204,
          column: 141
        }
      },
      "59": {
        start: {
          line: 205,
          column: 4
        },
        end: {
          line: 208,
          column: 5
        }
      },
      "60": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 206,
          column: 74
        }
      },
      "61": {
        start: {
          line: 210,
          column: 23
        },
        end: {
          line: 210,
          column: 28
        }
      },
      "62": {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 236,
          column: 5
        }
      },
      "63": {
        start: {
          line: 213,
          column: 39
        },
        end: {
          line: 217,
          column: 30
        }
      },
      "64": {
        start: {
          line: 218,
          column: 8
        },
        end: {
          line: 220,
          column: 9
        }
      },
      "65": {
        start: {
          line: 219,
          column: 12
        },
        end: {
          line: 219,
          column: 111
        }
      },
      "66": {
        start: {
          line: 221,
          column: 8
        },
        end: {
          line: 224,
          column: 10
        }
      },
      "67": {
        start: {
          line: 227,
          column: 26
        },
        end: {
          line: 227,
          column: 86
        }
      },
      "68": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 230,
          column: 9
        }
      },
      "69": {
        start: {
          line: 229,
          column: 12
        },
        end: {
          line: 229,
          column: 105
        }
      },
      "70": {
        start: {
          line: 231,
          column: 8
        },
        end: {
          line: 231,
          column: 28
        }
      },
      "71": {
        start: {
          line: 232,
          column: 8
        },
        end: {
          line: 235,
          column: 10
        }
      },
      "72": {
        start: {
          line: 238,
          column: 4
        },
        end: {
          line: 238,
          column: 136
        }
      },
      "73": {
        start: {
          line: 239,
          column: 4
        },
        end: {
          line: 242,
          column: 7
        }
      },
      "74": {
        start: {
          line: 244,
          column: 12
        },
        end: {
          line: 246,
          column: 15
        }
      },
      "75": {
        start: {
          line: 247,
          column: 12
        },
        end: {
          line: 249,
          column: 71
        }
      },
      "76": {
        start: {
          line: 250,
          column: 15
        },
        end: {
          line: 252,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 12
          },
          end: {
            line: 12,
            column: 13
          }
        },
        loc: {
          start: {
            line: 12,
            column: 23
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 10
          }
        },
        loc: {
          start: {
            line: 18,
            column: 20
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "getProductById",
        decl: {
          start: {
            line: 58,
            column: 15
          },
          end: {
            line: 58,
            column: 29
          }
        },
        loc: {
          start: {
            line: 58,
            column: 51
          },
          end: {
            line: 92,
            column: 1
          }
        },
        line: 58
      },
      "5": {
        name: "generateSlug",
        decl: {
          start: {
            line: 94,
            column: 9
          },
          end: {
            line: 94,
            column: 21
          }
        },
        loc: {
          start: {
            line: 94,
            column: 28
          },
          end: {
            line: 96,
            column: 1
          }
        },
        line: 94
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 100,
            column: 23
          },
          end: {
            line: 100,
            column: 24
          }
        },
        loc: {
          start: {
            line: 100,
            column: 52
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 100
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 120,
            column: 23
          },
          end: {
            line: 120,
            column: 24
          }
        },
        loc: {
          start: {
            line: 120,
            column: 52
          },
          end: {
            line: 187,
            column: 1
          }
        },
        line: 120
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 191,
            column: 26
          },
          end: {
            line: 191,
            column: 27
          }
        },
        loc: {
          start: {
            line: 191,
            column: 55
          },
          end: {
            line: 243,
            column: 1
          }
        },
        line: 191
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 82,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 82
      },
      "1": {
        loc: {
          start: {
            line: 88,
            column: 23
          },
          end: {
            line: 88,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 88,
            column: 23
          },
          end: {
            line: 88,
            column: 47
          }
        }, {
          start: {
            line: 88,
            column: 51
          },
          end: {
            line: 88,
            column: 55
          }
        }],
        line: 88
      },
      "2": {
        loc: {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 109,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 109,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "3": {
        loc: {
          start: {
            line: 127,
            column: 4
          },
          end: {
            line: 129,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 127,
            column: 4
          },
          end: {
            line: 129,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 127
      },
      "4": {
        loc: {
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 138,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 133,
            column: 4
          },
          end: {
            line: 138,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 133
      },
      "5": {
        loc: {
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "6": {
        loc: {
          start: {
            line: 135,
            column: 12
          },
          end: {
            line: 135,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 135,
            column: 12
          },
          end: {
            line: 135,
            column: 25
          }
        }, {
          start: {
            line: 135,
            column: 29
          },
          end: {
            line: 135,
            column: 38
          }
        }],
        line: 135
      },
      "7": {
        loc: {
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 146,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 146,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 144
      },
      "8": {
        loc: {
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 173,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 173,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 171
      },
      "9": {
        loc: {
          start: {
            line: 179,
            column: 23
          },
          end: {
            line: 179,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 179,
            column: 23
          },
          end: {
            line: 179,
            column: 54
          }
        }, {
          start: {
            line: 179,
            column: 58
          },
          end: {
            line: 179,
            column: 62
          }
        }],
        line: 179
      },
      "10": {
        loc: {
          start: {
            line: 198,
            column: 4
          },
          end: {
            line: 200,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 198,
            column: 4
          },
          end: {
            line: 200,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 198
      },
      "11": {
        loc: {
          start: {
            line: 205,
            column: 4
          },
          end: {
            line: 208,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 205,
            column: 4
          },
          end: {
            line: 208,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 205
      },
      "12": {
        loc: {
          start: {
            line: 211,
            column: 4
          },
          end: {
            line: 236,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 211,
            column: 4
          },
          end: {
            line: 236,
            column: 5
          }
        }, {
          start: {
            line: 225,
            column: 11
          },
          end: {
            line: 236,
            column: 5
          }
        }],
        line: 211
      },
      "13": {
        loc: {
          start: {
            line: 211,
            column: 8
          },
          end: {
            line: 211,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 211,
            column: 8
          },
          end: {
            line: 211,
            column: 18
          }
        }, {
          start: {
            line: 211,
            column: 22
          },
          end: {
            line: 211,
            column: 43
          }
        }],
        line: 211
      },
      "14": {
        loc: {
          start: {
            line: 218,
            column: 8
          },
          end: {
            line: 220,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 218,
            column: 8
          },
          end: {
            line: 220,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 218
      },
      "15": {
        loc: {
          start: {
            line: 228,
            column: 8
          },
          end: {
            line: 230,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 228,
            column: 8
          },
          end: {
            line: 230,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 228
      },
      "16": {
        loc: {
          start: {
            line: 238,
            column: 50
          },
          end: {
            line: 238,
            column: 89
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 238,
            column: 65
          },
          end: {
            line: 238,
            column: 73
          }
        }, {
          start: {
            line: 238,
            column: 76
          },
          end: {
            line: 238,
            column: 89
          }
        }],
        line: 238
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\app\\api\\admin\\products\\[id]\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { checkCRUDPermissions, logAdminAction, getRequestInfo } from '@/lib/auth/admin-auth';\nimport { z } from 'zod';\n\n// Enterprise middleware imports\nimport { withErrorHandler } from '@/lib/api/error-handler';\nimport { withApiLogging } from '@/lib/api/api-logger';\nimport { withAdminAuth } from '@/lib/auth/api-auth-middleware';\nimport { withValidation } from '@/lib/validation/admin-schemas';\nimport { composeMiddlewares } from '@/lib/api/middleware-composer';\n\n// Validation schemas\nconst UpdateProductSchema = z.object({\n  name: z.string().min(1, 'El nombre es requerido').max(255, 'M\xE1ximo 255 caracteres').optional(),\n  description: z.string().optional(),\n  short_description: z.string().max(500, 'M\xE1ximo 500 caracteres').optional(),\n  price: z.number().min(0, 'El precio debe ser mayor a 0').optional(),\n  discounted_price: z.number().min(0).optional(),\n  stock: z.number().min(0, 'El stock debe ser mayor o igual a 0').optional(),\n  low_stock_threshold: z.number().min(0).optional(),\n  category_id: z.string().uuid('ID de categor\xEDa inv\xE1lido').optional(),\n  brand: z.string().optional(),\n  images: z.array(z.object({\n    url: z.string().url(),\n    alt_text: z.string().optional(),\n    is_primary: z.boolean().default(false)\n  })).optional(),\n  is_active: z.boolean().optional(),\n  is_featured: z.boolean().optional(),\n  status: z.enum(['active', 'inactive', 'draft']).optional(),\n});\n\nconst ProductParamsSchema = z.object({\n  id: z.string().uuid('ID de producto inv\xE1lido')\n});\n\n// Enterprise imports for error handling\nimport { ApiError, NotFoundError, ValidationError } from '@/lib/api/error-handler';\n\n// Helper function to get product by ID with enhanced error handling\nasync function getProductById(supabase: any, productId: string) {\n  const { data: product, error } = await supabase\n    .from('products')\n    .select(`\n      id,\n      name,\n      slug,\n      description,\n      short_description,\n      price,\n      discounted_price,\n      stock,\n      low_stock_threshold,\n      category_id,\n      brand,\n      images,\n      is_active,\n      is_featured,\n      status,\n      created_at,\n      updated_at,\n      categories (\n        id,\n        name\n      )\n    `)\n    .eq('id', productId)\n    .single();\n\n  if (error) {\n    throw new NotFoundError('Producto');\n  }\n\n  // Transform response with enhanced data\n  const transformedProduct = {\n    ...product,\n    category_name: product.categories?.name || null,\n    categories: undefined,\n  };\n\n  return transformedProduct;\n}\n\n// Helper function to generate unique slug\nfunction generateSlug(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s-]/g, '')\n    .replace(/\\s+/g, '-')\n    .replace(/-+/g, '-')\n    .trim();\n}\n\n/**\n * GET /api/admin/products/[id] - Enterprise Handler\n * Obtener producto espec\xEDfico por ID con middleware enterprise\n */\nconst getHandler = async (request: NextRequest, { params }: { params: { id: string } }) => {\n  const { supabase } = request as any;\n  const productId = params.id;\n\n  // Validar par\xE1metros\n  const paramsValidation = ProductParamsSchema.safeParse({ id: productId });\n  if (!paramsValidation.success) {\n    throw new ValidationError('ID de producto inv\xE1lido', paramsValidation.error.errors);\n  }\n\n  const product = await getProductById(supabase, productId);\n\n  return NextResponse.json({\n    data: product,\n    success: true,\n    message: 'Producto obtenido exitosamente'\n  });\n};\n\n/**\n * PUT /api/admin/products/[id] - Enterprise Handler\n * Actualizar producto espec\xEDfico con middleware enterprise\n */\nconst putHandler = async (request: NextRequest, { params }: { params: { id: string } }) => {\n  const { supabase, user, validatedData } = request as any;\n  const productId = params.id;\n\n  // Validar par\xE1metros\n  const paramsValidation = ProductParamsSchema.safeParse({ id: productId });\n  if (!paramsValidation.success) {\n    throw new ValidationError('ID de producto inv\xE1lido', paramsValidation.error.errors);\n  }\n\n  // Verificar que el producto existe\n  const existingProduct = await getProductById(supabase, productId);\n\n  // Verificar categor\xEDa si se est\xE1 actualizando\n  if (validatedData.category_id) {\n    const { data: category, error: categoryError } = await supabase\n      .from('categories')\n      .select('id')\n      .eq('id', validatedData.category_id)\n      .single();\n\n    if (categoryError || !category) {\n      throw new ValidationError('Categor\xEDa no encontrada');\n    }\n  }\n\n  // Generar slug si se actualiza el nombre\n  const updateData = {\n    ...validatedData,\n    updated_at: new Date().toISOString(),\n  };\n\n  if (validatedData.name) {\n    updateData.slug = generateSlug(validatedData.name);\n  }\n\n  // Actualizar producto\n  const { data: updatedProduct, error } = await supabase\n    .from('products')\n    .update(updateData)\n    .eq('id', productId)\n    .select(`\n      id,\n      name,\n      slug,\n      description,\n      short_description,\n      price,\n      discounted_price,\n      stock,\n      low_stock_threshold,\n      category_id,\n      brand,\n      images,\n      is_active,\n      is_featured,\n      status,\n      created_at,\n      updated_at,\n      categories (\n        id,\n        name\n      )\n    `)\n    .single();\n\n  if (error) {\n    throw new ApiError('Error al actualizar producto', 500, 'DATABASE_ERROR', error);\n  }\n\n  // Log de auditor\xEDa\n  await logAdminAction(user.id, 'UPDATE', 'product', productId, existingProduct, updatedProduct);\n\n  // Transform response\n  const transformedProduct = {\n    ...updatedProduct,\n    category_name: updatedProduct.categories?.name || null,\n    categories: undefined,\n  };\n\n  return NextResponse.json({\n    data: transformedProduct,\n    success: true,\n    message: 'Producto actualizado exitosamente'\n  });\n};\n\n/**\n * DELETE /api/admin/products/[id] - Enterprise Handler\n * Eliminar producto espec\xEDfico con middleware enterprise\n */\nconst deleteHandler = async (request: NextRequest, { params }: { params: { id: string } }) => {\n  const { supabase, user } = request as any;\n  const productId = params.id;\n\n  // Validar par\xE1metros\n  const paramsValidation = ProductParamsSchema.safeParse({ id: productId });\n  if (!paramsValidation.success) {\n    throw new ValidationError('ID de producto inv\xE1lido', paramsValidation.error.errors);\n  }\n\n  // Verificar que el producto existe\n  const existingProduct = await getProductById(supabase, productId);\n\n  // Verificar si el producto est\xE1 referenciado en \xF3rdenes\n  const { data: orderItems, error: orderCheckError } = await supabase\n    .from('order_items')\n    .select('id')\n    .eq('product_id', productId)\n    .limit(1);\n\n  if (orderCheckError) {\n    console.warn('Error checking order references:', orderCheckError);\n    // Continuar con eliminaci\xF3n aunque falle la verificaci\xF3n\n  }\n\n  let deletionResult;\n  let isHardDelete = false;\n\n  if (orderItems && orderItems.length > 0) {\n    // Soft delete: marcar como inactivo\n    const { error: updateError } = await supabase\n      .from('products')\n      .update({\n        status: 'inactive',\n        is_active: false,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', productId);\n\n    if (updateError) {\n      throw new ApiError('Error al eliminar producto', 500, 'DATABASE_ERROR', updateError);\n    }\n\n    deletionResult = {\n      message: 'Producto marcado como inactivo (tiene \xF3rdenes asociadas)',\n      soft_delete: true\n    };\n  } else {\n    // Hard delete si no hay referencias\n    const { error } = await supabase\n      .from('products')\n      .delete()\n      .eq('id', productId);\n\n    if (error) {\n      throw new ApiError('Error al eliminar producto', 500, 'DATABASE_ERROR', error);\n    }\n\n    isHardDelete = true;\n    deletionResult = {\n      message: 'Producto eliminado exitosamente',\n      hard_delete: true\n    };\n  }\n\n  // Log de auditor\xEDa\n  await logAdminAction(\n    user.id,\n    isHardDelete ? 'DELETE' : 'SOFT_DELETE',\n    'product',\n    productId,\n    existingProduct,\n    null\n  );\n\n  return NextResponse.json({\n    ...deletionResult,\n    success: true\n  });\n};\n\n// Aplicar middlewares enterprise y exportar handlers\nexport const GET = composeMiddlewares(\n  withErrorHandler,\n  withApiLogging,\n  withAdminAuth(['products_read'])\n)(getHandler);\n\nexport const PUT = composeMiddlewares(\n  withErrorHandler,\n  withApiLogging,\n  withAdminAuth(['products_update']),\n  withValidation(UpdateProductSchema)\n)(putHandler);\n\nexport const DELETE = composeMiddlewares(\n  withErrorHandler,\n  withApiLogging,\n  withAdminAuth(['products_delete'])\n)(deleteHandler);\n"],
      names: ["DELETE", "GET", "PUT", "UpdateProductSchema", "z", "object", "name", "string", "min", "max", "optional", "description", "short_description", "price", "number", "discounted_price", "stock", "low_stock_threshold", "category_id", "uuid", "brand", "images", "array", "url", "alt_text", "is_primary", "boolean", "default", "is_active", "is_featured", "status", "enum", "ProductParamsSchema", "id", "getProductById", "supabase", "productId", "data", "product", "error", "from", "select", "eq", "single", "NotFoundError", "transformedProduct", "category_name", "categories", "undefined", "generateSlug", "toLowerCase", "replace", "trim", "getHandler", "request", "params", "paramsValidation", "safeParse", "success", "ValidationError", "errors", "NextResponse", "json", "message", "putHandler", "user", "validatedData", "existingProduct", "category", "categoryError", "updateData", "updated_at", "Date", "toISOString", "slug", "updatedProduct", "update", "ApiError", "logAdminAction", "deleteHandler", "orderItems", "orderCheckError", "limit", "console", "warn", "deletionResult", "isHardDelete", "length", "updateError", "soft_delete", "delete", "hard_delete", "composeMiddlewares", "withErrorHandler", "withApiLogging", "withAdminAuth", "withValidation"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "3a2d0f341b32dd37280640f13325ed083c8e8048"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_v4hp14clq = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_v4hp14clq();
cov_v4hp14clq().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_v4hp14clq().f[0]++;
  cov_v4hp14clq().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_v4hp14clq().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_v4hp14clq().s[3]++;
_export(exports, {
  DELETE: function () {
    /* istanbul ignore next */
    cov_v4hp14clq().f[1]++;
    cov_v4hp14clq().s[4]++;
    return DELETE;
  },
  GET: function () {
    /* istanbul ignore next */
    cov_v4hp14clq().f[2]++;
    cov_v4hp14clq().s[5]++;
    return GET;
  },
  PUT: function () {
    /* istanbul ignore next */
    cov_v4hp14clq().f[3]++;
    cov_v4hp14clq().s[6]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_v4hp14clq().s[7]++, require("next/server"));
const _adminauth =
/* istanbul ignore next */
(cov_v4hp14clq().s[8]++, require("../../../../../lib/auth/admin-auth"));
const _zod =
/* istanbul ignore next */
(cov_v4hp14clq().s[9]++, require("zod"));
const _errorhandler =
/* istanbul ignore next */
(cov_v4hp14clq().s[10]++, require("../../../../../lib/api/error-handler"));
const _apilogger =
/* istanbul ignore next */
(cov_v4hp14clq().s[11]++, require("../../../../../lib/api/api-logger"));
const _apiauthmiddleware =
/* istanbul ignore next */
(cov_v4hp14clq().s[12]++, require("../../../../../lib/auth/api-auth-middleware"));
const _adminschemas =
/* istanbul ignore next */
(cov_v4hp14clq().s[13]++, require("../../../../../lib/validation/admin-schemas"));
const _middlewarecomposer =
/* istanbul ignore next */
(cov_v4hp14clq().s[14]++, require("../../../../../lib/api/middleware-composer"));
// Validation schemas
const UpdateProductSchema =
/* istanbul ignore next */
(cov_v4hp14clq().s[15]++, _zod.z.object({
  name: _zod.z.string().min(1, 'El nombre es requerido').max(255, 'Máximo 255 caracteres').optional(),
  description: _zod.z.string().optional(),
  short_description: _zod.z.string().max(500, 'Máximo 500 caracteres').optional(),
  price: _zod.z.number().min(0, 'El precio debe ser mayor a 0').optional(),
  discounted_price: _zod.z.number().min(0).optional(),
  stock: _zod.z.number().min(0, 'El stock debe ser mayor o igual a 0').optional(),
  low_stock_threshold: _zod.z.number().min(0).optional(),
  category_id: _zod.z.string().uuid('ID de categoría inválido').optional(),
  brand: _zod.z.string().optional(),
  images: _zod.z.array(_zod.z.object({
    url: _zod.z.string().url(),
    alt_text: _zod.z.string().optional(),
    is_primary: _zod.z.boolean().default(false)
  })).optional(),
  is_active: _zod.z.boolean().optional(),
  is_featured: _zod.z.boolean().optional(),
  status: _zod.z.enum(['active', 'inactive', 'draft']).optional()
}));
const ProductParamsSchema =
/* istanbul ignore next */
(cov_v4hp14clq().s[16]++, _zod.z.object({
  id: _zod.z.string().uuid('ID de producto inválido')
}));
// Helper function to get product by ID with enhanced error handling
async function getProductById(supabase, productId) {
  /* istanbul ignore next */
  cov_v4hp14clq().f[4]++;
  const {
    data: product,
    error
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[17]++, await supabase.from('products').select(`
      id,
      name,
      slug,
      description,
      short_description,
      price,
      discounted_price,
      stock,
      low_stock_threshold,
      category_id,
      brand,
      images,
      is_active,
      is_featured,
      status,
      created_at,
      updated_at,
      categories (
        id,
        name
      )
    `).eq('id', productId).single());
  /* istanbul ignore next */
  cov_v4hp14clq().s[18]++;
  if (error) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[0][0]++;
    cov_v4hp14clq().s[19]++;
    throw new _errorhandler.NotFoundError('Producto');
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[0][1]++;
  }
  // Transform response with enhanced data
  const transformedProduct =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[20]++, {
    ...product,
    category_name:
    /* istanbul ignore next */
    (cov_v4hp14clq().b[1][0]++, product.categories?.name) ||
    /* istanbul ignore next */
    (cov_v4hp14clq().b[1][1]++, null),
    categories: undefined
  });
  /* istanbul ignore next */
  cov_v4hp14clq().s[21]++;
  return transformedProduct;
}
// Helper function to generate unique slug
function generateSlug(name) {
  /* istanbul ignore next */
  cov_v4hp14clq().f[5]++;
  cov_v4hp14clq().s[22]++;
  return name.toLowerCase().replace(/[^a-z0-9\s-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-').trim();
}
/**
 * GET /api/admin/products/[id] - Enterprise Handler
 * Obtener producto específico por ID con middleware enterprise
 */
/* istanbul ignore next */
cov_v4hp14clq().s[23]++;
const getHandler = async (request, {
  params
}) => {
  /* istanbul ignore next */
  cov_v4hp14clq().f[6]++;
  const {
    supabase
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[24]++, request);
  const productId =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[25]++, params.id);
  // Validar parámetros
  const paramsValidation =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[26]++, ProductParamsSchema.safeParse({
    id: productId
  }));
  /* istanbul ignore next */
  cov_v4hp14clq().s[27]++;
  if (!paramsValidation.success) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[2][0]++;
    cov_v4hp14clq().s[28]++;
    throw new _errorhandler.ValidationError('ID de producto inválido', paramsValidation.error.errors);
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[2][1]++;
  }
  const product =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[29]++, await getProductById(supabase, productId));
  /* istanbul ignore next */
  cov_v4hp14clq().s[30]++;
  return _server.NextResponse.json({
    data: product,
    success: true,
    message: 'Producto obtenido exitosamente'
  });
};
/**
 * PUT /api/admin/products/[id] - Enterprise Handler
 * Actualizar producto específico con middleware enterprise
 */
/* istanbul ignore next */
cov_v4hp14clq().s[31]++;
const putHandler = async (request, {
  params
}) => {
  /* istanbul ignore next */
  cov_v4hp14clq().f[7]++;
  const {
    supabase,
    user,
    validatedData
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[32]++, request);
  const productId =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[33]++, params.id);
  // Validar parámetros
  const paramsValidation =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[34]++, ProductParamsSchema.safeParse({
    id: productId
  }));
  /* istanbul ignore next */
  cov_v4hp14clq().s[35]++;
  if (!paramsValidation.success) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[3][0]++;
    cov_v4hp14clq().s[36]++;
    throw new _errorhandler.ValidationError('ID de producto inválido', paramsValidation.error.errors);
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[3][1]++;
  }
  // Verificar que el producto existe
  const existingProduct =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[37]++, await getProductById(supabase, productId));
  // Verificar categoría si se está actualizando
  /* istanbul ignore next */
  cov_v4hp14clq().s[38]++;
  if (validatedData.category_id) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[4][0]++;
    const {
      data: category,
      error: categoryError
    } =
    /* istanbul ignore next */
    (cov_v4hp14clq().s[39]++, await supabase.from('categories').select('id').eq('id', validatedData.category_id).single());
    /* istanbul ignore next */
    cov_v4hp14clq().s[40]++;
    if (
    /* istanbul ignore next */
    (cov_v4hp14clq().b[6][0]++, categoryError) ||
    /* istanbul ignore next */
    (cov_v4hp14clq().b[6][1]++, !category)) {
      /* istanbul ignore next */
      cov_v4hp14clq().b[5][0]++;
      cov_v4hp14clq().s[41]++;
      throw new _errorhandler.ValidationError('Categoría no encontrada');
    } else
    /* istanbul ignore next */
    {
      cov_v4hp14clq().b[5][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[4][1]++;
  }
  // Generar slug si se actualiza el nombre
  const updateData =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[42]++, {
    ...validatedData,
    updated_at: new Date().toISOString()
  });
  /* istanbul ignore next */
  cov_v4hp14clq().s[43]++;
  if (validatedData.name) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[7][0]++;
    cov_v4hp14clq().s[44]++;
    updateData.slug = generateSlug(validatedData.name);
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[7][1]++;
  }
  // Actualizar producto
  const {
    data: updatedProduct,
    error
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[45]++, await supabase.from('products').update(updateData).eq('id', productId).select(`
      id,
      name,
      slug,
      description,
      short_description,
      price,
      discounted_price,
      stock,
      low_stock_threshold,
      category_id,
      brand,
      images,
      is_active,
      is_featured,
      status,
      created_at,
      updated_at,
      categories (
        id,
        name
      )
    `).single());
  /* istanbul ignore next */
  cov_v4hp14clq().s[46]++;
  if (error) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[8][0]++;
    cov_v4hp14clq().s[47]++;
    throw new _errorhandler.ApiError('Error al actualizar producto', 500, 'DATABASE_ERROR', error);
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[8][1]++;
  }
  // Log de auditoría
  cov_v4hp14clq().s[48]++;
  await (0, _adminauth.logAdminAction)(user.id, 'UPDATE', 'product', productId, existingProduct, updatedProduct);
  // Transform response
  const transformedProduct =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[49]++, {
    ...updatedProduct,
    category_name:
    /* istanbul ignore next */
    (cov_v4hp14clq().b[9][0]++, updatedProduct.categories?.name) ||
    /* istanbul ignore next */
    (cov_v4hp14clq().b[9][1]++, null),
    categories: undefined
  });
  /* istanbul ignore next */
  cov_v4hp14clq().s[50]++;
  return _server.NextResponse.json({
    data: transformedProduct,
    success: true,
    message: 'Producto actualizado exitosamente'
  });
};
/**
 * DELETE /api/admin/products/[id] - Enterprise Handler
 * Eliminar producto específico con middleware enterprise
 */
/* istanbul ignore next */
cov_v4hp14clq().s[51]++;
const deleteHandler = async (request, {
  params
}) => {
  /* istanbul ignore next */
  cov_v4hp14clq().f[8]++;
  const {
    supabase,
    user
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[52]++, request);
  const productId =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[53]++, params.id);
  // Validar parámetros
  const paramsValidation =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[54]++, ProductParamsSchema.safeParse({
    id: productId
  }));
  /* istanbul ignore next */
  cov_v4hp14clq().s[55]++;
  if (!paramsValidation.success) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[10][0]++;
    cov_v4hp14clq().s[56]++;
    throw new _errorhandler.ValidationError('ID de producto inválido', paramsValidation.error.errors);
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[10][1]++;
  }
  // Verificar que el producto existe
  const existingProduct =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[57]++, await getProductById(supabase, productId));
  // Verificar si el producto está referenciado en órdenes
  const {
    data: orderItems,
    error: orderCheckError
  } =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[58]++, await supabase.from('order_items').select('id').eq('product_id', productId).limit(1));
  /* istanbul ignore next */
  cov_v4hp14clq().s[59]++;
  if (orderCheckError) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[11][0]++;
    cov_v4hp14clq().s[60]++;
    console.warn('Error checking order references:', orderCheckError);
    // Continuar con eliminación aunque falle la verificación
  } else
  /* istanbul ignore next */
  {
    cov_v4hp14clq().b[11][1]++;
  }
  let deletionResult;
  let isHardDelete =
  /* istanbul ignore next */
  (cov_v4hp14clq().s[61]++, false);
  /* istanbul ignore next */
  cov_v4hp14clq().s[62]++;
  if (
  /* istanbul ignore next */
  (cov_v4hp14clq().b[13][0]++, orderItems) &&
  /* istanbul ignore next */
  (cov_v4hp14clq().b[13][1]++, orderItems.length > 0)) {
    /* istanbul ignore next */
    cov_v4hp14clq().b[12][0]++;
    // Soft delete: marcar como inactivo
    const {
      error: updateError
    } =
    /* istanbul ignore next */
    (cov_v4hp14clq().s[63]++, await supabase.from('products').update({
      status: 'inactive',
      is_active: false,
      updated_at: new Date().toISOString()
    }).eq('id', productId));
    /* istanbul ignore next */
    cov_v4hp14clq().s[64]++;
    if (updateError) {
      /* istanbul ignore next */
      cov_v4hp14clq().b[14][0]++;
      cov_v4hp14clq().s[65]++;
      throw new _errorhandler.ApiError('Error al eliminar producto', 500, 'DATABASE_ERROR', updateError);
    } else
    /* istanbul ignore next */
    {
      cov_v4hp14clq().b[14][1]++;
    }
    cov_v4hp14clq().s[66]++;
    deletionResult = {
      message: 'Producto marcado como inactivo (tiene órdenes asociadas)',
      soft_delete: true
    };
  } else {
    /* istanbul ignore next */
    cov_v4hp14clq().b[12][1]++;
    // Hard delete si no hay referencias
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_v4hp14clq().s[67]++, await supabase.from('products').delete().eq('id', productId));
    /* istanbul ignore next */
    cov_v4hp14clq().s[68]++;
    if (error) {
      /* istanbul ignore next */
      cov_v4hp14clq().b[15][0]++;
      cov_v4hp14clq().s[69]++;
      throw new _errorhandler.ApiError('Error al eliminar producto', 500, 'DATABASE_ERROR', error);
    } else
    /* istanbul ignore next */
    {
      cov_v4hp14clq().b[15][1]++;
    }
    cov_v4hp14clq().s[70]++;
    isHardDelete = true;
    /* istanbul ignore next */
    cov_v4hp14clq().s[71]++;
    deletionResult = {
      message: 'Producto eliminado exitosamente',
      hard_delete: true
    };
  }
  // Log de auditoría
  /* istanbul ignore next */
  cov_v4hp14clq().s[72]++;
  await (0, _adminauth.logAdminAction)(user.id, isHardDelete ?
  /* istanbul ignore next */
  (cov_v4hp14clq().b[16][0]++, 'DELETE') :
  /* istanbul ignore next */
  (cov_v4hp14clq().b[16][1]++, 'SOFT_DELETE'), 'product', productId, existingProduct, null);
  /* istanbul ignore next */
  cov_v4hp14clq().s[73]++;
  return _server.NextResponse.json({
    ...deletionResult,
    success: true
  });
};
const GET =
/* istanbul ignore next */
(cov_v4hp14clq().s[74]++, (0, _middlewarecomposer.composeMiddlewares)(_errorhandler.withErrorHandler, _apilogger.withApiLogging, (0, _apiauthmiddleware.withAdminAuth)(['products_read']))(getHandler));
const PUT =
/* istanbul ignore next */
(cov_v4hp14clq().s[75]++, (0, _middlewarecomposer.composeMiddlewares)(_errorhandler.withErrorHandler, _apilogger.withApiLogging, (0, _apiauthmiddleware.withAdminAuth)(['products_update']), (0, _adminschemas.withValidation)(UpdateProductSchema))(putHandler));
const DELETE =
/* istanbul ignore next */
(cov_v4hp14clq().s[76]++, (0, _middlewarecomposer.composeMiddlewares)(_errorhandler.withErrorHandler, _apilogger.withApiLogging, (0, _apiauthmiddleware.withAdminAuth)(['products_delete']))(deleteHandler));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfdjRocDE0Y2xxIiwiZiIsInMiLCJHRVQiLCJQVVQiLCJVcGRhdGVQcm9kdWN0U2NoZW1hIiwiX3pvZCIsInoiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwibWluIiwibWF4Iiwib3B0aW9uYWwiLCJkZXNjcmlwdGlvbiIsInNob3J0X2Rlc2NyaXB0aW9uIiwicHJpY2UiLCJudW1iZXIiLCJkaXNjb3VudGVkX3ByaWNlIiwic3RvY2siLCJsb3dfc3RvY2tfdGhyZXNob2xkIiwiY2F0ZWdvcnlfaWQiLCJ1dWlkIiwiYnJhbmQiLCJpbWFnZXMiLCJhcnJheSIsInVybCIsImFsdF90ZXh0IiwiaXNfcHJpbWFyeSIsImJvb2xlYW4iLCJkZWZhdWx0IiwiaXNfYWN0aXZlIiwiaXNfZmVhdHVyZWQiLCJzdGF0dXMiLCJlbnVtIiwiUHJvZHVjdFBhcmFtc1NjaGVtYSIsImlkIiwiZ2V0UHJvZHVjdEJ5SWQiLCJzdXBhYmFzZSIsInByb2R1Y3RJZCIsImRhdGEiLCJwcm9kdWN0IiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJiIiwiX2Vycm9yaGFuZGxlciIsIk5vdEZvdW5kRXJyb3IiLCJ0cmFuc2Zvcm1lZFByb2R1Y3QiLCJjYXRlZ29yeV9uYW1lIiwiY2F0ZWdvcmllcyIsInVuZGVmaW5lZCIsImdlbmVyYXRlU2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInRyaW0iLCJnZXRIYW5kbGVyIiwicmVxdWVzdCIsInBhcmFtcyIsInBhcmFtc1ZhbGlkYXRpb24iLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiVmFsaWRhdGlvbkVycm9yIiwiZXJyb3JzIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJtZXNzYWdlIiwicHV0SGFuZGxlciIsInVzZXIiLCJ2YWxpZGF0ZWREYXRhIiwiZXhpc3RpbmdQcm9kdWN0IiwiY2F0ZWdvcnkiLCJjYXRlZ29yeUVycm9yIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzbHVnIiwidXBkYXRlZFByb2R1Y3QiLCJ1cGRhdGUiLCJBcGlFcnJvciIsIl9hZG1pbmF1dGgiLCJsb2dBZG1pbkFjdGlvbiIsImRlbGV0ZUhhbmRsZXIiLCJvcmRlckl0ZW1zIiwib3JkZXJDaGVja0Vycm9yIiwibGltaXQiLCJjb25zb2xlIiwid2FybiIsImRlbGV0aW9uUmVzdWx0IiwiaXNIYXJkRGVsZXRlIiwibGVuZ3RoIiwidXBkYXRlRXJyb3IiLCJzb2Z0X2RlbGV0ZSIsImRlbGV0ZSIsImhhcmRfZGVsZXRlIiwiX21pZGRsZXdhcmVjb21wb3NlciIsImNvbXBvc2VNaWRkbGV3YXJlcyIsIndpdGhFcnJvckhhbmRsZXIiLCJfYXBpbG9nZ2VyIiwid2l0aEFwaUxvZ2dpbmciLCJfYXBpYXV0aG1pZGRsZXdhcmUiLCJ3aXRoQWRtaW5BdXRoIiwiX2FkbWluc2NoZW1hcyIsIndpdGhWYWxpZGF0aW9uIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxtYXJ0aVxcRGVza3RvcFxcREVTQVJST0xMT1NXXFxCT0lMRVJQTEFUVEUgRS1DT01NRVJDRVxcc3JjXFxhcHBcXGFwaVxcYWRtaW5cXHByb2R1Y3RzXFxbaWRdXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY2hlY2tDUlVEUGVybWlzc2lvbnMsIGxvZ0FkbWluQWN0aW9uLCBnZXRSZXF1ZXN0SW5mbyB9IGZyb20gJ0AvbGliL2F1dGgvYWRtaW4tYXV0aCc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLy8gRW50ZXJwcmlzZSBtaWRkbGV3YXJlIGltcG9ydHNcbmltcG9ydCB7IHdpdGhFcnJvckhhbmRsZXIgfSBmcm9tICdAL2xpYi9hcGkvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyB3aXRoQXBpTG9nZ2luZyB9IGZyb20gJ0AvbGliL2FwaS9hcGktbG9nZ2VyJztcbmltcG9ydCB7IHdpdGhBZG1pbkF1dGggfSBmcm9tICdAL2xpYi9hdXRoL2FwaS1hdXRoLW1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgd2l0aFZhbGlkYXRpb24gfSBmcm9tICdAL2xpYi92YWxpZGF0aW9uL2FkbWluLXNjaGVtYXMnO1xuaW1wb3J0IHsgY29tcG9zZU1pZGRsZXdhcmVzIH0gZnJvbSAnQC9saWIvYXBpL21pZGRsZXdhcmUtY29tcG9zZXInO1xuXG4vLyBWYWxpZGF0aW9uIHNjaGVtYXNcbmNvbnN0IFVwZGF0ZVByb2R1Y3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdFbCBub21icmUgZXMgcmVxdWVyaWRvJykubWF4KDI1NSwgJ03DoXhpbW8gMjU1IGNhcmFjdGVyZXMnKS5vcHRpb25hbCgpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBzaG9ydF9kZXNjcmlwdGlvbjogei5zdHJpbmcoKS5tYXgoNTAwLCAnTcOheGltbyA1MDAgY2FyYWN0ZXJlcycpLm9wdGlvbmFsKCksXG4gIHByaWNlOiB6Lm51bWJlcigpLm1pbigwLCAnRWwgcHJlY2lvIGRlYmUgc2VyIG1heW9yIGEgMCcpLm9wdGlvbmFsKCksXG4gIGRpc2NvdW50ZWRfcHJpY2U6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCksXG4gIHN0b2NrOiB6Lm51bWJlcigpLm1pbigwLCAnRWwgc3RvY2sgZGViZSBzZXIgbWF5b3IgbyBpZ3VhbCBhIDAnKS5vcHRpb25hbCgpLFxuICBsb3dfc3RvY2tfdGhyZXNob2xkOiB6Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLFxuICBjYXRlZ29yeV9pZDogei5zdHJpbmcoKS51dWlkKCdJRCBkZSBjYXRlZ29yw61hIGludsOhbGlkbycpLm9wdGlvbmFsKCksXG4gIGJyYW5kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGltYWdlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgdXJsOiB6LnN0cmluZygpLnVybCgpLFxuICAgIGFsdF90ZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXNfcHJpbWFyeTogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSlcbiAgfSkpLm9wdGlvbmFsKCksXG4gIGlzX2FjdGl2ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaXNfZmVhdHVyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnYWN0aXZlJywgJ2luYWN0aXZlJywgJ2RyYWZ0J10pLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgUHJvZHVjdFBhcmFtc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCkudXVpZCgnSUQgZGUgcHJvZHVjdG8gaW52w6FsaWRvJylcbn0pO1xuXG4vLyBFbnRlcnByaXNlIGltcG9ydHMgZm9yIGVycm9yIGhhbmRsaW5nXG5pbXBvcnQgeyBBcGlFcnJvciwgTm90Rm91bmRFcnJvciwgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQC9saWIvYXBpL2Vycm9yLWhhbmRsZXInO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHByb2R1Y3QgYnkgSUQgd2l0aCBlbmhhbmNlZCBlcnJvciBoYW5kbGluZ1xuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdEJ5SWQoc3VwYWJhc2U6IGFueSwgcHJvZHVjdElkOiBzdHJpbmcpIHtcbiAgY29uc3QgeyBkYXRhOiBwcm9kdWN0LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgc2x1ZyxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgc2hvcnRfZGVzY3JpcHRpb24sXG4gICAgICBwcmljZSxcbiAgICAgIGRpc2NvdW50ZWRfcHJpY2UsXG4gICAgICBzdG9jayxcbiAgICAgIGxvd19zdG9ja190aHJlc2hvbGQsXG4gICAgICBjYXRlZ29yeV9pZCxcbiAgICAgIGJyYW5kLFxuICAgICAgaW1hZ2VzLFxuICAgICAgaXNfYWN0aXZlLFxuICAgICAgaXNfZmVhdHVyZWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBjcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIGNhdGVnb3JpZXMgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZVxuICAgICAgKVxuICAgIGApXG4gICAgLmVxKCdpZCcsIHByb2R1Y3RJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ1Byb2R1Y3RvJyk7XG4gIH1cblxuICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2Ugd2l0aCBlbmhhbmNlZCBkYXRhXG4gIGNvbnN0IHRyYW5zZm9ybWVkUHJvZHVjdCA9IHtcbiAgICAuLi5wcm9kdWN0LFxuICAgIGNhdGVnb3J5X25hbWU6IHByb2R1Y3QuY2F0ZWdvcmllcz8ubmFtZSB8fCBudWxsLFxuICAgIGNhdGVnb3JpZXM6IHVuZGVmaW5lZCxcbiAgfTtcblxuICByZXR1cm4gdHJhbnNmb3JtZWRQcm9kdWN0O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgdW5pcXVlIHNsdWdcbmZ1bmN0aW9uIGdlbmVyYXRlU2x1ZyhuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1teYS16MC05XFxzLV0vZywgJycpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgIC5yZXBsYWNlKC8tKy9nLCAnLScpXG4gICAgLnRyaW0oKTtcbn1cblxuLyoqXG4gKiBHRVQgL2FwaS9hZG1pbi9wcm9kdWN0cy9baWRdIC0gRW50ZXJwcmlzZSBIYW5kbGVyXG4gKiBPYnRlbmVyIHByb2R1Y3RvIGVzcGVjw61maWNvIHBvciBJRCBjb24gbWlkZGxld2FyZSBlbnRlcnByaXNlXG4gKi9cbmNvbnN0IGdldEhhbmRsZXIgPSBhc3luYyAocmVxdWVzdDogTmV4dFJlcXVlc3QsIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9KSA9PiB7XG4gIGNvbnN0IHsgc3VwYWJhc2UgfSA9IHJlcXVlc3QgYXMgYW55O1xuICBjb25zdCBwcm9kdWN0SWQgPSBwYXJhbXMuaWQ7XG5cbiAgLy8gVmFsaWRhciBwYXLDoW1ldHJvc1xuICBjb25zdCBwYXJhbXNWYWxpZGF0aW9uID0gUHJvZHVjdFBhcmFtc1NjaGVtYS5zYWZlUGFyc2UoeyBpZDogcHJvZHVjdElkIH0pO1xuICBpZiAoIXBhcmFtc1ZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0lEIGRlIHByb2R1Y3RvIGludsOhbGlkbycsIHBhcmFtc1ZhbGlkYXRpb24uZXJyb3IuZXJyb3JzKTtcbiAgfVxuXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBnZXRQcm9kdWN0QnlJZChzdXBhYmFzZSwgcHJvZHVjdElkKTtcblxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIGRhdGE6IHByb2R1Y3QsXG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBtZXNzYWdlOiAnUHJvZHVjdG8gb2J0ZW5pZG8gZXhpdG9zYW1lbnRlJ1xuICB9KTtcbn07XG5cbi8qKlxuICogUFVUIC9hcGkvYWRtaW4vcHJvZHVjdHMvW2lkXSAtIEVudGVycHJpc2UgSGFuZGxlclxuICogQWN0dWFsaXphciBwcm9kdWN0byBlc3BlY8OtZmljbyBjb24gbWlkZGxld2FyZSBlbnRlcnByaXNlXG4gKi9cbmNvbnN0IHB1dEhhbmRsZXIgPSBhc3luYyAocmVxdWVzdDogTmV4dFJlcXVlc3QsIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9KSA9PiB7XG4gIGNvbnN0IHsgc3VwYWJhc2UsIHVzZXIsIHZhbGlkYXRlZERhdGEgfSA9IHJlcXVlc3QgYXMgYW55O1xuICBjb25zdCBwcm9kdWN0SWQgPSBwYXJhbXMuaWQ7XG5cbiAgLy8gVmFsaWRhciBwYXLDoW1ldHJvc1xuICBjb25zdCBwYXJhbXNWYWxpZGF0aW9uID0gUHJvZHVjdFBhcmFtc1NjaGVtYS5zYWZlUGFyc2UoeyBpZDogcHJvZHVjdElkIH0pO1xuICBpZiAoIXBhcmFtc1ZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0lEIGRlIHByb2R1Y3RvIGludsOhbGlkbycsIHBhcmFtc1ZhbGlkYXRpb24uZXJyb3IuZXJyb3JzKTtcbiAgfVxuXG4gIC8vIFZlcmlmaWNhciBxdWUgZWwgcHJvZHVjdG8gZXhpc3RlXG4gIGNvbnN0IGV4aXN0aW5nUHJvZHVjdCA9IGF3YWl0IGdldFByb2R1Y3RCeUlkKHN1cGFiYXNlLCBwcm9kdWN0SWQpO1xuXG4gIC8vIFZlcmlmaWNhciBjYXRlZ29yw61hIHNpIHNlIGVzdMOhIGFjdHVhbGl6YW5kb1xuICBpZiAodmFsaWRhdGVkRGF0YS5jYXRlZ29yeV9pZCkge1xuICAgIGNvbnN0IHsgZGF0YTogY2F0ZWdvcnksIGVycm9yOiBjYXRlZ29yeUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NhdGVnb3JpZXMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmVxKCdpZCcsIHZhbGlkYXRlZERhdGEuY2F0ZWdvcnlfaWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoY2F0ZWdvcnlFcnJvciB8fCAhY2F0ZWdvcnkpIHtcbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0NhdGVnb3LDrWEgbm8gZW5jb250cmFkYScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyYXIgc2x1ZyBzaSBzZSBhY3R1YWxpemEgZWwgbm9tYnJlXG4gIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgLi4udmFsaWRhdGVkRGF0YSxcbiAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIH07XG5cbiAgaWYgKHZhbGlkYXRlZERhdGEubmFtZSkge1xuICAgIHVwZGF0ZURhdGEuc2x1ZyA9IGdlbmVyYXRlU2x1Zyh2YWxpZGF0ZWREYXRhLm5hbWUpO1xuICB9XG5cbiAgLy8gQWN0dWFsaXphciBwcm9kdWN0b1xuICBjb25zdCB7IGRhdGE6IHVwZGF0ZWRQcm9kdWN0LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAuZXEoJ2lkJywgcHJvZHVjdElkKVxuICAgIC5zZWxlY3QoYFxuICAgICAgaWQsXG4gICAgICBuYW1lLFxuICAgICAgc2x1ZyxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgc2hvcnRfZGVzY3JpcHRpb24sXG4gICAgICBwcmljZSxcbiAgICAgIGRpc2NvdW50ZWRfcHJpY2UsXG4gICAgICBzdG9jayxcbiAgICAgIGxvd19zdG9ja190aHJlc2hvbGQsXG4gICAgICBjYXRlZ29yeV9pZCxcbiAgICAgIGJyYW5kLFxuICAgICAgaW1hZ2VzLFxuICAgICAgaXNfYWN0aXZlLFxuICAgICAgaXNfZmVhdHVyZWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBjcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdCxcbiAgICAgIGNhdGVnb3JpZXMgKFxuICAgICAgICBpZCxcbiAgICAgICAgbmFtZVxuICAgICAgKVxuICAgIGApXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIHRocm93IG5ldyBBcGlFcnJvcignRXJyb3IgYWwgYWN0dWFsaXphciBwcm9kdWN0bycsIDUwMCwgJ0RBVEFCQVNFX0VSUk9SJywgZXJyb3IpO1xuICB9XG5cbiAgLy8gTG9nIGRlIGF1ZGl0b3LDrWFcbiAgYXdhaXQgbG9nQWRtaW5BY3Rpb24odXNlci5pZCwgJ1VQREFURScsICdwcm9kdWN0JywgcHJvZHVjdElkLCBleGlzdGluZ1Byb2R1Y3QsIHVwZGF0ZWRQcm9kdWN0KTtcblxuICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2VcbiAgY29uc3QgdHJhbnNmb3JtZWRQcm9kdWN0ID0ge1xuICAgIC4uLnVwZGF0ZWRQcm9kdWN0LFxuICAgIGNhdGVnb3J5X25hbWU6IHVwZGF0ZWRQcm9kdWN0LmNhdGVnb3JpZXM/Lm5hbWUgfHwgbnVsbCxcbiAgICBjYXRlZ29yaWVzOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBkYXRhOiB0cmFuc2Zvcm1lZFByb2R1Y3QsXG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBtZXNzYWdlOiAnUHJvZHVjdG8gYWN0dWFsaXphZG8gZXhpdG9zYW1lbnRlJ1xuICB9KTtcbn07XG5cbi8qKlxuICogREVMRVRFIC9hcGkvYWRtaW4vcHJvZHVjdHMvW2lkXSAtIEVudGVycHJpc2UgSGFuZGxlclxuICogRWxpbWluYXIgcHJvZHVjdG8gZXNwZWPDrWZpY28gY29uIG1pZGRsZXdhcmUgZW50ZXJwcmlzZVxuICovXG5jb25zdCBkZWxldGVIYW5kbGVyID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfSkgPT4ge1xuICBjb25zdCB7IHN1cGFiYXNlLCB1c2VyIH0gPSByZXF1ZXN0IGFzIGFueTtcbiAgY29uc3QgcHJvZHVjdElkID0gcGFyYW1zLmlkO1xuXG4gIC8vIFZhbGlkYXIgcGFyw6FtZXRyb3NcbiAgY29uc3QgcGFyYW1zVmFsaWRhdGlvbiA9IFByb2R1Y3RQYXJhbXNTY2hlbWEuc2FmZVBhcnNlKHsgaWQ6IHByb2R1Y3RJZCB9KTtcbiAgaWYgKCFwYXJhbXNWYWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdJRCBkZSBwcm9kdWN0byBpbnbDoWxpZG8nLCBwYXJhbXNWYWxpZGF0aW9uLmVycm9yLmVycm9ycyk7XG4gIH1cblxuICAvLyBWZXJpZmljYXIgcXVlIGVsIHByb2R1Y3RvIGV4aXN0ZVxuICBjb25zdCBleGlzdGluZ1Byb2R1Y3QgPSBhd2FpdCBnZXRQcm9kdWN0QnlJZChzdXBhYmFzZSwgcHJvZHVjdElkKTtcblxuICAvLyBWZXJpZmljYXIgc2kgZWwgcHJvZHVjdG8gZXN0w6EgcmVmZXJlbmNpYWRvIGVuIMOzcmRlbmVzXG4gIGNvbnN0IHsgZGF0YTogb3JkZXJJdGVtcywgZXJyb3I6IG9yZGVyQ2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnb3JkZXJfaXRlbXMnKVxuICAgIC5zZWxlY3QoJ2lkJylcbiAgICAuZXEoJ3Byb2R1Y3RfaWQnLCBwcm9kdWN0SWQpXG4gICAgLmxpbWl0KDEpO1xuXG4gIGlmIChvcmRlckNoZWNrRXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGNoZWNraW5nIG9yZGVyIHJlZmVyZW5jZXM6Jywgb3JkZXJDaGVja0Vycm9yKTtcbiAgICAvLyBDb250aW51YXIgY29uIGVsaW1pbmFjacOzbiBhdW5xdWUgZmFsbGUgbGEgdmVyaWZpY2FjacOzblxuICB9XG5cbiAgbGV0IGRlbGV0aW9uUmVzdWx0O1xuICBsZXQgaXNIYXJkRGVsZXRlID0gZmFsc2U7XG5cbiAgaWYgKG9yZGVySXRlbXMgJiYgb3JkZXJJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgLy8gU29mdCBkZWxldGU6IG1hcmNhciBjb21vIGluYWN0aXZvXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogJ2luYWN0aXZlJyxcbiAgICAgICAgaXNfYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIHByb2R1Y3RJZCk7XG5cbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcignRXJyb3IgYWwgZWxpbWluYXIgcHJvZHVjdG8nLCA1MDAsICdEQVRBQkFTRV9FUlJPUicsIHVwZGF0ZUVycm9yKTtcbiAgICB9XG5cbiAgICBkZWxldGlvblJlc3VsdCA9IHtcbiAgICAgIG1lc3NhZ2U6ICdQcm9kdWN0byBtYXJjYWRvIGNvbW8gaW5hY3Rpdm8gKHRpZW5lIMOzcmRlbmVzIGFzb2NpYWRhcyknLFxuICAgICAgc29mdF9kZWxldGU6IHRydWVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIEhhcmQgZGVsZXRlIHNpIG5vIGhheSByZWZlcmVuY2lhc1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZHVjdHMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2lkJywgcHJvZHVjdElkKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKCdFcnJvciBhbCBlbGltaW5hciBwcm9kdWN0bycsIDUwMCwgJ0RBVEFCQVNFX0VSUk9SJywgZXJyb3IpO1xuICAgIH1cblxuICAgIGlzSGFyZERlbGV0ZSA9IHRydWU7XG4gICAgZGVsZXRpb25SZXN1bHQgPSB7XG4gICAgICBtZXNzYWdlOiAnUHJvZHVjdG8gZWxpbWluYWRvIGV4aXRvc2FtZW50ZScsXG4gICAgICBoYXJkX2RlbGV0ZTogdHJ1ZVxuICAgIH07XG4gIH1cblxuICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxuICBhd2FpdCBsb2dBZG1pbkFjdGlvbihcbiAgICB1c2VyLmlkLFxuICAgIGlzSGFyZERlbGV0ZSA/ICdERUxFVEUnIDogJ1NPRlRfREVMRVRFJyxcbiAgICAncHJvZHVjdCcsXG4gICAgcHJvZHVjdElkLFxuICAgIGV4aXN0aW5nUHJvZHVjdCxcbiAgICBudWxsXG4gICk7XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAuLi5kZWxldGlvblJlc3VsdCxcbiAgICBzdWNjZXNzOiB0cnVlXG4gIH0pO1xufTtcblxuLy8gQXBsaWNhciBtaWRkbGV3YXJlcyBlbnRlcnByaXNlIHkgZXhwb3J0YXIgaGFuZGxlcnNcbmV4cG9ydCBjb25zdCBHRVQgPSBjb21wb3NlTWlkZGxld2FyZXMoXG4gIHdpdGhFcnJvckhhbmRsZXIsXG4gIHdpdGhBcGlMb2dnaW5nLFxuICB3aXRoQWRtaW5BdXRoKFsncHJvZHVjdHNfcmVhZCddKVxuKShnZXRIYW5kbGVyKTtcblxuZXhwb3J0IGNvbnN0IFBVVCA9IGNvbXBvc2VNaWRkbGV3YXJlcyhcbiAgd2l0aEVycm9ySGFuZGxlcixcbiAgd2l0aEFwaUxvZ2dpbmcsXG4gIHdpdGhBZG1pbkF1dGgoWydwcm9kdWN0c191cGRhdGUnXSksXG4gIHdpdGhWYWxpZGF0aW9uKFVwZGF0ZVByb2R1Y3RTY2hlbWEpXG4pKHB1dEhhbmRsZXIpO1xuXG5leHBvcnQgY29uc3QgREVMRVRFID0gY29tcG9zZU1pZGRsZXdhcmVzKFxuICB3aXRoRXJyb3JIYW5kbGVyLFxuICB3aXRoQXBpTG9nZ2luZyxcbiAgd2l0aEFkbWluQXV0aChbJ3Byb2R1Y3RzX2RlbGV0ZSddKVxuKShkZWxldGVIYW5kbGVyKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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