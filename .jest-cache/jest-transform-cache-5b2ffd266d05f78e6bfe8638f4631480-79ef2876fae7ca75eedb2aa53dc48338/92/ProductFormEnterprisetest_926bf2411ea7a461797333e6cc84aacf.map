{"version":3,"sources":["C:\\Users\\marti\\Desktop\\DESARROLLOSW\\BOILERPLATTE E-COMMERCE\\src\\components\\admin\\products\\__tests__\\ProductFormEnterprise.test.tsx"],"sourcesContent":["// 🧪 Enterprise Unit Tests - ProductFormEnterprise Component\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ProductFormEnterprise } from '../ProductFormEnterprise';\n\n// Mock dependencies\njest.mock('react-hot-toast', () => ({\n  toast: {\n    success: jest.fn(),\n    error: jest.fn(),\n  },\n}));\n\njest.mock('../ProductImageManagerEnterprise', () => ({\n  ProductImageManagerEnterprise: ({ onChange }: any) => (\n    <div data-testid=\"image-manager\">\n      <button onClick={() => onChange([{ url: 'test.jpg' }])}>\n        Add Image\n      </button>\n    </div>\n  ),\n}));\n\njest.mock('../ProductVariantManager', () => ({\n  ProductVariantManager: ({ onChange }: any) => (\n    <div data-testid=\"variant-manager\">\n      <button onClick={() => onChange([{ name: 'Color', options: ['Red'] }])}>\n        Add Variant\n      </button>\n    </div>\n  ),\n}));\n\njest.mock('../ProductPricing', () => ({\n  ProductPricing: () => <div data-testid=\"pricing-section\">Pricing</div>,\n}));\n\njest.mock('../ProductInventory', () => ({\n  ProductInventory: () => <div data-testid=\"inventory-section\">Inventory</div>,\n}));\n\njest.mock('../ProductSeo', () => ({\n  ProductSeo: () => <div data-testid=\"seo-section\">SEO</div>,\n}));\n\njest.mock('../CategorySelector', () => ({\n  CategorySelector: ({ value, onChange, error }: any) => (\n    <div data-testid=\"category-selector\">\n      <select\n        value={value || ''}\n        onChange={(e) => onChange(e.target.value)}\n        data-testid=\"category-select\"\n      >\n        <option value=\"\">Select Category</option>\n        <option value=\"category-1\">Category 1</option>\n        <option value=\"category-2\">Category 2</option>\n      </select>\n      {error && <span data-testid=\"category-error\">{error}</span>}\n    </div>\n  ),\n}));\n\n// Mock fetch for slug validation\nglobal.fetch = jest.fn();\n\nconst mockFetch = fetch as jest.MockedFunction<typeof fetch>;\n\n// Test wrapper with QueryClient\nconst TestWrapper = ({ children }: { children: React.ReactNode }) => {\n  const queryClient = new QueryClient({\n    defaultOptions: {\n      queries: { retry: false },\n      mutations: { retry: false },\n    },\n  });\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n    </QueryClientProvider>\n  );\n};\n\ndescribe('ProductFormEnterprise', () => {\n  const mockOnSubmit = jest.fn();\n  const mockOnCancel = jest.fn();\n\n  const defaultProps = {\n    mode: 'create' as const,\n    onSubmit: mockOnSubmit,\n    onCancel: mockOnCancel,\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    mockFetch.mockClear();\n  });\n\n  describe('Rendering', () => {\n    it('should render create mode correctly', () => {\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      expect(screen.getByText('Crear Producto')).toBeInTheDocument();\n      expect(screen.getByText('Auto-guardado cada 30 segundos')).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /crear producto/i })).toBeInTheDocument();\n    });\n\n    it('should render edit mode correctly', () => {\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise\n            {...defaultProps}\n            mode=\"edit\"\n            productId=\"test-product-id\"\n          />\n        </TestWrapper>\n      );\n\n      expect(screen.getByText('Editar Producto')).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /guardar cambios/i })).toBeInTheDocument();\n    });\n\n    it('should render all tabs', () => {\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      expect(screen.getByText('📝 General')).toBeInTheDocument();\n      expect(screen.getByText('💰 Precios')).toBeInTheDocument();\n      expect(screen.getByText('📦 Inventario')).toBeInTheDocument();\n      expect(screen.getByText('🖼️ Imágenes')).toBeInTheDocument();\n      expect(screen.getByText('🎨 Variantes')).toBeInTheDocument();\n      expect(screen.getByText('🔍 SEO')).toBeInTheDocument();\n    });\n\n    it('should show preview toggle button', () => {\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      expect(screen.getByRole('button', { name: /vista previa/i })).toBeInTheDocument();\n    });\n  });\n\n  describe('Form Validation', () => {\n    it('should validate required fields', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      await user.click(submitButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('El nombre es requerido')).toBeInTheDocument();\n      });\n    });\n\n    it('should validate name length', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const nameInput = screen.getByPlaceholderText('Ingrese el nombre del producto');\n      await user.type(nameInput, 'a'.repeat(256)); // Exceed max length\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      await user.click(submitButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Máximo 255 caracteres')).toBeInTheDocument();\n      });\n    });\n\n    it('should validate category selection', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const nameInput = screen.getByPlaceholderText('Ingrese el nombre del producto');\n      await user.type(nameInput, 'Test Product');\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      await user.click(submitButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Selecciona una categoría válida')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Slug Generation', () => {\n    it('should generate slug from product name', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const nameInput = screen.getByPlaceholderText('Ingrese el nombre del producto');\n      await user.type(nameInput, 'Test Product Name!');\n\n      await waitFor(() => {\n        const slugInput = screen.getByDisplayValue('test-product-name');\n        expect(slugInput).toBeInTheDocument();\n      });\n    });\n\n    it('should validate slug uniqueness', async () => {\n      const user = userEvent.setup();\n\n      // Mock slug validation API\n      mockFetch.mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ available: false }),\n      } as Response);\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const slugInput = screen.getByPlaceholderText('url-del-producto');\n      await user.type(slugInput, 'existing-slug');\n\n      await waitFor(() => {\n        expect(screen.getByText('Este slug ya está en uso')).toBeInTheDocument();\n      });\n\n      expect(mockFetch).toHaveBeenCalledWith('/api/admin/products/validate-slug', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ slug: 'existing-slug' }),\n      });\n    });\n\n    it('should show slug validation loading state', async () => {\n      const user = userEvent.setup();\n\n      // Mock delayed response\n      mockFetch.mockImplementation(() => new Promise(resolve => \n        setTimeout(() => resolve({\n          ok: true,\n          json: async () => ({ available: true }),\n        } as Response), 100)\n      ));\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const slugInput = screen.getByPlaceholderText('url-del-producto');\n      await user.type(slugInput, 'new-slug');\n\n      // Should show loading spinner\n      expect(screen.getByTestId('loading-spinner')).toBeInTheDocument();\n    });\n  });\n\n  describe('Tab Navigation', () => {\n    it('should switch between tabs', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      // Initially on General tab\n      expect(screen.getByPlaceholderText('Ingrese el nombre del producto')).toBeInTheDocument();\n\n      // Switch to Pricing tab\n      await user.click(screen.getByText('💰 Precios'));\n      expect(screen.getByTestId('pricing-section')).toBeInTheDocument();\n\n      // Switch to Inventory tab\n      await user.click(screen.getByText('📦 Inventario'));\n      expect(screen.getByTestId('inventory-section')).toBeInTheDocument();\n\n      // Switch to SEO tab\n      await user.click(screen.getByText('🔍 SEO'));\n      expect(screen.getByTestId('seo-section')).toBeInTheDocument();\n    });\n\n    it('should show images tab only in edit mode', () => {\n      const { rerender } = render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} mode=\"create\" />\n        </TestWrapper>\n      );\n\n      // Images tab should not show image manager in create mode\n      expect(screen.queryByTestId('image-manager')).not.toBeInTheDocument();\n\n      rerender(\n        <TestWrapper>\n          <ProductFormEnterprise\n            {...defaultProps}\n            mode=\"edit\"\n            productId=\"test-product-id\"\n          />\n        </TestWrapper>\n      );\n\n      // Switch to images tab in edit mode\n      fireEvent.click(screen.getByText('🖼️ Imágenes'));\n      expect(screen.getByTestId('image-manager')).toBeInTheDocument();\n    });\n  });\n\n  describe('Auto-save Functionality', () => {\n    beforeEach(() => {\n      jest.useFakeTimers();\n    });\n\n    afterEach(() => {\n      jest.useRealTimers();\n    });\n\n    it('should trigger auto-save in edit mode', async () => {\n      const user = userEvent.setup({ advanceTimers: jest.advanceTimersByTime });\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise\n            {...defaultProps}\n            mode=\"edit\"\n            productId=\"test-product-id\"\n            initialData={{ name: 'Initial Product' }}\n          />\n        </TestWrapper>\n      );\n\n      const nameInput = screen.getByDisplayValue('Initial Product');\n      await user.clear(nameInput);\n      await user.type(nameInput, 'Updated Product');\n\n      // Fast-forward 30 seconds\n      act(() => {\n        jest.advanceTimersByTime(30000);\n      });\n\n      await waitFor(() => {\n        expect(mockOnSubmit).toHaveBeenCalled();\n      });\n    });\n\n    it('should not auto-save in create mode', async () => {\n      const user = userEvent.setup({ advanceTimers: jest.advanceTimersByTime });\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} mode=\"create\" />\n        </TestWrapper>\n      );\n\n      const nameInput = screen.getByPlaceholderText('Ingrese el nombre del producto');\n      await user.type(nameInput, 'New Product');\n\n      // Fast-forward 30 seconds\n      act(() => {\n        jest.advanceTimersByTime(30000);\n      });\n\n      // Should not trigger auto-save in create mode\n      expect(mockOnSubmit).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('Form Submission', () => {\n    it('should submit form with valid data', async () => {\n      const user = userEvent.setup();\n\n      // Mock successful slug validation\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => ({ available: true }),\n      } as Response);\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      // Fill required fields\n      await user.type(screen.getByPlaceholderText('Ingrese el nombre del producto'), 'Test Product');\n      await user.selectOptions(screen.getByTestId('category-select'), 'category-1');\n\n      // Wait for slug validation\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalled();\n      });\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      await user.click(submitButton);\n\n      await waitFor(() => {\n        expect(mockOnSubmit).toHaveBeenCalledWith(\n          expect.objectContaining({\n            name: 'Test Product',\n            category_id: 'category-1',\n            slug: 'test-product',\n          })\n        );\n      });\n    });\n\n    it('should prevent submission with invalid slug', async () => {\n      const user = userEvent.setup();\n\n      // Mock slug validation failure\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => ({ available: false }),\n      } as Response);\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      await user.type(screen.getByPlaceholderText('Ingrese el nombre del producto'), 'Test Product');\n      await user.selectOptions(screen.getByTestId('category-select'), 'category-1');\n\n      // Wait for slug validation\n      await waitFor(() => {\n        expect(screen.getByText('Este slug ya está en uso')).toBeInTheDocument();\n      });\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      expect(submitButton).toBeDisabled();\n    });\n\n    it('should handle submission errors', async () => {\n      const user = userEvent.setup();\n      const { toast } = require('react-hot-toast');\n\n      mockOnSubmit.mockRejectedValue(new Error('Submission failed'));\n\n      // Mock successful slug validation\n      mockFetch.mockResolvedValue({\n        ok: true,\n        json: async () => ({ available: true }),\n      } as Response);\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      await user.type(screen.getByPlaceholderText('Ingrese el nombre del producto'), 'Test Product');\n      await user.selectOptions(screen.getByTestId('category-select'), 'category-1');\n\n      const submitButton = screen.getByRole('button', { name: /crear producto/i });\n      await user.click(submitButton);\n\n      await waitFor(() => {\n        expect(toast.error).toHaveBeenCalledWith('El slug debe ser único');\n      });\n    });\n  });\n\n  describe('Preview Mode', () => {\n    it('should toggle preview mode', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const previewButton = screen.getByRole('button', { name: /vista previa/i });\n      await user.click(previewButton);\n\n      expect(screen.getByRole('button', { name: /editar/i })).toBeInTheDocument();\n    });\n  });\n\n  describe('Cancel Functionality', () => {\n    it('should call onCancel when cancel button is clicked', async () => {\n      const user = userEvent.setup();\n\n      render(\n        <TestWrapper>\n          <ProductFormEnterprise {...defaultProps} />\n        </TestWrapper>\n      );\n\n      const cancelButton = screen.getByRole('button', { name: /cancelar/i });\n      await user.click(cancelButton);\n\n      expect(mockOnCancel).toHaveBeenCalled();\n    });\n  });\n});\n"],"names":["jest","mock","toast","success","fn","error","ProductImageManagerEnterprise","onChange","div","data-testid","button","onClick","url","ProductVariantManager","name","options","ProductPricing","ProductInventory","ProductSeo","CategorySelector","value","select","e","target","option","span","global","fetch","mockFetch","TestWrapper","children","queryClient","QueryClient","defaultOptions","queries","retry","mutations","QueryClientProvider","client","describe","mockOnSubmit","mockOnCancel","defaultProps","mode","onSubmit","onCancel","beforeEach","clearAllMocks","mockClear","it","render","ProductFormEnterprise","expect","screen","getByText","toBeInTheDocument","getByRole","productId","user","userEvent","setup","submitButton","click","waitFor","nameInput","getByPlaceholderText","type","repeat","slugInput","getByDisplayValue","mockResolvedValueOnce","ok","json","available","toHaveBeenCalledWith","method","headers","body","JSON","stringify","slug","mockImplementation","Promise","resolve","setTimeout","getByTestId","rerender","queryByTestId","not","fireEvent","useFakeTimers","afterEach","useRealTimers","advanceTimers","advanceTimersByTime","initialData","clear","act","toHaveBeenCalled","mockResolvedValue","selectOptions","objectContaining","category_id","toBeDisabled","require","mockRejectedValue","Error","previewButton","cancelButton"],"mappings":"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"}