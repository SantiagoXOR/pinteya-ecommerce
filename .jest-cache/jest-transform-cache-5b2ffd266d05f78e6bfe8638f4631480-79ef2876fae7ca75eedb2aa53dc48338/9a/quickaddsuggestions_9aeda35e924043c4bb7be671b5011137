7a0c2e3d4702a303f7fa18f23d3194bd
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _button = require("./button");
const _lucidereact = require("lucide-react");
const _utils = require("../../lib/utils");
const _products = require("../../lib/api/products");
const _productadapter = require("../../lib/adapters/product-adapter");
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
const _reactredux = require("react-redux");
const _cartslice = require("../../redux/features/cart-slice");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const QuickAddSuggestions = ({ onAddToCart, onClose, className })=>{
    const [products, setProducts] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const dispatch = (0, _reactredux.useDispatch)();
    (0, _react.useEffect)(()=>{
        const fetchPopularProducts = async ()=>{
            try {
                setLoading(true);
                setError(null);
                // Obtener productos con descuento (populares) limitados a 3
                const response = await (0, _products.getProducts)({
                    limit: 3,
                    sortBy: 'created_at',
                    sortOrder: 'desc'
                });
                if (response.success && response.data) {
                    setProducts(response.data);
                } else {
                    setError('No se pudieron cargar los productos');
                }
            } catch (err) {
                console.error('Error fetching popular products:', err);
                setError('Error al cargar productos populares');
            } finally{
                setLoading(false);
            }
        };
        fetchPopularProducts();
    }, []);
    const handleAddToCart = (productId)=>{
        // Buscar el producto en la lista
        const product = products.find((p)=>p.id.toString() === productId);
        if (product) {
            // Convertir el producto al formato esperado por el carrito
            const cartItem = {
                id: product.id,
                title: product.name,
                brand: product.brand || '',
                price: product.price,
                discountedPrice: product.discounted_price || product.price,
                imgs: {
                    thumbnails: product.images ? [
                        product.images[0]
                    ] : [],
                    previews: product.images || []
                },
                reviews: 0,
                quantity: 1
            };
            dispatch((0, _cartslice.addItemToCart)(cartItem));
        }
        // Llamar callback personalizado si existe
        if (onAddToCart) {
            onAddToCart(productId);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: (0, _utils.cn)("bg-white rounded-xl border border-gray-200 p-4", className),
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "flex items-center justify-between mb-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                            className: "font-bold text-gray-900 text-sm",
                            children: "Productos Populares"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xs text-gray-600",
                            children: "Agrega r\xe1pidamente a tu carrito"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "space-y-3",
                children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center justify-center py-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Loader2, {
                            className: "w-6 h-6 animate-spin text-gray-400"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            className: "ml-2 text-sm text-gray-500",
                            children: "Cargando productos..."
                        })
                    ]
                }) : error ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "text-center py-4",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-sm text-red-500",
                        children: error
                    })
                }) : products.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "text-center py-4",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-sm text-gray-500",
                        children: "No hay productos disponibles"
                    })
                }) : products.map((product)=>{
                    const currentPrice = product.discounted_price || product.price;
                    const originalPrice = product.discounted_price ? product.price : null;
                    const hasDiscount = originalPrice && currentPrice < originalPrice;
                    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "w-16 h-16 bg-gray-200 rounded-xl overflow-hidden flex-shrink-0 shadow-sm border border-gray-300",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                                    src: (0, _productadapter.getValidImageUrl)(product.images?.[0]),
                                    alt: product.name,
                                    width: 64,
                                    height: 64,
                                    className: "w-full h-full object-cover"
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex-1 min-w-0",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h5", {
                                        className: "font-semibold text-xs text-gray-900 line-clamp-1",
                                        children: product.name
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-2xs text-gray-500 mb-1",
                                        children: product.brand || 'Sin marca'
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                className: "font-bold text-sm",
                                                style: {
                                                    color: '#ea5a17'
                                                },
                                                children: [
                                                    "$",
                                                    currentPrice.toLocaleString()
                                                ]
                                            }),
                                            hasDiscount && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                className: "text-2xs text-gray-400 line-through",
                                                children: [
                                                    "$",
                                                    originalPrice.toLocaleString()
                                                ]
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "flex items-center gap-1 mt-1",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-2xs text-gray-600",
                                            children: product.category?.name || 'General'
                                        })
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                size: "sm",
                                onClick: ()=>handleAddToCart(product.id.toString()),
                                className: "h-10 w-10 p-0 bg-yellow-400 hover:bg-yellow-500 text-black rounded-xl shadow-md hover:shadow-lg transition-all duration-200",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Plus, {
                                    className: "w-5 h-5"
                                })
                            })
                        ]
                    }, product.id);
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "mt-4 pt-3 border-t border-gray-200",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                    variant: "ghost",
                    size: "sm",
                    onClick: onClose,
                    className: "w-full text-xs text-gray-600 hover:text-gray-900",
                    children: "Ver todos los productos →"
                })
            })
        ]
    });
};
const _default = QuickAddSuggestions;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWFydGlcXERlc2t0b3BcXERFU0FSUk9MTE9TV1xcQk9JTEVSUExBVFRFIEUtQ09NTUVSQ0VcXHNyY1xcY29tcG9uZW50c1xcdWlcXHF1aWNrLWFkZC1zdWdnZXN0aW9ucy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgUGx1cywgU3RhciwgTG9hZGVyMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRQcm9kdWN0cyB9IGZyb20gXCJAL2xpYi9hcGkvcHJvZHVjdHNcIjtcbmltcG9ydCB7IFByb2R1Y3RXaXRoQ2F0ZWdvcnkgfSBmcm9tIFwiQC90eXBlcy9hcGlcIjtcbmltcG9ydCB7IGdldFZhbGlkSW1hZ2VVcmwgfSBmcm9tIFwiQC9saWIvYWRhcHRlcnMvcHJvZHVjdC1hZGFwdGVyXCI7XG5pbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBBcHBEaXNwYXRjaCB9IGZyb20gXCJAL3JlZHV4L3N0b3JlXCI7XG5pbXBvcnQgeyBhZGRJdGVtVG9DYXJ0IH0gZnJvbSBcIkAvcmVkdXgvZmVhdHVyZXMvY2FydC1zbGljZVwiO1xuXG5pbnRlcmZhY2UgUXVpY2tBZGRTdWdnZXN0aW9uc1Byb3BzIHtcbiAgb25BZGRUb0NhcnQ/OiAocHJvZHVjdElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFF1aWNrQWRkU3VnZ2VzdGlvbnM6IFJlYWN0LkZDPFF1aWNrQWRkU3VnZ2VzdGlvbnNQcm9wcz4gPSAoe1xuICBvbkFkZFRvQ2FydCxcbiAgb25DbG9zZSxcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIGNvbnN0IFtwcm9kdWN0cywgc2V0UHJvZHVjdHNdID0gdXNlU3RhdGU8UHJvZHVjdFdpdGhDYXRlZ29yeVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoPEFwcERpc3BhdGNoPigpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hQb3B1bGFyUHJvZHVjdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICAvLyBPYnRlbmVyIHByb2R1Y3RvcyBjb24gZGVzY3VlbnRvIChwb3B1bGFyZXMpIGxpbWl0YWRvcyBhIDNcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQcm9kdWN0cyh7XG4gICAgICAgICAgbGltaXQ6IDMsXG4gICAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICAgICAgc29ydE9yZGVyOiAnZGVzYydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHNldFByb2R1Y3RzKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEVycm9yKCdObyBzZSBwdWRpZXJvbiBjYXJnYXIgbG9zIHByb2R1Y3RvcycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9wdWxhciBwcm9kdWN0czonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcignRXJyb3IgYWwgY2FyZ2FyIHByb2R1Y3RvcyBwb3B1bGFyZXMnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaFBvcHVsYXJQcm9kdWN0cygpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlQWRkVG9DYXJ0ID0gKHByb2R1Y3RJZDogc3RyaW5nKSA9PiB7XG4gICAgLy8gQnVzY2FyIGVsIHByb2R1Y3RvIGVuIGxhIGxpc3RhXG4gICAgY29uc3QgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQocCA9PiBwLmlkLnRvU3RyaW5nKCkgPT09IHByb2R1Y3RJZCk7XG5cbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgLy8gQ29udmVydGlyIGVsIHByb2R1Y3RvIGFsIGZvcm1hdG8gZXNwZXJhZG8gcG9yIGVsIGNhcnJpdG9cbiAgICAgIGNvbnN0IGNhcnRJdGVtID0ge1xuICAgICAgICBpZDogcHJvZHVjdC5pZCxcbiAgICAgICAgdGl0bGU6IHByb2R1Y3QubmFtZSxcbiAgICAgICAgYnJhbmQ6IHByb2R1Y3QuYnJhbmQgfHwgJycsXG4gICAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgICBkaXNjb3VudGVkUHJpY2U6IHByb2R1Y3QuZGlzY291bnRlZF9wcmljZSB8fCBwcm9kdWN0LnByaWNlLFxuICAgICAgICBpbWdzOiB7XG4gICAgICAgICAgdGh1bWJuYWlsczogcHJvZHVjdC5pbWFnZXMgPyBbcHJvZHVjdC5pbWFnZXNbMF1dIDogW10sXG4gICAgICAgICAgcHJldmlld3M6IHByb2R1Y3QuaW1hZ2VzIHx8IFtdXG4gICAgICAgIH0sXG4gICAgICAgIHJldmlld3M6IDAsIC8vIE5vIHRlbmVtb3MgcmV2aWV3cyBlbiBsYSBBUEkgYWN0dWFsXG4gICAgICAgIHF1YW50aXR5OiAxXG4gICAgICB9O1xuXG4gICAgICBkaXNwYXRjaChhZGRJdGVtVG9DYXJ0KGNhcnRJdGVtKSk7XG4gICAgfVxuXG4gICAgLy8gTGxhbWFyIGNhbGxiYWNrIHBlcnNvbmFsaXphZG8gc2kgZXhpc3RlXG4gICAgaWYgKG9uQWRkVG9DYXJ0KSB7XG4gICAgICBvbkFkZFRvQ2FydChwcm9kdWN0SWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcImJnLXdoaXRlIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTRcIiwgY2xhc3NOYW1lKX0+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmF5LTkwMCB0ZXh0LXNtXCI+UHJvZHVjdG9zIFBvcHVsYXJlczwvaDQ+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+QWdyZWdhIHLDoXBpZGFtZW50ZSBhIHR1IGNhcnJpdG88L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBMaXN0YSBkZSBwcm9kdWN0b3MgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNiBoLTYgYW5pbWF0ZS1zcGluIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5DYXJnYW5kbyBwcm9kdWN0b3MuLi48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBlcnJvciA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNTAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IHByb2R1Y3RzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPk5vIGhheSBwcm9kdWN0b3MgZGlzcG9uaWJsZXM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgcHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBwcm9kdWN0LmRpc2NvdW50ZWRfcHJpY2UgfHwgcHJvZHVjdC5wcmljZTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSBwcm9kdWN0LmRpc2NvdW50ZWRfcHJpY2UgPyBwcm9kdWN0LnByaWNlIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0Rpc2NvdW50ID0gb3JpZ2luYWxQcmljZSAmJiBjdXJyZW50UHJpY2UgPCBvcmlnaW5hbFByaWNlO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtwcm9kdWN0LmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHAtMyBiZy1ncmF5LTUwIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsvKiBJbWFnZW4gZGVsIHByb2R1Y3RvICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWdyYXktMjAwIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuIGZsZXgtc2hyaW5rLTAgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICBzcmM9e2dldFZhbGlkSW1hZ2VVcmwocHJvZHVjdC5pbWFnZXM/LlswXSl9XG4gICAgICAgICAgICAgICAgICAgIGFsdD17cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17NjR9XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17NjR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogSW5mbyBkZWwgcHJvZHVjdG8gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14cyB0ZXh0LWdyYXktOTAwIGxpbmUtY2xhbXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICB7cHJvZHVjdC5uYW1lfVxuICAgICAgICAgICAgICAgICAgPC9oNT5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhzIHRleHQtZ3JheS01MDAgbWItMVwiPntwcm9kdWN0LmJyYW5kIHx8ICdTaW4gbWFyY2EnfTwvcD5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbVwiIHN0eWxlPXt7IGNvbG9yOiAnI2VhNWExNycgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgJHtjdXJyZW50UHJpY2UudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aGFzRGlzY291bnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhzIHRleHQtZ3JheS00MDAgbGluZS10aHJvdWdoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke29yaWdpbmFsUHJpY2UhLnRvTG9jYWxlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBDYXRlZ29yw61hICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhzIHRleHQtZ3JheS02MDBcIj57cHJvZHVjdC5jYXRlZ29yeT8ubmFtZSB8fCAnR2VuZXJhbCd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQm90w7NuIGFncmVnYXIgKi99XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFkZFRvQ2FydChwcm9kdWN0LmlkLnRvU3RyaW5nKCkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMCB3LTEwIHAtMCBiZy15ZWxsb3ctNDAwIGhvdmVyOmJnLXllbGxvdy01MDAgdGV4dC1ibGFjayByb3VuZGVkLXhsIHNoYWRvdy1tZCBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEZvb3RlciBjb24gZW5sYWNlIGEgdmVyIG3DoXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LXhzIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTkwMFwiXG4gICAgICAgID5cbiAgICAgICAgICBWZXIgdG9kb3MgbG9zIHByb2R1Y3RvcyDihpJcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFF1aWNrQWRkU3VnZ2VzdGlvbnM7XG4iXSwibmFtZXMiOlsiUXVpY2tBZGRTdWdnZXN0aW9ucyIsIm9uQWRkVG9DYXJ0Iiwib25DbG9zZSIsImNsYXNzTmFtZSIsInByb2R1Y3RzIiwic2V0UHJvZHVjdHMiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJ1c2VFZmZlY3QiLCJmZXRjaFBvcHVsYXJQcm9kdWN0cyIsInJlc3BvbnNlIiwiZ2V0UHJvZHVjdHMiLCJsaW1pdCIsInNvcnRCeSIsInNvcnRPcmRlciIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsImhhbmRsZUFkZFRvQ2FydCIsInByb2R1Y3RJZCIsInByb2R1Y3QiLCJmaW5kIiwicCIsImlkIiwidG9TdHJpbmciLCJjYXJ0SXRlbSIsInRpdGxlIiwibmFtZSIsImJyYW5kIiwicHJpY2UiLCJkaXNjb3VudGVkUHJpY2UiLCJkaXNjb3VudGVkX3ByaWNlIiwiaW1ncyIsInRodW1ibmFpbHMiLCJpbWFnZXMiLCJwcmV2aWV3cyIsInJldmlld3MiLCJxdWFudGl0eSIsImFkZEl0ZW1Ub0NhcnQiLCJkaXYiLCJjbiIsImg0IiwiTG9hZGVyMiIsInNwYW4iLCJsZW5ndGgiLCJtYXAiLCJjdXJyZW50UHJpY2UiLCJvcmlnaW5hbFByaWNlIiwiaGFzRGlzY291bnQiLCJJbWFnZSIsInNyYyIsImdldFZhbGlkSW1hZ2VVcmwiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImg1Iiwic3R5bGUiLCJjb2xvciIsInRvTG9jYWxlU3RyaW5nIiwiY2F0ZWdvcnkiLCJCdXR0b24iLCJzaXplIiwib25DbGljayIsIlBsdXMiLCJ2YXJpYW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBNExBOzs7ZUFBQTs7OzsrREExTDJDO3dCQUNwQjs2QkFDYTt1QkFDakI7MEJBQ1M7Z0NBRUs7OERBQ2Y7NEJBQ1U7MkJBRUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTlCLE1BQU1BLHNCQUEwRCxDQUFDLEVBQy9EQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsU0FBUyxFQUNWO0lBQ0MsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdDLElBQUFBLGVBQVEsRUFBd0IsRUFBRTtJQUNsRSxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR0YsSUFBQUEsZUFBUSxFQUFDO0lBQ3ZDLE1BQU0s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