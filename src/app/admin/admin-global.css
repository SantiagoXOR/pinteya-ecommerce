/**
 * Estilos globales específicos para el panel admin
 * Previene double scroll forzando que solo el contenido haga scroll
 * CRÍTICO: Estos estilos deben sobrescribir los estilos inline del layout.tsx
 */

/* Header del admin en blanco (sobrescribe --tenant-header-bg del tenant) */
[data-admin-layout] header,
body:has([data-admin-layout]) [data-admin-layout] header {
  background-color: #ffffff !important;
}

/* Título de bienvenida del admin usa el color primario del tenant */
.admin-welcome-title {
  color: var(--tenant-primary) !important;
}

/* Prevenir scroll en el body cuando estamos en admin - Mayor especificidad */
html:has(body [data-admin-layout]),
body:has([data-admin-layout]) {
  overflow: hidden !important;
  height: 100vh !important;
  width: 100vw !important;
  margin: 0 !important;
  padding: 0 !important;
  padding-top: 0 !important;
}

/* Asegurar que el contenedor raíz no tenga scroll - Mayor especificidad */
#__next:has([data-admin-layout]) {
  height: 100vh !important;
  overflow: hidden !important;
  overflow-y: hidden !important;
  overflow-x: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Eliminar cualquier margen/padding del body en admin */
body [data-admin-layout] {
  margin: 0 !important;
  padding: 0 !important;
}

/* CRÍTICO: Permitir scroll SOLO en el main del admin - Mayor especificidad que estilos inline */
/* Usar múltiples selectores para máxima especificidad */
[data-admin-layout] main,
[data-admin-main],
body:has([data-admin-layout]) main,
#__next:has([data-admin-layout]) main,
html:has([data-admin-layout]) body main,
html:has(body [data-admin-layout]) main,
body:has([data-admin-layout]) [data-admin-main],
#__next:has([data-admin-layout]) [data-admin-main] {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  min-height: 0 !important;
  max-height: 100% !important;
  position: relative !important;
  height: auto !important;
}

/* Fallback para navegadores que no soportan :has() */
[data-admin-layout] {
  height: 100vh !important;
  overflow: hidden !important;
}

/* Scrollbar horizontal siempre visible para tablas de productos */
.products-table-scroll {
  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 #f1f5f9;
  
  /* Forzar scrollbar siempre visible */
  overflow-x: scroll !important;
  overflow-y: auto;
}

.products-table-scroll::-webkit-scrollbar {
  height: 10px;
  background: #f1f5f9;
}

.products-table-scroll::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 5px;
}

.products-table-scroll::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 5px;
  border: 2px solid #f1f5f9;
}

.products-table-scroll::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}
